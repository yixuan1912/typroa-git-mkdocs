{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"Home","text":"<ul> <li>\u4e3b\u8981\u7279\u6027</li> <li>Heading 1<ul> <li>Heading 2<ul> <li>Heading 3</li> </ul> </li> </ul> </li> <li>Heading 5<ul> <li>Heading 6</li> </ul> </li> <li>Heading 1 link Heading link<ul> <li>Heading 2 link Heading link<ul> <li>Heading 3 link Heading link</li> </ul> </li> </ul> </li> <li>Heading 5 link Heading link<ul> <li>Heading 6 link Heading link</li> </ul> </li> <li>This is an H1<ul> <li>This is an H2<ul> <li>\u5b57\u7b26\u6548\u679c\u548c\u6a2a\u7ebf\u7b49</li> <li>\u5f15\u7528 Blockquotes</li> <li>\u951a\u70b9\u4e0e\u94fe\u63a5 Links</li> <li>\u591a\u8bed\u8a00\u4ee3\u7801\u9ad8\u4eae Codes</li> <li>\u56fe\u7247 Images</li> </ul> </li> </ul> </li> <li>\u56fe\u7247\u7c7b<ul> <li>\u5217\u8868 Lists</li> <li>\u7ed8\u5236\u8868\u683c Tables</li> <li>\u79d1\u5b66\u516c\u5f0f TeX(KaTeX)</li> <li>\u7ed8\u5236\u6d41\u7a0b\u56fe Flowchart</li> </ul> </li> <li>End</li> </ul>"},{"location":"#_1","title":"\u4e3b\u8981\u7279\u6027","text":"<ul> <li>\u652f\u6301\u201c\u6807\u51c6\u201dMarkdown / CommonMark\u548cGithub\u98ce\u683c\u7684\u8bed\u6cd5\uff1b</li> <li>\u652f\u6301\u5b9e\u65f6\u9884\u89c8\u3001\u56fe\u7247\uff08\u8de8\u57df\uff09\u4e0a\u4f20\u3001\u9884\u683c\u5f0f\u6587\u672c/\u4ee3\u7801/\u8868\u683c\u63d2\u5165\u3001\u4ee3\u7801\u6298\u53e0\u3001\u641c\u7d22\u66ff\u6362\u3001\u53ea\u8bfb\u6a21\u5f0f\u3001\u81ea\u5b9a\u4e49\u6837\u5f0f\u4e3b\u9898\u548c\u591a\u8bed\u8a00\u8bed\u6cd5\u9ad8\u4eae\u7b49\u529f\u80fd\uff1b</li> <li>\u652f\u6301ToC\uff08Table of Contents\uff09\u3001Task lists\u3001@\u94fe\u63a5\u7b49Markdown\u6269\u5c55\u8bed\u6cd5\uff1b</li> <li>\u652f\u6301TeX\u79d1\u5b66\u516c\u5f0f\uff08\u57fa\u4e8eKaTeX\uff09\u3001\u6d41\u7a0b\u56fe Flowchart \u548c \u65f6\u5e8f\u56fe Sequence Diagram;</li> <li>\u517c\u5bb9\u4e3b\u6d41\u7684\u6d4f\u89c8\u5668\uff08IE8+\uff09\u548cZepto.js\uff0c\u4e14\u652f\u6301iPad\u7b49\u5e73\u677f\u8bbe\u5907\uff1b</li> </ul>"},{"location":"#heading-1","title":"Heading 1","text":""},{"location":"#heading-2","title":"Heading 2","text":""},{"location":"#heading-3","title":"Heading 3","text":"<p>Heading 4</p>"},{"location":"#heading-5","title":"Heading 5","text":""},{"location":"#heading-6","title":"Heading 6","text":""},{"location":"#heading-1-link-heading-link","title":"Heading 1 link Heading link","text":""},{"location":"#heading-2-link-heading-link","title":"Heading 2 link Heading link","text":""},{"location":"#heading-3-link-heading-link","title":"Heading 3 link Heading link","text":"<p>Heading 4 link Heading link Heading link Heading link</p>"},{"location":"#heading-5-link-heading-link","title":"Heading 5 link Heading link","text":""},{"location":"#heading-6-link-heading-link","title":"Heading 6 link Heading link","text":"<p>\u6807\u9898\uff08\u7528\u5e95\u7ebf\u7684\u5f62\u5f0f\uff09Heading (underline)</p>"},{"location":"#this-is-an-h1","title":"This is an H1","text":""},{"location":"#this-is-an-h2","title":"This is an H2","text":""},{"location":"#_2","title":"\u5b57\u7b26\u6548\u679c\u548c\u6a2a\u7ebf\u7b49","text":"<p>\u5220\u9664\u7ebf &lt;s&amp;\u5220\u9664\u7ebf\uff08\u5f00\u542f\u8bc6\u522bHTML\u6807\u7b7e\u65f6\uff09&lt;/s&amp; \u659c\u4f53\u5b57 \u659c\u4f53\u5b57 \u7c97\u4f53 \u7c97\u4f53 \u7c97\u659c\u4f53 \u7c97\u659c\u4f53</p> <p>\u4e0a\u6807\uff1aX&lt;sub&amp;2&lt;/sub&amp;\uff0c\u4e0b\u6807\uff1aO&lt;sup&amp;2&lt;/sup&amp;</p> <p>\u7f29\u5199(\u540cHTML\u7684abbr\u6807\u7b7e)</p> <p>&amp; \u5373\u66f4\u957f\u7684\u5355\u8bcd\u6216\u77ed\u8bed\u7684\u7f29\u5199\u5f62\u5f0f\uff0c\u524d\u63d0\u662f\u5f00\u542f\u8bc6\u522bHTML\u6807\u7b7e\u65f6\uff0c\u5df2\u9ed8\u8ba4\u5f00\u542f</p> <p>The &lt;abbr title=\"Hyper Text Markup Language\"&amp;HTML&lt;/abbr&amp; specification is maintained by the &lt;abbr title=\"World Wide Web Consortium\"&amp;W3C&lt;/abbr&amp;.</p>"},{"location":"#blockquotes","title":"\u5f15\u7528 Blockquotes","text":"<p>&amp; \u5f15\u7528\u6587\u672c Blockquotes</p> <p>\u5f15\u7528\u7684\u884c\u5185\u6df7\u5408 Blockquotes</p> <p>&amp; \u5f15\u7528\uff1a\u5982\u679c\u60f3\u8981\u63d2\u5165\u7a7a\u767d\u6362\u884c<code>\u5373&lt;br /&amp;\u6807\u7b7e</code>\uff0c\u5728\u63d2\u5165\u5904\u5148\u952e\u5165\u4e24\u4e2a\u4ee5\u4e0a\u7684\u7a7a\u683c\u7136\u540e\u56de\u8f66\u5373\u53ef\uff0c\u666e\u901a\u94fe\u63a5\u3002</p>"},{"location":"#links","title":"\u951a\u70b9\u4e0e\u94fe\u63a5 Links","text":"<p>\u666e\u901a\u94fe\u63a5</p> <p>\u666e\u901a\u94fe\u63a5\u5e26\u6807\u9898</p> <p>\u76f4\u63a5\u94fe\u63a5\uff1a&lt;https://github.com&amp;</p> <p>\u951a\u70b9\u94fe\u63a5 </p> <p>GFM a-tail link @pandao</p> <p>&amp; @pandao</p>"},{"location":"#codes","title":"\u591a\u8bed\u8a00\u4ee3\u7801\u9ad8\u4eae Codes","text":"<p>\u884c\u5185\u4ee3\u7801 Inline code</p> <p>\u6267\u884c\u547d\u4ee4\uff1a<code>npm install marked</code></p> <p>\u7f29\u8fdb\u98ce\u683c</p> <p>\u5373\u7f29\u8fdb\u56db\u4e2a\u7a7a\u683c\uff0c\u4e5f\u505a\u4e3a\u5b9e\u73b0\u7c7b\u4f3c<code>&lt;pre&amp;</code>\u9884\u683c\u5f0f\u5316\u6587\u672c(Preformatted Text)\u7684\u529f\u80fd\u3002</p> <pre><code>&lt;?php\n    echo \"Hello world!\";\n?&amp;\n</code></pre> <p>\u9884\u683c\u5f0f\u5316\u6587\u672c\uff1a</p> <pre><code>| First Header  | Second Header |\n| ------------- | ------------- |\n| Content Cell  | Content Cell  |\n| Content Cell  | Content Cell  |\n</code></pre> <p>JS\u4ee3\u7801\u3000</p> <pre><code>function test(){\n    console.log(\"Hello world!\");\n}\n\n(function(){\n    var box = function(){\n        return box.fn.init();\n    };\n\n    box.prototype = box.fn = {\n        init : function(){\n            console.log('box.init()');\n\n            return this;\n        },\n\n        add : function(str){\n            alert(\"add\", str);\n\n            return this;\n        },\n\n        remove : function(str){\n            alert(\"remove\", str);\n\n            return this;\n        }\n    };\n\n    box.fn.init.prototype = box.fn;\n\n    window.box =box;\n})();\n\nvar testBox = box();\ntestBox.add(\"jQuery\").remove(\"jQuery\");\n</code></pre> <p>HTML\u4ee3\u7801 HTML codes</p> <pre><code>&lt;!DOCTYPE html&amp;\n&lt;html&amp;\n    &lt;head&amp;\n        &lt;mate charest=\"utf-8\" /&amp;\n        &lt;title&amp;Hello world!&lt;/title&amp;\n    &lt;/head&amp;\n    &lt;body&amp;\n        &lt;h1&amp;Hello world!&lt;/h1&amp;\n    &lt;/body&amp;\n&lt;/html&amp;\n</code></pre>"},{"location":"#images","title":"\u56fe\u7247 Images","text":""},{"location":"#_3","title":"\u56fe\u7247\u7c7b","text":"<p>\u56fe\u7247\u5c5e\u6027\u8bbe\u7f6e\uff0c  \u4f4d\u7f6e\u8bbe\u7f6e\uff0c\u5c45\u4e2d\u5c45\u5de6\u7b49\uff1b\u5927\u5c0f\u8bbe\u7f6e</p> <ul> <li>html\u65b9\u5f0f</li> </ul> <p>\u53ef\u4ee5\u6dfb\u52a0\u5c5e\u6027 width=240  height=140   width=100%    style=\"zoom:50%;\"</p> <pre><code>&lt;div align=left&gt;\n&lt;img src=https://img-blog.csdnimg.cn/20200822014538211.png style=\"zoom:70%;\" /&gt;\n&lt;/div&gt;\n</code></pre> <ul> <li>md \u65b9\u5f0f</li> </ul> <pre><code>![\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0](https://img-blog.csdnimg.cn/20200822014538211.png#pic_center)\n</code></pre> <p>Image:</p> <p></p> <p>&amp; Follow your heart.</p> <p></p> <p>&amp; \u56fe\u4e3a\uff1a\u53a6\u95e8\u767d\u57ce\u6c99\u6ee9</p> <p>\u56fe\u7247\u52a0\u94fe\u63a5 (Image + Link)\uff1a</p> <p></p> <p>&amp; \u56fe\u4e3a\uff1a\u674e\u5065\u9996\u5f20\u4e13\u8f91\u300a\u4f3c\u6c34\u6d41\u5e74\u300b\u5c01\u9762</p>"},{"location":"#lists","title":"\u5217\u8868 Lists","text":"<p>\u65e0\u5e8f\u5217\u8868\uff08\u51cf\u53f7\uff09Unordered Lists (-)</p> <ul> <li>\u5217\u8868\u4e00</li> <li>\u5217\u8868\u4e8c</li> <li>\u5217\u8868\u4e09</li> </ul> <p>\u65e0\u5e8f\u5217\u8868\uff08\u661f\u53f7\uff09Unordered Lists (*)</p> <ul> <li>\u5217\u8868\u4e00</li> <li>\u5217\u8868\u4e8c</li> <li>\u5217\u8868\u4e09</li> </ul> <p>\u65e0\u5e8f\u5217\u8868\uff08\u52a0\u53f7\u548c\u5d4c\u5957\uff09Unordered Lists (+)</p> <ul> <li>\u5217\u8868\u4e00</li> <li>\u5217\u8868\u4e8c</li> <li>\u5217\u8868\u4e8c-1</li> <li>\u5217\u8868\u4e8c-2</li> <li>\u5217\u8868\u4e8c-3</li> <li>\u5217\u8868\u4e09</li> <li>\u5217\u8868\u4e00</li> <li>\u5217\u8868\u4e8c</li> <li>\u5217\u8868\u4e09</li> </ul> <p>\u6709\u5e8f\u5217\u8868 Ordered Lists (-)</p> <ol> <li>\u7b2c\u4e00\u884c</li> <li>\u7b2c\u4e8c\u884c</li> <li>\u7b2c\u4e09\u884c</li> </ol> <p>GFM task list</p> <ul> <li> GFM task list 1</li> <li> GFM task list 2</li> <li> GFM task list 3</li> <li> GFM task list 3-1</li> <li> GFM task list 3-2</li> <li> GFM task list 3-3</li> <li> GFM task list 4</li> <li> GFM task list 4-1</li> <li> GFM task list 4-2</li> </ul>"},{"location":"#tables","title":"\u7ed8\u5236\u8868\u683c Tables","text":"\u9879\u76ee \u4ef7\u683c \u6570\u91cf \u8ba1\u7b97\u673a $1600 5 \u624b\u673a $12 12 \u7ba1\u7ebf $1 234 First Header Second Header Content Cell Content Cell Content Cell Content Cell First Header Second Header Content Cell Content Cell Content Cell Content Cell Function name Description <code>help()</code> Display the help window. <code>destroy()</code> Destroy your computer! Left-Aligned Center Aligned Right Aligned col 3 is some wordy text $1600 col 2 is centered $12 zebra stripes are neat $1 Item Value Computer $1600 Phone $12 Pipe $1 <p>\u7279\u6b8a\u7b26\u53f7 HTML Entities Codes</p> <p>\u00a9 &amp;  \u00a8 \u2122 \u00a1 \u00a3 &amp; &lt; &gt; \u00a5 \u20ac \u00ae \u00b1 \u00b6 \u00a7 \u00a6 \u00af \u00ab \u00b7 </p> <p>X\u00b2 Y\u00b3 \u00be \u00bc  \u00d7  \u00f7   \u00bb</p> <p>18\u00baC  \"  '</p> <p>\u53cd\u659c\u6760 Escape</p> <p>*literal asterisks*</p>"},{"location":"#texkatex","title":"\u79d1\u5b66\u516c\u5f0f TeX(KaTeX)","text":"\\[E=mc^2\\] <p>\u884c\u5185\u7684\u516c\u5f0f\\(\\(E=mc^2\\)\\)\u884c\u5185\u7684\u516c\u5f0f\uff0c\u884c\u5185\u7684\\(\\(E=mc^2\\)\\)\u516c\u5f0f\u3002</p> \\[\\(\\sqrt{3x-1}+(1+x)^2\\)\\] \\[\\sin(\\alpha)^{\\theta}=\\sum_{i=0}^{n}(x^i + \\cos(f))\\] <p>\u591a\u884c\u516c\u5f0f\uff1a</p> <pre><code>\\displaystyle\n\\left( \\sum\\_{k=1}^n a\\_k b\\_k \\right)^2\n\\leq\n\\left( \\sum\\_{k=1}^n a\\_k^2 \\right)\n\\left( \\sum\\_{k=1}^n b\\_k^2 \\right)\n</code></pre> <pre><code>\\displaystyle \n    \\frac{1}{\n        \\Bigl(\\sqrt{\\phi \\sqrt{5}}-\\phi\\Bigr) e^{\n        \\frac25 \\pi}} = 1+\\frac{e^{-2\\pi}} {1+\\frac{e^{-4\\pi}} {\n        1+\\frac{e^{-6\\pi}}\n        {1+\\frac{e^{-8\\pi}}\n         {1+\\cdots} }\n        } \n    }\n</code></pre> <pre><code>f(x) = \\int_{-\\infty}^\\infty\n    \\hat f(\\xi)\\,e^{2 \\pi i \\xi x}\n    \\,d\\xi\n</code></pre>"},{"location":"#flowchart","title":"\u7ed8\u5236\u6d41\u7a0b\u56fe Flowchart","text":"<pre><code>st=&gt;start: \u7528\u6237\u767b\u9646\nop=&gt;operation: \u767b\u9646\u64cd\u4f5c\ncond=&gt;condition: \u767b\u9646\u6210\u529f Yes or No?\ne=&gt;end: \u8fdb\u5165\u540e\u53f0\n\nst-&gt;op-&gt;cond\ncond(yes)-&gt;e\ncond(no)-&gt;op\n</code></pre>"},{"location":"#end","title":"End","text":""},{"location":"Blog/","title":"blog","text":""},{"location":"C%2B%2B/first/","title":"First","text":""},{"location":"C%2B%2B/first/#_1","title":"\u5173\u952e\u5b57","text":""},{"location":"C%2B%2B/first/#_2","title":"\u6570\u636e\u7c7b\u578b","text":""},{"location":"C%2B%2B/first/#c","title":"C++\u6838\u5fc3\u7f16\u7a0b","text":""},{"location":"C%2B%2B/first/#1","title":"1 \u5185\u5b58\u5206\u533a\u6a21\u578b","text":"<p>C\uff0b+\u7a0b\u5e8f\u5728\u6267\u884c\u65f6\uff0c\u5c06\u5185\u5b58\u5927\u65b9\u5411\u5212\u5206\u4e3a4\u4e2a\u533a\u57df</p> <ul> <li>\u4ee3\u7801\u533a: \u5b58\u653e\u51fd\u6570\u4f53\u7684\u4e8c\u8fdb\u5236\u4ee3\u7801\uff0c\u7531\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u884c\u7ba1\u7406\u7684</li> <li>\u5168\u5c40\u533a:\u5b58\u653e\u5168\u5c40\u53d8\u91cf\u548c\u9759\u6001\u53d8\u91cf\u4ee5\u53ca\u5e38\u91cf</li> <li>\u6808\u533a:\u7531\u7f16\u8bd1\u5668\u81ea\u52a8\u5206\u914d\u91ca\u653e,\u5b58\u653e\u51fd\u6570\u7684\u53c2\u6570\u503c,\u5c40\u90e8\u53d8\u91cf\u7b49</li> <li>\u5806\u533a:\u7531\u7a0b\u5e8f\u5458\u5206\u914d\u548c\u91ca\u653e,\u82e5\u7a0b\u5e8f\u5458\u4e0d\u91ca\u653e,\u7a0b\u5e8f\u7ed3\u675f\u65f6\u7531\u64cd\u4f5c\u7cfb\u7edf\u56de\u6536</li> </ul> <p>\u5185\u5b58\u56db\u533a\u610f\u4e49:</p> <p>\u200b   \u4e0d\u540c\u533a\u57df\u5b58\u653e\u7684\u6570\u636e\uff0c\u8d4b\u4e88\u4e0d\u540c\u7684\u751f\u547d\u5468\u671f,\u7ed9\u6211\u4eec\u66f4\u5927\u7684\u7075\u6d3b\u7f16\u7a0b</p>"},{"location":"C%2B%2B/first/#11","title":"1.1\u7a0b\u5e8f\u8fd0\u884c\u524d","text":""},{"location":"C%2B%2B/first/#12","title":"1.2 \u7a0b\u5e8f\u8fd0\u884c\u540e","text":""},{"location":"C%2B%2B/first/#2","title":"2 \u5f15\u7528","text":""},{"location":"C%2B%2B/first/#3","title":"3 \u51fd\u6570\u63d0\u9ad8","text":""},{"location":"C%2B%2B/first/#4","title":"4 \u7c7b\u548c\u5bf9\u8c61","text":""},{"location":"C%2B%2B/first/#5","title":"5 \u6587\u4ef6\u64cd\u4f5c","text":""},{"location":"Hadoop/00-main/","title":"\u6570\u636e\u5e93\u8303\u5f0f\u5efa\u6a21","text":"<ul> <li>\u661f\u5f62\u6a21\u578b</li> </ul> <ul> <li>\u96ea\u82b1\u6a21\u578b</li> </ul>"},{"location":"Hadoop/00-main/#_2","title":"\u6570\u4ed3\u5206\u5c42\u8bbe\u8ba1","text":""},{"location":"Hadoop/00-main/#hadoop","title":"Hadoop\u4e09\u5927\u7ec4\u4ef6\uff1a","text":"<ol> <li> <p>HDFS</p> </li> <li> <p>\u4e3b\u4ece\u67b6\u6784\uff1a</p> </li> <li> <p>\u5206\u5e03\u5f0f\u6587\u4ef6\u5b58\u50a8\u7cfb\u7edf\uff0c\u53ef\u4ee5\u901a\u8fc7\u7f51\u7edc\u8bbf\u95ee\u6587\u4ef6\uff0c\u8bbe\u7f6e\u6587\u4ef6\u5907\u4efd\u6570\u91cf\uff0c\u7f3a\u70b9\uff1a\u5360\u7528\u5b58\u50a8\u8f83\u5927</p> </li> <li> <p>MapReduce</p> </li> <li> <p>\u662fHadoop\u4e2d\u7684\u5206\u5e03\u5f0f\u8ba1\u7b97\u7ec4\u4ef6</p> </li> <li> <p>\u5206\u4e3aMap\u548cReduce\u63a5\u53e3\uff0cMap\uff1a\u4e3b\u8981\u63d0\u4f9b\u6570\u636e\u7684\u5e76\u884c\u8ba1\u7b97\uff0cReduce\uff1a\u4e3b\u8981\u63d0\u4f9b\u6570\u636e\u7684\u805a\u5408\uff0c\u6c47\u603b\u5f97\u5230\u7ed3\u679c\u3002</p> </li> <li> <p>\u8fd0\u884c\u673a\u5236\uff1a\u5c06\u6267\u884c\u7684\u4efb\u52a1\u5206\u4e3a\u591a\u4e2a Map \u4efb\u52a1\u548c Reduce \u4efb\u52a1\uff0c\u7136\u540e\u5c06\u4ed6\u4eec\u5206\u914d\u5230\u5bf9\u5e94\u7684\u673a\u5668\u4e0a\u53bb\u6267\u884c\u3002</p> </li> <li> <p>MapReduce\u57fa\u4e8eyarn\u8fd0\u884c</p> </li> <li> <p>Yarn</p> </li> <li> <p>\u4e3b\u4ece\u67b6\u6784\uff1a</p> </li> <li> <p>\u4f5c\u7528\uff1a\u96c6\u7fa4\u7684\u8d44\u6e90\u8c03\u5ea6</p> </li> <li>\u901a\u8fc7\u521b\u5efa\u5bb9\u5668\u6765\u5360\u7528\u8d44\u6e90\uff0c\u8ba9\u5e94\u7528\u8fd0\u884c\u5728\u5bb9\u5668\u5185</li> <li>\u8f85\u52a9\u89d2\u8272\uff1a<ul> <li>\u4ee3\u7406\u670d\u52a1\u5668\uff08ProxyServer\uff09\uff1a\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7406\uff0cYarn\u5728\u516c\u7f51\u8fd0\u884c\u65f6\uff0c\u53ef\u80fd\u4f1a\u88ab\u7f51\u7edc\u5de5\u5177\uff0c\u5f00\u542f\u540e\u53ef\u4ee5\u63d0\u9ad8\u5b89\u5168\u6027</li> <li>\u5386\u53f2\u670d\u52a1\u5668\uff08JobHistoryServer\uff09\uff1a\u8bb0\u5f55Yarn\u8fd0\u884c\u8fc7\u7684\u5e94\u7528\u7a0b\u5e8f\u5386\u53f2\u4fe1\u606f\u8bb0\u5f55</li> </ul> </li> </ol>"},{"location":"Hadoop/00-main/#1-hadoop","title":"1. Hadoop\u547d\u4ee4\u8bb0\u5f55","text":""},{"location":"Hadoop/00-main/#11-hadoop","title":"1.1 Hadoop\u7cfb\u7edf\u57fa\u7840\u547d\u4ee4","text":"<ul> <li>\u542f\u52a8\u7cfb\u7edf\u5168\u90e8\u7684\u8f6f\u4ef6</li> </ul> <pre><code>[root@node1 ~]# start-all.sh \nStarting namenodes on [node1]\n\u4e0a\u4e00\u6b21\u767b\u5f55\uff1a\u4e09 6\u6708 14 10:14:32 CST 2023\u4ece 10.10.10.1pts/0 \u4e0a\nStarting datanodes\n\u4e0a\u4e00\u6b21\u767b\u5f55\uff1a\u4e09 6\u6708 14 10:14:50 CST 2023pts/0 \u4e0a\nStarting secondary namenodes [node2]\n\u4e0a\u4e00\u6b21\u767b\u5f55\uff1a\u4e09 6\u6708 14 10:14:53 CST 2023pts/0 \u4e0a\nStarting resourcemanager\n\u4e0a\u4e00\u6b21\u767b\u5f55\uff1a\u4e09 6\u6708 14 10:14:56 CST 2023pts/0 \u4e0a\nStarting nodemanagers\n\u4e0a\u4e00\u6b21\u767b\u5f55\uff1a\u4e09 6\u6708 14 10:14:59 CST 2023pts/0 \u4e0a\n</code></pre> <ul> <li>hdfs</li> </ul> <pre><code># \u663e\u793ahdfs\u6587\u4ef6\u7cfb\u7edf\u7684\u6839\u76ee\u5f55\n[root@node1 ~]# hadoop fs -ls /\nFound 3 items\ndrwxr-xr-x   - root supergroup          0 2023-06-08 22:55 /Temp\ndrwx------   - root supergroup          0 2023-06-08 23:00 /tmp\ndrwxr-xr-x   - root supergroup          0 2023-06-08 23:00 /user\n\n# \u521b\u5efa\u6587\u4ef6\n[root@node1 ~]# hadoop fs -mkdir -p /T/t.sh\n[root@node1 ~]# hadoop fs -ls /T\nFound 1 items\ndrwxr-xr-x   - root supergroup          0 2023-06-14 10:16 /T/t.sh\n\n# \u663e\u793a\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\n[root@node1 ~]# hadoop fs -ls file:///\nFound 20 items\ndr-xr-xr-x   - root root      24576 2023-06-08 17:36 file:///bin\ndr-xr-xr-x   - root root       4096 2023-06-07 23:50 file:///boot\ndrwxr-xr-x   - root root       3200 2023-06-14 10:12 file:///dev\ndrwxr-xr-x   - root root       8192 2023-06-14 10:12 file:///etc\n....\n\n# put\u4e0a\u4f20\u6587\u4ef6\u5230hdfs\n[root@node1 ~]# hadoop fs -put anaconda-ks.cfg /Temp\n[root@node1 ~]# hadoop fs -ls /Temp\nFound 1 items\n-rw-r--r--   3 root supergroup       1217 2023-06-14 10:30 /Temp/anaconda-ks.cfg\n\n# get\u4e0b\u8f7dhdfs\u6587\u4ef6\u5230\u672c\u5730\n[root@node1 ~]# hadoop fs -get /Temp .\n[root@node1 ~]# ls\nanaconda-ks.cfg  Temp\n\n# \u526f\u672c\u548cblock\n# \u4e0a\u4f20\u6587\u4ef6\u65f6\u4fee\u6539\u526f\u672c\u6570\n[root@node1 ~]# hadoop dfs -D dfs.replication=2 -put test.txt /temp\n# \u4fee\u6539\u5df2\u5b58\u5728\u7684\u526f\u672c\u6570\n[root@node1 ~]# hadoop fs -setrep 2 /temp/test.txt\n# \u68c0\u67e5\u6587\u4ef6\u72b6\u6001\n[root@node1 ~]# hdfs fsck path [-files [-blocks [-location]]]\n</code></pre> <ul> <li>MapReduce</li> </ul> <pre><code>[root@node1 mapreduce]# hadoop jar hadoop-mapreduce-examples-3.3.0.jar pi 10 10\n</code></pre> <ul> <li>Hive</li> </ul> <pre><code># metastore \u524d\u53f0\u542f\u52a8  \u5173\u95edctrl+c\n/export/server/apache-hive-3.1.2-bin/bin/hive --service metastore\n\n# metastore \u524d\u53f0\u542f\u52a8\u5f00\u542fdebug\u65e5\u5fd7\n/export/server/apache-hive-3.1.2-bin/bin/hive --service metastore --hiveconf hive.root.logger=DEBUG,console  \n\n# metastore \u540e\u53f0\u542f\u52a8 \u8fdb\u7a0b\u6302\u8d77  \u5173\u95ed\u4f7f\u7528jps+ kill -9\nnohup /export/server/apache-hive-3.1.2-bin/bin/hive --service metastore &gt;metastore.log  2&gt;&amp;1 &amp;\n\n# hiveserver2\nnohup /export/server/apache-hive-3.1.2-bin/bin/hive --service hiveserver2 &gt;hiveserver2.log 2&gt;&amp;1 &amp;\n\n#\u6ce8\u610f \u542f\u52a8hiveserver2\u9700\u8981\u4e00\u5b9a\u7684\u65f6\u95f4  \u4e0d\u8981\u542f\u52a8\u4e4b\u540e\u7acb\u5373beeline\u8fde\u63a5 \u53ef\u80fd\u8fde\u63a5\u4e0d\u4e0a\n</code></pre> <ul> <li>beeline\uff1aSQL\u5ba2\u6237\u7aef</li> </ul> <pre><code># \u8fdb\u5165beeline\n/export/server/apache-hive-3.1.2-bin/bin/beeline\n\n# \u94fe\u63a5node1\u7684hive\nbeeline&gt; ! connect jdbc:hive2://node1:10000\nbeeline&gt; root\nbeeline&gt; \u76f4\u63a5\u56de\u8f66\n</code></pre> <ul> <li>load\uff1a\u52a0\u8f7d\u6587\u4ef6</li> </ul> <pre><code># \u4ece\u672c\u5730\u52a0\u8f7d(\u590d\u5236)  [OVERWRITE]:\u53ef\u9009\uff0c\u8986\u76d6\u8868\u7684\u5185\u5bb9\nload data local inpath '/root/Hive-data/students.txt' [OVERWRITE] into table database_name.table_name;\n\n# \u4ecehdfs\u6587\u4ef6\u7cfb\u7edf\u52a0\u8f7d\uff08\u79fb\u52a8\uff09\nload data inpath '/tmp/students.txt' [OVERWRITE] into table database_name.table_name;\n</code></pre>"},{"location":"Hadoop/00-main/#2-hive","title":"2. Hive\u6570\u636e\u5e93","text":"<p>\u57fa\u4e8eMapReduce\uff0c\u5c06SQL\u8f6c\u6362\u4e3aMapReduce\u6765\u8fd0\u884c</p>"},{"location":"Hadoop/00-main/#21hive","title":"2.1\u542f\u52a8Hive","text":"<ol> <li>\u542f\u52a8metastore\u670d\u52a1</li> </ol> <p>\u5143\u6570\u636e\u670d\u52a1\uff0c\u5b58\u50a8\u8868\u7684\u57fa\u672c\u4fe1\u606f\uff0c\u6709\u54ea\u4e9b\u8868\uff0c\u5206\u9694\u7b26\uff0c\u6570\u636e\u7c7b\u578b\u7b49\u7b49</p> <pre><code>#\u540e\u53f0\u542f\u52a8 \u8fdb\u7a0b\u6302\u8d77  \u5173\u95ed\u4f7f\u7528jps+ kill -9\nnohup /export/server/apache-hive-3.1.2-bin/bin/hive --service metastore &gt; /export/server/hive.log 2&gt;&amp;1 &amp;\n</code></pre> <ol> <li>\u542f\u52a8hiveserver2\u670d\u52a1</li> </ol> <p>Hive\u7684ThriftServer\u670d\u52a1\uff0c\u63d0\u4f9b\u63a5\u53e3\u7ed9\u522b\u7684\u5ba2\u6237\u7aef\u8fde\u63a5\u4f7f\u7528hive</p> <pre><code>#\u6ce8\u610f \u542f\u52a8hiveserver2\u9700\u8981\u4e00\u5b9a\u7684\u65f6\u95f4  \u4e0d\u8981\u542f\u52a8\u4e4b\u540e\u7acb\u5373beeline\u8fde\u63a5 \u53ef\u80fd\u8fde\u63a5\u4e0d\u4e0a\nnohup /export/server/apache-hive-3.1.2-bin/bin/hive --service hiveserver2 &gt; /export/server/hiveserver2.log 2&gt;&amp;1 &amp;\n</code></pre> <ol> <li>beeline\u5ba2\u6237\u7aef\u8fde\u63a5</li> </ol> <pre><code># \u6253\u5f00beeline\n/export/server/apache-hive-3.1.2-bin/bin/beeline\n# \u8bbf\u95eenode1\nbeeline&gt; ! connect jdbc:hive2://node1:10000\nbeeline&gt; root\nbeeline&gt; \u76f4\u63a5\u56de\u8f66\n</code></pre>"},{"location":"Hadoop/00-main/#22","title":"2.2 \u5185\u90e8\u8868\u548c\u5916\u90e8\u8868","text":"\u521b\u5efa \u5b58\u50a8\u4f4d\u7f6e \u5220\u9664\u6570\u636e \u7406\u5ff5 \u5185\u90e8\u8868 CREATE TABLE .... Hive\u7ba1\u7406\uff0c\u9ed8\u8ba4\u4f4d\u7f6e\uff1a/user/hive/warehouse \u5220\u9664<code>\u5143\u6570\u636e</code>\u548c<code>\u6570\u636e</code> Hive\u7ba1\u7406\u7684\u8868\uff0c\u6301\u4e45\u4f7f\u7528 \u5916\u90e8\u8868 CREATE EXTERNAL TABLE .... LOCALTION ... \u968f\u610f\uff0c\u7531<code>LOCALTION</code>\u5173\u952e\u5b57\u6307\u5b9a \u4ec5\u5220\u9664<code>\u5143\u6570\u636e</code> \u4e34\u65f6\u8868\uff0c\u5916\u90e8\u6570\u636e\u4f7f\u7528"},{"location":"Hadoop/00-main/#23","title":"2.3 \u57fa\u672c\u51fd\u6570","text":"<ul> <li>```hive   -----------------Hive \u5e38\u7528\u7684\u5185\u7f6e\u51fd\u6570----------------------</li> </ul> <p>-- \u663e\u793a\u6709\u54ea\u4e9b\u51fd\u6570   show functions;   # \u67e5\u770b\u51fd\u6570\u7684\u4ecb\u7ecd   describe function extended count;</p> <p>------------String Functions \u5b57\u7b26\u4e32\u51fd\u6570------------   select length(\"temp\");   select reverse(\"itcast\");</p> <p>select concat(\"angela\", \"baby\");   --\u5e26\u5206\u9694\u7b26\u5b57\u7b26\u4e32\u8fde\u63a5\u51fd\u6570\uff1aconcat_ws(separator, [string | array(string)]+)   select concat_ws('.', 'www', array('itcast', 'cn'));   -- \u7edf\u8ba1\u957f\u5ea6   select length(column_name) from table;   -- \u5c0f\u5199   select lower(column_name) from table;   select upper(column_name) from table;  -- \u5927\u5199   -- \u53bb\u9664\u6536\u5c3e\u7684\u7a7a\u683c   select trim('   aaa  ') from table;</p> <p>--\u5b57\u7b26\u4e32\u622a\u53d6\u51fd\u6570\uff1asubstr(str, pos[, len]) \u6216\u8005  substring(str, pos[, len])   select substr(\"angelababy\", -2); --pos\u662f\u4ece1\u5f00\u59cb\u7684\u7d22\u5f15\uff0c\u5982\u679c\u4e3a\u8d1f\u6570\u5219\u5012\u7740\u6570   select substr(\"angelababy\", 2, 2);   --\u5206\u5272\u5b57\u7b26\u4e32\u51fd\u6570: split(str, regex)   --split\u9488\u5bf9\u5b57\u7b26\u4e32\u6570\u636e\u8fdb\u884c\u5207\u5272  \u8fd4\u56de\u662f\u6570\u7ec4array  \u53ef\u4ee5\u901a\u8fc7\u6570\u7ec4\u7684\u4e0b\u6807\u53d6\u5185\u90e8\u7684\u5143\u7d20 \u6ce8\u610f\u4e0b\u6807\u4ece0\u5f00\u59cb\u7684   select split('apache hive', ' ');   select split('apache hive', ' ')[0];   select split('apache hive', ' ')[1];</p> <p>-- \u52a0\u5bc6   select mask_hash('hadoop');  -- hash\u52a0\u5bc6,\u8fd4\u56de16\u8fdb\u5236   select hash('aaa');  -- hash\u52a0\u5bc6\uff0c\u8fd4\u56de\u6570\u5b57   select md5(\u2018aaa);  -- md5\u52a0\u5bc6   -- \u67e5\u770b\u5f53\u524d\u7528\u6237   select current_user();   -- \u5f53\u524duse\u7684\u6570\u636e\u5e93   select current_database();   select version();  -- \u7248\u672c</p> <p>----------- Date Functions \u65e5\u671f\u51fd\u6570 -----------------   --\u83b7\u53d6\u5f53\u524d\u65e5\u671f: current_date   select current_date();   --\u83b7\u53d6\u5f53\u524dUNIX\u65f6\u95f4\u6233\u51fd\u6570: unix_timestamp   select unix_timestamp();   --\u65e5\u671f\u8f6cUNIX\u65f6\u95f4\u6233\u51fd\u6570: unix_timestamp   select unix_timestamp(\"2011-12-07 13:01:03\");   --\u6307\u5b9a\u683c\u5f0f\u65e5\u671f\u8f6cUNIX\u65f6\u95f4\u6233\u51fd\u6570: unix_timestamp   select unix_timestamp('20111207 13:01:03', 'yyyyMMdd HH:mm:ss');   --UNIX\u65f6\u95f4\u6233\u8f6c\u65e5\u671f\u51fd\u6570: from_unixtime   select from_unixtime(1618238391);   select from_unixtime(0, 'yyyy-MM-dd HH:mm:ss');</p> <p>--\u65e5\u671f\u6bd4\u8f83\u51fd\u6570: datediff  \u65e5\u671f\u683c\u5f0f\u8981\u6c42'yyyy-MM-dd HH:mm:ss' or 'yyyy-MM-dd'   select datediff('2012-12-08', '2012-05-09');   --\u65e5\u671f\u589e\u52a0\u51fd\u6570: date_add   select date_add('2012-02-28', 10);   --\u65e5\u671f\u51cf\u5c11\u51fd\u6570: date_sub   select date_sub('2012-01-1', 10);   -- \u83b7\u53d6\u5f53\u524d\u65f6\u95f4\u6233   select current_timestamp();   -- \u5f53\u524d\u65e5\u671f   select current_date();   -- \u65f6\u95f4\u6233\u8f6c\u65e5\u671f   select to_date(current_timestamp());   -- \u5e74\u6708\u65e5\u5b63\u5ea6   select year('2020-01-11');   select month('2020-01-11');   select day('2020-01-11');   select quarter('2020-01-11');  -- \u5b63\u5ea6   select dayofmonth('2020-01-11');   select hour('2020-01-11');   select minute('2020-01-11');   select second('2020-01-11');   select weekofyear('2020-01-11');</p> <p>----Mathematical Functions \u6570\u5b66\u51fd\u6570-------------   --\u53d6\u6574\u51fd\u6570: round  \u8fd4\u56dedouble\u7c7b\u578b\u7684\u6574\u6570\u503c\u90e8\u5206 \uff08\u9075\u5faa\u56db\u820d\u4e94\u5165\uff09   select round(3.1415926);   --\u6307\u5b9a\u7cbe\u5ea6\u53d6\u6574\u51fd\u6570: round(double a, int d) \u8fd4\u56de\u6307\u5b9a\u7cbe\u5ea6d\u7684double\u7c7b\u578b   select round(3.1415926, 4);   --\u53d6\u968f\u673a\u6570\u51fd\u6570: rand \u6bcf\u6b21\u6267\u884c\u90fd\u4e0d\u4e00\u6837 \u8fd4\u56de\u4e00\u4e2a0\u52301\u8303\u56f4\u5185\u7684\u968f\u673a\u6570   select rand();   --\u6307\u5b9a\u79cd\u5b50\u53d6\u968f\u673a\u6570\u51fd\u6570: rand(int seed) \u5f97\u5230\u4e00\u4e2a\u7a33\u5b9a\u7684\u968f\u673a\u6570\u5e8f\u5217   select rand(3);</p> <p>select abs(-1); -- \u7edd\u5bf9\u503c   select pi(); -- \u5706\u5468\u7387   -- array \u6392\u5e8f   select *,sort_array(column_name) from test_array;   -- \u7c7b\u578b\u8f6c\u6362   select binary('hadoop'); -- \u8f6c\u6362\u4e3a\u4e8c\u8fdb\u5236   select cast('1' as bigint)  -- \u81ea\u7531\u8f6c\u6362\uff0c1\u8f6c\u6362\u4e3abigint\uff0c\u5982\u679c\u7c7b\u578b\u8f6c\u6362\u5931\u8d25\uff0c\u5219\u8fd4\u56denull</p> <p>-----Conditional Functions \u6761\u4ef6\u51fd\u6570------------------   --\u4f7f\u7528\u4e4b\u524d\u8bfe\u7a0b\u521b\u5efa\u597d\u7684student\u8868\u6570\u636e   select *   from student   limit 3;</p> <p>--if\u6761\u4ef6\u5224\u65ad: if(boolean testCondition, T valueTrue, T valueFalseOrNull)   select if(1 = 2, 100, 200); -- \u4e09\u5143\u8868\u8fbe\u5f0f   select if(sex = '\u7537', 'M', 'W')   from student   limit 3;</p> <p>-- \u7a7a\u503c\u5224\u65ad, \u8fd4\u56detrue\uff0cfalse   select isnull(column_name) from table;   select isnotnull(column_name) from table;   --\u7a7a\u503c\u8f6c\u6362\u51fd\u6570: nvl(T value, T default_value)   select nvl(\"allen\", \"itcast\");   select nvl(null, \"itcast\");</p> <p>--\u6761\u4ef6\u8f6c\u6362\u51fd\u6570: CASE a WHEN b THEN c [WHEN d THEN e]* [ELSE f] END   select name, case age when 10 then 'child' when 100 then 'old' else 'people' end from table;   select name, case sex when sex='\u7537' then 'male' else 'femalshoe' end from table;   -- \u5224\u65ad name\u662f\u5426\u7b49\u4e8eNULL\uff0c\u5982\u679c\u76f8\u7b49\u5219\u8fd4\u56denull\uff0c\u4e5f\u5c31\u662f\u66ff\u6362\u4e3anull   select name, nullif(name, NULL) from table;   -- \u7c7b\u4f3c python\u7684 assert   select assert_true(0 &lt; 1);</p> <p>```</p> <ul> <li>\u81ea\u5b9a\u4e49\u51fd\u6570</li> </ul> <p></p>"},{"location":"Hadoop/00-main/#24-sql","title":"2.4 SQL","text":""},{"location":"Hadoop/00-main/#241","title":"2.4.1 \u6570\u636e\u7c7b\u578b","text":"<pre><code>-- hive\u6570\u636e\u7c7b\u578b-array\u3001map\u3001struct\ncreate table big_data.test_array(name string, works_loc array&lt;sting&gt;)\nrow format delimited fields terminated by '\\t'  -- \u8868\u5b57\u6bb5\u4f7f\u7528\\t\u5206\u5272\ncollection items terminated by ',';  -- array\u7c7b\u578b\u7684\u6570\u636e\u4f7f\u7528 , \u5206\u5272\n-- \u67e5\u8be2\u5355\u4e2aarray\u5185\u7684\u6570\u636e\nselect name,works_loc[0] from big_data.test_array;\n-- \u67e5\u8be2array\u4e2d\u5305\u542b\u7684\u6570\u636e\nselect * from big_data.test_array where ARRAY_CONTAINS(word_loc, 'value');\n-- \u67e5\u8be2array\u4e2d\u7684\u4e2a\u6570\nselect name,SIZE(word_loc) from big_data.test_array;\n\n-- map\ncreate table big_data.test_map(id int,name string, members map&lt;string,string&gt;, age int)\nrow format delimited fields termainated by ','\nCOLLECTION ITEMS TERMINATED BY '#'  -- \u5206\u5f00\u6bcf\u6761\u6570\u636e\nMAP KEYS TERMINATED BY ':';  --  k:v\n-- \u67e5\u8be2\u6307\u5b9akey\nselect id,name,members['key'] from big_data.test_map;\n-- \u67e5\u8be2\u6240\u6709\u7684key,\u8fd4\u56de\u7684\u7c7b\u578b\u662farray\nselect map_keys(members) from  big_data.test_map;\nselect map_values(members) from  big_data.test_map;\n-- \u67e5\u770b\u952e\u503c\u5bf9\u7684\u4e2a\u6570\nselect name, SIZE(members) from  big_data.test_map;\n-- \u67e5\u8be2\u5305\u542bmap-keys\u6216\u8005values\u7684\u6570\u636e\nselect * from  big_data.test_map where ARRAY_CONTAINS(MAP_KEYS(members), 'key-value');\n\n-- struct,\u7b26\u5408\u6570\u636e\u7c7b\u578b\uff0c\u4e00\u4e2a\u5217\u4e2d\u5141\u8bb8\u5305\u542b\u53e6\u4e00\u4e2a\u5b50\u5217\ncreate table  big_data.test_struct(\n    id int,\n    info struct&lt;name:string, age:int&gt;\n) row format delimited fields termainated by '#'\nCOLLECTION ITEMS TERMINATED BY ':'  -- struct\u4e2d\u7684\u4e8c\u7ea7\u5206\u9694\u7b26\nselect id,info.name form big_data.test_struct;\n</code></pre>"},{"location":"Hadoop/00-main/#_3","title":"\u603b\u7ed3","text":""},{"location":"Hadoop/00-main/#242","title":"2.4.2 \u57fa\u672c\u64cd\u4f5c","text":"<pre><code>--\u67e5\u8be2\u5f53\u524d\u6570\u636e\u5e93\nselect current_database();\n\n-- \u67e5\u770b\u8868\u7c7b\u578b\nDESC formatted table_name;\n\n-- \u7c7b\u5916\u90e8\u8868\u7c7b\u578b\u8f6c\u6362\nalter table table_name set tblproperties('EXTENAL'='TRUE');\n-- \u4fee\u6539\u8868\u6ce8\u91ca\nalter table table_name set tblproperties('commemt'='table comment');\n\n-- \u4fee\u6539\u8868\u540d\nalter table old_name rename to new_name;\n\n-- \u6dfb\u52a0\u5206\u533a,\u4e0d\u4f1a\u6709\u6570\u636e\uff0c\u4f46\u662f\u4f1a\u521b\u5efa\u76f8\u5173\u6587\u4ef6\u5939\nalter table table_name add partition(year='2019', month='10', day='01')\n-- \u4fee\u6539\u5206\u533a\u503c-- \u4fee\u6539\u5143\u6570\u636e\u8bb0\u5f55\uff0c\u6587\u4ef6\u5939\u4e0d\u4f1a\u6539\u53d8\nalter table table_name partition(year='2019', month='10', day='01') rename to partition(year='2011', month='11'. day='11')\n-- \u5220\u9664\u5206\u533a\uff0c\u53ea\u662f\u5220\u9664\u5143\u6570\u636e\nalter table table_name drop partition(year='2019', month='10', day='01')\n\n-- \u6dfb\u52a0\u5217\nalter table table_name add columns(v1 int, v2 string);\n-- \u4fee\u6539\u5217,\u53ea\u80fd\u4fee\u6539\u540d\u5b57\uff0c\u4e0d\u80fd\u4fee\u6539\u7c7b\u578b\nalter table table_name change v1 v1_new_name int);\n-- \u5220\u9664\u8868\ndrop table table_name;\n-- \u6e05\u7a7a\u8868\u6570\u636e,\u5916\u90e8\u8868\u65e0\u6cd5\u6e05\u7a7a\ntruncate table table_name;\n\n-- \u6b63\u5219\u5339\u914d  (\u53cd\u659c\u6760\u9700\u8981\u4e24\u4e2a\u4e00\u8d77\u5199)\nselect * from table_name where column_name RLIKE '\u6b63\u5219\u8868\u8fbe\u5f0f';\n\n-- \u8054\u5408\u67e5\u8be2, UNION\u9ed8\u8ba4\u4f1a\u5bf9\u6570\u636e\u53bb\u91cd\nselect * from table_name where name ='aa'\nUNION\nselect * from table_name2 where name='bb';\n-- UNION ALL \u4e0d\u53bb\u91cd\nselect * from table_name where name ='aa';\nUNION ALL\nselect * from table_name2 where name='bb';\n</code></pre>"},{"location":"Hadoop/00-main/#244","title":"2.4.4 \u8bed\u6cd5\u4f8b\u5b50","text":"<pre><code>--step1:\u5efa\u8868\uff0c\u5185\u90e8\u8868\ncreate table student_local\n(\n    num  int,\n    name string,\n    sex  string,\n    age  int,\n    dept string\n) row format delimited fields terminated by ',';  -- \u8bbe\u7f6e\u6587\u4ef6\u5206\u9694\u7b26\uff0c\u9ed8\u8ba4\u5206\u9694\u7b26\u662f \\001\n-- \u5efa\u8868\uff1a\u5916\u90e8\u8868\ncreate EXTERNAL table student_local\n(\n    num  int,\n    name string,\n    sex  string,\n    age  int,\n    dept string\n) row format delimited fields terminated by ','\nlocation '/tmp/test1'; -- \u8bbe\u7f6e\u5916\u90e8\u8868\u5b58\u50a8\u7684\u4f4d\u7f6e\n\n--step2:\u672c\u5730\u52a0\u8f7d\u6570\u636e\n-- \u8bed\u6cd5\uff1aLOAD DATA [LOCAL] INPATH 'filepath' [OVERWRITE] INTO TABLE table_name;\nLOAD DATA LOCAL INPATH '/root/hivedata/students.txt' INTO TABLE student_local;\n-- \u4ecehdfs\u52a0\u8f7d\u6570\u636e\nLOAD DATA INPATH '/students.txt' INTO TABLE student_HDFS;\n\n--\u6570\u636e\u5bfc\u51fa\u5230\u6587\u4ef6\n--\u8bed\u6cd5\uff1ainsert overwrite [local] directory 'path' select * from stu;\ninsert overwrite local directory '~/temp/export2/export2.txt' select * from stu;\n-- \u5c06\u67e5\u8be2\u7684\u7ed3\u679c\u5bfc\u51fa\u5230HDFS\u4e0a\uff0c\u5e76\u6307\u5b9a\u5206\u9694\u7b26\ninsert overwrite directory '/tmp/export' row format delimited fields terminated by '\\t' select * from stu;\n-- \u4f7f\u7528 hive \u53ef\u6267\u884c\u6587\u4ef6\u5bfc\u51fa\uff0cshell\nbin/hive -e \"SELECT * FROM stu\" &gt; ~/temp/export3/export3.txt\nbin/hive -f xxx.sql &gt; ~/temp/export4/export4.txt\n\n\n--\u4f7f\u7528insert+select\u63d2\u5165\u6570\u636e\u5230\u65b0\u8868\u4e2d\ninsert into table student_from_insert\nselect sno, sname\nfrom student_from_insert;\n\n-- where\n--\u6ce8\u610f\uff1awhere\u6761\u4ef6\u4e2d\u4e0d\u80fd\u4f7f\u7528\u805a\u5408\u51fd\u6570  \u53ef\u4ee5\u4f7f\u7528Having\u5b9e\u73b0\n--\u800cwhere\u5b50\u53e5\u8fd8\u5904\u4e8e\u201c\u786e\u5b9a\u201d\u7ed3\u679c\u96c6\u7684\u8fc7\u7a0b\u4e2d\uff0c\u56e0\u800c\u4e0d\u80fd\u4f7f\u7528\u805a\u5408\u51fd\u6570\u3002\nselect *\nfrom t_usa_covid19\nwhere 1 &gt; 2; -- 1 &gt; 2 \u8fd4\u56defalse\n\n--\u627e\u51fa\u6765\u81ea\u4e8eCalifornia\u5dde\u7684\u75ab\u60c5\u6570\u636e\nselect *\nfrom t_usa_covid19\nwhere state = 'California';\n--where\u6761\u4ef6\u4e2d\u4f7f\u7528\u51fd\u6570 \u627e\u51fa\u5dde\u540d\u5b57\u6bcd\u957f\u5ea6\u8d85\u8fc710\u4f4d\u7684\u6709\u54ea\u4e9b\nselect *\nfrom t_usa_covid19\nwhere length(state) &gt; 10;\n\n--\u53ef\u4ee5\u4f7f\u7528Having\u5b9e\u73b0\nselect state, sum(deaths)\nfrom t_usa_covid19\ngroup by state\nhaving sum(deaths) &gt; 100;\n\n-- \u53bb\u91cd distinct\nselect count( distinct county) as county_cnts\nfrom t_usa_covid19;\n\n\n-- \u5206\u7ec4\n--\u5148where\u5206\u7ec4\u524d\u8fc7\u6ee4\uff0c\u518d\u8fdb\u884cgroup by\u5206\u7ec4\uff0c \u5206\u7ec4\u540e\u6bcf\u4e2a\u5206\u7ec4\u7ed3\u679c\u96c6\u786e\u5b9a \u518d\u4f7f\u7528having\u8fc7\u6ee4\nselect state, sum(deaths)\nfrom t_usa_covid19\nwhere count_date = \"2021-01-28\"\ngroup by state\nhaving sum(deaths) &gt; 10000;\n--\u8fd9\u6837\u5199\u66f4\u597d \u5373\u5728group by\u7684\u65f6\u5019\u805a\u5408\u51fd\u6570\u5df2\u7ecf\u4f5c\u7528\u5f97\u51fa\u7ed3\u679c having\u76f4\u63a5\u5f15\u7528\u7ed3\u679c\u8fc7\u6ee4 \u4e0d\u9700\u8981\u518d\u5355\u72ec\u8ba1\u7b97\u4e00\u6b21\u4e86\nselect state, sum(deaths) as cnts\nfrom t_usa_covid19\nwhere count_date = \"2021-01-28\"\ngroup by state\nhaving cnts &gt; 10000;\n\n-- \u6392\u5e8f  limit\n--\u4e0d\u5199\u6392\u5e8f\u89c4\u5219 \u9ed8\u8ba4\u5c31\u662fasc\u5347\u5e8f\nselect *\nfrom t_usa_covid19\norder by cases asc limit 2,10;\n\n\n--1\u3001inner join \u7b49\u4ef7\u4e8e join\nselect e.id, e.name, e_a.city, e_a.street\nfrom employee e\n         inner join employee_address e_a\n                    on e.id = e_a.id;\n\n--\u7b49\u4ef7\u4e8e \u9690\u5f0f\u8fde\u63a5\u8868\u793a\u6cd5\nselect e.id, e.name, e_a.city, e_a.street\nfrom employee e,\n     employee_address e_a\nwhere e.id = e_a.id;\n\n--2\u3001left join  \u7b49\u4ef7\u4e8e left outer join\nselect e.id, e.name, e_conn.phno, e_conn.email\nfrom employee e\n         left join employee_connection e_conn\n                   on e.id = e_conn.id;\n</code></pre>"},{"location":"Hadoop/00-main/#25","title":"2.5\u5206\u533a\u8868","text":"<p>\u5206\u533a\u8868\u53ef\u4ee5\u63d0\u9ad8\u6570\u636e\u67e5\u8be2\u7684\u6548\u7387</p> <p>\u53ef\u4ee5\u9009\u62e9\u5b57\u6bb5\u4f5c\u4e3a\u5206\u533a</p> <p>\u5206\u533a\u5c31\u662f\u5b58\u50a8\u5728HDFS\u4e0a\u7684\u4e0d\u540c\u7684\u5b50\u6587\u4ef6\u5939</p> <pre><code>-- \u5355\u7ea7\u5206\u533a\u8868\ncreate table bigdata.score(id string, cid string, score int) partitioned by (month string)\nrow format delimited fields terminated by '\\t';\n\nload data local inpath '/home/hadoop/score.txt'\ninto table bigdata.score partition(month='01');\n\n-- \u591a\u7ea7\u5206\u533a\u8868\ncreate table bigdata.score2(id string, cid string, score int) partitioned by (year string, month string, day string)\nrow format delimited fields terminated by '\\t';\n\nload data local inpath '/home/hadoop/score.txt'\ninto table bigdata.score2 partition(year='2023', month='01', day='01'); -- \u6709\u51e0\u4e2a\u5206\u533a\u5c31\u8981\u6307\u5b9a\u51e0\u4e2a\n</code></pre>"},{"location":"Hadoop/00-main/#26","title":"2.6\u5206\u6876\u8868","text":"<p>\u5b58\u50a8\u5728\u540c\u4e00\u6587\u4ef6\u5939\uff0c\u4e0d\u540c\u6587\u4ef6\u4e2d\uff0c\u6309\u7167\u56fa\u5b9a\u7684\u6570\u91cf\u6765\u62c6\u5206</p> <p>\u6570\u636e\u7684\u62c6\u5206\u662f\u6839\u636e \u5206\u6876\u5217\u7684\u503c\u8fdb\u884chash\u53d6\u6a21\u8ba1\u7b97\u6765\u62c6\u5206\u7684\uff0cload data\u53ea\u662f\u5355\u7eaf\u7684\u79fb\u52a8\u6570\u636e\uff0c\u6ca1\u6709\u7ecf\u8fc7\u8ba1\u7b97\uff0c\u6240\u4ee5\u4e0d\u80fd\u4f7f\u7528load data\u5411\u5206\u6876\u7684\u8868\u4e2d\u52a0\u8f7d\u6570\u636e\uff0cinsert select \u4f1a \u8c03\u7528 MapReduce\uff0c\u624d\u80fd\u4f7f\u7528\u8ba1\u7b97\uff0c\u6765\u8ba1\u7b97\u6570\u636e\u5e94\u8be5\u5206\u914d\u5230\u7684\u6876\u3002</p> <pre><code>-- \u5f00\u542f\u5206\u6876\u81ea\u52a8\u4f18\u5316\nset hive.enforce.bucketing=true;\n-- \u521b\u5efa\u5206\u6876\u8868\ncreate table course(c_id string, c_name string, t_id string) clustered by(c_id)\ninto 3 buckets row format delimited fields terminated by '\\t';\n-- \u52a0\u8f7d\u6570\u636e\uff0c\u53ea\u80fd\u901a\u8fc7 insert select \u52a0\u8f7d\n-- \u4f7f\u7528 load data \u5411\u4e34\u65f6\u8868\u52a0\u8f7d\u6570\u636e\uff0c\u7136\u540e  insert select \u52a0\u8f7d\u5230\u6b63\u5f0f\u8868\nload data local inpath '/home/hadoop/course.txt' into table bigdata.course_temp;\ninsert overwrite tagble course select * from bigdata.course_temp cluster by(c_id);\n</code></pre>"},{"location":"Hadoop/00-main/#_4","title":"\u603b\u7ed3","text":"<p>\u5206\u533a\u7684\u4f18\u52bf\uff1a\u5728\u6307\u5b9a\u5206\u533a\u5217\u7684\u524d\u63d0\u4e0b\uff0c\u51cf\u5c11\u88ab\u64cd\u4f5c\u7684\u6570\u636e\u91cf\uff0c\u5e26\u6765\u6027\u80fd\u7684\u63d0\u5347\u3002</p> <p>\u5206\u6876\u7684\u4f18\u52bf\uff1a\u57fa\u4e8e\u5206\u6876\u5217\u7684\u7279\u5b9a\u64cd\u4f5c\uff0c\u5982\uff1a\u5355\u503c\u8fc7\u6ee4\u3001join\u3001\u5206\u7ec4\u90fd\u53ef\u4ee5\u5e26\u6765\u6027\u80fd\u7684\u63d0\u5347\uff0c\u53ef\u4ee5\u63d0\u524d\u901a\u8fc7\u8ba1\u7b97\u6765\u786e\u5b9a\u53ea\u9700\u8981\u7684\u6876\uff0c\u53d6\u53ea\u9700\u8981\u7684\u6570\u636e\u3002</p> <p>\u5206\u533a\u548c\u5206\u6876\u53ef\u4ee5\u540c\u65f6\u4f7f\u7528\uff0c\u5982\u679c\u540c\u65f6\u4f7f\u7528\u4e86\uff0c\u90a3\u4e48\u6bcf\u4e2a\u5206\u533a\u90fd\u6709n\u4e2a\u6876\u3002</p>"},{"location":"Hadoop/00-main/#_5","title":"\u51fd\u6570","text":""},{"location":"Hadoop/00-main/#tablesample","title":"\u968f\u673a\u5206\u6876\u62bd\u6837 TABLESAMPLE","text":"<pre><code>-- \u6839\u636e Column \u5217\u62bd\u6837\uff0c\u4f7f\u7528hash\u53d6\u6a21\uff0c\u7136\u540e\u53bb\u62bd\u6837\uff0c\u6bcf\u6b21\u53d6\u7684\u6570\u636e\u662f\u56fa\u5b9a\u7684\nselect * from employee_connection tablesample(bucket 3 out of 10 on name);\n-- \u5b8c\u5168\u968f\u673a\uff0c\u6bcf\u4e00\u6b21\u7684\u7ed3\u679c\u4e0d\u4e00\u6837\nselect * from employee_connection tablesample(bucket 3 out of 10 on rand());\n</code></pre>"},{"location":"Hadoop/00-main/#_6","title":"\u5206\u5757\u62bd\u6837","text":"<pre><code>-- \u53d6\u524d100\u6761\u6570\u636e\nselect * from employee_connection tablesample(100 rows);\n-- \u53d6\u524d10%\u7684\u6570\u636e\nselect * from employee_connection tablesample(10 percent);\n-- \u53d61kb\u7684\u6570\u636e\nselect * from employee_connection tablesample(1k);\n</code></pre>"},{"location":"Hadoop/00-main/#_7","title":"\u865a\u62df\u5217","text":"<ul> <li>INPUT_FILE_NAME\uff1a\u663e\u793a\u6570\u636e\u884c\u6240\u5728\u7684\u5177\u4f53\u6587\u4ef6</li> <li>BLOCK_OFFSET_INSIDE_FILE\uff1a\u663e\u793a\u6570\u636e\u884c\u6240\u5728\u6587\u4ef6\u7684\u504f\u79fb\u91cf</li> <li>ROW_OFFSET_INSIDE_BLOCK\uff1a\u663e\u793a\u6570\u636e\u6240\u5728\u7684HDFS\u5757\u7684\u504f\u79fb\u91cf</li> <li>\u6b64\u865a\u62df\u5217\u9700\u8981\u8bbe\u7f6e\uff1a<code>SET hive.exec.rowoffset=true</code> \u624d\u80fd\u4f7f\u7528</li> </ul> <pre><code>select *,INPUT_FILE_NAME,BLOCK_OFFSET_INSIDE_FILE,ROW_OFFSET_INSIDE_BLOCK from table;\n</code></pre>"},{"location":"Hadoop/00-main/#_8","title":"\u6570\u636e\u5e93\u8303\u5f0f\u5efa\u6a21","text":""},{"location":"Hadoop/00-main/#qa","title":"Q&amp;A","text":"<ul> <li>\u67e5\u8be2\u7ed3\u679c\u6216\u8005\u6ce8\u91ca\u663e\u793a\u4e2d\u6587\u4e71\u7801</li> </ul> <pre><code>-- \u6ce8\u610f \u4e0b\u9762sql\u8bed\u53e5\u662f\u9700\u8981\u5728MySQL\u4e2d\u6267\u884c  \u4fee\u6539Hive\u5b58\u50a8\u7684\u5143\u6570\u636e\u4fe1\u606f\uff08metadata\uff09\nuse hive3;\nshow tables;\n\nalter table hive3.COLUMNS_V2 modify column COMMENT varchar(256) character set utf8;\nalter table hive3.TABLE_PARAMS modify column PARAM_VALUE varchar(4000) character set utf8;\nalter table hive3.PARTITION_PARAMS modify column PARAM_VALUE varchar(4000) character set utf8 ;\nalter table hive3.PARTITION_KEYS modify column PKEY_COMMENT varchar(4000) character set utf8;\nalter table hive3.INDEX_PARAMS modify column PARAM_VALUE varchar(4000) character set utf8;\n</code></pre>"},{"location":"Hadoop/00-main/#3-zookeeper","title":"3. zookeeper\u5b89\u88c5","text":"<p>\u6ce8\u610f\uff1azk\u7684\u7248\u672c\u548cspark\u548chadoop\u7684\u7248\u672c\u5f97\u5bf9\u5f97\u4e0a\u624d\u884c\uff01\uff01\uff01</p> <p>\u7136\u540e\u5b89\u88c5\u6b65\u9aa4\u770bword\u6587\u6863</p> <p>\u7248\u672c\u5bf9\u5e94\u8bf4\u660e\uff1a</p> <p></p>"},{"location":"Hadoop/00-main/#4spark","title":"4.Spark","text":""},{"location":"Hadoop/00-main/#41-spark","title":"4.1 Spark\u57fa\u7840","text":"<p>\u5b9a\u4e49\uff1aApache Spark\u662f\u7528\u4e8e\u5927\u89c4\u6a21\u6570\u636e\u5904\u7406\u7684\u7edf\u4e00\u5206\u6790\u5f15\u64ce</p>"},{"location":"Hadoop/00-main/#411spark","title":"4.1.1Spark\u662f\u4ec0\u4e48","text":"<ul> <li>\u7edf\u4e00\u5206\u6790\u5f15\u64ce\uff1f</li> <li>Spark\u662f\u4e00\u6b3e\u5206\u5e03\u5f0f\u5185\u5b58\u8ba1\u7b97\u7684\u7edf\u4e00\u5206\u6790\u5f15\u64ce\u3002</li> <li>\u5176\u7279\u70b9\u5c31\u662f\u5bf9\u4efb\u610f\u7c7b\u578b\u7684\u6570\u636e\u8fdb\u884c\u81ea\u5b9a\u4e49\u8ba1\u7b97\u3002</li> <li>Spark\u53ef\u4ee5\u8ba1\u7b97\uff1a\u7ed3\u6784\u5316\u3001\u534a\u7ed3\u6784\u5316\u3001\u975e\u7ed3\u6784\u5316\u7b49\u5404\u79cd\u7c7b\u578b\u7684\u6570\u636e\u7ed3\u6784\uff0c\u540c\u65f6\u4e5f\u652f\u6301\u4f7f\u7528Python\u3001 Java\u3001 Scala\u3001 R\u4ee5\u53caSQL\u8bed\u8a00\u53bb\u5f00\u53d1\u5e94\u7528\u7a0b\u5e8f\u8ba1\u7b97\u6570\u636e\u3002</li> <li>Spark\u7684\u9002\u7528\u9762\u975e\u5e38\u5e7f\u6cdb\uff0c\u6240\u4ee5\uff0c\u88ab\u79f0\u4e4b\u4e3a \u7edf\u4e00\u7684\uff08\u9002\u7528\u9762\u5e7f\uff09\u7684\u5206\u6790\u5f15\u64ce\uff08\u6570\u636e\u5904\u7406\uff09  </li> </ul>"},{"location":"Hadoop/00-main/#412-spark-vs-hadoopmapreduce","title":"4.1.2 Spark VS Hadoop(MapReduce)","text":"Hadoop Spark \u7c7b\u578b \u57fa\u7840\u5e73\u53f0, \u5305\u542b\u8ba1\u7b97, \u5b58\u50a8, \u8c03\u5ea6 \u7eaf\u8ba1\u7b97\u5de5\u5177\uff08\u5206\u5e03\u5f0f\uff09 \u573a\u666f \u6d77\u91cf\u6570\u636e\u6279\u5904\u7406\uff08\u78c1\u76d8\u8fed\u4ee3\u8ba1\u7b97\uff09 \u6d77\u91cf\u6570\u636e\u7684\u6279\u5904\u7406\uff08\u5185\u5b58\u8fed\u4ee3\u8ba1\u7b97\u3001\u4ea4\u4e92\u5f0f\u8ba1\u7b97\uff09\u3001\u6d77\u91cf\u6570 \u636e\u6d41\u8ba1\u7b97 \u4ef7\u683c \u5bf9\u673a\u5668\u8981\u6c42\u4f4e, \u4fbf\u5b9c \u5bf9\u5185\u5b58\u6709\u8981\u6c42, \u76f8\u5bf9\u8f83\u8d35 \u7f16\u7a0b\u8303\u5f0f Map+Reduce, API \u8f83\u4e3a\u5e95\u5c42, \u7b97\u6cd5\u9002\u5e94\u6027\u5dee RDD\u7ec4\u6210DAG\u6709\u5411\u65e0\u73af\u56fe, API \u8f83\u4e3a\u9876\u5c42, \u65b9\u4fbf\u4f7f\u7528 \u6570\u636e\u5b58\u50a8\u7ed3\u6784 MapReduce\u4e2d\u95f4\u8ba1\u7b97\u7ed3\u679c\u5728HDFS\u78c1\u76d8\u4e0a, \u5ef6\u8fdf\u5927 RDD\u4e2d\u95f4\u8fd0\u7b97\u7ed3\u679c\u5728\u5185\u5b58\u4e2d , \u5ef6\u8fdf\u5c0f \u8fd0\u884c\u65b9\u5f0f Task\u4ee5\u8fdb\u7a0b\u65b9\u5f0f\u7ef4\u62a4, \u4efb\u52a1\u542f\u52a8\u6162 Task\u4ee5\u7ebf\u7a0b\u65b9\u5f0f\u7ef4\u62a4, \u4efb\u52a1\u542f\u52a8\u5feb\uff0c\u53ef\u6279\u91cf\u521b\u5efa\u63d0\u9ad8\u5e76\u884c\u80fd \u529b <ul> <li>\u5728\u8ba1\u7b97\u5c42\u9762\uff0c Spark\u76f8\u6bd4\u8f83MR\uff08MapReduce\uff09\u6709\u5de8\u5927\u7684\u6027\u80fd\u4f18\u52bf\uff0c\u4f46\u81f3\u4eca\u4ecd\u6709\u8bb8\u591a\u8ba1\u7b97\u5de5\u5177\u57fa\u4e8eMR\u6784\u67b6\uff0c\u6bd4\u5982\u975e\u5e38\u6210\u719f\u7684Hive</li> <li>Spark\u4ec5\u505a\u8ba1\u7b97\uff0c\u800cHadoop\u751f\u6001\u5708\u4e0d\u4ec5\u6709\u8ba1\u7b97\uff08MR\uff09\u4e5f\u6709\u5b58\u50a8\uff08HDFS\uff09\u548c\u8d44\u6e90\u7ba1\u7406\u8c03\u5ea6\uff08YARN\uff09\uff0c HDFS\u548cYARN\u4ecd\u662f\u8bb8\u591a\u5927\u6570\u636e   \u4f53\u7cfb\u7684\u6838\u5fc3\u67b6\u6784  </li> </ul>"},{"location":"Hadoop/00-main/#413","title":"4.1.3 \u603b\u7ed3","text":"<ul> <li>Spark\u89e3\u51b3\u4ec0\u4e48\u95ee\u9898\uff1f</li> </ul> <p>\u6d77\u91cf\u6570\u636e\u7684\u8ba1\u7b97\uff0c\u53ef\u4ee5\u8fdb\u884c\u79bb\u7ebf\u6279\u5904\u7406\u4ee5\u53ca\u5b9e\u65f6\u6d41\u8ba1\u7b97</p> <ul> <li>Spark\u6709\u54ea\u4e9b\u6a21\u5757\uff1f</li> </ul> <p>\u6838\u5fc3SparkCore\u3001 SQL\u8ba1\u7b97\uff08SparkSQL\uff09\u3001\u6d41\u8ba1\u7b97\uff08SparkStreaming   \uff09\u3001\u56fe\u8ba1\u7b97\uff08GraphX\uff09\u3001\u673a\u5668\u5b66\u4e60\uff08MLlib\uff09</p> <ul> <li>Spark\u7279\u70b9\u6709\u54ea\u4e9b\uff1f</li> </ul> <p>\u901f\u5ea6\u5feb\u3001\u4f7f\u7528\u7b80\u5355\u3001\u901a\u7528\u6027\u5f3a\u3001\u591a\u79cd\u6a21\u5f0f\u8fd0\u884c  </p>"},{"location":"Hadoop/00-main/#414-spark","title":"4.1.4 Spark\u7684\u8fd0\u884c\u6a21\u5f0f\uff1f","text":"<ul> <li>\u672c\u5730\u6a21\u5f0f</li> </ul> <pre><code>(base) [root@node1 spark]# bin/pyspark \n</code></pre> <ul> <li>\u96c6\u7fa4\u6a21\u5f0f\uff08StandAlone\u3001 YARN\u3001 K8S\uff09</li> </ul> <pre><code># StandAlone\n# 1\uff0c\u542f\u52a8spark\u96c6\u7fa4\n# \u4fee\u6539\u540e\u53f0\u914d\u7f6e\uff1a`conf/spark-env.sh\uff1aSPARK_MASTER_WEBUI_PORT=8080`: \n# \u540e\u53f0\u8bbf\u95ee\u5730\u5740   http://node1:8080\n/export/server/spark/sbin/start-all.sh\n# 2. \u7ed1\u5b9aspark\u5230\u96c6\u7fa4\n./pyspark --master spark://node1:7077\n\n\n# YARN\n(base) [root@node1 spark]# bin/pyspark --master yarn\n\n\n# HA \u9ad8\u53ef\u7528\u6027\uff0c\u591a\u4e2a\u5907\u7528master\n# node1\n/export/server/spark/sbin/start-all.sh\n# node2\n/export/server/spark/sbin/start-master.sh\n</code></pre> <ul> <li>\u4e91\u6a21\u5f0f</li> </ul>"},{"location":"Hadoop/00-main/#415-sparkyarn","title":"4.1.5 Spark\u7684\u8fd0\u884c\u89d2\u8272\uff08\u5bf9\u6bd4YARN\uff09\uff1f","text":"<p>\u2022 Master\uff1a\u96c6\u7fa4\u8d44\u6e90\u7ba1\u7406\uff08\u7c7b\u540cResourceManager\uff09 \u2022 Worker\uff1a\u5355\u673a\u8d44\u6e90\u7ba1\u7406\uff08\u7c7b\u540cNodeManager\uff09 \u2022 Driver\uff1a\u5355\u4efb\u52a1\u7ba1\u7406\u8005\uff08\u7c7b\u540cApplicationMaster\uff09 \u2022 Executor\uff1a\u5355\u4efb\u52a1\u6267\u884c\u8005\uff08\u7c7b\u540cYARN\u5bb9\u5668\u5185\u7684Task\uff09  </p>"},{"location":"Hadoop/00-main/#416-spark","title":"4.1.6 Spark\u57fa\u7840\u4f7f\u7528","text":"<ul> <li> <p>\u5728\u6267\u884cspark\u53ef\u6267\u884c\u6587\u4ef6\u65f6\uff0c\u53ef\u4ee5\u8fdb\u5165\u540e\u53f0\u8bbf\u95ee\u5730\u5740\uff1ahttp://node1:4040</p> </li> <li> <p><code>pyspark</code>: python-spark\uff0c\u53ef\u4ee5\u8fd0\u884cpython\u4ee3\u7801\u8c03\u7528pyspark\u7684api</p> </li> <li> <p><code>spark-shell</code>: spark\u7ec8\u7aef\uff0c\u9ed8\u8ba4\u8bed\u8a00\u662f<code>scala</code></p> </li> <li> <p><code>spark-submit</code>: \u6267\u884c\u5df2\u7ecf\u5199\u597d\u7684\u4ee3\u7801\u5230spark\u8fd0\u884c</p> </li> <li> <p><code>shell     # \u6267\u884cpi.py\uff0c \u8fed\u4ee3\u6b21\u6570\u4e3a20     ./spark-submit /export/server/spark/examples/src/main/python/pi.py 20</code></p> </li> </ul>"},{"location":"Hadoop/00-main/#417-historyserver","title":"4.1.7 HistoryServer:\u5386\u53f2\u670d\u52a1\u5668","text":"<ul> <li> <p><code>shell   # \u542f\u52a8 HistoryServer   /export/server/spark/sbin/start-history-server.sh</code></p> </li> <li> <p>http://node1:18080</p> </li> </ul> <p></p>"},{"location":"Hadoop/00-main/#418-spark","title":"4.1.8 Spark\u7a0b\u5e8f\u8fd0\u884c\u5c42\u6b21\u7ed3\u6784","text":"<ul> <li>\u540e\u53f0\u9875\u9762\u67094040,\u67098080,\u670918080,\u5b83\u4eec\u6709\u4f55\u533a\u522b\u5417?</li> <li>4040: \u662f\u4e00\u4e2a\u8fd0\u884c\u7684Application\u5728\u8fd0\u884c\u7684\u8fc7\u7a0b\u4e2d\u4e34\u65f6\u7ed1\u5b9a\u7684\u7aef\u53e3,\u7528\u4ee5\u67e5\u770b\u5f53\u524d\u4efb\u52a1\u7684\u72b6\u6001.4040\u88ab\u5360\u7528\u4f1a\u987a\u5ef6\u52304041.4042\u7b49\u30024040\u662f\u4e00\u4e2a\u4e34\u65f6\u7aef\u53e3,\u5f53\u524d\u7a0b\u5e8f\u8fd0\u884c\u5b8c\u6210\u540e, 4040\u5c31\u4f1a\u88ab\u6ce8\u9500</li> <li>8080: \u9ed8\u8ba4\u662fStandAlone\u4e0b, Master\u89d2\u8272(\u8fdb\u7a0b)\u7684WEB\u7aef\u53e3,\u7528\u4ee5\u67e5\u770b\u5f53\u524dMaster(\u96c6\u7fa4)\u7684\u72b6\u6001</li> <li>18080: \u9ed8\u8ba4\u662f\u5386\u53f2\u670d\u52a1\u5668\u7684\u7aef\u53e3, \u7531\u4e8e\u6bcf\u4e2a\u7a0b\u5e8f\u8fd0\u884c\u5b8c\u6210\u540e,4040\u7aef\u53e3\u5c31\u88ab\u6ce8\u9500\u4e86. \u5728\u4ee5\u540e\u60f3\u56de\u770b\u67d0\u4e2a\u7a0b\u5e8f\u7684\u8fd0\u884c\u72b6\u6001\u5c31\u53ef\u4ee5\u901a\u8fc7\u5386\u53f2     \u670d\u52a1\u5668\u67e5\u770b,\u5386\u53f2\u670d\u52a1\u5668\u957f\u671f\u7a33\u5b9a\u8fd0\u884c,\u53ef\u4f9b\u968f\u65f6\u67e5\u770b\u88ab\u8bb0\u5f55\u7684\u7a0b\u5e8f\u7684\u8fd0\u884c\u8fc7\u7a0b.  </li> </ul>"},{"location":"Hadoop/00-main/#419","title":"4.1.9 \u603b\u7ed3","text":""},{"location":"Hadoop/00-main/#_9","title":"\u7406\u8bba","text":"<ul> <li>StandAlone\u7684\u539f\u7406?</li> </ul> <p>Master\u548cWorker\u89d2\u8272\u4ee5\u72ec\u7acb\u8fdb\u7a0b\u7684\u5f62\u5f0f\u5b58\u5728,\u5e76\u7ec4\u6210Spark\u8fd0\u884c\u65f6\u73af\u5883(\u96c6\u7fa4)</p> <ul> <li> <p>Spark\u89d2\u8272\u5728StandAlone\u4e2d\u7684\u5206\u5e03\uff1f   Master\u89d2\u8272:Master\u8fdb\u7a0b, Worker\u89d2\u8272:Worker\u8fdb\u7a0b, Driver\u89d2\u8272\u548cExecutor\u89d2\u8272:   \u4ee5\u7ebf\u7a0b\u8fd0\u884c\u5728Worker\u4e2d</p> </li> <li> <p>Standalone\u5982\u4f55\u63d0\u4ea4Spark\u5e94\u7528\uff1f   bin/spark-submit --master spark://server:7077  </p> </li> <li> <p>4040\\8080\\18080\u5206\u522b\u662f\u4ec0\u4e48?   4040\u662f\u5355\u4e2a\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u5019\u7ed1\u5b9a\u7684\u7aef\u53e3\u53ef\u4f9b\u67e5\u770b\u672c\u4efb\u52a1\u8fd0\u884c\u60c5\u51b5</p> </li> </ul> <p>8080\u662fspark\u96c6\u7fa4web\u7aef\u53e3</p> <p>18080\u662f\u5386\u53f2\u670d\u52a1\u5668\u7684web\u7aef\u53e3</p> <ul> <li>Job\\State\\Task\u7684\u5173\u7cfb?   \u4e00\u4e2aSpark\u7a0b\u5e8f\u4f1a\u88ab\u5206\u6210\u591a\u4e2a\u5b50\u4efb\u52a1(Job)\u8fd0\u884c, \u6bcf\u4e00\u4e2aJob\u4f1a\u5206\u6210\u591a\u4e2aState(\u9636\u6bb5)\u6765   \u8fd0\u884c, \u6bcf\u4e00\u4e2aState\u5185\u4f1a\u5206\u51fa\u6765\u591a\u4e2aTask(\u7ebf\u7a0b)\u6765\u6267\u884c\u5177\u4f53\u4efb\u52a1  </li> </ul>"},{"location":"Hadoop/00-main/#spark-on-yarn","title":"Spark on yarn\u96c6\u7fa4\u6a21\u5f0f\u548c\u5ba2\u6237\u7aef\u6a21\u5f0f\u533a\u522b","text":"<p>Client\u6a21\u5f0f\u548cCluster\u6a21\u5f0f\u6700\u6700\u672c\u8d28\u7684\u533a\u522b\u662f\uff1a Driver\u7a0b\u5e8f\u8fd0\u884c\u5728\u54ea\u91cc\u3002</p> <ul> <li>Client\u6a21\u5f0f\uff1a\u5b66\u4e60\u6d4b\u8bd5\u65f6\u4f7f\u7528\uff0c\u751f\u4ea7\u4e0d\u63a8\u8350(\u8981\u7528\u4e5f\u53ef\u4ee5,\u6027\u80fd\u7565\u4f4e,\u7a33\u5b9a\u6027\u7565\u4f4e)</li> <li>Driver\u8fd0\u884c\u5728Client\u4e0a,\u548c\u96c6\u7fa4\u7684\u901a\u4fe1\u6210\u672c\u9ad8</li> <li>Driver\u8f93\u51fa\u7ed3\u679c\u4f1a\u5728\u5ba2\u6237\u7aef\u663e\u793a</li> <li>Cluster\u6a21\u5f0f\uff1a\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u8be5\u6a21\u5f0f</li> <li>Driver\u7a0b\u5e8f\u5728YARN\u96c6\u7fa4\u4e2d\uff0c\u548c\u96c6\u7fa4\u7684\u901a\u4fe1\u6210\u672c\u4f4e</li> <li>Driver\u8f93\u51fa\u7ed3\u679c\u4e0d\u80fd\u5728\u5ba2\u6237\u7aef\u663e\u793a</li> <li>\u8be5\u6a21\u5f0f\u4e0bDriver\u8fd0\u884cApplicattionMaster\u8fd9\u4e2a\u8282\u70b9\u4e0a,\u7531Yarn\u7ba1\u7406\uff0c\u5982\u679c\u51fa\u73b0\u95ee\u9898\uff0c yarn\u4f1a\u91cd\u542f      ApplicattionMaster(Driver)  </li> </ul>"},{"location":"Hadoop/00-main/#sparkonyarn","title":"SparkOnYarn\u7684\u672c\u8d28","text":"<p>Master\u7531ResourceManager\u4ee3\u66ff Worker\u7531NodeManager\u4ee3\u66ff Driver\u53ef\u4ee5\u8fd0\u884c\u5728\u5bb9\u5668\u5185(Cluster\u6a21\u5f0f)\u6216\u5ba2\u6237\u7aef\u8fdb\u7a0b\u4e2d(Client\u6a21\u5f0f) Executor\u5168\u90e8\u8fd0\u884c\u5728YARN\u63d0\u4f9b\u7684\u5bb9\u5668\u5185</p> <p>Why Spark On YARN?     \u63d0\u9ad8\u8d44\u6e90\u5229\u7528\u7387, \u5728\u5df2\u6709YARN\u7684\u573a\u666f\u4e0b\u8ba9Spark\u6536\u5230YARN\u7684\u8c03\u5ea6\u53ef\u4ee5\u66f4\u597d\u7684\u7ba1\u63a7 \u8d44\u6e90\u63d0\u9ad8\u5229\u7528\u7387\u5e76\u65b9\u4fbf\u7ba1\u7406  </p>"},{"location":"Hadoop/00-main/#spark","title":"Spark\u96c6\u7fa4\u89d2\u8272\u5206\u6790","text":""},{"location":"Hadoop/00-main/#_10","title":"\u5206\u5e03\u5f0f\u4ee3\u7801\u7279\u5f81","text":"<ul> <li>\u4ee3\u7801\u5728\u96c6\u7fa4\u4e0a\u8fd0\u884c, \u662f\u88ab\u5206\u5e03\u5f0f\u8fd0\u884c\u7684.</li> <li>\u5728Spark\u4e2d, \u975e\u4efb\u52a1\u5904\u7406\u90e8\u5206\u7531Driver\u6267\u884c(\u975eRDD\u4ee3\u7801)</li> <li>\u4efb\u52a1\u5904\u7406\u90e8\u5206\u7531Executor\u6267\u884c(RDD\u4ee3\u7801).</li> <li>Executor\u7684\u6570\u91cf\u53ef\u4ee5\u5f88\u591a,\u6240\u4ee5\u4efb\u52a1\u7684\u8ba1\u7b97\u662f\u5206\u5e03\u5f0f\u5728\u8fd0\u884c\u7684.</li> </ul>"},{"location":"Hadoop/00-main/#pyspark","title":"PySpark\u7684\u67b6\u6784\u4f53\u7cfb","text":"<ul> <li>Python On Spark Driver\u7aef\u7531JVM\u6267\u884c, Executor\u7aef\u7531JVM\u505a\u547d\u4ee4\u8f6c\u53d1, \u5e95\u5c42\u7531</li> <li>Python\u89e3\u91ca\u5668\u8fdb\u884c\u5de5\u4f5c  </li> </ul>"},{"location":"Hadoop/00-main/#42-pyspark","title":"4.2 PYspark","text":"<pre><code># coding:utf8\nfrom pyspark import SparkConf, SparkContext\n\n# \u672c\u5730\u8fd0\u884c\u9700\u8981\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\n# import os\n# os.environ['PYSPARK_PYTHON'] = r'D:\\anaconda3\\envs\\pyspark\\python.exe'\n\n\nif __name__ == '__main__':\n    # \u901a\u8fc7 SparkConf \u5bf9\u8c61\uff0c\u521b\u5efaspark\u5e94\u7528\u7a0b\u5e8f\n    conf = (\n        SparkConf()\n        # .setMaster('local[*]')  # \u4f7f\u7528spark-submit\u65f6\u4e0d\u8981\u4f7f\u7528 setMaster,\u76f4\u63a5\u5728cmd\u91cc\u8bbe\u7f6e\u63d0\u4ea4\n        .setAppName('WordCountHelloWorld')\n    )\n    # \u901a\u8fc7SparkConf\u5bf9\u8c61\u6784\u5efaSparkContext\u5bf9\u8c61\n    sc = SparkContext(conf=conf)\n    # \u8bbe\u7f6eSpark\u65e5\u5fd7\u7b49\u7ea7\n    # sc.setLogLevel('INFO')\n\n    # \u9700\u6c42\uff1awordcount\u6280\u672f\uff0c\u8bfb\u53d6HDFS\u4e0b\u7684words.txt\u6587\u4ef6\uff0c\u5bf9\u5176\u7edf\u8ba1\u6bcf\u4e2a\u5355\u8bcd\u51fa\u73b0\u7684\u6b21\u6570\n    # 1.\u8bfb\u53d6\u6587\u4ef6, \u9700\u8981\u6240\u6709\u7684node\u90fd\u80fd\u8bfb\u53d6\u5230\u6b64\u6587\u4ef6\n    file_rdd = sc.textFile('hdfs://node1:8020/input/words.txt')\n    # file_rdd = sc.textFile('./data/word.txt')\n\n    # \u5c06\u5355\u8bcd\u8fdb\u884c\u5207\u5272\uff0c\u5f97\u5230\u4e00\u4e2a\u5b58\u50a8\u5168\u90e8\u5355\u8bcd\u7684\u96c6\u5408\u5bf9\u8c61\n    words_rdd = file_rdd.flatMap(lambda line: line.split())\n\n    # \u5c06\u5355\u8bcd\u8f6c\u6362\u4e3a\u5143\u7ec4\uff0ckey\u662f\u5355\u8bcd\uff0cvalue\u9ed8\u8ba4\u4e3a1\n    words_with_one_rdd = words_rdd.map(lambda x: (x, 1))\n\n    # \u5c06\u5143\u7ec4\u7684value\u6309\u7167key\u6765\u5206\u7ec4\uff0c\u5bf9\u6240\u6709\u7684value\u6267\u884c\u805a\u5408\u64cd\u4f5c(\u76f8\u52a0)\n    result_rdd = words_with_one_rdd.reduceByKey(lambda a, b: a + b)\n\n    # \u83b7\u53d6\u7ed3\u679c\n    print(result_rdd.collect())\n\n    res = (\n        sc.textFile('hdfs://node1:8020/input/words.txt')\n        .flatMap(lambda line: line.split())\n        .map(lambda x: (x, 1))\n        .reduceByKey(lambda a, b: a + b)\n        .collect()\n    )\n    print(res)\n</code></pre>"},{"location":"Hadoop/00-main/#43-rdd","title":"4.3. RDD","text":"<p>RDD\uff08Resilient Distributed Dataset\uff09\u53eb\u505a\u5f39\u6027\u5206\u5e03\u5f0f\u6570\u636e\u96c6\uff0c\u662fSpark\u4e2d\u6700\u57fa\u672c\u7684\u6570\u636e\u62bd\u8c61\uff0c\u4ee3\u8868\u4e00\u4e2a\u4e0d\u53ef\u53d8\u3001\u53ef\u5206\u533a\u3001\u91cc\u9762\u7684\u5143\u7d20\u53ef\u5e76\u884c\u8ba1\u7b97\u7684\u96c6\u5408\u3002</p> <ul> <li> <p>Dataset\uff1a\u4e00\u4e2a\u6570\u636e\u96c6\u5408\uff0c\u7528\u4e8e\u5b58\u653e\u6570\u636e\u7684\u3002</p> </li> <li> <p>Distributed\uff1a RDD\u4e2d\u7684\u6570\u636e\u662f\u5206\u5e03\u5f0f\u5b58\u50a8\u7684\uff0c\u53ef\u7528\u4e8e\u5206\u5e03\u5f0f\u8ba1\u7b97\u3002</p> </li> <li> <p>Resilient\uff1a RDD\u4e2d\u7684\u6570\u636e\u53ef\u4ee5\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\u6216\u8005\u78c1\u76d8\u4e2d\u3002  </p> </li> </ul> <p></p>"},{"location":"Hadoop/00-main/#groupbukeyreducebykey","title":"groupBuKey\u548creduceByKey\u7684\u533a\u522b","text":"<ul> <li> <p>groupBuKey\uff1a\u53ea\u662f\u5206\u7ec4</p> </li> <li> <p>reduceByKey\uff1a\u5206\u7ec4+\u805a\u5408</p> </li> <li> <p>\u6027\u80fd\uff1a</p> </li> <li> <p>reduceByKey\u7684\u6027\u80fd\u8fdc\u8fdc\u5927\u4e8egroupBuKey+\u5355\u72ec\u7684\u805a\u5408\u903b\u8f91</p> </li> <li> <p></p> </li> <li> <p></p> </li> <li> <p>reduceByKey\u662f\u5148\u5185\u90e8\u505a\u4e86\u805a\u5408\u518d\u4f20\u8f93\u6570\u636e\u5206\u7ec4\uff0c\u4f20\u8f93IO\u5c0f\uff0c\u800cgroupBuKey\u662f\u5148\u5206\u7ec4\u518d\u805a\u5408</p> </li> </ul>"},{"location":"Hadoop/00-main/#_11","title":"\u603b\u7ed3","text":"<ol> <li>RDD\u521b\u5efa\u6709\u54ea\u51e0\u79cd\u65b9\u6cd5\uff1f      \u901a\u8fc7\u5e76\u884c\u5316\u96c6\u5408\u7684\u65b9\u5f0f(\u672c\u5730\u96c6\u5408\u8f6c\u5206\u5e03\u5f0f\u96c6\u5408)      \u6216\u8005\u8bfb\u53d6\u6570\u636e\u7684\u65b9\u5f0f\u521b\u5efa(TextFile\\WholeTextFile)</li> <li>RDD\u5206\u533a\u6570\u5982\u4f55\u67e5\u770b\uff1f      \u901a\u8fc7 getNumPartitions API \u67e5\u770b, \u8fd4\u56de\u503cInt</li> <li>Transformation \u548c Action\u7684\u533a\u522b?      \u8f6c\u6362\u7b97\u5b50\u7684\u8fd4\u56de\u503c100%\u662fRDD, \u800cAction\u7b97\u5b50\u7684\u8fd4\u56de\u503c100%\u4e0d\u662fRDD.      \u8f6c\u6362\u7b97\u5b50\u662f\u61d2\u52a0\u8f7d\u7684, \u53ea\u6709\u9047\u5230Action\u624d\u4f1a\u6267\u884c. Action\u5c31\u662f\u8f6c\u6362\u7b97\u5b50\u5904\u7406\u94fe\u6761\u7684\u5f00\u5173.</li> <li> <p>\u54ea\u4e24\u4e2aAction\u7b97\u5b50\u7684\u7ed3\u679c\u4e0d\u7ecf\u8fc7Driver, \u76f4\u63a5\u8f93\u51fa?      foreach \u548c saveAsTextFile \u76f4\u63a5\u7531Executor\u6267\u884c\u540e\u8f93\u51fa      \u4e0d\u4f1a\u5c06\u7ed3\u679c\u53d1\u9001\u5230Driver\u4e0a\u53bb  </p> </li> <li> <p>reduceByKey \u548c groupByKey\u7684\u533a\u522b?    reduceByKey\u81ea\u5e26\u805a\u5408\u903b\u8f91, groupByKey\u4e0d\u5e26    \u5982\u679c\u505a\u6570\u636e\u805a\u5408reduceByKey\u7684\u6548\u7387\u66f4\u597d, \u56e0\u4e3a\u53ef\u4ee5\u5148\u805a\u5408\u540eshuffle\u518d\u6700\u7ec8\u805a\u5408, \u4f20\u8f93\u7684IO\u5c0f</p> </li> <li>mapPartitions \u548c foreachPartition \u7684\u533a\u522b?    mapPartitions \u5e26\u6709\u8fd4\u56de\u503c foreachPartition\u4e0d\u5e26</li> <li>\u5bf9\u4e8e\u5206\u533a\u64cd\u4f5c\u6709\u4ec0\u4e48\u8981\u6ce8\u610f\u7684\u5730\u65b9?    \u5c3d\u91cf\u4e0d\u8981\u589e\u52a0\u5206\u533a, \u53ef\u80fd\u7834\u574f\u5185\u5b58\u8fed\u4ee3\u7684\u8ba1\u7b97\u7ba1\u9053  </li> </ol>"},{"location":"Hadoop/00-main/#rdd","title":"RDD\u7f13\u5b58","text":"<ul> <li> <p>RDD\u6570\u636e\u662f\u8fc7\u7a0b\u6570\u636e\uff0c\u7528\u4e00\u6b21\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684RDD\u5bf9\u8c61\uff0c\u800c\u524d\u4e00\u4e2a\u88ab\u4f7f\u7528\u8fc7\u7684RDD\u5bf9\u8c61\u5219\u4f1a\u88ab\u91ca\u653e\uff08\u9632\u6b62\u6570\u636e\u4e24\u592a\u5927\u5360\u5185\u5b58\u7b49\uff09\u3002\u4e3a\u4e86RDD\u4e0d\u88ab\u91ca\u653e\uff0c\u53ef\u4ee5\u7ed9RDD\u8bbe\u7f6e\u7f13\u5b58\uff0c\u7f13\u5b58\u5230\u5185\u5b58\u6216\u672c\u5730\u3002</p> </li> <li> <p>\u7f13\u5b58\u7684\u5b58\u50a8\u662f\u5206\u6563\u5b58\u50a8\u7684\uff0c\u4e0d\u540c\u5206\u533a\u7684\u7f13\u5b58\u5b58\u50a8\u5728\u5f53\u524d\u5206\u533a\u6240\u5728\u7684\u673a\u5668\u4e0a\u3002</p> </li> <li> <p>\u7f13\u5b58\u5fc5\u987b\u4fdd\u7559RDD\u7684\u8840\u7f18\u5173\u7cfb\uff0c\u56e0\u4e3a\u5728\u8bbe\u8ba1\u4e0a\u8ba4\u4e3a\uff1a\u7f13\u5b58\u662f\u4e0d\u5b89\u5168\u7684\uff0c\u56e0\u4e3a\u7f13\u5b58\u53ef\u80fd\u4e22\u5931\u3002\u5982\u679c\u7f13\u5b58\u4e22\u5931\u4e86\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7RDD\u7684\u8840\u7f18\u5173\u7cfb\uff0c\u4e5f\u5c31\u662fRDD\u7684\u6765\u6e90\u6765\u91cd\u65b0\u5b8c\u6574\u5f97\u8ba1\u7b97\u5230\u5f53\u524dRDD\u3002</p> </li> <li> <p><code>python   rdd.cache()  # \u7f13\u5b58   rdd3.persist(StorageLevel.MEMORY_ONLY)  # \u8bbe\u7f6e\u7f13\u5b58\u65b9\u5f0f   rdd3.unpersist()  # \u53d6\u6d88\u8bbe\u7f6e\u7f13\u5b58</code></p> </li> </ul> <p></p>"},{"location":"Hadoop/00-main/#rdd-checkpoint","title":"RDD CheckPoint","text":"<ul> <li>CheckPoint\u4e0d\u7ba1\u5206\u533a\u6570\u91cf\u591a\u5c11,\u98ce\u9669\u662f\u4e00\u6837\u7684\uff0c\u7f13\u5b58\u5206\u533a\u8d8a\u591a,\u98ce\u9669\u8d8a\u9ad8\u3002</li> <li>CheckPoint\u652f\u6301\u5199\u5165HDFS,\u7f13\u5b58\u4e0d\u884c, HDFS\u662f\u9ad8\u53ef\u9760\u5b58\u50a8, CheckPoint\u88ab\u8ba4\u4e3a\u662f\u5b89\u5168\u7684.</li> <li>CheckPoint\u4e0d\u652f\u6301\u5185\u5b58,\u7f13\u5b58\u53ef\u4ee5,\u7f13\u5b58\u5982\u679c\u5199\u5185\u5b58\u6027\u80fd\u6bd4CheckPoint\u8981\u597d\u4e00\u4e9b</li> <li>CheckPoint\u56e0\u4e3a\u8bbe\u8ba1\u8ba4\u4e3a\u662f\u5b89\u5168\u7684,\u6240\u4ee5\u4e0d\u4fdd\u7559\u8840\u7f18\u5173\u7cfb,\u800c\u7f13\u5b58\u56e0\u4e3a\u8bbe\u8ba1\u4e0a\u8ba4\u4e3a\u4e0d\u5b89\u5168,\u6240\u4ee5\u4fdd\u7559</li> </ul>"},{"location":"Hadoop/00-main/#_12","title":"\u5e7f\u64ad\u53d8\u91cf","text":"<ul> <li>\u5206\u5e03\u5f0f\u96c6\u5408 \u5e7f\u64ad\u53d8\u91cf\u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898?</li> </ul> <p>RDD\u548c\u672c\u5730\u96c6\u5408\u8fdb\u884c\u5173\u8054\u4f7f\u7528\u7684\u65f6\u5019 , \u964d\u4f4e\u5185\u5b58\u5360\u7528\u4ee5\u53ca\u51cf\u5c11\u7f51\u7edcIO\u4f20\u8f93, \u63d0\u9ad8\u6027\u80fd.</p> <p></p>"},{"location":"Hadoop/00-main/#_13","title":"\u7d2f\u52a0\u5668","text":"<pre><code># -*- coding: utf-8 -*-\n\"\"\"\n@Time  : 2023/7/5 20:56\n@Author: XuanYi\n@File  : 07-\u7d2f\u52a0\u5668.py\n@desc  :\n\"\"\"\nfrom pyspark import SparkContext, SparkConf\n\nif __name__ == '__main__':\n    sc = SparkContext(\n        conf=SparkConf()\n        .setAppName('test')\n        .setMaster('local[*]')\n    )\n    rdd = sc.parallelize(range(10), 2)\n\n    # spark \u63d0\u4f9b\u7684\u7d2f\u52a0\u5668\u53d8\u91cf\uff0c\u521d\u59cb\u503c\u8bbe\u7f6e\u4e3a0\n    acml = sc.accumulator(0)\n\n    def map_func(data):\n        global acml\n        acml += 1\n\n\n    rdd2 = rdd.map(map_func)\n    # \u5982\u679c\u4e0d\u8bbe\u7f6ecache\u800crdd2\u5728\u88ab\u8c03\u7528 collect \u540e rdd2\u5c31\u4f1a\u88ab\u9500\u6bc1\uff0c\u67d3\u56de\u518d\u8c03\u7528rdd2\u7684\u8bdd\uff0c\u5c31\u4f1a\u628a\u4e0a\u9762\u7684\u4ee3\u7801\u5728\u8fd0\u884c\u4e00\u6b21\uff0c\u6b64\u65f6 acml \u5c31\u662f 20\n    # \u8fd9\u6837\u5f88\u5bb9\u6613\u51fa\u9519\uff01\uff01\n    rdd2.cache()\n    rdd2.collect()\n\n    rdd3 = rdd2.map(lambda x: x)\n\n    print(acml)\n</code></pre> <ul> <li>\u7d2f\u52a0\u5668\u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898?</li> </ul> <p>\u5206\u5e03\u5f0f\u4ee3\u7801\u6267\u884c\u4e2d, \u8fdb\u884c\u5168\u5c40\u7d2f\u52a0  </p>"},{"location":"Hadoop/00-main/#_14","title":"\u603b\u7ed3","text":"<ol> <li>Cache\u548cCheckpoint\u533a\u522b</li> </ol> <p>Cache\u662f\u8f7b\u91cf\u5316\u4fdd\u5b58RDD\u6570\u636e, \u53ef\u5b58\u50a8\u5728\u5185\u5b58\u548c\u786c\u76d8, \u662f\u5206\u6563\u5b58\u50a8, \u8bbe\u8ba1\u4e0a\u6570\u636e\u662f\u4e0d\u5b89\u5168\u7684(\u4fdd\u7559RDD\u8840\u7f18\u5173\u7cfb)    CheckPoint\u662f\u91cd\u91cf\u7ea7\u4fdd\u5b58RDD\u6570\u636e, \u662f\u96c6\u4e2d\u5b58\u50a8, \u53ea\u80fd\u5b58\u50a8\u5728\u786c\u76d8(HDFS)\u4e0a, \u8bbe\u8ba1\u4e0a\u662f\u5b89\u5168\u7684(\u4e0d\u4fdd\u7559RDD\u8840\u7f18\u5173\u7cfb)</p> <ol> <li>Cache \u548c CheckPoint\u7684\u6027\u80fd\u5bf9\u6bd4?</li> </ol> <p>\u200b       Cache\u6027\u80fd\u66f4\u597d, \u56e0\u4e3a\u662f\u5206\u6563\u5b58\u50a8, \u5404\u4e2aExecutor\u5e76\u884c\u6267\u884c, \u6548\u7387\u9ad8, \u53ef\u4ee5\u4fdd\u5b58\u5230\u5185\u5b58\u4e2d(\u5360\u5185\u5b58),\u66f4\u5feb \u200b       CheckPoint\u6bd4\u8f83\u6162, \u56e0\u4e3a\u662f\u96c6\u4e2d\u5b58\u50a8, \u6d89\u53ca\u5230\u7f51\u7edcIO, \u4f46\u662f\u5b58\u50a8\u5230HDFS\u4e0a\u66f4\u52a0\u5b89\u5168(\u591a\u526f\u672c)  </p>"},{"location":"Hadoop/00-main/#44-dag","title":"4.4. DAG","text":"<p>spark\u7684\u6267\u884c\u6d41\u7a0b\u56fe\uff0c\u4e00\u4e2a Action(\u4ee3\u7801\u4e2d\u7684Action\u51fd\u6570) \u5bf9\u5e94 \u4e00\u4e2aJob \u5bf9\u5e94 \u4e00\u4e2aDAG</p> <ul> <li> <p>1\u4e2aAction\u4f1a\u4ea7\u751f1\u4e2aDAG,\u5982\u679c\u5728\u4ee3\u7801\u4e2d\u67093\u4e2aAction \u5c31\u4ea7\u751f3\u4e2aDAG\u3002\u4e00\u4e2aAction\u4ea7\u751f\u7684\u4e00\u4e2aDAG,\u4f1a\u5728\u7a0b\u5e8f\u8fd0\u884c\u4e2d\u4ea7\u751f\u4e00\u4e2aJob\u3002\u6240\u4ee5:1\u4e2aACTION = 1\u4e2aDAG =1\u4e2aJob</p> </li> <li> <p>\u5982\u679c\u4e00\u4e2a\u4ee3\u7801\u4e2d,\u5199\u4e863\u4e2aAction,\u90a3\u4e48\u8fd9\u4e2a\u4ee3\u7801\u8fd0\u884c\u8d77\u6765\u4ea7\u751f3\u4e2aJOB,\u6bcf\u4e2aJOB\u6709\u81ea\u5df1\u7684DAG</p> </li> </ul> <p>\u4e00\u4e2a\u4ee3\u7801\u8fd0\u884c\u8d77\u6765\uff0c\u5728Spark\u4e2d\u79f0\u4e4b\u4e3a: Application</p> <ul> <li>\u5c42\u7ea7\u5173\u7cfb:   1\u4e2aApplication\u4e2d,\u53ef\u4ee5\u6709\u591a\u4e2aJOB,\u6bcf\u4e00\u4e2aJOB\u5185\u542b\u4e00\u4e2aDAG,\u540c\u65f6\u6bcf\u4e00\u4e2aJOB\u90fd\u662f\u7531\u4e00\u4e2aAction\u4ea7\u751f\u7684.</li> </ul> <p></p>"},{"location":"Hadoop/00-main/#441-dag","title":"4.4.1 DAG\u7684\u5bbd\u7a84\u4f9d\u8d56\u548c\u9636\u6bb5\u5212\u5206","text":"<ul> <li> <p>RDD\u524d\u540e\u5173\u7cfb\u5206\u4e3a</p> </li> <li> <p>\u7a84\u4f9d\u8d56\uff1a\u7236RDD\u7684\u4e00\u4e2a\u5206\u533a\uff0c\u5168\u90e8\u5c06\u6570\u636e\u53d1\u7ed9\u5b50RDD\u7684\u4e00\u4e2a\u5206\u533a</p> <p></p> </li> <li> <p>\u5bbd\u4f9d\u8d56\uff08shuffle\uff09\uff1a\u7236RDD\u7684\u4e00\u4e2a\u5206\u533a,\u5c06\u6570\u636e\u53d1\u7ed9\u5b50RDD\u7684\u591a\u4e2a\u5206\u533a\u3001</p> <p></p> </li> <li> <p>\u9636\u6bb5\u5212\u5206\uff08stage\uff09\uff1aSpark\u4f1a\u628a\u5bbd\u4f9d\u8d56\u4e2a\u7a84\u4f9d\u8d56\u5206\u5f00\u6765\u8ba1\u7b97\uff0c\u6700\u540e\u518dshuffle</p> </li> <li> <p>\u5212\u5206\u4f9d\u636e\uff1a\u4ece\u524d\u5411\u540e\uff0c\u9047\u5230\u5bbd\u4f9d\u8d56\u5c31\u5212\u5206\u51fa\u4e00\u4e2a\u9636\u6bb5\uff08stage\uff09</p> <p></p> </li> <li> <p>\u5982\u56fe\u53ef\u4ee5\u770b\u89c1\u5212\u5206\u4e3a\u4e86\u4e24\u4e2a stage</p> </li> <li> <p>\u5728stage\u5185\u90e8\u4e00\u5b9a\u662f\uff1a\u7a84\u4f9d\u8d56</p> </li> <li> <p>Spark\u662f\u600e\u4e48\u505a\u5185\u5b58\u8ba1\u7b97\u7684? DAG\u7684\u4f5c\u7528? Stage\u9636\u6bb5\u5212\u5206\u7684\u4f5c\u7528?</p> </li> <li>Spark\u4f1a\u4ea7\u751fDAG\u56fe</li> <li>DAG\u56fe\u4f1a\u57fa\u4e8e\u5206\u533a\u548c\u5bbd\u7a84\u4f9d\u8d56\u5173\u7cfb\u5212\u5206\u9636\u6bb5</li> <li>\u4e00\u4e2a\u9636\u6bb5\u7684\u5185\u90e8\u90fd\u662f\u7a84\u4f9d\u8d56\uff0c\u7a84\u4f9d\u8d56\u5185,\u5982\u679c\u5f62\u6210\u524d\u540e1:1\u7684\u5206\u533a\u5bf9\u5e94\u5173\u7cfb,\u5c31\u53ef\u4ee5\u4ea7\u751f\u8bb8\u591a\u5185\u5b58\u8fed\u4ee3\u8ba1\u7b97\u7684\u7ba1\u9053</li> <li>\u8fd9\u4e9b\u5185\u5b58\u8fed\u4ee3\u8ba1\u7b97\u7684\u7ba1\u9053,\u5c31\u662f\u4e00\u4e2a\u4e2a\u5177\u4f53\u7684\u6267\u884cTask</li> <li> <p>\u4e00\u4e2aTask\u662f\u4e00\u4e2a\u5177\u4f53\u7684\u7ebf\u7a0b,\u4efb\u52a1\u8dd1\u5728\u4e00\u4e2a\u7ebf\u7a0b\u5185,\u5c31\u662f\u8d70\u5185\u5b58\u8ba1\u7b97\u4e86.</p> </li> <li> <p>Spark\u4e3a\u4ec0\u4e48\u6bd4MapReduce\u5feb?</p> </li> <li>Spark\u7684\u7b97\u5b50\u4e30\u5bcc, MapReduce\u7b97\u5b50\u532e\u4e4f(Map\u548cReduce), MapReduce\u8fd9\u4e2a\u7f16\u7a0b\u6a21\u578b,\u5f88\u96be\u5728\u4e00\u5957MR\u4e2d\u5904\u7406\u590d\u6742\u7684\u4efb\u52a1.\u5f88\u591a\u7684\u590d\u6742\u4efb\u52a1,\u662f\u9700\u8981\u5199\u591a\u4e2aMapReduce\u8fdb\u884c\u4e32\u8054.\u591a\u4e2aMR\u4e32\u8054\u901a\u8fc7\u78c1\u76d8\u4ea4\u4e92\u6570\u636e</li> <li>Spark\u53ef\u4ee5\u6267\u884c\u5185\u5b58\u8fed\u4ee3,\u7b97\u5b50\u4e4b\u95f4\u5f62\u6210DAG\u57fa\u4e8e\u4f9d\u8d56\u5212\u5206\u9636\u6bb5\u540e,\u5728\u9636\u6bb5\u5185\u5f62\u6210\u5185\u5b58\u8fed\u4ee3\u7ba1\u9053.\u4f46\u662fMapReduce\u7684Map\u548cReduce\u4e4b\u95f4\u7684\u4ea4\u4e92\u4f9d\u65e7\u662f\u901a\u8fc7\u786c\u76d8\u6765\u4ea4\u4e92\u7684.</li> <li>\u7f16\u7a0b\u6a21\u578b\u4e0aspark\u5360\u4f18(\u7b97\u5b50\u591f\u591a)</li> <li>\u7b97\u5b50\u4ea4\u4e92\u4e0a,\u548c\u8ba1\u7b97\u4e0a\u53ef\u4ee5\u5c3d\u91cf\u591a\u7684\u5185\u5b58\u8ba1\u7b97\u800c\u975e\u78c1\u76d8\u8fed\u4ee3</li> </ul>"},{"location":"Hadoop/00-main/#45","title":"4.5 \u5e76\u884c\u5ea6\uff08\u5e76\u53d1\uff09","text":"<p>Spark\u7684\u5e76\u884c\uff1a\u540c\u4e00\u65f6\u95f4\u5185\uff0c\u6709\u591a\u5c11\u4e2atask\u5728\u540c\u65f6\u8fd0\u884c</p> <p>\u5982\u679c\u8bbe\u7f6e\u5e76\u884c\u5ea6\u4e3a6\uff0c\u5219\u67096\u4e2atask\u5728\u540c\u65f6\u8fd0\u884c\uff0crdd\u7684\u5206\u533a\u4e5f\u5c31\u4f1a\u88ab\u5212\u5206\u4e3a6\u4e2a\u5206\u533a</p> <ul> <li>\u8bbe\u7f6e\u5e76\u884c\u5ea6\uff1a</li> </ul> <p>\u53ef\u4ee5\u5728\u4ee3\u7801\u548c\u914d\u7f6e\u6587\u4ef6\u4e2d\u4ee5\u53ca\u63d0\u4ea4\u547d\u4ee4\u7684\u53c2\u6570\u4e2d\u8bbe\u7f6e</p> <p>\u4ee5\u4e0b\u4f18\u5148\u7ea7\u4ece\u9ad8\u5230\u4f4e</p> <ul> <li>\u4ee3\u7801\uff1a<code>conf = SparkConf()</code> <code>conf.set(\"spark.default.parallelism\", 100)</code></li> <li>\u5ba2\u6237\u7aef\u63d0\u4ea4\u53c2\u6570\uff1a<code>bin/spark-submit --conf \"spark.default.parallelism 100\"</code></li> <li>\u914d\u7f6e\u6587\u4ef6\uff1a<code>conf/spark-defaults.conf</code>\u8bbe\u7f6e<code>spark.default.parallelism 100</code></li> <li> <p>\u9ed8\u8ba4(1,\u4f46\u662f\u4e0d\u4f1a\u5168\u90e8\u4ee51\u6765\u8fd0\u884c\u4efb\u52a1\uff0c\u591a\u6570\u65f6\u95f4\u662f\u57fa\u4e8e\u8bfb\u53d6\u6587\u4ef6\u7684\u5206\u7247\u6570\u91cf\u6765\u8fd0\u884c\u7684)</p> </li> <li> <p>\u4e00\u822c\u4e0d\u63a8\u8350\u5728\u4ee3\u7801\u4e2d\u8bbe\u7f6e\u5e76\u884c\u5ea6\uff0c\u56e0\u4e3a\u4f1a\u5bfc\u81f4\u91cd\u65b0shuffle\uff0c\u5185\u5b58\u7ba1\u9053\u91cd\u65b0\u6392\u5217\u3001\u8ba1\u7b97\uff0c\u5bfc\u81f4\u6548\u7387\u4e0b\u964d\u3002</p> </li> <li>repartition</li> <li>coalesce</li> <li> <p>partitionBy</p> </li> <li> <p>\u96c6\u7fa4\u5e76\u884c\u5ea6\u89c4\u5212\uff1a</p> </li> <li> <p>\u8bbe\u7f6e\u4e3acpu\u603b\u6838\u5fc3\u76842~10\u500d</p> <p>\u786e\u4fdd\u662fcpu\u6838\u5fc3\u6570\u7684\u6574\u6570\u500d\u5373\u53ef\uff0c\u6700\u5c0f\u662f2\u500d\uff0c\u6700\u5927\u5efa\u8bae\u662f10\u500d</p> </li> <li> <p>\u4e3a\u4ec0\u4e48\u6700\u5c11\u8bbe\u7f6e2\u500d\uff1f</p> <p>cpu\u7684\u4e00\u4e2a\u6838\u5fc3\u540c\u4e00\u65f6\u95f4\u53ea\u80fd\u5e72\u4e00\u4ef6\u4e8b\u60c5. \u6240\u4ee5,\u5728100\u4e2a\u6838\u5fc3\u7684\u60c5\u51b5\u4e0b,\u8bbe\u7f6e100\u4e2a\u5e76\u884c,\u5c31\u80fd\u8ba9CPU 100%\u51fa\u529b. \u8fd9\u79cd\u8bbe\u7f6e\u4e0b,\u5982\u679ctask\u7684\u538b\u529b\u4e0d\u5747\u8861,\u67d0\u4e2atask\u5148\u6267\u884c\u5b8c\u4e86.\u5c31\u5bfc\u81f4\u67d0\u4e2aCPU\u6838\u5fc3\u7a7a\u95f2 \u6240\u4ee5,\u6211\u4eec\u5c06Task(\u5e76\u884c)\u5206\u914d\u7684\u6570\u91cf\u53d8\u591a,\u6bd4\u5982800\u4e2a\u5e76\u884c,\u540c\u4e00\u65f6\u95f4\u53ea\u6709100\u4e2a\u5728\u8fd0\u884c,700\u4e2a\u5728\u7b49\u5f85. \u4f46\u662f\u53ef\u4ee5\u786e\u4fdd,\u67d0\u4e2atask\u8fd0\u884c\u5b8c\u4e86.\u540e\u7eed\u6709task\u8865\u4e0a,\u4e0d\u8ba9cpu\u95f2\u4e0b\u6765,\u6700\u5927\u7a0b\u5ea6\u5229\u7528\u96c6\u7fa4\u7684\u8d44\u6e90.</p> </li> </ul>"},{"location":"Hadoop/00-main/#46-spark","title":"4.6. Spark\u4efb\u52a1\u8c03\u5ea6","text":""},{"location":"Hadoop/00-main/#461-driver","title":"4.6.1 Driver\u5185\u7684\u4e24\u4e2a\u7ec4\u4ef6","text":""},{"location":"Hadoop/00-main/#dag","title":"DAG\u8c03\u5ea6\u5668","text":"<p>\u200b   \u5de5\u4f5c\u5185\u5bb9\uff1a\u5c06\u903b\u8f91\u7684DAG\u56fe\u8fdb\u884c\u5904\u7406\uff0c\u6700\u7ec8\u5f97\u5230\u903b\u8f91\u4e0a\u7684Task\u5212\u5206</p>"},{"location":"Hadoop/00-main/#task","title":"Task\u8c03\u5ea6\u5668","text":"<p>\u200b   \u5de5\u4f5c\u5185\u5bb9\uff1a\u57fa\u4e8eDAG Scheduler\u7684\u4ea7\u51fa\uff0c\u6765\u89c4\u5212\u8fd9\u4e9b\u903b\u8f91\u7684task\uff0c\u82f1\u7231\u5728\u54ea\u4e9b\u7269\u7406\u4e0a\u7684executor\u4e0a \u8fd0\u884c\uff0c\u4ee5\u53ca\u76d1\u63a7\u5b83\u4eec\u7684\u8fd0\u884c\u3002</p>"},{"location":"Hadoop/00-main/#_15","title":"\u603b\u7ed3","text":"<ul> <li>DAG\u662f\u4ec0\u4e48\u6709\u4ec0\u4e48\u4f5c\u7528</li> </ul> <p>DAG\u6709\u5411\u65e0\u73af\u56fe,\u7528\u4ee5\u63cf\u8ff0\u4efb\u52a1\u6267\u884c\u6d41\u7a0b,\u4e3b\u8981\u4f5c\u7528\u662f\u534f\u52a9DAG\u8c03\u5ea6\u5668\u6784\u5efaTask\u5206\u914d\u7528\u4ee5\u505a\u4efb\u52a1\u7ba1\u7406</p> <ul> <li> <p>\u5185\u5b58\u8fed\u4ee3\\\u9636\u6bb5\u5212\u5206?   \u57fa\u4e8eDAG\u7684\u5bbd\u7a84\u4f9d\u8d56\u5212\u5206\u9636\u6bb5,\u9636\u6bb5\u5185\u90e8\u90fd\u662f\u7a84\u4f9d\u8d56\u53ef\u4ee5\u6784\u5efa\u5185\u5b58\u8fed\u4ee3\u7684\u7ba1\u9053</p> </li> <li> <p>DAG\u8c03\u5ea6\u5668\u662f?   \u6784\u5efaTask\u5206\u914d\u7528\u4ee5\u505a\u4efb\u52a1\u7ba1\u7406</p> </li> </ul>"},{"location":"Hadoop/00-main/#5-sparksql","title":"5. SparkSQL","text":""},{"location":"Hadoop/00-main/#51sparksql","title":"5.1\u4ec0\u4e48\u662fSparkSQL","text":"<p>\u200b       SparkSQL\u662fSpark\u7684\u4e00\u4e2a\u6a21\u5757\uff0c\u7528\u4e8e\u5904\u7406\u6d77\u91cd\u7ed3\u6784\u5316\u6570\u636e</p> <p>\u200b       \u9650\u5b9a:\u7ed3\u6784\u5316\u6570\u636e\u5904\u7406</p>"},{"location":"Hadoop/00-main/#52-sparksql","title":"5.2 SparkSQL\u7684\u6570\u636e\u62bd\u8c61","text":"<ul> <li> <p>DataFrame\u7684\u6784\u6210</p> </li> <li> <p>\u7ed3\u6784\u5c42\u9762</p> <p>StructType\u5bf9\u8c61\u63cf\u8ff0\u6574\u4e2aDataframe\u7684\u8868\u7ed3\u6784</p> <p>StructField\u5bf9\u8c61\u63cf\u8ff0\u4e00\u4e2a\u5217\u7684\u4fe1\u606f</p> </li> <li> <p>\u6570\u636e\u5c42\u9762</p> <p>Row\u5bf9\u8c61\u8bb0\u5f55\u4e00\u884c\u6570\u636e</p> <p>Column\u5bf9\u8c61\u8bb0\u5f55\u4e00\u5217\u6570\u636e\u5e76\u5305\u542b\u5217\u7684\u4fe1\u606f</p> </li> </ul>"},{"location":"Hadoop/00-main/#53-sparksql-shuffle","title":"5.3 SparkSQL Shuffle\u5206\u533a\u6570","text":""},{"location":"Hadoop/00-main/#54-jdbcdataframe","title":"5.4 \u914d\u7f6eJDBC\u8bfb\u53d6DataFrame","text":""},{"location":"Hadoop/00-main/#54","title":"5.4 \u603b\u7ed3","text":"<ol> <li> <p>DataFrame \u5728\u7ed3\u6784\u5c42\u9762\u4e0a\u7531StructField\u7ec4\u6210\u5217\u63cf\u8ff0\uff0c\u7531StructType\u6784\u9020\u8868\u63cf\u8ff0\u3002\u5728\u6570\u636e\u5c42\u9762\u4e0a\uff0c Column\u5bf9\u8c61\u8bb0\u5f55\u5217\u6570\u636e\uff0c Row\u5bf9\u8c61\u8bb0\u5f55\u884c\u6570\u636e</p> </li> <li> <p>DataFrame\u53ef\u4ee5\u4eceRDD\u8f6c\u6362\u3001 Pandas DF\u8f6c\u6362\u3001\u8bfb\u53d6\u6587\u4ef6\u3001\u8bfb\u53d6JDBC\u7b49\u65b9\u6cd5\u6784\u5efa</p> </li> <li> <p>spark.read.format()\u548cdf.write.format() \u662fDataFrame\u8bfb\u53d6\u548c\u5199\u51fa\u7684\u7edf\u4e00\u5316\u6807\u51c6API</p> </li> <li> <p>SparkSQL\u9ed8\u8ba4\u5728Shuffle\u9636\u6bb5200\u4e2a\u5206\u533a\uff0c\u53ef\u4ee5\u4fee\u6539\u53c2\u6570\u83b7\u5f97\u6700\u597d\u6027\u80fd</p> </li> <li> <p>dropDuplicates\u53ef\u4ee5\u53bb\u91cd\u3001 dropna\u53ef\u4ee5\u5220\u9664\u7f3a\u5931\u503c\u3001 fillna\u53ef\u4ee5\u586b\u5145\u7f3a\u5931\u503c</p> </li> <li> <p>SparkSQL\u652f\u6301JDBC\u8bfb\u5199\uff0c\u53ef\u7528\u6807\u51c6API\u5bf9\u6570\u636e\u5e93\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c  </p> </li> </ol>"},{"location":"Hadoop/00-main/#55-udf","title":"5.5 UDF","text":""},{"location":"Hadoop/00-main/#56","title":"5.6 \u7a97\u53e3\u51fd\u6570","text":"<p><code>ROW_NUMBER() over()</code> \u662f SQL \u4e2d\u7684\u4e00\u4e2a\u7a97\u53e3\u51fd\u6570\uff0c\u5b83\u4e3a\u7ed3\u679c\u96c6\u4e2d\u7684\u6bcf\u4e00\u884c\u5206\u914d\u4e00\u4e2a\u552f\u4e00\u7684\u8fde\u7eed\u7f16\u53f7\u3002\u5b83\u901a\u5e38\u7528\u4e8e\u4e3a\u6570\u636e\u7684\u7279\u5b9a\u987a\u5e8f\u6216\u5206\u533a\u751f\u6210\u884c\u53f7\u3002</p> <p><code>OVER()</code> \u5b50\u53e5\u7528\u4e8e\u5b9a\u4e49 <code>ROW_NUMBER()</code> \u51fd\u6570\u64cd\u4f5c\u7684\u7a97\u53e3\u6216\u884c\u5b50\u96c6\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u7279\u5b9a\u7684\u5206\u533a\u6216\u987a\u5e8f\uff0c\u8be5\u51fd\u6570\u5c06\u4e3a\u7ed3\u679c\u96c6\u4e2d\u7684\u6240\u6709\u884c\u5206\u914d\u884c\u53f7\u3002</p> <p>\u4ee5\u4e0b\u662f <code>ROW_NUMBER() over()</code> \u7684\u793a\u4f8b\u7528\u6cd5\uff1a</p> <pre><code>SELECT ROW_NUMBER() OVER() AS row_number, column1, column2\nFROM table_name;\n</code></pre> <p>\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c<code>ROW_NUMBER() OVER()</code> \u51fd\u6570\u7528\u4e8e\u4e3a\u7ed3\u679c\u96c6\u4e2d\u7684\u6bcf\u4e00\u884c\u5206\u914d\u4e00\u4e2a\u552f\u4e00\u7684\u884c\u53f7\u3002<code>row_number</code> \u5217\u5c06\u5305\u542b\u8fde\u7eed\u7684\u6570\u5b57\uff0c\u800c <code>column1</code> \u548c <code>column2</code> \u8868\u793a\u8868\u4e2d\u7684\u5176\u4ed6\u5217\u3002</p> <p>\u60a8\u8fd8\u53ef\u4ee5\u5728 <code>OVER()</code> \u5b50\u53e5\u4e2d\u6307\u5b9a\u7279\u5b9a\u7684\u987a\u5e8f\u6216\u5206\u533a\u3002\u4f8b\u5982\uff1a</p> <pre><code>SELECT ROW_NUMBER() OVER(ORDER BY column1) AS row_number, column1, column2\nFROM table_name;\n</code></pre> <p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c<code>ROW_NUMBER()</code> \u51fd\u6570\u5c06\u6839\u636e <code>column1</code> \u7684\u5347\u5e8f\u987a\u5e8f\u5206\u914d\u884c\u53f7\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u5b9e\u9645\u7684\u8bed\u6cd5\u548c\u7a97\u53e3\u51fd\u6570\u7684\u884c\u4e3a\u53ef\u80fd\u4f1a\u56e0\u6240\u4f7f\u7528\u7684\u5177\u4f53\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff08DBMS\uff09\u800c\u7565\u6709\u4e0d\u540c\u3002\u8fd9\u91cc\u63d0\u4f9b\u7684\u793a\u4f8b\u57fa\u4e8e\u6807\u51c6 SQL \u8bed\u6cd5\u3002</p> <p><code>DENSE_RANK()</code> \u662f SQL \u4e2d\u7684\u53e6\u4e00\u4e2a\u7a97\u53e3\u51fd\u6570\uff0c\u5b83\u4e3a\u7ed3\u679c\u96c6\u4e2d\u7684\u6bcf\u4e00\u884c\u5206\u914d\u4e00\u4e2a\u552f\u4e00\u7684\u6392\u540d\u3002\u5b83\u4e0e <code>ROW_NUMBER()</code> \u51fd\u6570\u7c7b\u4f3c\uff0c\u4f46\u5728\u5904\u7406\u5e76\u5217\u6392\u540d\u65f6\u6709\u6240\u4e0d\u540c\u3002</p> <p><code>DENSE_RANK()</code> \u51fd\u6570\u5c06\u76f8\u540c\u503c\u7684\u884c\u5206\u914d\u76f8\u540c\u7684\u6392\u540d\uff0c\u5e76\u4e14\u5728\u6392\u540d\u4e2d\u4e0d\u4f1a\u7559\u4e0b\u7a7a\u7f3a\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u5982\u679c\u591a\u884c\u5177\u6709\u76f8\u540c\u7684\u503c\u5e76\u83b7\u5f97\u76f8\u540c\u7684\u6392\u540d\uff0c\u4e0b\u4e00\u4e2a\u6392\u540d\u5c06\u589e\u52a0\u4e0e\u5e76\u5217\u884c\u6570\u76f8\u540c\u7684\u6570\u91cf\uff0c\u800c\u4e0d\u4f1a\u8df3\u8fc7\u4efb\u4f55\u6392\u540d\u3002</p> <p>\u4ee5\u4e0b\u662f <code>DENSE_RANK()</code> \u7684\u793a\u4f8b\u7528\u6cd5\uff1a</p> <pre><code>SELECT DENSE_RANK() OVER(ORDER BY column1) AS dense_rank, column1, column2\nFROM table_name;\n</code></pre> <p>\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c<code>DENSE_RANK()</code> \u51fd\u6570\u6839\u636e <code>column1</code> \u7684\u5347\u5e8f\u987a\u5e8f\u4e3a\u6bcf\u4e00\u884c\u5206\u914d\u4e00\u4e2a\u7a20\u5bc6\u6392\u540d\u3002\u5177\u6709\u76f8\u540c <code>column1</code> \u503c\u7684\u884c\u5c06\u83b7\u5f97\u76f8\u540c\u7684\u6392\u540d\uff0c\u5e76\u4e14\u4e0b\u4e00\u4e2a\u6392\u540d\u5c06\u76f8\u5e94\u589e\u52a0\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u4e0e <code>ROW_NUMBER()</code> \u7c7b\u4f3c\uff0c<code>DENSE_RANK()</code> \u7684\u5b9e\u9645\u8bed\u6cd5\u548c\u884c\u4e3a\u53ef\u80fd\u56e0\u6240\u4f7f\u7528\u7684\u5177\u4f53\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff08DBMS\uff09\u800c\u6709\u6240\u4e0d\u540c\u3002\u8fd9\u91cc\u63d0\u4f9b\u7684\u793a\u4f8b\u57fa\u4e8e\u6807\u51c6 SQL \u8bed\u6cd5\u3002</p> <p><code>PARTITION BY</code> \u662f SQL \u4e2d\u7528\u4e8e\u5c06\u7ed3\u679c\u96c6\u5212\u5206\u4e3a\u591a\u4e2a\u5206\u533a\u7684\u5b50\u53e5\u3002\u5b83\u901a\u5e38\u4e0e\u7a97\u53e3\u51fd\u6570\u4e00\u8d77\u4f7f\u7528\uff0c\u4ee5\u5728\u6bcf\u4e2a\u5206\u533a\u5185\u8fdb\u884c\u8ba1\u7b97\u6216\u6392\u5e8f\u3002</p> <p>\u4f7f\u7528 <code>PARTITION BY</code> \u5b50\u53e5\uff0c\u60a8\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u6216\u591a\u4e2a\u5217\uff0c\u5c06\u7ed3\u679c\u96c6\u5206\u6210\u4e0d\u540c\u7684\u7ec4\u6216\u5206\u533a\u3002\u7136\u540e\uff0c\u7a97\u53e3\u51fd\u6570\u5c06\u5728\u6bcf\u4e2a\u5206\u533a\u5185\u72ec\u7acb\u5730\u8fdb\u884c\u8ba1\u7b97\uff0c\u800c\u4e0d\u662f\u5728\u6574\u4e2a\u7ed3\u679c\u96c6\u4e0a\u8fdb\u884c\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\uff0c\u5c55\u793a\u4e86\u5982\u4f55\u4f7f\u7528 <code>PARTITION BY</code> \u5b50\u53e5\uff1a</p> <pre><code>SELECT column1, column2, SUM(column3) OVER (PARTITION BY column1) AS sum_per_partition\nFROM table_name;\n</code></pre> <p>\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c<code>PARTITION BY</code> \u5b50\u53e5\u6839\u636e <code>column1</code> \u7684\u503c\u5c06\u7ed3\u679c\u96c6\u5206\u6210\u591a\u4e2a\u5206\u533a\u3002\u7136\u540e\uff0c<code>SUM()</code> \u7a97\u53e3\u51fd\u6570\u5c06\u5728\u6bcf\u4e2a\u5206\u533a\u5185\u72ec\u7acb\u5730\u8ba1\u7b97 <code>column3</code> \u7684\u603b\u548c\uff0c\u5e76\u5c06\u7ed3\u679c\u4f5c\u4e3a <code>sum_per_partition</code> \u5217\u8fd4\u56de\u3002</p> <p>\u901a\u8fc7\u4f7f\u7528 <code>PARTITION BY</code>\uff0c\u60a8\u53ef\u4ee5\u5bf9\u6bcf\u4e2a\u5206\u533a\u5e94\u7528\u4e0d\u540c\u7684\u805a\u5408\u51fd\u6570\u3001\u6392\u5e8f\u89c4\u5219\u6216\u5176\u4ed6\u7a97\u53e3\u51fd\u6570\uff0c\u4ee5\u4fbf\u66f4\u7075\u6d3b\u5730\u5904\u7406\u7ed3\u679c\u96c6\u7684\u4e0d\u540c\u90e8\u5206\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c<code>PARTITION BY</code> \u5b50\u53e5\u7684\u8bed\u6cd5\u548c\u884c\u4e3a\u53ef\u80fd\u56e0\u6240\u4f7f\u7528\u7684\u5177\u4f53\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff08DBMS\uff09\u800c\u6709\u6240\u4e0d\u540c\u3002\u4e0a\u8ff0\u793a\u4f8b\u57fa\u4e8e\u6807\u51c6 SQL \u8bed\u6cd5\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u6839\u636e\u60a8\u6240\u4f7f\u7528\u7684\u6570\u636e\u5e93\u7cfb\u7edf\u8fdb\u884c\u9002\u5f53\u7684\u8c03\u6574\u3002</p> <p><code>RANK()</code> \u662f SQL \u4e2d\u7684\u4e00\u4e2a\u7a97\u53e3\u51fd\u6570\uff0c\u7528\u4e8e\u4e3a\u7ed3\u679c\u96c6\u4e2d\u7684\u6bcf\u4e00\u884c\u5206\u914d\u4e00\u4e2a\u6392\u540d\u3002\u5b83\u6839\u636e\u6307\u5b9a\u7684\u6392\u5e8f\u987a\u5e8f\u5bf9\u884c\u8fdb\u884c\u6392\u5e8f\uff0c\u5e76\u4e3a\u6bcf\u4e2a\u884c\u5206\u914d\u4e00\u4e2a\u552f\u4e00\u7684\u6392\u540d\u503c\u3002</p> <p>\u4ee5\u4e0b\u662f <code>RANK()</code> \u51fd\u6570\u7684\u793a\u4f8b\u7528\u6cd5\uff1a</p> <pre><code>SELECT RANK() OVER (ORDER BY column1) AS rank, column1, column2\nFROM table_name;\n</code></pre> <p>\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c<code>RANK()</code> \u51fd\u6570\u6839\u636e <code>column1</code> \u7684\u5347\u5e8f\u987a\u5e8f\u4e3a\u6bcf\u4e00\u884c\u5206\u914d\u4e00\u4e2a\u6392\u540d\u3002\u6392\u540d\u503c\u5c06\u6839\u636e\u6392\u5e8f\u987a\u5e8f\u9012\u589e\uff0c\u76f8\u540c\u503c\u7684\u884c\u5c06\u83b7\u5f97\u76f8\u540c\u7684\u6392\u540d\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u6709\u4e24\u4e2a\u6216\u591a\u4e2a\u884c\u5177\u6709\u76f8\u540c\u7684\u503c\uff0c\u5e76\u4e14\u5728\u6392\u5e8f\u4e2d\u5360\u636e\u76f8\u540c\u7684\u4f4d\u7f6e\uff0c\u5b83\u4eec\u5c06\u83b7\u5f97\u76f8\u540c\u7684\u6392\u540d\uff0c\u5e76\u4e14\u4e0b\u4e00\u4e2a\u6392\u540d\u5c06\u8df3\u8fc7\u76f8\u5e94\u6570\u91cf\u7684\u6392\u540d\u3002</p> <p><code>RANK()</code> \u51fd\u6570\u5728\u5904\u7406\u5e76\u5217\u6392\u540d\u65f6\u4f1a\u8df3\u8fc7\u6392\u540d\uff0c\u800c\u4e0d\u4f1a\u7559\u4e0b\u7a7a\u7f3a\u3002\u4f8b\u5982\uff0c\u5982\u679c\u6709\u4e24\u4e2a\u884c\u83b7\u5f97\u4e86\u6392\u540d 1\uff0c\u4e0b\u4e00\u4e2a\u884c\u5c06\u83b7\u5f97\u6392\u540d 3\uff0c\u800c\u4e0d\u662f 2\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5b9e\u9645\u7684 <code>RANK()</code> \u51fd\u6570\u8bed\u6cd5\u548c\u884c\u4e3a\u53ef\u80fd\u56e0\u6240\u4f7f\u7528\u7684\u5177\u4f53\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff08DBMS\uff09\u800c\u6709\u6240\u4e0d\u540c\u3002\u4e0a\u8ff0\u793a\u4f8b\u57fa\u4e8e\u6807\u51c6 SQL \u8bed\u6cd5\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u6839\u636e\u60a8\u6240\u4f7f\u7528\u7684\u6570\u636e\u5e93\u7cfb\u7edf\u8fdb\u884c\u9002\u5f53\u7684\u8c03\u6574\u3002</p> <p><code>NTILE()</code> \u662f SQL \u4e2d\u7684\u4e00\u4e2a\u7a97\u53e3\u51fd\u6570\uff0c\u7528\u4e8e\u5c06\u7ed3\u679c\u96c6\u5212\u5206\u4e3a\u6307\u5b9a\u6570\u91cf\u7684\u6876\uff08buckets\uff09\uff0c\u5e76\u4e3a\u6bcf\u4e2a\u6876\u5206\u914d\u4e00\u4e2a\u6807\u8bc6\u503c\u3002\u5b83\u5c06\u7ed3\u679c\u96c6\u4e2d\u7684\u884c\u5747\u5300\u5730\u5206\u914d\u5230\u5404\u4e2a\u6876\u4e2d\uff0c\u4ee5\u4fbf\u8fdb\u884c\u5206\u7ec4\u6216\u5206\u6790\u3002</p> <p>\u4ee5\u4e0b\u662f <code>NTILE()</code> \u51fd\u6570\u7684\u793a\u4f8b\u7528\u6cd5\uff1a</p> <pre><code>SELECT NTILE(num_buckets) OVER (ORDER BY column1) AS bucket, column1, column2\nFROM table_name;\n</code></pre> <p>\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c<code>NTILE()</code> \u51fd\u6570\u5c06\u7ed3\u679c\u96c6\u6309\u7167 <code>column1</code> \u7684\u5347\u5e8f\u987a\u5e8f\u5212\u5206\u4e3a\u6307\u5b9a\u6570\u91cf\u7684\u6876\uff08<code>num_buckets</code>\uff09\u3002\u6bcf\u4e2a\u6876\u5c06\u88ab\u5206\u914d\u4e00\u4e2a\u6807\u8bc6\u503c\uff0c\u8868\u793a\u5b83\u6240\u5c5e\u7684\u6876\u53f7\u3002</p> <p><code>NTILE()</code> \u51fd\u6570\u6839\u636e\u884c\u7684\u987a\u5e8f\u5c06\u5b83\u4eec\u5747\u5300\u5730\u5206\u914d\u5230\u5404\u4e2a\u6876\u4e2d\uff0c\u4ee5\u786e\u4fdd\u6bcf\u4e2a\u6876\u4e2d\u7684\u884c\u6570\u5c3d\u53ef\u80fd\u76f8\u8fd1\u3002\u5982\u679c\u7ed3\u679c\u96c6\u7684\u884c\u6570\u4e0d\u80fd\u88ab\u6876\u7684\u6570\u91cf\u6574\u9664\uff0c\u5219\u67d0\u4e9b\u6876\u53ef\u80fd\u4f1a\u6bd4\u5176\u4ed6\u6876\u591a\u4e00\u4e2a\u6216\u5c11\u4e00\u4e2a\u884c\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c<code>NTILE()</code> \u51fd\u6570\u8fd4\u56de\u7684\u6807\u8bc6\u503c\u662f\u6574\u6570\uff0c\u8868\u793a\u6bcf\u4e2a\u6876\u7684\u7f16\u53f7\u3002\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u5bf9\u6876\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u5206\u6790\u6216\u805a\u5408\u64cd\u4f5c\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5b9e\u9645\u7684 <code>NTILE()</code> \u51fd\u6570\u8bed\u6cd5\u548c\u884c\u4e3a\u53ef\u80fd\u56e0\u6240\u4f7f\u7528\u7684\u5177\u4f53\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff08DBMS\uff09\u800c\u6709\u6240\u4e0d\u540c\u3002\u4e0a\u8ff0\u793a\u4f8b\u57fa\u4e8e\u6807\u51c6 SQL \u8bed\u6cd5\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u6839\u636e\u60a8\u6240\u4f7f\u7528\u7684\u6570\u636e\u5e93\u7cfb\u7edf\u8fdb\u884c\u9002\u5f53\u7684\u8c03\u6574\u3002</p>"},{"location":"Hadoop/00-main/#_16","title":"\u603b\u7ed3","text":"<ol> <li> <p>SparkSQL\u652f\u6301UDF\u548cUDAF\u5b9a\u4e49\uff0c\u4f46\u5728Python\u4e2d\uff0c\u6682\u65f6\u53ea\u80fd\u5b9a\u4e49UDF</p> </li> <li> <p>UDF\u5b9a\u4e49\u652f\u63012\u79cd\u65b9\u5f0f, 1:\u4f7f\u7528SparkSession\u5bf9\u8c61\u6784\u5efa. 2: \u4f7f\u7528functions\u5305\u4e2d\u63d0\u4f9b\u7684UDF API\u6784\u5efa. \u8981\u6ce8\u610f, \u65b9\u5f0f1\u53ef\u7528DSL\u548cSQL\u98ce\u683c, \u65b9\u5f0f2 \u4ec5\u53ef\u7528\u4e8eDSL\u98ce\u683c</p> </li> <li> <p>SparkSQL\u652f\u6301\u7a97\u53e3\u51fd\u6570\u4f7f\u7528, \u5e38\u7528SQL\u4e2d\u7684\u7a97\u53e3\u51fd\u6570\u5747\u652f\u6301, \u5982\u805a\u5408\u7a97\u53e3\\\u6392\u5e8f\u7a97\u53e3\\NTILE\u5206\u7ec4\u7a97\u53e3\u7b49  </p> </li> </ol>"},{"location":"Hadoop/00-main/#57-catalyst","title":"5.7 Catalyst","text":"<p>\u5e38\u89c4\u6d41\u7a0b\u89e3\u6790SQL\uff1a</p> <p></p> <p>\u4f18\u5316\u540e\uff1a</p> <p></p> <ul> <li><code>\u8c13\u8bcd\u4e0b\u63a8\uff08Predicate Pushdown\uff09\\ \u65ad\u8a00\u4e0b\u63a8</code>\uff1a\u5c06\u903b\u8f91\u5224\u65ad\u63d0\u524d\u5230\u524d\u9762\uff0c\u4ee5\u51cf\u5c11join\u7684\u6570\u636e\u91cf</li> <li><code>\u5217\u8bcd\u88c1\u526a\uff08Column Pruning\uff09</code>\uff1a\u5c06\u52a0\u8f7d\u540e\u7684\u5217\u8fdb\u884c\u88c1\u526a\uff0c\u51cf\u5c11\u4e0d\u9700\u8981\u7684\u5217</li> </ul> <p>\u884c\u8fc7\u6ee4\uff0c\u63d0\u524d\u6267\u884c where</p> <p>\u5217\u8fc7\u6ee4\uff0c\u63d0\u524d\u89c4\u5212select\u7684\u5b57\u6bb5\u6570\u91cf</p>"},{"location":"Hadoop/00-main/#58-sparksql","title":"5.8 SparkSQL\u6267\u884c\u6d41\u7a0b","text":""},{"location":"Hadoop/00-main/#_17","title":"\u603b\u7ed3","text":"<ol> <li> <p>DataFrame\u56e0\u4e3a\u5b58\u50a8\u7684\u662f\u4e8c\u7ef4\u8868\u6570\u636e\u7ed3\u6784\uff0c\u53ef\u4ee5\u88ab\u9488\u5bf9\uff0c\u6240\u4ee5\u53ef\u4ee5\u81ea\u52a8\u4f18\u5316\u6267\u884c\u6d41\u7a0b\u3002</p> </li> <li> <p>\u81ea\u52a8\u4f18\u5316\u4f9d\u8d56Catalyst\u4f18\u5316\u5668</p> </li> <li> <p>\u81ea\u52a8\u4f18\u53162\u4e2a\u5927\u7684\u4f18\u5316\u9879\u662f\uff1a 1. \u65ad\u8a00\uff08\u8c13\u8bcd\uff09\u4e0b\u63a8\uff08\u884c\u8fc7\u6ee4\uff09 2. \u5217\u503c\u88c1\u526a\uff08\u5217\u8fc7\u6ee4\uff09</p> </li> <li> <p>DataFrame\u4ee3\u7801\u5728\u88ab\u4f18\u5316\u6709\uff0c\u6700\u7ec8\u8fd8\u662f\u88ab\u8f6c\u6362\u6210RDD\u53bb\u6267\u884c</p> </li> </ol>"},{"location":"Hadoop/00-main/#6-spark-on-hive","title":"6. Spark on Hive","text":"<ul> <li>hive\u542f\u52a8metastore\u670d\u52a1</li> </ul> <pre><code>vim /export/server/apache-hive-3.1.2-bin/conf/hive-site.xml\n\n&lt;!-- \u8fdc\u7a0b\u6a21\u5f0f\u90e8\u7f72metastore metastore\u5730\u5740 --&gt;\n&lt;property&gt;\n    &lt;name&gt;hive.metastore.uris&lt;/name&gt;\n    &lt;value&gt;thrift://node1:9083&lt;/value&gt;\n&lt;/property&gt;\n</code></pre> <ul> <li>\u4fee\u6539spark\u548chive\u7684\u914d\u7f6e\u6587\u4ef6</li> </ul> <pre><code>vim  /export/server/spark/conf/hive-site.xml\n\n&lt;configuration&gt;\n  &lt;property&gt;\n    &lt;name&gt;hive.metastore.warehouse.dir&lt;/name&gt;\n    &lt;value&gt;/user/hive/warehouse&lt;/value&gt;\n&lt;!--&lt;value&gt;/root/hivedata&lt;/value&gt; --&gt;\n  &lt;/property&gt;\n\n  &lt;property&gt;\n    &lt;name&gt;hive.metastore.uris&lt;/name&gt;\n    &lt;value&gt;thrift://node1:9083&lt;/value&gt;\n  &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>"},{"location":"Hadoop/00-main/#_18","title":"\u603b\u7ed3","text":"<ul> <li>Spark on Hive \u5c31\u662f\u56e0\u4e3aSpqrk\u6ca1\u6709\u5143\u6570\u636e\u7ba1\u7406\u5f15\u64ce\uff0c\u6240\u4ee5\u9700\u8981\u501f\u7528Hive\u7684metastore\u6765\u4f5c\u4e3a\u5143\u6570\u636e\u670d\u52a1\uff0c\u800c\u8ba1\u7b97\u90e8\u5206\u8fd8\u662f\u4f7f\u7528HiveSQL\u6765\u6267\u884c\u3002</li> <li> <p>HiveSQL\uff1a\u628aSQL\u4f18\u5316\uff0c\u7136\u540e\u7ffb\u8bd1\u6210RDD\u6765\u6267\u884c\u3002</p> </li> <li> <p>hive sql \u548c spark on hive\uff1a</p> </li> </ul> <p></p>"},{"location":"Hadoop/00-main/#7-spark-thriftserver","title":"7. Spark-ThriftServer","text":"<p>\u548chive\u7684hiveserver2\u7c7b\u4f3c\uff0c\u76f4\u63a5\u6267\u884csql\u8bed\u53e5\uff0c\u5e95\u5c42\u5c06sql\u8bed\u53e5\u8f6c\u6362\u4e3ardd\u6267\u884c\uff0c\u7136\u540e\u8fd4\u56de\u7ed3\u679c\u7ed9ThriftServer</p> <ul> <li>\u5206\u5e03\u5f0fSQL\u6267\u884c\u5f15\u64ce\u5c31\u662f\u4f7f\u7528Spark\u63d0\u4f9b\u7684ThriftServer\u670d\u52a1\uff0c\u4ee5\u201c\u540e\u53f0\u8fdb\u7a0b\u201d\u7684\u6a21\u5f0f\u6301\u7eed\u8fd0\u884c\uff0c\u5bf9\u5916\u63d0\u4f9b\u7aef\u53e3\u3002</li> </ul> <p>\u53ef\u4ee5\u901a\u8fc7\u5ba2\u6237\u7aef\u5de5\u5177\u6216\u8005\u4ee3\u7801\uff0c\u4ee5JDBC\u534f\u8bae\u8fde\u63a5\u4f7f\u7528\u3002</p> <p>SQL\u63d0\u4ea4\u540e\uff0c\u5e95\u5c42\u8fd0\u884c\u7684\u5c31\u662fSpark\u4efb\u52a1\u3002   \u76f8\u5f53\u4e8e\u6784\u5efa\u4e86\u4e00\u4e2a\u4ee5MetaStore\u670d\u52a1\u4e3a\u5143\u6570\u636e\uff0c Spark\u4e3a\u6267\u884c\u5f15\u64ce\u7684\u6570\u636e\u5e93\u670d\u52a1\uff0c\u50cf\u64cd\u4f5c\u6570\u636e\u5e93\u90a3\u6837\u65b9\u4fbf\u7684\u64cd\u4f5cSparkSQL\u8fdb\u884c\u5206\u5e03\u5f0f\u7684SQL\u8ba1\u7b97\u3002  </p> <pre><code># \u542f\u52a8\u547d\u4ee4\n/export/server/spark/sbin/start-thriftserver.sh \\\n--hiveconf hive.server2.thrift.port=10000 \\\n--hiveconf hive.server2.thrift.bind.host=node1 \\\n--master local[*]\n</code></pre> <pre><code>from pyhive import hive\n\n\nif __name__ == '__main__':\n    # \u83b7\u53d6 Hive\uff08Spark ThriftServer\uff09\u7684\u94fe\u63a5\n    db_hive = hive.Connection(host='node1', port=10000, username='root')\n    # \u83b7\u53d6\u6e38\u6807\u5bf9\u8c61\n    cursor = db_hive.cursor()\n\n    # \u6267\u884cSQL\n    cursor.execute('SELECT * FROM student')\n    result = cursor.fetchall()\n    print(result)\n</code></pre>"},{"location":"Hadoop/00-main/#8-spark-shuffle","title":"8. Spark Shuffle","text":"<ul> <li>HashShuffleManager</li> </ul> <ul> <li> <p>SortShuffleManager  </p> </li> <li> <p>\u666e\u901a\u673a\u5236</p> <p></p> </li> <li> <p>bypass \u673a\u5236</p> <p></p> </li> </ul>"},{"location":"Hadoop/00-main/#_19","title":"\u603b\u7ed3","text":"<ol> <li> <p>SortShuffle\u5bf9\u6bd4HashShuffle\u53ef\u4ee5\u51cf\u5c11\u5f88\u591a\u7684\u78c1\u76d8\u6587\u4ef6,\u4ee5\u8282\u7701\u7f51\u7edcIO\u7684\u5f00\u9500</p> </li> <li> <p>SortShuffle\u4e3b\u8981\u662f\u5bf9\u78c1\u76d8\u6587\u4ef6\u8fdb\u884c\u5408\u5e76\u6765\u8fdb\u884c\u6587\u4ef6\u6570\u91cf\u7684\u51cf\u5c11, \u540c\u65f6\u4e24\u7c7bShuffle\u90fd\u9700\u8981\u7ecf\u8fc7\u5185\u5b58\u7f13\u51b2\u533a\u6ea2\u5199\u78c1\u76d8\u7684\u573a\u666f. \u6240\u4ee5\u53ef\u4ee5\u5f97\u77e5, \u5c3d\u7ba1Spark\u662f\u5185\u5b58\u8fed\u4ee3\u8ba1\u7b97\u6846\u67b6, \u4f46\u662f\u5185\u5b58\u8fed\u4ee3\u4e3b\u8981\u5728\u7a84\u4f9d\u8d56\u4e2d. \u5728\u5bbd\u4f9d\u8d56(Shuffle)\u4e2d\u78c1\u76d8\u4ea4\u4e92\u8fd8\u662f\u4e00\u4e2a\u65e0\u53ef\u907f\u514d\u7684\u60c5\u51b5. \u6240\u4ee5, \u6211\u4eec\u8981\u5c3d\u91cf\u51cf\u5c11Shuffle\u7684\u51fa\u73b0, \u4e0d\u8981\u8fdb\u884c\u65e0\u610f\u4e49\u7684Shuffle\u8ba1\u7b97.  </p> </li> </ol>"},{"location":"Hadoop/00-main/#9spark","title":"9.Spark\u65b0\u7279\u6027","text":""},{"location":"Hadoop/00-main/#91adaptive-query-executionaqe-sparksql","title":"9.1Adaptive Query Execution\uff08AQE\uff09 \u81ea\u9002\u5e94\u67e5\u8be2(SparkSQL)","text":"<p>\u7531\u4e8e\u7f3a\u4e4f\u6216\u8005\u4e0d\u51c6\u786e\u7684\u6570\u636e\u7edf\u8ba1\u4fe1\u606f(\u5143\u6570\u636e)\u548c\u5bf9\u6210\u672c\u7684\u9519\u8bef\u4f30\u7b97(\u6267\u884c\u8ba1\u5212\u8c03\u5ea6)\u5bfc\u81f4\u751f\u6210\u7684\u521d\u59cb\u6267\u884c\u8ba1\u5212\u4e0d\u7406\u60f3\u3002 \u5728Spark3.x\u7248\u672c\u63d0\u4f9bAdaptive Query Execution\u81ea\u9002\u5e94\u67e5\u8be2\u6280\u672f\uff0c\u901a\u8fc7\u5728\u201d\u8fd0\u884c\u65f6\u201d\u5bf9\u67e5\u8be2\u6267\u884c\u8ba1\u5212\u8fdb\u884c\u4f18\u5316, \u5141\u8bb8Planner\u5728\u8fd0\u884c\u65f6\u6267\u884c\u53ef\u9009\u8ba1\u5212,\u8fd9\u4e9b\u53ef\u9009\u8ba1\u5212\u5c06\u4f1a\u57fa\u4e8e\u8fd0\u884c\u65f6\u6570\u636e\u7edf\u8ba1\u8fdb\u884c\u52a8\u6001\u4f18\u5316, \u4ece\u800c\u63d0\u9ad8\u6027\u80fd.</p> <p>Adaptive Query Execution AQE\u4e3b\u8981\u63d0\u4f9b\u4e86\u4e09\u4e2a\u81ea\u9002\u5e94\u4f18\u5316:</p> <ul> <li>\u52a8\u6001\u5408\u5e76 Shuffle Partitions</li> </ul> <p></p> <ul> <li>\u52a8\u6001\u8c03\u6574Join\u7b56\u7565</li> </ul> <p></p> <ul> <li>\u52a8\u6001\u4f18\u5316\u503e\u659cJoin(Skew Joins)</li> </ul> <p></p> <p>\u5f00\u542fAQE\u65b9\u5f0f \uff1a<code>set spark.sql.adaptive.enabled = true;</code></p> <p>AQE \u603b\u7ed3:  </p> <ol> <li>AQE\u7684\u5f00\u542f\u901a\u8fc7: spark.sql.adaptive.enabled \u8bbe\u7f6e\u4e3atrue\u5f00\u542f</li> <li>AQE\u662f\u81ea\u52a8\u5316\u4f18\u5316\u673a\u5236, \u65e0\u9700\u6211\u4eec\u8bbe\u7f6e\u590d\u6742\u7684\u53c2\u6570\u8c03\u6574, \u5f00\u542fAQE\u7b26\u5408\u6761\u4ef6\u5373\u53ef\u81ea\u52a8\u5316\u5e94\u7528AQE\u4f18\u5316</li> <li>AQE\u5e26\u6765\u4e86\u6781\u5927\u7684SparkSQL\u6027\u80fd\u63d0\u5347  </li> </ol> <p></p>"},{"location":"Hadoop/00-main/#92-dynamic-partition-pruning-sparksql","title":"9.2 Dynamic Partition Pruning \u52a8\u6001\u5206\u533a\u88c1\u526a(SparkSQL)","text":"<p>\u5f53\u4f18\u5316\u5668\u5728\u7f16\u8bd1\u65f6\u65e0\u6cd5\u8bc6\u522b\u53ef\u8df3\u8fc7\u7684\u5206\u533a\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\"\u52a8\u6001\u5206\u533a\u88c1\u526a\"\uff0c\u5373\u57fa\u4e8e\u8fd0\u884c\u65f6\u63a8\u65ad\u7684\u4fe1\u606f\u6765\u8fdb\u4e00\u6b65\u8fdb\u884c\u5206\u533a\u88c1\u526a\u3002\u8fd9\u5728\u661f\u578b\u6a21\u578b\u4e2d\u5f88\u5e38\u89c1\uff0c\u661f\u578b\u6a21\u578b\u662f\u7531\u4e00\u4e2a\u6216\u591a\u4e2a\u5e76\u4e14\u5f15\u7528\u4e86\u4efb\u610f\u6570\u91cf\u7684\u7ef4\u5ea6\u8868\u7684\u4e8b\u5b9e\u8868\u7ec4\u6210\u3002\u5728\u8fd9\u79cd\u8fde\u63a5\u64cd\u4f5c\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8bc6\u522b\u7ef4\u5ea6\u8868\u8fc7\u6ee4\u4e4b\u540e\u7684\u5206\u533a\u6765\u88c1\u526a\u4ece\u4e8b\u5b9e\u8868\u4e2d\u8bfb\u53d6\u7684\u5206\u533a\u3002\u5728\u4e00\u4e2aTPC-DS\u57fa\u51c6\u6d4b\u8bd5\u4e2d\uff0c 102\u4e2a\u67e5\u8be2\u4e2d\u670960\u4e2a\u67e5\u8be2\u83b7\u5f972\u523018\u500d\u7684\u901f\u5ea6\u63d0\u5347  </p> <p></p>"},{"location":"Hadoop/00-main/#93python-api-pysparkkoalas","title":"9.3\u589e\u5f3a\u7684Python API: PySpark\u548cKoalas","text":"<p>\u5f88\u591aPython\u5f00\u53d1\u4eba\u5458\u5728\u6570\u636e\u7ed3\u6784\u548c\u6570\u636e\u5206\u6790\u65b9\u9762\u4f7f\u7528pandas API\uff0c\u4f46\u4ec5\u9650\u4e8e\u5355\u8282\u70b9\u5904\u7406\u3002 Databricks\u4f1a\u6301\u7eed\u5f00\u53d1Koalas\u2014\u2014\u57fa\u4e8eApache Spark\u7684pandas API\u5b9e\u73b0\uff0c\u8ba9\u6570\u636e\u79d1\u5b66\u5bb6\u80fd\u591f\u5728\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\u66f4\u9ad8\u6548\u5730\u5904\u7406\u5927\u6570\u636e\u3002  </p>"},{"location":"Hadoop/00-main/#_20","title":"\u603b\u7ed3","text":"<ol> <li> <p>AQE\u7684\u5f00\u542f\u901a\u8fc7: spark.sql.adaptive.enabled \u8bbe\u7f6e\u4e3atrue\u5f00\u542f,\u89e6\u53d1\u540e\u6781\u5927\u63d0\u5347SparkSQL\u8ba1\u7b97\u6027\u80fd</p> </li> <li> <p>\u52a8\u6001\u5206\u533a\u88c1\u526a\u53ef\u4ee5\u8ba9\u6211\u4eec\u66f4\u597d\u7684\u4f18\u5316\u8fd0\u884c\u65f6\u5206\u533a\u5185\u6570\u636e\u7684\u91cf\u7ea7. \u901a\u8fc7\u52a8\u6001\u7684\u8c13\u8bcd\u4e0b\u63a8\u6765\u83b7\u53d6\u4f20\u7edf\u9759\u6001\u8c13\u8bcd\u4e0b\u63a8\u65e0\u6cd5\u83b7\u5f97\u7684\u66f4\u9ad8\u8fc7\u6ee4\u5c5e\u6027, \u51cf\u5c11\u64cd\u4f5c\u7684\u5206\u533a\u6570\u636e\u91cf\u4ee5\u63d0\u9ad8\u6027\u80fd.</p> </li> <li> <p>\u65b0\u7248Koalas\u7c7b\u5e93\u53ef\u4ee5\u8ba9\u6211\u4eec\u5199Pandas API(Koalas\u63d0\u4f9b)\u7136\u540e\u5c06\u5b83\u4eec\u8fd0\u884c\u5728\u5206\u5e03\u5f0f\u7684Spark\u73af\u5883\u4e0a,Pandas\u5f00\u53d1\u8005\u4e5f\u80fd\u5feb\u901f\u4e0a\u624bSpark  </p> </li> </ol> <p></p> <pre><code># hadoop\nstart-all.sh\n\n# zookeeper\nzkServer.sh start\nzkServer.sh status\n\n# hive\nnohup /export/server/apache-hive-3.1.2-bin/bin/hive --service metastore &gt; /export/server/hive.log 2&gt;&amp;1 &amp;\nnohup /export/server/apache-hive-3.1.2-bin/bin/hive --service hiveserver2 &gt; /export/server/hiveserver2.log 2&gt;&amp;1 &amp;\n\n# spark\n# node1\n/export/server/spark/sbin/start-all.sh\n# node2\n/export/server/spark/sbin/start-master.sh\n\n# spark-ThriftServer\n/export/server/spark/sbin/start-thriftserver.sh \\\n--hiveconf hive.server2.thrift.port=10000 \\\n--hiveconf hive.server2.thrift.bind.host=node1 \\\n--master local[*]\n</code></pre>"},{"location":"Hadoop/00-main/#end","title":"END","text":""},{"location":"Hadoop/01-Hadoop-3.3.0-Centos7-64bit_%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E8%AF%A6%E8%A7%A3/","title":"01 Hadoop 3.3.0 Centos7 64bit \u7f16\u8bd1\u5b89\u88c5\u8be6\u89e3","text":""},{"location":"Hadoop/01-Hadoop-3.3.0-Centos7-64bit_%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E8%AF%A6%E8%A7%A3/#hadoop330-linux","title":"Hadoop3.3.0--Linux\u7f16\u8bd1\u5b89\u88c5","text":"<p>\u57fa\u7840\u73af\u5883\uff1aCentos 7.7</p> <p>\u7f16\u8bd1\u73af\u5883\u8f6f\u4ef6\u5b89\u88c5\u76ee\u5f55</p> <pre><code>mkdir -p /export/server\n</code></pre>"},{"location":"Hadoop/01-Hadoop-3.3.0-Centos7-64bit_%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E8%AF%A6%E8%A7%A3/#hadoop","title":"\u4e00\u3001Hadoop\u7f16\u8bd1\u5b89\u88c5\uff08\u9009\u505a\uff09","text":"<p>\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u8bfe\u7a0b\u63d0\u4f9b\u5df2\u7ecf\u7f16\u8bd1\u597d\u7684\u5b89\u88c5\u5305\u3002</p> <ul> <li>\u5b89\u88c5\u7f16\u8bd1\u76f8\u5173\u7684\u4f9d\u8d56</li> </ul> <pre><code>yum install gcc gcc-c++ make autoconf automake libtool curl lzo-devel zlib-devel openssl openssl-devel ncurses-devel snappy snappy-devel bzip2 bzip2-devel lzo lzo-devel lzop libXtst zlib -y\n\nyum install -y doxygen cyrus-sasl* saslwrapper-devel*\n</code></pre> <ul> <li>\u624b\u52a8\u5b89\u88c5cmake </li> </ul> <pre><code>#yum\u5378\u8f7d\u5df2\u5b89\u88c5cmake \u7248\u672c\u4f4e\nyum erase cmake\n\n#\u89e3\u538b\ntar zxvf CMake-3.19.4.tar.gz\n\n#\u7f16\u8bd1\u5b89\u88c5\ncd /export/server/CMake-3.19.4\n\n./configure\n\nmake &amp;&amp; make install\n\n#\u9a8c\u8bc1\n[root@node4 ~]# cmake -version\ncmake version 3.19.4\n\n#\u5982\u679c\u6ca1\u6709\u6b63\u786e\u663e\u793a\u7248\u672c \u8bf7\u65ad\u5f00SSH\u8fde\u63a5 \u91cd\u5199\u767b\u5f55\n</code></pre> <ul> <li>\u624b\u52a8\u5b89\u88c5snappy</li> </ul> <pre><code>#\u5378\u8f7d\u5df2\u7ecf\u5b89\u88c5\u7684\n\nrm -rf /usr/local/lib/libsnappy*\nrm -rf /lib64/libsnappy*\n\n#\u4e0a\u4f20\u89e3\u538b\ntar zxvf snappy-1.1.3.tar.gz \n\n#\u7f16\u8bd1\u5b89\u88c5\ncd /export/server/snappy-1.1.3\n./configure\nmake &amp;&amp; make install\n\n#\u9a8c\u8bc1\u662f\u5426\u5b89\u88c5\n[root@node4 snappy-1.1.3]# ls -lh /usr/local/lib |grep snappy\n-rw-r--r-- 1 root root 511K Nov  4 17:13 libsnappy.a\n-rwxr-xr-x 1 root root  955 Nov  4 17:13 libsnappy.la\nlrwxrwxrwx 1 root root   18 Nov  4 17:13 libsnappy.so -&gt; libsnappy.so.1.3.0\nlrwxrwxrwx 1 root root   18 Nov  4 17:13 libsnappy.so.1 -&gt; libsnappy.so.1.3.0\n-rwxr-xr-x 1 root root 253K Nov  4 17:13 libsnappy.so.1.3.0\n</code></pre> <ul> <li>\u5b89\u88c5\u914d\u7f6eJDK 1.8</li> </ul> <pre><code>#\u89e3\u538b\u5b89\u88c5\u5305\ntar zxvf jdk-8u65-linux-x64.tar.gz\n\n#\u914d\u7f6e\u73af\u5883\u53d8\u91cf\nvim /etc/profile\n\nexport JAVA_HOME=/export/server/jdk1.8.0_241\nexport PATH=$PATH:$JAVA_HOME/bin\nexport CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar\n\nsource /etc/profile\n\n#\u9a8c\u8bc1\u662f\u5426\u5b89\u88c5\u6210\u529f\njava -version\n\njava version \"1.8.0_241\"\nJava(TM) SE Runtime Environment (build 1.8.0_241-b07)\nJava HotSpot(TM) 64-Bit Server VM (build 25.241-b07, mixed mode)\n</code></pre> <ul> <li>\u5b89\u88c5\u914d\u7f6emaven</li> </ul> <pre><code>#\u89e3\u538b\u5b89\u88c5\u5305\ntar zxvf apache-maven-3.5.4-bin.tar.gz\n\n#\u914d\u7f6e\u73af\u5883\u53d8\u91cf\nvim /etc/profile\n\nexport MAVEN_HOME=/export/server/apache-maven-3.5.4\nexport MAVEN_OPTS=\"-Xms4096m -Xmx4096m\"\nexport PATH=:$MAVEN_HOME/bin:$PATH\n\nsource /etc/profile\n\n#\u9a8c\u8bc1\u662f\u5426\u5b89\u88c5\u6210\u529f\n[root@node4 ~]# mvn -v\nApache Maven 3.5.4\n\n#\u6dfb\u52a0maven \u963f\u91cc\u4e91\u4ed3\u5e93\u5730\u5740 \u52a0\u5feb\u56fd\u5185\u7f16\u8bd1\u901f\u5ea6\nvim /export/server/apache-maven-3.5.4/conf/settings.xml\n\n&lt;mirrors&gt;\n     &lt;mirror&gt;\n           &lt;id&gt;alimaven&lt;/id&gt;\n           &lt;name&gt;aliyun maven&lt;/name&gt;\n           &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;\n           &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;\n      &lt;/mirror&gt;\n&lt;/mirrors&gt;\n</code></pre> <ul> <li>\u5b89\u88c5ProtocolBuffer 3.7.1</li> </ul> <pre><code>#\u5378\u8f7d\u4e4b\u524d\u7248\u672c\u7684protobuf\n\n#\u89e3\u538b\ntar zxvf protobuf-3.7.1.tar.gz\n\n#\u7f16\u8bd1\u5b89\u88c5\ncd /export/server/protobuf-3.7.1\n./autogen.sh\n./configure\nmake &amp;&amp; make install\n\n#\u9a8c\u8bc1\u662f\u5426\u5b89\u88c5\u6210\u529f\n[root@node4 protobuf-3.7.1]# protoc --version\nlibprotoc 3.7.1\n</code></pre> <ul> <li>\u7f16\u8bd1hadoop</li> </ul> <pre><code>#\u4e0a\u4f20\u89e3\u538b\u6e90\u7801\u5305\ntar zxvf hadoop-3.3.0-src.tar.gz\n\n#\u7f16\u8bd1\ncd /root/hadoop-3.3.0-src\n\nmvn clean package -Pdist,native -DskipTests -Dtar -Dbundle.snappy -Dsnappy.lib=/usr/local/lib\n\n#\u53c2\u6570\u8bf4\u660e\uff1a\n\nPdist,native \uff1a\u628a\u91cd\u65b0\u7f16\u8bd1\u751f\u6210\u7684hadoop\u52a8\u6001\u5e93\uff1b\nDskipTests \uff1a\u8df3\u8fc7\u6d4b\u8bd5\nDtar \uff1a\u6700\u540e\u628a\u6587\u4ef6\u4ee5tar\u6253\u5305\nDbundle.snappy \uff1a\u6dfb\u52a0snappy\u538b\u7f29\u652f\u6301\u3010\u9ed8\u8ba4\u5b98\u7f51\u4e0b\u8f7d\u7684\u662f\u4e0d\u652f\u6301\u7684\u3011\nDsnappy.lib=/usr/local/lib \uff1a\u6307snappy\u5728\u7f16\u8bd1\u673a\u5668\u4e0a\u5b89\u88c5\u540e\u7684\u5e93\u8def\u5f84\n</code></pre> <ul> <li>\u7f16\u8bd1\u4e4b\u540e\u7684\u5b89\u88c5\u5305\u8def\u5f84</li> </ul> <pre><code>/root/hadoop-3.3.0-src/hadoop-dist/target\n</code></pre>"},{"location":"Hadoop/01-Hadoop-3.3.0-Centos7-64bit_%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E8%AF%A6%E8%A7%A3/#hadoop_1","title":"\u4e8c\u3001Hadoop\u96c6\u7fa4\u5206\u5e03\u5f0f\u5b89\u88c5","text":"<ul> <li>\u96c6\u7fa4\u89c4\u5212</li> </ul> \u4e3b\u673a \u89d2\u8272 node1 NN    DN   RM  NM node2 SNN  DN           NM node3 DN          NM <ul> <li>\u57fa\u7840\u73af\u5883</li> </ul> <p>3\u53f0\u673a\u5668\u90fd\u9700\u8981\u64cd\u4f5c,  \u8fd8\u9700\u8981\u4fee\u6539\u672c\u673a\u7684\u6620\u5c04hosts\uff0c\u56e0\u4e3a\u914d\u7f6e\u6587\u4ef6\u91cc\u4f7f\u7528\u7684\u662fnodeX,\u6240\u4ee5\u4e0a\u4f20\u6587\u4ef6\u65f6\uff0c\u5982\u679c\u6ca1\u914d\u7f6e\u672c\u673ahosts\u5219\u4f1a\u4e0a\u4f20\u5931\u8d25</p> <pre><code># \u4e3b\u673a\u540d \ncat /etc/hostname\n\n# hosts\u6620\u5c04\nvim /etc/hosts\n\n127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n\n192.168.88.151 node1.itcast.cn node1\n192.168.88.152 node2.itcast.cn node2\n192.168.88.153 node3.itcast.cn node3\n\n# JDK 1.8\u5b89\u88c5  \u4e0a\u4f20 jdk-8u241-linux-x64.tar.gz\u5230/export/server/\u76ee\u5f55\u4e0b\ncd /export/server/\ntar zxvf jdk-8u241-linux-x64.tar.gz\n\n  #\u914d\u7f6e\u73af\u5883\u53d8\u91cf\n  vim /etc/profile\n\n  export JAVA_HOME=/export/server/jdk1.8.0_241\n  export PATH=$PATH:$JAVA_HOME/bin\n  export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar\n\n  #\u91cd\u65b0\u52a0\u8f7d\u73af\u5883\u53d8\u91cf\u6587\u4ef6\n  source /etc/profile\n\n# \u96c6\u7fa4\u65f6\u95f4\u540c\u6b65\nntpdate ntp5.aliyun.com\n\n# \u9632\u706b\u5899\u5173\u95ed\nfirewall-cmd --state  #\u67e5\u770b\u9632\u706b\u5899\u72b6\u6001\nsystemctl stop firewalld.service  #\u505c\u6b62firewalld\u670d\u52a1\nsystemctl disable firewalld.service  #\u5f00\u673a\u7981\u7528firewalld\u670d\u52a1\n\n# ssh\u514d\u5bc6\u767b\u5f55\uff08\u53ea\u9700\u8981\u914d\u7f6enode1\u81f3node1\u3001node2\u3001node3\u5373\u53ef\uff09\n\n  #node1\u751f\u6210\u516c\u94a5\u79c1\u94a5 (\u4e00\u8def\u56de\u8f66)\n  ssh-keygen  \n\n  #node1\u914d\u7f6e\u514d\u5bc6\u767b\u5f55\u5230node1 node2 node3\n  ssh-copy-id node1\n  ssh-copy-id node2\n  ssh-copy-id node3\n</code></pre> <ul> <li>\u4e0a\u4f20Hadoop\u5b89\u88c5\u5305\u5230node1 /export/server</li> </ul> <pre><code>hadoop-3.3.0-Centos7-64-with-snappy.tar.gz\n\ntar zxvf hadoop-3.3.0-Centos7-64-with-snappy.tar.gz\n</code></pre> <ul> <li> <p>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6(\u914d\u7f6e\u6587\u4ef6\u8def\u5f84 hadoop-3.3.0/etc/hadoop)</p> </li> <li> <p>hadoop-env.sh</p> <pre><code>#\u6587\u4ef6\u6700\u540e\u6dfb\u52a0\nexport JAVA_HOME=/export/server/jdk1.8.0_241\n\nexport HDFS_NAMENODE_USER=root\nexport HDFS_DATANODE_USER=root\nexport HDFS_SECONDARYNAMENODE_USER=root\nexport YARN_RESOURCEMANAGER_USER=root\nexport YARN_NODEMANAGER_USER=root \n</code></pre> </li> <li> <p>core-site.xml</p> <pre><code>&lt;!-- \u8bbe\u7f6e\u9ed8\u8ba4\u4f7f\u7528\u7684\u6587\u4ef6\u7cfb\u7edf Hadoop\u652f\u6301file\u3001HDFS\u3001GFS\u3001ali|Amazon\u4e91\u7b49\u6587\u4ef6\u7cfb\u7edf --&gt;\n&lt;property&gt;\n    &lt;name&gt;fs.defaultFS&lt;/name&gt;\n    &lt;value&gt;hdfs://node1:8020&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;!-- \u8bbe\u7f6eHadoop\u672c\u5730\u4fdd\u5b58\u6570\u636e\u8def\u5f84 --&gt;\n&lt;property&gt;\n    &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;\n    &lt;value&gt;/export/data/hadoop-3.3.0&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;!-- \u8bbe\u7f6eHDFS web UI\u7528\u6237\u8eab\u4efd --&gt;\n&lt;property&gt;\n    &lt;name&gt;hadoop.http.staticuser.user&lt;/name&gt;\n    &lt;value&gt;root&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;!-- \u6574\u5408hive \u7528\u6237\u4ee3\u7406\u8bbe\u7f6e --&gt;\n&lt;property&gt;\n    &lt;name&gt;hadoop.proxyuser.root.hosts&lt;/name&gt;\n    &lt;value&gt;*&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n    &lt;name&gt;hadoop.proxyuser.root.groups&lt;/name&gt;\n    &lt;value&gt;*&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;!-- \u6587\u4ef6\u7cfb\u7edf\u5783\u573e\u6876\u4fdd\u5b58\u65f6\u95f4 --&gt;\n&lt;property&gt;\n    &lt;name&gt;fs.trash.interval&lt;/name&gt;\n    &lt;value&gt;1440&lt;/value&gt;\n&lt;/property&gt;\n</code></pre> </li> <li> <p>hdfs-site.xml</p> <pre><code>&lt;!-- \u8bbe\u7f6eSNN\u8fdb\u7a0b\u8fd0\u884c\u673a\u5668\u4f4d\u7f6e\u4fe1\u606f --&gt;\n&lt;property&gt;\n    &lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;\n    &lt;value&gt;node2:9868&lt;/value&gt;\n&lt;/property&gt;\n</code></pre> </li> <li> <p>mapred-site.xml</p> <pre><code>&lt;!-- \u8bbe\u7f6eMR\u7a0b\u5e8f\u9ed8\u8ba4\u8fd0\u884c\u6a21\u5f0f\uff1a yarn\u96c6\u7fa4\u6a21\u5f0f local\u672c\u5730\u6a21\u5f0f --&gt;\n&lt;property&gt;\n  &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\n  &lt;value&gt;yarn&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;!-- MR\u7a0b\u5e8f\u5386\u53f2\u670d\u52a1\u5730\u5740 --&gt;\n&lt;property&gt;\n  &lt;name&gt;mapreduce.jobhistory.address&lt;/name&gt;\n  &lt;value&gt;node1:10020&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;!-- MR\u7a0b\u5e8f\u5386\u53f2\u670d\u52a1\u5668web\u7aef\u5730\u5740 --&gt;\n&lt;property&gt;\n  &lt;name&gt;mapreduce.jobhistory.webapp.address&lt;/name&gt;\n  &lt;value&gt;node1:19888&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n  &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\n  &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n  &lt;name&gt;mapreduce.map.env&lt;/name&gt;\n  &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n  &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\n  &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;\n&lt;/property&gt;\n</code></pre> </li> <li> <p>yarn-site.xml</p> <pre><code>&lt;!-- \u8bbe\u7f6eYARN\u96c6\u7fa4\u4e3b\u89d2\u8272\u8fd0\u884c\u673a\u5668\u4f4d\u7f6e --&gt;\n&lt;property&gt;\n    &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;\n    &lt;value&gt;node1&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n    &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;\n    &lt;value&gt;mapreduce_shuffle&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;!-- \u662f\u5426\u5c06\u5bf9\u5bb9\u5668\u5b9e\u65bd\u7269\u7406\u5185\u5b58\u9650\u5236 --&gt;\n&lt;property&gt;\n    &lt;name&gt;yarn.nodemanager.pmem-check-enabled&lt;/name&gt;\n    &lt;value&gt;false&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;!-- \u662f\u5426\u5c06\u5bf9\u5bb9\u5668\u5b9e\u65bd\u865a\u62df\u5185\u5b58\u9650\u5236\u3002 --&gt;\n&lt;property&gt;\n    &lt;name&gt;yarn.nodemanager.vmem-check-enabled&lt;/name&gt;\n    &lt;value&gt;false&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;!-- \u5f00\u542f\u65e5\u5fd7\u805a\u96c6 --&gt;\n&lt;property&gt;\n  &lt;name&gt;yarn.log-aggregation-enable&lt;/name&gt;\n  &lt;value&gt;true&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;!-- \u8bbe\u7f6eyarn\u5386\u53f2\u670d\u52a1\u5668\u5730\u5740 --&gt;\n&lt;property&gt;\n    &lt;name&gt;yarn.log.server.url&lt;/name&gt;\n    &lt;value&gt;http://node1:19888/jobhistory/logs&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;!-- \u5386\u53f2\u65e5\u5fd7\u4fdd\u5b58\u7684\u65f6\u95f4 7\u5929 --&gt;\n&lt;property&gt;\n  &lt;name&gt;yarn.log-aggregation.retain-seconds&lt;/name&gt;\n  &lt;value&gt;604800&lt;/value&gt;\n&lt;/property&gt;\n</code></pre> </li> <li> <p>workers</p> <pre><code>node1.itcast.cn\nnode2.itcast.cn\nnode3.itcast.cn\n</code></pre> </li> <li> <p>\u5206\u53d1\u540c\u6b65hadoop\u5b89\u88c5\u5305</p> </li> </ul> <pre><code>cd /export/server\n\nscp -r hadoop-3.3.0 root@node2:$PWD\nscp -r hadoop-3.3.0 root@node3:$PWD\n</code></pre> <ul> <li>\u5c06hadoop\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf\uff083\u53f0\u673a\u5668\uff09</li> </ul> <pre><code>vim /etc/profile\n\nexport HADOOP_HOME=/export/server/hadoop-3.3.0\nexport PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin\n\nsource /etc/profile\n\n\n#\u522b\u5fd8\u4e86scp\u7ed9\u5176\u4ed6\u4e24\u53f0\u673a\u5668\u54e6\n</code></pre> <ul> <li> <p>Hadoop\u96c6\u7fa4\u542f\u52a8</p> </li> <li> <p>\uff08\u9996\u6b21\u542f\u52a8\uff09\u683c\u5f0f\u5316namenode</p> <pre><code>hdfs namenode -format\n</code></pre> </li> <li> <p>\u811a\u672c\u4e00\u952e\u542f\u52a8</p> <pre><code>[root@node1 ~]# start-dfs.sh \nStarting namenodes on [node1]\nLast login: Thu Nov  5 10:44:10 CST 2020 on pts/0\nStarting datanodes\nLast login: Thu Nov  5 10:45:02 CST 2020 on pts/0\nStarting secondary namenodes [node2]\nLast login: Thu Nov  5 10:45:04 CST 2020 on pts/0\n\n[root@node1 ~]# start-yarn.sh \nStarting resourcemanager\nLast login: Thu Nov  5 10:45:08 CST 2020 on pts/0\nStarting nodemanagers\nLast login: Thu Nov  5 10:45:44 CST 2020 on pts/0\n</code></pre> </li> <li> <p>Web  UI\u9875\u9762</p> <ul> <li>HDFS\u96c6\u7fa4\uff1ahttp://node1:9870/</li> <li>YARN\u96c6\u7fa4\uff1ahttp://node1:8088/</li> </ul> </li> </ul> <ul> <li> <p>\u9519\u8bef1:\u8fd0\u884chadoop3\u5b98\u65b9\u81ea\u5e26mr\u793a\u4f8b\u51fa\u9519\u3002</p> </li> <li> <p>\u9519\u8bef\u4fe1\u606f</p> <pre><code>Error: Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster\n\nPlease check whether your etc/hadoop/mapred-site.xml contains the below configuration:\n&lt;property&gt;\n  &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\n  &lt;value&gt;HADOOP_MAPRED_HOME=${full path of your hadoop distribution directory}&lt;/value&gt;\n&lt;/property&gt;\n&lt;property&gt;\n  &lt;name&gt;mapreduce.map.env&lt;/name&gt;\n  &lt;value&gt;HADOOP_MAPRED_HOME=${full path of your hadoop distribution directory}&lt;/value&gt;\n&lt;/property&gt;\n&lt;property&gt;\n  &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\n  &lt;value&gt;HADOOP_MAPRED_HOME=${full path of your hadoop distribution directory}&lt;/value&gt;\n&lt;/property&gt;\n</code></pre> </li> <li> <p>\u89e3\u51b3  mapred-site.xml,\u589e\u52a0\u4ee5\u4e0b\u914d\u7f6e</p> <pre><code>&lt;property&gt;\n  &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\n  &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;\n&lt;/property&gt;\n&lt;property&gt;\n  &lt;name&gt;mapreduce.map.env&lt;/name&gt;\n  &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;\n&lt;/property&gt;\n&lt;property&gt;\n  &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\n  &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;\n&lt;/property&gt;\n</code></pre> </li> </ul>"},{"location":"Hadoop/02-Hive3%E5%AE%89%E8%A3%85/","title":"02 Hive3\u5b89\u88c5","text":""},{"location":"Hadoop/02-Hive3%E5%AE%89%E8%A3%85/#hive3","title":"Hive3\u5b89\u88c5","text":""},{"location":"Hadoop/02-Hive3%E5%AE%89%E8%A3%85/#mysql","title":"Mysql\u5b89\u88c5","text":"<ul> <li>\u5378\u8f7dCentos7\u81ea\u5e26\u7684mariadb</li> </ul> <pre><code>[root@node3 ~]# rpm -qa|grep mariadb\nmariadb-libs-5.5.64-1.el7.x86_64\n\n[root@node3 ~]# rpm -e mariadb-libs-5.5.64-1.el7.x86_64 --nodeps\n[root@node3 ~]# rpm -qa|grep mariadb\n</code></pre> <ul> <li>\u5b89\u88c5mysql</li> </ul> <pre><code>mkdir /export/software/mysql\n\n#\u4e0a\u4f20mysql-5.7.29-1.el7.x86_64.rpm-bundle.tar \u5230\u4e0a\u8ff0\u6587\u4ef6\u5939\u4e0b  \u89e3\u538b\ntar xvf mysql-5.7.29-1.el7.x86_64.rpm-bundle.tar\n\n#\u6267\u884c\u5b89\u88c5\nyum -y install libaio net-tools\n\n[root@node3 mysql]# rpm -ivh mysql-community-common-5.7.29-1.el7.x86_64.rpm mysql-community-libs-5.7.29-1.el7.x86_64.rpm mysql-community-client-5.7.29-1.el7.x86_64.rpm mysql-community-server-5.7.29-1.el7.x86_64.rpm\n\nwarning: mysql-community-common-5.7.29-1.el7.x86_64.rpm: Header V3 DSA/SHA1 Signature, key ID 5072e1f5: NOKEY\nPreparing...                          ################################# [100%]\nUpdating / installing...\n   1:mysql-community-common-5.7.29-1.e################################# [ 25%]\n   2:mysql-community-libs-5.7.29-1.el7################################# [ 50%]\n   3:mysql-community-client-5.7.29-1.e################################# [ 75%]\n   4:mysql-community-server-5.7.29-1.e################                  ( 49%)\n</code></pre> <ul> <li>mysql\u521d\u59cb\u5316\u8bbe\u7f6e</li> </ul> <pre><code>#\u521d\u59cb\u5316\nmysqld --initialize\n\n#\u66f4\u6539\u6240\u5c5e\u7ec4\nchown mysql:mysql /var/lib/mysql -R\n\n#\u542f\u52a8mysql\nsystemctl start mysqld.service\n\n#\u67e5\u770b\u751f\u6210\u7684\u4e34\u65f6root\u5bc6\u7801\ncat  /var/log/mysqld.log | grep password\n\n[Note] A temporary password is generated for root@localhost: o+TU+KDOm004\n</code></pre> <ul> <li>\u4fee\u6539root\u5bc6\u7801 \u6388\u6743\u8fdc\u7a0b\u8bbf\u95ee \u8bbe\u7f6e\u5f00\u673a\u81ea\u542f\u52a8</li> </ul> <pre><code>[root@node2 ~]# mysql -u root -p\nEnter password:     #\u8fd9\u91cc\u8f93\u5165\u5728\u65e5\u5fd7\u4e2d\u751f\u6210\u7684\u4e34\u65f6\u5bc6\u7801\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 3\nServer version: 5.7.29\n\nCopyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql&gt; \n\n\n#\u66f4\u65b0root\u5bc6\u7801  \u8bbe\u7f6e\u4e3ahadoop\nmysql&gt; alter user user() identified by \"hadoop\";\nQuery OK, 0 rows affected (0.00 sec)\n\n\n#\u6388\u6743\nmysql&gt; use mysql;\n\nmysql&gt; GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'hadoop' WITH GRANT OPTION;\n\nmysql&gt; FLUSH PRIVILEGES; \n\n#mysql\u7684\u542f\u52a8\u548c\u5173\u95ed \u72b6\u6001\u67e5\u770b \uff08\u8fd9\u51e0\u4e2a\u547d\u4ee4\u5fc5\u987b\u8bb0\u4f4f\uff09\nsystemctl stop mysqld\nsystemctl status mysqld\nsystemctl start mysqld\n\n#\u5efa\u8bae\u8bbe\u7f6e\u4e3a\u5f00\u673a\u81ea\u542f\u52a8\u670d\u52a1\n[root@node2 ~]# systemctl enable  mysqld\nCreated symlink from /etc/systemd/system/multi-user.target.wants/mysqld.service to /usr/lib/systemd/system/mysqld.service.\n\n#\u67e5\u770b\u662f\u5426\u5df2\u7ecf\u8bbe\u7f6e\u81ea\u542f\u52a8\u6210\u529f\n[root@node2 ~]# systemctl list-unit-files | grep mysqld\nmysqld.service                                enabled \n</code></pre> <ul> <li>Centos7 \u5e72\u51c0\u5378\u8f7dmysql 5.7</li> </ul> <pre><code>#\u5173\u95edmysql\u670d\u52a1\nsystemctl stop mysqld.service\n\n#\u67e5\u627e\u5b89\u88c5mysql\u7684rpm\u5305\n[root@node3 ~]# rpm -qa | grep -i mysql      \nmysql-community-libs-5.7.29-1.el7.x86_64\nmysql-community-common-5.7.29-1.el7.x86_64\nmysql-community-client-5.7.29-1.el7.x86_64\nmysql-community-server-5.7.29-1.el7.x86_64\n\n#\u5378\u8f7d\n[root@node3 ~]# yum remove mysql-community-libs-5.7.29-1.el7.x86_64 mysql-community-common-5.7.29-1.el7.x86_64 mysql-community-client-5.7.29-1.el7.x86_64 mysql-community-server-5.7.29-1.el7.x86_64\n\n#\u67e5\u770b\u662f\u5426\u5378\u8f7d\u5e72\u51c0\nrpm -qa | grep -i mysql\n\n#\u67e5\u627emysql\u76f8\u5173\u76ee\u5f55 \u5220\u9664\n[root@node1 ~]# find / -name mysql\n/var/lib/mysql\n/var/lib/mysql/mysql\n/usr/share/mysql\n\n[root@node1 ~]# rm -rf /var/lib/mysql\n[root@node1 ~]# rm -rf /var/lib/mysql/mysql\n[root@node1 ~]# rm -rf /usr/share/mysql\n\n#\u5220\u9664\u9ed8\u8ba4\u914d\u7f6e \u65e5\u5fd7\nrm -rf /etc/my.cnf \nrm -rf /var/log/mysqld.log\n</code></pre>"},{"location":"Hadoop/02-Hive3%E5%AE%89%E8%A3%85/#hive","title":"Hive\u7684\u5b89\u88c5","text":"<ul> <li>\u4e0a\u4f20\u5b89\u88c5\u5305 \u89e3\u538b</li> </ul> <pre><code>tar zxvf apache-hive-3.1.2-bin.tar.gz\n</code></pre> <ul> <li>\u89e3\u51b3Hive\u4e0eHadoop\u4e4b\u95f4guava\u7248\u672c\u5dee\u5f02</li> </ul> <pre><code>cd /export/server/apache-hive-3.1.2-bin/\nrm -rf lib/guava-19.0.jar\ncp /export/server/hadoop-3.3.0/share/hadoop/common/lib/guava-27.0-jre.jar ./lib/\n</code></pre> <ul> <li> <p>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6</p> </li> <li> <p>hive-env.sh</p> <pre><code>cd /export/server/apache-hive-3.1.2-bin/conf\nmv hive-env.sh.template hive-env.sh\n\nvim hive-env.sh\nexport HADOOP_HOME=/export/server/hadoop-3.3.0\nexport HIVE_CONF_DIR=/export/server/apache-hive-3.1.2-bin/conf\nexport HIVE_AUX_JARS_PATH=/export/server/apache-hive-3.1.2-bin/lib\n</code></pre> </li> <li> <p>hive-site.xml</p> <pre><code>vim hive-site.xml\n</code></pre> <pre><code>&lt;configuration&gt;\n&lt;!-- \u5b58\u50a8\u5143\u6570\u636emysql\u76f8\u5173\u914d\u7f6e --&gt;\n&lt;property&gt;\n    &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt;\n    &lt;value&gt;jdbc:mysql://node1:3306/hive3?createDatabaseIfNotExist=true&amp;amp;useSSL=false&amp;amp;useUnicode=true&amp;amp;characterEncoding=UTF-8&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n    &lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt;\n    &lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n    &lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt;\n    &lt;value&gt;root&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n    &lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt;\n    &lt;value&gt;hadoop&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;!-- H2S\u8fd0\u884c\u7ed1\u5b9ahost --&gt;\n&lt;property&gt;\n    &lt;name&gt;hive.server2.thrift.bind.host&lt;/name&gt;\n    &lt;value&gt;node1&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;!-- \u8fdc\u7a0b\u6a21\u5f0f\u90e8\u7f72metastore metastore\u5730\u5740 --&gt;\n&lt;property&gt;\n    &lt;name&gt;hive.metastore.uris&lt;/name&gt;\n    &lt;value&gt;thrift://node1:9083&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;!-- \u5173\u95ed\u5143\u6570\u636e\u5b58\u50a8\u6388\u6743  --&gt; \n&lt;property&gt;\n    &lt;name&gt;hive.metastore.event.db.notification.api.auth&lt;/name&gt;\n    &lt;value&gt;false&lt;/value&gt;\n&lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre> </li> <li> <p>\u4e0a\u4f20mysql jdbc\u9a71\u52a8\u5230hive\u5b89\u88c5\u5305lib\u4e0b</p> </li> </ul> <pre><code>mysql-connector-java-5.1.32.jar\n</code></pre> <ul> <li>\u521d\u59cb\u5316\u5143\u6570\u636e</li> </ul> <pre><code>cd /export/server/apache-hive-3.1.2-bin/\n\nbin/schematool -initSchema -dbType mysql -verbos\n#\u521d\u59cb\u5316\u6210\u529f\u4f1a\u5728mysql\u4e2d\u521b\u5efa74\u5f20\u8868\n</code></pre> <ul> <li>\u5728hdfs\u521b\u5efahive\u5b58\u50a8\u76ee\u5f55\uff08\u5982\u5b58\u5728\u5219\u4e0d\u7528\u64cd\u4f5c\uff09</li> </ul> <pre><code>hadoop fs -mkdir /tmp\nhadoop fs -mkdir -p /user/hive/warehouse\nhadoop fs -chmod g+w /tmp\nhadoop fs -chmod g+w /user/hive/warehouse\n</code></pre> <ul> <li> <p>\u542f\u52a8hive</p> </li> <li> <p>1\u3001\u542f\u52a8metastore\u670d\u52a1</p> <pre><code>#\u524d\u53f0\u542f\u52a8  \u5173\u95edctrl+c\n/export/server/apache-hive-3.1.2-bin/bin/hive --service metastore\n\n#\u524d\u53f0\u542f\u52a8\u5f00\u542fdebug\u65e5\u5fd7\n/export/server/apache-hive-3.1.2-bin/bin/hive --service metastore --hiveconf hive.root.logger=DEBUG,console  \n\n#\u540e\u53f0\u542f\u52a8 \u8fdb\u7a0b\u6302\u8d77  \u5173\u95ed\u4f7f\u7528jps+ kill -9\nnohup /export/server/apache-hive-3.1.2-bin/bin/hive --service metastore &amp;\n</code></pre> </li> <li> <p>2\u3001\u542f\u52a8hiveserver2\u670d\u52a1</p> </li> </ul> <pre><code>  nohup /export/server/apache-hive-3.1.2-bin/bin/hive --service hiveserver2 &amp;\n\n  #\u6ce8\u610f \u542f\u52a8hiveserver2\u9700\u8981\u4e00\u5b9a\u7684\u65f6\u95f4  \u4e0d\u8981\u542f\u52a8\u4e4b\u540e\u7acb\u5373beeline\u8fde\u63a5 \u53ef\u80fd\u8fde\u63a5\u4e0d\u4e0a\n</code></pre> <ul> <li> <p>3\u3001beeline\u5ba2\u6237\u7aef\u8fde\u63a5</p> </li> <li> <p>\u62f7\u8d1dnode1\u5b89\u88c5\u5305\u5230beeline\u5ba2\u6237\u7aef\u673a\u5668\u4e0a\uff08node3\uff09</p> <pre><code>scp -r /export/server/apache-hive-3.1.2-bin/ node3:/export/server/\n</code></pre> </li> <li> <p>\u9519\u8bef</p> <pre><code>Error: Could not open client transport with JDBC Uri: jdbc:hive2://node1:10000: Failed to open new session: java.lang.RuntimeException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.security.authorize.AuthorizationException): User: root is not allowed to impersonate root (state=08S01,code=0)\n</code></pre> <ul> <li>\u4fee\u6539</li> </ul> <p><code>xml   \u5728hadoop\u7684\u914d\u7f6e\u6587\u4ef6core-site.xml\u4e2d\u6dfb\u52a0\u5982\u4e0b\u5c5e\u6027\uff1a   &lt;property&gt;           &lt;name&gt;hadoop.proxyuser.root.hosts&lt;/name&gt;         &lt;value&gt;*&lt;/value&gt;   &lt;/property&gt; &lt;property&gt;           &lt;name&gt;hadoop.proxyuser.root.groups&lt;/name&gt;           &lt;value&gt;*&lt;/value&gt;   &lt;/property&gt;</code></p> <ul> <li>\u8fde\u63a5\u8bbf\u95ee</li> </ul> <pre><code>/export/server/apache-hive-3.1.2-bin/bin/beeline\n\nbeeline&gt; ! connect jdbc:hive2://node1:10000\nbeeline&gt; root\nbeeline&gt; \u76f4\u63a5\u56de\u8f66\n</code></pre> </li> <li> <p>\u9519\u8bef\u89e3\u51b3\uff1aHive3\u6267\u884cinsert\u63d2\u5165\u64cd\u4f5c statstask\u5f02\u5e38</p> </li> <li> <p>\u73b0\u8c61</p> <pre><code>\u5728\u6267\u884cinsert + values\u64cd\u4f5c\u7684\u65f6\u5019  \u867d\u7136\u6700\u7ec8\u6267\u884c\u6210\u529f\uff0c\u7ed3\u679c\u6b63\u786e\u3002\u4f46\u662f\u5728\u6267\u884c\u65e5\u5fd7\u4e2d\u4f1a\u51fa\u73b0\u5982\u4e0b\u7684\u9519\u8bef\u4fe1\u606f\u3002\n</code></pre> <p></p> </li> <li> <p>\u5f00\u542fhiveserver2\u6267\u884c\u65e5\u5fd7\u3002\u67e5\u770b\u8be6\u7ec6\u4fe1\u606f</p> <pre><code>2020-11-09 00:37:48,963 WARN  [5ce14c58-6b36-476a-bab8-89cba7dd1706 main] metastore.RetryingMetaStoreClient: MetaStoreClient lost connection. Attempting to reconnect (1 of 1) after 1s. setPartitionColumnStatistics\n\nERROR [5ce14c58-6b36-476a-bab8-89cba7dd1706 main] exec.StatsTask: Failed to run stats task\n</code></pre> <p></p> </li> <li> <p>\u4f46\u662f \u6b64\u9519\u8bef\u5e76\u4e0d\u5f71\u54cd\u6700\u7ec8\u7684\u63d2\u5165\u8bed\u53e5\u6267\u884c\u6210\u529f\u3002</p> </li> <li> <p>\u5206\u6790\u539f\u56e0\u548c\u89e3\u51b3</p> <ul> <li>statstask\u662f\u4e00\u4e2ahive\u4e2d\u7528\u4e8e\u7edf\u8ba1\u63d2\u5165\u7b49\u64cd\u4f5c\u7684\u72b6\u6001\u4efb\u52a1  \u5176\u8fd4\u56de\u7ed3\u679c\u5982\u4e0b</li> </ul> <p></p> <ul> <li> <p>\u6b64\u4fe1\u606f\u7c7b\u4f3c\u4e8e\u8ba1\u6570\u5668 \u7528\u4e8e\u544a\u77e5\u7528\u6237\u63d2\u5165\u6570\u636e\u7684\u76f8\u5173\u4fe1\u606f \u4f46\u662f\u4e0d\u5f71\u54cd\u7a0b\u5e8f\u7684\u6b63\u5e38\u6267\u884c\u3002</p> </li> <li> <p>Hive\u65b0\u7248\u672c\u4e2d \u8fd9\u662f\u4e00\u4e2aissues  \u4e34\u65f6\u89e3\u51b3\u65b9\u5f0f\u5982\u4e0b</p> </li> </ul> <p>https://community.cloudera.com/t5/Support-Questions/Hive-Metastore-Connection-Failure-then-Retry/td-p/151661</p> <p></p> <ul> <li>\u5728mysql metastore\u4e2d\u5220\u9664 PART_COL_STATS\u8fd9\u5f20\u8868\u5373\u53ef\u3002</li> </ul> </li> </ul>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/","title":"Spark Local\u73af\u5883\u90e8\u7f72","text":""},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#_1","title":"\u4e0b\u8f7d\u5730\u5740","text":"<p>https://dlcdn.apache.org/spark/spark-3.2.0/spark-3.2.0-bin-hadoop3.2.tgz</p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#_2","title":"\u6761\u4ef6","text":"<ul> <li>PYTHON \u63a8\u83503.8</li> <li>JDK 1.8</li> </ul>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#anaconda-on-linux","title":"Anaconda On Linux \u5b89\u88c5","text":"<p>\u672c\u6b21\u8bfe\u7a0b\u7684Python\u73af\u5883\u9700\u8981\u5b89\u88c5\u5230Linux(\u865a\u62df\u673a)\u548cWindows(\u672c\u673a)\u4e0a</p> <p>\u53c2\u89c1\u6700\u4e0b\u65b9, \u9644: Anaconda On Linux \u5b89\u88c5</p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#_3","title":"\u89e3\u538b","text":"<p>\u89e3\u538b\u4e0b\u8f7d\u7684Spark\u5b89\u88c5\u5305</p> <p><code>tar -zxvf spark-3.2.0-bin-hadoop3.2.tgz -C /export/server/</code></p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#_4","title":"\u73af\u5883\u53d8\u91cf","text":"<p>\u914d\u7f6eSpark\u7531\u5982\u4e0b5\u4e2a\u73af\u5883\u53d8\u91cf\u9700\u8981\u8bbe\u7f6e</p> <ul> <li>SPARK_HOME: \u8868\u793aSpark\u5b89\u88c5\u8def\u5f84\u5728\u54ea\u91cc </li> <li>PYSPARK_PYTHON: \u8868\u793aSpark\u60f3\u8fd0\u884cPython\u7a0b\u5e8f, \u90a3\u4e48\u53bb\u54ea\u91cc\u627epython\u6267\u884c\u5668 </li> <li>JAVA_HOME: \u544a\u77e5Spark Java\u5728\u54ea\u91cc </li> <li>HADOOP_CONF_DIR: \u544a\u77e5Spark Hadoop\u7684\u914d\u7f6e\u6587\u4ef6\u5728\u54ea\u91cc </li> <li>HADOOP_HOME: \u544a\u77e5Spark \u00a0Hadoop\u5b89\u88c5\u5728\u54ea\u91cc </li> </ul> <p>\u8fd95\u4e2a\u73af\u5883\u53d8\u91cf \u90fd\u9700\u8981\u914d\u7f6e\u5728: <code>/etc/profile</code>\u4e2d</p> <pre><code>export JAVA_HOME=/export/server/jdk1.8.0_241\nexport PATH=$PATH:$JAVA_HOME/bin\nexport CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar\nexport HADOOP_HOME=/export/server/hadoop-3.3.0\nexport PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin\nexport SPARK_HOME=/export/server/spark\nexport PYSPARK_PYTHON=/export/server/anaconda3/envs/pyspark/bin/python3.8\nexport HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop\nexport PATH=$JAVA_HOME/bin:$HADOOP_HOME/bin:$HADOOP_HOME/sbin:$PATH\n</code></pre> <p>PYSPARK_PYTHON\u548c JAVA_HOME \u9700\u8981\u540c\u6837\u914d\u7f6e\u5728: <code>/root/.bashrc</code>\u4e2d</p> <pre><code>export JAVA_HOME=/export/server/jdk1.8.0_241\nexport PYSPARK_HOME=/export/server/anaconda3/envs/pyspark/bin/python3.8\n</code></pre>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#spark","title":"\u4e0a\u4f20Spark\u5b89\u88c5\u5305","text":"<p>\u8d44\u6599\u4e2d\u63d0\u4f9b\u4e86: <code>spark-3.2.0-bin-hadoop3.2.tgz</code></p> <p>\u4e0a\u4f20\u8fd9\u4e2a\u6587\u4ef6\u5230Linux\u670d\u52a1\u5668\u4e2d</p> <p>\u5c06\u5176\u89e3\u538b, \u8bfe\u7a0b\u4e2d\u5c06\u5176\u89e3\u538b(\u5b89\u88c5)\u5230: <code>/export/server</code>\u5185.</p> <p><code>tar -zxvf spark-3.2.0-bin-hadoop3.2.tgz -C /export/server/</code></p> <p>\u7531\u4e8espark\u76ee\u5f55\u540d\u79f0\u5f88\u957f, \u7ed9\u5176\u4e00\u4e2a\u8f6f\u94fe\u63a5:</p> <p><code>ln -s /export/server/spark-3.2.0-bin-hadoop3.2 /export/server/spark</code> \u200b</p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#_5","title":"\u6d4b\u8bd5","text":""},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#binpyspark","title":"bin/pyspark","text":"<p>bin/pyspark \u7a0b\u5e8f, \u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e2a \u00a0<code>\u4ea4\u4e92\u5f0f</code>\u7684 Python\u89e3\u91ca\u5668\u73af\u5883, \u5728\u8fd9\u91cc\u9762\u53ef\u4ee5\u5199\u666e\u901apython\u4ee3\u7801, \u4ee5\u53caspark\u4ee3\u7801 </p> <p>\u5982\u56fe:</p> <p></p> <p>\u5728\u8fd9\u4e2a\u73af\u5883\u5185, \u53ef\u4ee5\u8fd0\u884cspark\u4ee3\u7801</p> <p>\u56fe\u4e2d\u7684: <code>parallelize</code> \u548c <code>map</code> \u90fd\u662fspark\u63d0\u4f9b\u7684API</p> <p><code>sc.parallelize([1,2,3,4,5]).map(lambda x: x + 1).collect()</code> \u200b</p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#web-ui-4040","title":"WEB UI (4040)","text":"<p>Spark\u7a0b\u5e8f\u5728\u8fd0\u884c\u7684\u65f6\u5019, \u4f1a\u7ed1\u5b9a\u5230\u673a\u5668\u7684<code>4040</code>\u7aef\u53e3\u4e0a.</p> <p>\u5982\u679c4040\u7aef\u53e3\u88ab\u5360\u7528, \u4f1a\u987a\u5ef6\u52304041 ... 4042... </p> <p>\u6253\u5f00\u76d1\u63a7\u9875\u9762\u540e, \u53ef\u4ee5\u53d1\u73b0 \u5728\u7a0b\u5e8f\u5185\u4ec5\u6709\u4e00\u4e2aDriver\uff0c\u56e0\u4e3a\u6211\u4eec\u662fLocal\u6a21\u5f0f, Driver\u5373\u7ba1\u7406 \u53c8 \u5e72\u6d3b.  \u540c\u65f6, \u8f93\u5165jps </p> <p>\u53ef\u4ee5\u770b\u5230local\u6a21\u5f0f\u4e0b\u7684\u552f\u4e00\u8fdb\u7a0b\u5b58\u5728, \u8fd9\u4e2a\u8fdb\u7a0b \u5373\u662fmaster\u4e5f\u662fworker</p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#binspark-shell-","title":"bin/spark-shell - \u4e86\u89e3","text":"<p>\u540c\u6837\u662f\u4e00\u4e2a\u89e3\u91ca\u5668\u73af\u5883, \u548c<code>bin/pyspark</code>\u4e0d\u540c\u7684\u662f, \u8fd9\u4e2a\u89e3\u91ca\u5668\u73af\u5883 \u8fd0\u884c\u7684\u4e0d\u662fpython\u4ee3\u7801, \u800c\u662fscala\u7a0b\u5e8f\u4ee3\u7801</p> <pre><code>scala&gt; sc.parallelize(Array(1,2,3,4,5)).map(x=&gt; x + 1).collect()\nres0: Array[Int] = Array(2, 3, 4, 5, 6)\n</code></pre> <p>\u8fd9\u4e2a\u4ec5\u4f5c\u4e3a\u4e86\u89e3\u5373\u53ef, \u56e0\u4e3a\u8fd9\u4e2a\u662f\u7528\u4e8escala\u8bed\u8a00\u7684\u89e3\u91ca\u5668\u73af\u5883</p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#binspark-submit-pi","title":"bin/spark-submit (PI)","text":"<p>\u4f5c\u7528: \u63d0\u4ea4\u6307\u5b9a\u7684Spark\u4ee3\u7801\u5230Spark\u73af\u5883\u4e2d\u8fd0\u884c</p> <p>\u4f7f\u7528\u65b9\u6cd5:</p> <pre><code># \u8bed\u6cd5\nbin/spark-submit [\u53ef\u9009\u7684\u4e00\u4e9b\u9009\u9879] jar\u5305\u6216\u8005python\u4ee3\u7801\u7684\u8def\u5f84 [\u4ee3\u7801\u7684\u53c2\u6570]\n\n# \u793a\u4f8b\nbin/spark-submit /export/server/spark/examples/src/main/python/pi.py 10\n# \u6b64\u6848\u4f8b \u8fd0\u884cSpark\u5b98\u65b9\u6240\u63d0\u4f9b\u7684\u793a\u4f8b\u4ee3\u7801 \u6765\u8ba1\u7b97\u5706\u5468\u7387\u503c.  \u540e\u9762\u768410 \u662f\u4e3b\u51fd\u6570\u63a5\u53d7\u7684\u53c2\u6570, \u6570\u5b57\u8d8a\u9ad8, \u8ba1\u7b97\u5706\u5468\u7387\u8d8a\u51c6\u786e.\n</code></pre> <p>\u5bf9\u6bd4</p> \u529f\u80fd bin/spark-submit bin/pyspark bin/spark-shell \u529f\u80fd \u63d0\u4ea4java\\scala\\python\u4ee3\u7801\u5230spark\u4e2d\u8fd0\u884c \u63d0\u4f9b\u4e00\u4e2a<code>python</code> \u89e3\u91ca\u5668\u73af\u5883\u7528\u6765\u4ee5python\u4ee3\u7801\u6267\u884cspark\u7a0b\u5e8f \u63d0\u4f9b\u4e00\u4e2a<code>scala</code> \u89e3\u91ca\u5668\u73af\u5883\u7528\u6765\u4ee5scala\u4ee3\u7801\u6267\u884cspark\u7a0b\u5e8f \u7279\u70b9 \u63d0\u4ea4\u4ee3\u7801\u7528 \u89e3\u91ca\u5668\u73af\u5883 \u5199\u4e00\u884c\u6267\u884c\u4e00\u884c \u89e3\u91ca\u5668\u73af\u5883 \u5199\u4e00\u884c\u6267\u884c\u4e00\u884c \u4f7f\u7528\u573a\u666f \u6b63\u5f0f\u573a\u5408, \u6b63\u5f0f\u63d0\u4ea4spark\u7a0b\u5e8f\u8fd0\u884c \u6d4b\u8bd5\\\u5b66\u4e60\\\u5199\u4e00\u884c\u6267\u884c\u4e00\u884c\\\u7528\u6765\u9a8c\u8bc1\u4ee3\u7801\u7b49 \u6d4b\u8bd5\\\u5b66\u4e60\\\u5199\u4e00\u884c\u6267\u884c\u4e00\u884c\\\u7528\u6765\u9a8c\u8bc1\u4ee3\u7801\u7b49 <p>Local\u6a21\u5f0f\u5c06\u662f\u6211\u4eec7\u5929Spark\u8bfe\u7a0b\u7684\u4e3b\u529b\u4f7f\u7528\u6a21\u5f0f</p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#spark-standalone","title":"Spark StandAlone\u73af\u5883\u90e8\u7f72","text":""},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#_6","title":"\u65b0\u89d2\u8272 \u5386\u53f2\u670d\u52a1\u5668","text":"<p>\u5386\u53f2\u670d\u52a1\u5668\u4e0d\u662fSpark\u73af\u5883\u7684\u5fc5\u8981\u7ec4\u4ef6, \u662f\u53ef\u9009\u7684.</p> <p>\u56de\u5fc6: \u5728YARN\u4e2d \u6709\u4e00\u4e2a\u5386\u53f2\u670d\u52a1\u5668, \u529f\u80fd: \u5c06YARN\u8fd0\u884c\u7684\u7a0b\u5e8f\u7684\u5386\u53f2\u65e5\u5fd7\u8bb0\u5f55\u4e0b\u6765, \u901a\u8fc7\u5386\u53f2\u670d\u52a1\u5668\u65b9\u4fbf\u7528\u6237\u67e5\u770b\u7a0b\u5e8f\u8fd0\u884c\u7684\u5386\u53f2\u4fe1\u606f.</p> <p>Spark\u7684\u5386\u53f2\u670d\u52a1\u5668, \u529f\u80fd: \u5c06Spark\u8fd0\u884c\u7684\u7a0b\u5e8f\u7684\u5386\u53f2\u65e5\u5fd7\u8bb0\u5f55\u4e0b\u6765, \u901a\u8fc7\u5386\u53f2\u670d\u52a1\u5668\u65b9\u4fbf\u7528\u6237\u67e5\u770b\u7a0b\u5e8f\u8fd0\u884c\u7684\u5386\u53f2\u4fe1\u606f.</p> <p>\u642d\u5efa\u96c6\u7fa4\u73af\u5883, \u6211\u4eec\u4e00\u822c<code>\u63a8\u8350\u5c06\u5386\u53f2\u670d\u52a1\u5668\u4e5f\u914d\u7f6e\u4e0a</code>, \u65b9\u9762\u4ee5\u540e\u67e5\u770b\u5386\u53f2\u8bb0\u5f55 \u200b</p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#_7","title":"\u96c6\u7fa4\u89c4\u5212","text":"<p>\u8bfe\u7a0b\u4e2d \u4f7f\u7528\u4e09\u53f0Linux\u865a\u62df\u673a\u6765\u7ec4\u6210\u96c6\u7fa4\u73af\u5883, \u975e\u522b\u662f:</p> <p>node1 node2 node3</p> <p>node1\u8fd0\u884c: Spark\u7684Master\u8fdb\u7a0b \u00a0\u548c 1\u4e2aWorker\u8fdb\u7a0b</p> <p>node2\u8fd0\u884c: spark\u76841\u4e2aworker\u8fdb\u7a0b</p> <p>node3\u8fd0\u884c: spark\u76841\u4e2aworker\u8fdb\u7a0b</p> <p>\u6574\u4e2a\u96c6\u7fa4\u63d0\u4f9b: 1\u4e2amaster\u8fdb\u7a0b \u548c 3\u4e2aworker\u8fdb\u7a0b</p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#_8","title":"\u5b89\u88c5","text":""},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#pythonanaconda","title":"\u5728\u6240\u6709\u673a\u5668\u5b89\u88c5Python(Anaconda)","text":"<p>\u53c2\u8003 \u96441\u5185\u5bb9, \u5982\u4f55\u5728Linux\u4e0a\u5b89\u88c5anaconda</p> <p>\u540c\u65f6\u4e0d\u8981\u5fd8\u8bb0 \u90fd\u521b\u5efa<code>pyspark</code>\u865a\u62df\u73af\u5883 \u4ee5\u53ca\u5b89\u88c5\u865a\u62df\u73af\u5883\u6240\u9700\u8981\u7684\u5305<code>pyspark jieba pyhive</code></p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#_9","title":"\u5728\u6240\u6709\u673a\u5668\u914d\u7f6e\u73af\u5883\u53d8\u91cf","text":"<p>\u53c2\u8003 Local\u6a21\u5f0f\u4e0b \u73af\u5883\u53d8\u91cf\u7684\u914d\u7f6e\u5185\u5bb9</p> <p><code>\u786e\u4fdd3\u53f0\u90fd\u914d\u7f6e</code></p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#_10","title":"\u914d\u7f6e\u914d\u7f6e\u6587\u4ef6","text":"<p>\u8fdb\u5165\u5230spark\u7684\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\u4e2d, <code>cd $SPARK_HOME/conf</code></p> <p>\u914d\u7f6eworkers\u6587\u4ef6</p> <pre><code># \u6539\u540d, \u53bb\u6389\u540e\u9762\u7684.template\u540e\u7f00\nmv workers.template workers\n\n# \u7f16\u8f91worker\u6587\u4ef6\n# \u529f\u80fd: \u8fd9\u4e2a\u6587\u4ef6\u5c31\u662f\u6307\u793a\u4e86  \u5f53\u524dSparkStandAlone\u73af\u5883\u4e0b, \u6709\u54ea\u4e9bworker\nvim workers\n# \u5c06\u91cc\u9762\u7684localhost\u5220\u9664, \u8ffd\u52a0\nnode1\nnode2\nnode3\n</code></pre> <p>\u914d\u7f6espark-env.sh\u6587\u4ef6</p> <pre><code># 1. \u6539\u540d\nmv spark-env.sh.template spark-env.sh\n</code></pre> <pre><code># 2. \u7f16\u8f91spark-env.sh, \u5728\u5e95\u90e8\u8ffd\u52a0\u5982\u4e0b\u5185\u5bb9\n\n## \u8bbe\u7f6eJAVA\u5b89\u88c5\u76ee\u5f55\nJAVA_HOME=/export/server/jdk\n\n## HADOOP\u8f6f\u4ef6\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\uff0c\u8bfb\u53d6HDFS\u4e0a\u6587\u4ef6\u548c\u8fd0\u884cYARN\u96c6\u7fa4\nHADOOP_CONF_DIR=/export/server/hadoop/etc/hadoop\nYARN_CONF_DIR=/export/server/hadoop/etc/hadoop\n\n## \u6307\u5b9aspark\u8001\u5927Master\u7684IP\u548c\u63d0\u4ea4\u4efb\u52a1\u7684\u901a\u4fe1\u7aef\u53e3\n# \u544a\u77e5Spark\u7684master\u8fd0\u884c\u5728\u54ea\u4e2a\u673a\u5668\u4e0a\nexport SPARK_MASTER_HOST=node1\n# \u544a\u77e5sparkmaster\u7684\u901a\u8baf\u7aef\u53e3\nexport SPARK_MASTER_PORT=7077\n# \u544a\u77e5spark master\u7684 webui\u7aef\u53e3\nSPARK_MASTER_WEBUI_PORT=8080\n\n# worker cpu\u53ef\u7528\u6838\u6570\nSPARK_WORKER_CORES=1\n# worker\u53ef\u7528\u5185\u5b58\nSPARK_WORKER_MEMORY=1g\n# worker\u7684\u5de5\u4f5c\u901a\u8baf\u5730\u5740\nSPARK_WORKER_PORT=7078\n# worker\u7684 webui\u5730\u5740\nSPARK_WORKER_WEBUI_PORT=8081\n\n## \u8bbe\u7f6e\u5386\u53f2\u670d\u52a1\u5668\n# \u914d\u7f6e\u7684\u610f\u601d\u662f  \u5c06spark\u7a0b\u5e8f\u8fd0\u884c\u7684\u5386\u53f2\u65e5\u5fd7 \u5b58\u5230hdfs\u7684/sparklog\u6587\u4ef6\u5939\u4e2d\nSPARK_HISTORY_OPTS=\"-Dspark.history.fs.logDirectory=hdfs://node1:8020/sparklog/ -Dspark.history.fs.cleaner.enabled=true\"\n</code></pre> <p>\u6ce8\u610f, \u4e0a\u9762\u7684\u914d\u7f6e\u7684\u8def\u5f84 \u8981\u6839\u636e\u4f60\u81ea\u5df1\u673a\u5668\u5b9e\u9645\u7684\u8def\u5f84\u6765\u5199</p> <p>\u5728HDFS\u4e0a\u521b\u5efa\u7a0b\u5e8f\u8fd0\u884c\u5386\u53f2\u8bb0\u5f55\u5b58\u653e\u7684\u6587\u4ef6\u5939:</p> <pre><code>hadoop fs -mkdir /sparklog\nhadoop fs -chmod 777 /sparklog\n</code></pre> <p>\u914d\u7f6espark-defaults.conf\u6587\u4ef6</p> <pre><code># 1. \u6539\u540d\nmv spark-defaults.conf.template spark-defaults.conf\n</code></pre> <pre><code># 2. \u4fee\u6539\u5185\u5bb9, \u8ffd\u52a0\u5982\u4e0b\u5185\u5bb9\n# \u5f00\u542fspark\u7684\u65e5\u671f\u8bb0\u5f55\u529f\u80fd\nspark.eventLog.enabled  true\n# \u8bbe\u7f6espark\u65e5\u5fd7\u8bb0\u5f55\u7684\u8def\u5f84\nspark.eventLog.dir   hdfs://node1:8020/sparklog/ \n# \u8bbe\u7f6espark\u65e5\u5fd7\u662f\u5426\u542f\u52a8\u538b\u7f29\nspark.eventLog.compress     true\n</code></pre> <p>\u914d\u7f6elog4j.properties \u6587\u4ef6 [\u53ef\u9009\u914d\u7f6e]</p> <pre><code># 1. \u6539\u540d\nmv log4j.properties.template log4j.properties\n\n# 2. \u4fee\u6539\u5185\u5bb9\n#log4j.rootCategory=INFO, console\nlog4j.rootCategory=WARN, console\n</code></pre> <p>\u8fd9\u4e2a\u6587\u4ef6\u7684\u4fee\u6539\u4e0d\u662f\u5fc5\u987b\u7684, \u00a0\u4e3a\u4ec0\u4e48\u4fee\u6539\u4e3aWARN. \u56e0\u4e3aSpark\u662f\u4e2a\u8bdd\u75e8</p> <p>\u4f1a\u75af\u72c2\u8f93\u51fa\u65e5\u5fd7, \u8bbe\u7f6e\u7ea7\u522b\u4e3aWARN \u53ea\u8f93\u51fa\u8b66\u544a\u548c\u9519\u8bef\u65e5\u5fd7, \u4e0d\u8981\u8f93\u51fa\u4e00\u5806\u5e9f\u8bdd.</p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#spark_1","title":"\u5c06Spark\u5b89\u88c5\u6587\u4ef6\u5939 \u00a0\u5206\u53d1\u5230\u5176\u5b83\u7684\u670d\u52a1\u5668\u4e0a","text":"<pre><code>scp -r spark-3.2.0-bin-hadoop3.2 node2:/export/server/\nscp -r spark-3.2.0-bin-hadoop3.2node3:/export/server/\n\n#  \u5728node2\u548cnode3\u4e0a \u7ed9spark\u5b89\u88c5\u76ee\u5f55\u589e\u52a0\u8f6f\u94fe\u63a5\nln -s /export/server/spark-3.2.0-bin-hadoop3.2 /export/server/spark\n</code></pre>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#_11","title":"\u68c0\u67e5","text":"<p>\u68c0\u67e5\u6bcf\u53f0\u673a\u5668\u7684:</p> <p>JAVA_HOME</p> <p>SPARK_HOME</p> <p>PYSPARK_PYTHON</p> <p>\u7b49\u7b49 \u73af\u5883\u53d8\u91cf\u662f\u5426\u6b63\u5e38\u6307\u5411\u6b63\u786e\u7684\u76ee\u5f55</p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#_12","title":"\u542f\u52a8\u5386\u53f2\u670d\u52a1\u5668","text":"<p><code>sbin/start-history-server.sh</code></p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#sparkmasterworker","title":"\u542f\u52a8Spark\u7684Master\u548cWorker\u8fdb\u7a0b","text":"<pre><code># \u542f\u52a8\u5168\u90e8master\u548cworker\nsbin/start-all.sh\n</code></pre>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#masterweb-ui","title":"\u67e5\u770bMaster\u7684WEB UI","text":"<p>\u9ed8\u8ba4\u7aef\u53e3master\u6211\u4eec\u8bbe\u7f6e\u5230\u4e868080</p> <p>\u5982\u679c\u7aef\u53e3\u88ab\u5360\u7528, \u4f1a\u987a\u5ef6\u52308081 ...;8082... 8083... \u76f4\u5230\u7533\u8bf7\u5230\u7aef\u53e3\u4e3a\u6b62</p> <p>\u53ef\u4ee5\u5728\u65e5\u5fd7\u4e2d\u67e5\u770b, \u5177\u4f53\u987a\u5ef6\u5230\u54ea\u4e2a\u7aef\u53e3\u4e0a:</p> <p><code>Service 'MasterUI' could not bind on port 8080. Attempting port 8081.</code></p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#standalone","title":"\u8fde\u63a5\u5230StandAlone\u96c6\u7fa4","text":""},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#binpyspark_1","title":"bin/pyspark","text":"<p>\u6267\u884c:</p> <p><pre><code>bin/pyspark --master spark://node1:7077\n# \u901a\u8fc7--master\u9009\u9879\u6765\u8fde\u63a5\u5230 StandAlone\u96c6\u7fa4\n# \u5982\u679c\u4e0d\u5199--master\u9009\u9879, \u9ed8\u8ba4\u662flocal\u6a21\u5f0f\u8fd0\u884c\n</code></pre> </p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#binspark-shell","title":"bin/spark-shell","text":"<pre><code>bin/spark-shell --master spark://node1:7077\n# \u540c\u6837\u9002\u7528--master\u6765\u8fde\u63a5\u5230\u96c6\u7fa4\u4f7f\u7528\n</code></pre> <pre><code>// \u6d4b\u8bd5\u4ee3\u7801\nsc.parallelize(Array(1,2,3,4,5)).map(x=&gt; x + 1).collect()\n</code></pre>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#binspark-submit-pi_1","title":"bin/spark-submit (PI)","text":"<pre><code>bin/spark-submit --master spark://node1:7077 /export/server/spark/examples/src/main/python/pi.py 100\n# \u540c\u6837\u4f7f\u7528--master\u6765\u6307\u5b9a\u5c06\u4efb\u52a1\u63d0\u4ea4\u5230\u96c6\u7fa4\u8fd0\u884c\n</code></pre>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#web-ui","title":"\u67e5\u770b\u5386\u53f2\u670d\u52a1\u5668WEB UI","text":"<p>\u5386\u53f2\u670d\u52a1\u5668\u7684\u9ed8\u8ba4\u7aef\u53e3\u662f: 18080</p> <p>\u6211\u4eec\u542f\u52a8\u5728node1\u4e0a, \u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u6253\u5f00:</p> <p><code>node1:18080</code>\u6765\u8fdb\u5165\u5230\u5386\u53f2\u670d\u52a1\u5668\u7684WEB UI\u4e0a. </p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#spark-standalone-ha","title":"Spark StandAlone HA \u73af\u5883\u642d\u5efa","text":""},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#_13","title":"\u6b65\u9aa4","text":"<p>\u524d\u63d0: \u786e\u4fddZookeeper \u548c HDFS \u5747\u5df2\u7ecf\u542f\u52a8</p> <p>\u5148\u5728<code>spark-env.sh</code>\u4e2d, \u5220\u9664: <code>SPARK_MASTER_HOST=node1</code></p> <p>\u539f\u56e0: \u914d\u7f6e\u6587\u4ef6\u4e2d\u56fa\u5b9amaster\u662f\u8c01, \u90a3\u4e48\u5c31\u65e0\u6cd5\u7528\u5230zk\u7684\u52a8\u6001\u5207\u6362master\u529f\u80fd\u4e86.</p> <p>\u5728<code>spark-env.sh</code>\u4e2d, \u589e\u52a0:</p> <pre><code>SPARK_DAEMON_JAVA_OPTS=\"-Dspark.deploy.recoveryMode=ZOOKEEPER -Dspark.deploy.zookeeper.url=node1:2181,node2:2181,node3:2181 -Dspark.deploy.zookeeper.dir=/spark-ha\"\n# spark.deploy.recoveryMode \u6307\u5b9aHA\u6a21\u5f0f \u57fa\u4e8eZookeeper\u5b9e\u73b0\n# \u6307\u5b9aZookeeper\u7684\u8fde\u63a5\u5730\u5740\n# \u6307\u5b9a\u5728Zookeeper\u4e2d\u6ce8\u518c\u4e34\u65f6\u8282\u70b9\u7684\u8def\u5f84\n</code></pre> <p>\u5c06spark-env.sh \u5206\u53d1\u5230\u6bcf\u4e00\u53f0\u670d\u52a1\u5668\u4e0a</p> <pre><code>scp spark-env.sh node2:/export/server/spark/conf/\nscp spark-env.sh node3:/export/server/spark/conf/\n</code></pre> <p>\u505c\u6b62\u5f53\u524dStandAlone\u96c6\u7fa4</p> <pre><code>sbin/stop-all.sh\n</code></pre> <p>\u542f\u52a8\u96c6\u7fa4:</p> <p><pre><code># \u5728node1\u4e0a \u542f\u52a8\u4e00\u4e2amaster \u548c\u5168\u90e8worker\nsbin/start-all.sh\n\n# \u6ce8\u610f, \u4e0b\u9762\u547d\u4ee4\u5728node2\u4e0a\u6267\u884c\nsbin/start-master.sh\n# \u5728node2\u4e0a\u542f\u52a8\u4e00\u4e2a\u5907\u7528\u7684master\u8fdb\u7a0b\n</code></pre> </p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#master","title":"master\u4e3b\u5907\u5207\u6362","text":"<p>\u63d0\u4ea4\u4e00\u4e2aspark\u4efb\u52a1\u5230\u5f53\u524d<code>alive</code>master\u4e0a:</p> <pre><code>bin/spark-submit --master spark://node1:7077 /export/server/spark/examples/src/main/python/pi.py 1000\n</code></pre> <p>\u5728\u63d0\u4ea4\u6210\u529f\u540e, \u5c06alivemaster\u76f4\u63a5kill\u6389</p> <p>\u4e0d\u4f1a\u5f71\u54cd\u7a0b\u5e8f\u8fd0\u884c:  \u5f53\u65b0\u7684master\u63a5\u6536\u96c6\u7fa4\u540e, \u7a0b\u5e8f\u7ee7\u7eed\u8fd0\u884c, \u6b63\u5e38\u5f97\u5230\u7ed3\u679c.</p> <p>\u7ed3\u8bba HA\u6a21\u5f0f\u4e0b, \u4e3b\u5907\u5207\u6362 \u4e0d\u4f1a\u5f71\u54cd\u5230\u6b63\u5728\u8fd0\u884c\u7684\u7a0b\u5e8f.</p> <p>\u6700\u5927\u7684\u5f71\u54cd\u662f \u4f1a\u8ba9\u5b83\u4e2d\u65ad\u5927\u7ea630\u79d2\u5de6\u53f3.</p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#spark-on-yarn","title":"Spark On YARN \u73af\u5883\u642d\u5efa","text":""},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#_14","title":"\u90e8\u7f72","text":"<p>\u786e\u4fdd:</p> <ul> <li>HADOOP_CONF_DIR</li> <li>YARN_CONF_DIR</li> </ul> <p>\u5728spark-env.sh \u4ee5\u53ca \u73af\u5883\u53d8\u91cf\u914d\u7f6e\u6587\u4ef6\u4e2d\u5373\u53ef \u200b</p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#yarn","title":"\u8fde\u63a5\u5230YARN\u4e2d","text":""},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#binpyspark_2","title":"bin/pyspark","text":"<pre><code>bin/pyspark --master yarn --deploy-mode client|cluster\n# --deploy-mode \u9009\u9879\u662f\u6307\u5b9a\u90e8\u7f72\u6a21\u5f0f, \u9ed8\u8ba4\u662f \u5ba2\u6237\u7aef\u6a21\u5f0f\n# client\u5c31\u662f\u5ba2\u6237\u7aef\u6a21\u5f0f\n# cluster\u5c31\u662f\u96c6\u7fa4\u6a21\u5f0f\n# --deploy-mode \u4ec5\u53ef\u4ee5\u7528\u5728YARN\u6a21\u5f0f\u4e0b\n</code></pre> <p>\u6ce8\u610f: \u4ea4\u4e92\u5f0f\u73af\u5883 pyspark \u00a0\u548c spark-shell \u00a0\u65e0\u6cd5\u8fd0\u884c cluster\u6a21\u5f0f</p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#binspark-shell_1","title":"bin/spark-shell","text":"<pre><code>bin/spark-shell --master yarn --deploy-mode client|cluster\n</code></pre> <p>\u6ce8\u610f: \u4ea4\u4e92\u5f0f\u73af\u5883 pyspark \u00a0\u548c spark-shell \u00a0\u65e0\u6cd5\u8fd0\u884c cluster\u6a21\u5f0f</p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#binspark-submit-pi_2","title":"bin/spark-submit (PI)","text":"<pre><code>bin/spark-submit --master yarn --deploy-mode client|cluster /xxx/xxx/xxx.py \u53c2\u6570\n</code></pre>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#spark-submit-spark-shell-pyspark","title":"spark-submit \u548c spark-shell \u548c pyspark\u7684\u76f8\u5173\u53c2\u6570","text":"<p>\u53c2\u89c1: \u96442 \u200b</p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#1-anaconda-on-linux","title":"\u96441 Anaconda On Linux \u5b89\u88c5 (\u5355\u53f0\u670d\u52a1\u5668)","text":""},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#_15","title":"\u5b89\u88c5","text":"<p>\u4e0a\u4f20\u5b89\u88c5\u5305:</p> <p>\u4e0a\u4f20: \u8d44\u6599\u4e2d\u63d0\u4f9b\u7684<code>Anaconda3-2021.05-Linux-x86_64.sh</code>\u6587\u4ef6\u5230Linux\u670d\u52a1\u5668\u4e0a</p> <p>\u5b89\u88c5:</p> <p><code>sh ./Anaconda3-2021.05-Linux-x86_64.sh</code></p> <p></p> <p></p> <p>\u8f93\u5165yes\u540e\u5c31\u5b89\u88c5\u5b8c\u6210\u4e86.</p> <p>\u5b89\u88c5\u5b8c\u6210\u540e, <code>\u9000\u51faSecureCRT \u91cd\u65b0\u8fdb\u6765</code>:  </p> <p>\u770b\u5230\u8fd9\u4e2aBase\u5f00\u5934\u8868\u660e\u5b89\u88c5\u597d\u4e86.</p> <p>base\u662f\u9ed8\u8ba4\u7684\u865a\u62df\u73af\u5883. \u200b</p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#_16","title":"\u56fd\u5185\u6e90","text":"<p>\u5982\u679c\u4f60\u5b89\u88c5\u597d\u540e, \u6ca1\u6709\u51fa\u73b0base, \u53ef\u4ee5\u6253\u5f00:/root/.condarc\u8fd9\u4e2a\u6587\u4ef6, \u8ffd\u52a0\u5982\u4e0b\u5185\u5bb9:</p> <pre><code>channels:\n  - defaults\nshow_channel_urls: true\ndefault_channels:\n  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main\n  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r\n  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2\ncustom_channels:\n  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n</code></pre>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#2-spark-submitpyspark","title":"\u96442 spark-submit\u548cpyspark\u76f8\u5173\u53c2\u6570","text":"<p>\u5ba2\u6237\u7aef\u5de5\u5177\u6211\u4eec\u53ef\u4ee5\u7528\u7684\u6709:</p> <ul> <li>bin/pyspark: pyspark\u89e3\u91ca\u5668spark\u73af\u5883</li> <li>bin/spark-shell: scala\u89e3\u91ca\u5668spark\u73af\u5883</li> <li>bin/spark-submit: \u63d0\u4ea4jar\u5305\u6216Python\u6587\u4ef6\u6267\u884c\u7684\u5de5\u5177</li> <li>bin/spark-sql: sparksql\u5ba2\u6237\u7aef\u5de5\u5177</li> </ul> <p>\u8fd94\u4e2a\u5ba2\u6237\u7aef\u5de5\u5177\u7684\u53c2\u6570\u57fa\u672c\u901a\u7528.</p> <p>\u4ee5spark-submit \u4e3a\u4f8b:</p> <p><code>bin/spark-submit --master spark://node1:7077 xxx.py</code></p> <pre><code>Usage: spark-submit [options] &lt;app jar | python file | R file&gt; [app arguments]\nUsage: spark-submit --kill [submission ID] --master [spark://...]\nUsage: spark-submit --status [submission ID] --master [spark://...]\nUsage: spark-submit run-example [options] example-class [example args]\n\nOptions:\n  --master MASTER_URL         spark://host:port, mesos://host:port, yarn,\n                              k8s://https://host:port, or local (Default: local[*]).\n  --deploy-mode DEPLOY_MODE   \u90e8\u7f72\u6a21\u5f0f client \u6216\u8005 cluster \u9ed8\u8ba4\u662fclient\n  --class CLASS_NAME          \u8fd0\u884cjava\u6216\u8005scala class(for Java / Scala apps).\n  --name NAME                 \u7a0b\u5e8f\u7684\u540d\u5b57\n  --jars JARS                 Comma-separated list of jars to include on the driver\n                              and executor classpaths.\n  --packages                  Comma-separated list of maven coordinates of jars to include\n                              on the driver and executor classpaths. Will search the local\n                              maven repo, then maven central and any additional remote\n                              repositories given by --repositories. The format for the\n                              coordinates should be groupId:artifactId:version.\n  --exclude-packages          Comma-separated list of groupId:artifactId, to exclude while\n                              resolving the dependencies provided in --packages to avoid\n                              dependency conflicts.\n  --repositories              Comma-separated list of additional remote repositories to\n                              search for the maven coordinates given with --packages.\n  --py-files PY_FILES         \u6307\u5b9aPython\u7a0b\u5e8f\u4f9d\u8d56\u7684\u5176\u5b83python\u6587\u4ef6\n  --files FILES               Comma-separated list of files to be placed in the working\n                              directory of each executor. File paths of these files\n                              in executors can be accessed via SparkFiles.get(fileName).\n  --archives ARCHIVES         Comma-separated list of archives to be extracted into the\n                              working directory of each executor.\n\n  --conf, -c PROP=VALUE       \u624b\u52a8\u6307\u5b9a\u914d\u7f6e\n  --properties-file FILE      Path to a file from which to load extra properties. If not\n                              specified, this will look for conf/spark-defaults.conf.\n\n  --driver-memory MEM         Driver\u7684\u53ef\u7528\u5185\u5b58(Default: 1024M).\n  --driver-java-options       Driver\u7684\u4e00\u4e9bJava\u9009\u9879\n  --driver-library-path       Extra library path entries to pass to the driver.\n  --driver-class-path         Extra class path entries to pass to the driver. Note that\n                              jars added with --jars are automatically included in the\n                              classpath.\n\n  --executor-memory MEM       Executor\u7684\u5185\u5b58 (Default: 1G).\n\n  --proxy-user NAME           User to impersonate when submitting the application.\n                              This argument does not work with --principal / --keytab.\n\n  --help, -h                  \u663e\u793a\u5e2e\u52a9\u6587\u4ef6\n  --verbose, -v               Print additional debug output.\n  --version,                  \u6253\u5370\u7248\u672c\n\n Cluster deploy mode only(\u96c6\u7fa4\u6a21\u5f0f\u4e13\u5c5e):\n  --driver-cores NUM          Driver\u53ef\u7528\u7684\u7684CPU\u6838\u6570(Default: 1).\n\n Spark standalone or Mesos with cluster deploy mode only:\n  --supervise                 \u5982\u679c\u7ed9\u5b9a, \u53ef\u4ee5\u5c1d\u8bd5\u91cd\u542fDriver\n\n Spark standalone, Mesos or K8s with cluster deploy mode only:\n  --kill SUBMISSION_ID        \u6307\u5b9a\u7a0b\u5e8fID kill\n  --status SUBMISSION_ID      \u6307\u5b9a\u7a0b\u5e8fID \u67e5\u770b\u8fd0\u884c\u72b6\u6001\n\n Spark standalone, Mesos and Kubernetes only:\n  --total-executor-cores NUM  \u6574\u4e2a\u4efb\u52a1\u53ef\u4ee5\u7ed9Executor\u591a\u5c11\u4e2aCPU\u6838\u5fc3\u7528\n\n Spark standalone, YARN and Kubernetes only:\n  --executor-cores NUM        \u5355\u4e2aExecutor\u80fd\u4f7f\u7528\u591a\u5c11CPU\u6838\u5fc3\n\n Spark on YARN and Kubernetes only(YARN\u6a21\u5f0f\u4e0b):\n  --num-executors NUM         Executor\u5e94\u8be5\u5f00\u542f\u51e0\u4e2a\n  --principal PRINCIPAL       Principal to be used to login to KDC.\n  --keytab KEYTAB             The full path to the file that contains the keytab for the\n                              principal specified above.\n\n Spark on YARN only:\n  --queue QUEUE_NAME          \u6307\u5b9a\u8fd0\u884c\u7684YARN\u961f\u5217(Default: \"default\").\n</code></pre>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#3-windowsanaconda","title":"\u96443 Windows\u7cfb\u7edf\u914d\u7f6eAnaconda","text":""},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#_17","title":"\u5b89\u88c5","text":"<p>\u6253\u5f00\u8d44\u6599\u4e2d\u63d0\u4f9b\u7684:Anaconda3-2021.05-Windows-x86_64.exe\u6587\u4ef6,\u6216\u8005\u53bb\u5b98\u7f51\u4e0b\u8f7d:https://www.anaconda.com/products/individual#Downloads \u200b</p> <p>\u6253\u5f00\u540e,\u4e00\u76f4\u70b9\u51fb<code>Next</code>\u4e0b\u4e00\u6b65\u5373\u53ef:   \u5982\u679c\u60f3\u8981\u4fee\u6539\u5b89\u88c5\u8def\u5f84, \u53ef\u4ee5\u4fee\u6539  \u4e0d\u5fc5\u52fe\u9009  \u6700\u7ec8\u70b9\u51fbFinish\u5b8c\u6210\u5b89\u88c5 \u200b</p> <p>\u6253\u5f00\u5f00\u59cb\u83dc\u5355, \u641c\u7d22Anaconda  \u51fa\u73b0\u5982\u56fe\u7684\u7a0b\u5e8f, \u5b89\u88c5\u6210\u529f. \u200b</p> <p>\u6253\u5f00 <code>Anaconda Prompt</code>\u7a0b\u5e8f:  \u51fa\u73b0<code>base</code>\u8bf4\u660e\u5b89\u88c5\u6b63\u786e. \u200b</p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#_18","title":"\u914d\u7f6e\u56fd\u5185\u6e90","text":"<p>Anaconda\u9ed8\u8ba4\u6e90\u670d\u52a1\u5668\u5728\u56fd\u5916, \u7f51\u901f\u6bd4\u8f83\u6162, \u914d\u7f6e\u56fd\u5185\u6e90\u52a0\u901f\u7f51\u7edc\u4e0b\u8f7d. \u200b</p> <p>\u6253\u5f00\u4e0a\u56fe\u4e2d\u7684 <code>Anaconda Prompt</code>\u7a0b\u5e8f: \u6267\u884c: <code>conda config --set show_channel_urls yes</code> \u200b</p> <p>\u7136\u540e\u7528\u8bb0\u4e8b\u672c\u6253\u5f00: <code>C:\\Users\\\u7528\u6237\u540d\\.condarc</code>\u6587\u4ef6, \u5c06\u5982\u4e0b\u5185\u5bb9\u66ff\u6362\u8fdb\u6587\u4ef6\u5185,\u4fdd\u5b58\u5373\u53ef: <pre><code>channels:\n  - defaults\nshow_channel_urls: true\ndefault_channels:\n  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main\n  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r\n  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2\ncustom_channels:\n  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n</code></pre></p>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#_19","title":"\u521b\u5efa\u865a\u62df\u73af\u5883","text":"<pre><code># \u521b\u5efa\u865a\u62df\u73af\u5883 pyspark, \u57fa\u4e8ePython 3.8\nconda create -n pyspark python=3.8\n\n# \u5207\u6362\u5230\u865a\u62df\u73af\u5883\u5185\nconda activate pyspark\n\n# \u5728\u865a\u62df\u73af\u5883\u5185\u5b89\u88c5\u5305\npip install pyhive pyspark jieba -i https://pypi.tuna.tsinghua.edu.cn/simple \n</code></pre>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#spark-on-hive","title":"\u5b89\u88c5Spark on Hive","text":"<ul> <li>hive\u542f\u52a8metastore\u670d\u52a1</li> </ul> <pre><code>vim /export/server/apache-hive-3.1.2-bin/conf/hive-site.xml\n\n&lt;!-- \u8fdc\u7a0b\u6a21\u5f0f\u90e8\u7f72metastore metastore\u5730\u5740 --&gt;\n&lt;property&gt;\n    &lt;name&gt;hive.metastore.uris&lt;/name&gt;\n    &lt;value&gt;thrift://node1:9083&lt;/value&gt;\n&lt;/property&gt;\n</code></pre> <ul> <li>\u4fee\u6539spark\u548chive\u7684\u914d\u7f6e\u6587\u4ef6</li> </ul> <pre><code>vim  /export/server/spark/conf/hive-site.xml\n\n&lt;configuration&gt;\n  &lt;property&gt;\n    &lt;name&gt;hive.metastore.warehouse.dir&lt;/name&gt;\n    &lt;value&gt;/user/hive/warehouse&lt;/value&gt;\n&lt;!--&lt;value&gt;/root/hivedata&lt;/value&gt; --&gt;\n  &lt;/property&gt;\n\n  &lt;property&gt;\n    &lt;name&gt;hive.metastore.uris&lt;/name&gt;\n    &lt;value&gt;thrift://node1:9083&lt;/value&gt;\n  &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>"},{"location":"Hadoop/03-Spark%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/#spark-thriftserver","title":"\u5b89\u88c5spark-ThriftServer","text":"<p>\u6ce8\u610f\uff1a\u9700\u8981\u5df2\u7ecf\u914d\u7f6e\u597d\u4e86 Spark On Hive</p> <pre><code>yum install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel libffi-devel gcc make gcc-c++ python-devel cyrus-sasl-devel cyrus-sasl-plain cyrus-sasl-gssapi -y\n\npip install -i https://pypi.tuna.tsinghua.edu.cn/simple pyhive pymysql sasl thrift thrift_sasl\n</code></pre>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/","title":"Hive SQL \u8bed\u6cd5\u5927\u5168","text":""},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#_1","title":"\u57fa\u4e8e\u8bed\u6cd5\u63cf\u8ff0\u8bf4\u660e","text":"<pre><code>CREATE DATABASE [IF NOT EXISTS] db_name [LOCATION] 'path';\nSELECT expr, ... FROM tbl ORDER BY col_name [ASC | DESC]\n(A | B | C)\n</code></pre> <p>\u5982\u4e0a\u8bed\u6cd5\uff0c\u5728\u8bed\u6cd5\u63cf\u8ff0\u4e2d\u51fa\u73b0\uff1a</p> <ul> <li><code>[]</code>\uff0c\u8868\u793a\u53ef\u9009\uff0c\u5982\u4e0a<code>[LOCATION]</code>\u8868\u793a\u53ef\u5199\u3001\u53ef\u4e0d\u5199</li> <li> <p><code>|</code>\uff0c\u8868\u793a\u6216\uff0c\u5982\u4e0a<code>ASC | DESC</code>\uff0c\u8868\u793a\u4e8c\u9009\u4e00</p> </li> <li> <p>...\uff0c\u8868\u793a\u5e8f\u5217\uff0c\u5373\u672a\u5b8c\u7ed3\uff0c\u5982\u4e0a<code>SELECT expr, ...</code> \u8868\u793a\u5728SELECT\u540e\u53ef\u4ee5\u8ddf\u591a\u4e2a<code>expr\uff08\u67e5\u8be2\u8868\u8fbe\u5f0f\uff09</code>\uff0c\u4ee5\u9017\u53f7\u9694\u5f00</p> </li> <li><code>()</code>\uff0c\u8868\u793a\u5fc5\u586b\uff0c\u5982\u4e0a(A | B | C)\u8868\u793a\u6b64\u5904\u5fc5\u586b\uff0c\u586b\u5165\u5185\u5bb9\u5728A\u3001B\u3001C\u4e2d\u4e09\u9009\u4e00</li> </ul>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#_2","title":"\u6570\u636e\u5e93\u64cd\u4f5c","text":""},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#_3","title":"\u521b\u5efa\u6570\u636e\u5e93","text":"<pre><code>CREATE DATABASE [IF NOT EXISTS] db_name [LOCATION 'path'] [COMMENT database_comment];\n</code></pre> <ul> <li><code>IF NOT EXISTS</code>\uff0c\u5982\u5b58\u5728\u540c\u540d\u6570\u636e\u5e93<code>\u4e0d\u6267\u884c\u4efb\u4f55\u64cd\u4f5c</code>\uff0c\u5426\u5219<code>\u6267\u884c\u521b\u5efa\u6570\u636e\u5e93</code>\u64cd\u4f5c</li> <li> <p><code>[LOCATION]</code>\uff0c\u81ea\u5b9a\u4e49\u6570\u636e\u5e93\u5b58\u50a8\u4f4d\u7f6e\uff0c<code>\u5982\u4e0d\u586b\u5199</code>\uff0c\u9ed8\u8ba4\u6570\u636e\u5e93\u5728HDFS\u7684\u8def\u5f84\u4e3a\uff1a<code>/user/hive/warehouse</code></p> </li> <li> <p><code>[COMMENT database_comment]</code>\uff0c\u53ef\u9009\uff0c\u6570\u636e\u5e93\u6ce8\u91ca</p> </li> </ul>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#_4","title":"\u5220\u9664\u6570\u636e\u5e93","text":"<pre><code>DROP DATABASE [IF EXISTS] db_name [CASCADE];\n</code></pre> <ul> <li><code>[IF EXISTS]</code>\uff0c\u53ef\u9009\uff0c\u5982\u679c\u5b58\u5728\u6b64\u6570\u636e\u5e93\u6267\u884c\u5220\u9664\uff0c\u4e0d\u5b58\u5728\u4e0d\u6267\u884c\u4efb\u4f55\u64cd\u4f5c</li> <li><code>[CASCADE]</code>\uff0c\u53ef\u9009\uff0c\u7ea7\u8054\u5220\u9664\uff0c\u5373\u6570\u636e\u5e93\u5185\u5b58\u5728\u8868\uff0c\u4f7f\u7528CASCADE\u53ef\u4ee5\u5f3a\u5236\u5220\u9664\u6570\u636e\u5e93</li> </ul>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#location","title":"\u6570\u636e\u5e93\u4fee\u6539LOCATION","text":"<pre><code>ALTER DATABASE database_name SET LOCATION hdfs_path;\n</code></pre> <p>\u4e0d\u4f1a\u5728HDFS\u5bf9\u6570\u636e\u5e93\u6240\u5728\u76ee\u5f55\u8fdb\u884c\u6539\u540d\uff0c\u53ea\u662f\u4fee\u6539location\u540e\uff0c\u65b0\u521b\u5efa\u7684\u8868\u5728\u65b0\u7684\u8def\u5f84\uff0c\u65e7\u7684\u4e0d\u53d8</p>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#_5","title":"\u9009\u62e9\u6570\u636e\u5e93","text":"<pre><code>USE db_name;\n</code></pre> <ul> <li>\u9009\u62e9\u6570\u636e\u5e93\u540e\uff0c\u540e\u7eed<code>SQL</code>\u64cd\u4f5c\u57fa\u4e8e\u5f53\u524d\u9009\u62e9\u7684\u5e93\u6267\u884c</li> <li>\u5982\u4e0d\u4f7f\u7528use\uff0c\u9ed8\u8ba4\u5728<code>default</code>\u5e93\u6267\u884c</li> </ul> <p>\u82e5\u60f3\u5207\u6362\u56de\u4f7f\u7528default\u5e93</p> <pre><code>USE DEFAULT;\n</code></pre> <p>\u67e5\u8be2\u5f53\u524dUSE\u7684\u6570\u636e\u5e93</p> <pre><code>SELECT current_database();\n</code></pre>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#_6","title":"\u8868\u64cd\u4f5c","text":""},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#_7","title":"\u6570\u636e\u7c7b\u578b","text":"\u5206\u7c7b \u7c7b\u578b \u63cf\u8ff0 \u5b57\u9762\u91cf\u793a\u4f8b \u539f\u59cb\u7c7b\u578b BOOLEAN true/false TRUE TINYINT 1\u5b57\u8282\u7684\u6709\u7b26\u53f7\u6574\u6570 -128~127 1Y SMALLINT 2\u4e2a\u5b57\u8282\u7684\u6709\u7b26\u53f7\u6574\u6570\uff0c-32768~32767 1S INT 4\u4e2a\u5b57\u8282\u7684\u5e26\u7b26\u53f7\u6574\u6570 1 BIGINT 8\u5b57\u8282\u5e26\u7b26\u53f7\u6574\u6570 1L FLOAT 4\u5b57\u8282\u5355\u7cbe\u5ea6\u6d6e\u70b9\u65701.0 DOUBLE 8\u5b57\u8282\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570 1.0 DEICIMAL \u4efb\u610f\u7cbe\u5ea6\u7684\u5e26\u7b26\u53f7\u5c0f\u6570 1.0 STRING \u5b57\u7b26\u4e32\uff0c\u53d8\u957f \u201ca\u201d,\u2019b\u2019 VARCHAR \u53d8\u957f\u5b57\u7b26\u4e32 \u201ca\u201d,\u2019b\u2019 CHAR \u56fa\u5b9a\u957f\u5ea6\u5b57\u7b26\u4e32 \u201ca\u201d,\u2019b\u2019 BINARY \u5b57\u8282\u6570\u7ec4 TIMESTAMP \u65f6\u95f4\u6233\uff0c\u6beb\u79d2\u503c\u7cbe\u5ea6 122327493795 DATE \u65e5\u671f \u20182016-03-29\u2019 \u65f6\u95f4\u9891\u7387\u95f4\u9694 \u590d\u6742\u7c7b\u578b ARRAY \u6709\u5e8f\u7684\u7684\u540c\u7c7b\u578b\u7684\u96c6\u5408 array(1,2) MAP key-value,key\u5fc5\u987b\u4e3a\u539f\u59cb\u7c7b\u578b\uff0cvalue\u53ef\u4ee5\u4efb\u610f\u7c7b\u578b map(\u2018a\u2019,1,\u2019b\u2019,2) STRUCT \u5b57\u6bb5\u96c6\u5408,\u7c7b\u578b\u53ef\u4ee5\u4e0d\u540c struct(\u20181\u2019,1,1.0), named_stract(\u2018col1\u2019,\u20191\u2019,\u2019col2\u2019,1,\u2019clo3\u2019,1.0) UNION \u5728\u6709\u9650\u53d6\u503c\u8303\u56f4\u5185\u7684\u4e00\u4e2a\u503c create_union(1,\u2019a\u2019,63)"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#_8","title":"\u57fa\u7840\u5efa\u8868","text":"<pre><code>CREATE [EXTERNAL] TABLE tb_name\n    (col_name col_type [COMMENT col_comment], ......)\n    [COMMENT tb_comment]\n    [PARTITIONED BY(col_name, col_type, ......)]\n    [CLUSTERED BY(col_name, col_type, ......) INTO num BUCKETS]\n    [ROW FORMAT DELIMITED FIELDS TERMINATED BY '']\n    [LOCATION 'path']\n</code></pre> <ul> <li> <p><code>[EXTERNAL]</code>\uff0c\u5916\u90e8\u8868\uff0c\u9700\u642d\u914d</p> </li> <li> <p><code>[ROW FORMAT DELIMITED FIELDS TERMINATED BY '']</code>\u6307\u5b9a\u5217\u5206\u9694\u7b26</p> </li> <li> <p><code>[LOCATION 'path']</code>\u8868\u6570\u636e\u8def\u5f84</p> </li> <li> <p>\u5916\u90e8\u8868\u793a\u610f</p> <pre><code>CREATE EXTERNAL TABLE test_ext(id int) COMMENT 'external table' ROW FORMAT DELIMITED FIELDS TERMINATED BY '\\t' LOCATION 'hdfs://node1:8020/tmp/test_ext';\n</code></pre> </li> <li> <p><code>[COMMENT tb_comment]</code>\u8868\u6ce8\u91ca\uff0c\u53ef\u9009</p> </li> <li> <p><code>[PARTITIONED BY(col_name, col_type, ......)]</code>\u57fa\u4e8e\u5217\u5206\u533a</p> </li> </ul> <pre><code>-- \u5206\u533a\u8868\u793a\u610f\nCREATE TABLE test_ext(id int) COMMENT 'partitioned table' PARTITION BY(year string, month string, day string) ROW FORMAT DELIMITED FIELDS TERMINATED BY '\\t';\n</code></pre> <ul> <li><code>[CLUSTERED BY(col_name, col_type, ......)]</code>\u57fa\u4e8e\u5217\u5206\u6876</li> </ul> <pre><code>CREATE TABLE course (c_id string,c_name string,t_id string) CLUSTERED BY(c_id) INTO 3 BUCKETS ROW FORMAT DELIMITED FIELDS TERMINATED BY '\\t';\n</code></pre>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#_9","title":"\u57fa\u4e8e\u5176\u5b83\u8868\u7684\u7ed3\u6784\u5efa\u8868","text":"<pre><code>CREATE TABLE tbl_name LIKE other_tbl;\n</code></pre>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#_10","title":"\u57fa\u4e8e\u67e5\u8be2\u7ed3\u679c\u5efa\u8868","text":"<pre><code>CREATE TABLE tbl_name AS SELECT ...;\n</code></pre>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#_11","title":"\u5220\u9664\u8868","text":"<pre><code>DROP TABLE tbl;\n</code></pre>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#_12","title":"\u4fee\u6539\u8868","text":"<p>\u91cd\u547d\u540d</p> <pre><code>ALTER TABLE old RENAME TO new;\n</code></pre> <p>\u4fee\u6539\u5c5e\u6027</p> <pre><code>ALTER TABLE tbl SET TBLPROPERTIES(key=value);\n-- \u5e38\u7528\u5c5e\u6027\n(\"EXTERNAL\"=\"TRUE\") -- \u5185\u5916\u90e8\u8868\uff0cTRUE\u8868\u793a\u5916\u90e8\u8868\n('comment' = new_comment) -- \u4fee\u6539\u8868\u6ce8\u91ca\n-- \u5176\u4f59\u5c5e\u6027\u53c2\u89c1\nhttps://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-listTableProperties\n</code></pre>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#_13","title":"\u5206\u533a\u64cd\u4f5c","text":"<p>\u521b\u5efa\u5206\u533a\u8868</p> <pre><code>-- \u5206\u533a\u8868\u793a\u610f\nCREATE TABLE test_ext(id int) COMMENT 'partitioned table' PARTITION BY(year string, month string, day string) ROW FORMAT DELIMITED FIELDS TERMINATED BY '\\t';\n</code></pre> <p>\u6dfb\u52a0\u5206\u533a</p> <pre><code>ALTER TABLE tablename ADD PARTITION (partition_key='partition_value', ......);\n</code></pre> <p>\u4fee\u6539\u5206\u533a\u503c</p> <pre><code>ALTER TABLE tablename PARTITION (partition_key='old_partition_value') RENAME TO PARTITION (partition_key='new_partition_value');\n</code></pre> <p>\u6ce8\u610f</p> <p>\u53ea\u4f1a\u5728\u5143\u6570\u636e\u4e2d\u4fee\u6539\uff0c\u4e0d\u4f1a\u540c\u6b65\u4fee\u6539HDFS\u8def\u5f84\u5417\uff0c\u5982\uff1a</p> <ul> <li>\u539f\u5206\u533a\u8def\u5f84\u4e3a\uff1a<code>/user/hive/warehouse/test.db/test_table/month=201910</code>\uff0c\u5206\u533a\u540d\uff1a<code>month='201910'</code></li> <li>\u5c06\u5206\u533a\u540d\u4fee\u6539\u4e3a\uff1a<code>201911</code>\u540e\uff0c\u5206\u533a\u6240\u5728\u8def\u5f84\u4e0d\u53d8\uff0c\u4f9d\u65e7\u662f\uff1a<code>/user/hive/warehouse/test.db/test_table/month=201910</code></li> </ul> <p>\u5982\u679c\u5e0c\u671b\u4fee\u6539\u5206\u533a\u540d\u540e\uff0c\u540c\u6b65\u4fee\u6539HDFS\u7684\u8def\u5f84\uff0c\u5e76\u4fdd\u8bc1\u6b63\u5e38\u53ef\u7528\uff0c\u9700\u8981\uff1a</p> <ul> <li>\u5728\u5143\u6570\u636e\u5e93\u4e2d\uff1a<code>\u627e\u5230SDS\u8868</code> -&gt; <code>\u627e\u5230LOCATION\u5217</code> -&gt; <code>\u627e\u5230\u5bf9\u5e94\u5206\u533a\u7684\u8def\u5f84\u8bb0\u5f55\u8fdb\u884c\u4fee\u6539</code></li> <li>\u5982\u5c06\u8bb0\u5f55\u7684\uff1a<code>/user/hive/warehouse/test.db/test_table/month=201910</code> \u4fee\u6539\u4e3a\uff1a<code>/user/hive/warehouse/test.db/test_table/month=201911</code></li> <li>\u5728HDFS\u4e2d\uff0c\u540c\u6b65\u4fee\u6539\u6587\u4ef6\u5939\u540d</li> <li>\u5982\u5c06\u6587\u4ef6\u5939\uff1a<code>/user/hive/warehouse/test.db/test_table/month=201910</code> \u4fee\u6539\u4e3a\uff1a<code>/user/hive/warehouse/test.db/test_table/month=201911</code></li> </ul> <p>\u5220\u9664\u5206\u533a</p> <pre><code>ALTER TABLE tablename DROP PARTITION (partition_key='partition_value');\n</code></pre> <p>\u5220\u9664\u5206\u533a\u540e\uff0c\u53ea\u662f\u5728\u5143\u6570\u636e\u4e2d\u5220\u9664\uff0c\u5373\u5220\u9664\u5143\u6570\u636e\u5e93\u4e2d\uff1a</p> <ul> <li><code>PARTITION</code>\u8868</li> <li><code>SDS</code>\u8868</li> </ul> <p>\u76f8\u5173\u8bb0\u5f55</p> <p>\u5206\u533a\u6240\u5728\u7684HDFS\u6587\u4ef6\u5939\u4f9d\u65e7\u4fdd\u7559</p> <p>\u52a0\u8f7d\u6570\u636e</p> <p>LOAD DATA</p> <pre><code>LOAD DATA [LOCAL] INPATH 'path' INTO TABLE tbl PARTITION(partition_key='partition_value');\n</code></pre> <p>INSERT SELECT</p> <pre><code>INSERT (OVERWRITE | INTO) TABLE tbl PARTITION(partition_key='partition_value') SELECT ... FROM ...;\n</code></pre>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#_14","title":"\u5206\u6876\u64cd\u4f5c","text":"<p>\u5efa\u8868</p> <pre><code>CREATE TABLE course (c_id string,c_name string,t_id string) \n    [PARTITION(partition_key='partition_value')] \n    CLUSTERED BY(c_id) INTO 3 BUCKETS ROW FORMAT DELIMITED FIELDS TERMINATED BY '\\t';\n</code></pre> <ul> <li><code>CLUSTERED BY(col)</code> \u6307\u5b9a\u5206\u6876\u5217</li> <li><code>INTO 3 BUCKETS</code>\uff0c\u8bbe\u5b9a3\u4e2a\u6876</li> </ul> <p>\u5206\u6876\u8868\u9700\u8981\u5f00\u542f\uff1a</p> <p><code>set hive.enforce.bucketing=true;</code></p> <p>\u8bbe\u7f6e\u81ea\u52a8\u5339\u914d\u6876\u6570\u91cf\u7684reduces task\u6570\u91cf</p> <p>\u6570\u636e\u52a0\u8f7d</p> <pre><code>INSERT (OVERWRITE | INTO) TABLE tbl \n    [PARTITION(partition_key='partition_value')] \n    SELECT ... FROM ... CLUSTER BY(col);\n</code></pre> <p>\u5206\u6876\u8868\u65e0\u6cd5\u4f7f\u7528LOAD DATA\u8fdb\u884c\u6570\u636e\u52a0\u8f7d</p>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#_15","title":"\u6570\u636e\u52a0\u8f7d","text":"<p>LOAD DATA</p> <p>\u5c06\u6570\u636e\u6587\u4ef6\u52a0\u8f7d\u5230\u8868</p> <pre><code>LOAD DATA [LOCAL] INPATH 'path' INTO TABLE tbl [PARTITION(partition_key='partition_value')];    -- \u6307\u5b9a\u5206\u533a\u53ef\u9009\n</code></pre> <p>INSERT SELECT</p> <p>\u5c06\u5176\u5b83\u8868\u6570\u636e\uff0c\u52a0\u8f7d\u5230\u76ee\u6807\u8868</p> <pre><code>INSERT (OVERWRITE | INTO) TABLE tbl \n    [PARTITION(partition_key='partition_value')]        -- \u6307\u5b9a\u5206\u533a\uff0c\u53ef\u9009\n    SELECT ... FROM ... [CLUSTER BY(col)];              -- \u6307\u5b9a\u5206\u6876\u5217\uff0c\u53ef\u9009\n</code></pre>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#_16","title":"\u6570\u636e\u5bfc\u51fa","text":"<p>INSERT OVERWRITE SELECT</p> <pre><code>INSERT OVERWRITE [LOCAL] DIRECTORY \u2018path\u2019               -- LOCAL\u53ef\u9009\uff0c\u5e26LOCAL\u5bfc\u51faLinux\u672c\u5730\uff0c\u4e0d\u5e26LOCAL\u5bfc\u51fa\u5230HDFS\n    [ROW FORMAT DELIMITED FIELDS TERMINATED BY '']      -- \u53ef\u9009\uff0c\u81ea\u5b9a\u4e49\u5217\u5206\u9694\u7b26\n    SELECT ... FROM ...;\n</code></pre> <p>bin/hive</p> <ul> <li><code>bin/hive -e 'sql' &gt; export_file</code> \u5c06<code>sql</code>\u7ed3\u679c\u91cd\u5b9a\u5411\u5230\u5bfc\u51fa\u6587\u4ef6\u4e2d</li> <li><code>bin/hive -f 'sql_script_file' &gt; export_file</code> \u5c06<code>sql\u811a\u672c</code>\u6267\u884c\u7684\u7ed3\u679c\u91cd\u5b9a\u5411\u5230\u5bfc\u51fa\u6587\u4ef6\u4e2d</li> </ul>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#_17","title":"\u590d\u6742\u7c7b\u578b","text":"\u7c7b\u578b \u5b9a\u4e49 \u793a\u4f8b \u5185\u542b\u5143\u7d20\u7c7b\u578b \u5143\u7d20\u4e2a\u6570 \u53d6\u5143\u7d20 \u53ef\u7528\u51fd\u6570 array array&lt;\u7c7b\u578b&gt; \u5982\u5b9a\u4e49\u4e3aarray\u6570\u636e\u4e3a\uff1a1,2,3,4,5 \u5355\u503c\uff0c\u7c7b\u578b\u53d6\u51b3\u4e8e\u5b9a\u4e49 \u52a8\u6001\uff0c\u4e0d\u9650\u5236 array[\u6570\u5b57\u5e8f\u53f7] \u5e8f\u53f7\u4ece0\u5f00\u59cb size\u7edf\u8ba1\u5143\u7d20\u4e2a\u6570 array_contains\u5224\u65ad\u662f\u5426\u5305\u542b\u6307\u5b9a\u6570\u636e map map \u5982\u5b9a\u4e49\u4e3a\uff1amap\u6570\u636e\u4e3a\uff1a{\u2019a\u2019: 1, \u2018b\u2019: 2, \u2018c\u2019: 3} \u952e\u503c\u5bf9\uff0cK-V\uff0cK\u548cV\u7c7b\u578b\u53d6\u51b3\u4e8e\u5b9a\u4e49 \u52a8\u6001\uff0c\u4e0d\u9650\u5236 map[key] \u53d6\u51fa\u5bf9\u5e94key\u7684value size\u7edf\u8ba1\u5143\u7d20\u4e2a\u6570array_contains\u5224\u65ad\u662f\u5426\u5305\u542b\u6307\u5b9a\u6570\u636e map_keys\u53d6\u51fa\u5168\u90e8key\uff0c\u8fd4\u56dearray map_values\u53d6\u51fa\u5168\u90e8values\uff0c\u8fd4\u56dearray struct struct&lt;\u5b50\u5217\u540d \u7c7b\u578b, \u5b50\u5217\u540d \u7c7b\u578b...&gt; \u5982\u5b9a\u4e49\u4e3a\uff1astruct\u6570\u636e\u4e3a\uff1a\u2019a\u2019, 1, \u20182000-01-01\u2019 \u5355\u503c\uff0c\u7c7b\u578b\u53d6\u51b3\u4e8e\u5b9a\u4e49 \u56fa\u5b9a\uff0c\u53d6\u51b3\u4e8e\u5b9a\u4e49\u7684\u5b50\u5217\u6570\u91cf struct.\u5b50\u5217\u540d \u901a\u8fc7\u5b50\u5217\u540d\u53d6\u51fa\u5b50\u5217\u503c \u6682\u65e0"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#sql","title":"\u6570\u636e\u67e5\u8be2\u7684\u8bfe\u5802SQL\u8bb0\u5f55","text":""},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#_18","title":"\u57fa\u672c\u67e5\u8be2","text":"<pre><code>create database itheima;\nuse itheima;\nCREATE TABLE itheima.orders (\n    orderId bigint COMMENT '\u8ba2\u5355id',\n    orderNo string COMMENT '\u8ba2\u5355\u7f16\u53f7',\n    shopId bigint COMMENT '\u95e8\u5e97id',\n    userId bigint COMMENT '\u7528\u6237id',\n    orderStatus tinyint COMMENT '\u8ba2\u5355\u72b6\u6001 -3:\u7528\u6237\u62d2\u6536 -2:\u672a\u4ed8\u6b3e\u7684\u8ba2\u5355 -1\uff1a\u7528\u6237\u53d6\u6d88 0:\u5f85\u53d1\u8d27 1:\u914d\u9001\u4e2d 2:\u7528\u6237\u786e\u8ba4\u6536\u8d27',\n    goodsMoney double COMMENT '\u5546\u54c1\u91d1\u989d',\n    deliverMoney double COMMENT '\u8fd0\u8d39',\n    totalMoney double COMMENT '\u8ba2\u5355\u91d1\u989d\uff08\u5305\u62ec\u8fd0\u8d39\uff09',\n    realTotalMoney double COMMENT '\u5b9e\u9645\u8ba2\u5355\u91d1\u989d\uff08\u6298\u6263\u540e\u91d1\u989d\uff09',\n    payType tinyint COMMENT '\u652f\u4ed8\u65b9\u5f0f,0:\u672a\u77e5;1:\u652f\u4ed8\u5b9d\uff0c2\uff1a\u5fae\u4fe1;3\u3001\u73b0\u91d1\uff1b4\u3001\u5176\u4ed6',\n    isPay tinyint COMMENT '\u662f\u5426\u652f\u4ed8 0:\u672a\u652f\u4ed8 1:\u5df2\u652f\u4ed8',\n    userName string COMMENT '\u6536\u4ef6\u4eba\u59d3\u540d',\n    userAddress string COMMENT '\u6536\u4ef6\u4eba\u5730\u5740',\n    userPhone string COMMENT '\u6536\u4ef6\u4eba\u7535\u8bdd',\n    createTime timestamp COMMENT '\u4e0b\u5355\u65f6\u95f4',\n    payTime timestamp COMMENT '\u652f\u4ed8\u65f6\u95f4',\n    totalPayFee int COMMENT '\u603b\u652f\u4ed8\u91d1\u989d'\n) ROW FORMAT DELIMITED FIELDS TERMINATED BY '\\t';\n\nload data local inpath '/home/hadoop/itheima_orders.txt' into table itheima.orders;\n\nCREATE TABLE itheima.users (\n    userId int,\n    loginName string,\n    loginSecret int,\n    loginPwd string,\n    userSex tinyint,\n    userName string,\n    trueName string,\n    brithday date,\n    userPhoto string,\n    userQQ string,\n    userPhone string,\n    userScore int,\n    userTotalScore int,\n    userFrom tinyint,\n    userMoney double,\n    lockMoney double,\n    createTime timestamp,\n    payPwd string,\n    rechargeMoney double\n) ROW FORMAT DELIMITED FIELDS TERMINATED BY '\\t';\n\nload data local inpath '/home/hadoop/itheima_users.txt' into table itheima.users;\n\n-- \u67e5\u8be2\u5168\u8868\u6570\u636e\nSELECT * FROM itheima.orders;\n\n-- \u67e5\u8be2\u5355\u5217\u4fe1\u606f\nSELECT orderid, userid, totalmoney FROM itheima.orders o ;\n\n-- \u67e5\u8be2\u8868\u6709\u591a\u5c11\u6761\u6570\u636e\nSELECT COUNT(*) FROM itheima.orders;\n\n-- \u8fc7\u6ee4\u5e7f\u4e1c\u7701\u7684\u8ba2\u5355\nSELECT * FROM itheima.orders WHERE useraddress LIKE '%\u5e7f\u4e1c%';\n\n-- \u627e\u51fa\u5e7f\u4e1c\u7701\u5355\u7b14\u8425\u4e1a\u989d\u6700\u5927\u7684\u8ba2\u5355\nSELECT * FROM itheima.orders WHERE useraddress LIKE '%\u5e7f\u4e1c%'\nORDER BY totalmoney DESC LIMIT 1;\n\n-- \u7edf\u8ba1\u672a\u652f\u4ed8\u3001\u5df2\u652f\u4ed8\u5404\u81ea\u7684\u4eba\u6570\nSELECT ispay, COUNT(*) FROM itheima.orders o GROUP BY ispay ;\n\n-- \u5728\u5df2\u4ed8\u6b3e\u7684\u8ba2\u5355\u4e2d\uff0c\u7edf\u8ba1\u6bcf\u4e2a\u7528\u6237\u6700\u9ad8\u7684\u4e00\u7b14\u6d88\u8d39\u91d1\u989d\nSELECT userid, MAX(totalmoney) FROM itheima.orders WHERE ispay = 1 GROUP BY userid;\n-- \u7edf\u8ba1\u6bcf\u4e2a\u7528\u6237\u7684\u5e73\u5747\u8ba2\u5355\u6d88\u8d39\u989d\nSELECT userid, AVG(totalmoney) FROM itheima.orders GROUP BY userid;\n-- \u7edf\u8ba1\u6bcf\u4e2a\u7528\u6237\u7684\u5e73\u5747\u8ba2\u5355\u6d88\u8d39\u989d\uff0c\u5e76\u8fc7\u6ee4\u5927\u4e8e10000\u7684\u6570\u636e\nSELECT userid, AVG(totalmoney) AS avg_money FROM itheima.orders GROUP BY userid HAVING avg_money &gt; 10000;\n\n-- \u8ba2\u5355\u8868\u548c\u7528\u6237\u8868JOIN \u627e\u51fa\u7528\u6237username\nSELECT o.orderid, o.userid, u.username FROM itheima.orders o JOIN itheima.users u ON o.userid = u.userid;\nSELECT o.orderid, o.userid, u.username FROM itheima.orders o LEFT JOIN itheima.users u ON o.userid = u.userid;\n</code></pre>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#rlike","title":"RLIKE","text":"<pre><code>-- \u67e5\u627e\u5e7f\u4e1c\u7701\u6570\u636e\nSELECT * FROM itheima.orders WHERE useraddress RLIKE '.*\u5e7f\u4e1c.*';\n-- \u67e5\u627e\u7528\u6237\u5730\u5740\u662f\uff1axx\u7701 xx\u5e02 xx\u533a\nSELECT * FROM itheima.orders WHERE useraddress RLIKE '..\u7701 ..\u5e02 ..\u533a';\n-- \u67e5\u627e\u7528\u6237\u59d3\u4e3a\uff1a\u5f20\u3001\u738b\u3001\u9093\nSELECT * FROM itheima.orders WHERE username RLIKE '[\u5f20\u738b\u9093]\\\\S+';\n-- \u67e5\u627e\u624b\u673a\u53f7\u7b26\u5408\uff1a188****0*** \u89c4\u5219\nSELECT * FROM itheima.orders WHERE userphone RLIKE '188\\\\S{4}0[0-9]{3}';\n</code></pre>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#union","title":"UNION\u8054\u5408","text":"<pre><code>CREATE TABLE itheima.course(\nc_id string, \nc_name string, \nt_id string)\nROW FORMAT DELIMITED FIELDS TERMINATED BY '\\t';\n\nLOAD DATA LOCAL INPATH '/home/hadoop/course.txt' INTO TABLE itheima.course;\n-- \u57fa\u7840UNION\nSELECT * FROM itheima.course WHERE t_id = '\u5468\u6770\u8f6e'\n    UNION\nSELECT * FROM itheima.course WHERE t_id = '\u738b\u529b\u9e3f';\n-- \u53bb\u91cd\u6f14\u793a\nSELECT * FROM itheima.course\n    UNION\nSELECT * FROM itheima.course;\n-- \u4e0d\u53bb\u91cd\nSELECT * FROM itheima.course\n    UNION ALL\nSELECT * FROM itheima.course;\n-- UNION\u5199\u5728FROM\u4e2d UNION\u5199\u5728\u5b50\u67e5\u8be2\u4e2d\nSELECT t_id, COUNT(*) FROM \n(\n    SELECT * FROM itheima.course WHERE t_id = '\u5468\u6770\u8f6e'\n        UNION ALL\n    SELECT * FROM itheima.course WHERE t_id = '\u738b\u529b\u9e3f' \n) AS u GROUP BY t_id;\n\n-- \u7528\u4e8eINSERT SELECT\nINSERT OVERWRITE TABLE itheima.course2\nSELECT * FROM itheima.course \n    UNION\nSELECT * FROM itheima.course;\n</code></pre>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#sampling","title":"Sampling\u91c7\u6837","text":"<pre><code># \u968f\u673a\u6876\u62bd\u53d6\uff0c \u5206\u914d\u6876\u662f\u6709\u89c4\u5219\u7684\n# \u53ef\u4ee5\u6309\u7167\u5217\u7684hash\u53d6\u6a21\u5206\u6876\n# \u6309\u7167\u5b8c\u5168\u968f\u673a\u5206\u6876\n-- \u5176\u5b83\u6761\u4ef6\u4e0d\u53d8\u7684\u8bdd\uff0c\u6bcf\u4e00\u6b21\u8fd0\u884c\u7ed3\u679c\u4e00\u81f4\nselect username, orderId, totalmoney FROM itheima.orders \n    tablesample(bucket 3 out of 10 on username);\n\n-- \u5b8c\u5168\u968f\u673a\uff0c\u6bcf\u4e00\u6b21\u8fd0\u884c\u7ed3\u679c\u4e0d\u540c\nselect * from itheima.orders \n    tablesample(bucket 3 out of 10 on rand());\n\n\n\n# \u6570\u636e\u5757\u62bd\u53d6\uff0c\u6309\u987a\u5e8f\u62bd\u53d6\uff0c\u6bcf\u6b21\u6761\u4ef6\u4e0d\u53d8\uff0c\u62bd\u53d6\u7ed3\u679c\u4e0d\u53d8\n-- \u62bd\u53d6100\u6761\nselect * from itheima.orders\n    tablesample(100 rows);\n\n-- \u53d61%\u6570\u636e\nselect * from itheima.orders\n    tablesample(1 percent);\n\n-- \u53d6 1KB\u6570\u636e\nselect * from itheima.orders\n    tablesample(1K);\n</code></pre>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#_19","title":"\u865a\u62df\u5217","text":"<p>\u865a\u62df\u5217\u662fHive\u5185\u7f6e\u7684\u53ef\u4ee5\u5728\u67e5\u8be2\u8bed\u53e5\u4e2d\u4f7f\u7528\u7684\u7279\u6b8a\u6807\u8bb0\uff0c\u53ef\u4ee5\u67e5\u8be2\u6570\u636e\u672c\u8eab\u7684\u8be6\u7ec6\u53c2\u6570\u3002</p> <p>Hive\u76ee\u524d\u53ef\u75283\u4e2a\u865a\u62df\u5217\uff1a</p> <pre><code>- INPUT__FILE__NAME\uff0c\u663e\u793a\u6570\u636e\u884c\u6240\u5728\u7684\u5177\u4f53\u6587\u4ef6\n- BLOCK__OFFSET__INSIDE__FILE\uff0c\u663e\u793a\u6570\u636e\u884c\u6240\u5728\u6587\u4ef6\u7684\u504f\u79fb\u91cf\n- ROW__OFFSET__INSIDE__BLOCK\uff0c\u663e\u793a\u6570\u636e\u6240\u5728HDFS\u5757\u7684\u504f\u79fb\u91cf\n  \u6b64\u865a\u62df\u5217\u9700\u8981\u8bbe\u7f6e\uff1aSET hive.exec.rowoffset=true \u624d\u53ef\u4f7f\u7528\n</code></pre> <pre><code>SET hive.exec.rowoffset=true;\n\nSELECT orderid, username, INPUT__FILE__NAME, BLOCK__OFFSET__INSIDE__FILE, ROW__OFFSET__INSIDE__BLOCK FROM itheima.orders;\n\nSELECT *, BLOCK__OFFSET__INSIDE__FILE FROM itheima.orders WHERE BLOCK__OFFSET__INSIDE__FILE &lt; 1000;\n\nSELECT orderid, username, INPUT__FILE__NAME, BLOCK__OFFSET__INSIDE__FILE, ROW__OFFSET__INSIDE__BLOCK FROM itheima.orders_bucket;\n\nSELECT INPUT__FILE__NAME, COUNT(*) FROM itheima.orders_bucket GROUP BY INPUT__FILE__NAME;\n</code></pre>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#_20","title":"\u51fd\u6570","text":"<p>\u6570\u503c\u3001\u96c6\u5408\u3001\u8f6c\u6362\u3001\u65e5\u671f\u51fd\u6570</p> <pre><code>-- \u67e5\u770b\u6240\u6709\u53ef\u7528\u51fd\u6570\nshow functions;\n-- \u67e5\u770b\u51fd\u6570\u4f7f\u7528\u65b9\u5f0f\ndescribe function extended count;\n-- \u6570\u503c\u51fd\u6570\n-- round \u53d6\u6574\uff0c\u8bbe\u7f6e\u5c0f\u6570\u7cbe\u5ea6\nselect round(3.1415926);        -- \u53d6\u6574(\u56db\u820d\u4e94\u5165)\nselect round(3.1415926, 4);     -- \u8bbe\u7f6e\u5c0f\u6570\u7cbe\u5ea64\u4f4d(\u56db\u820d\u4e94\u5165)\n-- \u968f\u673a\u6570\nselect rand();                  -- \u5b8c\u5168\u968f\u673a\nselect rand(3);                 -- \u8bbe\u7f6e\u968f\u673a\u6570\u79cd\u5b50\uff0c\u8bbe\u7f6e\u79cd\u5b50\u540e\u6bcf\u6b21\u8fd0\u884c\u7ed3\u679c\u4e00\u81f4\u7684\n-- \u7edd\u5bf9\u503c\nselect abs(-3);\n-- \u6c42PI\nselect pi();\n\n-- \u96c6\u5408\u51fd\u6570\n-- \u6c42\u5143\u7d20\u4e2a\u6570\nselect size(work_locations) from test_array;\nselect size(members) from test_map;\n-- \u53d6\u51famap\u7684\u5168\u90e8key\nselect map_keys(members) from test_map;\n-- \u53d6\u51famap\u7684\u5168\u90e8value\nselect map_values(members) from test_map;\n-- \u67e5\u8be2array\u5185\u662f\u5426\u5305\u542b\u6307\u5b9a\u5143\u7d20\uff0c\u662f\u5c31\u8fd4\u56deTrue\nselect * from test_array where ARRAY_CONTAINS(work_locations, 'tianjin');\n-- \u6392\u5e8f\nselect *, sort_array(work_locations) from test_array;\n\n\n-- \u7c7b\u578b\u8f6c\u6362\u51fd\u6570\n-- \u8f6c\u4e8c\u8fdb\u5236\nselect binary('hadoop');\n-- \u81ea\u7531\u8f6c\u6362\uff0c\u7c7b\u578b\u8f6c\u6362\u5931\u8d25\u62a5\u9519\u6216\u8fd4\u56deNULL\nselect cast('1' as bigint);\n\n-- \u65e5\u671f\u51fd\u6570\n-- \u5f53\u524d\u65f6\u95f4\u6233\nselect current_timestamp();\n-- \u5f53\u524d\u65e5\u671f\nselect current_date();\n-- \u65f6\u95f4\u6233\u8f6c\u65e5\u671f\nselect to_date(current_timestamp());\n-- \u5e74\u6708\u65e5\u5b63\u5ea6\u7b49\nselect year('2020-01-11');\nselect month('2020-01-11');\nselect day('2020-01-11');\nselect quarter('2020-05-11');\nselect dayofmonth('2020-05-11');\nselect hour('2020-05-11 10:36:59');\nselect minute('2020-05-11 10:36:59');\nselect second('2020-05-11 10:36:59');\nselect weekofyear('2020-05-11 10:36:59');\n-- \u65e5\u671f\u4e4b\u95f4\u7684\u5929\u6570\nselect datediff('2022-12-31', '2019-12-31');\n-- \u65e5\u671f\u76f8\u52a0\u3001\u76f8\u51cf\nselect date_add('2022-12-31', 5);\nselect date_sub('2022-12-31', 5);\n</code></pre>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#sql_1","title":"\u793e\u4ea4\u6848\u4f8b\u64cd\u4f5cSQL","text":"<p>\u51c6\u5907\u6570\u636e</p> <pre><code>-- \u521b\u5efa\u6570\u636e\u5e93\ncreate database db_msg;\n-- \u9009\u62e9\u6570\u636e\u5e93\nuse db_msg;\n\n-- \u5982\u679c\u8868\u5df2\u5b58\u5728\u5c31\u5220\u9664\ndrop table if exists db_msg.tb_msg_source ;\n-- \u5efa\u8868\ncreate table db_msg.tb_msg_source(\n    msg_time string comment \"\u6d88\u606f\u53d1\u9001\u65f6\u95f4\",\n    sender_name string comment \"\u53d1\u9001\u4eba\u6635\u79f0\",\n    sender_account string comment \"\u53d1\u9001\u4eba\u8d26\u53f7\",\n    sender_sex string comment \"\u53d1\u9001\u4eba\u6027\u522b\",\n    sender_ip string comment \"\u53d1\u9001\u4ebaip\u5730\u5740\",\n    sender_os string comment \"\u53d1\u9001\u4eba\u64cd\u4f5c\u7cfb\u7edf\",\n    sender_phonetype string comment \"\u53d1\u9001\u4eba\u624b\u673a\u578b\u53f7\",\n    sender_network string comment \"\u53d1\u9001\u4eba\u7f51\u7edc\u7c7b\u578b\",\n    sender_gps string comment \"\u53d1\u9001\u4eba\u7684GPS\u5b9a\u4f4d\",\n    receiver_name string comment \"\u63a5\u6536\u4eba\u6635\u79f0\",\n    receiver_ip string comment \"\u63a5\u6536\u4ebaIP\",\n    receiver_account string comment \"\u63a5\u6536\u4eba\u8d26\u53f7\",\n    receiver_os string comment \"\u63a5\u6536\u4eba\u64cd\u4f5c\u7cfb\u7edf\",\n    receiver_phonetype string comment \"\u63a5\u6536\u4eba\u624b\u673a\u578b\u53f7\",\n    receiver_network string comment \"\u63a5\u6536\u4eba\u7f51\u7edc\u7c7b\u578b\",\n    receiver_gps string comment \"\u63a5\u6536\u4eba\u7684GPS\u5b9a\u4f4d\",\n    receiver_sex string comment \"\u63a5\u6536\u4eba\u6027\u522b\",\n    msg_type string comment \"\u6d88\u606f\u7c7b\u578b\",\n    distance string comment \"\u53cc\u65b9\u8ddd\u79bb\",\n    message string comment \"\u6d88\u606f\u5185\u5bb9\"\n);\n\n-- \u4e0a\u4f20\u6570\u636e\u5230HDFS(Linux\u547d\u4ee4)\nhadoop fs -mkdir -p /chatdemo/data\nhadoop fs -put chat_data-30W.csv /chatdemo/data/\n\n-- \u52a0\u8f7d\u6570\u636e\u5230\u8868\u4e2d\uff0c\u57fa\u4e8eHDFS\u52a0\u8f7d\nload data inpath '/chatdemo/data/chat_data-30W.csv' into table tb_msg_source;\n\n-- \u9a8c\u8bc1\u6570\u636e\u52a0\u8f7d\nselect * from tb_msg_source tablesample(100 rows);\n-- \u9a8c\u8bc1\u4e00\u4e0b\u8868\u7684\u6570\u91cf\nselect count(*) from tb_msg_source;\n</code></pre> <p>ETL\u6e05\u6d17\u8f6c\u6362</p> <pre><code>create table db_msg.tb_msg_etl(\n    msg_time string comment \"\u6d88\u606f\u53d1\u9001\u65f6\u95f4\",\n    sender_name string comment \"\u53d1\u9001\u4eba\u6635\u79f0\",\n    sender_account string comment \"\u53d1\u9001\u4eba\u8d26\u53f7\",\n    sender_sex string comment \"\u53d1\u9001\u4eba\u6027\u522b\",\n    sender_ip string comment \"\u53d1\u9001\u4ebaip\u5730\u5740\",\n    sender_os string comment \"\u53d1\u9001\u4eba\u64cd\u4f5c\u7cfb\u7edf\",\n    sender_phonetype string comment \"\u53d1\u9001\u4eba\u624b\u673a\u578b\u53f7\",\n    sender_network string comment \"\u53d1\u9001\u4eba\u7f51\u7edc\u7c7b\u578b\",\n    sender_gps string comment \"\u53d1\u9001\u4eba\u7684GPS\u5b9a\u4f4d\",\n    receiver_name string comment \"\u63a5\u6536\u4eba\u6635\u79f0\",\n    receiver_ip string comment \"\u63a5\u6536\u4ebaIP\",\n    receiver_account string comment \"\u63a5\u6536\u4eba\u8d26\u53f7\",\n    receiver_os string comment \"\u63a5\u6536\u4eba\u64cd\u4f5c\u7cfb\u7edf\",\n    receiver_phonetype string comment \"\u63a5\u6536\u4eba\u624b\u673a\u578b\u53f7\",\n    receiver_network string comment \"\u63a5\u6536\u4eba\u7f51\u7edc\u7c7b\u578b\",\n    receiver_gps string comment \"\u63a5\u6536\u4eba\u7684GPS\u5b9a\u4f4d\",\n    receiver_sex string comment \"\u63a5\u6536\u4eba\u6027\u522b\",\n    msg_type string comment \"\u6d88\u606f\u7c7b\u578b\",\n    distance string comment \"\u53cc\u65b9\u8ddd\u79bb\",\n    message string comment \"\u6d88\u606f\u5185\u5bb9\",\n    msg_day string comment \"\u6d88\u606f\u65e5\",\n    msg_hour string comment \"\u6d88\u606f\u5c0f\u65f6\",\n    sender_lng double comment \"\u7ecf\u5ea6\",\n    sender_lat double comment \"\u7eac\u5ea6\"\n);\n\nINSERT OVERWRITE TABLE db_msg.tb_msg_etl\nSELECT \n    *, \n    DATE(msg_time) AS msg_day, \n    HOUR(msg_time) AS msg_hour, \n    SPLIT(sender_gps, ',')[0] AS sender_lng, \n    SPLIT(sender_gps, ',')[1] AS sender_lat\nFROM db_msg.tb_msg_source\nWHERE LENGTH(sender_gps) &gt; 0;\n</code></pre> <p>\u6307\u6807\u8ba1\u7b97</p> <p>\u9700\u6c421</p> <pre><code>--\u4fdd\u5b58\u7ed3\u679c\u8868\nCREATE TABLE IF NOT EXISTS tb_rs_total_msg_cnt \nCOMMENT \"\u6bcf\u65e5\u6d88\u606f\u603b\u91cf\" AS \nSELECT \n    msg_day, \n    COUNT(*) AS total_msg_cnt \nFROM db_msg.tb_msg_etl \nGROUP BY msg_day;\n</code></pre> <p>\u9700\u6c422</p> <pre><code>--\u4fdd\u5b58\u7ed3\u679c\u8868\nCREATE TABLE IF NOT EXISTS tb_rs_hour_msg_cnt \nCOMMENT \"\u6bcf\u5c0f\u65f6\u6d88\u606f\u91cf\u8d8b\u52bf\" AS  \nSELECT  \n    msg_hour, \n    COUNT(*) AS total_msg_cnt, \n    COUNT(DISTINCT sender_account) AS sender_user_cnt, \n    COUNT(DISTINCT receiver_account) AS receiver_user_cnt\nFROM db_msg.tb_msg_etl GROUP BY msg_hour;\n</code></pre> <p>\u9700\u6c423</p> <pre><code>CREATE TABLE IF NOT EXISTS tb_rs_loc_cnt\nCOMMENT '\u4eca\u65e5\u5404\u5730\u533a\u53d1\u9001\u6d88\u606f\u603b\u91cf' AS \nSELECT \n    msg_day,  \n    sender_lng, \n    sender_lat, \n    COUNT(*) AS total_msg_cnt \nFROM db_msg.tb_msg_etl\nGROUP BY msg_day, sender_lng, sender_lat;\n</code></pre> <p>\u9700\u6c424</p> <pre><code>--\u4fdd\u5b58\u7ed3\u679c\u8868\nCREATE TABLE IF NOT EXISTS tb_rs_user_cnt\nCOMMENT \"\u4eca\u65e5\u53d1\u9001\u6d88\u606f\u4eba\u6570\u3001\u63a5\u53d7\u6d88\u606f\u4eba\u6570\" AS\nSELECT \nmsg_day, \nCOUNT(DISTINCT sender_account) AS sender_user_cnt, \nCOUNT(DISTINCT receiver_account) AS receiver_user_cnt\nFROM db_msg.tb_msg_etl\nGROUP BY msg_day;\n</code></pre> <p>\u9700\u6c425</p> <pre><code>--\u4fdd\u5b58\u7ed3\u679c\u8868\nCREATE TABLE IF NOT EXISTS db_msg.tb_rs_s_user_top10\nCOMMENT \"\u53d1\u9001\u6d88\u606f\u6761\u6570\u6700\u591a\u7684Top10\u7528\u6237\" AS\nSELECT \n    sender_name AS username, \n    COUNT(*) AS sender_msg_cnt \nFROM db_msg.tb_msg_etl \nGROUP BY sender_name \nORDER BY sender_msg_cnt DESC \nLIMIT 10;\n</code></pre> <p>\u9700\u6c426</p> <pre><code>CREATE TABLE IF NOT EXISTS db_msg.tb_rs_r_user_top10\nCOMMENT \"\u63a5\u6536\u6d88\u606f\u6761\u6570\u6700\u591a\u7684Top10\u7528\u6237\" AS\nSELECT \nreceiver_name AS username, \nCOUNT(*) AS receiver_msg_cnt \nFROM db_msg.tb_msg_etl \nGROUP BY receiver_name \nORDER BY receiver_msg_cnt DESC \nLIMIT 10;\n</code></pre> <p>\u9700\u6c427</p> <pre><code>CREATE TABLE IF NOT EXISTS db_msg.tb_rs_sender_phone\nCOMMENT \"\u53d1\u9001\u4eba\u7684\u624b\u673a\u578b\u53f7\u5206\u5e03\" AS\nSELECT \n    sender_phonetype, \n    COUNT(sender_account) AS cnt \nFROM db_msg.tb_msg_etl \nGROUP BY sender_phonetype;\n</code></pre> <p>\u9700\u6c428</p> <pre><code>--\u4fdd\u5b58\u7ed3\u679c\u8868\nCREATE TABLE IF NOT EXISTS db_msg.tb_rs_sender_os\nCOMMENT \"\u53d1\u9001\u4eba\u7684OS\u5206\u5e03\" AS\nSELECT\n    sender_os, \n    COUNT(sender_account) AS cnt \nFROM db_msg.tb_msg_etl \nGROUP BY sender_os\n</code></pre>"},{"location":"Hadoop/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8/#hive","title":"Hive\u5217\u6ce8\u91ca\u3001\u8868\u6ce8\u91ca\u7b49\u4e71\u7801\u89e3\u51b3\u65b9\u6848","text":"<pre><code>-- \u5728Hive\u7684MySQL\u5143\u6570\u636e\u5e93\u4e2d\u6267\u884c\nuse hive;\n\n1).\u4fee\u6539\u5b57\u6bb5\u6ce8\u91ca\u5b57\u7b26\u96c6\n\nalter table COLUMNS_V2 modify column COMMENT varchar(256) character set utf8;\n2).\u4fee\u6539\u8868\u6ce8\u91ca\u5b57\u7b26\u96c6\n\nalter table TABLE_PARAMS modify column PARAM_VALUE varchar(4000) character set utf8;\n3).\u4fee\u6539\u5206\u533a\u8868\u53c2\u6570\uff0c\u4ee5\u652f\u6301\u5206\u533a\u952e\u80fd\u591f\u7528\u4e2d\u6587\u8868\u793a\n\nalter table PARTITION_PARAMS modify column PARAM_VALUE varchar(4000) character set utf8;\nalter table PARTITION_KEYS modify column PKEY_COMMENT varchar(4000) character set utf8;\n4).\u4fee\u6539\u7d22\u5f15\u6ce8\u89e3\n\nmysql&gt;alter table INDEX_PARAMS modify column PARAM_VALUE varchar(4000) character set utf8;\n</code></pre>"},{"location":"LINUX/commend/","title":"Commend","text":"<ul> <li>scp</li> <li>Parted</li> <li>tr\u66ff\u6362\u5b57\u7b26\u4e32\u7b49</li> <li>blkid\u663e\u793a\u5757\u8bbe\u5907\u5c5e\u6027\u67e5\u770b\u786c\u76d8UUID\u53f7<ul> <li>\u529f\u80fd\u63cf\u8ff0</li> <li>UUID\u4f5c\u7528</li> <li>\u547d\u4ee4\u8bed\u6cd5\uff1a</li> <li>\u9009\u9879\u542b\u4e49\uff1a</li> <li>\u793a\u4f8b\uff1a</li> </ul> </li> <li>\u67e5\u770b\u8fdb\u7a0b\u7f51\u901f</li> <li>shell \u67e5\u770bdocker\u5360\u7528</li> </ul>"},{"location":"LINUX/commend/#scp","title":"scp","text":"<pre><code>-q:  quiet     \u4e0d\u663e\u793a\u4f20\u8f93\u8fdb\u5ea6\u6761\u3002\n-r:   recuersive    \u9012\u5f52\u7684\n-p:   properity    \u4fdd\u7559\u5c5e\u6027\n-v:   verbose    \u663e\u793a\u8be6\u7ec6\u8f93\u51fa\n-i:   identity_file      \u4ece\u6307\u5b9a\u6587\u4ef6\u4e2d\u8bfb\u53d6\u4f20\u8f93\u65f6\u4f7f\u7528\u7684\u5bc6\u94a5\u6587\u4ef6\uff0c\u6b64\u53c2\u6570\u76f4\u63a5\u4f20\u9012\u7ed9ssh \n-P:  port       \u7aef\u53e3\uff08\u5927\u5199P\uff09\n# scp file user@host:file    \u53d1\u9001\u6587\u4ef6\u7ed9\u522b\u4eba\n# scp user@host:file         \u4ece\u522b\u4eba\u4e0b\u8f7d\u6587\u4ef6\u5230\u81ea\u5df1\n</code></pre>"},{"location":"LINUX/commend/#parted","title":"Parted","text":"<pre><code>\u5e2e\u52a9\u9009\u9879\uff1a\n-h, --help                    \u663e\u793a\u6b64\u6c42\u52a9\u4fe1\u606f \n-l, --list                    \u5217\u51fa\u6240\u6709\u8bbe\u522b\u7684\u5206\u533a\u4fe1\u606f\n-i, --interactive             \u5728\u5fc5\u8981\u65f6\uff0c\u63d0\u793a\u7528\u6237 \n-s, --script                  \u4ece\u4e0d\u63d0\u793a\u7528\u6237 \n-v, --version                 \u663e\u793a\u7248\u672c\n\n\u64cd\u4f5c\u547d\u4ee4\uff1a\ncp [FROM-DEVICE] FROM-MINOR TO-MINOR           #\u5c06\u6587\u4ef6\u7cfb\u7edf\u590d\u5236\u5230\u53e6\u4e00\u4e2a\u5206\u533a \nhelp [COMMAND]                                 #\u6253\u5370\u901a\u7528\u6c42\u52a9\u4fe1\u606f\uff0c\u6216\u5173\u4e8e COMMAND \u7684\u4fe1\u606f \nmklabel \u6807\u7b7e\u7c7b\u578b                               #\u521b\u5efa\u65b0\u7684\u78c1\u76d8\u6807\u7b7e (\u5206\u533a\u8868) \nmkfs MINOR \u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b                        #\u5728 MINOR \u521b\u5efa\u7c7b\u578b\u4e3a\u201c\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u201d\u7684\u6587\u4ef6\u7cfb\u7edf \nmkpart \u5206\u533a\u7c7b\u578b [\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b] \u8d77\u59cb\u70b9 \u7ec8\u6b62\u70b9   #\u521b\u5efa\u4e00\u4e2a\u5206\u533a \nmkpartfs \u5206\u533a\u7c7b\u578b \u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b \u8d77\u59cb\u70b9 \u7ec8\u6b62\u70b9   #\u521b\u5efa\u4e00\u4e2a\u5e26\u6709\u6587\u4ef6\u7cfb\u7edf\u7684\u5206\u533a \nmove MINOR \u8d77\u59cb\u70b9 \u7ec8\u6b62\u70b9                       #\u79fb\u52a8\u7f16\u53f7\u4e3a MINOR \u7684\u5206\u533a \nname MINOR \u540d\u79f0                                #\u5c06\u7f16\u53f7\u4e3a MINOR \u7684\u5206\u533a\u547d\u540d\u4e3a\u201c\u540d\u79f0\u201d \nprint [MINOR]                                  #\u6253\u5370\u5206\u533a\u8868\uff0c\u6216\u8005\u5206\u533a \nquit                                           #\u9000\u51fa\u7a0b\u5e8f \nrescue \u8d77\u59cb\u70b9 \u7ec8\u6b62\u70b9                           #\u633d\u6551\u4e34\u8fd1\u201c\u8d77\u59cb\u70b9\u201d\u3001\u201c\u7ec8\u6b62\u70b9\u201d\u7684\u9057\u5931\u7684\u5206\u533a \nresize MINOR \u8d77\u59cb\u70b9 \u7ec8\u6b62\u70b9                     #\u6539\u53d8\u4f4d\u4e8e\u7f16\u53f7\u4e3a MINOR \u7684\u5206\u533a\u4e2d\u6587\u4ef6\u7cfb\u7edf\u7684\u5927\u5c0f \nrm MINOR                                       #\u5220\u9664\u7f16\u53f7\u4e3a MINOR \u7684\u5206\u533a \nselect \u8bbe\u5907                                    #\u9009\u62e9\u8981\u7f16\u8f91\u7684\u8bbe\u5907 \nset MINOR \u6807\u5fd7 \u72b6\u6001                            #\u6539\u53d8\u7f16\u53f7\u4e3a MINOR \u7684\u5206\u533a\u7684\u6807\u5fd7\n</code></pre> <pre><code>1\u3001\u9009\u62e9\u5206\u533a\u786c\u76d8\n\u9996\u5148\u7c7b\u4f3cfdisk\u4e00\u6837\uff0c\u5148\u9009\u62e9\u8981\u5206\u533a\u7684\u786c\u76d8\uff0c\u6b64\u5904\u4e3a/dev/hdd\uff1a ((parted)\u8868\u793a\u5728parted\u4e2d\u8f93\u5165\u7684\u547d\u4ee4\uff0c\u5176\u4ed6\u4e3a\u81ea\u52a8\u6253\u5370\u7684\u4fe1\u606f)\n\n[root@10.10.90.97 ~]# parted /dev/hdd\nGNU Parted 1.8.1\nUsing /dev/hdd\nWelcome to GNU Parted! Type 'help' to view a list of commands.\n2\u3001\u521b\u5efa\u5206\u533a\n\u9009\u62e9\u4e86/dev/hdd\u4f5c\u4e3a\u6211\u4eec\u64cd\u4f5c\u7684\u78c1\u76d8\uff0c\u63a5\u4e0b\u6765\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u5206\u533a\u8868(\u5728parted\u4e2d\u53ef\u4ee5\u4f7f\u7528help\u547d\u4ee4\u6253\u5370\u5e2e\u52a9\u4fe1\u606f)\uff1a\n\n(parted) mklabel\nNew disk label type? gpt    (\u6211\u4eec\u8981\u6b63\u786e\u5206\u533a\u5927\u4e8e2TB\u7684\u78c1\u76d8\uff0c\u5e94\u8be5\u4f7f\u7528gpt\u65b9\u5f0f\u7684\u5206\u533a\u8868\uff0c\u8f93\u5165gpt\u540e\u56de\u8f66)\n3\u3001\u5b8c\u6210\u5206\u533a\u64cd\u4f5c\n\u521b\u5efa\u597d\u5206\u533a\u8868\u4ee5\u540e\uff0c\u63a5\u4e0b\u6765\u5c31\u53ef\u4ee5\u8fdb\u884c\u5206\u533a\u64cd\u4f5c\u4e86\uff0c\u6267\u884cmkpart\u547d\u4ee4\uff0c\u5206\u522b\u8f93\u5165\u5206\u533a\u540d\u79f0\uff0c\u6587\u4ef6\u7cfb\u7edf\u548c\u5206\u533a \u7684\u8d77\u6b62\u4f4d\u7f6e\n\n(parted) mkpart\nPartition name? []? dp1\nFile system type? [ext2]? ext3\nStart? 0           \uff08\u53ef\u4ee5\u7528\u767e\u5206\u6bd4\u8868\u793a\uff0c\u6bd4\u5982Start? 0% , End? 50%\uff09\nEnd? 500GB\n4\u3001\u9a8c\u8bc1\u5206\u533a\u4fe1\u606f\n\u5206\u597d\u533a\u540e\u53ef\u4ee5\u4f7f\u7528print\u547d\u4ee4\u6253\u5370\u5206\u533a\u4fe1\u606f\uff0c\u4e0b\u9762\u662f\u4e00\u4e2aprint\u7684\u6837\u4f8b\n\n(parted) print\nModel: VBOX HARDDISK (ide)\nDisk /dev/hdd: 2199GB\nSector size (logical/physical): 512B/512B\nPartition Table: gpt\nNumber Start End Size File system Name Flags\n1 17.4kB 500GB 500GB dp1\n5\u3001\u5220\u9664\u5206\u533a\u793a\u4f8b\n\u5982\u679c\u5206\u533a\u9519\u4e86\uff0c\u53ef\u4ee5\u4f7f\u7528rm\u547d\u4ee4\u5220\u9664\u5206\u533a\uff0c\u6bd4\u5982\u6211\u4eec\u8981\u5220\u9664\u4e0a\u9762\u7684\u5206\u533a\uff0c\u7136\u540e\u6253\u5370\u5220\u9664\u540e\u7684\u7ed3\u679c\n\n(parted)rm 1               #rm\u540e\u9762\u4f7f\u7528\u5206\u533a\u7684\u53f7\u7801\uff0c\u5c31\u662f\u7528print\u6253\u5370\u51fa\u6765\u7684Number\n(parted) print\nModel: VBOX HARDDISK (ide)\nDisk /dev/hdd: 2199GB\nSector size (logical/physical): 512B/512B\nPartition Table: gpt\nNumber Start End Size File system Name Flags\n6\u3001\u5b8c\u6574\u793a\u4f8b\n\u6309\u7167\u4e0a\u9762\u7684\u65b9\u6cd5\u628a\u6574\u4e2a\u786c\u76d8\u90fd\u5206\u597d\u533a\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u5206\u5b8c\u540e\u7684\u6837\u4f8b\n\n(parted) mkpart\nPartition name? []? dp1\nFile system type? [ext2]? ext3\nStart? 0\nEnd? 500GB\n(parted) mkpart\nPartition name? []? dp2\nFile system type? [ext2]? ext3\nStart? 500GB\nEnd? 2199GB\n(parted) print\nModel: VBOX HARDDISK (ide)\nDisk /dev/hdd: 2199GB\nSector size (logical/physical): 512B/512B\nPartition Table: gpt\nNumber Start End Size File system Name Flags\n1 17.4kB 500GB 500GB dp1\n2 500GB 2199GB 1699GB dp2\n7\u3001\u683c\u5f0f\u5316\u64cd\u4f5c\n\u5b8c\u6210\u4ee5\u540e\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528quit\u547d\u4ee4\u9000\u51faparted\u5e76\u4f7f\u7528\u7cfb\u7edf\u7684mkfs\u547d\u4ee4\u5bf9\u5206\u533a\u8fdb\u884c\u683c\u5f0f\u5316\u4e86\u3002\n\n[root@10.10.90.97 ~]# fdisk -l\nWARNING: GPT (GUID Partition Table) detected on '/dev/hdd'! The util fdisk doesn't support GPT. Use GNU Parted.\nDisk /dev/hdd: 2199.0 GB, 2199022206976 bytes\n255 heads, 63 sectors/track, 267349 cylinders\nUnits = cylinders of 16065 * 512 = 8225280 bytes\nDevice Boot Start End Blocks Id System\n/dev/hdd1 1 267350 2147482623+ ee EFI GPT\n[root@10.10.90.97 ~]# mkfs.ext3 /dev/hdd1\n[root@10.10.90.97 ~]# mkfs.ext3 /dev/hdd2\n[root@10.10.90.97 ~]# mkdir /dp1 /dp2\n[root@10.10.90.97 ~]# mount /dev/hdd1 /dp1\n[root@10.10.90.97 ~]# mount /dev/hdd2 /dp2\n</code></pre>"},{"location":"LINUX/commend/#tr","title":"tr\u66ff\u6362\u5b57\u7b26\u4e32\u7b49","text":"<ul> <li>```BASH   \u7528\u6cd5\uff1atr [-cdst]... SET1 [SET2]   \u4ece\u6807\u51c6\u8f93\u5165\u4e2d\u66ff\u6362\u3001\u7f29\u51cf\u548c/\u6216\u5220\u9664\u5b57\u7b26\uff0c\u5e76\u5c06\u7ed3\u679c\u5199\u5230\u6807\u51c6\u8f93\u51fa\u3002</li> </ul> <p>-c, --complement\uff1a\u53cd\u9009\u8bbe\u5b9a\u5b57\u7b26\u3002\u4e5f\u5c31\u662f\u7b26\u5408 SET1 \u7684\u90e8\u4efd\u4e0d\u505a\u5904\u7406\uff0c\u4e0d\u7b26\u5408\u7684\u5269\u4f59\u90e8\u4efd\u624d\u8fdb\u884c\u8f6c\u6362\u4e3a SET2   -d, --delete\uff1a\u5220\u9664\u6307\u4ee4\u5b57\u7b26   -s, --squeeze-repeats\uff1a\u7f29\u51cf\u8fde\u7eed\u91cd\u590d\u7684\u5b57\u7b26\u6210\u6307\u5b9a\u7684\u5355\u4e2a\u5b57\u7b26   -t, --truncate-set1\uff1a\u524a\u51cf SET1 \u6307\u5b9a\u8303\u56f4\uff0c\u4f7f\u4e4b\u4e0e SET2 \u8bbe\u5b9a\u957f\u5ea6\u76f8\u7b49   --help\uff1a\u663e\u793a\u7a0b\u5e8f\u7528\u6cd5\u4fe1\u606f   --version\uff1a\u663e\u793a\u7a0b\u5e8f\u672c\u8eab\u7684\u7248\u672c\u4fe1\u606f</p> <p>SET \u662f\u4e00\u7ec4\u5b57\u7b26\u4e32\uff0c\u4e00\u822c\u90fd\u53ef\u6309\u7167\u5b57\u9762\u542b\u4e49\u7406\u89e3\u3002\u89e3\u6790\u5e8f\u5217\u5982\u4e0b\uff1a   \\NNN  \u516b\u8fdb\u5236\u503c\u4e3aNNN \u7684\u5b57\u7b26(1 \u81f33 \u4e2a\u6570\u4f4d)     \\            \u53cd\u659c\u6760     \\a            \u7ec8\u7aef\u9e23\u54cd     \\b            \u9000\u683c     \\f            \u6362\u9875     \\n            \u6362\u884c     \\r            \u56de\u8f66     \\t            \u6c34\u5e73\u5236\u8868\u7b26     \\v            \u5782\u76f4\u5236\u8868\u7b26     \u5b57\u7b261-\u5b57\u7b262   \u4ece\u5b57\u7b261 \u5230\u5b57\u7b262 \u7684\u5347\u5e8f\u9012\u589e\u8fc7\u7a0b\u4e2d\u7ecf\u5386\u7684\u6240\u6709\u5b57\u7b26     [\u5b57\u7b26]       \u5728SET2 \u4e2d\u9002\u7528\uff0c\u6307\u5b9a\u5b57\u7b26\u4f1a\u88ab\u8fde\u7eed\u590d\u5236\u76f4\u5230\u543b\u5408\u8bbe\u7f6e1 \u7684\u957f\u5ea6     [\u5b57\u7b26\u6b21\u6570]   \u5bf9\u5b57\u7b26\u6267\u884c\u6307\u5b9a\u6b21\u6570\u7684\u590d\u5236\uff0c\u82e5\u6b21\u6570\u4ee5 0 \u5f00\u5934\u5219\u88ab\u89c6\u4e3a\u516b\u8fdb\u5236\u6570     [:alnum:]     \u6240\u6709\u7684\u5b57\u6bcd\u548c\u6570\u5b57     [:alpha:]     \u6240\u6709\u7684\u5b57\u6bcd     [:blank:]     \u6240\u6709\u5448\u6c34\u5e73\u6392\u5217\u7684\u7a7a\u767d\u5b57\u7b26     [:cntrl:]     \u6240\u6709\u7684\u63a7\u5236\u5b57\u7b26     [:digit:]     \u6240\u6709\u7684\u6570\u5b57     [:graph:]     \u6240\u6709\u7684\u53ef\u6253\u5370\u5b57\u7b26\uff0c\u4e0d\u5305\u62ec\u7a7a\u683c     [:lower:]     \u6240\u6709\u7684\u5c0f\u5199\u5b57\u6bcd     [:print:]     \u6240\u6709\u7684\u53ef\u6253\u5370\u5b57\u7b26\uff0c\u5305\u62ec\u7a7a\u683c     [:punct:]     \u6240\u6709\u7684\u6807\u70b9\u5b57\u7b26     [:space:]     \u6240\u6709\u5448\u6c34\u5e73\u6216\u5782\u76f4\u6392\u5217\u7684\u7a7a\u767d\u5b57\u7b26     [:upper:]     \u6240\u6709\u7684\u5927\u5199\u5b57\u6bcd     [:xdigit:]    \u6240\u6709\u7684\u5341\u516d\u8fdb\u5236\u6570     [=\u5b57\u7b26=]      \u6240\u6709\u548c\u6307\u5b9a\u5b57\u7b26\u76f8\u7b49\u7684\u5b57\u7b26</p> <p>1.\u66ff\u6362\u5b57\u7b26\u4e32   # seq 9 |tr \"\\n\" \",\"   1,2,3,4,5,6,7,8,9,</p> <p>2.\u5220\u9664\u591a\u4f59\u7684\u7a7a\u884c   # cat last.txt | tr -s '\\n'</p> <p>3.\u5220\u9664\u6307\u5b9a\u7684\u5b57\u7b26\u4e32   # cat test_openrc.sh |tr -d '#'                \u5220\u9664\u4e86#   # cat test_openrc.sh |tr -d '[a-z]#[0-9]'    \u5220\u9664\u4e86\u5c0f\u5199\u5b57\u6bcd\u3001#\u548c\u6570\u5b57</p> <p>4.\u5927\u5c0f\u5199\u8f6c\u6362   # cat  test_openrc.sh |tr '[A-Z]'  '[a-z]'   \u5927\u5199\u8f6c\u6362\u4e3a\u5c0f\u5199</p> <p>5.\u5b57\u7b26\u4e32\u53bb\u91cd   # cat  test_openrc.sh |tr -s '[0-9][A-Z]'    \u628a\u8fde\u7eed\u7684\u91cd\u590d\u7684\u6570\u5b57\u548c\u5927\u5199\u5b57\u6bcd\u53ea\u4fdd\u7559\u4e86\u4e00\u4e2a</p> <p>6.\u53cd\u5411\u9009\u62e9\u66ff\u6362   # cat  test_openrc.sh |tr -c '[0-9]' ' '     \u628a\u9664\u4e86\u6570\u5b57\u4e4b\u5916\u7684\u5b57\u7b26\u4e32\u6362\u6210\u7a7a\u683c   # cat  test_openrc.sh |tr -c '[0-9]' ' ' |tr -d ' '   \u4e0a\u9762\u7684\u547d\u4ee4+\u5220\u6389\u7a7a\u683c   ```</p>"},{"location":"LINUX/commend/#blkiduuid","title":"blkid\u663e\u793a\u5757\u8bbe\u5907\u5c5e\u6027\u67e5\u770b\u786c\u76d8UUID\u53f7","text":""},{"location":"LINUX/commend/#_1","title":"\u529f\u80fd\u63cf\u8ff0","text":"<p>\u4f7f\u7528blkid\u547d\u4ee4\u53ef\u4ee5\u7528\u6765\u67e5\u8be2\u7cfb\u7edf\u7684\u5757\u8bbe\u5907\uff08\u5305\u62ec\u4ea4\u6362\u5206\u533a\uff09\u6240\u4f7f\u7528\u7684\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u3001\u5377\u6807\u3001UUD\u7b49\u4fe1\u606f\u3002\u3000\u3000\u3000\u3000</p> <p>\u5728Linux\u4e0b\u53ef\u4ee5\u4f7f\u7528blkid\u547d\u4ee4\u5bf9\u67e5\u8be2\u8bbe\u5907\u4e0a\u6240\u91c7\u7528\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u8fdb\u884c\u67e5\u8be2\u3002blkid\u4e3b\u8981\u7528\u6765\u5bf9\u7cfb\u7edf\u7684\u5757\u8bbe\u5907(\u5305\u62ec\u4ea4\u6362\u5206\u533a)\u6240\u4f7f\u7528\u7684\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u3001LABEL\u3001UUID\u7b49\u4fe1\u606f\u8fdb\u884c\u67e5\u8be2\u3002</p>"},{"location":"LINUX/commend/#uuid","title":"UUID\u4f5c\u7528","text":"<p>UUID\u662f\u4e00\u4e2a\u6807\u8bc6\u4f60\u7cfb\u7edf\u4e2d\u7684\u5b58\u50a8\u8bbe\u5907\u7684\u5b57\u7b26\u4e32\uff0c\u5176\u76ee\u7684\u662f\u5e2e\u52a9\u4f7f\u7528\u8005\u552f\u4e00\u7684\u786e\u5b9a\u7cfb\u7edf\u4e2d\u7684\u6240\u6709\u5b58\u50a8\u8bbe\u5907\uff0c\u4e0d\u7ba1\u5b83\u4eec\u662f\u4ec0\u4e48\u7c7b\u578b\u7684\u3002\u5b83\u53ef\u4ee5\u6807\u8bc6DVD\u9a71\u52a8\u5668\uff0cUSB\u5b58\u50a8\u8bbe\u5907\u4ee5\u53ca\u4f60\u7cfb\u7edf\u4e2d\u7684\u786c\u76d8\u8bbe\u5907\u7b49\u3002</p> <p>\u7279\u70b9\uff1a</p> <p>\u5b83\u662f\u771f\u6b63\u7684\u552f\u4e00\u6807\u5fd7\u7b26</p> <p>Linux\u4e2d\u7684\u8bb8\u591a\u5173\u952e\u529f\u80fd\u73b0\u5728\u5f00\u59cb\u4f9d\u8d56\u4e8eUUID</p> <p>UUID\u53f7\uff1a\u5206\u533a\u5fc5\u987b\u683c\u5f0f\u5316\u540e\u624d\u4f1a\u6709UUID\u53f7\u3002</p>"},{"location":"LINUX/commend/#_2","title":"\u547d\u4ee4\u8bed\u6cd5\uff1a","text":"<p>blkid \u5206\u533a\u8bbe\u5907</p>"},{"location":"LINUX/commend/#_3","title":"\u9009\u9879\u542b\u4e49\uff1a","text":"\u9009\u9879 \u542b\u4e49 -L&lt;\u5377\u6807&gt; \u5377\u6807\u8f6c\u6362\u4e3a\u8bbe\u5907\u540d -U UUID\u8f6c\u6362\u4e3a\u8bbe\u5907\u540d -p \u63a2\u6d4b\u4f4e\u7ea7\u522b\u7684\u8d85\u7ea7\u5757 -i \u6536\u96c6\u6709\u5173I/O\u9650\u5236\u7684\u4fe1\u606f -o&lt;\u683c\u5f0f&gt; \u6309\u4ee5\u4e0b\u5217\u8f93\u51fa\u683c\u5f0f value:\u663e\u793a\u6807\u7b7e\u7684\u503c device:\u53ea\u663e\u793a\u8bbe\u5907\u7684\u540d\u79f0 list:\u4ee5\u7528\u6237\u53cb\u597d\u7684\u683c\u5f0f\u663e\u793a\u8bbe\u5907 udev\uff1a\u4ee5\u201c\u952e=\u503c\u201d\u7684\u65b9\u5f0f\u663e\u793a\uff0c\u65b9\u4fbf\u5bfc\u5165udev\u7684\u73af\u5883 export:\u4ee5\u201c\u952e=\u503c\u201d\u7684\u65b9\u5f0f\u663e\u793a\uff0c\u65b9\u4fbf\u5bfc\u5165\u73af\u5883 full:\u663e\u793a\u6240\u6709\u6807\u7b7e -h \u663e\u793a\u5e2e\u52a9\u4fe1\u606f"},{"location":"LINUX/commend/#_4","title":"\u793a\u4f8b\uff1a","text":"<p>\u67e5\u770b\u78c1\u76d8\u5206\u533a/dev/sda3\u7684\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u3001\u5377\u6807\u3001UUID\u7b49\u4fe1\u606f</p> <pre><code>[root@localhost ~]# blkid /dev/sda3\n\n/dev/sda3: UUID=\"e7adfeb9-8749-48cd-90cd-61de56c9af74\" TYPE=\"ext4\"\n</code></pre> <p>\u52a0\u5165\u7ba1\u9053\u7b26\u67e5\u627eUUID\u53f7</p> <pre><code>[root@xuegod163 ~]# blkid | grep sdb1\n\n/dev/sdb1: LABEL=\"cc\" UUID=\"0e77cda6-4c43-47a9-ae7e-c27661234760\" TYPE=\"ext4\"\n\n[root@xuegod163 ~]# tune2fs -l /dev/sdb1 | grep UUID\n\nFilesystem UUID: 0e77cda6-4c43-47a9-ae7e-c27661234760\n</code></pre> <p>\u8f93\u51fa\u5230\u81ea\u52a8\u6302\u8f7d/etc/fstab\u914d\u7f6e\u6587\u4ef6</p> <pre><code>[root@localhost ~]# blkid /dev/sdb3 &gt;&gt; /etc/fstab\n\n[root@xuegod163 ~]# vim /etc/fstab\n\nUUID=0e77cda6-4c43-47a9-ae7e-c27661234760 /sdb1 ext4 defaults 0 0\n</code></pre> <p>\u67e5\u770bUUID\u662f83ff032a-757e-4466-8d64-0885281ce22b\u7684\u8bbe\u5907\u540d</p> <pre><code>[root@localhost ~]# blkid -U 83ff032a-757e-4466-8d64-0885281ce22b\n/dev/sda1\n</code></pre> <p>\u67e5\u770b\u5377\u6807\u662fboot\u7684\u8bbe\u5907\u540d</p> <pre><code>[root@localhost ~]# blkid -L boot\n</code></pre> <p>\u67e5\u770b\u78c1\u76d8\u5206\u533a/dev/sda1\u4f4e\u7ea7\u522b\u7684\u8d85\u7ea7\u5757\u4fe1\u606f</p> <pre><code>[root@localhost ~]# blkid -p /dev/sda1\n/dev/sda1: UUID=\"83ff032a-757e-4466-8d64-0885281ce22b\" TYPE=\"xfs\" USAGE=\"filesystem\" PART_ENTRY_SCHEME=\"dos\" PART_ENTRY_TYPE=\"0x83\" PART_ENTRY_FLAGS=\"0x80\" PART_ENTRY_NUMBER=\"1\" PART_ENTRY_OFFSET=\"2048\" PART_ENTRY_SIZE=\"2097152\" PART_ENTRY_DISK=\"8:0\"\u00a0\n</code></pre> <p>\u6536\u96c6\u78c1\u76d8\u5206\u533a/dev/sda1\u6709\u5173I/O\u9650\u5236\u7684\u4fe1\u606f</p> <pre><code>[root@localhost ~]# blkid -i /dev/sda1\nDEVNAME=/dev/sda1\nMINIMUM_IO_SIZE=512\nPHYSICAL_SECTOR_SIZE=512\nLOGICAL_SECTOR_SIZE=512\n</code></pre> <p>\u663e\u793a\u78c1\u76d8\u6240\u6709\u6807\u7b7e</p> <pre><code>[root@localhost ~]# blkid -o full\n/dev/mapper/centos-root: UUID=\"f74ee8de-84a2-49cb-82e3-1c5fef2cd92b\" TYPE=\"xfs\"\u00a0\n/dev/sda2: UUID=\"2FqB5r-teLk-miR5-c46S-ceCy-ySxa-K1hk17\" TYPE=\"LVM2_member\"\u00a0\n/dev/sda1: UUID=\"83ff032a-757e-4466-8d64-0885281ce22b\" TYPE=\"xfs\"\u00a0\n/dev/mapper/centos-swap: UUID=\"274d2ea0-deba-4be9-9f32-c080efd68096\" TYPE=\"swap\"\u00a0\n</code></pre> <p>\u67e5\u770b\u6240\u6709\u78c1\u76d8\u5206\u533a\u7684\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u3001\u5377\u6807\u3001UUID\u7b49\u4fe1\u606f</p> <pre><code>[root@localhost ~]# blkid\n/dev/mapper/centos-root: UUID=\"f74ee8de-84a2-49cb-82e3-1c5fef2cd92b\" TYPE=\"xfs\"\u00a0\n/dev/sda2: UUID=\"2FqB5r-teLk-miR5-c46S-ceCy-ySxa-K1hk17\" TYPE=\"LVM2_member\"\u00a0\n/dev/sda1: UUID=\"83ff032a-757e-4466-8d64-0885281ce22b\" TYPE=\"xfs\"\u00a0\n/dev/mapper/centos-swap: UUID=\"274d2ea0-deba-4be9-9f32-c080efd68096\" TYPE=\"swap\"\u00a0\n</code></pre> <p>\u67e5\u770b\u6240\u6709\u78c1\u76d8\u5206\u533a\u7684UUID</p> <pre><code>[root@localhost ~]# blkid -s UUID\n/dev/mapper/centos-root: UUID=\"f74ee8de-84a2-49cb-82e3-1c5fef2cd92b\"\u00a0\n/dev/sda2: UUID=\"2FqB5r-teLk-miR5-c46S-ceCy-ySxa-K1hk17\"\u00a0\n/dev/sda1: UUID=\"83ff032a-757e-4466-8d64-0885281ce22b\"\u00a0\n/dev/mapper/centos-swap: UUID=\"274d2ea0-deba-4be9-9f32-c080efd68096\"\u00a0\n</code></pre> <p>\u67e5\u770b/dev/sda1\u78c1\u76d8\u5206\u533a\u7684UUID</p> <pre><code>[root@localhost ~]# blkid -s UUID /dev/sda1\n/dev/sda1: UUID=\"83ff032a-757e-4466-8d64-0885281ce22b\"\u00a0\n</code></pre>"},{"location":"LINUX/commend/#_5","title":"\u67e5\u770b\u8fdb\u7a0b\u7f51\u901f","text":"<pre><code>[root@JUHOST-64Wkw9 ~]# nethogs -h\nusage: nethogs [-V] [-h] [-b] [-d seconds] [-v mode] [-c count] [-t] [-p] [-s] [device [device [device ...]]]\n        -V : prints version.\n        -h : prints this help.\n        -b : bughunt mode - implies tracemode.\n        -d : delay for update refresh rate in seconds. default is 1.\n        -v : view mode (0 = KB/s, 1 = total KB, 2 = total B, 3 = total MB). default is 0.\n        -c : number of updates. default is 0 (unlimited).\n        -t : tracemode.\n        -p : sniff in promiscious mode (not recommended).\n        -s : sort output by sent column.\n   -a : monitor all devices, even loopback/stopped ones.\n        device : device(s) to monitor. default is all interfaces up and running excluding loopback\n\nWhen nethogs is running, press:\n q: quit\n s: sort by SENT traffic\n r: sort by RECEIVE traffic\n m: switch between total (KB, B, MB) and KB/s mode\n</code></pre>"},{"location":"LINUX/commend/#shell-docker","title":"shell \u67e5\u770bdocker\u5360\u7528","text":"<pre><code>docker ps -q | xargs docker stats --no-stream\n</code></pre>"},{"location":"LINUX/linux%E9%87%8D%E7%BD%AEroot%E5%AF%86%E7%A0%81/","title":"Linux\u91cd\u7f6eroot\u5bc6\u7801","text":"<p>\u4e00\u3001\u91cd\u7f6eroot\u5bc6\u7801\u7684\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <p>1.\u5982\u679c\u7cfb\u7edf\u662f\u5f00\u673a\u72b6\u6001\uff0c\u91cd\u542f\u4e00\u4e0b\u3002\u8fdb\u5230\u4e0b\u9762\u8fd9\u4e2a\u754c\u9762\u6309\u5b57\u6bcd\u201ce\u201d\u952e\u3002</p> <p></p> <p>2.\u627e\u5230 linux16\u8fd9\u4e00\u884c\uff0c\u5c06\u4e0b\u56fe\u7ea2\u6846\u4e2d\u7684\u5185\u5bb9\u4fee\u6539\u4e3a\uff1arw rd.break</p> <p></p> <p></p> <p>3.\u6309\u201cCtrl + x\u201d\u952e\uff0c\u8fdb\u5165\u6551\u63f4\u6a21\u5f0f\uff0c\u5982\u4e0b</p> <p></p> <p>4.\u4f9d\u6b21\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u3002</p> <p></p> <p>5.\u91cd\u542f\u5b8c\u6210\u540e\uff0c\u9a8c\u8bc1\u4e00\u4e0b\u521a\u521a\u4fee\u6539\u5bc6\u7801\u5373\u53ef\u3002</p>"},{"location":"LINUX/%E8%AE%BE%E7%BD%AE%E8%87%AA%E5%8A%A8source%20.bashrc/","title":"\u8bbe\u7f6e\u81ea\u52a8source .bashrc","text":"<pre><code>pwd\n/home/ct\n\ncd ~\n\n/home/ct\n\nct@chentan:~$ vim ~/.bashrc\n</code></pre> <p>\u5728\u6700\u540e\u8ffd\u52a0</p> <pre><code>export PATH=$PATH:/home/ct:$PATH\nsource /etc/profile\n</code></pre>"},{"location":"LINUX/NJPI.openstack%2C%E5%8D%95%E6%9C%BA%E7%89%88/01/","title":"openstack  iaas\uff08\u57fa\u7840\u5e73\u53f0\uff09","text":""},{"location":"LINUX/NJPI.openstack%2C%E5%8D%95%E6%9C%BA%E7%89%88/01/#linux","title":"Linux\u53d1\u884c\u7248","text":"<ul> <li>suse  </li> <li>rehat  </li> <li>centos  </li> <li>ubuntu</li> </ul>"},{"location":"LINUX/NJPI.openstack%2C%E5%8D%95%E6%9C%BA%E7%89%88/01/#_1","title":"\u5b89\u88c5\u7684\u7ec4\u4ef6","text":"<ul> <li>\u5e38\u7528\u7ec4\u4ef6\uff1a </li> </ul> <p>\uff081) keystone \u8ba4\u8bc1\u670d\u52a1</p> <pre><code> (2) **nova**  \u8ba1\u7b97\u670d\u52a1\uff08\u8d44\u6e90\u8c03\u62e8\uff09\n</code></pre> <p>\u200b     \u8d44\u6e90 (</p> <p>\u200b     cpu\u8ba1\u7b97\u80fd\u529b\uff1a\u673a\u6838\uff0c\u591a\u5c11\u7ebf\u7a0b\uff0c\u9891\u7387\uff0c</p> <p>\u200b     \u5185\u5b58\uff1a128G\uff0c256G</p> <p>\u200b     \u5b58\u50a8\uff1a\u673a\u68b0\uff08sata\uff0cscsi\uff09\uff0c\u56fa\u6001\uff08\u670d\u52a1\u5668\u7248\u672c\uff0c\u4e2a\u4eba\u7535\u8111\uff09</p> <p>\u200b     \u7f51\u7edc\u5e26\u5bbd\uff1a1M\uff0c4M\uff0c8M</p> <p>)</p> <pre><code> (3) **glance**\uff1a\u955c\u50cf\u7ba1\u7406\uff0c20~40\u955c\u50cf\n</code></pre> <p>\u200b             windows7\uff0cwindows10\uff0cwindows2016</p> <p>\u200b             linux-lamp</p> <p>\u200b             \u5fc5\u987b\u5b66\u4f1a\u521b\u5efa\u955c\u50cf</p> <p>\u200b             kvm\u56fe\u5f62\u5316\uff0c\u547d\u4ee4\u884c</p> <p>\u200b (4) dashboard\uff0c\u7f51\u7edc\u5316\u7ba1\u7406\u5de5\u5177</p> <p>\uff085\uff09cinder \u5757\u5b58\u50a8\u670d\u52a1</p> <p>\uff086\uff09swift \u5bf9\u8c61\u5b58\u50a8</p>"},{"location":"LINUX/NJPI.openstack%2C%E5%8D%95%E6%9C%BA%E7%89%88/01/#nat","title":"\u79c1\u6709\u5730\u5740\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u8bbf\u95ee\u516c\u7f51\uff1f \uff08nat\u5730\u5740\u8f6c\u6362\uff09","text":"<p>\u79c1\u6709\u5730\u5740\uff1a</p> <p>\u200b               A\uff1a10.</p> <p>\u200b               B\uff1a172.16.       ====&gt;&gt;  NAT ====&gt;&gt;  \u516c\u7f51\u5730\u5740</p> <p>\u200b               C\uff1a192.168.</p>"},{"location":"LINUX/NJPI.openstack%2C%E5%8D%95%E6%9C%BA%E7%89%88/01/#vm","title":"VM\u4e09\u79cd\u7f51\u7edc\u6a21\u5f0f\uff1a","text":"<ol> <li> <p>\u6865\u63a5\u6a21\u5f0f\uff1a\u4e0e\u7269\u7406\u7f51\u5361\u76f8\u540c\u7684\u7f51\u7edc\uff0c\u662f\u540c\u4e00\u4e2a\u7f51\u6bb5</p> </li> <li> <p>NAT\uff1a \u79c1\u6709\u5730\u5740\u53ef\u4ee5\u901a\u8fc7\u7269\u7406\u7f51\u7edc\u8fdb\u884c\u4e0a\u7f51\uff08\u521b\u5efa\u865a\u62df\u7f51\u7edc\u540e\uff0c\u4f1a\u5728\u4e3b\u673a\u4e2d\u589e\u52a0\u4e00\u4e2a\u865a\u62df\u7f51\u5361\uff09\u3010\u865a\u62df\u7f51\u5361\u4e3b\u673a\u53f7\u4e3a1    DHCP\u670d\u52a1\u5668\u662f\u7f51\u5173\uff0c\u4e3b\u673a\u53f7\u4e3a2\u3011</p> </li> <li> <p>hostonly\u4ec5\u4e3b\u673a\uff1a\u4e0d\u80fd\u4e0a\u7f51\uff0c\u53ea\u80fd\u4e0e\u672c\u673a\u901a\u4fe1</p> </li> </ol> <p>deepin\uff08\u4effmac\uff09</p>"},{"location":"LINUX/NJPI.openstack%2C%E5%8D%95%E6%9C%BA%E7%89%88/01/#_2","title":"\u903b\u8f91\u5377","text":"LVM Logical Volume Management PE Physical Extend 4M PV Physical Volume VG Volume group LV Logical Volume <p>\u521b\u5efa\u903b\u8f91\u5377\u7684\u6b65\u9aa4\uff1a</p> <ol> <li> <p>\u628a\u7269\u7406\u78c1\u76d8\u683c\u5f0f\u5316\u4e3aPV\uff0c \u5212\u5206\u4e3an\u4e2aPE\uff0c\u4e00\u4e2aPE\u5927\u5c0f\u4e3a4M</p> </li> <li> <p>\u521b\u5efa\u4e00\u4e2a\u5377\u7ec4VG\uff0c\u628a\u591a\u4e2aPE\u5f52\u5e76\u5728\u4e00\u8d77\uff0c\u4f5c\u7528\u662f\u5b58\u653ePE\u7684</p> </li> <li> <p>\u521b\u5efaLV\uff0c\u4e00\u5b9a\u662fPE\u7684\u6574\u6570\u500d</p> </li> <li> <p>\u6587\u4ef6\u7cfb\u7edf\u683c\u5f0f\u5316</p> </li> <li> <p>\u6302\u8f7d</p> </li> </ol> <p>\u5728LV\u4e2d\u53ef\u4ee5\u589e\u52a0\uff08\u6269\u5bb9\uff09\u6216\u8005\u51cf\u5c11\uff08\u538b\u7f29\uff09PE\u7684\u6570\u91cf\uff0c\u539f\u59cb\u6570\u636e\u4e0d\u4f1a\u4e22\u5931</p>"},{"location":"LINUX/NJPI.openstack%2C%E5%8D%95%E6%9C%BA%E7%89%88/05-sed/","title":"sed\u6279\u91cf\u4fee\u6539\u6587\u4ef6","text":"<pre><code>sed -i.bak -r 'pattern' filename\n-i  \u4fee\u6539\u6e90\u6587\u4ef6\n-i.bak  update and backup\n-r \u6b63\u5219\u8868\u8fbe\u5f0f pattern\nsed -i.bak -r 's/(module-store = )direct/\\1undirect/g' semanamge.conf\ns subtiture \u66ff\u6362\n() \u5206\u7ec4\ns/suorce/dest/g\ns/module-store = direct/module-store = undirect/g\n\nsudo sed -i -r 's/(expand-check)(=)0/\\1\\21/g' semanage.conf\n\u8bf4\u660e\uff1a \n-r: \u6b63\u5219\u8868\u8fbe\u5f0f pattern\n/c: \u66ff\u6362\n(\u5206\u7ec4)\n0/: \u6574\u884c\u66ff\u6362\n\\1: \u5206\u7ec4\u7684\u7b2c\u4e00\u4e2a\u62ec\u53f7\n\\2: \u5206\u7ec4\u7684\u7b2c\u4e8c\u4e2a\u62ec\u53f7\n/g: \u7ed3\u675f\nsed -i -r 's/(SELINUX=)0/\\1enable/g'\n</code></pre> <p>\u67e5\u770b\u865a\u62df\u673a\u662f\u5426\u652f\u6301\u865a\u62df\u5316\uff1a<code>grep -E 'svm|vmx' /proc/cpuinfo | grep nx</code></p> <p>\u505c\u6b62<code>NetworkManager</code>\uff1a<code>systemctl disable NetworkManager.service</code></p> <p><code>systemctl stop NetworkManager.service</code></p>"},{"location":"LINUX/NJPI.openstack2/01-/","title":"01","text":"<ul> <li> <p>\u4ecb\u7ecd:  openstack\u662fissa\u7684\u4e00\u4e2a\u89e3\u51b3\u65b9\u6848,\u7528\u4e8e\u7ba1\u7406</p> </li> <li> <p>\u4e91\u8ba1\u7b97\u4e09\u5927\u90e8\u4ef6: cpu(\u8ba1\u7b97\u80fd\u529b)   (\u5b58\u50a8\u80fd\u529b)   IO(\u7f51\u7edc)</p> </li> </ul>"},{"location":"LINUX/NJPI.openstack2/01-/#openstack","title":"openstack\u4e3b\u8981\u670d\u52a1","text":"<ol> <li>Nova: \u7ba1\u7406\u865a\u62df\u673a\u7684\u751f\u547d\u5468\u671f(\u521b\u5efa,\u9500\u6bc1,\u91cd\u542f\u865a\u62df\u673a)</li> <li>Neutron: \u7ba1\u7406,\u521b\u5efa\u7f51\u7edc</li> <li>Glance: \u63d0\u4f9b\u865a\u62df\u673a\u955c\u50cf</li> <li>Cinder: \u63d0\u4f9b\u5b58\u50a8</li> <li>Keystone: \u4e3a\u6240\u6709\u7684\u6a21\u5757\u63d0\u4f9b\u8ba4\u8bc1\u548c\u7ba1\u7406</li> <li>Cellometer: \u76d1\u63a7,\u8ba1\u8d39,\u8ba1\u91cf</li> <li>Horizon: \u63d0\u4f9b\u5916\u754c\u8bbf\u95ee\u865a\u62df\u673a\u7684\u63a5\u53e3(\u5165\u53e3)</li> <li>swift\uff1a\u5bf9\u8c61\u5b58\u50a8</li> </ol> <p>\u67e5\u770b\u7aef\u53e3\u53f7\uff1a</p> <pre><code>ss -ntl | grep \u7aef\u53e3\u53f7\n</code></pre> <p>404\u9875\u9762\u4e0d\u5b58\u5728</p> <p>401 \u62d2\u7edd\u8bbf\u95ee</p> <p>403 \u8f6c\u5411\u53e6\u4e00\u4e2a\u7f51\u7ad9</p> <p>500 \u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef</p> <p>ip\u5730\u5740  0.0.0.0  \u6307\u6240\u6709\u7684\u5730\u5740</p>"},{"location":"LINUX/NJPI.openstack2/05-1-nova%E8%AF%B4%E6%98%8E/","title":"05 1 nova\u8bf4\u660e","text":"<p><code>nova-api</code> \u670d\u52a1:\u63a5\u53d7\u5e76\u54cd\u5e94\u6700\u7ec8\u7528\u6237\u7684\u8ba1\u7b97API\u8c03\u7528, \u5b83\u6267\u884c\u4e00\u4e9b\u7b56\u7565\u5e76\u542f\u52a8\u5927\u591a\u6570\u7f16\u6392\u6d3b\u52a8\uff0c\u4f8b\u5982\u8fd0\u884c\u5b9e\u4f8b\u3002</p> <p><code>nova-compute</code> \u670d\u52a1: \u901a\u8fc7\u5b88\u62a4\u7a0b\u5e8fAPI\u521b\u5efa\u548c\u7ec8\u6b62\u865a\u62df\u673a\u5b9e\u4f8b\u7684\u8f85\u52a9\u7a0b\u5e8f\u5b88\u62a4\u7a0b\u5e8f\u3002</p> <p><code>nova-placement-api</code> \u670d\u52a1\uff1a\u8ddf\u8e2a\u6bcf\u4e2a\u63d0\u4f9b\u5546\u7684\u5e93\u5b58\u548c\u4f7f\u7528\u60c5\u51b5\u3002</p> <p><code>nova-scheduler</code> \u670d\u52a1:  \u4ece\u961f\u5217\u4e2d\u83b7\u53d6\u865a\u62df\u673a\u5b9e\u4f8b\u8bf7\u6c42\uff0c\u5e76\u786e\u5b9a\u5b83\u5728\u54ea\u53f0\u8ba1\u7b97\u670d\u52a1\u5668\u4e3b\u673a\u4e0a\u8fd0\u884c\u3002</p> <p><code>nova-conductor</code> \u6a21\u7ec4:  <code>nova-compute</code>\u670d\u52a1\u4e0e\u6570\u636e\u5e93\u4e4b\u95f4\u7684\u4e2d\u4ecb, \u5904\u7406\u4e24\u8005\u7684\u4ea4\u4e92\u3002</p> <p><code>nova-consoleauth</code> \u5b88\u62a4\u7a0b\u5e8f\uff1a  \u4e3a\u63a7\u5236\u53f0\u4ee3\u7406\u63d0\u4f9b\u7684\u7528\u6237\u6388\u6743\u4ee4\u724c\u3002\u8be5\u670d\u52a1\u5fc5\u987b\u6b63\u5728\u8fd0\u884c\uff0c\u63a7\u5236\u53f0\u4ee3\u7406\u624d\u80fd\u8d77\u4f5c\u7528\u3002</p> <p><code>nova-novncproxy</code> \u5b88\u62a4\u7a0b\u5e8f\uff1a\u63d0\u4f9b\u7528\u4e8e\u901a\u8fc7VNC\u8fde\u63a5\u8bbf\u95ee\u6b63\u5728\u8fd0\u884c\u7684\u5b9e\u4f8b\u7684\u4ee3\u7406\u3002\u652f\u6301\u57fa\u4e8e\u6d4f\u89c8\u5668\u7684<code>novnc</code>\u5ba2\u6237\u7aef\u3002</p> <p><code>nova-spicehtml5proxy</code> \u5b88\u62a4\u7a0b\u5e8f\uff1a\u63d0\u4f9b\u7528\u4e8e\u901a\u8fc7SPICE\u8fde\u63a5\u8bbf\u95ee\u6b63\u5728\u8fd0\u884c\u7684\u5b9e\u4f8b\u7684\u4ee3\u7406\u3002\u652f\u6301\u57fa\u4e8e\u6d4f\u89c8\u5668\u7684HTML5\u5ba2\u6237\u7aef\u3002</p> <p><code>nova-xvpvncproxy</code> \u5b88\u62a4\u7a0b\u5e8f\uff1a\u63d0\u4f9b\u7528\u4e8e\u901a\u8fc7VNC\u8fde\u63a5\u8bbf\u95ee\u6b63\u5728\u8fd0\u884c\u7684\u5b9e\u4f8b\u7684\u4ee3\u7406\u3002\u652f\u6301\u7279\u5b9a\u4e8eOpenStack\u7684Java\u5ba2\u6237\u7aef\u3002</p> <p><code>queue</code>: \u5728\u5b88\u62a4\u7a0b\u5e8f\u4e4b\u95f4\u4f20\u9012\u6d88\u606f\u7684\u4e2d\u592e\u4e2d\u5fc3\u3002</p> <p>SQL\u6570\u636e\u5e93:   \u5b58\u50a8\u4e91\u57fa\u7840\u7ed3\u6784\u7684\u5927\u591a\u6570\u6784\u5efa\u65f6\u548c\u8fd0\u884c\u65f6\u72b6\u6001\uff0c\u5305\u62ec\uff1a</p> <ul> <li>\u53ef\u7528\u5b9e\u4f8b\u7c7b\u578b</li> <li>\u4f7f\u7528\u4e2d\u7684\u5b9e\u4f8b</li> <li>\u53ef\u7528\u7f51\u7edc</li> <li>\u4e13\u6848</li> </ul> <p>\u5e38\u89c1\u7684\u6570\u636e\u5e93\u662f\u7528\u4e8e\u6d4b\u8bd5\u548c\u5f00\u53d1\u5de5\u4f5c\u7684SQLite3\uff0cMySQL\uff0cMariaDB\u548cPostgreSQL\u3002</p>"},{"location":"LINUX/NJPI.openstack2/06-1-neutron%28%E8%AF%B4%E6%98%8E%29/","title":"06 1 neutron(\u8bf4\u660e)","text":""},{"location":"LINUX/NJPI.openstack2/06-1-neutron%28%E8%AF%B4%E6%98%8E%29/#neutronnetwork","title":"Neutron\uff1a\u7f51\u7edc\u7ba1\u7406\uff08Network\uff09","text":"<ul> <li>\u63d0\u4f9b\u4e91\u8ba1\u7b97\u7f51\u7edc\u865a\u62df\u5316\u6280\u672f</li> <li>\u4e3aopenstack\u5176\u4ed6\u670d\u52a1\u63d0\u4f9b\u7f51\u7edc\u8fde\u63a5\u670d\u52a1</li> <li>\u4e3a\u7528\u6237\u63d0\u4f9b\u63a5\u53e3\uff0c\u53ef\u4ee5\u5b9a\u4e49Network\u3001Subnet\u3001Router\uff0c\u914d\u7f6eDHCP\u3001DNS\u3001\u8d1f\u8f7d\u5747\u8861\u3001L3\u670d\u52a1\uff0c\u7f51\u7edc\u652f\u6301GRE\u3001Vlan</li> <li>\u63d0\u4f9b\u7c7b\u4f3c\u4e8e\u865a\u62df\u673a\u4e2d\u521b\u5efa\u865a\u62df\u7f51\u7edc\uff0c\u9694\u79bb\u7f51\u6bb5\u529f\u80fd\uff0c\u4f46\u529f\u80fd\u8981\u5f3a\u5927\u5f88\u591a</li> </ul> <p>\u8def\u7531\u5668\u7684\u4e0d\u540cport\u4e0d\u80fd\u914d\u76f8\u540c\u7f51\u7edc\u5730\u5740</p> <p>\u865a\u673a\u4e4b\u95f4\u6d41\u91cf\u901a\u4fe1\u53eb\u4e1c\u897f\u5411\u6d41\u91cf   \u4e0e\u5916\u7f51\u901a\u4fe1\u53eb\u5357\u5317\u5411\u6d41\u91cf</p>"},{"location":"LINUX/NJPI.openstack2/%E5%87%A0%E4%B8%AA%E6%9C%89%E7%94%A8%E7%9A%84%E6%9C%AF%E8%AF%AD/","title":"\u51e0\u4e2a\u6709\u7528\u7684\u672f\u8bed","text":""},{"location":"LINUX/NJPI.openstack2/%E5%87%A0%E4%B8%AA%E6%9C%89%E7%94%A8%E7%9A%84%E6%9C%AF%E8%AF%AD/#cgi","title":"CGI","text":"<p>Common Gate Interface \u516c\u5171\u7f51\u5173\u63a5\u53e3</p>"},{"location":"LINUX/NJPI.openstack2/%E5%87%A0%E4%B8%AA%E6%9C%89%E7%94%A8%E7%9A%84%E6%9C%AF%E8%AF%AD/#fastcgifcgi","title":"FastCGI\uff0c\u6216\u8005FCGI","text":"<p>\u5feb\u901fCGI\uff0c\u610f\u601d\u662f\u6bd4CGI\u8fd0\u884c\u6548\u7387\u66f4\u9ad8\uff0c\u4f7f\u7528\u7684\u662f\u7a7a\u95f4\u6362\u65f6\u95f4\uff0c\u6bd4CGI\u9700\u8981\u66f4\u5927\u7684\u5185\u5b58</p>"},{"location":"LINUX/NJPI.openstack2/%E5%87%A0%E4%B8%AA%E6%9C%89%E7%94%A8%E7%9A%84%E6%9C%AF%E8%AF%AD/#scgi","title":"SCGI","text":"<p>Simple Common Gate Interface \u7b80\u5355\u516c\u5171\u7f51\u5173\u63a5\u53e3\uff0cscgi\u4e5f\u662f\u5ba2\u6237\u7aef/\u670d\u52a1\u5668\u7aef\u5f62\u5f0f\uff0c\u5ba2\u6237\u7aef\u53d1\u9001\u8bf7\u6c42\uff0c\u5904\u7406\uff0c\u670d\u52a1\u5668\u7aef\u54cd\u5e94\u8bf7\u6c42\u3002\u7b80\u800c\u8a00\u4e4b\uff0cSCGI\u5b9a\u4e49\u4e86\u53d1\u9001\u6216\u8005\u54cd\u5e94\u62a5\u6587\u5f62\u5f0f\u7684\u534f\u8bae\u3002\u4e5f\u662f\u548c\u8bed\u8a00\u65e0\u5173\u7684\u3002</p>"},{"location":"LINUX/NJPI.openstack2/%E5%87%A0%E4%B8%AA%E6%9C%89%E7%94%A8%E7%9A%84%E6%9C%AF%E8%AF%AD/#wsgi","title":"WSGI","text":"<p>Web Server Gateway Interface \uff0cweb\u670d\u52a1\u5668\u7f51\u5173\u63a5\u53e3\uff0c\u662fpython\u7279\u6709\u7684</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/","title":"openstack_stein_2node_install 1 - \u57fa\u7840\u73af\u5883\u642d\u5efa","text":""},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#1","title":"1\u3001\u7cfb\u7edf\u62d3\u6251\u56fe","text":"<ol> <li>\u7cfb\u7edf\u62d3\u6251\u56fe    </li> <li> <p>\u8bf4\u660e\uff1a</p> </li> <li> <p>\u672c\u6b21\u914d\u7f6e\u4e3a\u4e24\u4e2a\u8282\u70b9\u7684openstack</p> </li> <li>controller\u4e0ecompute\u8282\u70b9\u90fd\u6709\u4e24\u5757\u7f51\u5361ens33,ens37</li> <li>ens37\u8fde\u63a5192.168.10.0/24\u7f51\u7edc\uff0c\u6b64\u7f51\u7edc\u4e3a\u7ba1\u7406\u7f51\u7edc\uff08Management Network\uff09</li> <li> <p>ens33\u8fde\u63a510.10.10.0/24\u7f51\u7edc\uff0c\u6b64\u7f51\u7edc\u4e3aprovider\u7f51\u7edc\uff08provider Network\uff09,\u6539\u7f51\u7edc\u4e3a\u5b9e\u4f8b\u63d0\u4f9b\u5916\u7f51\u3002\u6539\u7f51\u7edc\u63a5\u53e3\u4e0d\u9700\u8981\u914d\u7f6e\u5730\u5740\u3002</p> <ol> <li>\u6ce8\u610f\uff1a</li> </ol> </li> <li> <p>ens33\u5982\u679c\u5f00\u59cb\u65f6\u4e0d\u914d\u7f6e\u7f51\u7edc\u5730\u5740\uff0c\u5219ens37\u5fc5\u987b\u80fd\u591f\u4e0a\u7f51\uff0c\u5426\u5219\u4e0d\u80fd\u4e0b\u8f7d\u5b89\u88c5\u5305</p> </li> <li>\u5982\u679cens37\u4e0d\u80fd\u591f\u4e0a\u7f51\uff0c\u53ea\u6709ens33\u80fd\u591f\u4e0a\u7f51\uff0c\u5219\u5728\u914d\u7f6e\u5f00\u59cb\u65f6\uff0c\u5bf9ens33\u8bbe\u7f6eip\u5730\u5740\uff0c\u8ba9controller\u8282\u70b9\u80fd\u591f\u8fde\u63a5internet\uff0c\u5728openstack\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u5220\u9664ens33\u7684ip\u5730\u5740\u3002\u672c\u4f8b\u4e2d\u91c7\u7528\u6b64\u65b9\u6848\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff1a</li> </ol> <p></p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#2","title":"2\u3001\u57fa\u672c\u73af\u8282\u642d\u5efa","text":""},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#21-security","title":"2.1 \u5b89\u5168(security)","text":"<ol> <li>openstack\u9700\u8981\u5404\u79cd\u670d\u52a1\uff0c\u6bcf\u4e2a\u670d\u52a1\u90fd\u9700\u8981\u8bbe\u7f6e\u5bc6\u7801\u3002</li> <li>\u8bbe\u7f6e\u5bc6\u7801\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801\u751f\u6210\u968f\u673a\u5bc6\u7801\uff1a</li> </ol> <pre><code>root@controlller ~]# openssl rand -hex 10\nea4f99cd40067b6dcfad\n</code></pre> <ol> <li>openstack\u9700\u8981\u8bbe\u7f6e\u5bc6\u7801\u7684\u670d\u52a1</li> </ol> Password name Description \u5bc6\u7801 Database password (no variable used) Root password for the database ea4f99cd40067b6dcfad ADMIN_PASS Password of user admin ea4f99cd40067b6dcfad CINDER_DBPASS Database password for the Block Storage service ea4f99cd40067b6dcfad CINDER_PASS Password of Block Storage service user cinder ea4f99cd40067b6dcfad DASH_DBPASS Database password for the Dashboard ea4f99cd40067b6dcfad DEMO_PASS Password of user demo ea4f99cd40067b6dcfad GLANCE_DBPASS Database password for Image service ea4f99cd40067b6dcfad GLANCE_PASS Password of Image service user glance ea4f99cd40067b6dcfad KEYSTONE_DBPASS Database password of Identity service ea4f99cd40067b6dcfad METADATA_SECRET Secret for the metadata proxy ea4f99cd40067b6dcfad NEUTRON_DBPASS Database password for the Networking service ea4f99cd40067b6dcfad NEUTRON_PASS Password of Networking service user neutron ea4f99cd40067b6dcfad NOVA_DBPASS Database password for Compute service ea4f99cd40067b6dcfad NOVA_PASS Password of Compute service user nova ea4f99cd40067b6dcfad PLACEMENT_PASS Password of the Placement service user placement ea4f99cd40067b6dcfad RABBIT_PASS Password of RabbitMQ user openstack ea4f99cd40067b6dcfad <ol> <li>\u8bf4\u660e\uff1a    \u53ef\u4ee5\u5bf9\u4ee5\u4e0a\u5bc6\u7801\u8bbe\u7f6e\u4e00\u4e2a\u7edf\u4e00\u7684\u5bc6\u7801\uff0c\u5982\uff1aopenstack</li> </ol>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#22host-networking","title":"2.2\u4e3b\u673a\u7f51\u7edc\uff08host networking)","text":""},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#221controller","title":"2.2.1controller\u8282\u70b9\u914d\u7f6e","text":"<ol> <li>\u7ba1\u7406\u7f51\u7edc\u63a5\u53e3\u914d\u7f6e(ens37)\u914d\u7f6e\uff1a1. \u7ba1\u7406\u7f51\u7edc\u63a5\u53e3\u914d\u7f6e(ens37)\u914d\u7f6e\uff1ag</li> </ol> <pre><code>root@controlller ~]# cat /etc/sysconfig/network-scripts/ifcfg-ens37\nTYPE=Ethernet\nBOOTPROTO=static\nDEFROUTE=yegs\nPEERDNS=yes\nPEERROUTES=yes\nIPV4_FAILURE_FATAL=no\nIPV6INIT=yes\nIPV6_AUTOCONF=yes\nIPV6_DEFROUTE=yes\nIPV6_PEERDNS=yes\nIPV6_PEERROUTES=yes\nIPV6_FAILURE_FATAL=no\nUUID=af61a7aa-1a75-3758-8b1d-2e6acf6ace95\nNAME=ens37\nDEVICE=ens37\nONBOOT=yes\nIPADDR=192.168.10.17\nNETMASK=255.255.255.0\n</code></pre> <ol> <li>provider \u7f51\u7edc\u63a5\u53e3(ens33\uff09\u914d\u7f6e</li> </ol> <pre><code>root@controlller ~]# cat /etc/sysconfig/network-scripts/ifcfg-ens33\nTYPE=Ethernet\nBOOTPROTO=static\nDEFROUTE=yes\nPEERDNS=yes\nPEERROUTES=yes\nIPV4_FAILURE_FATAL=no\nIPV6INIT=yes\nIPV6_AUTOCONF=yes\nIPV6_DEFROUTE=yes\nIPV6_PEERDNS=yes\nIPV6_PEERROUTES=yes\nIPV6_FAILURE_FATAL=no\nNAME=ens33\nDEVICE=ens33\nONBOOT=yes\nIPADDR=10.10.10.17\nNETMASK=255.255.255.0\nGATEWAY=10.10.10.2\nDNS1=8.8.8.8\n</code></pre> <ol> <li>/etc/hosts\u914d\u7f6e</li> </ol> <pre><code>root@controlller ~]# cat /etc/hosts\n127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n192.168.10.17 controller\n192.168.10.18 compute\n</code></pre> <p>\u8bf4\u660e\uff1a \u8bbe\u7f6e\u7ba1\u7406\u7f51\u7edc\u5730\u5740\uff0c\u4e0d\u8981\u8bbe\u7f6eprovider\u7f51\u7edc\u5730\u5740</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#222-compute","title":"2.2.2 Compute\u8282\u70b9\u914d\u7f6e","text":"<ol> <li>\u7ba1\u7406\u7f51\u7edc\u63a5\u53e3(ens37\uff09\u914d\u7f6e</li> </ol> <pre><code>[root@compute ~]# cat /etc/sysconfig/network-scripts/ifcfg-ens37\nTYPE=Ethernet\nBOOTPROTO=static\nDEFROUTE=yes\nPEERDNS=yes\nPEERROUTES=yes\nIPV4_FAILURE_FATAL=no\nIPV6INIT=yes\nIPV6_AUTOCONF=yes\nIPV6_DEFROUTE=yes\nIPV6_PEERDNS=yes\nIPV6_PEERROUTES=yes\nIPV6_FAILURE_FATAL=no\nUUID=af61a7aa-1a75-3758-8b1d-2e6acf6ace95\nNAME=ens37\nDEVICE=ens37\nONBOOT=yes\nIPADDR=192.168.10.18\nNETMASK=255.255.255.02\n</code></pre> <p>2 . provider \u7f51\u7edc\u63a5\u53e3(ens33\uff09\u914d\u7f6e\uff1a</p> <p><code>shell  [root@compute ~]# cat /etc/sysconfig/network-scripts/ifcfg-ens33 TYPE=Ethernet BOOTPROTO=static DEFROUTE=yes PEERDNS=yes PEERROUTES=yes IPV4_FAILURE_FATAL=no IPV6INIT=yes IPV6_AUTOCONF=yes IPV6_DEFROUTE=yes IPV6_PEERDNS=yes IPV6_PEERROUTES=yes IPV6_FAILURE_FATAL=no NAME=ens33 DEVICE=ens33 ONBOOT=yes IPADDR=10.10.10.18 NETMASK=255.255.255.0 GATEWAY=10.10.10.2 DNS1=8.8.8.8</code></p> <pre><code>3. /etc/hosts\u914d\u7f6e\n   \u62f7\u8d1d controller\u8282\u70b9 /etc/hosts\u6587\u4ef6\u5230compute\u8282\u70b9\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a\n</code></pre> <p><code>shell [root@compute ~]# scp root@192.168.10.17:/etc/hosts /etc/hosts The authenticity of host '192.168.10.17 (192.168.10.17)' can't be established. ECDSA key fingerprint is SHA256:YHPabnLNSR7Bljly0ZgI2PxXAasnYD9K0lsQRM38kTk. ECDSA key fingerprint is MD5:8d:be:fd:de:3a:1d:20:dc:e1:ae:b4:17:c3:a5:2f:e4. Are you sure you want to continue connecting (yes/no)? yes Warning: Permanently added '192.168.10.17' (ECDSA) to the list of known hosts. root@192.168.10.17's password: hosts                                         100%  205   182.9KB/s   00:00</code></p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#223","title":"2.2.3\u6d4b\u8bd5\u8fde\u901a\u578b","text":"<ol> <li>controller \u80fd\u5426ping\u901a compute\u8282\u70b9\u4e0e\u5916\u7f51</li> </ol> <pre><code>[root@controlller ~]# ping compute\nPING compute (192.168.10.18) 56(84) bytes of data.\n64 bytes from compute (192.168.10.18): icmp_seq=1 ttl=64 time=0.639 ms\n64 bytes from compute (192.168.10.18): icmp_seq=2 ttl=64 time=0.483 ms\n64 bytes from compute (192.168.10.18): icmp_seq=3 ttl=64 time=0.682 ms\n64 bytes from compute (192.168.10.18): icmp_seq=4 ttl=64 time=0.833 ms\n64 bytes from compute (192.168.10.18): icmp_seq=5 ttl=64 time=0.744 ms\n--- compute ping statistics ---\n5 packets transmitted, 5 received, 0% packet loss, time 4004ms\nrtt min/avg/max/mdev = 0.483/0.676/0.833/0.117 ms\n[root@controlller ~]# ping 10.10.10.18\nPING 10.10.10.18 (10.10.10.18) 56(84) bytes of data.\n64 bytes from 10.10.10.18: icmp_seq=1 ttl=64 time=0.771 ms\n64 bytes from 10.10.10.18: icmp_seq=2 ttl=64 time=0.550 ms\n64 bytes from 10.10.10.18: icmp_seq=3 ttl=64 time=0.678 ms\n^C\n--- 10.10.10.18 ping statistics ---\n3 packets transmitted, 3 received, 0% packet loss, time 2005ms\nrtt min/avg/max/mdev = 0.550/0.666/0.771/0.093 ms\n[root@controlller ~]# ping www.baidu.com\nPING www.a.shifen.com (183.232.231.174) 56(84) bytes of data.\n64 bytes from 183.232.231.174 (183.232.231.174): icmp_seq=1 ttl=128 time=42.8 ms\n64 bytes from 183.232.231.174 (183.232.231.174): icmp_seq=2 ttl=128 time=42.6 ms\n^C\n--- www.a.shifen.com ping statistics ---\n2 packets transmitted, 2 received, 0% packet loss, time 1005ms\nrtt min/avg/max/mdev = 42.662/42.762/42.862/0.100 ms\n</code></pre> <ol> <li>compute\u8282\u70b9\u80fd\u5426 ping\u901a controller\u8282\u70b9\u4e0e\u5916\u7f51</li> </ol> <pre><code>[root@compute ~]# ping controller\nPING controller (192.168.10.17) 56(84) bytes of data.\n64 bytes from controller (192.168.10.17): icmp_seq=1 ttl=64 time=0.497 ms\n64 bytes from controller (192.168.10.17): icmp_seq=2 ttl=64 time=0.734 ms\n^C\n--- controller ping statistics ---\n2 packets transmitted, 2 received, 0% packet loss, time 1001ms\nrtt min/avg/max/mdev = 0.497/0.615/0.734/0.121 ms\n[root@compute ~]# ping 10.10.10.17\nPING 10.10.10.17 (10.10.10.17) 56(84) bytes of data.\n64 bytes from 10.10.10.17: icmp_seq=1 ttl=64 time=0.478 ms\n64 bytes from 10.10.10.17: icmp_seq=2 ttl=64 time=0.598 ms\n^C\n--- 10.10.10.17 ping statistics ---\n2 packets transmitted, 2 received, 0% packet loss, time 1001ms\nrtt min/avg/max/mdev = 0.478/0.538/0.598/0.060 ms\n[root@compute ~]# ping www.baidu.com\nPING www.a.shifen.com (183.232.231.172) 56(84) bytes of data.\n64 bytes from 183.232.231.172 (183.232.231.172): icmp_seq=1 ttl=128 time=29.2 ms\n64 bytes from 183.232.231.172 (183.232.231.172): icmp_seq=2 ttl=128 time=30.2 ms\n^C\n--- www.a.shifen.com ping statistics ---\n2 packets transmitted, 2 received, 0% packet loss, time 1003ms\nrtt min/avg/max/mdev = 29.231/29.720/30.210/0.518 ms\n</code></pre> <p>\u8bf4\u660e\uff1a \u6240\u6709\u6d4b\u8bd5\u5fc5\u987b\u80fd\u591fping\u901a</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#23-ntp","title":"2.3 \u914d\u7f6eNTP\u670d\u52a1","text":""},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#231controller","title":"2.3.1controller\u8282\u70b9\u914d\u7f6e","text":"<ol> <li>\u5b89\u88c5chrony\u5305</li> </ol> <pre><code># yum install chrony\n</code></pre> <ol> <li>\u914d\u7f6e/etc/chrony.conf\u6587\u4ef6    \u589e\u52a0\u4e24\u884c\u5185\u5bb9\uff1a</li> </ol> <pre><code>server 192.168.10.17 iburst\nallow 192.168.10.0/24\n</code></pre> <pre><code>3. \u8bbe\u7f6e\u670d\u52a1\u81ea\u542f\u52a8\u4e0e\u542f\u52a8\u670d\u52a1\n</code></pre> <p>```shell  # systemctl enable chronyd.service</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#systemctl-start-chronydservice","title":"systemctl start chronyd.service","text":"<p>```</p> <p>####  2.3.2 compute\u8282\u70b9\u914d\u7f6e</p> <ol> <li>\u5b89\u88c5chrony\u5305</li> </ol> <pre><code># yum install chrony\n</code></pre> <ol> <li>\u914d\u7f6e/etc/chrony.conf\u6587\u4ef6    \u5220\u9664\u6240\u6709\u7684server\uff0c\u589e\u52a01\u884c</li> </ol> <pre><code>server controller  iburst\n</code></pre> <pre><code>3. \u8bbe\u7f6e\u670d\u52a1\u81ea\u542f\u52a8\u4e0e\u542f\u52a8\u670d\u52a1\n</code></pre> <p>```shell  # systemctl enable chronyd.service</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#systemctl-start-chronydservice_1","title":"systemctl start chronyd.service","text":"<p>```</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#233","title":"2.3.3 \u6d4b\u8bd5","text":"<ol> <li>controller\u8282\u70b9</li> </ol> <pre><code>[root@controlller ~]# chronyc sources\n210 Number of sources = 5\nMS Name/IP address         Stratum Poll Reach LastRx Last sample\n===============================================================================\n^- controller                    3   6   377    33    -16us[  -16us] +/-   21ms\n^* 203.107.6.88                  2   8   377    90   -176us[ -227us] +/-   21ms\n^? ntp1.ams1.nl.leaseweb.net     2   9     0   39m    +14ms[ -9633s] +/-  202ms\n^- ntp.xtom.nl                   2   7   377    18  +6113us[+6113us] +/-  111ms\n^- electrode.felixc.at           3   7   307    89    +12ms[  +12ms] +/-  182\n</code></pre> <ol> <li>compute\u8282\u70b9</li> </ol> <pre><code>root@compute yum.repos.d]# chronyc sources\n210 Number of sources = 1\nMS Name/IP address         Stratum Poll Reach LastRx Last sample\n===============================================================================\n^? controller                    0   7     0     -     +0ns[   +0ns] +/-    0ns\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#24-openstack-packages","title":"2.4  openstack packages\u914d\u7f6e","text":"<p>\u5bf9\u4e8e\u6240\u6709\u8282\u70b9\uff08controller,comute\u8282\u70b9\uff09\u5b89\u88c5</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#241-openstack-respositor","title":"2.4.1 \u5b89\u88c5openstack respositor","text":"<ol> <li>stein\u7248\u672c</li> </ol> <pre><code> [root@controlller ~]# yum install centos-release-openstack-stein\n</code></pre> <ol> <li>rocky\u7248\u672c</li> </ol> <pre><code> [root@controlller ~]# yum install centos-release-openstack-rocky\n</code></pre> <ol> <li>queen\u7248\u672c</li> </ol> <pre><code> [root@controlller ~]# yum install centos-release-openstack-queen\n</code></pre> <p>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u5728/etc/yum.repos.d\u6587\u4ef6\u5939\u4e0b\u65b0\u589e\u4ee5\u4e0b\u7684repo\u6587\u4ef6\uff1a</p> <pre><code> root@controlller yum.repos.d]# ls\nCentOS-NFS-Ganesha-28.repo  CentOS-OpenStack-stein.repo\nCentOS-Ceph-Nautilus.repo  CentOS-QEMU-EV.repo\nCentOS-Storage-common.repo\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#242","title":"2.4.2 \u5b89\u88c5\u5176\u4ed6\u5305","text":"<ol> <li>\u66f4\u65b0\u7cfb\u7edf</li> </ol> <pre><code> [root@controlller yum.repos.d]# yum upgrade\n</code></pre> <ol> <li>\u5b89\u88c5openstack client</li> </ol> <pre><code>[root@controlller yum.repos.d]# yum install python-openstackclient\n</code></pre> <ol> <li>\u5b89\u88c5 openstack-selinux    \u5bf9\u4e8ecentos\u6765\u8bf4\uff0csexlinux\uff0c\u9ed8\u8ba4\u5904\u4e8e\u6253\u5f00\u72b6\u6001\uff0c\u6709\u4e24\u79cd\u89e3\u51b3\u529e\u6cd5:</li> </ol> <p>(1) \u7981\u6b62sexlinux\uff0c\u6253\u5f00/etc/selinux/conf,\u8bbe\u7f6e\uff1a</p> <pre><code>SELINUX=disabled\n</code></pre> <p>(2)\u5b89\u88c5openstack-selinux\uff0c\u89e3\u51b3selinux\u9650\u5236</p> <pre><code># yum install openstack-selinux\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#25-mariadb","title":"2.5 \u5b89\u88c5\u6570\u636e\u5e93\uff08mariadb\uff09","text":"<p>\u5728controller\u8282\u70b9\u5b89\u88c5\u6570\u636e\u5e93</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#251-mariadb","title":"2.5.1 \u5b89\u88c5mariadb","text":"<pre><code># yum install mariadb mariadb-server python2-PyMySQL\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#252-mysql","title":"2.5.2 \u914d\u7f6emysql","text":"<ol> <li>\u5728/etc/my.cnf.d\u4e0b\u521b\u5efa\u6587\u4ef6openstack.cnf,\u5185\u5bb9\u5982\u4e0b\uff1a</li> </ol> <pre><code>bind-address = 192.168.10.17\n\ndefault-storage-engine = innodb\ninnodb_file_per_table = on\nmax_connections = 4096\ncollation-server = utf8_general_ci\ncharacter-set-server = utf8\n</code></pre> <p>\u6ce8\u610f\uff1a\u5982\u679c\u542f\u52a8\u5ba2\u6237\u7aef\u62a5\u9519\uff0c\u8bf7\u5728bind-addres\u884c\u524d\u9762\u589e\u52a0\u4e00\u884c\uff0c\u5185\u5bb9\u4e3a\uff1a[mysqld]</p> <ol> <li>\u914d\u7f6e\u81ea\u542f\u52a8\u4e0e\u542f\u52a8mysql\u670d\u52a1</li> </ol> <pre><code># systemctl enable mariadb.service\n# systemctl start mariadb.service\n</code></pre> <ol> <li>\u5b89\u88c5\u6570\u636e\u5e93,\u8bbe\u7f6eroot\u7528\u6237\u5bc6\u7801\u4e3a\uff1a123456</li> </ol> <pre><code>[root@controlller my.cnf.d]# mysql_secure_installation\n\nNOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB\n      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!\n\nIn order to log into MariaDB to secure it, we'll need the current\npassword for the root user.  If you've just installed MariaDB, and\nyou haven't set the root password yet, the password will be blank,\nso you should just press enter here.\n\nEnter current password for root (enter for none):\nOK, successfully used password, moving on...\n\nSetting the root password ensures that nobody can log into the MariaDB\nroot user without the proper authorisation.\n\nSet root password? [Y/n] Y\nNew password:\nRe-enter new password:\nPassword updated successfully!\nReloading privilege tables..\n ... Success!\n\n\nBy default, a MariaDB installation has an anonymous user, allowing anyone\nto log into MariaDB without having to have a user account created for\nthem.  This is intended only for testing, and to make the installation\ngo a bit smoother.  You should remove them before moving into a\nproduction environment.\n\nRemove anonymous users? [Y/n] Y\n ... Success!\n\nNormally, root should only be allowed to connect from 'localhost'.  This\nensures that someone cannot guess at the root password from the network.\n\nDisallow root login remotely? [Y/n] n\n ... skipping.\n\nBy default, MariaDB comes with a database named 'test' that anyone can\naccess.  This is also intended only for testing, and should be removed\nbefore moving into a production environment.\n\nRemove test database and access to it? [Y/n] Y\n - Dropping test database...\n ... Success!\n - Removing privileges on test database...\n ... Success!\n\nReloading the privilege tables will ensure that all changes made so far\nwill take effect immediately.\n\nReload privilege tables now? [Y/n] Y\n ... Success!\n\nCleaning up...\n\nAll done!  If you've completed all of the above steps, your MariaDB\ninstallation should now be secure.\n\nThanks for using MariaDB!\n</code></pre> <ol> <li>\u8bbe\u7f6e\u5ba2\u6237\u7aef\u514d\u5bc6\u767b\u5f55    \u6b63\u5e38\u60c5\u51b5\u4e0b\u4f7f\u7528mysql\u5ba2\u6237\u7aef\u547d\u4ee4\u767b\u5f55mysql\u9700\u8981\u8f93\u5165\u7528\u6237\u540d\u4e0e\u5bc6\u7801\uff0c\u53ef\u4ee5\u5728/etc/my.cnf.d/client.conf\u4e0b\u914d\u7f6e\uff1a</li> </ol> <pre><code>[client]\n\n# This group is not read by mysql client library,\n# If you use the same .cnf file for MySQL and MariaDB,\n# use it for MariaDB-only client options\nuser=root\npassword=\"123456\"\n</code></pre> <p>\u8fd9\u6837\u53ea\u6709\u5728\u7ec8\u7aef\u4e2d\u8f93\u5165mysql\u5c31\u53ef\u4ee5\u76f4\u63a5\u767b\u5f55\u4e86</p> <pre><code>root@controlller my.cnf.d]# mysql\nWelcome to the MariaDB monitor.  Commands end with ; or \\g.\nYour MariaDB connection id is 22\nServer version: 10.3.10-MariaDB MariaDB Server\n\nCopyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nMariaDB [(none)]&gt;\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#26","title":"2.6\u5b89\u88c5\u6d88\u606f\u961f\u5217","text":"<p>openstack\u4e2d\u4f7f\u7528\u6d88\u606f\u961f\u5217\uff0c\u6d88\u606f\u961f\u5217\u7528\u4e8econtroller\u8282\u70b9\u4e0ecompute\u4e4b\u95f4\u7684\u6d88\u606f\u901a\u4fe1\uff0copenstack\u4f7f\u7528\u6d88\u606f\u961f\u5217\u6765\u534f\u8c03\u5404\u79cd\u670d\u52a1\u4e4b\u95f4\u7684\u64cd\u4f5c\u4e0e\u72b6\u6001\u4fe1\u606f\uff0c\u6d88\u606f\u961f\u5217\u670d\u52a1\u901a\u5e38\u5b89\u88c5\u5728contoller\u8282\u70b9\u4e0a\u3002\u6d88\u606f\u961f\u5217\u8f6f\u4ef6\u6709\uff1aRabbitMQ\uff0cQpid\uff0cZeroMQ,\u672c\u6b21\u4f7f\u7528RabbitMQ \u5728controller\u8282\u70b9\u4e0a\u5b89\u88c5</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#261rabbitmq","title":"2.6.1\u5b89\u88c5rabbitmq","text":"<pre><code>[root@controlller ~]# yum install rabbitmq-server -y\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#262","title":"2.6.2\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f\u52a8\u4e0e\u542f\u52a8\u670d\u52a1","text":"<pre><code>root@controlller ~]#  systemctl enable rabbitmq-server.service\nCreated symlink from /etc/systemd/system/multi-user.target.wants/rabbitmq-server.service to /usr/lib/systemd/system/rabbitmq-server.service.\n[root@controlller ~]# systemctl start rabbitmq-server.service\n[root@controlller ~]#\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#263","title":"2.6.3 \u8bbe\u7f6e\u6d88\u606f\u961f\u5217\u7528\u6237\u540d\u4e0e\u5bc6\u7801","text":"<ol> <li>\u8bbe\u7f6e\u7528\u6237\u4e0e\u5bc6\u7801</li> </ol> <pre><code>[root@controlller ~]# rabbitmqctl  add_user openstack ea4f99cd40067b6dcfad\nCreating user \"openstack\"\n</code></pre> <ol> <li>\u67e5\u770b\u8bbe\u7f6e\u7684\u7528\u6237\u4e0e\u5bc6\u7801</li> </ol> <pre><code>root@controlller ~]# rabbitmqctl list_users\nListing users\nopenstack   []\nguest   [administrator]\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#264","title":"2.6.4\u8bbe\u7f6e\u7528\u6237\u6743\u9650","text":"<ol> <li>\u8bed\u6cd5\uff1a</li> </ol> <pre><code>rabbitmqctl set_permissions &lt;user&gt; &lt;conf&gt; &lt;write&gt; &lt;read&gt;\n</code></pre> <ol> <li>\u8bf4\u660e\uff1a</li> </ol> <ul> <li>\u662f\u6307\u4e3a\u67d0\u4e2a\u7528\u6237\u8bbe\u7f6e\u6743\u9650 <li>\u8bbe\u7f6e\u914d\u7f6e\u6743\u9650 <li>\u8bbe\u7f6e\u5199\u6743\u9650 <li>\u8bbe\u7f6e\u5ea6\u6743\u9650 <ol> <li>\u5bf9openstack\u7528\u6237\u8bbe\u7f6e\u6743\u9650</li> </ol> <pre><code>[root@controlller ~]#rabbitmqctl set_permissions openstack \".*\" \".*\" \".*\"\nSetting permissions for user \"openstack\" in vhost \"/\"\n</code></pre> <p>\u8bf4\u660e\uff1a \u5bf9openstack\u7528\u6237\u8bbe\u7f6e\u4e86\u6240\u6709\u7684\u914d\u7f6e\uff0c\u5199\u4e0e\u8bfb\u7684\u6743\u9650</p> <ol> <li>\u67e5\u770bopenstack\u7528\u6237\u7684\u6743\u9650</li> </ol> <pre><code>[root@controlller ~]# rabbitmqctl list_user_permissions openstack\nListing permissions for user \"openstack\"\n/   .*  .*  .*\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#27-memcached","title":"2.7 \u5b89\u88c5\u7f13\u5b58\u670d\u52a1(MemCached)","text":"<p>openstack\u4e3a\u5176\u4ed6\u670d\u52a1\u63d0\u4f9b\u8eab\u4efd\u8bc6\u522b\u670d\u52a1\uff0c\u9700\u8981\u4f7f\u7528Memcached\u6765\u7f13\u5b58tokens\uff0c\u7f13\u5b58\u670d\u52a1\u901a\u5e38\u5b89\u88c5\u5728controller\u8282\u70b9\u4e0a\u3002 \u5728controller\u8282\u70b9\u4e0a\u5b89\u88c5</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#271-memcached","title":"2.7.1 \u5b89\u88c5memcached\u5305","text":"<pre><code>[root@controlller ~]# yum install memcached python-memcached -y\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#272-memcached","title":"2.7.2 \u914d\u7f6ememcached","text":"<p>\u7f16\u8f91/etc/sysconfig/memcached\u6587\u4ef6\uff0c\u4fee\u6539\uff1a</p> <pre><code>OPTIONS=\"-l 127.0.0.1,::1\"\n</code></pre> <p>\u4e3a\uff1a</p> <pre><code>OPTIONS=\"-l 127.0.0.1,::1,controller\"\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#273","title":"2.7.3\u8bbe\u7f6e\u81ea\u542f\u52a8\u4e0e\u542f\u52a8\u670d\u52a1","text":"<pre><code>[root@controlller ~]# systemctl enable memcached.service\nCreated symlink from /etc/systemd/system/multi-user.target.wants/memcached.service to /usr/lib/systemd/system/memcached.service.\n[root@controlller ~]# systemctl start memcached.service\n[root@controlller ~]#\n</code></pre> <p>\u67e5\u770b\u670d\u52a1\u662f\u5426\u542f\u52a8\u6210\u529f\uff1a</p> <pre><code>[root@controlller ~]# systemctl status memcached.service\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#28-etcd","title":"2.8 \u914d\u7f6eEtcd","text":"<p>Etcd\u662f\u4e00\u79cd\u53ef\u9760\u7684\u5206\u5e03\u5f0f\u952e\u503c\u5bf9\u7ba1\u7406\u8f6f\u4ef6\uff0c\u53ef\u4ee5\u5b58\u50a8\u5206\u5e03\u5f0f\u952e\u9501\uff0c\u5b58\u50a8\u914d\u7f6e\u4fe1\u606f\uff0c\u8ddf\u8e2a\u670d\u52a1\u7684\u662f\u5426\u5b58\u6d3b\u7b49\u5e94\u7528\u573a\u666f\u3002openstack\u670d\u52a1\u4f1a\u7528\u5230Etcd\u8f6f\u4ef6\u3002 etcd\u670d\u52a1\u5b89\u88c5\u5728controller\u8282\u70b9\u4e0a</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#281","title":"2.8.1\u5b89\u88c5\u5305","text":"<pre><code>[root@controlller ~]# yum install etcd\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#282-etcdconf","title":"2.8.2 \u914d\u7f6eetcd.conf","text":"<p>\u7f16\u8f91/etc/etcd/etcd.conf,\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>#[Member]\nETCD_DATA_DIR=\"/var/lib/etcd/default.etcd\"\nETCD_LISTEN_PEER_URLS=\"http://192.168.10.17:2380\"\nETCD_LISTEN_CLIENT_URLS=\"http://192.168.10.17:2379\"\nETCD_NAME=\"controller\"\n#[Clustering]\nETCD_INITIAL_ADVERTISE_PEER_URLS=\"http://192.168.10.17:2380\"\nETCD_ADVERTISE_CLIENT_URLS=\"http://192.168.10.17:2379\"\nETCD_INITIAL_CLUSTER=\"controller=http://192.168.10.17:2380\"\nETCD_INITIAL_CLUSTER_TOKEN=\"etcd-cluster-01\"\nETCD_INITIAL_CLUSTER_STATE=\"new\"\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#283","title":"2.8.3 \u8bbe\u7f6e\u81ea\u542f\u52a8\u4e0e\u542f\u52a8\u670d\u52a1","text":"<pre><code># systemctl enable etcd\n# systemctl start etcd\n</code></pre> <p>\u67e5\u770b\u670d\u52a1\u662f\u5426\u542f\u52a8\u6210\u529f\uff1a x</p> <pre><code>[root@controlller ~]# systemctl status etcd\n\u25cf etcd.service - Etcd Server\n   Loaded: loaded (/usr/lib/systemd/system/etcd.service; enabled; vendor preset: disabled)\n   Active: active (running) since \u65e5 2019-10-13 23:01:17 CST; 1min 0s ago\n Main PID: 43139 (etcd)\n   CGroup: /system.slice/etcd.service\n           \u2514\u250043139 /usr/bin/etcd --name=controller --data-dir=/var/lib/etcd/d...\n\n10\u6708 13 23:01:17 controlller etcd[43139]: 850ca1f0fc28aca8 received MsgVote...2\n10\u6708 13 23:01:17 controlller etcd[43139]: 850ca1f0fc28aca8 became leader at...2\n10\u6708 13 23:01:17 controlller etcd[43139]: raft.node: 850ca1f0fc28aca8 elect...2\n10\u6708 13 23:01:17 controlller etcd[43139]: published {Name:controller Client...b\n10\u6708 13 23:01:17 controlller etcd[43139]: setting up the initial cluster ve...3\n10\u6708 13 23:01:17 controlller systemd[1]: Started Etcd Server.\n10\u6708 13 23:01:17 controlller etcd[43139]: set the initial cluster version t...3\n10\u6708 13 23:01:17 controlller etcd[43139]: enabled capabilities for version 3.3\n10\u6708 13 23:01:17 controlller etcd[43139]: ready to serve client requests\n10\u6708 13 23:01:17 controlller etcd[43139]: serving insecure client requests ...!\nHint: Some lines were ellipsized, use -l to show in full.\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#openstack_stein_2node_install-2","title":"openstack_stein_2node_install-2","text":""},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#3","title":"3\u3001\u5b89\u88c5\u8ba4\u8bc1\u670d\u52a1","text":"<p>\u5728\u63a7\u5236\u8282\u70b9\u4e0a\u5b89\u88c5</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#31","title":"3.1 \u8ba4\u8bc1\u670d\u52a1\u6982\u8ff0","text":""},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#311keystone","title":"3.1.1keystone\u5bf9\u8c61","text":"<ol> <li>User\uff1a\u6307\u4f7f\u7528Openstack service\u7684\u7528\u6237\uff0c\u53ef\u4ee5\u662f\u4eba\u3001\u670d\u52a1\u3001\u7cfb\u7edf\uff0c\u4f46\u51e1\u4f7f\u7528\u4e86Openstack service\u7684\u5bf9\u8c61\u90fd\u53ef\u4ee5\u79f0\u4e3aUser\u3002</li> <li>Project(Tenant)\uff1a\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u4e2a\u4eba\u3001\u6216\u670d\u52a1\u6240\u62e5\u6709\u7684 \u8d44\u6e90\u96c6\u5408 \u3002\u5728\u4e00\u4e2aProject(Tenant)\u4e2d\u53ef\u4ee5\u5305\u542b\u591a\u4e2aUser\uff0c\u6bcf\u4e00\u4e2aUser\u90fd\u4f1a\u6839\u636e\u6743\u9650\u7684\u5212\u5206\u6765\u4f7f\u7528Project(Tenant)\u4e2d\u7684\u8d44\u6e90\u3002\u6bd4\u5982\u901a\u8fc7Nova\u521b\u5efa\u865a\u62df\u673a\u65f6\u8981\u6307\u5b9a\u5230\u67d0\u4e2aProject\u4e2d\uff0c\u5728Cinder\u521b\u5efa\u5377\u4e5f\u8981\u6307\u5b9a\u5230\u67d0\u4e2aProject\u4e2d\u3002User\u8bbf\u95eeProject\u7684\u8d44\u6e90\u524d\uff0c\u5fc5\u987b\u8981\u4e0e\u8be5Project\u5173\u8054\uff0c\u5e76\u4e14\u6307\u5b9aUser\u5728Project\u4e0b\u7684Role\u3002</li> <li>Role\uff1a\u7528\u4e8e\u5212\u5206\u6743\u9650\u3002\u53ef\u4ee5\u901a\u8fc7\u7ed9User\u6307\u5b9aRole\uff0c\u4f7fUser\u83b7\u5f97Role\u5bf9\u5e94\u7684\u64cd\u4f5c\u6743\u9650\u3002Keystone\u8fd4\u56de\u7ed9User\u7684Token\u5305\u542b\u4e86Role\u5217\u8868\uff0c\u88ab\u8bbf\u95ee\u7684Services\u4f1a\u5224\u65ad\u8bbf\u95ee\u5b83\u7684User\u548cUser\u63d0\u4f9b\u7684Token\u4e2d\u6240\u5305\u542b\u7684Role\u3002\u7cfb\u7edf\u9ed8\u8ba4\u4f7f\u7528\u7ba1\u7406Role admin\u548c\u6210\u5458Role member \u3002</li> <li>Token\uff1a\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u8868\u793a\uff0c\u4f5c\u4e3a\u8bbf\u95ee\u8d44\u6e90\u7684\u4ee4\u724c\u3002Token\u5305\u542b\u4e86\u5728 \u6307\u5b9a\u8303\u56f4\u548c\u6709\u6548\u65f6\u95f4\u5185 \u53ef\u4ee5\u88ab\u8bbf\u95ee\u7684\u8d44\u6e90\u3002</li> <li>Credentials\uff1a\u7528\u4e8e\u786e\u8ba4\u7528\u6237\u8eab\u4efd\u7684\u51ed\u8bc1\u3002</li> <li>Authentication\uff1a\u786e\u5b9a\u7528\u6237\u8eab\u4efd\u7684\u8fc7\u7a0b\u3002</li> <li>Service\uff1aOpenstack service\uff0c\u5373Openstack\u4e2d\u8fd0\u884c\u7684\u7ec4\u4ef6\u670d\u52a1\u3002</li> <li>Endpoint\uff1a\u4e00\u4e2a\u53ef\u4ee5\u901a\u8fc7\u7f51\u7edc\u6765\u8bbf\u95ee\u548c\u5b9a\u4f4d\u67d0\u4e2aOpenstack service\u7684\u5730\u5740\uff0c\u901a\u5e38\u662f\u4e00\u4e2aURL\u3002\u6839\u636e\u4f7f\u7528\u5bf9\u8c61\u5206\u4e3a\u4e09\u7c7b\uff1a <pre><code>admin url \u2013&gt; \u7ed9admin\u7528\u6237\u4f7f\u7528\uff0cPost\uff1a35357\ninternal url \u2013&gt; OpenStack\u5185\u90e8\u670d\u52a1\u4f7f\u7528\u6765\u8ddf\u522b\u7684\u670d\u52a1\u901a\u4fe1\uff0cPort\uff1a5000\npublic url \u2013&gt; \u5176\u5b83\u7528\u6237\u53ef\u4ee5\u8bbf\u95ee\u7684\u5730\u5740\uff0cPost\uff1a5000\n</code></pre></li> <li>domain\uff0cproject\uff0cuser\uff0crole\u4e4b\u95f4\u7684\u5173\u7cfb</li> <li></li> <li>keystone\u4e3aopenstack\u9ed8\u8ba4\u7684\u8ba4\u8bc1\u670d\u52a1\uff0c\u6709\u4e09\u79cd\u8ba4\u8bc1\u65b9\u5f0f\uff1a</li> <li>UUID</li> <li>PKI</li> <li>Fernet</li> </ol>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#312-uuid","title":"3.1.2 UUID\u8ba4\u8bc1\u65b9\u5f0f","text":"<p>\u5f53\u7528\u6237\u9700\u8981\u8bbf\u95eenova\uff0c\u64cd\u4f5c\u6d41\u7a0b\u5982\u4e0b\uff1a 1. \u9996\u5148\u8981\u7528\u6709\u6548\u7684\u7528\u6237\u540d/\u5bc6\u7801\u5148\u53bbkeystone\u8ba4\u8bc1\uff0ckeystone\u8fd4\u56de\u7ed9\u7528\u6237\u4e00\u4e2atoken(\u5373UUID)\u3002 2. \u5176\u6b21\uff0c\u7528\u6237\u4f7f\u7528\u83b7\u5f97\u7684token\u5411nova\u7533\u8bf7\u670d\u52a1 3. nova\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u7528\u7528\u6237\u7684token\u53bb\u5411keystone\u8fdb\u884c\u8bf7\u6c42\u9a8c\u8bc1\u3002 4. keystone\u901a\u8fc7\u6bd4\u5bf9token\uff0c\u4ee5\u53ca\u68c0\u67e5token\u7684\u6709\u6548\u671f\uff0c\u5224\u65adtoken\u7684\u6709\u6548\u6027\uff0c\u8fd4\u56de\u7ed3\u679c\u7ed9nova\u3002 5. nova\u6839\u636ekeystone\u8ba4\u8bc1\u4fe1\u606f\u5904\u7406\u7528\u6237\u8bf7\u6c42   * yes\uff0c \u53d1\u9001200\uff0c\u7ed9\u7528\u6237   * no,  \u53d1\u9001401,\u62d2\u7edd\u8bbf\u95ee     \u8bbf\u95ee\u6d41\u7a0b\u5982\u4e0b\u56fe\u6240\u793a\uff1a </p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#313-pki","title":"3.1.3 PKI\u8ba4\u8bc1","text":"<p>1.\u6570\u5b57\u7b7e\u540d\u539f\u7406 </p> <ol> <li>\u4f7f\u7528pki keystone\u8ba4\u8bc1\u6d41\u7a0b </li> </ol>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#314-fernet","title":"3.1.4 fernet\u8ba4\u8bc1","text":"<p>UUID\u65b9\u5f0f\u7684\u7f3a\u70b9\uff1a  \u65f6\u95f4\u957f\u4e86\uff0c\u4f1a\u4ea7\u51fa\u5927\u91cf\u7684token\uff0c\u5bfc\u81f4\u6570\u636e\u5e93\u6027\u80fd\u53d8\u5dee,\u6539\u8fdb\uff1afernet  fernet token    \u5f53\u524d\u4e3b\u6d41\u63a8\u8350\u7684token\u683c\u5f0f\uff0c\u5b83\u91c7\u7528 cryptography \u5bf9\u79f0\u52a0\u5bc6\u5e93(symmetric cryptography\uff0c\u52a0\u5bc6\u5bc6\u94a5\u548c\u89e3\u5bc6\u5bc6\u94a5\u76f8\u540c) \u52a0\u5bc6 token\uff0c\u5177\u4f53\u7531 AES-CBC \u52a0\u5bc6\u548c\u6563\u5217\u51fd\u6570 SHA256 \u7b7e\u540d\u3002 \u4e0d\u9700\u8981\u5b58\u50a8\u4e8e\u6570\u636e\u5e93\uff0c\u51cf\u5c11\u4e86\u78c1\u76d8\u7684 IO\uff0c\u5e26\u6765\u4e86\u4e00\u5b9a\u7684\u6027\u80fd\u63d0\u5347\u3002</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#32-prerequisities","title":"3.2  \u524d\u63d0\u6761\u4ef6\uff08prerequisities)","text":"<ol> <li>\u4f7f\u7528root\u7528\u6237\u8fde\u63a5\u6570\u636e\u5e93  <pre><code>mysql -uroot -p\n</code></pre></li> <li>\u521b\u5efakeystone\u6570\u636e\u5e93 <pre><code>create database keystone;\n</code></pre></li> <li>\u521b\u5efa\u5e76\u6388\u6743keystone\u7528\u6237 <pre><code>  create user 'keystone'@'localhost' identified by 'keystone';\n  create user 'keystone'@'%' identified by 'keystone';\n  grant all privileges on keystone.* to keystone;\n</code></pre></li> </ol>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#33-keystonehttpd-mod_wsgi","title":"3.3 \u5b89\u88c5keystone\uff0chttpd\u53ca mod_wsgi\u6a21\u5757","text":"<ol> <li>openstack-keystone openstack\u8ba4\u8bc1\u8f6f\u4ef6</li> <li>httpd apache http\u670d\u52a1\u5668</li> <li>mod_wsgi\u6a21\u5757\uff0c\u53ef\u4ee5\u89e3\u6790python\u8f6f\u4ef6 <pre><code>yum install openstack-keystone httpd mod_wsgi\n</code></pre></li> <li>\u914d\u7f6e /etc/keystone/keystone.conf\u6587\u4ef6 <pre><code>[database]\n# ...\nconnection = mysql+pymysql://keystone:keystone@controller/keystone\n[token]\n# ...\nprovider = fernet\n</code></pre></li> <li>\u540c\u6b65\u6570\u636e\u5e93 <pre><code># su -s /bin/sh -c \"keystone-manage db_sync\" keystone\n</code></pre> \u8bf4\u660e:</li> <li>su -s \u540e\u8ddf\u6267\u884c\u811a\u672c -s \u662fshell\u7684\u7f29\u5199</li> <li>sh -c  \u4ece\u5b57\u7b26\u4e32\u6267\u884c</li> <li>sh -c \"\"  parameter , \u4f5c\u4e3a\u5b57\u7b26\u4e32\u547d\u4ee4\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570</li> <li>keystonemanage db_sync keystone</li> <li>\u521d\u59cb\u5316fernet key \u5e93  ```shell  # keystone-manage fernet_setup --keystone-user keystone --keystone-group keystone</li> </ol>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#keystone-manage-credential_setup-keystone-user-keystone-keystone-group-keystone","title":"keystone-manage credential_setup --keystone-user keystone --keystone-group keystone","text":"<p><pre><code>6. \u521b\u5efabootstrap\u8ba4\u8bc1\u670d\u52a1\n\n```shell\n# keystone-manage bootstrap --bootstrap-password admin123 \\\n --bootstrap-admin-url http://controller:5000/v3/ \\\n --bootstrap-internal-url http://controller:5000/v3/ \\\n --bootstrap-public-url http://controller:5000/v3/ \\\n --bootstrap-region-id RegionOn\n</code></pre>  7. \u4fee\u6539/etc/httpd/conf/httpd.conf\u6587\u4ef6  <pre><code>ServerName controller\n</code></pre>  8. \u521b\u5efa\u8f6f\u8fde\u63a5\u6587\u4ef6</p> <p><pre><code>ln -s /usr/share/keystone/wsgi-keystone.conf /etc/httpd/conf.d/\n</code></pre>  9. \u542f\u52a8web \u670d\u52a1  ```shell</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#systemctl-enable-httpdservice","title":"systemctl enable httpd.service","text":""},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#systemctl-start-httpdservice","title":"systemctl start httpd.service","text":"<p><code>10. \u521b\u5efa admin\u73af\u5883\u53d8\u91cf\u6587\u4ef6\uff0c/root/keystone_admin</code> shell export OS_USERNAME=admin export OS_PASSWORD=admin123 export OS_PROJECT_NAME=admin export OS_USER_DOMAIN_NAME=Default export OS_PROJECT_DOMAIN_NAME=Default export OS_AUTH_URL=http://controller:5000/v3 export OS_IDENTITY_API_VERSION=3  <pre><code>11. \u8f93\u51fa\u73af\u5883\u53d8\u91cf\n``` shell\n#source keystone_admin\n</code></pre></p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#34-domainprojcetusers-and-roles","title":"3.4 domain\uff0cprojcet\uff0cusers and roles\u7ba1\u7406","text":""},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#341-domain","title":"3.4.1 domain\u7ba1\u7406","text":"<ol> <li>\u521b\u5efadomain <pre><code>#openstack domain create --description \"An Example Domain\" example\n</code></pre></li> <li>\u67e5\u770bdomain <pre><code>root@controlller ~]# openstack domain list\n+----------------------------------+---------+---------+--------------------+\n| ID                               | Name    | Enabled | Description        |\n+----------------------------------+---------+---------+--------------------+\n| b0bc02701f5348df9ddf727a2e99ecb2 | example | True    |  An Example Domain |\n| default                          | Default | True    | The default domain |\n+----------------------------------+---------+---------+--------------------+\n</code></pre></li> <li>\u67e5\u770bdomain\u8be6\u7ec6\u4fe1\u606f <pre><code>root@controlller ~]# openstack domain show cloud1821\n+-------------+----------------------------------+\n| Field       | Value                            |\n+-------------+----------------------------------+\n| description | clound1821                       |\n| enabled     | True                             |\n| id          | b66b72e1feb145e38fad867a7cedeab6 |\n| name        | cloud1821                        |\n| tags        | []                               |\n+-------------+----------------------------------+\n</code></pre></li> <li>\u5220\u9664domain \u8981\u5220\u9664domain\uff0c\u9996\u5148\u8981\u8bbe\u7f6edomain\u4e3adisable\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a <pre><code>[root@controlller ~]# openstack domain set --disable example\n</code></pre> \u7136\u540e\u6267\u884c\u5220\u9664\u547d\u4ee4\uff1a <pre><code>[root@controlller ~]# openstack domain delete example\n[root@controlller ~]# openstack domain list\n+---------+---------+---------+--------------------+\n| ID      | Name    | Enabled | Description        |\n+---------+---------+---------+--------------------+\n| default | Default | True    | The default domain |\n+---------+---------+---------+--------------------+\n</code></pre></li> </ol>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#342-project","title":"3.4.2 project\u7ba1\u7406","text":"<ol> <li>\u67e5\u770bdomain <pre><code>[root@controlller ~]# openstack project list\n+----------------------------------+-----------+\n| ID                               | Name      |\n+----------------------------------+-----------+\n| 0fc81d875cca48e489028eb84146f7a4 | service2  |\n| 28e2c67f8e16455a829ba18036490fd3 | myproject |\n| 58e2a0860fe94bb4b244462fa9d39288 | admin     |\n| 6ce019cfdf674c8392c3ee1af13d5d3d | service   |\n+----------------------------------+-----------+\n</code></pre></li> <li>\u521b\u5efaproject  project\u5fc5\u987b\u5c5e\u4e8e\u67d0\u4e2adomain</li> <li>\u9996\u5148\u8981\u67e5\u770bdomain <pre><code>[root@controlller ~]# openstack domain list\n+----------------------------------+-----------+---------+--------------------+\n| ID                               | Name      | Enabled | Description        |\n+----------------------------------+-----------+---------+--------------------+\n| b66b72e1feb145e38fad867a7cedeab6 | cloud1821 | False   | clound1821         |\n| default                          | Default   | True    | The default domain |\n+----------------------------------+-----------+---------+--------------------+\n</code></pre></li> <li>\u5176\u6b21\u521b\u5efaproject <pre><code>[root@controlller ~]# openstack project create --domain default --description \"create a demo domain\"  demo\n+-------------+----------------------------------+\n| Field       | Value                            |\n+-------------+----------------------------------+\n| description | create a demo domain             |\n| domain_id   | default                          |\n| enabled     | True                             |\n| id          | 5059700f003e42768de44d2b88fe1e57 |\n| is_domain   | False                            |\n| name        | demo                             |\n| parent_id   | default                          |\n| tags        | []                               |\n+-------------+----------------------------------+\n</code></pre></li> <li>\u5220\u9664project <pre><code>[root@controlller ~]# openstack project list\n+----------------------------------+-----------+\n| ID                               | Name      |\n+----------------------------------+-----------+\n| 0fc81d875cca48e489028eb84146f7a4 | service2  |\n| 28e2c67f8e16455a829ba18036490fd3 | myproject |\n| 5059700f003e42768de44d2b88fe1e57 | demo      |\n| 58e2a0860fe94bb4b244462fa9d39288 | admin     |\n| 6ce019cfdf674c8392c3ee1af13d5d3d | service   |\n+----------------------------------+-----------+\n[root@controlller ~]# openstack project delete myproject\n[root@controlller ~]# openstack project list\n+----------------------------------+----------+\n| ID                               | Name     |\n+----------------------------------+----------+\n| 0fc81d875cca48e489028eb84146f7a4 | service2 |\n| 5059700f003e42768de44d2b88fe1e57 | demo     |\n| 58e2a0860fe94bb4b244462fa9d39288 | admin    |\n| 6ce019cfdf674c8392c3ee1af13d5d3d | service  |\n+----------------------------------+----------+\n</code></pre></li> <li>\u67e5\u770bproject\u8be6\u7ec6\u4fe1\u606f <pre><code>[root@controlller ~]# openstack project show demo\n+-------------+----------------------------------+\n| Field       | Value                            |\n+-------------+----------------------------------+\n| description | create a demo domain             |\n| domain_id   | default                          |\n| enabled     | True                             |\n| id          | 5059700f003e42768de44d2b88fe1e57 |\n| is_domain   | False                            |\n| name        | demo                             |\n| parent_id   | default                          |\n| tags        | []                               |\n+-------------+----------------------------------+\n</code></pre></li> </ol>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#343-user","title":"3.4.3 user\u7ba1\u7406","text":"<ol> <li> <p>\u67e5\u770b\u7528\u6237 <pre><code>[root@controlller ~]# openstack user list\n+----------------------------------+--------+\n| ID                               | Name   |\n+----------------------------------+--------+\n| 6fafe9a3635745ba879286c2d4e2edac | demo   |\n| 9856f3f21b4d4e128d849d3b1c20a6c9 | user25 |\n| e65881f9aa584883a3077c9ca481c566 | admin  |\n+----------------------------------+--------+\n</code></pre></p> </li> <li> <p>\u521b\u5efa\u7528\u6237 \u7528\u6237\u521b\u5efa\u5fc5\u987b\u5c5e\u4e8e\u67d0\u4e2adomain <pre><code>[root@controlller ~]# openstack user create --domain cloud1821 \\\n&gt; --password-prompt user2\nUser Password:\nRepeat User Password:\n+---------------------+----------------------------------+\n| Field               | Value                            |\n+---------------------+----------------------------------+\n| domain_id           | b66b72e1feb145e38fad867a7cedeab6 |\n| enabled             | True                             |\n| id                  | c57be863835e40138dc532197d845767 |\n| name                | user2                            |\n| options             | {}                               |\n| password_expires_at | None                             |\n+---------------------+----------------------------------+\n</code></pre></p> </li> <li>\u5220\u9664\u7528\u6237 <pre><code>root@controlller ~]# openstack user delete user2\n[root@controlller ~]# openstack user list\n+----------------------------------+--------+\n| ID                               | Name   |\n+----------------------------------+--------+\n| 6fafe9a3635745ba879286c2d4e2edac | demo   |\n| 9856f3f21b4d4e128d849d3b1c20a6c9 | user25 |\n| e65881f9aa584883a3077c9ca481c566 | admin  |\n+----------------------------------+--------+\n</code></pre></li> <li>\u67e5\u770b\u7528\u6237\u8be6\u7ec6\u4fe1\u606f <pre><code>[root@controlller ~]# openstack user show demo\n+---------------------+----------------------------------+\n| Field               | Value                            |\n+---------------------+----------------------------------+\n| domain_id           | default                          |\n| enabled             | True                             |\n| id                  | 6fafe9a3635745ba879286c2d4e2edac |\n| name                | demo                             |\n| options             | {}                               |\n| password_expires_at | None                             |\n+---------------------+----------------------------------+\n</code></pre></li> <li>\u7528\u6237\u4fe1\u606f\u4fee\u6539 \u8bed\u6cd5\uff1a <pre><code>openstack user set  options\n</code></pre> options:</li> </ol> \u540d\u79f0 \u63cf\u8ff0 --name  \u8bbe\u7f6e\u7528\u6237\u540d --domain  \u8bbe\u7f6edomain --project  \u8bbe\u7f6eproject --project-domain  \u8bbe\u7f6eproject\u6240\u5c5e\u7684domain --password  \u8bbe\u7f6e\u5bc6\u7801 --password-prompt \u8bbe\u7f6e\u5bc6\u7801\u8f93\u5165\u63d0\u793a --email  \u8bbe\u7f6e\u90ae\u4ef6 --description  \u8bbe\u7f6e\u63cf\u8ff0 --enable \u8bbe\u7f6e\u7528\u6237\u8d77\u4f5c\u7528 --disable \u8bbe\u7f6e\u7528\u6237\u4e0d\u8d77\u4f5c\u7528 \u793a\u4f8b\uff1a \u66f4\u540d\uff1a\u628auser25 \u66f4\u540d\u4e3auser26 <pre><code>root@controlller ~]# openstack user show user25\n+---------------------+----------------------------------+\n| Field               | Value                            |\n+---------------------+----------------------------------+\n| domain_id           | b66b72e1feb145e38fad867a7cedeab6 |\n| enabled             | True                             |\n| id                  | 9856f3f21b4d4e128d849d3b1c20a6c9 |\n| name                | user25                           |\n| options             | {}                               |\n| password_expires_at | None                             |\n+---------------------+----------------------------------+\n[root@controlller ~]# openstack user set --name user26  user25\n[root@controlller ~]# openstack user list\n+----------------------------------+--------+\n| ID                               | Name   |\n+----------------------------------+--------+\n| 6fafe9a3635745ba879286c2d4e2edac | demo   |\n| 9856f3f21b4d4e128d849d3b1c20a6c9 | user26 |\n| e65881f9aa584883a3077c9ca481c566 | admin  |\n+----------------------------------+--------+\n</code></pre> \u66f4\u6539user26\u7684\u5bc6\u7801\u4e3a000000 <pre><code>openstack user set --password '000000' user26\n</code></pre> #### 3.4.4 role\u7ba1\u7406 1. \u67e5\u770brole <pre><code>[root@controlller ~]# openstack role list\n+----------------------------------+---------------+\n| ID                               | Name          |\n+----------------------------------+---------------+\n| 3faf8c9b164b4751a7d6776c7cf13c54 | member        |\n| 6dd0cba763b04c66b2b871c07517f10b | admin         |\n| 753afe4fa2d94b55ac50cdc95372879a | reader        |\n| b2686d3780274cf88441147afd2f4c8c | cloud1821role |\n| b577c714b5284f2dab28c810c0b31fe4 | myrole        |\n+----------------------------------+---------------+\n</code></pre> 2. \u521b\u5efarole <pre><code>[root@controlller ~]# openstack role create myrole2\n+-------------+----------------------------------+\n| Field       | Value                            |\n+-------------+----------------------------------+\n| description | None                             |\n| domain_id   | None                             |\n| id          | de7e5e8fbe264997bcbb905b4efa923b |\n| name        | myrole2                          |\n+-------------+----------------------------------+\n</code></pre> 3. \u4fee\u6539role \u53ef\u4ee5\u4fee\u6539domain\uff0c\u4e0e\u540d\u79f0 <pre><code>openstack role set [-h] [--domain &lt;domain&gt;] [--name &lt;name&gt;] &lt;role&gt;\n</code></pre> 4. \u5220\u9664role <pre><code>[root@controlller ~]# openstack role list\n+----------------------------------+---------------+\n| ID                               | Name          |\n+----------------------------------+---------------+\n| 3faf8c9b164b4751a7d6776c7cf13c54 | member        |\n| 6dd0cba763b04c66b2b871c07517f10b | admin         |\n| 753afe4fa2d94b55ac50cdc95372879a | reader        |\n| b2686d3780274cf88441147afd2f4c8c | cloud1821role |\n| b577c714b5284f2dab28c810c0b31fe4 | myrole        |\n| de7e5e8fbe264997bcbb905b4efa923b | myrole2       |\n+----------------------------------+---------------+\n[root@controlller ~]# openstack role delete myrole2\n[root@controlller ~]# openstack role list\n+----------------------------------+---------------+\n| ID                               | Name          |\n+----------------------------------+---------------+\n| 3faf8c9b164b4751a7d6776c7cf13c54 | member        |\n| 6dd0cba763b04c66b2b871c07517f10b | admin         |\n| 753afe4fa2d94b55ac50cdc95372879a | reader        |\n| b2686d3780274cf88441147afd2f4c8c | cloud1821role |\n| b577c714b5284f2dab28c810c0b31fe4 | myrole        |\n+----------------------------------+---------------+\n</code></pre> 5. \u589e\u52a0add \u6dfb\u52a0\u53ef\u4ee5\u6dfb\u52a0project ,user <pre><code>[root@controlller ~]# openstack role add --project service2 --user user26 myrole\n</code></pre> 6. \u663e\u793a\u8be6\u7ec6\u4fe1\u606f show <pre><code>[root@controlller ~]#openstack role show -f json myrole\n{\n  \"id\": \"b577c714b5284f2dab28c810c0b31fe4\",\n  \"description\": null,\n  \"name\": \"myrole\",\n  \"domain_id\": null\n}[root@controlller ~]#\n</code></pre> ### 3.5 \u83b7\u53d6token #### 3.5.1\u4f7f\u7528openstack\u547d\u4ee4\u83b7\u53d6token 1. \u7f16\u8f91\u73af\u5883\u53d8\u91cfkeystone_admin\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code>[root@controlller ~]# cat keystone_admin\nexport OS_USERNAME=admin\nexport OS_PASSWORD=admin123\nexport OS_PROJECT_NAME=admin\nexport OS_USER_DOMAIN_NAME=Default\nexport OS_PROJECT_DOMAIN_NAME=Default\nexport OS_AUTH_URL=http://controller:5000/v3\nexport OS_IDENTITY_API_VERSION=3\n</code></pre> 2. \u8f93\u51fa\u73af\u5883\u53d8\u91cf: <pre><code> source  keystone_admin\n</code></pre> 3. \u83b7\u53d6token <pre><code>[root@controlller ~]# openstack token issue\n+------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Field      | Value                                                                                                                                                                                   |\n+------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| expires    | 2019-10-16T18:30:03+0000                                                                                                                                                                |\n| id         | gAAAAABdp1Ob_DAf2oFIstLWFHWMgkiQGiDcXUc8ymFdIG5XUC4DN3v5VkJUHNqmsCWhLpkr3Eu--4ca5TR33qsWZUoISQjsO3lyCbmeWDJMJ_vLf10YD-yOwp-yld5FOgqALHG4r2oejAYhA6_9Ler42qFLrgOZyT1ZKOxtYdnFzq0q8FB9eUA |\n| project_id | 58e2a0860fe94bb4b244462fa9d39288                                                                                                                                                        |\n| user_id    | e65881f9aa584883a3077c9ca481c566                                                                                                                                                        |\n+------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n</code></pre> \u5176\u4e2d\u7684id\u5373\u4e3a\u83b7\u53d6\u7684token #### 3.5.2 \u4f7f\u7528curl\u83b7\u53d6 1. curl <pre><code>[root@controlller ~]# curl http://localhost:5000/v3/auth/tokens\n{\"error\":{\"code\":401,\"message\":\"The request you have made requires authentication.\",\"title\":\"Unauthorized\"}}\n</code></pre> 2. \u5fc5\u987b\u8fdb\u884c\u6388\u6743\u624d\u80fd\u591f\u8bbf\u95ee 3. <pre><code>[root@controlller ~]# (curl -i   -H \"Content-Type: application/json\"   -d '\n{ \"auth\": {\n    \"identity\": {\n      \"methods\": [\"password\"],\n      \"password\": {\n        \"user\": {\n          \"name\": \"admin\",\n          \"domain\": { \"id\": \"default\" },\n          \"password\": \"admin123\"\n        }\n      }\n    },\n    \"scope\": {\n      \"project\": {\n        \"name\": \"admin\",\n        \"domain\": { \"id\": \"default\" }\n      }\n    }\n  }\n}'   \"http://localhost:5000/v3/auth/tokens\"; ) |grep \"^X-Subject-Token:\" | awk '{print $2}'\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  1562  100  1220  100   342   1782    499 --:--:-- --:--:-- --:--:--  1781\ngAAAAABdp1hb1YC1jTtenOq7YnQZfdSOd478_Y1wWBil4_Wa6i4VCD4b8JP_b9PVYSt8uATRMbs2Gcjg2GBvyb-abHlrgOrO3H8IxiS20az1sy7LOBkMuiUmWZHHzhusRFJ4kZe4vnCZU0JmiC-E7ksiMZoIn2D2hmcCfz2XJcvDIBGqjz2Ys0k\n</code></pre> #### 3.5.3\u4f7f\u7528\u5ba2\u6237\u7aef\u83b7\u53d6 1. restclient firefox\u63d2\u4ef6 <p></p> <p></p> <p></p> <p></p> <p></p> <p>\u5907\u6ce8\uff1a\u5982\u679c\u51fa\u73b0\u4e0d\u53ef\u4ee5\u8bbf\u95ee\u73b0\u8c61\uff0c\u8bf7\u5728\u63a7\u5236\u8282\u70b9\u4e0a\u6267\u884c\uff1aiptables -F</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#glance","title":"Glance\u670d\u52a1:","text":"<p>\u5728\u5b89\u88c5\u548c\u914d\u7f6e\u5c55\u793a\u4f4d\u7f6e\u670d\u52a1\u4e4b\u524d\uff0c\u5fc5\u987b\u521b\u5efa\u6570\u636e\u5e93\uff0c\u670d\u52a1\u51ed\u8bc1\u548cAPI\u7aef\u70b9\u3002</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#1_1","title":"1. \u521b\u5efa\u6570\u636e\u5e93","text":"<ol> <li>\u4ee5<code>root</code>\u767b\u9646\u6570\u636e\u5e93\uff1a</li> </ol> <pre><code>mysql -u root -p\n</code></pre> <ol> <li>\u521b\u5efa<code>glance</code>\u6570\u636e\u5e93 \uff1a</li> </ol> <pre><code>MariaDB [(none)]&gt; CREATE DATABASE glance;\n</code></pre> <ol> <li>\u6388\u4e88\u5bf9glance\u6570\u636e\u5e93\u7684\u9002\u5f53\u8bbf\u95ee\u6743\u9650\uff1a</li> </ol> <p>\u6ce8\u610f\uff1a<code>GLANCE_DBPASS</code>\u66ff\u6362\u6210\u81ea\u5df1\u7684<code>glance</code>\u5bc6\u7801</p> <pre><code>MariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON glance.* TO 'glance'@'localhost' \\\n  IDENTIFIED BY 'GLANCE_DBPASS';\nMariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON glance.* TO 'glance'@'%' \\\n  IDENTIFIED BY 'GLANCE_DBPASS';\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#2-admincli","title":"2. \u6765\u6e90admin\u51ed\u636e\u6765\u8bbf\u95ee\u4ec5\u7ba1\u7406\u5458CLI\u547d\u4ee4\uff1a","text":"<pre><code>source ./keystone-admin\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#3_1","title":"3.\u521b\u5efa\u670d\u52a1\u51ed\u8bc1\uff1a","text":"<ol> <li>\u521b\u5efaglance\u7528\u6237\uff1a</li> </ol> <p>\u6ce8\u610f\uff1a<code>User Password</code>\u5c31\u662fglance\u7684password</p> <pre><code> root@controlller ~]$ openstack user create \u2010\u2010description \"glance user\" glance\n No password was supplied, authentication will fail when a user does not have a password.\n +\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010+\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010+\n | Field               | Value                            |\n +\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010+\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010+\n | description         | glance user                      |\n | domain_id           | default                          |\n | enabled             | True                             |\n | id                  | 20f7c58057a248289ad71104d5f03abf |\n | name                | glance                           |\n | options             | {}                               |\n | password_expires_at | None                             |\n +\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010+\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010\u2010+\n [root@controlller ~]$ openstack user set \u2010\u2010password\u2010prompt glance\n User Password:\n Repeat User Password:\n</code></pre> <ol> <li>\u5c06<code>admin</code>\u89d2\u8272\u6dfb\u52a0\u5230<code>glance</code>\u7528\u6237\u548c <code>service</code>\u9879\u76ee\uff1a</li> </ol> <pre><code>openstack role add --project service --user glance admin\n</code></pre> <ol> <li>\u521b\u5efa<code>glance</code>\u670d\u52a1\u5b9e\u4f53\uff1a</li> </ol> <pre><code>openstack service create --name glance --description \"OpenStack Image\" image\n\n+-------------+----------------------------------+\n| Field       | Value                            |\n+-------------+----------------------------------+\n| description | OpenStack Image                  |\n| enabled     | True                             |\n| id          | 8c2c7f1b9b5049ea9e63757b5533e6d2 |\n| name        | glance                           |\n| type        | image                            |\n+-------------+----------------------------------+\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#4-api","title":"4. \u521b\u5efa\u56fe\u50cf\u670d\u52a1API\u7aef\u70b9\uff1a","text":"<ol> <li>\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a</li> </ol> <pre><code>$ openstack endpoint create --region RegionOne \\\n  image public http://controller:9292\n\n+--------------+----------------------------------+\n| Field        | Value                            |\n+--------------+----------------------------------+\n| enabled      | True                             |\n| id           | 340be3625e9b4239a6415d034e98aace |\n| interface    | public                           |\n| region       | RegionOne                        |\n| region_id    | RegionOne                        |\n| service_id   | 8c2c7f1b9b5049ea9e63757b5533e6d2 |\n| service_name | glance                           |\n| service_type | image                            |\n| url          | http://controller:9292           |\n+--------------+----------------------------------+\n\n$ openstack endpoint create --region RegionOne \\\n  image internal http://controller:9292\n\n+--------------+----------------------------------+\n| Field        | Value                            |\n+--------------+----------------------------------+\n| enabled      | True                             |\n| id           | a6e4b153c2ae4c919eccfdbb7dceb5d2 |\n| interface    | internal                         |\n| region       | RegionOne                        |\n| region_id    | RegionOne                        |\n| service_id   | 8c2c7f1b9b5049ea9e63757b5533e6d2 |\n| service_name | glance                           |\n| service_type | image                            |\n| url          | http://controller:9292           |\n+--------------+----------------------------------+\n\n$ openstack endpoint create --region RegionOne \\\n  image admin http://controller:9292\n\n+--------------+----------------------------------+\n| Field        | Value                            |\n+--------------+----------------------------------+\n| enabled      | True                             |\n| id           | 0c37ed58103f4300a84ff125a539032d |\n| interface    | admin                            |\n| region       | RegionOne                        |\n| region_id    | RegionOne                        |\n| service_id   | 8c2c7f1b9b5049ea9e63757b5533e6d2 |\n| service_name | glance                           |\n| service_type | image                            |\n| url          | http://controller:9292           |\n+--------------+----------------------------------+\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_1","title":"\u5b89\u88c5\u548c\u914d\u7f6e\u90e8\u4efd","text":""},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#1_2","title":"1.  \u5b89\u88c5\u8f6f\u4ef6\u5305\uff1a","text":"<pre><code> yum install openstack-glance\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#2-etcglanceglance-apiconf","title":"2. \u7f16\u8f91<code>/etc/glance/glance-api.conf</code>\uff1a","text":"<ul> <li>\u5728\u8be5<code>[database]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u6570\u636e\u5e93\u8bbf\u95ee</li> </ul> <pre><code>[database]\n# ...\nconnection = mysql+pymysql://glance:GLANCE_DBPASS@controller/glance\n</code></pre> <p>\u6ce8\u610f\uff1a\u66ff\u6362<code>GLANCE_DBPASS</code>\u4e3a\u81ea\u5df1<code>glance</code>\u7684\u5bc6\u7801</p> <ul> <li>\u5728<code>[keystone_authtoken]</code>\u548c<code>[paste_deploy]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u8eab\u4efd\u670d\u52a1\u8bbf\u95ee\uff1a</li> </ul> <pre><code>[keystone_authtoken]\n# ...\nwww_authenticate_uri  = http://controller:5000\nauth_url = http://controller:5000\nmemcached_servers = controller:11211\nauth_type = password\nproject_domain_name = Default\nuser_domain_name = Default\nproject_name = service\nusername = glance\npassword = GLANCE_PASS\n\n[paste_deploy]\n# ...\nflavor = keystone\n</code></pre> <p>\u6ce8\u610f\uff1a\u66ff\u6362<code>GLANCE_PASS</code>\u4e3a\u81ea\u5df1<code>glance</code>\u7684\u5bc6\u7801</p> <ul> <li>\u5728\u8be5<code>[glance_store]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u5b58\u50a8\u548c\u56fe\u50cf\u6587\u4ef6\u7684\u4f4d\u7f6e\uff1a</li> </ul> <pre><code>[glance_store]\n# ...\nstores = file,http\ndefault_store = file\nfilesystem_store_datadir = /var/lib/glance/images/\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#3-etcglanceglance-registryconf","title":"3. \u7f16\u8f91<code>/etc/glance/glance-registry.conf</code>\uff1a","text":"<ul> <li>\u5728\u8be5<code>[database]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u6570\u636e\u5e93\u8bbf\u95ee\uff1a</li> </ul> <p>\u6ce8\u610f\uff1a\u66ff\u6362<code>GLANCE_DBPASS</code>\u4e3a\u81ea\u5df1<code>glance</code>\u7684\u5bc6\u7801</p> <pre><code>[database]\n# ...\nconnection = mysql+pymysql://glance:GLANCE_DBPASS@controller/glance\n</code></pre> <ul> <li>\u5728<code>[keystone_authtoken]</code>\u548c<code>[paste_deploy]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u8eab\u4efd\u670d\u52a1\u8bbf\u95ee\uff1a</li> </ul> <p>\u6ce8\u610f\uff1a\u66ff\u6362<code>GLANCE_PASS</code>\u4e3a\u81ea\u5df1<code>glance</code>\u7684\u5bc6\u7801</p> <pre><code>[keystone_authtoken]\n# ...\nwww_authenticate_uri = http://controller:5000\nauth_url = http://controller:5000\nmemcached_servers = controller:11211\nauth_type = password\nproject_domain_name = Default\nuser_domain_name = Default\nproject_name = service\nusername = glance\npassword = GLANCE_PASS\n\n[paste_deploy]\n# ...\nflavor = keystone\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#4-glance","title":"4. \u540c\u6b65glance\u6570\u636e\u5e93","text":"<pre><code>su -s /bin/sh -c \"glance-manage db_sync\" glance\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#5","title":"5. \u5b8c\u6210\u5b89\u88c5","text":"<ul> <li>\u8bbe\u7f6e\u5f00\u673a\u81ea\u52a8\u542f\u52a8\uff0c\u5e76\u542f\u52a8glance</li> </ul> <pre><code>$ systemctl enable openstack-glance-api.service \\\n  openstack-glance-registry.service\n$ systemctl start openstack-glance-api.service \\\n  openstack-glance-registry.service\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_2","title":"\u9a8c\u8bc1","text":"<ol> <li>\u67e5\u770b9292\u7aef\u53e3\u662f\u5426\u53ef\u7528</li> </ol> <pre><code>[root@controller ~]$ ss -ntl | grep 9292\nLISTEN     0      128          *:9292                     *:*  \n</code></pre> <ol> <li>\u6765\u6e90<code>admin</code>\u51ed\u636e\u6765\u8bbf\u95ee\u4ec5\u7ba1\u7406\u5458CLI\u547d\u4ee4\uff1a</li> </ol> <pre><code>[root@controller ~]$ source keystone_admin\n</code></pre> <ol> <li>\u4e0a\u4f20\u955c\u50cf\uff1a</li> </ol> <pre><code>[root@controller ~]$ openstack image create \"cirros\" \\\n&gt; --file /root/images/cirros-0.4.0-x86_64-disk.img \\\n&gt; --disk-format qcow2 --container-format bare \\\n&gt; --public\n\n+------------------+------------------------------------------------------+\n| Field            | Value                                                |\n+------------------+------------------------------------------------------+\n| checksum         | 133eae9fb1c98f45894a4e60d8736619                     |\n| container_format | bare                                                 |\n| created_at       | 2015-03-26T16:52:10Z                                 |\n| disk_format      | qcow2                                                |\n| file             | /v2/images/cc5c6982-4910-471e-b864-1098015901b5/file |\n| id               | cc5c6982-4910-471e-b864-1098015901b5                 |\n| min_disk         | 0                                                    |\n| min_ram          | 0                                                    |\n| name             | cirros                                               |\n| owner            | ae7a98326b9c455588edd2656d723b9d                     |\n| protected        | False                                                |\n| schema           | /v2/schemas/image                                    |\n| size             | 13200896                                             |\n| status           | active                                               |\n| tags             |                                                      |\n| updated_at       | 2015-03-26T16:52:10Z                                 |\n| virtual_size     | None                                                 |\n| visibility       | public                                               |\n+------------------+------------------------------------------------------+\n</code></pre> <ol> <li>\u786e\u8ba4\u4e0a\u4f20\u5e76\u9a8c\u8bc1\u5c5e\u6027\uff1a</li> </ol> <pre><code>[root@controller ~]$ openstack image list\n+--------------------------------------+--------+--------+\n| ID                                   | Name   | Status |\n+------------------------------------a--+--------+--------+\n| 60c19af9-3980-4c23-b851-df8900d117f4 | cirros | active |\n+--------------------------------------+--------+--------+\n</code></pre> <p># Placement\u670d\u52a1:</p> <p>\u5728\u5b89\u88c5\u548c\u914d\u7f6e\u5c55\u793a\u4f4d\u7f6e\u670d\u52a1\u4e4b\u524d\uff0c\u5fc5\u987b\u521b\u5efa\u6570\u636e\u5e93\uff0c\u670d\u52a1\u51ed\u8bc1\u548cAPI\u7aef\u70b9\u3002</p> <p>#### 1. \u521b\u5efa\u6570\u636e\u5e93</p> <ol> <li> <p>\u767b\u9646\u6570\u636e\u5e93\uff1a</p> <pre><code>[root@controller ~]$ mysql -u root -p\n</code></pre> </li> <li> <p>\u521b\u5efaplacement\u6570\u636e\u5e93\uff1a</p> <pre><code>MariaDB [(none)]&gt; CREATE DATABASE placement;shell\n</code></pre> </li> <li> <p>\u6388\u4e88\u8bbf\u95ee\u9002\u5f53\u7684\u6743\u9650\uff1a </p> <p>\u6ce8\u610f\uff1a PLACEMENT_DBPASS\uff1a \u4f7f\u7528\u81ea\u5df1\u7684placement\u5bc6\u7801</p> <pre><code>MariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON placement.* TO 'placement'@'localhost' \\\n  IDENTIFIED BY 'PLACEMENT_DBPASS';\nMariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON placement.* TO 'placement'@'%' \\\n  IDENTIFIED BY 'PLACEMENT_DBPASS';\n</code></pre> </li> </ol> <p>#### 2. \u914d\u7f6e\u7528\u6237\u548c\u7aef\u70b9</p> <ol> <li> <p>\u52a0\u8f7dadmin\u51ed\u636e\u6765\u8bbf\u95ee\u4ec5\u7ba1\u7406\u5458CLI\u547d\u4ee4\uff1a</p> <pre><code>[root@controller ~]$ source keystone_admin\n</code></pre> </li> <li> <p>\u521b\u5efaplacement \u7684user\uff1a</p> <pre><code>[root@controller ~]$ openstack user create --domain default --password-prompt placement\nUser Password:\nRepeat User Password:\n+---------------------+----------------------------------+\n| Field               | Value                            |\n+---------------------+----------------------------------+\n| domain_id           | default                          |\n| enabled             | True                             |\n| id                  | 54682aec469741c09d93f717bd5a34cf |\n| name                | placement                        |\n| options             | {}                               |\n| password_expires_at | None                             |\n+---------------------+----------------------------------+\n</code></pre> </li> <li> <p>\u5c06placement\u7528\u6237\u6dfb\u52a0\u5230\u670d\u52a1\u5668\u9879\u76ee\u7ec4\u4e2d\uff1a</p> <pre><code>[root@controller ~]$ openstack role add --project service --user placement admin\n</code></pre> </li> <li> <p>\u5728\u670d\u52a1\u76ee\u5f55\u4e2d\u521b\u5efaplacement API\u9879\u76ee\uff1a</p> <pre><code>[root@controller ~]# openstack service create --name placement --description \"Placement API\" placement\n+-------------+----------------------------------+\n| Field       | Value                            |\n+-------------+----------------------------------+\n| description | Placement API                    |\n| enabled     | True                             |\n| id          | d2b846e769bb4fd291b4664c88cb4bb4 |\n| name        | placement                        |\n| type        | placement                        |\n+-------------+----------------------------------+\n</code></pre> </li> <li> <p>\u521b\u5efaPlacement API\u670d\u52a1\u7aef\u70b9\uff1a</p> <p>\u6ce8\u610f\uff1a \u6839\u636e\u60a8\u7684\u73af\u5883\uff0c\u7ec8\u7ed3\u70b9\u7684URL\u5c06\u6839\u636e\u7aef\u53e3\uff08\u53ef\u80fd\u662f8780\u800c\u4e0d\u662f8778\uff0c\u6216\u6839\u672c\u6ca1\u6709\u7aef\u53e3\uff09\u548c\u4e3b\u673a\u540d\u800c\u6709\u6240\u4e0d\u540c\u3002\u60a8\u6709\u8d23\u4efb\u786e\u5b9a\u6b63\u786e\u7684URL\u3002</p> <pre><code>[root@controller ~]# openstack endpoint create --region RegionOne \\\n  placement public http://controller:8778\n\n+--------------+----------------------------------+\n| Field        | Value                            |\n+--------------+----------------------------------+\n| enabled      | True                             |\n| id           | 2b1b2637908b4137a9c2e0470487cbc0 |\n| interface    | public                           |\n| region       | RegionOne                        |\n| region_id    | RegionOne                        |\n| service_id   | 2d1a27022e6e4185b86adac4444c495f |\n| service_name | placement                        |\n| service_type | placement                        |\n| url          | http://controller:8778           |\n+--------------+----------------------------------+\n\n$ openstack endpoint create --region RegionOne \\\n  placement internal http://controller:8778\n\n+--------------+----------------------------------+\n| Field        | Value                            |\n+--------------+----------------------------------+\n| enabled      | True                             |\n| id           | 02bcda9a150a4bd7993ff4879df971ab |\n| interface    | internal                         |\n| region       | RegionOne                        |\n| region_id    | RegionOne                        |\n| service_id   | 2d1a27022e6e4185b86adac4444c495f |\n| service_name | placement                        |\n| service_type | placement                        |\n| url          | http://controller:8778           |\n+--------------+----------------------------------+\n\n$ openstack endpoint create --region RegionOne \\\n  placement admin http://controller:8778\n\n+--------------+----------------------------------+\n| Field        | Value                            |\n+--------------+----------------------------------+\n| enabled      | True                             |\n| id           | 3d71177b9e0f406f98cbff198d74b182 |\n| interface    | admin                            |\n| region       | RegionOne                        |\n| region_id    | RegionOne                        |\n| service_id   | 2d1a27022e6e4185b86adac4444c495f |\n| service_name | placement                        |\n| service_type | placement                        |\n| url          | http://controller:8778           |\n+--------------+----------------------------------+\n</code></pre> </li> </ol> <p>#### 3. \u5b89\u88c5\u548c\u914d\u7f6e\u90e8\u4ef6</p> <ol> <li> <p>\u5b89\u88c5\u8f6f\u4ef6\u5305\uff1a</p> <pre><code>yum install openstack-placement-api\n</code></pre> </li> <li> <p>\u7f16\u8f91<code>/etc/placement/placement.conf</code>\u6587\u4ef6\u5e76\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <ul> <li> <p>\u5728\u8be5<code>[placement_database]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u6570\u636e\u5e93\u8bbf\u95ee\uff1a</p> <pre><code>[placement_database]\n# ...\nconnection = mysql+pymysql://placement:PLACEMENT_DBPASS@controller/placement\n</code></pre> <p>\u6ce8\u610f\uff1a PLACEMENT_DBPASS \u4f7f\u7528\u81ea\u5df1\u7684placement\u5bc6\u7801</p> </li> <li> <p>\u5728<code>[api]</code>\u548c<code>[keystone_authtoken]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u8eab\u4efd\u670d\u52a1\u8bbf\u95ee\uff1a</p> <pre><code>[api]\n# ...\nauth_strategy = keystone\n\n[keystone_authtoken]\n# ...\nauth_url = http://controller:5000/v3\nmemcached_servers = controller:11211\nauth_type = password\nproject_domain_name = Default\nuser_domain_name = Default\nproject_name = service\nusername = placement\npassword = PLACEMENT_PASS\n</code></pre> <p>\u6ce8\u610f\uff1aPLACEMENT_PASS\u7528\u81ea\u5df1\u7684placement\u5bc6\u7801</p> </li> </ul> </li> <li> <p>\u540c\u6b65placement\u6570\u636e\u5e93\uff1a</p> <pre><code>su -s /bin/sh -c \"placement-manage db sync\" placement\n</code></pre> </li> </ol> <p>#### 4.\u5b8c\u6210\u5b89\u88c5</p> <ol> <li> <p>\u91cd\u542f<code>httpd</code>\u670d\u52a1</p> <pre><code>systemctl restart httpd\n</code></pre> </li> </ol> <p>#### 5. \u9a8c\u8bc1</p> <ol> <li> <p>\u6765\u6e90<code>admin</code>\u51ed\u636e\u6765\u8bbf\u95ee\u4ec5\u7ba1\u7406\u5458CLI\u547d\u4ee4\uff1a</p> <pre><code>$ . admin-openrc\n</code></pre> </li> <li> <p>\u6267\u884c\u72b6\u6001\u68c0\u67e5\u4ee5\u786e\u4fdd\u4e00\u5207\u6b63\u5e38\uff1a</p> <pre><code>$ placement-status upgrade check\n+----------------------------------+\n| Upgrade Check Results            |\n+----------------------------------+\n| Check: Missing Root Provider IDs |\n| Result: Success                  |\n| Details: None                    |\n+----------------------------------+\n| Check: Incomplete Consumers      |\n| Result: Success                  |\n| Details: None                    |\n+----------------------------------+\n</code></pre> </li> <li> <p>\u6267\u884c\u72b6\u6001\u68c0\u67e5\u4ee5\u786e\u4fdd\u4e00\u5207\u6b63\u5e38\uff1a</p> <pre><code>1. 1. $ placement-status upgrade check\n      +----------------------------------+\n      | Upgrade Check Results         |\n      +----------------------------------+\n      | Check: Missing Root Provider IDs |\n      | Result: Success             |\n      | Details: None              |\n      +----------------------------------+\n      | Check: Incomplete Consumers     |\n      | Result: Success             |\n      | Details: None              |\n      +----------------------------------+|\n</code></pre> </li> </ol>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#nova","title":"nova\u670d\u52a1","text":""},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#nova_1","title":"nova\u670d\u52a1\u63a7\u5236\u8282\u70b9","text":"<p>\u5728\u5b89\u88c5\u548c\u914d\u7f6eCompute\u670d\u52a1\u4e4b\u524d\uff0c\u5fc5\u987b\u521b\u5efa\u6570\u636e\u5e93\uff0c\u670d\u52a1\u51ed\u8bc1\u548cAPI\u7aef\u70b9\u3002</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#1_3","title":"1. \u521b\u5efa\u6570\u636e\u5e93","text":"<ul> <li>\u8fdb\u5165\u6570\u636e\u5e93</li> </ul> <pre><code>$ mysql -uroot -p\n</code></pre> <ul> <li>\u521b\u5efa<code>nova_api</code>\uff0c<code>nova</code>\u548c<code>nova_cell0</code>\u6570\u636e\u5e93\uff1a</li> </ul> <pre><code>MariaDB [(none)]&gt; CREATE DATABASE nova_api;\nMariaDB [(none)]&gt; CREATE DATABASE nova;\nMariaDB [(none)]&gt; CREATE DATABASE nova_cell0;\n</code></pre> <ul> <li>\u6388\u4e88\u5bf9\u6570\u636e\u5e93\u7684\u8bbf\u95ee\u6743\u9650\uff1a</li> </ul> <pre><code>MariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON nova_api.* TO 'nova'@'localhost' \\\n  IDENTIFIED BY 'NOVA_DBPASS';\nMariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON nova_api.* TO 'nova'@'%' \\\n  IDENTIFIED BY 'NOVA_DBPASS';\n\nMariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON nova.* TO 'nova'@'localhost' \\\n  IDENTIFIED BY 'NOVA_DBPASS';\nMariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON nova.* TO 'nova'@'%' \\\n  IDENTIFIED BY 'NOVA_DBPASS';\n\nMariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON nova_cell0.* TO 'nova'@'localhost' \\\n  IDENTIFIED BY 'NOVA_DBPASS';\nMariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON nova_cell0.* TO 'nova'@'%' \\\n  IDENTIFIED BY 'NOVA_DBPASS';\n</code></pre> <p>\u6ce8\u610f\uff1a NOVA_DBPASS\u4f7f\u7528\u81ea\u5df1\u7684nova\u6570\u636e\u5e93\u5bc6\u7801</p> <ul> <li>\u9000\u51fa\u6570\u636e\u5e93</li> </ul>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#2_1","title":"2. \u52a0\u8f7d\u7ba1\u7406\u5458\u6743\u9650\uff1a","text":"<pre><code>$ . keystone_admin\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#3_2","title":"3. \u521b\u5efa\u8ba1\u7b97\u670d\u52a1\u51ed\u636e","text":"<ul> <li>\u521b\u5efanova\u7528\u6237\uff1a</li> </ul> <pre><code>$  openstack user create --domain default --password-prompt nova\n\nUser Password:\nRepeat User Password:\n+---------------------+----------------------------------+\n| Field               | Value               |\n+---------------------+----------------------------------+\n| domain_id           | default               |\n| enabled            | True                |\n| id                | 8a7dbf5279404537b1c7b86c033620fe |\n| name               | nova                   |\n| options             | {}                  |\n| password_expires_at | None                    |\n+---------------------+----------------------------------+\n</code></pre> <ul> <li>\u628anova\u6dfb\u52a0\u5230admin\u4e2d\uff1a </li> </ul> <pre><code>$ openstack role add --project service --user nova admin\n</code></pre> <ul> <li>\u521b\u5efanova\u670d\u52a1\uff1a</li> </ul> <pre><code>$ openstack service create --name nova \\\n  --description \"OpenStack Compute\" compute\n\n+-------------+----------------------------------+\n| Field       | Value                 |\n+-------------+----------------------------------+\n| description | OpenStack Compute           |\n| enabled    | True                    |\n| id       | 060d59eac51b4594815603d75a00aba2 |\n| name      | nova                    |\n| type      | compute                  |\n+-------------+----------------------------------+\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#4-computer-api","title":"4. \u521b\u5efaComputer API\u670d\u52a1\u7aef\u70b9\uff1a","text":"<pre><code>$ openstack endpoint create --region RegionOne \\\n  compute public http://controller:8774/v2.1\n\n+--------------+-------------------------------------------+\n| Field        | Value                                     |\n+--------------+-------------------------------------------+\n| enabled    | True                                      |\n| id        | 3c1caa473bfe4390a11e7177894bcc7b          |\n| interface    | public                                    |\n| region       | RegionOne                                 |\n| region_id    | RegionOne                                 |\n| service_id   | 060d59eac51b4594815603d75a00aba2          |\n| service_name | nova                                      |\n| service_type | compute                                   |\n| url          | http://controller:8774/v2.1               |\n+--------------+-------------------------------------------+\n\n$ openstack endpoint create --region RegionOne \\\n  compute internal http://controller:8774/v2.1\n\n+--------------+-------------------------------------------+\n| Field        | Value                                     |\n+--------------+-------------------------------------------+\n| enabled      | True                                      |\n| id           | e3c918de680746a586eac1f2d9bc10ab          |\n| interface    | internal                                  |\n| region       | RegionOne                                 |\n| region_id    | RegionOne                                 |\n| service_id   | 060d59eac51b4594815603d75a00aba2          |\n| service_name | nova                                      |\n| service_type | compute                                   |\n| url          | http://controller:8774/v2.1               |\n+--------------+-------------------------------------------+\n\n$ openstack endpoint create --region RegionOne \\\n  compute admin http://controller:8774/v2.1\n\n+--------------+-------------------------------------------+\n| Field        | Value                                     |\n+--------------+-------------------------------------------+\n| enabled      | True                                      |\n| id           | 38f7af91666a47cfb97b4dc790b94424          |\n| interface    | admin                                     |\n| region       | RegionOne                                 |\n| region_id    | RegionOne                                 |\n| service_id   | 060d59eac51b4594815603d75a00aba2          |\n| service_name | nova                                      |\n| service_type | compute                                   |\n| url          | http://controller:8774/v2.1               |\n+--------------+-------------------------------------------+\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#1_4","title":"1. \u5b89\u88c5\u8f6f\u4ef6\u5305","text":"<pre><code>$ yum install openstack-nova-api openstack-nova-conductor \\\n  openstack-nova-novncproxy openstack-nova-scheduler\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#2etcnovanovaconf","title":"2.\u914d\u7f6e<code>/etc/nova/nova.conf</code>\u6587\u4ef6\u5e76\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c:","text":"<ul> <li>\u5728<code>[DEFAULT]</code>\u90e8\u5206\u4e2d\uff0c\u4ec5\u542f\u7528\u8ba1\u7b97\u548c\u5143\u6570\u636eAPI\uff1a</li> </ul> <pre><code>[DEFAULT]\nenabled_apis = osapi_compute,metadata\n</code></pre> <ul> <li>\u5728<code>[api_database]</code>\u548c<code>[database]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u6570\u636e\u5e93\u8bbf\u95ee\u6743\u9650\uff1a</li> </ul> <pre><code>[api_database]\nconnection = mysql+pymysql://nova:NOVA_DBPASS@controller/nova_api\n</code></pre> <p>\u66ff\u6362<code>NOVA_DBPASS</code>\u4e3a\u60a8\u4e3aCompute\u6570\u636e\u5e93\u9009\u62e9\u7684\u5bc6\u7801\u3002</p> <ul> <li>\u5728\u8be5<code>[DEFAULT]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e<code>RabbitMQ</code>\u6d88\u606f\u961f\u5217\u8bbf\u95ee\uff1a</li> </ul> <pre><code>transport_url = rabbit://openstack:RABBIT_PASS@controller\n</code></pre> <p>\u66ff\u6362<code>RABBIT_PASS</code>\u4e3a\u60a8\u5728\u4e2d\u4e3a<code>openstack</code> \u5e10\u6237\u9009\u62e9\u7684\u5bc6\u7801<code>RabbitMQ</code>\u3002</p> <ul> <li>\u5728<code>[api]</code>\u548c<code>[keystone_authtoken]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u8eab\u4efd\u670d\u52a1\u8bbf\u95ee\uff1a</li> </ul> <pre><code>[api]\nauth_strategy = keystone\n\n[keystone_authtoken]\n# ...\nauth_url = http://controller:5000/v3\nmemcached_servers = controller:11211\nauth_type = password\nproject_domain_name = Default\nuser_domain_name = Default\nproject_name = service\nusername = nova\npassword = NOVA_PASS\n</code></pre> <p>\u66ff\u6362<code>NOVA_PASS</code>\u4e3a\u60a8<code>nova</code>\u5728\u8eab\u4efd\u670d\u52a1\u4e2d\u4e3a\u7528\u6237\u9009\u62e9\u7684\u5bc6\u7801\u3002</p> <p>\u6ce8\u610f</p> <p>\u6ce8\u91ca\u6389\u6216\u5220\u9664\u6b64<code>[keystone_authtoken]</code> \u90e8\u5206\u4e2d\u7684\u4efb\u4f55\u5176\u4ed6\u9009\u9879\u3002</p> <ul> <li>\u5728\u8be5<code>[DEFAULT]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e<code>my_ip</code>\u9009\u9879\u4ee5\u4f7f\u7528\u63a7\u5236\u5668\u8282\u70b9\u7684\u7ba1\u7406\u63a5\u53e3IP\u5730\u5740\uff1a</li> </ul> <pre><code>[DEFAULT]\n\nmy_ip = 192.168.10.17\n</code></pre> <ul> <li>\u5728\u672c<code>[DEFAULT]</code>\u8282\u4e2d\uff0c\u542f\u7528\u5bf9\u7f51\u7edc\u670d\u52a1\u7684\u652f\u6301\uff1a</li> </ul> <pre><code>[DEFAULT]\n\nuse_neutron = true\nfirewall_driver = nova.virt.firewall.NoopFirewallDriver\n</code></pre> <p>\u6ce8\u610f\uff1a</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cCompute\u4f7f\u7528\u5185\u90e8\u9632\u706b\u5899\u9a71\u52a8\u7a0b\u5e8f\u3002\u7531\u4e8e\u7f51\u7edc\u670d\u52a1\u5305\u542b\u9632\u706b\u5899\u9a71\u52a8\u7a0b\u5e8f\uff0c\u56e0\u6b64\u5fc5\u987b\u4f7f\u7528<code>nova.virt.firewall.NoopFirewallDriver</code>\u9632\u706b\u5899\u9a71\u52a8\u7a0b\u5e8f\u7981\u7528\u8ba1\u7b97\u9632\u706b\u5899\u9a71\u52a8 \u7a0b\u5e8f\u3002</p> <ul> <li>\u5728\u8be5<code>[vnc]</code>\u90e8\u5206\u4e2d\uff0c\u5c06VNC\u4ee3\u7406\u914d\u7f6e\u4e3a\u4f7f\u7528\u63a7\u5236\u5668\u8282\u70b9\u7684\u7ba1\u7406\u63a5\u53e3IP\u5730\u5740\uff1a</li> </ul> <pre><code>[vnc]\nenabled = true\n# ...\nserver_listen = $my_ip\nserver_proxyclient_address = $my_ip\n</code></pre> <ul> <li>\u5728\u8be5<code>[glance]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u56fe\u50cf\u670d\u52a1API\u7684\u4f4d\u7f6e\uff1a</li> </ul> <pre><code>[glance]\n# ...\napi_servers = http://controller:9292\n</code></pre> <ul> <li>\u5728\u8be5<code>[oslo_concurrency]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u9501\u5b9a\u8def\u5f84\uff1a</li> </ul> <pre><code>[oslo_concurrency]\n# ...\nlock_path = /var/lib/nova/tmp\n</code></pre> <ul> <li>\u5728\u8be5<code>[placement]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u5bf9\u5c55\u793a\u4f4d\u7f6e\u670d\u52a1\u7684\u8bbf\u95ee\u6743\u9650\uff1a</li> </ul> <pre><code>[placement]\n# ...\nregion_name = RegionOne\nproject_domain_name = Default\nproject_name = service\nauth_type = password\nuser_domain_name = Default\nauth_url = http://controller:5000/v3\nusername = placement\npassword = PLACEMENT_PASS\n</code></pre> <p>\u66ff\u6362<code>PLACEMENT_PASS</code>\u4e3a\u60a8\u4e3a<code>placement</code>\u5b89\u88c5Placement\u65f6\u521b\u5efa\u7684\u670d\u52a1\u7528\u6237 \u9009\u62e9\u7684\u5bc6\u7801 \u3002\u6ce8\u91ca\u6389\u6216\u5220\u9664\u6b64<code>[placement]</code>\u90e8\u5206\u4e2d\u7684\u4efb\u4f55\u5176\u4ed6\u9009\u9879\u3002</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#3-nova-api","title":"3. \u586b\u5145nova-api\u6570\u636e\u5e93\uff1a","text":"<pre><code>$  su -s /bin/sh -c \"nova-manage api_db sync\" nova\n</code></pre> <p>\u6ce8\u610f\uff1a</p> <p>\u5ffd\u7565\u6b64\u8f93\u51fa\u4e2d\u7684\u6240\u6709\u5f03\u7528\u6d88\u606f\u3002</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#4-cell0","title":"4. \u6ce8\u518ccell0\u6570\u636e\u5e93","text":"<pre><code>$ su -s /bin/sh -c \"nova-manage cell_v2 map_cell0\" nova\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#5cell1","title":"5.\u521b\u5efacell1\u5355\u5143\u683c\uff1a","text":"<pre><code>$ su -s /bin/sh -c \"nova-manage cell_v2 create_cell --name=cell1 --verbose\" nova\n109e1d4b-536a-40d0-83c6-5f121b82b650\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#6-nova","title":"6. \u586b\u5145nova\u6570\u636e\u5e93\uff1a","text":"<pre><code>$ su -s /bin/sh -c \"nova-manage db sync\" nova\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#7-nova-cell0cell1","title":"7. \u9a8c\u8bc1nova cell0\u548ccell1\u662f\u5426\u6b63\u786e\u6ce8\u518c\uff1a","text":"<pre><code>$ su -s /bin/sh -c \"nova-manage cell_v2 list_cells\" nova\n+-------+--------------------------------------+\n| Name  | UUID                                 |\n+-------+--------------------------------------+\n| cell1 | 109e1d4b-536a-40d0-83c6-5f121b82b650 |\n| cell0 | 00000000-0000-0000-0000-000000000000 |\n+-------+--------------------------------------+\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_3","title":"\u786e\u5b9a\u5b89\u88c5","text":"<ul> <li>\u542f\u52a8Compute\u670d\u52a1\u5e76\u5c06\u5176\u914d\u7f6e\u4e3a\u5728\u7cfb\u7edf\u542f\u52a8\u65f6\u542f\u52a8\uff1a</li> </ul> <pre><code>$ systemctl enable openstack-nova-api.service \\\n  openstack-nova-consoleauth openstack-nova-scheduler.service \\\n  openstack-nova-conductor.service openstack-nova-novncproxy.service\n\n$ systemctl start openstack-nova-api.service \\\n  openstack-nova-consoleauth openstack-nova-scheduler.service \\\n  openstack-nova-conductor.service openstack-nova-novncproxy.service\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#nova_2","title":"nova\u670d\u52a1\u8ba1\u7b97\u8282\u70b9","text":"<ol> <li>\u5b89\u88c5\u8f6f\u4ef6\u5305\uff1a</li> </ol> <pre><code># yum install openstack-nova-compute\n</code></pre> <ol> <li> <p>\u7f16\u8f91<code>/etc/nova/nova.conf</code>\u6587\u4ef6\u5e76\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> </li> <li> <p>\u5728\u6b64<code>[DEFAULT]</code>\u90e8\u5206\u4e2d\uff0c\u4ec5\u542f\u7528\u8ba1\u7b97\u548c\u5143\u6570\u636eAPI\uff1a</p> <pre><code>[DEFAULT]\n# ...\nenabled_apis = osapi_compute,metadata\n</code></pre> </li> <li> <p>\u5728\u8be5<code>[DEFAULT]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e<code>RabbitMQ</code>\u6d88\u606f\u961f\u5217\u8bbf\u95ee\uff1a</p> <pre><code>[DEFAULT]\n# ...\ntransport_url = rabbit://openstack:RABBIT_PASS@controller\n</code></pre> <p>\u66ff\u6362<code>RABBIT_PASS</code>\u4e3a\u60a8\u5728\u4e2d\u4e3a<code>openstack</code> \u5e10\u6237\u9009\u62e9\u7684\u5bc6\u7801<code>RabbitMQ</code>\u3002</p> </li> <li> <p>\u5728<code>[api]</code>\u548c<code>[keystone_authtoken]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u8eab\u4efd\u670d\u52a1\u8bbf\u95ee\uff1a</p> <pre><code>[api]\n# ...\nauth_strategy = keystone\n\n[keystone_authtoken]\n# ...\nauth_url = http://controller:5000/v3\nmemcached_servers = controller:11211\nauth_type = password\nproject_domain_name = Default\nuser_domain_name = Default\nproject_name = service\nusername = nova\npassword = NOVA_PASS\n</code></pre> <p>\u66ff\u6362<code>NOVA_PASS</code>\u4e3a\u60a8<code>nova</code>\u5728\u8eab\u4efd\u670d\u52a1\u4e2d\u4e3a\u7528\u6237\u9009\u62e9\u7684\u5bc6\u7801\u3002</p> <p>\u6ce8\u610f</p> <p>\u6ce8\u91ca\u6389\u6216\u5220\u9664\u6b64<code>[keystone_authtoken]</code> \u90e8\u5206\u4e2d\u7684\u4efb\u4f55\u5176\u4ed6\u9009\u9879\u3002</p> </li> <li> <p>\u5728\u8be5<code>[DEFAULT]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e<code>my_ip</code>\u9009\u9879\uff1a</p> <pre><code>[DEFAULT]\n# ...\nmy_ip = MANAGEMENT_INTERFACE_IP_ADDRESS\n</code></pre> <p>\u66ff\u6362<code>MANAGEMENT_INTERFACE_IP_ADDRESS</code>\u4e3a\u8ba1\u7b97\u8282\u70b9\u4e0a\u7ba1\u7406\u7f51\u7edc\u63a5\u53e3\u7684IP\u5730\u5740\u3002</p> </li> <li> <p>\u5728\u672c<code>[DEFAULT]</code>\u8282\u4e2d\uff0c\u542f\u7528\u5bf9\u7f51\u7edc\u670d\u52a1\u7684\u652f\u6301\uff1a</p> <pre><code>[DEFAULT]\n# ...\nuse_neutron = true\nfirewall_driver = nova.virt.firewall.NoopFirewallDriver\n</code></pre> <p>\u6ce8\u610f</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cCompute\u4f7f\u7528\u5185\u90e8\u9632\u706b\u5899\u670d\u52a1\u3002\u7531\u4e8e\u8054\u7f51\u5305\u542b\u9632\u706b\u5899\u670d\u52a1\uff0c\u56e0\u6b64\u5fc5\u987b\u4f7f\u7528<code>nova.virt.firewall.NoopFirewallDriver</code>\u9632\u706b\u5899\u9a71\u52a8\u7a0b\u5e8f\u7981\u7528\u8ba1\u7b97\u9632\u706b\u5899\u670d\u52a1\u3002</p> </li> <li> <p>\u5728\u8be5<code>[vnc]</code>\u90e8\u5206\u4e2d\uff0c\u542f\u7528\u548c\u914d\u7f6e\u8fdc\u7a0b\u63a7\u5236\u53f0\u8bbf\u95ee\uff1a</p> <pre><code>[vnc]\n# ...\nenabled = true\nserver_listen = 0.0.0.0\nserver_proxyclient_address = $my_ip\nnovncproxy_base_url = http://controller:6080/vnc_auto.html\n</code></pre> <p>\u670d\u52a1\u5668\u7ec4\u4ef6\u4fa6\u542c\u6240\u6709IP\u5730\u5740\uff0c\u4ee3\u7406\u7ec4\u4ef6\u4fa6\u542c\u6240\u6709\u8ba1\u7b97\u8282\u70b9\u7684\u7ba1\u7406\u63a5\u53e3IP\u5730\u5740\u3002\u57fa\u672cURL\u6307\u793a\u53ef\u4ee5\u4f7f\u7528Web\u6d4f\u89c8\u5668\u8bbf\u95ee\u6b64\u8ba1\u7b97\u8282\u70b9\u4e0a\u7684\u5b9e\u4f8b\u7684\u8fdc\u7a0b\u63a7\u5236\u53f0\u7684\u4f4d\u7f6e\u3002</p> <p>\u6ce8\u610f</p> <p>\u5982\u679c\u7528\u4e8e\u8bbf\u95ee\u8fdc\u7a0b\u63a7\u5236\u53f0\u7684Web\u6d4f\u89c8\u5668\u9a7b\u7559\u5728\u65e0\u6cd5\u89e3\u6790<code>controller</code>\u4e3b\u673a\u540d\u7684\u4e3b\u673a\u4e0a\uff0c\u5219\u5fc5\u987b\u66ff\u6362 <code>controller</code>\u4e3a\u63a7\u5236\u5668\u8282\u70b9\u7684\u7ba1\u7406\u63a5\u53e3IP\u5730\u5740\u3002</p> </li> <li> <p>\u5728\u8be5<code>[glance]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u56fe\u50cf\u670d\u52a1API\u7684\u4f4d\u7f6e\uff1a</p> <pre><code>[glance]\n# ...\napi_servers = http://controller:9292\n</code></pre> </li> <li> <p>\u5728\u8be5<code>[oslo_concurrency]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u9501\u5b9a\u8def\u5f84\uff1a</p> <pre><code>[oslo_concurrency]\n# ...\nlock_path = /var/lib/nova/tmp\n</code></pre> </li> <li> <p>\u5728\u8be5<code>[placement]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6ePlacement API\uff1a</p> <pre><code>[placement]\n# ...\nregion_name = RegionOne\nproject_domain_name = Default\nproject_name = service\nauth_type = password\nuser_domain_name = Default\nauth_url = http://controller:5000/v3\nusername = placement\npassword = PLACEMENT_PASS\n</code></pre> <p>\u66ff\u6362<code>PLACEMENT_PASS</code>\u4e3a\u60a8<code>placement</code>\u5728\u8eab\u4efd\u670d\u52a1\u4e2d\u4e3a\u7528\u6237\u9009\u62e9\u7684\u5bc6\u7801 \u3002\u6ce8\u91ca\u6389\u8be5<code>[placement]</code>\u90e8\u5206\u4e2d\u7684\u6240\u6709\u5176\u4ed6\u9009\u9879\u3002</p> </li> </ol> <p>## \u6700\u7ec8\u786e\u5b9a\u5b89\u88c5</p> <ol> <li> <p>\u786e\u5b9a\u60a8\u7684\u8ba1\u7b97\u8282\u70b9\u662f\u5426\u652f\u6301\u865a\u62df\u673a\u7684\u786c\u4ef6\u52a0\u901f\uff1a</p> <pre><code>$ egrep -c '(vmx|svm)' /proc/cpuinfo\n</code></pre> <p>\u5982\u679c\u6b64\u547d\u4ee4\u8fd4\u56de\u503c\uff0c\u5219\u60a8\u7684\u8ba1\u7b97\u8282\u70b9\u652f\u6301\u786c\u4ef6\u52a0\u901f\uff0c\u901a\u5e38\u4e0d\u9700\u8981\u5176\u4ed6\u914d\u7f6e\u3002<code>one or greater</code></p> <p>\u5982\u679c\u6b64\u547d\u4ee4\u8fd4\u56de\u503c<code>zero</code>\uff0c\u5219\u60a8\u7684\u8ba1\u7b97\u8282\u70b9\u4e0d\u652f\u6301\u786c\u4ef6\u52a0\u901f\uff0c\u5e76\u4e14\u60a8\u5fc5\u987b\u914d\u7f6e<code>libvirt</code>\u4e3a\u4f7f\u7528QEMU\u800c\u4e0d\u662fKVM\u3002</p> </li> <li> <p>\u7f16\u8f91\u6587\u4ef6\u4e2d\u7684<code>[libvirt]</code>\u90e8\u5206\uff0c<code>/etc/nova/nova.conf</code>\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>[libvirt]\n# ...\nvirt_type = qemu\n</code></pre> </li> <li> <p>\u542f\u52a8Compute\u670d\u52a1\u53ca\u5176\u76f8\u5173\u6027\uff0c\u5e76\u5c06\u5176\u914d\u7f6e\u4e3a\u5728\u7cfb\u7edf\u542f\u52a8\u65f6\u81ea\u52a8\u542f\u52a8\uff1a</p> <pre><code>$ systemctl enable libvirtd.service openstack-nova-compute.service\n$ systemctl start libvirtd.service openstack-nova-compute.service \n</code></pre> </li> </ol> <p>\u6ce8\u610f</p> <p>\u5982\u679c<code>nova-compute</code>\u670d\u52a1\u65e0\u6cd5\u542f\u52a8\uff0c\u8bf7\u68c0\u67e5 <code>/var/log/nova/nova-compute.log</code>\u3002\u8be5\u9519\u8bef\u6d88\u606f\u53ef\u80fd\u8868\u660e\u63a7\u5236\u5668\u8282\u70b9\u4e0a\u7684\u9632\u706b\u5899\u963b\u6b62\u8bbf\u95ee\u7aef\u53e35672\u3002\u5c06\u9632\u706b\u5899\u914d\u7f6e\u4e3a\u6253\u5f00\u63a7\u5236\u5668\u8282\u70b9\u4e0a\u7684\u7aef\u53e35672\u5e76\u91cd\u65b0\u542f\u52a8 \u8ba1\u7b97\u8282\u70b9\u4e0a\u7684\u670d\u52a1\u3002<code>AMQP server on controller:5672 is unreachable``nova-compute</code></p> <p>## \u5c06\u8ba1\u7b97\u8282\u70b9\u6dfb\u52a0\u5230\u5355\u5143\u6570\u636e\u5e93\u4e2d</p> <p>\u91cd\u8981</p> <p>\u5728\u63a7\u5236\u8282\u70b9\u4e0a\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u3002</p> <ol> <li> <p>\u83b7\u53d6\u7ba1\u7406\u5458\u51ed\u636e\u4ee5\u542f\u7528\u4ec5\u7ba1\u7406\u5458\u7684CLI\u547d\u4ee4\uff0c\u7136\u540e\u786e\u8ba4\u6570\u636e\u5e93\u4e2d\u6709\u8ba1\u7b97\u4e3b\u673a\uff1a</p> <pre><code>$ . admin-openrc\n\n$ openstack compute service list --service nova-compute\n+----+-------+--------------+------+-------+---------+----------------------------+\n| ID | Host  | Binary       | Zone | State | Status  | Updated At                 |\n+----+-------+--------------+------+-------+---------+----------------------------+\n| 1  | node1 | nova-compute | nova | up    | enabled | 2017-04-14T15:30:44.000000 |\n+----+-------+--------------+------+-------+---------+----------------------------+\n</code></pre> </li> <li> <p>\u53d1\u73b0\u8ba1\u7b97\u4e3b\u673a\uff1a</p> <pre><code>$ su -s /bin/sh -c \"nova-manage cell_v2 discover_hosts --verbose\" nova\n\nFound 2 cell mappings.\nSkipping cell0 since it does not contain hosts.\nGetting compute nodes from cell 'cell1': ad5a5985-a719-4567-98d8-8d148aaae4bc\nFound 1 computes in cell: ad5a5985-a719-4567-98d8-8d148aaae4bc\nChecking host mapping for compute host 'compute': fe58ddc1-1d65-4f87-9456-bc040dc106b3\nCreating host mapping for compute host 'compute': fe58ddc1-1d65-4f87-9456-bc040dc106b3\n</code></pre> <p>\u6ce8\u610f</p> <p>\u6dfb\u52a0\u65b0\u7684\u8ba1\u7b97\u8282\u70b9\u65f6\uff0c\u5fc5\u987b\u5728\u63a7\u5236\u8282\u70b9\u4e0a\u8fd0\u884c\u4ee5\u6ce8\u518c\u8fd9\u4e9b\u65b0\u7684\u8ba1\u7b97\u8282\u70b9\u3002\u53e6\u5916\uff0c\u60a8\u53ef\u4ee5\u5728\u4e2d\u8bbe\u7f6e\u9002\u5f53\u7684\u65f6\u95f4\u95f4\u9694 \uff1a</p> <p><code>nova-manage cell_v2 discover_hosts``/etc/nova/nova.conf</code></p> <ul> <li> <p>\u7f16\u8f91<code>/etc/nova/nova.conf</code></p> <pre><code>[scheduler]\ndiscover_hosts_in_cells_interval = 300\n</code></pre> </li> </ul> </li> </ol>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#nova_3","title":"\u9a8c\u8bc1\u8ba1\u7b97nova\u670d\u52a1\u7684\u8fd0\u884c","text":"<p>\u6ce8\u610f\uff1a</p> <p>\u5728\u63a7\u5236\u8282\u70b9\u4e0a\u6267\u884c\u8fd9\u4e9b\u547d\u4ee4</p> <ol> <li>\u6765\u6e90<code>admin</code>\u51ed\u636e\u6765\u8bbf\u95ee\u4ec5\u7ba1\u7406\u5458CLI\u547d\u4ee4\uff1a</li> </ol> <pre><code>$ . admin-openrc\n</code></pre> <ol> <li>\u5217\u51fa\u670d\u52a1\u7ec4\u4ef6\u4ee5\u9a8c\u8bc1\u6bcf\u4e2a\u8fdb\u7a0b\u662f\u5426\u6210\u529f\u542f\u52a8\u548c\u6ce8\u518c\uff1a</li> </ol> <pre><code>$ openstack compute service list\n\n+----+--------------------+------------+----------+---------+-------+----------------------------+\n| Id | Binary             | Host       | Zone     | Status  | State | Updated At                 |\n+----+--------------------+------------+----------+---------+-------+----------------------------+\n|  1 | nova-scheduler     | controller | internal | enabled | up    | 2016-02-09T23:11:15.000000 |\n|  2 | nova-conductor     | controller | internal | enabled | up    | 2016-02-09T23:11:16.000000 |\n|  3 | nova-compute       | compute1   | nova     | enabled | up    | 2016-02-09T23:11:20.000000 |\n+----+--------------------+------------+----------+---------+-------+----------------------------+\n</code></pre> <p>\u6ce8\u610f\uff1a</p> <p>\u6b64\u8f93\u51fa\u5e94\u6307\u793a\u5728\u63a7\u5236\u5668\u8282\u70b9\u4e0a\u542f\u7528\u7684\u4e24\u4e2a\u670d\u52a1\u7ec4\u4ef6\u548c\u5728\u8ba1\u7b97\u8282\u70b9\u4e0a\u542f\u7528\u7684\u4e00\u4e2a\u670d\u52a1\u7ec4\u4ef6\u3002</p> <ol> <li>\u5217\u51fa\u8eab\u4efd\u670d\u52a1\u4e2d\u7684API\u7aef\u70b9\u4ee5\u9a8c\u8bc1\u4e0e\u8eab\u4efd\u670d\u52a1\u7684\u8fde\u63a5\u6027\uff1a</li> </ol> <p>\u6ce8\u610f\uff1a</p> <p>\u4ee5\u4e0b\u7aef\u70b9\u5217\u8868\u53ef\u80fd\u4f1a\u6709\u6240\u4e0d\u540c\uff0c\u5177\u4f53\u53d6\u51b3\u4e8eOpenStack\u7ec4\u4ef6\u7684\u5b89\u88c5\u3002</p> <pre><code>$ openstack catalog list\n\n+-----------+-----------+-----------------------------------------+\n| Name      | Type      | Endpoints                               |\n+-----------+-----------+-----------------------------------------+\n| keystone  | identity  | RegionOne                               |\n|           |           |   public: http://controller:5000/v3/    |\n|           |           | RegionOne                               |\n|           |           |   internal: http://controller:5000/v3/  |\n|           |           | RegionOne                               |\n|           |           |   admin: http://controller:5000/v3/     |\n|           |           |                                         |\n| glance    | image     | RegionOne                               |\n|           |           |   admin: http://controller:9292         |\n|           |           | RegionOne                               |\n|           |           |   public: http://controller:9292        |\n|           |           | RegionOne                               |\n|           |           |   internal: http://controller:9292      |\n|           |           |                                         |\n| nova      | compute   | RegionOne                               |\n|           |           |   admin: http://controller:8774/v2.1    |\n|           |           | RegionOne                               |\n|           |           |   internal: http://controller:8774/v2.1 |\n|           |           | RegionOne                               |\n|           |           |   public: http://controller:8774/v2.1   |\n|           |           |                                         |\n| placement | placement | RegionOne                               |\n|           |           |   public: http://controller:8778        |\n|           |           | RegionOne                               |\n|           |           |   admin: http://controller:8778         |\n|           |           | RegionOne                               |\n|           |           |   internal: http://controller:8778      |\n|           |           |                                         |\n+-----------+-----------+-----------------------------------------+\n</code></pre> <p>\u6ce8\u610f\uff1a</p> <p>\u5ffd\u7565\u6b64\u8f93\u51fa\u4e2d\u7684\u4efb\u4f55\u8b66\u544a\u3002</p> <ol> <li>\u5217\u51fa\u56fe\u50cf\u670d\u52a1\u4e2d\u7684\u56fe\u50cf\u4ee5\u9a8c\u8bc1\u4e0e\u56fe\u50cf\u670d\u52a1\u7684\u8fde\u63a5\u6027\uff1a</li> </ol> <pre><code>$ openstack image list\n\n+--------------------------------------+-------------+-------------+\n| ID                                   | Name        | Status      |\n+--------------------------------------+-------------+-------------+\n| 9a76d9f9-9620-4f2e-8c69-6c5691fae163 | cirros      | active      |\n+--------------------------------------+-------------+-------------+\n</code></pre> <ol> <li>\u68c0\u67e5\u5355\u5143\u683c\u548c\u5c55\u793a\u4f4d\u7f6eAPI\u662f\u5426\u6b63\u5e38\u8fd0\u884c\uff0c\u4ee5\u53ca\u5176\u4ed6\u5fc5\u8981\u7684\u524d\u63d0\u6761\u4ef6\u662f\u5426\u5230\u4f4d\uff1a</li> </ol> <pre><code>$ nova-status upgrade check\n\n+--------------------------------------------------------------------+\n| Upgrade Check Results                                              |\n+--------------------------------------------------------------------+\n| Check: Cells v2                                                    |\n| Result: Success                                                    |\n| Details: None                                                      |\n+--------------------------------------------------------------------+\n| Check: Placement API                                               |\n| Result: Success                                                    |\n| Details: None                                                      |\n+--------------------------------------------------------------------+\n| Check: Ironic Flavor Migration                                     |\n| Result: Success                                                    |\n| Details: None                                                      |\n+--------------------------------------------------------------------+\n| Check: Request Spec Migration                                      |\n| Result: Success                                                    |\n| Details: None                                                      |\n+--------------------------------------------------------------------+\n| Check: Console Auths                                               |\n| Result: Success                                                    |\n| Details: None                                                      |\n+--------------------------------------------------------------------+\n</code></pre> <p>\u6ce8\u610f\uff1a</p> <p>\u5982\u679c<code>nova-status upgrade check</code>\u51fa\u73b0403\u9519\u8bef\u5219\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\u53ef\u89e3\u51b3\uff1a</p> <ul> <li> <p>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6<code>/etc/httpd/conf.d/00-nova-placement-api.conf</code>\u5e76\u91cd\u542f`httpd</p> </li> <li> <pre><code>&lt;Directory /usr/bin&gt;\n    &lt;IfVersion &gt;= 2.4&gt;\n       Require all granted\n    &lt;/IfVersion&gt;\n    &lt;IfVersion &lt; 2.4&gt;\n       Order allow,deny\n       Allow from all\n    &lt;/IfVersion&gt;\n &lt;/Directory&gt;\n\n# \u91cd\u542f\n</code></pre> <pre><code> systemctl restart httpd\n</code></pre> </li> </ul>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#neutron","title":"Neutron\u670d\u52a1\u914d\u7f6e","text":""},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_4","title":"\u63a7\u5236\u8282\u70b9","text":""},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#1_5","title":"1.\u521b\u5efa\u6570\u636e\u5e93","text":"<ul> <li>\u4f7f\u7528\u6570\u636e\u5e93\u8bbf\u95ee\u5ba2\u6237\u7aef\u4ee5<code>root</code>\u7528\u6237\u8eab\u4efd\u8fde\u63a5\u5230\u6570\u636e\u5e93\u670d\u52a1\u5668\uff1a </li> </ul> <pre><code>$ mysql -u root -p\n</code></pre> <ul> <li>\u521b\u5efa<code>neutron</code>\u6570\u636e\u5e93\uff1a </li> </ul> <pre><code>MariaDB [(none)] CREATE DATABASE neutron;\n</code></pre> <ul> <li>\u6388\u4e88\u5bf9<code>neutron</code>\u6570\u636e\u5e93\u7684\u9002\u5f53\u8bbf\u95ee\u6743\u9650\uff0c<code>NEUTRON_DBPASS</code>\u5e76\u7528\u5408\u9002\u7684\u5bc6\u7801\u4ee3\u66ff \uff1a </li> </ul> <pre><code>MariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON neutron.* TO 'neutron'@'localhost' \\\n  IDENTIFIED BY 'NEUTRON_DBPASS';\nMariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON neutron.* TO 'neutron'@'%' \\\n  IDENTIFIED BY 'NEUTRON_DBPASS';\n</code></pre> <ul> <li>\u9000\u51fa\u6570\u636e\u5e93\u8bbf\u95ee\u5ba2\u6237\u7aef\u3002 </li> </ul>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#2-admincli_1","title":"2. \u6765\u6e90<code>admin</code>\u51ed\u636e\u6765\u8bbf\u95ee\u4ec5\u7ba1\u7406\u5458CLI\u547d\u4ee4\uff1a","text":"<pre><code>$ . admin-openrc\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#3_3","title":"3. \u8981\u521b\u5efa\u670d\u52a1\u51ed\u8bc1\uff0c\u8bf7\u5b8c\u6210\u4ee5\u4e0b\u6b65\u9aa4","text":"<ul> <li>\u521b\u5efa<code>neutron</code>\u7528\u6237\uff1a </li> </ul> <pre><code>$ openstack user create --domain default --password-prompt neutron\n\nUser Password:\nRepeat User Password:\n+---------------------+----------------------------------+\n| Field          | Value                            |\n+---------------------+----------------------------------+\n| domain_id        | default                          |\n| enabled         | True                            |\n| id            | fdb0f541e28141719b6a43c8944bf1fb          |\n| name           | neutron                          |\n| options         | {}                             |\n| password_expires_at | None                            |\n+---------------------+----------------------------------+\n</code></pre> <ul> <li><code>admin</code>\u5411<code>neutron</code>\u7528\u6237\u6dfb\u52a0\u89d2\u8272\uff1a</li> </ul> <pre><code>$ openstack role add --project service --user neutron admin\n</code></pre> <p>\u6ce8\u610f:\u8be5\u547d\u4ee4\u4e0d\u63d0\u4f9b\u4efb\u4f55\u8f93\u51fa\u3002</p> <ul> <li>\u521b\u5efa<code>neutron</code>\u670d\u52a1\u5b9e\u4f53\uff1a </li> </ul> <pre><code>openstack service create --name neutron \\\n  --description \"OpenStack Networking\" network\n\n+-------------+----------------------------------+\n| Field       | Value                         |\n+-------------+----------------------------------+\n| description | OpenStack Networking                 |\n| enabled    | True                            |\n| id       | f71529314dab4a4d8eca427e701d209e         |\n| name      | neutron                          |\n| type      | network                          |\n+-------------+----------------------------------+\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#4-api_1","title":"4. \u521b\u5efa\u7f51\u7edc\u670d\u52a1API\u7aef\u70b9\uff1a","text":"<pre><code>$ openstack endpoint create --region RegionOne \\\n  network public http://controller:9696\n\n+--------------+----------------------------------+\n| Field        | Value                            |\n+--------------+----------------------------------+\n| enabled      | True                             |\n| id           | 85d80a6d02fc4b7683f611d7fc1493a3 |\n| interface    | public                          |\n| region       | RegionOne                       |\n| region_id    | RegionOne                        |\n| service_id   | f71529314dab4a4d8eca427e701d209e |\n| service_name | neutron                          |\n| service_type | network                          |\n| url          | http://controller:9696             |\n+--------------+----------------------------------+\n\n$ openstack endpoint create --region RegionOne \\\n  network internal http://controller:9696\n\n+--------------+----------------------------------+\n| Field        | Value                         |\n+--------------+----------------------------------+\n| enabled      | True                          |\n| id           | 09753b537ac74422a68d2d791cf3714f     |\n| interface    | internal                        |\n| region       | RegionOne                      |\n| region_id    | RegionOne                        |\n| service_id   | f71529314dab4a4d8eca427e701d209e        |\n| service_name | neutron                          |\n| service_type | network                          |\n| url          | http://controller:9696             |\n+--------------+----------------------------------+\n\n$ openstack endpoint create --region RegionOne \\\n  network admin http://controller:9696\n\n+--------------+----------------------------------+\n| Field      | Value                            |\n+--------------+----------------------------------+\n| enabled     | True                            |\n| id        | 1ee14289c9374dffb5db92a5c112fc4e |\n| interface    | admin                            |\n| region      | RegionOne                         |\n| region_id    | RegionOne                         |\n| service_id   | f71529314dab4a4d8eca427e701d209e          |\n| service_name  | neutron                          |\n| service_type  | network                          |\n| url        | http://controller:9696                |\n+--------------+----------------------------------+\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_5","title":"\u914d\u7f6e\u7f51\u7edc","text":"<pre><code>  yum install openstack-neutron openstack-neutron-ml2 \\\n  openstack-neutron-linuxbridge ebtables\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_6","title":"\u914d\u7f6e\u670d\u52a1\u5668\u7ec4\u4ef6","text":"<ul> <li> <p>\u7f16\u8f91<code>/etc/neutron/neutron.conf</code>\u6587\u4ef6\u5e76\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a </p> </li> <li> <p>\u5728\u8be5<code>[database]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u6570\u636e\u5e93\u8bbf\u95ee\uff1a </p> <pre><code>[database]\n# ...\nconnection = mysql+pymysql://neutron:NEUTRON_DBPASS@controller/neutron\n</code></pre> <p>\u66ff\u6362<code>NEUTRON_DBPASS</code>\u4e3a\u60a8\u4e3a\u6570\u636e\u5e93\u9009\u62e9\u7684\u5bc6\u7801\u3002 </p> </li> <li> <p>\u5728\u8be5<code>[DEFAULT]</code>\u90e8\u5206\u4e2d\uff0c\u542f\u7528\u6a21\u5757\u5316\u7b2c2\u5c42\uff08ML2\uff09\u63d2\u4ef6\uff0c\u8def\u7531\u5668\u670d\u52a1\u548c\u91cd\u53e0\u7684IP\u5730\u5740\uff1a </p> <pre><code>[DEFAULT]\n# ...\ncore_plugin = ml2\nservice_plugins = router\nallow_overlapping_ips = true\n</code></pre> </li> <li> <p>\u5728\u8be5<code>[DEFAULT]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e<code>RabbitMQ</code> \u6d88\u606f\u961f\u5217\u8bbf\u95ee\uff1a </p> <pre><code>[DEFAULT]\n# ...\ntransport_url = rabbit://openstack:RABBIT_PASS@controller\n</code></pre> <p>\u66ff\u6362<code>RABBIT_PASS</code>\u4e3a\u60a8<code>openstack</code>\u5728RabbitMQ\u4e2d\u4e3a\u5e10\u6237\u9009\u62e9\u7684\u5bc6\u7801 \u3002 </p> </li> <li> <p>\u5728<code>[DEFAULT]</code>\u548c<code>[keystone_authtoken]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u8eab\u4efd\u670d\u52a1\u8bbf\u95ee\uff1a</p> <pre><code>[DEFAULT]\n# ...\nauth_strategy = keystone\n\n[keystone_authtoken]\n# ...\nwww_authenticate_uri = http://controller:5000\nauth_url = http://controller:5000\nmemcached_servers = controller:11211\nauth_type = password\nproject_domain_name = default\nuser_domain_name = default\nproject_name = service\nusername = neutron\npassword = NEUTRON_PASS\n</code></pre> <p>\u66ff\u6362<code>NEUTRON_PASS</code>\u4e3a\u60a8<code>neutron</code> \u5728\u8eab\u4efd\u670d\u52a1\u4e2d\u4e3a\u7528\u6237\u9009\u62e9\u7684\u5bc6\u7801\u3002 </p> </li> <li> <p>\u5728<code>[DEFAULT]</code>\u548c<code>[nova]</code>\u90e8\u5206\u4e2d\uff0c\u5c06\u7f51\u7edc\u914d\u7f6e\u4e3a\u901a\u77e5Compute\u7f51\u7edc\u62d3\u6251\u66f4\u6539\uff1a</p> <pre><code>[DEFAULT]\n# ...\nnotify_nova_on_port_status_changes = true\nnotify_nova_on_port_data_changes = true\n\n[nova]\n# ...\nauth_url = http://controller:5000\nauth_type = password\nproject_domain_name = default\nuser_domain_name = default\nregion_name = RegionOne\nproject_name = service\nusername = nova\npassword = NOVA_PASS\n</code></pre> <p>\u66ff\u6362<code>NOVA_PASS</code>\u4e3a\u60a8<code>nova</code> \u5728\u8eab\u4efd\u670d\u52a1\u4e2d\u4e3a\u7528\u6237\u9009\u62e9\u7684\u5bc6\u7801\u3002 </p> </li> <li> <p>\u5728\u8be5<code>[oslo_concurrency]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u9501\u5b9a\u8def\u5f84\uff1a </p> <pre><code>[oslo_concurrency]\n# ...\nlock_path = /var/lib/neutron/tmp\n</code></pre> </li> </ul> <p>\u66ff\u6362<code>NEUTRON_DBPASS</code>\u4e3a\u60a8\u4e3a\u6570\u636e\u5e93\u9009\u62e9\u7684\u5bc6\u7801\u3002 </p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#2ml2","title":"\u914d\u7f6e\u6a21\u5757\u5316\u5c422\uff08ML2\uff09\u63d2\u4ef6","text":"<p>ML2\u63d2\u4ef6\u4f7f\u7528Linux\u6865\u63a5\u5668\u673a\u5236\u4e3a\u5b9e\u4f8b\u6784\u5efa\u7b2c2\u5c42\uff08\u6865\u63a5\u548c\u4ea4\u6362\uff09\u865a\u62df\u7f51\u7edc\u57fa\u7840\u67b6\u6784\u3002 </p> <ul> <li> <p>\u7f16\u8f91<code>/etc/neutron/plugins/ml2/ml2_conf.ini</code>\u6587\u4ef6\u5e76\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a </p> </li> <li> <p>\u5728\u8be5<code>[ml2]</code>\u90e8\u5206\u4e2d\uff0c\u542f\u7528\u5e73\u9762\uff0cVLAN\u548cVXLAN\u7f51\u7edc\uff1a </p> <pre><code>[ml2]\n# ...\ntype_drivers = flat,vlan,vxlan\n</code></pre> </li> <li> <p>\u5728\u8be5<code>[ml2]</code>\u90e8\u5206\u4e2d\uff0c\u542f\u7528VXLAN\u81ea\u52a9\u670d\u52a1\u7f51\u7edc\uff1a </p> <pre><code>[ml2]\n# ...\ntenant_network_types = vxlan\n</code></pre> </li> <li> <p>\u5728\u672c<code>[ml2]</code>\u8282\u4e2d\uff0c\u542f\u7528Linux\u6865\u63a5\u5668\u548c\u7b2c2\u5c42\u586b\u5145\u673a\u5236\uff1a </p> <pre><code>[ml2]\n# ...\nmechanism_drivers = linuxbridge,l2population\n</code></pre> </li> <li> <p>\u5728\u6b64<code>[ml2]</code>\u90e8\u5206\u4e2d\uff0c\u542f\u7528\u7aef\u53e3\u5b89\u5168\u6269\u5c55\u9a71\u52a8\u7a0b\u5e8f\uff1a</p> <pre><code>[ml2]\n# ...\nextension_drivers = port_security\n</code></pre> </li> <li> <p>\u5728\u672c<code>[ml2_type_flat]</code>\u8282\u4e2d\uff0c\u5c06\u63d0\u4f9b\u8005\u865a\u62df\u7f51\u7edc\u914d\u7f6e\u4e3a\u5e73\u9762\u7f51\u7edc\uff1a</p> <pre><code>[ml2_type_flat]\n# ...\nflat_networks = provider\n</code></pre> </li> <li> <p>\u5728\u8be5<code>[ml2_type_vxlan]</code>\u90e8\u5206\u4e2d\uff0c\u4e3a\u81ea\u52a9\u670d\u52a1\u7f51\u7edc\u914d\u7f6eVXLAN\u7f51\u7edc\u6807\u8bc6\u7b26\u8303\u56f4\uff1a</p> <pre><code>[ml2_type_vxlan]\n# ...\nvni_ranges = 1:1000\n</code></pre> </li> <li> <p>\u5728\u672c<code>[securitygroup]</code>\u8282\u4e2d\uff0c\u542f\u7528ipset\u4ee5\u63d0\u9ad8\u5b89\u5168\u7ec4\u89c4\u5219\u7684\u6548\u7387\uff1a </p> <pre><code>[securitygroup]\n# ...\nenable_ipset = true\n</code></pre> </li> </ul>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#linux","title":"\u914d\u7f6eLinux\u7f51\u6865\u4ee3\u7406","text":"<p>Linux\u7f51\u6865\u4ee3\u7406\u4e3a\u5b9e\u4f8b\u6784\u5efa\u7b2c2\u5c42\uff08\u6865\u63a5\u548c\u4ea4\u6362\uff09\u865a\u62df\u7f51\u7edc\u57fa\u7840\u7ed3\u6784\u5e76\u5904\u7406\u5b89\u5168\u7ec4\u3002</p> <ul> <li> <p>\u7f16\u8f91<code>/etc/neutron/plugins/ml2/linuxbridge_agent.ini</code>\u6587\u4ef6\u5e76\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a </p> </li> <li> <p>\u5728\u672c<code>[linux_bridge]</code>\u8282\u4e2d\uff0c\u5c06\u63d0\u4f9b\u8005\u865a\u62df\u7f51\u7edc\u6620\u5c04\u5230\u63d0\u4f9b\u8005\u7269\u7406\u7f51\u7edc\u63a5\u53e3\uff1a</p> <pre><code>[linux_bridge]\nphysical_interface_mappings = provider:PROVIDER_INTERFACE_NAME\n</code></pre> <p>\u66ff\u6362<code>PROVIDER_INTERFACE_NAME</code>\u4e3a\u57fa\u7840\u63d0\u4f9b\u5546\u7269\u7406\u7f51\u7edc\u63a5\u53e3\u7684\u540d\u79f0\u80fd\u4e0a\u7f51\u7684\u63a5\u53e3.\u4f8b\u5982\uff1aens33</p> </li> <li> <p>\u5728\u672c<code>[vxlan]</code>\u8282\u4e2d\uff0c\u542f\u7528VXLAN\u8986\u76d6\u7f51\u7edc\uff0c\u914d\u7f6e\u5904\u7406\u8986\u76d6\u7f51\u7edc\u7684\u7269\u7406\u7f51\u7edc\u63a5\u53e3\u7684IP\u5730\u5740\uff0c\u5e76\u542f\u7528\u7b2c2\u5c42\u586b\u5145\uff1a </p> <pre><code>[vxlan]\nenable_vxlan = true\nlocal_ip = OVERLAY_INTERFACE_IP_ADDRESS\nl2_population = true\n</code></pre> <p>\u66ff\u6362*OVERLAY_INTERFACE_IP_ADDRESS \u4e3a\u63a7\u5236\u5668\u8282\u70b9\u7684\u7ba1\u7406IP\u5730\u5740 </p> </li> <li> <p>\u5728\u8be5<code>[securitygroup]</code>\u90e8\u5206\u4e2d\uff0c\u542f\u7528\u5b89\u5168\u7ec4\u5e76\u914d\u7f6eLinux\u7f51\u6865iptables\u9632\u706b\u5899\u9a71\u52a8\u7a0b\u5e8f\uff1a </p> <pre><code>[securitygroup]\n# ...\nenable_security_group = true\nfirewall_driver = neutron.agent.linux.iptables_firewall.IptablesFirewallDriver\n</code></pre> </li> <li> <p>\u901a\u8fc7\u9a8c\u8bc1\u4ee5\u4e0b\u6240\u6709<code>sysctl</code>\u503c\u662f\u5426\u8bbe\u7f6e\u4e3a\u786e\u4fddLinux\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u652f\u6301\u7f51\u6865\u8fc7\u6ee4\u5668<code>1</code></p> </li> <li> <p>vi /etc/sysctl.conf\uff1a\u589e\u52a0\u4ee5\u4e0b\u4e24\u884c\u540e\u8f93\u5165\u547d\u4ee4 sysctl -p</p> <pre><code>net.bridge.bridge-nf-call-iptables=1\nnet.bridge.bridge-nf-call-ip6tables=1\n</code></pre> </li> </ul>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#3_4","title":"\u914d\u7f6e\u7b2c3\u5c42\u5242","text":"<p>\u7b2c3\u5c42\uff08L3\uff09\u4ee3\u7406\u4e3a\u81ea\u52a9\u5f0f\u865a\u62df\u7f51\u7edc\u63d0\u4f9b\u8def\u7531\u548cNAT\u670d\u52a1\u3002</p> <ul> <li> <p>\u7f16\u8f91<code>/etc/neutron/l3_agent.ini</code>\u6587\u4ef6\u5e76\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a </p> </li> <li> <p>\u5728\u8be5<code>[DEFAULT]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6eLinux\u7f51\u6865\u63a5\u53e3\u9a71\u52a8\u7a0b\u5e8f\u548c\u5916\u90e8\u7f51\u6865\uff1a </p> <pre><code>[DEFAULT]\n# ...\ninterface_driver = linuxbridge\n</code></pre> </li> </ul>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#dhcp","title":"\u914d\u7f6eDHCP\u4ee3\u7406","text":"<p>DHCP\u4ee3\u7406\u4e3a\u865a\u62df\u7f51\u7edc\u63d0\u4f9bDHCP\u670d\u52a1\u3002</p> <ul> <li> <p>\u7f16\u8f91<code>/etc/neutron/dhcp_agent.ini</code>\u6587\u4ef6\u5e76\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a </p> </li> <li> <p>\u5728\u672c<code>[DEFAULT]</code>\u8282\u4e2d\uff0c\u914d\u7f6eLinux\u6865\u63a5\u53e3\u9a71\u52a8\u7a0b\u5e8fDnsmasq DHCP\u9a71\u52a8\u7a0b\u5e8f\uff0c\u5e76\u542f\u7528\u9694\u79bb\u7684\u5143\u6570\u636e\uff0c\u4ee5\u4fbf\u63d0\u4f9b\u5546\u7f51\u7edc\u4e0a\u7684\u5b9e\u4f8b\u53ef\u4ee5\u901a\u8fc7\u7f51\u7edc\u8bbf\u95ee\u5143\u6570\u636e\uff1a </p> <pre><code>[DEFAULT]\n# ...\ninterface_driver = linuxbridge\ndhcp_driver = neutron.agent.linux.dhcp.Dnsmasq\nenable_isolated_metadata = true\n</code></pre> </li> </ul>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_7","title":"\u914d\u7f6e\u5143\u6570\u636e\u4ee3\u7406","text":""},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_8","title":"\u5143\u6570\u636e\u4ee3\u7406\u63d0\u4f9b\u914d\u7f6e\u4fe1\u606f\uff0c\u4f8b\u5982\u5b9e\u4f8b\u7684\u51ed\u636e\u3002","text":"<ul> <li> <p>\u7f16\u8f91<code>/etc/neutron/metadata_agent.ini</code>\u6587\u4ef6\u5e76\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a </p> </li> <li> <p>\u5728\u8be5[DEFAULT]\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u5143\u6570\u636e\u4e3b\u673a\u548c\u5171\u4eab\u673a\u5bc6\uff1a</p> <pre><code>[DEFAULT]\n# ...\nnova_metadata_host = controller\nmetadata_proxy_shared_secret = METADATA_SECRET\n</code></pre> <p>\u66ff\u6362METADATA_SECRET\u4e3a\u5143\u6570\u636e\u4ee3\u7406\u7684\u9002\u5f53\u673a\u5bc6\u3002 \u4f8b\u5982\uff1a123456</p> </li> </ul>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_9","title":"\u914d\u7f6e\u8ba1\u7b97\u670d\u52a1\u4f7f\u7528\u7f51\u7edc\u670d\u52a1","text":"<p>\u5fc5\u987b\u5b89\u88c5Nova\u8ba1\u7b97\u670d\u52a1\u624d\u80fd\u5b8c\u6210\u6b64\u6b65\u9aa4\u3002</p> <ul> <li> <p>\u7f16\u8f91<code>/etc/nova/nova.conf</code>\u6587\u4ef6\u5e76\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> </li> <li> <p>\u5728\u8be5<code>[neutron]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u8bbf\u95ee\u53c2\u6570\uff0c\u542f\u7528\u5143\u6570\u636e\u4ee3\u7406\uff0c\u5e76\u914d\u7f6e\u673a\u5bc6\uff1a</p> <pre><code>[neutron]\n# ...\nurl = http://controller:9696\nauth_url = http://controller:5000\nauth_type = password\nproject_domain_name = default\nuser_domain_name = default\nregion_name = RegionOne\nproject_name = service\nusername = neutron\npassword = NEUTRON_PASS\nservice_metadata_proxy = true\nmetadata_proxy_shared_secret = METADATA_SECRET\n</code></pre> <p>\u66ff\u6362NEUTRON_PASS\u4e3a\u60a8<code>neutron</code> \u5728\u8eab\u4efd\u670d\u52a1\u4e2d\u4e3a\u7528\u6237\u9009\u62e9\u7684\u5bc6\u7801\u3002</p> <p>\u66ff\u6362METADATA_SECRET\u4e3a\u60a8\u4e3a\u5143\u6570\u636e\u4ee3\u7406\u9009\u62e9\u7684\u673a\u5bc6\u3002</p> </li> </ul>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_10","title":"\u6700\u7ec8\u786e\u5b9a\u5b89\u88c5","text":"<ol> <li>\u7f51\u7edc\u670d\u52a1\u521d\u59cb\u5316\u811a\u672c\u9700\u8981<code>/etc/neutron/plugin.ini</code>\u6307\u5411ML2\u63d2\u4ef6\u914d\u7f6e\u6587\u4ef6\u7684\u7b26\u53f7\u94fe\u63a5<code>/etc/neutron/plugins/ml2/ml2_conf.ini</code>\u3002\u5982\u679c\u6b64\u7b26\u53f7\u94fe\u63a5\u4e0d\u5b58\u5728\uff0c\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa\u5b83\uff1a </li> </ol> <pre><code>ln -s /etc/neutron/plugins/ml2/ml2_conf.ini /etc/neutron/plugin.ini\n</code></pre> <ol> <li>\u586b\u5145\u6570\u636e\u5e93\uff1a </li> </ol> <pre><code>su -s /bin/sh -c \"neutron-db-manage --config-file /etc/neutron/neutron.conf \\\n  --config-file /etc/neutron/plugins/ml2/ml2_conf.ini upgrade head\" neutron\n</code></pre> <ol> <li>\u91cd\u65b0\u542f\u52a8Compute API\u670d\u52a1\uff1a</li> </ol> <pre><code>systemctl restart openstack-nova-api.service\n</code></pre> <ol> <li>\u542f\u52a8\u7f51\u7edc\u670d\u52a1\uff0c\u5e76\u5c06\u5176\u914d\u7f6e\u4e3a\u5728\u7cfb\u7edf\u5f15\u5bfc\u65f6\u542f\u52a8\u3002</li> </ol> <p>\u5bf9\u4e8e\u4e24\u4e2a\u7f51\u7edc\u9009\u9879\uff1a </p> <pre><code>$ systemctl enable neutron-server.service \\\n  neutron-linuxbridge-agent.service neutron-dhcp-agent.service \\\n  neutron-metadata-agent.service\n$ systemctl start neutron-server.service \\\n  neutron-linuxbridge-agent.service neutron-dhcp-agent.service \\\n  neutron-metadata-agent.service\n</code></pre> <pre><code> \u5bf9\u4e8e\u7f51\u7edc\u9009\u98792\uff0c\u8fd8\u542f\u7528\u5e76\u542f\u52a8\u7b2c3\u5c42\u670d\u52a1\uff1a\n</code></pre> <pre><code> systemctl enable neutron-l3-agent.service\n systemctl start neutron-l3-agent.service\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_11","title":"\u8ba1\u7b97\u8282\u70b9","text":""},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_12","title":"\u5b89\u88c5\u7684\u7ec4\u4ef6","text":"<pre><code> yum install openstack-neutron-linuxbridge ebtables ipset\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_13","title":"\u914d\u7f6e\u516c\u5171\u90e8\u4ef6","text":"<p>\u7f51\u7edc\u516c\u7528\u7ec4\u4ef6\u914d\u7f6e\u5305\u62ec\u8eab\u4efd\u9a8c\u8bc1\u673a\u5236\uff0c\u6d88\u606f\u961f\u5217\u548c\u63d2\u4ef6\u3002 </p> <p>\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u56e0\u5206\u53d1\u800c\u5f02\u3002\u60a8\u53ef\u80fd\u9700\u8981\u6dfb\u52a0\u8fd9\u4e9b\u90e8\u5206\u548c\u9009\u9879\uff0c\u800c\u4e0d\u662f\u4fee\u6539\u73b0\u6709\u7684\u90e8\u5206\u548c\u9009\u9879\u3002\u53e6\u5916\uff0c<code>...</code>\u914d\u7f6e\u6458\u8981\u4e2d\u7684\u7701\u7565\u53f7\uff08\uff09\u8868\u793a\u60a8\u5e94\u4fdd\u7559\u7684\u6f5c\u5728\u9ed8\u8ba4\u914d\u7f6e\u9009\u9879\u3002 </p> <ul> <li> <p>\u7f16\u8f91<code>/etc/neutron/neutron.conf</code>\u6587\u4ef6\u5e76\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a </p> </li> <li> <p>\u5728\u672c<code>[database]</code>\u8282\u4e2d\uff0c\u6ce8\u91ca\u6389\u6240\u6709<code>connection</code>\u9009\u9879\uff0c\u56e0\u4e3a\u8ba1\u7b97\u8282\u70b9\u4e0d\u4f1a\u76f4\u63a5\u8bbf\u95ee\u6570\u636e\u5e93\u3002</p> </li> <li> <p>\u5728\u8be5<code>[DEFAULT]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e<code>RabbitMQ</code> \u6d88\u606f\u961f\u5217\u8bbf\u95ee\uff1a</p> <pre><code>[DEFAULT]\n# ...\ntransport_url = rabbit://openstack:RABBIT_PASS@controller\nauth_strategy = keystone\n</code></pre> </li> <li> <p>\u5728<code>[keystone_authtoken]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u8eab\u4efd\u670d\u52a1\u8bbf\u95ee\uff1a</p> <pre><code>[keystone_authtoken]\n# ...\nwww_authenticate_uri = http://controller:5000\nauth_url = http://controller:5000\nmemcached_servers = controller:11211\nauth_type = password\nproject_domain_name = default\nuser_domain_name = default\nproject_name = service\nusername = neutron\npassword = NEUTRON_PASS\n</code></pre> <p>\u66ff\u6362<code>NEUTRON_PASS</code>\u4e3a\u60a8<code>neutron</code> \u5728\u8eab\u4efd\u670d\u52a1\u4e2d\u4e3a\u7528\u6237\u9009\u62e9\u7684\u5bc6\u7801\u3002 </p> </li> <li> <p>\u5728\u8be5<code>[oslo_concurrency]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u9501\u5b9a\u8def\u5f84\uff1a</p> <pre><code>[oslo_concurrency]\n# ...\nlock_path = /var/lib/neutron/tmp\n</code></pre> </li> </ul>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_14","title":"\u914d\u7f6e\u7f51\u7edc","text":""},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#linux_1","title":"\u914d\u7f6eLinux\u7f51\u6865\u4ee3\u7406","text":"<p>Linux\u7f51\u6865\u4ee3\u7406\u4e3a\u5b9e\u4f8b\u6784\u5efa\u7b2c2\u5c42\uff08\u6865\u63a5\u548c\u4ea4\u6362\uff09\u865a\u62df\u7f51\u7edc\u57fa\u7840\u7ed3\u6784\u5e76\u5904\u7406\u5b89\u5168\u7ec4\u3002</p> <ul> <li> <p>\u7f16\u8f91<code>/etc/neutron/plugins/ml2/linuxbridge_agent.ini</code>\u6587\u4ef6\u5e76\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a </p> </li> <li> <p>\u5728\u672c<code>[linux_bridge]</code>\u8282\u4e2d\uff0c\u5c06\u63d0\u4f9b\u8005\u865a\u62df\u7f51\u7edc\u6620\u5c04\u5230\u63d0\u4f9b\u8005\u7269\u7406\u7f51\u7edc\u63a5\u53e3\uff1a </p> <pre><code>[linux_bridge]\nphysical_interface_mappings = provider:PROVIDER_INTERFACE_NAME\n</code></pre> <p>\u66ff\u6362<code>PROVIDER_INTERFACE_NAME</code>\u4e3a\u57fa\u7840\u63d0\u4f9b\u5546\u7269\u7406\u7f51\u7edc\u63a5\u53e3\u7684\u540d\u79f0,\u80fd\u4e0a\u7f51\u7684\u63a5\u53e3\u540d\u79f0\u3002 \u4f8b\u5982\uff1aens33</p> </li> <li> <p>\u5728\u672c<code>[vxlan]</code>\u8282\u4e2d\uff0c\u542f\u7528VXLAN\u8986\u76d6\u7f51\u7edc\uff0c\u914d\u7f6e\u5904\u7406\u8986\u76d6\u7f51\u7edc\u7684\u7269\u7406\u7f51\u7edc\u63a5\u53e3\u7684IP\u5730\u5740\uff0c\u5e76\u542f\u7528\u7b2c2\u5c42\u586b\u5145\uff1a</p> <pre><code>[vxlan]\nenable_vxlan = true\nlocal_ip = OVERLAY_INTERFACE_IP_ADDRESS\nl2_population = true\n</code></pre> <p>\u66ff\u6362OVERLAY_INTERFACE_IP_ADDRESS\u4e3a\u8ba1\u7b97\u8282\u70b9\u7684\u7ba1\u7406IP\u5730\u5740\u3002 </p> </li> <li> <p>\u5728\u8be5<code>[securitygroup]</code>\u90e8\u5206\u4e2d\uff0c\u542f\u7528\u5b89\u5168\u7ec4\u5e76\u914d\u7f6eLinux\u7f51\u6865iptables\u9632\u706b\u5899\u9a71\u52a8\u7a0b\u5e8f\uff1a </p> <pre><code>[securitygroup]\n# ...\nenable_security_group = true\nfirewall_driver = neutron.agent.linux.iptables_firewall.IptablesFirewallDriver\n</code></pre> </li> <li> <p>\u901a\u8fc7\u9a8c\u8bc1\u4ee5\u4e0b\u6240\u6709<code>sysctl</code>\u503c\u662f\u5426\u8bbe\u7f6e\u4e3a\u786e\u4fddLinux\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u652f\u6301\u7f51\u6865\u8fc7\u6ee4\u56681 </p> </li> <li> <p>vi /etc/sysctl.conf  \u589e\u52a0\u4ee5\u4e0b\u4e24\u884c\u540e\u8f93\u5165\u547d\u4ee4 sysctl -p</p> <pre><code>net.bridge.bridge-nf-call-iptables=1\nnet.bridge.bridge-nf-call-ip6tables=1\n</code></pre> </li> </ul>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_15","title":"\u914d\u7f6e\u8ba1\u7b97\u670d\u52a1\u4f7f\u7528\u7f51\u7edc\u670d\u52a1","text":"<ul> <li> <p>\u7f16\u8f91<code>/etc/nova/nova.conf</code>\u6587\u4ef6\u5e76\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a </p> </li> <li> <p>\u5728\u8be5<code>[neutron]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u8bbf\u95ee\u53c2\u6570\uff1a </p> <pre><code>[neutron]\n# ...\nurl = http://controller:9696\nauth_url = http://controller:5000\nauth_type = password\nproject_domain_name = default\nuser_domain_name = default\nregion_name = RegionOne\nproject_name = service\nusername = neutron\npassword = NEUTRON_PASS\n</code></pre> <p>\u66ff\u6362<code>NEUTRON_PASS</code>\u4e3a\u60a8<code>neutron</code> \u5728\u8eab\u4efd\u670d\u52a1\u4e2d\u4e3a\u7528\u6237\u9009\u62e9\u7684\u5bc6\u7801\u3002 </p> </li> </ul>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_16","title":"\u6700\u7ec8\u786e\u5b9a\u5b89\u88c5","text":"<ol> <li>\u91cd\u65b0\u542f\u52a8\u8ba1\u7b97\u670d\u52a1\uff1a </li> </ol> <pre><code> systemctl restart openstack-nova-compute.service\n</code></pre> <ol> <li>\u542f\u52a8Linux\u7f51\u6865\u4ee3\u7406\uff0c\u5e76\u5c06\u5176\u914d\u7f6e\u4e3a\u5728\u7cfb\u7edf\u5f15\u5bfc\u65f6\u542f\u52a8\uff1a</li> </ol> <pre><code> systemctl enable neutron-linuxbridge-agent.service\n systemctl start neutron-linuxbridge-agent.service\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_17","title":"\u9a8c\u8bc1","text":"<p>\u5728\u63a7\u5236\u8282\u70b9\u4e0b\u9a8c\u8bc1</p> <pre><code>$ openstack network agent list\n</code></pre> <pre><code>+--------------------------------------+--------------------+------------+-------------------+-------+-------+---------------------------+\n| ID                                   | Agent Type         | Host       | Availability Zone | Alive | State | Binary                    |\n+--------------------------------------+--------------------+------------+-------------------+-------+-------+---------------------------+\n| f49a4b81-afd6-4b3d-b923-66c8f0517099 | Metadata agent     | controller | None            | True  | UP    | neutron-metadata-agent    |\n| 27eee952-a748-467b-bf71-941e89846a92 | Linux bridge agent   | controller   | None          | True  | UP    | neutron-linuxbridge-agent |\n| 08905043-5010-4b87-bba5-aedb1956e27a | Linux bridge agent   | compute1     | None          | True  | UP    | neutron-linuxbridge-agent |\n| 830344ff-dc36-4956-84f4-067af667a0dc | L3 agent          | controller | nova            | True  | UP    | neutron-l3-agent       |\n| dd3644c9-1a3a-435a-9282-eb306b4b0391 | DHCP agent        | controller | nova             | True  | UP    | neutron-dhcp-agent      |\n+--------------------------------------+--------------------+------------+-------------------+-------+-------+---------------------------+\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#dashboard","title":"Dashboard\u670d\u52a1\u914d\u7f6e","text":""},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_18","title":"\u5b89\u88c5\u548c\u914d\u7f6e\u7684\u90e8\u4ef6","text":"<p>\u6ce8\u610f\uff1a</p> <p>\u6ce8\u610f\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u56e0\u5206\u53d1\u800c\u5f02\u3002\u60a8\u53ef\u80fd\u9700\u8981\u6dfb\u52a0\u8fd9\u4e9b\u90e8\u5206\u548c\u9009\u9879\uff0c\u800c\u4e0d\u662f\u4fee\u6539\u73b0\u6709\u7684\u90e8\u5206\u548c\u9009\u9879\u3002\u53e6\u5916\uff0c<code>...</code>\u914d\u7f6e\u6458\u8981\u4e2d\u7684\u7701\u7565\u53f7\uff08\uff09\u8868\u793a\u60a8\u5e94\u4fdd\u7559\u7684\u6f5c\u5728\u9ed8\u8ba4\u914d\u7f6e\u9009\u9879\u3002</p> <ul> <li>1.\u5b89\u88c5\u8f6f\u4ef6\u5305\uff1a </li> </ul> <pre><code>$ yum install openstack-dashboard\n</code></pre> <ul> <li> <p>2.\u7f16\u8f91 <code>/etc/openstack-dashboard/local_settings</code> \u6587\u4ef6\u5e76\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> </li> <li> <p>\u914d\u7f6e\u4eea\u8868\u677f\u4ee5\u5728<code>controller</code>\u8282\u70b9\u4e0a\u4f7f\u7528OpenStack\u670d\u52a1 \uff1a</p> <pre><code>OPENSTACK_HOST = \"controller\"\n</code></pre> </li> <li> <p>\u5141\u8bb8\u4e3b\u673a\u8bbf\u95ee\u4eea\u8868\u677f\uff1a</p> <pre><code>ALLOWED_HOSTS = ['*', 'two.example.com']\n</code></pre> <p>\u6ce8\u610f</p> <p>ALLOWED_HOSTS\u4e5f\u53ef\u4ee5\u662f['*']\u4ee5\u63a5\u53d7\u6240\u6709\u4e3b\u673a\u3002\u8fd9\u5bf9\u4e8e\u5f00\u53d1\u5de5\u4f5c\u53ef\u80fd\u6709\u7528\uff0c\u4f46\u662f\u53ef\u80fd\u4e0d\u5b89\u5168\uff0c\u56e0\u6b64\u4e0d\u5e94\u5728\u751f\u4ea7\u4e2d\u4f7f\u7528\u3002\u6709\u5173 \u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 https://docs.djangoproject.com/en/dev/ref/settings/#allowed-hosts\u3002</p> </li> <li> <p>\u914d\u7f6e<code>memcached</code>\u4f1a\u8bdd\u5b58\u50a8\u670d\u52a1\uff1a</p> <pre><code>SESSION_ENGINE = 'django.contrib.sessions.backends.cache'\n\nCACHES = {\n    'default': {\n     'BACKEND':'django.core.cache.backends.memcached.MemcachedCache',\n         'LOCATION': 'controller:11211',\n    }\n}\n</code></pre> <p>\u6ce8\u610f\uff1a</p> <p>\u6ce8\u91ca\u6389\u4efb\u4f55\u5176\u4ed6\u4f1a\u8bdd\u50a8\u5b58\u914d\u7f6e\u3002</p> </li> <li> <p>\u542f\u7528\u8eab\u4efdAPI\u7248\u672c3\uff1a</p> <pre><code>$ OPENSTACK_KEYSTONE_URL = \"http://%s:5000/v3\" % OPENSTACK_HOST\n</code></pre> </li> <li> <p>\u542f\u7528\u5bf9\u57df\u7684\u652f\u6301\uff1a</p> <pre><code>$ OPENSTACK_KEYSTONE_MULTIDOMAIN_SUPPORT = True\n</code></pre> </li> <li> <p>\u914d\u7f6eAPI\u7248\u672c\uff1a</p> <pre><code>OPENSTACK_API_VERSIONS = {\n    \"identity\": 3,\n    \"image\": 2,\n    \"volume\": 3,\n}\n</code></pre> </li> <li> <p>\u914d\u7f6e<code>Default</code>\u4e3a\u901a\u8fc7\u4eea\u8868\u677f\u521b\u5efa\u7684\u7528\u6237\u7684\u9ed8\u8ba4\u57df\uff1a</p> <pre><code>OPENSTACK_KEYSTONE_DEFAULT_DOMAIN = \"Default\"\n</code></pre> </li> <li> <p>\u914d\u7f6e<code>user</code>\u4e3a\u901a\u8fc7\u4eea\u8868\u677f\u521b\u5efa\u7684\u7528\u6237\u7684\u9ed8\u8ba4\u89d2\u8272\uff1a</p> <pre><code>OPENSTACK_KEYSTONE_DEFAULT_ROLE = \"user\"\n</code></pre> </li> <li> <p>\u5982\u679c\u9009\u62e9\u7f51\u7edc\u9009\u98791\uff0c\u8bf7\u7981\u7528\u5bf9\u7b2c3\u5c42\u7f51\u7edc\u670d\u52a1\u7684\u652f\u6301\uff1a</p> <pre><code>OPENSTACK_NEUTRON_NETWORK = {\n    ...\n    'enable_router': False,\n    'enable_quotas': False,\n    'enable_distributed_router': False,\n    'enable_ha_router': False,\n    'enable_lb': False,\n    'enable_firewall': False,\n    'enable_vpn': False,\n    'enable_fip_topology_check': False,\n}\n</code></pre> </li> <li> <p>\uff08\u53ef\u9009\uff09\u914d\u7f6e\u65f6\u533a\uff1a</p> <pre><code>TIME_ZONE = \"TIME_ZONE\"\n</code></pre> <p>\u66ff\u6362<code>TIME_ZONE</code>\u4e3a\u9002\u5f53\u7684\u65f6\u533a\u6807\u8bc6\u7b26\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1\u65f6\u533a\u5217\u8868\u3002</p> </li> <li> <p>3.<code>/etc/httpd/conf.d/openstack-dashboard.conf</code>\u5982\u679c\u4e0d\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff0c\u8bf7\u6dfb\u52a0\u4ee5\u4e0b\u884c \u3002</p> </li> </ul> <pre><code>WSGIApplicationGroup %{GLOBAL}\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_19","title":"\u6700\u7ec8\u786e\u5b9a\u5b89\u88c5","text":"<ul> <li>\u91cd\u65b0\u542f\u52a8Web\u670d\u52a1\u5668\u548c\u4f1a\u8bdd\u5b58\u50a8\u670d\u52a1\uff1a</li> </ul> <pre><code>$ systemctl restart httpd.service memcached.service\n</code></pre> <p>\u6ce8\u610f:</p> <p>\u5982\u679c\u5f53\u524d\u672a\u8fd0\u884c\uff0c\u8be5\u547d\u4ee4\u5c06\u542f\u52a8\u6bcf\u4e2a\u670d\u52a1\u3002<code>systemctl restart</code></p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#cinder","title":"Cinder\u670d\u52a1\u914d\u7f6e","text":""},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_20","title":"\u63a7\u5236\u8282\u70b9","text":""},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#1_6","title":"1.\u521b\u5efa\u6570\u636e\u5e93","text":"<ul> <li>\u4f7f\u7528\u6570\u636e\u5e93\u8bbf\u95ee\u5ba2\u6237\u7aef\u4ee5<code>root</code>\u7528\u6237\u8eab\u4efd\u8fde\u63a5\u5230\u6570\u636e\u5e93\u670d\u52a1\u5668\uff1a </li> </ul> <pre><code>$ mysql -u root -p\n</code></pre> <ul> <li>\u521b\u5efa<code>cinder</code>\u6570\u636e\u5e93\uff1a </li> </ul> <pre><code>MariaDB [(none)] CREATE DATABASE cinder;\n</code></pre> <ul> <li>\u6388\u4e88\u5bf9<code>neutron</code>\u6570\u636e\u5e93\u7684\u9002\u5f53\u8bbf\u95ee\u6743\u9650\uff0c<code>NEUTRON_DBPASS</code>\u5e76\u7528\u5408\u9002\u7684\u5bc6\u7801\u4ee3\u66ff \uff1a </li> </ul> <pre><code>MariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON cinder.* TO 'cinder'@'localhost' \\\n  IDENTIFIED BY 'CINDER_DBPASS';\nMariaDB [(none)]&gt; GRANT ALL PRIVILEGES ON cinder.* TO 'cinder'@'%' \\\n  IDENTIFIED BY 'CINDER_DBPASS';\n</code></pre> <ul> <li>\u9000\u51fa\u6570\u636e\u5e93\u8bbf\u95ee\u5ba2\u6237\u7aef\u3002 </li> </ul>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#2-sourceadmincli","title":"2. SOURCE<code>admin</code>\u51ed\u636e\u4ee5\u83b7\u5f97\u5bf9\u4ec5\u9650\u7ba1\u7406\u7684CLI\u547d\u4ee4\u7684\u8bbf\u95ee\u6743\u9650\uff1a","text":"<pre><code>$ source admin-openrc\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#3_5","title":"3. \u8981\u521b\u5efa\u670d\u52a1\u51ed\u8bc1\uff0c\u8bf7\u5b8c\u6210\u4ee5\u4e0b\u6b65\u9aa4","text":"<ul> <li>\u521b\u5efa<code>cinder</code>\u7528\u6237\uff1a </li> </ul> <pre><code>$ openstack user create --domain default --password-prompt cinder\n\nUser Password:\nRepeat User Password:\n+---------------------+----------------------------------------------+\n| Field          | Value                            |\n+---------------------+----------------------------------------------+\n| domain_id        | default                          |\n| enabled         | True                            |\n| id            | 9d7e33de3e1a498390353819bc7d245d         |\n| name           | cinder                              |\n| options         | {}                             |\n| password_expires_at | None                            |\n+---------------------+----------------------------------------------+\n</code></pre> <ul> <li><code>admin</code>\u5411<code>cinder</code>\u7528\u6237\u6dfb\u52a0\u89d2\u8272\uff1a</li> </ul> <pre><code>$ openstack role add --project service --user cinder admin\n</code></pre> <p>\u6ce8\u610f:\u8be5\u547d\u4ee4\u4e0d\u63d0\u4f9b\u4efb\u4f55\u8f93\u51fa\u3002</p> <ul> <li>\u521b\u5efa<code>cinder</code>\u670d\u52a1\u5b9e\u4f53\uff1a</li> </ul> <pre><code>$ openstack service create --name cinderv2 \\\n  --description \"OpenStack Block Storage\" volumev2\n\n+-------------+-------------------------------------------+\n| Field     | Value                         |\n+-------------+-------------------------------------------+\n| description | OpenStack Block Storage             |\n| enabled    | True                          |\n| id       | eb9fd245bdbc414695952e93f29fe3ac       |\n| name      | cinderv2                       |\n| type      | volumev2                       |\n+-------------+-------------------------------------------+\n</code></pre> <pre><code>$ openstack service create --name cinderv3 \\\n  --description \"OpenStack Block Storage\" volumev3\n\n+-------------+-------------------------------------------+\n| Field     | Value                         |\n+-------------+-------------------------------------------+\n| description | OpenStack Block Storage             |\n| enabled    | True                          |\n| id       | ab3bbbef780845a1a283490d281e7fda       |\n| name      | cinderv3                       |\n| type      | volumev3                       |\n+-------------+-------------------------------------------+\n</code></pre> <p>\u6ce8\u610f:\u5757\u50a8\u5b58\u670d\u52a1\u9700\u8981\u4e24\u4e2a\u670d\u52a1\u5b9e\u4f53\u3002</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#4api","title":"4.\u521b\u5efa\u5757\u50a8\u5b58\u670d\u52a1API\u7ec8\u7aef\uff1a","text":"<pre><code>$ openstack endpoint create --region RegionOne \\\n  volumev2 public http://controller:8776/v2/%\\(project_id\\)s\n\n+---------------+----------------------------------------------------+\n|Field       | Value                               |\n+---------------+----------------------------------------------------+\n| enabled     | True                                |\n| id          | 513e73819e14460fb904163f41ef3759             |\n| interface    | public                                  |\n| region      | RegionOne                              |\n| region_id    | RegionOne                              |\n| service_id   | f71529314dab4a4d8eca427e701d209e             |\n| service_name  | cinderv2                             |\n| service_type  | volumev2                             |\n| url        | http://controller:8776/v2/%(project_id)s        |\n+--------------+-----------------------------------------------------+\n\n$ openstack endpoint create --region RegionOne \\\n  volumev2 internal http://controller:8776/v2/%\\(project_id\\)s\n\n+--------------+----------------------------------------------------+\n| Field      | Value                               |\n+--------------+----------------------------------------------------+\n| enabled     | True                                |\n| id        | 09753b537ac74422a68d2d791cf3714f             |\n| interface   | internal                                |\n| region     | RegionOne                              |\n| region_id   | RegionOne                              |\n| service_id   | f71529314dab4a4d8eca427e701d209e              |\n| service_name | cinderv2                             |\n| service_type | volumev2                             |\n| url       | http://controller:8776/v2/%(project_id)s        |\n+--------------+----------------------------------------------------+\n\n$ openstack endpoint create --region RegionOne \\\n  volumev2 admin http://controller:8776/v2/%\\(project_id\\)s\n\n+---------------+----------------------------------------------------+\n|Field       | Value                               |\n+---------------+----------------------------------------------------+\n| enabled     | True                                |\n| id          | e652cf84dd334f359ae9b045a2c91d96             |\n| interface    | admin                               |\n| region      | RegionOne                              |\n| region_id    | RegionOne                               |\n| service_id   | eb9fd245bdbc414695952e93f29fe3ac             |\n| service_name  | cinderv2                             |\n| service_type  | volumev2                             |\n| url        | http://controller:8776/v2/%(project_id)s        |\n+--------------+-----------------------------------------------------+\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_21","title":"openstack_stein_2node_install 1 - \u57fa\u7840\u73af\u5883\u642d\u5efa","text":"<pre><code>$ openstack endpoint create --region RegionOne \\\n  volumev3 public http://controller:8776/v3/%\\(project_id\\)s\n\n+---------------+----------------------------------------------------+\n|Field       | Value                               |\n+---------------+----------------------------------------------------+\n| enabled     | True                                |\n| id          | 03fa2c90153546c295bf30ca86b1344b             |\n| interface    | public                                  |\n| region      | RegionOne                              |\n| region_id    | RegionOne                              |\n| service_id   | ab3bbbef780845a1a283490d281e7fda             |\n| service_name  | cinderv3                             |\n| service_type  | volumev3                             |\n| url        | http://controller:8776/v3/%(project_id)s        |\n+--------------+-----------------------------------------------------+\n\n$ openstack endpoint create --region RegionOne \\\n  volumev3 internal http://controller:8776/v3/%\\(project_id\\)s\n\n+--------------+----------------------------------------------------+\n| Field      | Value                               |\n+--------------+----------------------------------------------------+\n| enabled     | True                                |\n| id        | 94f684395d1b41068c70e4ecb11364b2             |\n| interface   | internal                                |\n| region     | RegionOne                              |\n| region_id   | RegionOne                              |\n| service_id   | ab3bbbef780845a1a283490d281e7fda              |\n| service_name | cinderv3                             |\n| service_type | volumev3                             |\n| url       | http://controller:8776/v3/%(project_id)s        |\n+--------------+----------------------------------------------------+\n\n$ openstack endpoint create --region RegionOne \\\n  volumev3 admin http://controller:8776/v3/%\\(project_id\\)s\n\n+---------------+----------------------------------------------------+\n|Field       | Value                               |\n+---------------+----------------------------------------------------+\n| enabled     | True                                |\n| id          | 4511c28a0f9840c78bacb25f10f62c98             |\n| interface    | admin                               |\n| region      | RegionOne                              |\n| region_id    | RegionOne                               |\n| service_id   | ab3bbbef780845a1a283490d281e7fda             |\n| service_name  | cinderv3                             |\n| service_type  | volumev3                             |\n| url        | http://controller:8776/v3/%(project_id)s        |\n+--------------+-----------------------------------------------------+\n</code></pre> <p>\u6ce8\u610f:\u5757\u5b58\u50a8\u670d\u52a1\u9700\u8981\u6bcf\u4e2a\u670d\u52a1\u5b9e\u4f53\u7684\u7ec8\u7aef\u3002</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_22","title":"\u5b89\u88c5\u548c\u914d\u7f6e\u7ec4\u4ef6\uff1a","text":"<ul> <li>1.\u5b89\u88c5\uff1a</li> </ul> <pre><code>$ yum install openstack-cinder\n</code></pre> <ul> <li></li> <li> <p>2.\u7f16\u8f91\u6587\u4ef6<code>/etc/cinder/cinder.conf</code>\u5e76\u5b8c\u6210\u4e0b\u5217\u547d\u4ee4\uff1a</p> </li> <li> <p>\u5728\u8be5<code>[database]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u6570\u636e\u5e93\u8bbf\u95ee\uff1a </p> <pre><code>[database]\n# ...\nconnection = mysql+pymysql://cinder:CINDER_DBPASS@controller/cinder\n</code></pre> <p>\u66ff\u6362<code>CINDER_DBPASS</code>\u4e3a\u60a8\u4e3a\u6570\u636e\u5e93\u9009\u62e9\u7684\u5bc6\u7801\u3002</p> </li> <li> <p>\u5728\u8be5<code>[DEFAULT]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6eRabbitMQ\u6d88\u606f\u961f\u5217\uff1a </p> <pre><code>[DEFAULT]\n# ...\ntransport_url = rabbit://openstack:RABBIT_PASS@controller\n</code></pre> <p>\u66ff\u6362<code>RABBIT_PASS</code>\u4e3a\u4f60\u5728RabbitMQ\u4e2d\u4e3aopenstack\u8d26\u6237\u63d0\u4f9b\u7684\u5bc6\u7801\u3002</p> </li> <li> <p>\u5728\u8be5<code>[DEFAULT]</code>\u90e8\u5206\u548c<code>[keystone_authtoken]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u8eab\u4efd\u670d\u52a1\u8bbf\u95ee\uff1a</p> <pre><code>[DEFAULT]\n# ...\nauth_strategy = keystone\n\n[keystone_authtoken]\n# ...\nwww_authenticate_uri = http://controller:5000\nauth_url = http://controller:5000\nmemcached_servers = controller:11211\nauth_type = password\nproject_domain_name = default\nuser_domain_name = default\nproject_name = service\nusername = cinder\npassword = CINDER_PASS\n</code></pre> <p>\u66ff\u6362<code>CINDER_PASS</code>\u4e3a\u60a8<code>cinder</code> \u5728\u8eab\u4efd\u670d\u52a1\u4e2d\u4e3a\u7528\u6237\u9009\u62e9\u7684\u5bc6\u7801\u3002 </p> <p>\u6ce8\u610f:\u6ce8\u91ca\u6389\u6216\u5220\u9664[keystone_authtoken]\u90e8\u5206\u4e2d\u7684\u4efb\u4f55\u5176\u4ed6\u9009\u9879\u3002 </p> </li> <li> <p>\u5728<code>[DEFAULT]</code>\u90e8\u5206\u4e2d\u914d\u7f6emy_ip\u9009\u9879\u6765\u4f7f\u7528\u63a7\u5236\u8282\u70b9\u7684\u7f51\u7edc\u7ba1\u7406\u63a5\u53e3\uff1a</p> <pre><code>[DEFAULT]\n# ...\nmy_ip = 10.0.0.11\n</code></pre> </li> <li> <p>3.\u5728<code>[oslo_concurrency]</code>\u90e8\u5206\u4e2d\uff0c\u914d\u7f6e\u8def\u5f84\uff1a</p> </li> </ul> <pre><code>[oslo_concurrency]\n# ...\nlock_path = /var/lib/cinder/tmp\n</code></pre> <ul> <li>4.\u540c\u6b65\u5757\u50a8\u5b58\u6570\u636e\u5e93\uff1a</li> </ul> <pre><code>$ su -s /bin/sh -c \"cinder-manage db sync\" cinder\n</code></pre> <p>\u6ce8\u610f:\u5ffd\u89c6\u4efb\u4f55\u8f93\u51fa\u7ed3\u679c\u3002 </p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_23","title":"\u914d\u7f6e\u8ba1\u7b97\u670d\u52a1\u6765\u4f7f\u7528\u5757\u50a8\u5b58","text":"<ul> <li>1.\u7f16\u8f91<code>/etc/nova/nova.conf</code>\u6587\u4ef6\u5e76\u6dfb\u52a0\u5982\u4e0b\uff1a</li> </ul> <pre><code>[cinder]\nos_region_name = RegionOne\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_24","title":"\u6700\u7ec8\u786e\u5b9a\u5b89\u88c5","text":"<ul> <li>1.\u91cd\u542f\u8ba1\u7b97API\u670d\u52a1\uff1a</li> </ul> <pre><code>$ systemctl restart openstack-nova-api.service\n</code></pre> <ul> <li>2.\u5f00\u542f\u5757\u50a8\u5b58\u670d\u52a1\u5e76\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f\uff1a</li> </ul> <pre><code>$ systemctl enable openstack-cinder-api.service openstack-cinder-scheduler.service\n$ systemctl start openstack-cinder-api.service openstack-cinder-scheduler.service\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#compute","title":"\u5b89\u88c5\u5e76\u914d\u7f6e\u4e00\u4e2a\u50a8\u5b58\u8282\u70b9\uff08\u5728compute\u4e0a\u5b8c\u6210\uff09","text":""},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_25","title":"\u51c6\u5907","text":"<p>\u5728\u4f60\u5b89\u88c5\u5757\u50a8\u5b58\u670d\u52a1\u524d\u4f60\u5fc5\u987b\u5148\u51c6\u5907\u4e00\u5757\u989d\u5916\u7684\u50a8\u5b58\u8bbe\u5907(\u5728\u865a\u62df\u673a\u4e0a\u6dfb\u52a0\u4e00\u5757\u786c\u76d8)</p> <p>\u5728\u5b58\u50a8\u8282\u70b9\u4e0a\u5b8c\u6210\u4e0b\u5217\u6b65\u9aa4</p> <ul> <li> <p>1.\u5b89\u88c5\u652f\u6301\u5b9e\u7528\u7a0b\u5e8f\u5305\uff1a </p> </li> <li> <p>\u5b89\u88c5LVM\u5305\uff1a</p> <pre><code>$ yum install lvm2 device-mapper-persistent-data\n</code></pre> </li> <li> <p>\u5f00\u542fLVM\u670d\u52a1\u5e76\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f\uff1a</p> <pre><code>$ systemctl enable lvm2-lvmetad.service\n$ systemctl start lvm2-lvmetad.service\n</code></pre> <p>\u4e00\u4e9b\u5206\u5e03\u9ed8\u8ba4\u5305\u62ecLVM\u670d\u52a1</p> </li> <li> <p>2.\u521b\u5efaLVM\u7269\u7406\u5377<code>/dev/sdb</code>\uff1a </p> </li> </ul> <pre><code>$ pvcreate /dev/sdb\n\u6210\u529f\u540e\u663e\u793a\uff1a\nPhysical volume \"/dev/sdb\" successfully created\n</code></pre> <ul> <li>3.\u521b\u5efaLVM\u5377\u7ec4<code>cinder-volumes</code>\uff1a</li> </ul> <pre><code>$ vgcreate cinder-volumes /dev/sdb\n\u6210\u529f\u540e\u663e\u793a\uff1a\nVolume group \"cinder-volumes\" successfully created\n</code></pre> <p>\u5757\u5b58\u50a8\u670d\u52a1\u5728\u6b64\u5377\u7ec4\u4e2d\u521b\u5efa\u903b\u8f91\u5377\u3002</p> <ul> <li> <p>4.\u53ea\u6709\u5b9e\u4f8b\u624d\u80fd\u8bbf\u95ee\u5757\u5b58\u50a8\u5377\u3002\u4f46\u662f\uff0c\u5e95\u5c42\u64cd\u4f5c\u7cfb\u7edf\u7ba1\u7406\u4e0e\u5377\u5173\u8054\u7684\u8bbe\u5907\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cLVM\u5377\u626b\u63cf\u5de5\u5177\u626b\u63cf<code>/dev</code>\u76ee\u5f55\u4ee5\u67e5\u627e\u5305\u542b\u5377\u7684\u5757\u5b58\u50a8\u8bbe\u5907\u3002\u5982\u679c\u9879\u76ee\u5728\u5176\u5377\u4e0a\u4f7f\u7528LVM\uff0c\u626b\u63cf\u5de5\u5177\u5c06\u68c0\u6d4b\u8fd9\u4e9b\u5377\u5e76\u5c1d\u8bd5\u7f13\u5b58\u5b83\u4eec\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5e95\u5c42\u64cd\u4f5c\u7cfb\u7edf\u548c\u9879\u76ee\u5377\u51fa\u73b0\u5404\u79cd\u95ee\u9898\u3002\u5fc5\u987b\u91cd\u65b0\u914d\u7f6eLVM\uff0c\u4ee5\u4fbf\u4ec5\u626b\u63cf\u5305\u542bcinder\u5377\u5377\u7ec4\u7684\u8bbe\u5907\u3002\u7f16\u8f91<code>/etc/lvm/lvm.conf</code>\u6587\u4ef6\u5e76\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> </li> <li> <p>\u5728devices\u9009\u9879\u4e2d\uff0c\u589e\u52a0\u4e00\u4e2a\u63a5\u53d7<code>/dev/sdb</code>\u8bbe\u5907\u5e76\u62d2\u7edd\u6240\u6709\u5176\u4ed6\u8bbe\u5907\u7684\u7b5b\u9009\u5668\uff1a</p> <pre><code>devices {\n...\nfilter = [ \"a/sda/\", \"a/sdb/\", \"r/.*/\"]\n</code></pre> <p>\u7b5b\u9009\u5668\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u9879\u90fd\u4ee5<code>for accept</code>\u6216<code>r for reject</code>\u5f00\u5934\uff0c\u5e76\u5305\u542b\u8bbe\u5907\u540d\u79f0\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u3002\u6570\u7ec4\u5fc5\u987b\u4ee5r/*/\u7ed3\u5c3e\u624d\u80fd\u62d2\u7edd\u4efb\u4f55\u5269\u4f59\u7684\u8bbe\u5907\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528<code>vgs-vvvv</code>\u547d\u4ee4\u6765\u6d4b\u8bd5\u8fc7\u6ee4\u5668\u3002</p> <pre><code>$ systemctl enable lvm2-lvmetad.service\n$ systemctl start lvm2-lvmetad.service\n</code></pre> <p>\u4e00\u4e9b\u5206\u5e03\u9ed8\u8ba4\u5305\u62ecLVM\u670d\u52a1</p> </li> </ul>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_26","title":"\u5b89\u88c5\u548c\u914d\u7f6e\u7ec4\u4ef6","text":"<ul> <li>1.\u5b89\u88c5\u652f\u6301\u5b9e\u7528\u7a0b\u5e8f\u5305\uff1a </li> </ul> <pre><code>$ yum install openstack-cinder targetcli python-keystone\n</code></pre> <ul> <li> <p>2.\u7f16\u8f91<code>/etc/cinder/cinder.conf</code>\u6587\u4ef6\u5e76\u5b8c\u6210\u4e0b\u5217\u64cd\u4f5c\uff1a </p> </li> <li> <p>\u5728<code>[database]</code>\u9009\u9879\uff0c\u914d\u7f6e\u6570\u636e\u5e93\uff1a</p> <pre><code>[database]\n# ...\nconnection = mysql+pymysql://cinder:CINDER_DBPASS@controller/cinder\n</code></pre> <p>\u66ff\u6362<code>CINDER_DBPASS</code>\u4e3a\u4f60\u7684\u7528\u4e8e\u5757\u50a8\u5b58\u6570\u636e\u5e93\u7684\u5bc6\u7801\u3002</p> </li> <li> <p>\u5728<code>[DEFAULT]</code>\u9009\u9879\u4e2d\u914d\u7f6e<code>RabbitMQ</code>\u6d88\u606f\u961f\u5217\uff1a</p> <pre><code>[DEFAULT]\n# ...\ntransport_url = rabbit://openstack:RABBIT_PASS@controller\n</code></pre> <p>\u66ff\u6362<code>RABBIT_PASS</code>\u4e3a\u4f60\u7684\u7528\u4e8eRABBITMQ\u4e2dopenstack\u8d26\u6237\u7684\u5bc6\u7801\u3002</p> </li> <li> <p>\u5728<code>[DEFAULT]</code>\u548c<code>[keystone_authtoken]</code>\u9009\u9879\u4e2d\u914d\u7f6e\u8eab\u4efd\u8ba4\u8bc1\uff1a</p> <pre><code>[DEFAULT]\n# ...\nauth_strategy = keystone\n\n[keystone_authtoken]\n# ...\nwww_authenticate_uri = http://controller:5000\nauth_url = http://controller:5000\nmemcached_servers = controller:11211\nauth_type = password\nproject_domain_name = default\nuser_domain_name = default\nproject_name = service\nusername = cinder\npassword = CINDER_PASS\n</code></pre> <p>\u66ff\u6362<code>CINDER_DBPASS</code>\u4e3a\u4f60\u7684\u7528\u4e8e\u5757\u50a8\u5b58\u6570\u636e\u5e93\u7684\u5bc6\u7801\u3002</p> <p>\u53bb\u9664\u5728<code>[keystone_authtoken]</code>\u9879\u76ee\u4e2d\u6240\u6709\u9664\u4e0a\u9762\u8f93\u5165\u5185\u5bb9\u4e4b\u5916\u7684\u5176\u4ed6\u5185\u5bb9</p> </li> <li> <p>\u5728<code>[DEFAULT]</code>\u9009\u9879\u4e2d\u914d\u7f6e<code>[my_ip]</code>\u9009\u9879\uff1a</p> <pre><code>[DEFAULT]\n# ...\nmy_ip = MANAGEMENT_INTERFACE_IP_ADDRESS\n</code></pre> <p>\u66ff\u6362<code>MANAGEMENT_INTERFACE_IP_ADDRESS</code>\u4e3a\u4f60\u5b58\u50a8\u8282\u70b9\u4e0a\u7684\u7ba1\u7406\u63a5\u53e3ip\u5730\u5740\u3002</p> </li> <li> <p>\u5728<code>[lvm]</code>\u9009\u9879\u4e2d\u914d\u7f6e\u4f7f\u7528LVM\u9a71\u52a8\u7a0b\u5e8f\u3001<code>cinder-volume</code>\u5377\u7ec4\u3001iSCSI\u534f\u8bae\u548c\u9002\u5f53\u7684iSCSI\u670d\u52a1\u914d\u7f6eLVM\u540e\u7aef\u3002\u5982\u679c<code>[lvm]</code>\u90e8\u5206\u4e0d\u5b58\u5728\uff0c\u5219\u521b\u5efa\u5b83\uff1a </p> <pre><code>[lvm]\nvolume_driver = cinder.volume.drivers.lvm.LVMVolumeDriver\nvolume_group = cinder-volumes\ntarget_protocol = iscsi\ntarget_helper = lioadm\n</code></pre> </li> <li> <p>\u5728<code>[DEFAULT]</code>\u9009\u9879\u4e2d\u542f\u7528LVM\u540e\u7aef\uff1a</p> <pre><code>[DEFAULT]\n# ...\nenabled_backends = lvm\n</code></pre> <p>\u6ce8\u610f </p> <p>\u540e\u7aef\u540d\u79f0\u662f\u4efb\u610f\u7684\u3002\u4f8b\u5982\uff0c\u672c\u6307\u5357\u4f7f\u7528\u9a71\u52a8\u7a0b\u5e8f\u7684\u540d\u79f0\u4f5c\u4e3a\u540e\u7aef\u7684\u540d\u79f0\u3002</p> </li> <li> <p>\u5728<code>[DEFAULT]</code>\u9009\u9879\u4e2d\u914d\u7f6e\u6620\u50cf\u670d\u52a1API\u7684\u4f4d\u7f6e\uff1a </p> <pre><code>[DEFAULT]\n# ...\nglance_api_servers = http://controller:9292\n</code></pre> </li> <li> <p>\u5728<code>[oslo_concurrency]</code>\u9009\u9879\u4e2d\u914d\u7f6e\u9501\u5b9a\u8def\u5f84\uff1a</p> <pre><code>[oslo_concurrency]\n# ...\nlock_path = /var/lib/cinder/tmp\n</code></pre> </li> </ul> <p>### \u6700\u7ec8\u5b89\u88c5</p> <ul> <li>4.\u542f\u52a8\u5757\u5b58\u50a8\u5377\u670d\u52a1\uff08\u5305\u62ec\u5176\u4f9d\u8d56\u9879\uff09\uff0c\u5e76\u5c06\u5176\u914d\u7f6e\u4e3a\u5728\u7cfb\u7edf\u542f\u52a8\u65f6\u542f\u52a8\uff1a </li> </ul> <pre><code>$ systemctl enable openstack-cinder-volume.service target.service\n$ systemctl start openstack-cinder-volume.service target.service\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_27","title":"\u5b89\u88c5\u5e76\u914d\u7f6e\u4e00\u4e2a\u5907\u4efd\u8282\u70b9","text":"<p>\uff08\u53ef\u9009\uff09\u5b89\u88c5\u548c\u914d\u7f6e\u5907\u4efd\u670d\u52a1\u3002\u4e3a\u4e86\u7b80\u5355\u8d77\u89c1\uff0c\u6b64\u914d\u7f6e\u4f7f\u7528\u5757\u5b58\u50a8\u8282\u70b9\u548c\u5bf9\u8c61\u5b58\u50a8\uff08swift\uff09\u9a71\u52a8\u7a0b\u5e8f\uff0c\u56e0\u6b64\u4f9d\u8d56\u4e8e\u5bf9\u8c61\u5b58\u50a8\u670d\u52a1\u3002 </p> <p>\u6ce8\u610f\uff1a\u5728\u5b89\u88c5\u548c\u914d\u7f6e\u5907\u4efd\u670d\u52a1\u4e4b\u524d\uff0c\u5fc5\u987b\u5b89\u88c5\u548c\u914d\u7f6e\u5b58\u50a8\u8282\u70b9\u3002</p>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_28","title":"\u5b89\u88c5\u5e76\u914d\u7f6e\u7ec4\u4ef6","text":"<p>\u6ce8\u610f\uff1a\u5728\u5757\u5b58\u50a8\u8282\u70b9\u4e0a\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\u3002</p> <ul> <li>1.\u5b89\u88c5\u7a0b\u5e8f\u5305\uff1a </li> </ul> <pre><code>$ yum install openstack-cinder\n</code></pre> <ul> <li> <p>2.\u7f16\u8f91<code>/etc/cinder/cinder.conf</code>\u6587\u4ef6\u5e76\u5b8c\u6210\u4e0b\u5217\u64cd\u4f5c\uff1a </p> </li> <li> <p>\u5728<code>[DEFAULT]</code>\u9009\u9879\u4e2d\u914d\u7f6e\u5907\u4efd\u9009\u9879 \uff1a</p> <pre><code>[DEFAULT]\n# ...\nbackup_driver = cinder.backup.drivers.swift\nbackup_swift_url = SWIFT_URL\n</code></pre> <p>\u5c06SWIFT_URL\u66ff\u6362\u4e3a\u5bf9\u8c61\u5b58\u50a8\u670d\u52a1\u7684URL\u3002URL\u53ef\u4ee5\u901a\u8fc7\u663e\u793a\u5bf9\u8c61\u5b58\u50a8API\u7ec8\u7ed3\u70b9\u6765\u627e\u5230\uff1a </p> <pre><code>$ openstack catalog show object-store\n</code></pre> </li> </ul>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_29","title":"\u6700\u7ec8\u5b89\u88c5","text":"<p>\u542f\u52a8\u5757\u5b58\u50a8\u5907\u4efd\u670d\u52a1\uff0c\u5e76\u5c06\u5176\u914d\u7f6e\u4e3a\u5728\u7cfb\u7edf\u542f\u52a8\u65f6\u542f\u52a8\uff1a </p> <pre><code>$ systemctl enable openstack-cinder-backup.service\n$ systemctl start openstack-cinder-backup.service\n</code></pre>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#cinder_1","title":"\u9a8c\u8bc1cinder\u64cd\u4f5c","text":"<p>\u9a8c\u8bc1\u5757\u5b58\u50a8\u670d\u52a1\u7684\u64cd\u4f5c\u3002</p> <p>\u6ce8\u610f\uff1a\u5728\u63a7\u5236\u5668\u8282\u70b9\u4e0a\u6267\u884c\u8fd9\u4e9b\u547d\u4ee4\u3002 </p> <ul> <li>1.\u83b7\u53d6\u7ba1\u7406\u5458\u51ed\u636e\u4ee5\u8bbf\u95ee\u4ec5\u9650\u7ba1\u7406\u5458\u7684CLI\u547d\u4ee4\uff1a</li> </ul> <pre><code>$ source admin-openrc\n</code></pre> <ul> <li> <p>2.\u5217\u51fa\u670d\u52a1\u7ec4\u4ef6\u4ee5\u9a8c\u8bc1\u6bcf\u4e2a\u8fdb\u7a0b\u662f\u5426\u6210\u529f\u542f\u52a8\uff1a  </p> </li> <li> <p><code>$ openstack volume service list   +------------------+------------+------+---------+-------+----------------------------+   | Binary        | Host     | Zone | Status  | State | Updated_at            |   +------------------+------------+------+---------+-------+----------------------------+   | cinder-scheduler | controller | nova | enabled | up   | 2016-09-30T02:27:41.000000 |   | cinder-volume   | block@lvm  | nova | enabled | up   | 2016-09-30T02:27:46.000000 |   | cinder-backup   | controller | nova | enabled | up   | 2016-09-30T02:27:41.000000 |   +------------------+------------+------+---------+-------+----------------------------+</code></p> </li> </ul>"},{"location":"LINUX/NJPI.openstack2/%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/#_30","title":"openstack_stein_2node_install 1 - \u57fa\u7840\u73af\u5883\u642d\u5efa","text":""},{"location":"LINUX/NJPI.openstack2/%E6%9C%8D%E5%8A%A1%E5%AE%89%E8%A3%85%E6%B5%81%E7%A8%8B/","title":"\u670d\u52a1\u5b89\u88c5\u6d41\u7a0b","text":""},{"location":"LINUX/NJPI.openstack2/%E6%9C%8D%E5%8A%A1%E5%AE%89%E8%A3%85%E6%B5%81%E7%A8%8B/#1","title":"1\u3001\u6570\u636e\u5e93\u64cd\u4f5c","text":"<ol> <li>\u521b\u5efa\u6570\u636e\u5e93</li> <li>\u521b\u5efauser/passowrd  </li> </ol>"},{"location":"LINUX/NJPI.openstack2/%E6%9C%8D%E5%8A%A1%E5%AE%89%E8%A3%85%E6%B5%81%E7%A8%8B/#2keystone","title":"2\u3001keystone\u64cd\u4f5c","text":"<ol> <li>\u521b\u5efauser</li> <li>\u5bf9user\u6388\u6743</li> <li>\u521b\u5efaservice</li> <li>\u521b\u5efaendpoint</li> </ol>"},{"location":"LINUX/NJPI.openstack2/%E6%9C%8D%E5%8A%A1%E5%AE%89%E8%A3%85%E6%B5%81%E7%A8%8B/#3","title":"3\u3001\u5b89\u88c5\u670d\u52a1","text":""},{"location":"LINUX/NJPI.openstack2/%E6%9C%8D%E5%8A%A1%E5%AE%89%E8%A3%85%E6%B5%81%E7%A8%8B/#4","title":"4\u3001\u914d\u7f6e\u670d\u52a1","text":"<ol> <li>\u4fee\u6539\u6570\u636e\u5e93\u8fde\u63a5\u53c2\u6570</li> <li>\u540c\u6b65\u6570\u636e\u5e93</li> <li>\u8bbe\u7f6ekeystone\u6388\u6743</li> </ol>"},{"location":"LINUX/NJPI.openstack2/%E6%9C%8D%E5%8A%A1%E5%AE%89%E8%A3%85%E6%B5%81%E7%A8%8B/#5","title":"5\u3001\u542f\u52a8\u670d\u52a1","text":""},{"location":"LINUX/NJPI.openstack2/%E6%9C%8D%E5%8A%A1%E5%AE%89%E8%A3%85%E6%B5%81%E7%A8%8B/#6","title":"6\u3001\u9a8c\u8bc1\u670d\u52a1","text":""},{"location":"LINUX/docker/%E6%9C%AA%E5%AE%8C%E6%88%90docker/","title":"Docker image \u5bfc\u51fa\u4e0e\u52a0\u8f7d","text":"<ul> <li> <p>\u8981\u5bfc\u51fa Docker \u955c\u50cf\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 docker save \u547d\u4ee4\u3002\u8fd9\u5c06\u5141\u8bb8\u60a8\u5c06 Docker \u955c\u50cf\u4fdd\u5b58\u4e3a\u4e00\u4e2a\u5355\u4e2a\u7684 tar \u5f52\u6863\u6587\u4ef6\uff0c\u4ee5\u4fbf\u7a0d\u540e\u53ef\u4ee5\u5728\u53e6\u4e00\u4e2a Docker \u4e3b\u673a\u4e0a\u5bfc\u5165\u3002</p> <pre><code>docker save -o &lt;output_filename&gt;.tar &lt;image_name&gt;\n</code></pre> </li> <li> <p>\u8981\u5728\u53e6\u4e00\u4e2a Docker \u4e3b\u673a\u4e0a\u5bfc\u5165\u6b64\u5bfc\u51fa\u7684\u955c\u50cf\uff0c\u53ef\u4ee5\u4f7f\u7528 docker load \u547d\u4ee4\u3002\u4f8b\u5982\uff1a     <pre><code>docker load -i myapp_image.tar\n</code></pre></p> </li> </ul>"},{"location":"LINUX/docker/%E6%9C%AA%E5%AE%8C%E6%88%90docker/#docker","title":"Docker\u57fa\u672c\u547d\u4ee4","text":"<ul> <li><code>docker ps -a</code>:\u67e5\u770b\u8fdb\u7a0b</li> <li><code>ocker run -it --name mcentos centos /bin/bash</code>: \u521b\u5efa\u4e00\u4e2a\u5bb9\u5668\uff0c\u4ee5bash\u8fdb\u884c\u4ea4\u4e92</li> <li><code>docker start [docker-name]</code>: \u542f\u52a8\u4e00\u4e2adocker</li> <li><code>doocker stop [docker-name]/[docker-id]</code>: \u505c\u6b62\u6307\u5b9a\u7684docker</li> <li><code>docker exec -it [docker-name] bash</code>: \u6307\u5b9a\u5bb9\u5668\u6267\u884cbash</li> <li> <p><code>docker run -id</code>:  <code>run</code>:\u521b\u5efa\u4e00\u4e2a\u65b0\u7684docker  <code>-d</code>: \u4ee5\u540e\u53f0\u767b\u9646</p> </li> <li> <p>--name=\"nginx-lb\":\u4e3a\u5bb9\u5668\u6307\u5b9a\u4e00\u4e2a\u540d\u79f0\uff1b</p> <p>-d:\u540e\u53f0\u8fd0\u884c\u5bb9\u5668\uff0c\u5e76\u8fd4\u56de\u5bb9\u5668ID\uff1b</p> <p>-p:\u6307\u5b9a\u6620\u5c04\u7aef\u53e3\u53f7\uff0c\u672c\u6587\u662f\u5c06ssh\u768422\u7aef\u53e3\u6620\u5c04\u4e3a10022\u7aef\u53e3\uff0cweb\u8bbf\u95ee\u768480\u7aef\u53e3\u6620\u5c04\u4e3a80\u7aef\u53e3</p> <p>-volume: \u7528\u6765\u6307\u5b9a\u6302\u8f7d\u76ee\u5f55\uff0c\u5c06config\u914d\u7f6e\u76ee\u5f55\u3001data\u6570\u636e\u76ee\u5f55\u3001logs\u65e5\u5fd7\u76ee\u5f55\u6302\u8f7d\u5230\u5bbf\u4e3b\u673a\u4e0a\uff0c\u4ee5\u540e\u5907\u4efd\u65b9\u4fbf</p> </li> </ul> <pre><code>[root@controller ~]# docker exec -it dockermysql bash\nroot@3d4b2e0522a0:/# mysql -uroot -p\nEnter password: \nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 9\nServer version: 8.0.18 MySQL Community Server - GPL\n\nCopyright (c) 2000, 2019, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\nmysql&gt; GRANT ALL PRIVILEGES ON *.* to 'root'@'%';\nQuery OK, 0 rows affected (0.05 sec)\n\nmysql&gt; flush privileges;\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql&gt; alter user 'root'@'%' identified with mysql_native_password by '123456';\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql&gt; quit\nBye\nroot@3d4b2e0522a0:/# exit\nexit\n[root@controller ~]# mysql -h 172.17.0.4 -uroot -p123456\n</code></pre> <p>docker \u521b\u5efagitlab\u4ed3\u5e93</p> <pre><code>docker run \\\n--detach \\\n--publish 8443:443 \\    # \u6620\u5c04https\u7aef\u53e3, \u4e0d\u8fc7\u672c\u6587\u4e2d\u6ca1\u6709\u7528\u5230\n--publish 8090:80 \\      # \u6620\u5c04\u5bbf\u4e3b\u673a8090\u7aef\u53e3\u5230\u5bb9\u5668\u4e2d80\u7aef\u53e3\n--publish 8022:22 \\      # \u6620\u5c0422\u7aef\u53e3, \u53ef\u4e0d\u914d\n--name gitlab \\            \n--restart always \\\n--hostname 10.12.2.22 \\    # \u5c40\u57df\u7f51\u5bbf\u4e3b\u673a\u7684ip, \u5982\u679c\u662f\u516c\u7f51\u4e3b\u673a\u53ef\u4ee5\u5199\u57df\u540d\n-v /home/software/gitlab/etc:/etc/gitlab \\    # \u6302\u8f7dgitlab\u7684\u914d\u7f6e\u6587\u4ef6\n-v /home/software/gitlab/logs:/var/log/gitlab \\    # \u6302\u8f7dgitlab\u7684\u65e5\u5fd7\u6587\u4ef6\n-v /home/software/gitlab/data:/var/opt/gitlab \\    # \u6302\u8f7dgitlab\u7684\u6570\u636e\n-v /etc/localtime:/etc/localtime:ro \\    # \u4fdd\u6301\u5bbf\u4e3b\u673a\u548c\u5bb9\u5668\u65f6\u95f4\u540c\u6b65\n--privileged=true \\    # \u5728\u5bb9\u5668\u4e2d\u80fd\u4ee5root\u8eab\u4efd\u6267\u884c\u64cd\u4f5c\nbeginor/gitlab-ce\n</code></pre>"},{"location":"LINUX/redhat%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%28%E4%B9%A6%29/01%E7%8E%AF%E5%A2%83%E4%BB%8B%E7%BB%8D/","title":"01\u73af\u5883\u4ecb\u7ecd","text":""},{"location":"LINUX/redhat%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%28%E4%B9%A6%29/01%E7%8E%AF%E5%A2%83%E4%BB%8B%E7%BB%8D/#_1","title":"\u73af\u5883\u4ecb\u7ecd","text":"<ul> <li> <p>\u6ce8:  \u8fd9\u91cc\u4f7f\u7528\u7684\u7248\u672c\u662fRHEL7</p> </li> <li> <p>\u7cfb\u7edf\u5206\u522b\u662f<code>desktop</code>\u548c<code>server</code>,\u5176\u4e2d\u4e3b\u673a\u540d\u4e3adesktopX.example.com \u548c serverX.example.com\u5176\u4e2d\u7684X\u56e0\u5b66\u5458\u4e0d\u540c,\u800c\u4e0d\u540c</p> </li> <li>\u5b66\u5458\u6709\u4e00\u53f0\u7269\u7406\u8ba1\u7b97\u673a foundationX, \u5728\u8fd9\u4e0a\u9762\u4f7f\u7528\u4e00\u4e2a\u540d\u4e3a rht-vmct1\u7684\u7279\u6b8a\u547d\u4ee4 \u6765\u64cd\u4f5c <code>desktop</code>\u548c<code>server</code></li> </ul>"},{"location":"LINUX/redhat%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%28%E4%B9%A6%29/01%E7%8E%AF%E5%A2%83%E4%BB%8B%E7%BB%8D/#rht-vmct1","title":"rht-vmct1\u547d\u4ee4","text":"\u64cd\u4f5c \u547d\u4ee4 \u542f\u52a8 server rht-vmct1 start server \u67e5\u770b \"\u7269\u7406\u63a7\u5236\u53f0\",\u4ee5\u8fdb\u884c\u767b\u5f55\u5e76\u64cd\u4f5cserver\u8ba1\u7b97\u673a rht-vmct1 viewserver \u5c06server\u91cd\u7f6e\u4e3a\u4e4b\u524d\u7684\u72b6\u6001,\u5e76\u91cd\u542f\u865a\u62df\u673a rht-vmct1 resetserver"},{"location":"LINUX/redhat%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%28%E4%B9%A6%29/others/","title":"Others","text":"<ul> <li> <p>ctrl+alt+L \u53ef\u4ee5\u9501\u5b9a\u7528\u6237</p> </li> <li> <p>ctrl+alt+del \u53ef\u4ee5\u5173\u673a, \u91cd\u542f</p> </li> </ul>"},{"location":"LINUX/shell/01vim%EF%BC%881%EF%BC%89/","title":"01vim\uff081\uff09","text":"<p>vim \u6709\u672b\u884c(\u547d\u4ee4\u6a21\u5f0fESC)  \u53ef\u89c6\u6a21\u5f0f(v,V,ctrl+v)  \u63d2\u5165\u6a21\u5f0f(IAO) \u547d\u4ee4\u6a21\u5f0f(:commend)</p>"},{"location":"LINUX/shell/01vim%EF%BC%881%EF%BC%89/#vimetcvimrc","title":"\u8bbe\u7f6e\u6c38\u4e45\u7684\u73af\u5883\u4fee\u6539VIM\u7684\u73af\u5883\u914d\u7f6e\u6587\u4ef6<code>/etc/vimrc</code>","text":"<ul> <li><code>/etc/vimrc</code>\uff1a\u5f71\u54cd\u6240\u6709\u7cfb\u7edf\u7528\u6237</li> <li><code>~/.vimrc</code>\uff1a\u5f71\u54cd\u5f53\u524d\u7528\u6237</li> </ul> \u00b7:set nu nu=number \u663e\u793a\u884c\u53f7 :set ic ic=ignore  case \u4e0d\u533a\u5206\u5927\u5c0f\u5199 :set ai ai=auto indent \u81ea\u52a8\u7f29\u8fdb :set list \u4f8b\u5982\uff1a\u6362\u884c\u3001\u7a7a\u683c \u663e\u793a\u63a7\u5236\u5b57\u7b26"},{"location":"LINUX/shell/01vim%EF%BC%881%EF%BC%89/#_1","title":"\u67e5\u627e\u66ff\u6362\u548c\u53e6\u5b58","text":"<ul> <li>\u66ff\u6362\u683c\u5f0f\uff1a<code>\uff1a1,5 s/old/new/\u9009\u9879</code>\uff1a   1,5\u662f\u8303\u56f4\u884c</li> <li><code>:% s/root/lhq/</code> \uff1a <code>%</code>\u7b49\u4e8e<code>1,$</code>\u6240\u6709\u7684</li> <li><code>:s/^#//g</code> \uff1a\u66ff\u6362\u6240\u6709\u7684\u4ee5#\u5f00\u5934\u7684\u4e3a\u65e0 <code>g:global</code></li> <li><code>:% s#/dev/sda#/dev/sdb#g</code> \uff1a\u628asda\u7684\u5185\u5bb9\u5199\u5230sdb\u91cc\u53bb(<code>#</code>\u6216\u8005<code>\\/</code>\u7b49\u4e8e<code>/</code>) </li> <li>\u67e5\u627e\u683c\u5f0f\uff1a<code>:/\u67e5\u627e\u7684\u5185\u5bb9</code> \u53ef\u7528\u6b63\u5219\u8868\u8fbe\u5f0f</li> <li>\u8bfb\u3001\u5199\u3001\u53e6\u5b58\u6587\u4ef6\uff1a</li> <li><code>w</code>  \u5b58\u50a8\u5230\u5f53\u524d\u6587\u4ef6</li> <li><code>w /tmp/aaa.txt</code> \u53e6\u5b58</li> <li><code>1,3 w /tmp/aaa.txt</code> \u53e6\u5b58\u591a\u5c11\u884c</li> <li><code>:r filename</code> \u5c06\u6587\u4ef6\u5199\u5165\u5230\u5f53\u524d\u6587\u6863</li> <li><code>:5 r filename</code> \u8bfb\u5165\u6587\u4ef6\u5230\u7b2c5\u884c</li> </ul>"},{"location":"LINUX/shell/01vim%EF%BC%881%EF%BC%89/#_2","title":"\u590d\u5236\uff0c\u526a\u5207\uff0c\u5220\u9664","text":"<ul> <li>\u672b\u884c\u6a21\u5f0f\uff08\u547d\u4ee4\u6a21\u5f0f\uff09\u4e0b \uff1a</li> <li><code>nyy</code>  \u590d\u5236\u5f53\u524d\u4ee5\u4e0bn\u884c</li> <li><code>dd</code> \u526a\u5207\u5f53\u524d\u884c</li> <li><code>ndd</code> \u526a\u5207\u5f53\u524d\u4e0bn\u884c</li> <li><code>p</code>\u5c0f\u5199  \u5728\u5149\u6807\u4e0b\u7c98\u8d34   <code>P</code>\u5927\u5199   \u5149\u6807\u4e0a\u7c98\u8d34</li> <li><code>x</code> \u5220\u9664\u5149\u6807\u5904\u4e00\u4e2a\u5b57\u7b26   <code>nx</code> \u5220\u9664\u5149\u6807\u540en\u4e2a</li> <li><code>dG</code> \u5220\u9664\u5149\u6807\u5230\u6587\u4ef6\u672b\u5c3e</li> <li><code>D</code> \u5220\u9664\u5149\u6807\u5230\u884c\u5c3e</li> </ul>"},{"location":"LINUX/shell/01vim%EF%BC%881%EF%BC%89/#_3","title":"\u91cd\u5b9a\u5411\u547d\u4ee4","text":"\u547d\u4ee4 \u9009\u9879 \u6587\u4ef6\u540d \u7ed3\u679c commend &gt; filename \u5c06\u7ed3\u679c\u5199\u6210(\u66ff\u6362)\u5230\u6587\u4ef6 commend &gt;&gt; filename \u5c06\u7ed3\u679c\u8ffd\u52a0\u5230\u6587\u4ef6 commend &lt; filename \u5c06\u547d\u4ee4\u5199\u6210(\u66ff\u6362)\u5230\u6587\u4ef6 commend &lt;&lt; filename \u5c06\u547d\u4ee4\u8ffd\u52a0\u5230\u6587\u4ef6"},{"location":"LINUX/shell/01vim%EF%BC%881%EF%BC%89/#_4","title":"\u591a\u7a97\u53e3\u663e\u793a\u6a21\u5f0f","text":"<ul> <li>\u6c34\u5e73\u663e\u793a\uff1a<code>:sp filename</code></li> <li>\u7a97\u53e3\u76f4\u63a5\u5207\u6362\uff1a<code>Ctrl+w+k</code>(\u4e0a\u4e00\u4e2a\u7a97\u53e3)<code>Ctrl+w+j</code>(\u4e0b\u4e00\u4e2a\u7a97\u53e3)</li> <li> <p><code>Ctrl+w+\u4e0a\u4e0b\u65b9\u5411\u952e</code></p> </li> <li> <p>\u5782\u76f4\u663e\u793a\uff1a <code>:vs filename</code></p> </li> <li>\u7a97\u53e3\u76f4\u63a5\u5207\u6362\uff1a<code>Ctrl+w+h</code>(\u5de6\u4e00\u4e2a\u7a97\u53e3)<code>Ctrl+w+l</code>(\u53f3\u4e00\u4e2a\u7a97\u53e3)</li> <li><code>Ctrl+w+\u5de6\u53f3\u65b9\u5411\u952e</code></li> <li> <p>\u5782\u76f4\u5206\u5272\u7a97\u53e3\uff1a<code>vim -O ./a.txt ./b.txt</code>   \u5927\u5199O</p> </li> <li> <p>\u6c34\u5e73\u5206\u5272\u7a97\u53e3\uff1a<code>vim -o ./a.txt ./b.tx</code>   \u5c0f\u5199o</p> </li> <li> <p>\u6587\u4ef6\u7684\u5207\u6362</p> </li> </ul> <p></p>"},{"location":"LINUX/shell/01vim%EF%BC%881%EF%BC%89/#_5","title":"\u53ef\u89c6\u6a21\u5f0f","text":"<p>v       \u5b57\u7b26\u53ef\u89c6\u5316</p> <p>V       \u884c\u53ef\u89c6\u5316</p> <p>ctrl+v  \u5757\u53ef\u89c6\u5316</p> <p></p>"},{"location":"LINUX/shell/01vim%EF%BC%882%EF%BC%89/","title":"vim\u7684\u4f7f\u7528","text":""},{"location":"LINUX/shell/01vim%EF%BC%882%EF%BC%89/#1vim","title":"1\u3001vim\u5e38\u7528\u547d\u4ee4","text":""},{"location":"LINUX/shell/01vim%EF%BC%882%EF%BC%89/#11","title":"1.1 \u63d2\u5165","text":"<ol> <li>i \u5728\u5f53\u524d\u4f4d\u7f6e\u4e4b\u524d\u4e00\u4e2a\u5b57\u7b26\u4f4d\u7f6e\u63d2\u5165</li> <li>I \u5728\u5f53\u524d\u884c\u9996\u63d2\u5165</li> <li>a \u5728\u5f53\u524d\u4f4d\u7f6e\u540e\u63d2\u5165</li> <li>A \u5728\u5f53\u524d\u884c\u5c3e\u63d2\u5165</li> <li>o \u5728\u5f53\u524d\u884c\u4e4b\u540e\u63d2\u5165\u4e00\u884c</li> <li>O \u5728\u5f53\u524d\u884c\u4e4b\u524d\u63d2\u5165\u4e00\u884c</li> </ol>"},{"location":"LINUX/shell/01vim%EF%BC%882%EF%BC%89/#12","title":"1.2 \u4fdd\u5b58","text":"<ol> <li>:wq \u4fdd\u5b58\u5e76\u9000\u51fa</li> <li>ZZ(shift+ zz) \u4fdd\u5b58\u5e76\u9000\u51fa</li> <li>:q! \u5f3a\u5236\u9000\u51fa\u5e76\u5ffd\u7565\u6240\u6709\u66f4\u6539</li> <li>:e! \u653e\u5f03\u6240\u6709\u4fee\u6539\uff0c\u5e76\u6253\u5f00\u539f\u6765\u6587\u4ef6\u3002</li> </ol>"},{"location":"LINUX/shell/01vim%EF%BC%882%EF%BC%89/#13","title":"1.3 \u5220\u9664","text":"<ol> <li>dl \u5220\u9664\u5f53\u524d\u5b57\u7b26\uff0c dl=x</li> <li>dh \u5220\u9664\u524d\u4e00\u4e2a\u5b57\u7b26</li> <li>dd \u5220\u9664\u5f53\u524d\u884c</li> <li>dj \u5220\u9664\u4e0a\u4e00\u884c</li> <li>dk \u5220\u9664\u4e0b\u4e00\u884c</li> <li>:1,10d \u5220\u96641-10\u884c</li> <li>:11,$d \u5220\u966411\u884c\u53ca\u4ee5\u540e\u6240\u6709\u7684\u884c</li> <li>:1,$d \u5220\u9664\u6240\u6709\u884c</li> <li>J(shift + j)\u5220\u9664\u4e24\u884c\u4e4b\u95f4\u7684\u7a7a\u884c\uff0c\u5b9e\u9645\u4e0a\u662f\u5408\u5e76\u4e24\u884c\u3002</li> <li>10d \u5220\u9664\u5f53\u524d\u884c\u5f00\u59cb\u768410\u884c</li> </ol>"},{"location":"LINUX/shell/01vim%EF%BC%882%EF%BC%89/#14","title":"1.4\u590d\u5236\u4e0e\u7c98\u8d34","text":"<ol> <li>yy \u62f7\u8d1d\u5f53\u524d\u884c</li> <li>nyy \u62f7\u8d1d\u5f53\u524d\u540e\u5f00\u59cb\u7684n\u884c\uff0c\u6bd4\u59822yy\u62f7\u8d1d\u5f53\u524d\u884c\u53ca\u5176\u4e0b\u4e00\u884c\u3002</li> <li>shift+p \u5728\u5f53\u524d\u884c\u524d\u7c98\u8d34</li> <li>ddp\u4ea4\u6362\u5f53\u524d\u884c\u548c\u5176\u4e0b\u4e00\u884c</li> <li>:1,$ co $ \u5c06\u6574\u4e2a\u6587\u4ef6\u590d\u5236\u4e00\u4efd\u5e76\u6dfb\u52a0\u5230\u6587\u4ef6\u5c3e\u90e8\u3002</li> </ol>"},{"location":"LINUX/shell/01vim%EF%BC%882%EF%BC%89/#15","title":"1.5 \u53ef\u89c6\u5316\u6a21\u5f0f\u547d\u4ee4","text":"<ol> <li>v \u8fdb\u5165\u53ef\u89c6\u6a21\u5f0f</li> <li>shift+v \u6574\u884c\u9009\u62e9</li> <li>ctrl+v \u53ef\u89c6\u6a21\u5f0f\u7684\u5217\u9009\u62e9</li> </ol> <p>\u5e94\u7528\u4e3e\u4f8b\uff1a\u6ce8\u91ca\u591a\u884c</p> <ul> <li>\u6309\u4e0bv\uff0c\u8fdb\u5165\u53ef\u89c6\u5316\u6a21\u5f0f</li> <li>\u6309\u4e0bctl+v\u8fdb\u5165 visual block\u6a21\u5f0f</li> <li>\u4f7f\u7528\u65b9\u5411\u952e\u4e0a\u4e0b\u9009\u62e9\u9700\u8981\u63d2\u5165\u7684\u5217</li> <li>\u6309\u4e0bshift+i\u952e\uff0c\u8fdb\u5165\u63d2\u5165\u6a21\u5f0f</li> <li>\u8f93\u5165//</li> <li>\u6309\u4e0besc\u952e</li> </ul>"},{"location":"LINUX/shell/01vim%EF%BC%882%EF%BC%89/#2-vim","title":"2\u3001 vim \u591a\u7a97\u53e3","text":""},{"location":"LINUX/shell/01vim%EF%BC%882%EF%BC%89/#21","title":"2.1\u6c34\u5e73\u6253\u5f00","text":"<p><pre><code>vs filename\n</code></pre> \u5e94\u7528\u4e3e\u4f8b <pre><code>:vs emp.txt\n</code></pre></p>"},{"location":"LINUX/shell/01vim%EF%BC%882%EF%BC%89/#22","title":"2.2 \u5782\u76f4\u6253\u5f00","text":"<p><pre><code>sv emp.txt\n</code></pre> \u5e94\u7528\u4e3e\u4f8b\uff1a <pre><code>\uff1asv emp.txt\n</code></pre></p>"},{"location":"LINUX/shell/01vim%EF%BC%882%EF%BC%89/#23","title":"2.3 \u539f\u7a97\u53e3\u6253\u5f00","text":"<p><pre><code>open  file.nanme\n</code></pre> \u5e94\u7528\u4e3e\u4f8b\uff1a <pre><code>\uff1aopen emp.txt\n</code></pre></p>"},{"location":"LINUX/shell/01vim%EF%BC%882%EF%BC%89/#24","title":"2.4\u591a\u7a97\u53e3\u5207\u6362","text":"<ol> <li>\u591a\u4e2a\u7a97\u53e3\u5207\u6362\uff0cctl+w</li> <li>\u5355\u7a97\u53e3\u591a\u4e2a\u6587\u4ef6 ctl+6 \u5207\u6362\u5185\u5bb9</li> </ol>"},{"location":"LINUX/shell/01vim%EF%BC%882%EF%BC%89/#3vim","title":"3\u3001vim\u641c\u7d22\u4e0e\u66ff\u6362","text":""},{"location":"LINUX/shell/01vim%EF%BC%882%EF%BC%89/#31","title":"3.1 \u641c\u7d22","text":"<ol> <li> <p>\u6b63\u5411\u641c\u7d22: /searchContent</p> <p>\u4e3e\u4f8b <pre><code>:/sales \n</code></pre>  2. \u53cd\u5411\u641c\u7d22:  ?searchContent \u4e3e\u4f8b <pre><code>:?sales \n</code></pre>   3. \u5feb\u6377\u952e    * n  \u67e5\u627e\u4e0b\u4e00\u4e2a    * N \u67e5\u627e\u4e0a\u4e00\u4e2a    4. \u5176\u4ed6\u8bbe\u7f6e    * \u9ad8\u4eae\u663e\u793a\u641c\u7d22\u5230\u7684\u5185\u5bb9\uff1a set hlsearch    * \u53d6\u6d88\u9ad8\u4eae\u663e\u793a\uff1aset nohlsearch    * \u5ffd\u7565\u5927\u5c0f\u5199 :set ignorecase    * \u7cbe\u786e\u5339\u914d\u5927\u5c0f\u5199: set noignorecase    * \u7981\u6b62\u5faa\u73af\u67e5\u627e\uff1a set nowrapscan    * \u542f\u7528\u5faa\u73af\u67e5\u627e\uff1aset wrapscan</p> </li> </ol>"},{"location":"LINUX/shell/01vim%EF%BC%882%EF%BC%89/#32","title":"3.2 \u66ff\u6362","text":"<ol> <li>\u57fa\u672c\u66ff\u6362       \u683c\u5f0f\uff1a[address]s/\u6e90\u5b57\u7b26\u4e32/\u76ee\u7684\u5b57\u7b26\u4e32/[option]</li> <li>[address] \u8868\u793a\u68c0\u7d22\u8303\u56f4\uff0c\u7701\u7565\u8868\u793a\u5f53\u524d\u884c\uff0c%\u8868\u793a\u6574\u7bc7\u6587\u6863\u76f8\u5f53\u4e8e\uff1a1,$, .\u4ee3\u8868\u5f53\u524d\u884c\uff0c.,10\u4ee3\u8868\u4ece\u5f53\u524d\u884c\u5230\u7b2c10\u884c</li> <li>s\u66ff\u6362\u547d\u4ee4</li> <li>\u6e90\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u662f\u6b63\u5219\u8868\u8fbe\u5f0f</li> <li>\u76ee\u7684\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u662f\u6b63\u5219\u8868\u8fbe\u5f0f</li> <li>[option] \u8868\u793a\u64cd\u4f5c\u7c7b\u578b\uff0c\u53ef\u4ee5\u7ec4\u5408\u4f7f\u7528\uff0c\u5982\u679cgc ,gn        &gt; - g\u8868\u793a\u5168\u5c40\u66ff\u6362        &gt; - c\u8868\u793a\u786e\u8ba4        &gt; - option\u7701\u7565\u65f6\u4ec5\u5bf9\u6bcf\u884c\u7b2c\u4e00\u4e2a\u5339\u914d\u4e32\u8fdb\u884c\u66ff\u6362        &gt; - n\u7edf\u8ba1\u5339\u914d\u7684\u884c        &gt; - e\u5ffd\u7565\u51fa\u73b0\u7684\u9519\u8bef</li> <li>\u4e3e\u4f8b    <pre><code>:1,$s/the/The/g\n</code></pre></li> <li>\u8bf4\u660e\uff1a</li> <li>$ \u8868\u793a\u6587\u6863\u7ed3\u5c3e</li> <li>s\u66ff\u6362\u547d\u4ee4\uff08subtitute)</li> <li>the\u88ab\u66ff\u6362\u5b57\u7b26\u4e32</li> <li>The\u66ff\u6362\u540e\u7684\u5b57\u7b26\u4e32</li> <li>g\u66ff\u6362\u67e5\u8be2\u5230\u7684\u6bcf\u4e00\u4e2a\uff0c\u5426\u5219\u53ea\u66ff\u6362\u6bcf\u884c\u7b2c\u4e00\u4e2a\u67e5\u8be2\u5230\u7684\u5b57\u7b26\u4e32</li> </ol>"},{"location":"LINUX/shell/01vim%EF%BC%882%EF%BC%89/#4vim","title":"4\u3001vim\u5168\u5c40\u547d\u4ee4","text":""},{"location":"LINUX/shell/01vim%EF%BC%882%EF%BC%89/#41-global","title":"4.1 global\u547d\u540d\u5f62\u5f0f","text":"<p><pre><code>    [range]global/{pattern}/{command}\n</code></pre>   \u8bf4\u660e\uff1a</p> <ul> <li>[range]\u8868\u793a\u6307\u5b9a\u7684\u6587\u672c\u8303\u56f4\uff0cg ,% </li> <li>{pattern}\u6b63\u5219\u8868\u8fbe\u5f0f</li> <li>{command}\u8868\u793a\u547d\u4ee4\uff0cd\u5220\u9664\uff0cm\u79fb\u52a8</li> </ul>"},{"location":"LINUX/shell/01vim%EF%BC%882%EF%BC%89/#42","title":"4.2 \u5e94\u7528\u4e3e\u4f8b","text":"<ol> <li>\u5012\u53d9   <pre><code>  :g/^/m 0\n</code></pre> \u8bf4\u660e\uff1a</li> <li>/^/\u8868\u793a\u4e00\u884c\u7684\u5f00\u5934</li> <li>m\u8868\u793a\u79fb\u52a8 </li> <li>0 \u8868\u793a\u79fb\u52a8\u5230\u7b2c\u4e00\u884c</li> <li>\u5220\u9664\u5076\u6570\u884c   <pre><code>:g/^/+d\n</code></pre> \u8bf4\u660e\uff1a</li> <li>/^/\u8868\u793a\u4e00\u884c\u7684\u5f00\u5934</li> <li>+\u8868\u793a\u5f53\u524d\u884c\u7684\u4e0b\u4e00\u884c</li> <li> <p>d\u8868\u793a\u5220\u9664</p> <p>\u65b9\u6cd52\uff1a   <pre><code>%norm jdd\n</code></pre> \u8bf4\u660e\uff1a   - % \u5168\u5c40\u547d\u4ee4   - norm \uff0c\u8868\u793avim\u6b63\u5e38\u6a21\u5f0f   - jdd\uff0cj\u5411\u4e0b\u79fb\u52a8\uff0cdd\u5220\u9664\u547d\u4ee4 3. \u5220\u9664\u7a7a\u884c <pre><code>:g/^$/d\n</code></pre> 4. \u5728\u884c\u5c3e\u6dfb\u52a0\u5206\u53f7 <pre><code>%norm A;\n</code></pre> \u8bf4\u660e - %norm \u5168\u5c40normal\u6a21\u5f0f\u4e0b  - A; A\u5728\u884c\u5c3e\u63d2\u5165\uff1b 5. \u5728\u884c\u9996\u63d2\u5165// <pre><code>%norm i//\n</code></pre> 6. \u5728red\u5f00\u5934\u7684\u884c\u4e0b\u9762\u6dfb\u52a0\u4e00\u884c\uff0c\u5185\u5bb9\u4e3a\uff1aThis is a  test! <pre><code>g/^red/norm oThis is a test!\n</code></pre> \u8bf4\u660e\uff1a - g\u5168\u5c40\u547d\u4ee4 - ^red\u6a21\u5f0f\uff0c\u4ee5red\u5f00\u5934\u7684\u884c - o\u5728\u884c\u4e0b\u9762\u6dfb\u52a0\u4e00\u884c\uff0c\u5185\u5bb9\u4e3a\uff1aThis is a test!</p> </li> </ol>"},{"location":"LINUX/shell/01vim%EF%BC%882%EF%BC%89/#43-g","title":"4.3 %\u4e0eg\u7684\u533a\u522b","text":"<ol> <li>%==g/.*/,\u8bf4\u660e%\u5339\u914d\u6587\u6863\u7684\u6bcf\u4e00\u884c </li> <li>g\u540e\u9762\u5fc5\u987b\u8981\u8ddf\u4e0apattern\uff0c\u5373g/pattern/</li> </ol>"},{"location":"LINUX/shell/02-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%80%8E%E4%B9%88%E5%AD%A6/","title":"1. \u6b63\u5219\u8868\u8fbe\u5f0f\u600e\u4e48\u5b66","text":"<p>\u76f4\u63a5\u770b\u6587\u6863\u5417\uff1f\u9519\uff01</p> <p>\u6587\u6863\u662f\u5b57\u5178\uff0c\u4f60\u53ef\u4ee5\u968f\u65f6\u53bb\u67e5\uff0c\u4f60\u719f\u7ec3\u4e4b\u540e\u53ef\u4ee5\u53bb\u7ffb\u9605\uff0c\u4f46\u662f\u521d\u5b66\u4e0d\u9002\u5408\u76f4\u63a5\u53bb\u6309\u7740\u6587\u6863\u7684\u987a\u5e8f\u53bb\u770b\uff0c\u5bf9\u6b63\u5219\u8868\u8fbe\u5f0f\u8fd9\u79cd\u62bd\u8c61\u7684\u7b26\u53f7\u8bed\u8a00\u66f4\u662f\u5982\u6b64\u3002</p> <p>*\u6ce8\u610f\uff0c\u4e0d\u540c\u8bed\u8a00\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u8bed\u6cd5\u4f1a\u591a\u5c11\u6709\u70b9\u533a\u522b\uff0c\u8bf7\u5bf9\u5e94\u81ea\u5df1\u4f7f\u7528\u7684\u8bed\u8a00\u6765\u4f7f\u7528\u3002**</p>"},{"location":"LINUX/shell/02-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%80%8E%E4%B9%88%E5%AD%A6/#2","title":"2. \u6211\u63a8\u8350\u7684\u8bb0\u5fc6\u987a\u5e8f","text":"<p>\u4e3a\u4ec0\u4e48\u8bf4\u662f\u8bb0\u5fc6\u5462\uff0c\u56e0\u4e3a\u6b63\u5219\u8868\u8fbe\u5f0f\u60f3\u8981\u8fd0\u7528\u81ea\u5982\u5bf9\u6211\u4eec\u6765\u8bf4\u6700\u57fa\u7840\u7684\u95e8\u69db\u5c31\u5728\u4e8e\u8fd9\u91cc\uff0c\u5f88\u591a\u4eba\u89c9\u5f97\u8fd9\u73a9\u610f\u96be\uff0c\u5176\u5b9e\u8fd8\u662f\u592a\u62bd\u8c61\u4e86\u3002</p> <p>\u4e0b\u9762\u662f\u6211\u5c06\u5404\u79cd\u5339\u914d\u7b26\u505a\u5206\u7c7b\u4e4b\u540e\u7684\u4e00\u4e2a\u63a8\u8350\u7684\u987a\u5e8f\u3002</p> <p>\u5339\u914d\u7b26\u7684\u53eb\u6cd5\u6211\u90fd\u662f\u6309\u7167\u6bd4\u8f83\u901a\u4fd7\u7684\u8bf4\u6cd5\u6765\u7684\uff0c\u975e\u6807\u51c6\u7ffb\u8bd1\u53eb\u6cd5\u3002</p> <p>\u9996\u5148\u628a\u5339\u914d\u7b26\u5206\u4e3a</p>"},{"location":"LINUX/shell/02-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%80%8E%E4%B9%88%E5%AD%A6/#21","title":"2.1 \u6309\u5b57\u9762\u91cf\u6765\u8fdb\u884c\u5339\u914d\u7684","text":"\u7b26\u53f7 \u91ca\u4e49 a \\d \u5339\u914d\u6570\u5b57 [0123] \u5339\u914d\u533a\u95f4\u5185\u7684\u5185\u5bb9 [0-9] \u548c\\d\u7684\u533a\u522b\u5728\u4e8e\uff0c\\d\u80fd\u591f\u5339\u914d\u5168\u89d2\u548c\u534a\u89d2\u7684\u6570\u5b57\uff0c\u8fd9\u4e2a\u533a\u95f4\u53ea\u80fd\u5339\u914d\u534a\u89d2\u6570\u5b57 [^0-9] \u5176\u5b83\u7684\u53ef\u4ee5\u53bb\u67e5\u6587\u6863\u4e86"},{"location":"LINUX/shell/02-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%80%8E%E4%B9%88%E5%AD%A6/#22","title":"2.2 \u5339\u914d\u4f4d\u7f6e\u7684\u5339\u914d\u7b26","text":"<p>\u4ec0\u4e48\u53eb\u505a\u5339\u914d\u4f4d\u7f6e\u7684\u5339\u914d\u7b26\u5462\uff1f\u5f00\u5934\u3001\u7ed3\u5c3e\u3001\u4e24\u4e2a\u5b57\u7b26\u4e2d\u95f4\u8fd9\u79cd\u90fd\u662f\u5339\u914d\u4f4d\u7f6e\u3002</p> \u7b26\u53f7 \u91ca\u4e49 ^ \u5f00\u5934 $ \u7ed3\u5c3e <p>\u5339\u914d\u5b57\u7b26\u4e2d\u95f4\u4f4d\u7f6e\u7684\u662f\u4e00\u7c7b\u6bd4\u8f83\u7279\u522b\u7684\u5339\u914d\u7b26\uff0c\u5b66\u540d\u7ffb\u8bd1\u53eb\u505a\u73af\u89c6\u8868\u8fbe\u5f0f\uff0c\u5206\u4e3a\u56db\u79cd</p> \u7b26\u53f7 \u91ca\u4e49 (?=...) \u80af\u5b9a\u987a\u5e8f\u73af\u89c6 (?!...) \u5426\u5b9a\u987a\u5e8f\u73af\u89c6 (?&lt;=...) \u80af\u5b9a\u9006\u5e8f\u73af\u89c6 (?&lt;!) \u5426\u5b9a\u9006\u5e8f\u73af\u89c6 <p>\u8fd9\u73a9\u610f\u5b66\u540d\u633a\u62d7\u53e3\u7684\uff0c\u5982\u4f55\u8bb0\u5fc6\u5462\uff1f</p> <p>\u80af\u5b9a\u662f<code>=</code>\uff0c\u5426\u5b9a\u662f<code>!</code>\uff0c\u987a\u5e8f\u7b26\u53f7\u524d\u9762\u5565\u90fd\u6ca1\uff0c\u9006\u5e8f\u524d\u9762\u52a0\u4e2a<code>&lt;</code>\u3002</p> <p>\u5177\u4f53\u662f\u600e\u4e48\u5339\u914d\u7684\u5462\uff1f</p> <p>\u80af\u5b9a\u5c31\u662f\u73af\u89c6\u8868\u8fbe\u5f0f\u4e2d\u7684\u5339\u914d\u8981\u80fd\u591f\u88ab\u5339\u914d\u5230\uff0c\u5426\u5b9a\u5c31\u662f\u4e0d\u80fd\u591f\u88ab\u5339\u914d\u5230\u3002</p> <p>\u987a\u5e8f\u5c31\u662f\u6307\u73af\u89c6\u8868\u8fbe\u5f0f\u540e\u9762\u5339\u914d\u5b57\u7b26\u7684\u540e\u9762\uff0c\u9006\u5e8f\u5c31\u662f\u6307\u524d\u9762\u3002</p> <pre><code>\u5f88\u591a\u61d2\u4eba\u5176\u5b9e\u53ea\u9700\u8981\u7684\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\n\n(?&lt;=&lt;div&gt;).*(?=&lt;\\\\div&gt;)\n\n&lt;div&gt;abc&lt;\\div&gt;\n</code></pre>"},{"location":"LINUX/shell/02-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%80%8E%E4%B9%88%E5%AD%A6/#23","title":"2.3 \u91cd\u590d","text":"\u7b26\u53f7 \u91ca\u4e49 * \u96f6\u6b21\u5230\u591a\u6b21 + \u4e00\u6b21\u5230\u591a\u6b21 ? \u96f6\u6b21\u6216\u8005\u4e00\u6b21 {m} \u6307\u5b9a\u91cd\u590d\u6b21\u6570 {m,n} \u6307\u5b9a\u6b21\u6570\u533a\u95f4\uff0cn\u53ef\u9009 <p>*\u548c+\u7684\u533a\u522b</p> <p>*\u53f7\u5728\u4f60\u6240\u5339\u914d\u7684\u7ec4\u6216\u8005\u5b57\u7b26\u6ca1\u6709\u5339\u914d\u5230\u7684\u65f6\u5019\u80fd\u591f\u5339\u914d\u5230\u4f4d\u7f6e\uff0c+\u5219\u4e0d\u80fd\uff0c\u56e0\u6b64\u5728\u5bf9\u5e94\u7684\u573a\u666f\u4e0b\uff0c+\u7684\u6027\u80fd\u662f\u8fdc\u9ad8\u4e8e*\u7684</p> <p>\u63d0\u5230\u91cd\u590d\u5c31\u4e0d\u5f97\u4e0d\u63d0\u8d2a\u5a6a\u6a21\u5f0f\u548c\u61d2\u60f0\u6a21\u5f0f\uff08\u770b\u7ffb\u8bd1\uff0c\u6211\u6bd4\u8f83\u559c\u6b22\u53eb\u975e\u8d2a\u5a6a\u6a21\u5f0f\uff09\uff0c\u76ee\u524d\u5e38\u7528\u7684\u8bed\u8a00\u4e2d\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u90fd\u662f\u8d2a\u5a6a\u6a21\u5f0f\uff0c\u8d2a\u5a6a\u6a21\u5f0f\u548c\u975e\u8d2a\u5a6a\u6a21\u5f0f\u5176\u5b9e\u662f\u6e90\u81eaDFA\u548cNFA\uff0c\u4e8c\u8005\u662f\u7f16\u8bd1\u539f\u7406\u91cc\u9762\u7684\u6982\u5ff5\uff0c\u77e5\u4e0d\u77e5\u9053\u90fd\u4e0d\u5f71\u54cd\u5bf9\u6b63\u5219\u7684\u5b66\u4e60\u3002</p> <p>\u8d2a\u5a6a\u6a21\u5f0f\u5c31\u662f\u5c3d\u53ef\u80fd\u591a\u7684\u53bb\u5339\u914d\uff0c\u975e\u8d2a\u5a6a\u6a21\u5f0f\u5c31\u53cd\u8fc7\u6765\uff0c\u5c31\u8fd9\u4e48\u7b80\u5355\u3002</p> <p>\u8d2a\u5a6a\u548c\u61d2\u60f0\u6a21\u5f0f\u662f\u7528 ? \u6765\u754c\u5b9a\u7684\u3002</p>"},{"location":"LINUX/shell/02-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%80%8E%E4%B9%88%E5%AD%A6/#24","title":"2.4 \u5206\u7ec4","text":"<p>\u5206\u7ec4\u662f\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u6982\u5ff5\uff0c\u5bf9\u6211\u4eec\u7684\u5b9e\u9645\u5e94\u7528\u5e2e\u52a9\u5de8\u5927\u3002</p> <p>\u5206\u7ec4\u7684\u5185\u5bb9\u5176\u5b9e\u4e0d\u591a\uff0c\u6211\u4e5f\u53ea\u4ecb\u7ecd\u5176\u4e2d\u51e0\u4e2a\uff0c\u5176\u5b9e\u4e0a\u6587\u4e2d\u7684\u73af\u89c6\u8868\u8fbe\u5f0f\u4e5f\u5c5e\u4e8e\u5206\u7ec4\uff0c\u4f46\u662f\u5462\u6211\u4e60\u60ef\u6027\u628a\u5b83\u5355\u72ec\u7684\u4f5c\u4e3a\u4e00\u4e2a\u5355\u72ec\u7684\u5206\u7c7b\u3002</p> \u7b26\u53f7 \u91ca\u4e49 (...) \u6355\u83b7\u7ec4 (?:...) \u975e\u6355\u83b7\u7ec4 (a|b) \u9009\u62e9\u5206\u7ec4 (?P\\&lt;NAME&gt;...) \u547d\u540d\u5206\u7ec4\uff08\u6b64\u5904\u8bed\u6cd5\u662fpython\u8bed\u6cd5\uff0c\u5176\u5b83\u8bed\u8a00\u4e0d\u4e00\u5b9a\u9002\u7528\uff09 <p>\u7ec4\u6709\u5f88\u591a\u65b9\u4fbf\u7684\u5730\u65b9\uff1a</p> <ol> <li>\u914d\u5408\u524d\u9762\u7684\u5404\u79cd\u5339\u914d\u7b26\u6765\u4f7f\u7528\uff0c\u6bd4\u5982\u6211\u4eec\u8981\u8fde\u7eed\u91cd\u590d3\u6b21\u7684abc\u4e4b\u7c7b\u7684\u573a\u666f</li> <li>\u5728\u6b63\u5219\u4e2d\u53bb\u53cd\u5411\u5f15\u7528\u5339\u914d\u5230\u7684\u5206\u7ec4</li> <li>\u5728\u4ee3\u7801\u4e2d\u66f4\u65b9\u4fbf\u7684\u53bb\u83b7\u53d6\u4f60\u8981\u7684\u5185\u5bb9\uff0c\u800c\u4e0d\u662f\u7ed9\u4f60\u8fd4\u56de\u4e00\u5806\u4f60\u4e0d\u60f3\u8981\u7684\u4e1c\u897f\u5728\u91cc\u9762</li> </ol>"},{"location":"LINUX/shell/02-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%A1%A8/","title":"02 \u6b63\u5219\u8868\u8fbe\u5f0f\u8868","text":""},{"location":"LINUX/shell/02-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%A1%A8/#re","title":"re","text":""},{"location":"LINUX/shell/02-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%A1%A8/#re_1","title":"re\u6a21\u5757\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u8bf4\u660e","text":"re.I \u4f7f\u5339\u914d\u5bf9\u5927\u5c0f\u5199\u4e0d\u654f\u611f re.L \u505a\u672c\u5730\u5316\u8bc6\u522b\uff08locale-aware\uff09\u5339\u914d re.M \u591a\u884c\u5339\u914d\uff0c\u5f71\u54cd ^ \u548c $ re.S \u4f7f . \u5339\u914d\u5305\u62ec\u6362\u884c\u5728\u5185\u7684\u6240\u6709\u5b57\u7b26 re.U \u6839\u636eUnicode\u5b57\u7b26\u96c6\u89e3\u6790\u5b57\u7b26\u3002\u8fd9\u4e2a\u6807\u5fd7\u5f71\u54cd \\w, \\W, \\b, \\B. re.X \u8be5\u6807\u5fd7\u901a\u8fc7\u7ed9\u4e88\u4f60\u66f4\u7075\u6d3b\u7684\u683c\u5f0f\u4ee5\u4fbf\u4f60\u5c06\u6b63\u5219\u8868\u8fbe\u5f0f\u5199\u5f97\u66f4\u6613\u4e8e\u7406\u89e3\u3002 <pre><code>import re\n\n# | \u5339\u914d\u5de6\u53f3\u4efb\u610f\u4e00\u4e2a\u8868\u8fbe\u5f0f\ndata = \"laowang@qq.cn\"\n\ntry:\n    ret = re.match(\"[a-zA-Z0-9]{3,30}@(163|itcast)\\.cn\", data)\n    # \u83b7\u53d6\u5339\u914d\u7684\u7ed3\u679c\n    info = ret.group()\nexcept Exception as e:\n    print(\"\u5339\u914d\u5931\u8d25\")\nelse:\n    print(info)\n\n# (ab)  \u5c06\u62ec\u53f7\u4e2d\u5b57\u7b26\u4f5c\u4e3a\u4e00\u4e2a\u5206\u7ec4\ndata = \"laowang@163.cn\"\n\ntry:\n    ret = re.match(\"([a-zA-Z0-9]{3,30})@(163|itcast)\\.cn\", data)\n    # \u83b7\u53d6\u5339\u914d\u7684\u7ed3\u679c\n    info = ret.group()\nexcept Exception as e:\n    print(\"\u5339\u914d\u5931\u8d25\")\nelse:\n    # ret.group(): \u628a\u6240\u6709\u7684\u5339\u914d\u6570\u636e\u90fd\u83b7\u53d6\u5230\n    # ret.group(1): \u83b7\u53d6\u7b2c\u4e00\u4e2a\u7ec4\u4e2d\u7684\u6570\u636e\n    # ret.group(2): \u83b7\u53d6\u7b2c\u4e8c\u4e2a\u7ec4\u4e2d\u7684\u6570\u636e\n    print(ret.group(1))\n    print(ret.group(2))\n\n\n# \\num  \u5f15\u7528\u5206\u7ec4num\u5339\u914d\u5230\u7684\u5b57\u7b26\u4e32\ndata = \"&lt;html&gt;nihao&lt;/html&gt;\"\n\ntry:\n    ret = re.match(\"&lt;[a-zA-Z0-6]{1,30}&gt;.*&lt;/[a-zA-Z0-6]{1,30}&gt;\", data)\n    # \u83b7\u53d6\u5339\u914d\u7684\u7ed3\u679c\n    info = ret.group()\nexcept Exception as e:\n    print(\"\u5339\u914d\u5931\u8d25\")\nelse:\n    # ret.group(): \u628a\u6240\u6709\u7684\u5339\u914d\u6570\u636e\u90fd\u83b7\u53d6\u5230\n    # ret.group(1): \u83b7\u53d6\u7b2c\u4e00\u4e2a\u7ec4\u4e2d\u7684\u6570\u636e\n    # ret.group(2): \u83b7\u53d6\u7b2c\u4e8c\u4e2a\u7ec4\u4e2d\u7684\u6570\u636e\n    print(info)\n\n\ndata = \"&lt;html&gt;&lt;div&gt;nihao&lt;/div&gt;&lt;/html&gt;\"\ntry:\n    ret = re.match(\"&lt;([a-zA-Z0-6]{1,30})&gt;&lt;([a-zA-Z0-6]{1,30})&gt;.*&lt;/\\\\2&gt;&lt;/\\\\1&gt;\", data)\n    # \u83b7\u53d6\u5339\u914d\u7684\u7ed3\u679c\n    info = ret.group()\nexcept Exception as e:\n    print(\"\u5339\u914d\u5931\u8d25\")\nelse:\n    # ret.group(): \u628a\u6240\u6709\u7684\u5339\u914d\u6570\u636e\u90fd\u83b7\u53d6\u5230\n    # ret.group(1): \u83b7\u53d6\u7b2c\u4e00\u4e2a\u7ec4\u4e2d\u7684\u6570\u636e\n    # ret.group(2): \u83b7\u53d6\u7b2c\u4e8c\u4e2a\u7ec4\u4e2d\u7684\u6570\u636e\n    print(info)\n\n\n# (?P&lt;name&gt;)    \u5206\u7ec4\u8d77\u522b\u540d\n# (?P=name) \u5f15\u7528\u522b\u540d\u4e3aname\u5206\u7ec4\u5339\u914d\u5230\u7684\u5b57\u7b26\u4e32\ndata = \"&lt;html&gt;&lt;div&gt;nihao&lt;/div&gt;&lt;/html&gt;\"\ntry:\n    ret = re.match(\"&lt;(?P&lt;name1&gt;[a-zA-Z0-6]{1,30})&gt;&lt;(?P&lt;name2&gt;[a-zA-Z0-6]{1,30})&gt;.*&lt;/(?P=name2)&gt;&lt;/(?P=name1)&gt;\", data)\n    # \u83b7\u53d6\u5339\u914d\u7684\u7ed3\u679c\n    info = ret.group()\nexcept Exception as e:\n    print(\"\u5339\u914d\u5931\u8d25\")\nelse:\n    # ret.group(): \u628a\u6240\u6709\u7684\u5339\u914d\u6570\u636e\u90fd\u83b7\u53d6\u5230\n    # ret.group(1): \u83b7\u53d6\u7b2c\u4e00\u4e2a\u7ec4\u4e2d\u7684\u6570\u636e\n    # ret.group(2): \u83b7\u53d6\u7b2c\u4e8c\u4e2a\u7ec4\u4e2d\u7684\u6570\u636e\n    print(info)\n</code></pre>"},{"location":"LINUX/shell/02-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%A1%A8/#_1","title":"\u6b63\u5219\u89c4\u5219\u8bf4\u660e","text":"\u7b26\u53f7 \u89e3\u91ca \u793a\u4f8b \u8bf4\u660e . \u5339\u914d\u4efb\u610f\u5b57\u7b26 b.t \u53ef\u4ee5\u5339\u914dbat / but / b#t / b1t\u7b49 \\w \u5339\u914d\u5b57\u6bcd/\u6570\u5b57/\u4e0b\u5212\u7ebf b\\wt \u53ef\u4ee5\u5339\u914dbat / b1t / b_t\u7b49 \u4f46\u4e0d\u80fd\u5339\u914db#t \\s \u5339\u914d\u7a7a\u767d\u5b57\u7b26\uff08\u5305\u62ec\\r\u3001\\n\u3001\\t\u7b49\uff09 love\\syou \u53ef\u4ee5\u5339\u914dlove you \\d \u5339\u914d\u6570\u5b57 \\d\\d \u53ef\u4ee5\u5339\u914d01 / 23 / 99\u7b49 \\b \u5339\u914d\u5355\u8bcd\u7684\u8fb9\u754c \\bThe\\b ^ \u5339\u914d\u5b57\u7b26\u4e32\u7684\u5f00\u59cb ^The \u53ef\u4ee5\u5339\u914dThe\u5f00\u5934\u7684\u5b57\u7b26\u4e32 $ \u5339\u914d\u5b57\u7b26\u4e32\u7684\u7ed3\u675f .exe$ \u53ef\u4ee5\u5339\u914d.exe\u7ed3\u5c3e\u7684\u5b57\u7b26\u4e32 \\W \u5339\u914d\u975e\u5b57\u6bcd/\u6570\u5b57/\u4e0b\u5212\u7ebf b\\Wt \u53ef\u4ee5\u5339\u914db#t / b@t\u7b49 \u4f46\u4e0d\u80fd\u5339\u914dbut / b1t / b_t\u7b49 \\S \u5339\u914d\u975e\u7a7a\u767d\u5b57\u7b26 love\\Syou \u53ef\u4ee5\u5339\u914dlove#you\u7b49 \u4f46\u4e0d\u80fd\u5339\u914dlove you \\D \u5339\u914d\u975e\u6570\u5b57 \\d\\D \u53ef\u4ee5\u5339\u914d9a / 3# / 0F\u7b49 \\B \u5339\u914d\u975e\u5355\u8bcd\u8fb9\u754c \\Bio\\B [] \u5339\u914d\u6765\u81ea\u5b57\u7b26\u96c6\u7684\u4efb\u610f\u5355\u4e00\u5b57\u7b26 [aeiou] \u53ef\u4ee5\u5339\u914d\u4efb\u4e00\u5143\u97f3\u5b57\u6bcd\u5b57\u7b26 [-] \u5339\u914d\u6765\u81ea\u5b57\u7b26\u96c6\u7684\u4efb\u610f\u5355\u4e00\u5b57\u7b26 [a-z] \u5339\u914da-z\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a [^] \u5339\u914d\u4e0d\u5728\u5b57\u7b26\u96c6\u4e2d\u7684\u4efb\u610f\u5355\u4e00\u5b57\u7b26 [^aeiou] \u53ef\u4ee5\u5339\u914d\u4efb\u4e00\u975e\u5143\u97f3\u5b57\u6bcd\u5b57\u7b26 * \u5339\u914d0\u6b21\u6216\u591a\u6b21 \\w* + \u5339\u914d1\u6b21\u6216\u591a\u6b21 \\w+ ? \u5339\u914d0\u6b21\u62161\u6b21 \\w? {N} \u5339\u914dN\u6b21 \\w{3} {M,} \u5339\u914d\u81f3\u5c11M\u6b21 \\w{3,} {M,N} \u5339\u914d\u81f3\u5c11M\u6b21\u81f3\u591aN\u6b21 \\w{3,6} | \u5206\u652f foo|bar \u53ef\u4ee5\u5339\u914dfoo\u6216\u8005bar (?#) \u6ce8\u91ca (exp) \u5339\u914dexp\u5e76\u6355\u83b7\u5230\u81ea\u52a8\u547d\u540d\u7684\u7ec4\u4e2d (? exp) \u5339\u914dexp\u5e76\u6355\u83b7\u5230\u540d\u4e3aname\u7684\u7ec4\u4e2d (?:exp) \u5339\u914dexp\u4f46\u662f\u4e0d\u6355\u83b7\u5339\u914d\u7684\u6587\u672c (?=exp) \u5339\u914dexp\u524d\u9762\u7684\u4f4d\u7f6e \\b\\w+(?=ing) \u53ef\u4ee5\u5339\u914dI'm dancing\u4e2d\u7684danc (?&lt;=exp) \u5339\u914dexp\u540e\u9762\u7684\u4f4d\u7f6e (?&lt;=\\bdanc)\\w+\\b \u53ef\u4ee5\u5339\u914dI love dancing and reading\u4e2d\u7684\u7b2c\u4e00\u4e2aing (?!exp) \u5339\u914d\u540e\u9762\u4e0d\u662fexp\u7684\u4f4d\u7f6e (?&lt;!exp) \u5339\u914d\u524d\u9762\u4e0d\u662fexp\u7684\u4f4d\u7f6e *? \u91cd\u590d\u4efb\u610f\u6b21\uff0c\u4f46\u5c3d\u53ef\u80fd\u5c11\u91cd\u590d a.b a.?b \u5c06\u6b63\u5219\u8868\u8fbe\u5f0f\u5e94\u7528\u4e8eaabab\uff0c\u524d\u8005\u4f1a\u5339\u914d\u6574\u4e2a\u5b57\u7b26\u4e32aabab\uff0c\u540e\u8005\u4f1a\u5339\u914daab\u548cab\u4e24\u4e2a\u5b57\u7b26\u4e32 +? \u91cd\u590d1\u6b21\u6216\u591a\u6b21\uff0c\u4f46\u5c3d\u53ef\u80fd\u5c11\u91cd\u590d ?? \u91cd\u590d0\u6b21\u62161\u6b21\uff0c\u4f46\u5c3d\u53ef\u80fd\u5c11\u91cd\u590d {M,N}? \u91cd\u590dM\u5230N\u6b21\uff0c\u4f46\u5c3d\u53ef\u80fd\u5c11\u91cd\u590d {M,}? \u91cd\u590dM\u6b21\u4ee5\u4e0a\uff0c\u4f46\u5c3d\u53ef\u80fd\u5c11\u91cd\u590d '(.*?)&lt;section' \u5339\u914ddiv class=\u548c&lt;section\u4e4b\u95f4\u7684,\u61d2\u60f0\u5339\u914d"},{"location":"LINUX/shell/02-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%A1%A8/#url","title":"\u5339\u914durl:","text":"<pre><code>\"[a-zA-Z][a-zA-Z0-9]+:\\/\\/[a-zA-Z0-9]+\\.*[a-zA-Z0-9]+\\.*[a-z]+\"\n</code></pre>"},{"location":"LINUX/shell/02.Bash%20Shell%E5%91%BD%E4%BB%A4/","title":"02.Bash Shell\u547d\u4ee4","text":""},{"location":"LINUX/shell/02.Bash%20Shell%E5%91%BD%E4%BB%A4/#file","title":"file(\u663e\u793a\u6587\u4ef6\u884c\u6570)","text":"<p>\u200b   <code>file [\u8def\u5f84]</code> \u53ef\u4ee5\u663e\u793a\u6587\u4ef6\u7684\u7b2c\u4e00\u884c</p> <ul> <li>\u53c2\u6570 <code>-n</code>\u53ef\u4ee5\u6307\u5b9a\u663e\u793a\u7684\u884c\u6570, \u9ed8\u8ba4\u4e00\u884c</li> </ul>"},{"location":"LINUX/shell/02.Bash%20Shell%E5%91%BD%E4%BB%A4/#wc","title":"wc(\u663e\u793a\u884c\u6570,\u5b57\u6570)","text":"<p>\u200b   \u8ba1\u7b97\u6587\u4ef6\u4e2d <code>\u884c</code> , <code>\u5b57</code> \u548c <code>\u5b57\u7b26\u6570\u91cf</code></p> <ul> <li>\u53c2\u6570\u6709<code>l</code> <code>w</code> <code>c</code> \u5206\u522b\u7528\u4e8e\u53ea\u663e\u793a\u884c\u6570, \u5b57\u6570, \u5b57\u7b26\u6570</li> </ul>"},{"location":"LINUX/shell/02.Bash%20Shell%E5%91%BD%E4%BB%A4/#history","title":"history (\u4e4b\u524d\u7528\u7684\u547d\u4ee4)","text":"<ul> <li>\u53ef\u4ee5\u67e5\u770b\u4e4b\u524d\u6267\u884c\u7684\u547d\u4ee4\u7684\u5217\u8868</li> </ul>"},{"location":"LINUX/shell/02.Bash%20Shell%E5%91%BD%E4%BB%A4/#_1","title":"\u7f16\u8f91\u547d\u4ee4\u884c(\u5feb\u6377\u7f16\u8f91)","text":"\u5feb\u6377\u65b9\u5f0f \u63cf\u8ff0 Ctrl + a \u8df3\u5230\u547d\u4ee4\u884c\u7684\u5f00\u5934 Ctrl + e \u8df3\u5230\u547d\u4ee4\u884c\u7684\u672b\u5c3e Ctrl + u \u5c06\u5149\u6807\u5904\u5230\u547d\u4ee4\u884c\u5f00\u5934\u7684\u5185\u5bb9\u6e05\u9664 Ctrl + k \u5c06\u5149\u6807\u5904\u5230\u547d\u4ee4\u884c\u672b\u5c3e\u7684\u5185\u5bb9\u6e05\u9664 Ctrl + \u5411\u5de6\u7bad\u5934 \u8df3\u5230\u547d\u4ee4\u884c\u4e2d\u524d\u4e00\u4e2a\u5b57\u7684\u5f00\u5934 Ctrl + \u5411\u53f3\u7bad\u5934 \u8df3\u5230\u547d\u4ee4\u884c\u4e2d\u4e0b\u4e00\u4e2a\u5b57\u7684\u5f00\u5934 Ctrl + r \u5728\u5386\u53f2\u8bb0\u5f55\u5217\u8868\u4e2d\u641c\u7d22\u67d0\u4e00\u6a21\u5f0f\u7684\u547d\u4ee4"},{"location":"LINUX/shell/02.Ubuntu_shell/","title":"Ubuntu\u7ec8\u7aef\u5e38\u7528\u7684\u5feb\u6377\u952e","text":"<p>Ubuntu\u4e2d\u7684\u8bb8\u591a\u64cd\u4f5c\u5728\u7ec8\u7aef\uff08Terminal\uff09\u4e2d\u5341\u5206\u7684\u5feb\u6377\uff0c\u8bb0\u4f4f\u4e00\u4e9b\u5feb\u6377\u952e\u7684\u64cd\u4f5c\u66f4\u5f97\u5fc3\u5e94\u624b\u3002\u5728Ubuntu\u4e2d\u6253\u5f00\u7ec8\u7aef\u7684\u5feb\u6377\u952e\u662f<code>Ctrl+Alt+T</code>\u3002\u5176\u4ed6\u7684\u4e00\u4e9b\u5e38\u7528\u7684\u5feb\u6377\u952e\u5982\u4e0b\uff1a</p> \u5feb\u6377\u952e \u529f\u80fd Tab \u81ea\u52a8\u8865\u5168 Ctrl+a \u5149\u6807\u79fb\u52a8\u5230\u5f00\u59cb\u4f4d\u7f6e Ctrl+e \u5149\u6807\u79fb\u52a8\u5230\u6700\u672b\u5c3e Ctrl+k \u5220\u9664\u6b64\u5904\u81f3\u672b\u5c3e\u7684\u6240\u6709\u5185\u5bb9 Ctrl+u \u5220\u9664\u6b64\u5904\u81f3\u5f00\u59cb\u7684\u6240\u6709\u5185\u5bb9 Ctrl+d \u5220\u9664\u5f53\u524d\u5b57\u7b26 Ctrl+h \u5220\u9664\u5f53\u524d\u5b57\u7b26\u524d\u4e00\u4e2a\u5b57\u7b26 Ctrl+w \u5220\u9664\u6b64\u5904\u5230\u5de6\u8fb9\u7684\u5355\u8bcd Ctrl+y \u7c98\u8d34\u7531Ctrl+u\uff0c Ctrl+d\uff0c Ctrl+w\u5220\u9664\u7684\u5355\u8bcd Ctrl+l \u76f8\u5f53\u4e8eclear\uff0c\u5373\u6e05\u5c4f Ctrl+r \u67e5\u627e\u5386\u53f2\u547d\u4ee4 Ctrl+b \u5411\u56de\u79fb\u52a8\u5149\u6807 Ctrl+f \u5411\u524d\u79fb\u52a8\u5149\u6807 Ctrl+t \u5c06\u5149\u6807\u4f4d\u7f6e\u7684\u5b57\u7b26\u548c\u524d\u4e00\u4e2a\u5b57\u7b26\u8fdb\u884c\u4f4d\u7f6e\u4ea4\u6362 Ctrl+&amp; \u6062\u590d ctrl+h \u6216\u8005 ctrl+d \u6216\u8005 ctrl+w \u5220\u9664\u7684\u5185\u5bb9 Ctrl+S \u6682\u505c\u5c4f\u5e55\u8f93\u51fa Ctrl+Q \u7ee7\u7eed\u5c4f\u5e55\u8f93\u51fa Ctrl+Left-Arrow \u5149\u6807\u79fb\u52a8\u5230\u4e0a\u4e00\u4e2a\u5355\u8bcd\u7684\u8bcd\u9996 Ctrl+Right-Arrow \u5149\u6807\u79fb\u52a8\u5230\u4e0b\u4e00\u4e2a\u5355\u8bcd\u7684\u8bcd\u5c3e Ctrl+p \u5411\u4e0a\u663e\u793a\u7f13\u5b58\u547d\u4ee4 Ctrl+n \u5411\u4e0b\u663e\u793a\u7f13\u5b58\u547d\u4ee4 Ctrl+d \u5173\u95ed\u7ec8\u7aef Ctrl+xx \u5728EOL\u548c\u5f53\u524d\u5149\u6807\u4f4d\u7f6e\u79fb\u52a8 Ctrl+x@ \u663e\u793a\u53ef\u80fdhostname\u8865\u5168 Ctrl+c \u7ec8\u6b62\u8fdb\u7a0b/\u547d\u4ee4 Shift+\u4e0a\u6216\u4e0b \u7ec8\u7aef\u4e0a\u4e0b\u6eda\u52a8 Shift+PgUp/PgDn \u7ec8\u7aef\u4e0a\u4e0b\u7ffb\u9875\u6eda\u52a8 Ctrl+Shift+n \u65b0\u7ec8\u7aef alt+F2 \u8f93\u5165gnome-terminal\u6253\u5f00\u7ec8\u7aef Shift+Ctrl+T \u6253\u5f00\u65b0\u7684\u6807\u7b7e\u9875 Shift+Ctrl+W \u5173\u95ed\u6807\u7b7e\u9875 Shift+Ctrl+C \u590d\u5236 Shift+Ctrl+V \u7c98\u8d34 Alt+\u6570\u5b57 \u5207\u6362\u81f3\u5bf9\u5e94\u7684\u6807\u7b7e\u9875 Shift+Ctrl+N \u6253\u5f00\u65b0\u7684\u7ec8\u7aef\u7a97\u53e3 Shift+Ctrl+Q \u7ba1\u58c1\u7ec8\u7aef\u7a97\u53e3 Shift+Ctrl+PgUp/PgDn \u5de6\u79fb\u53f3\u79fb\u6807\u7b7e\u9875 Ctrl+PgUp/PgDn \u5207\u6362\u6807\u7b7e\u9875 F1 \u6253\u5f00\u5e2e\u52a9\u6307\u5357 F10 \u6fc0\u6d3b\u83dc\u5355\u680f F11 \u5168\u5c4f\u5207\u6362 Alt+F \u6253\u5f00 \u201c\u6587\u4ef6\u201d \u83dc\u5355\uff08file\uff09 Alt+E \u6253\u5f00 \u201c\u7f16\u8f91\u201d \u83dc\u5355\uff08edit\uff09 Alt+V \u6253\u5f00 \u201c\u67e5\u770b\u201d \u83dc\u5355\uff08view\uff09 Alt+S \u6253\u5f00 \u201c\u641c\u7d22\u201d \u83dc\u5355\uff08search\uff09 Alt+T \u6253\u5f00 \u201c\u7ec8\u7aef\u201d \u83dc\u5355\uff08terminal\uff09 Alt+H \u6253\u5f00 \u201c\u5e2e\u52a9\u201d \u83dc\u5355\uff08help\uff09 <p>\u53e6\u5916\u4e00\u4e9b\u5c0f\u6280\u5de7\u5305\u62ec\uff1a\u5728\u7ec8\u7aef\u7a97\u53e3\u547d\u4ee4\u63d0\u793a\u7b26\u4e0b\uff0c\u8fde\u7eed\u6309\u4e24\u6b21 Tab \u952e\u3001\u6216\u8005\u8fde\u7eed\u6309\u4e09\u6b21 Esc \u952e\u3001\u6216\u8005\u6309 Ctrl+I \u7ec4\u5408\u952e\uff0c\u5c06\u663e\u793a\u6240\u6709\u7684\u547d\u4ee4\u53ca\u5de5\u5177\u540d\u79f0\u3002Application \u952e\u5373\u4f4d\u7f6e\u5728\u952e\u76d8\u4e0a\u53f3 Ctrl \u952e\u5de6\u8fb9\u7684\u90a3\u4e2a\u952e\uff0c\u4f5c\u7528\u76f8\u5f53\u4e8e\u5355\u51fb\u9f20\u6807\u53f3\u952e\u3002</p> <p>===== Terminal\u7ec8\u7aef ===== CTRL + ALT + T: \u6253\u5f00\u7ec8\u7aef TAB: \u81ea\u52a8\u8865\u5168\u547d\u4ee4\u6216\u6587\u4ef6\u540d CTRL + SHIFT + V: \u7c98\u8d34\uff08Linux\u4e2d\u4e0d\u9700\u8981\u590d\u5236\u7684\u52a8\u4f5c\uff0c\u6587\u672c\u88ab\u9009\u62e9\u5c31\u81ea\u52a8\u88ab\u590d\u5236\uff09 CTRL + SHIFT + T: \u65b0\u5efa\u6807\u7b7e\u9875 CTRL + D: \u5173\u95ed\u6807\u7b7e\u9875 CTRL + L: \u6e05\u695a\u5c4f\u5e55 CTRL + R + \u6587\u672c: \u5728\u8f93\u5165\u5386\u53f2\u4e2d\u641c\u7d22 CTRL + A: \u79fb\u52a8\u5230\u884c\u9996 CTRL + E: \u79fb\u52a8\u5230\u884c\u672b CTRL + C: \u7ec8\u6b62\u5f53\u524d\u4efb\u52a1 CTRL + Z: \u628a\u5f53\u524d\u4efb\u52a1\u653e\u5230\u540e\u53f0\u8fd0\u884c\uff08\u76f8\u5f53\u4e8e\u8fd0\u884c\u547d\u4ee4\u65f6\u540e\u9762\u52a0&amp;\uff09 ~: \u8868\u793a\u7528\u6237\u76ee\u5f55\u8def\u5f84</p> <p>===== \u5982\u679c\u6253\u5f00\u4e00\u4e2a\u7a0b\u5e8f ===== \u4ee5\u201c\u7cfb\u7edf\u914d\u7f6e\u201d\u4e3a\u4f8b\uff0c\u5148\u6309SUPER + A\uff0cSUPER\u5373Win\u952e\uff0c\u7136\u540e\u5207\u6362\u5230\u4e2d\u6587\u8f93\u5165\u6cd5\uff0c\u8f93\u5165\u201c\u7cfb\u7edf\u914d\u7f6e\u201d\uff0c\u6309\u56de\u8f66\u5373\u6253\u5f00\u7a0b\u5e8f\u3002\u518d\u6309TAB\u952e\u6d4f\u89c8\u7cfb\u7edf\u914d\u7f6e\u91cc\u7684\u5b50\u914d\u7f6e\u7a0b\u5e8f</p> <p>===== \u684c\u9762 ===== ALT + F1: \u805a\u7126\u5230\u684c\u9762\u5de6\u4fa7\u4efb\u52a1\u5bfc\u822a\u680f\uff0c\u53ef\u6309\u4e0a\u4e0b\u952e\u5bfc\u822a\u3002 ALT + F2: \u8fd0\u884c\u547d\u4ee4 ALT + F4: \u5173\u95ed\u7a97\u53e3 ALT + TAB: \u5207\u6362\u7a0b\u5e8f\u7a97\u53e3 ALT + \u7a7a\u683c: \u6253\u5f00\u7a97\u53e3\u83dc\u5355 PRINT: \u684c\u9762\u622a\u56fe</p> <p>SUPER: \u6253\u5f00Dash\u9762\u677f\uff0c\u53ef\u641c\u7d22\u6216\u6d4f\u89c8\u9879\u76ee\uff0c\u9ed8\u8ba4\u6709\u4e2a\u641c\u7d22\u6846\uff0c\u6309\u201c\u4e0b\u201d\u65b9\u5411\u952e\u8fdb\u5165\u6d4f\u89c8\u533a\u57df\uff08SUPER\u952e\u6307Win\u952e\u6216\u82f9\u679c\u7535\u8111\u7684Command\u952e\uff09 \u5728Dash\u9762\u677f\u4e2d\u6309CTRL + TAB: \u5207\u6362\u5230\u4e0b\u4e00\u4e2a\u5b50\u9762\u677f\uff08\u53ef\u641c\u7d22\u4e0d\u540c\u7c7b\u578b\u9879\u76ee\uff0c\u5982\u7a0b\u5e8f\u3001\u6587\u4ef6\u3001\u97f3\u4e50\uff09 SUPER + A: \u641c\u7d22\u6216\u6d4f\u89c8\u7a0b\u5e8f\uff08Application\uff09 SUPER + F: \u641c\u7d22\u6216\u6d4f\u89c8\u6587\u4ef6\uff08File\uff09 SUPER + M: \u641c\u7d22\u6216\u6d4f\u89c8\u97f3\u4e50\u6587\u4ef6\uff08Music\uff09</p> <p>===== Orca\u8bfb\u5c4f\u8f6f\u4ef6 ===== \u542f\u52a8Orca: SUPER + A\uff0c\u7136\u540e\u8f93\u5165orca\uff0c\u7136\u540e\u56de\u8f66 ORCA + \u7a7a\u683c: \u663e\u793a\u9996\u9009\u9879\u5bf9\u8bdd\u6846\uff08ORCA\u952e\u662f\u6307Insert\u63d2\u5165\u952e\u6216CAPS LOCK\u5927\u5c0f\u5199\u8f6c\u6362\u952e\uff0c\u53d6\u51b3\u4e8e\u8bbe\u7f6e\uff09 ORCA + t: \u8bfb\u5f53\u524d\u65f6\u95f4 ORCA + tt: \u8bfb\u5f53\u524d\u65e5\u671f ORCA + s: \u5207\u6362\u5408\u6210\u8bed\u97f3\u5f00\u5173 ORCA + /: \u6717\u8bfb\u6807\u9898 ORCA + //: \u6717\u8bfb\u72b6\u6001\u680f ORCA + \u5206\u53f7: \u6717\u8bfb\u6574\u4e2a\u6587\u4ef6 ORCA + Q: \u9000\u51faOrca \u66f4\u591a\u5feb\u6377\u952e\u8bf7\u53c2\u8003Orca\u9996\u9009\u9879\u7684\u952e\u7ed1\u5b9a\u6807\u7b7e\u9875</p> <p>===== Firefox\u6d4f\u89c8\u5668 ===== \u8fdb\u5165Firefox\u7684\u65b9\u6cd5\uff1a \\1. SUPER + A\uff0c\u7136\u540e\u6309firefox\uff0c\u56de\u8f66\u3002\u8fd9\u4e2a\u662f\u5728Dash\u9762\u677f\u4e2d\u641c\u7d22\u5e94\u7528\u7a0b\u5e8f\u8fd0\u884c\u3002\u4e8b\u5b9e\u4e0a\uff0c\u53ea\u8981\u6309fir\u5c31\u80fd\u5b9a\u4f4d\u5230Firefox\u7a0b\u5e8f\u3002 \\2. ALT\uff0c\u7136\u540e\u6309firefox\uff0c\u56de\u8f66\u3002\u8fd9\u4e2a\u76f8\u5f53\u4e8e\u5728\u547d\u4ee4\u884c\u8fd0\u884c\u4e00\u6761\u547d\u4ee4\u3002 \\3. \u5728\u7ec8\u7aef\u4e2d\u6309firefox&amp;\uff0c\u56de\u8f66\u3002\u8fd9\u4e2a\u9002\u7528\u4e8e\u4ee5\u7ec8\u7aef\u4f5c\u4e3a\u4e3b\u8981\u64cd\u4f5c\u7a97\u53e3\u7684\u7528\u6237\uff0c\u4f7f\u7528TAB\u952e\u8fd8\u53ef\u4ee5\u81ea\u52a8\u8865\u5168\u547d\u4ee4\uff08\u53ea\u9700\u8f93\u5165\u524d\u51e0\u4e2a\u5b57\u6bcd\u518d\u6309TAB\u952e\uff09\u3002&amp;\u5728shell\u4e2d\u662f\u540e\u53f0\u8fd0\u884c\u7684\u610f\u601d\uff0c\u8fd9\u6837\u7ec8\u7aef\u5c31\u4e0d\u4f1a\u88abFirefox\u72ec\u5360\u3002 CTRL + T: \u65b0\u5efa\u6807\u7b7e\u9875 CTRL + W: \u5173\u95ed\u6807\u7b7e\u9875 CTRL + SHIFT + T: \u91cd\u65b0\u6253\u5f00\u6700\u8fd1\u5173\u95ed\u7684\u4e00\u4e2a\u6807\u7b7e\u9875 CTRL + TAB: \u5207\u6362\u5230\u4e0b\u4e00\u4e2a\u6807\u7b7e\u9875 CTRL + SHIFT + TAB: \u5207\u6362\u5230\u4e0a\u4e00\u4e2a\u6807\u7b7e\u9875 ALT + [1-8]: \u8df3\u5230\u5236\u5b9a\u6807\u7b7e\u9875 ALT + 9: \u8df3\u5230\u6700\u540e\u4e00\u4e2a\u6807\u7b7e\u9875 CTRL + L: \u8df3\u5230\u5730\u5740\u680f ESC: \u505c\u6b62\u52a0\u8f7d\u5f53\u524d\u9875\u9762 CTRL + K: \u8df3\u5230\u641c\u7d22\u5f15\u64ce\u8f93\u5165\u6846 CTRL + F: \u5728\u5f53\u524d\u9875\u9762\u4e2d\u641c\u7d22 /: \u5feb\u901f\u67e5\u627e\u3002\u5728Linux\u4e2d\u5f88\u591a\u7a0b\u5e8f\uff08\u5982VI\u3001Man\u3001Less\uff09\u90fd\u4f7f\u7528/\u4f5c\u4e3a\u641c\u7d22\u7684\u5feb\u6377\u952e\uff0c\u5e76\u4e14\u53ef\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u67e5\u627e\u3002\u4f46\u5728Firefox\u4e2d\u6ca1\u6709\u6b63\u5219\u8868\u8fbe\u5f0f\u641c\u7d22\u7684\u529f\u80fd\u3002 CTRL + D: \u6536\u85cf\u5230\u4e66\u7b7e ALT + \u5de6\u65b9\u5411\u952e: \u540e\u9000 ALT + v: \u524d\u8fdb CTRL + Q: \u9000\u51fa</p> <p>===== Gedit\u6587\u672c\u7f16\u8f91\u5668 ===== \u542f\u52a8gedit\uff1aSUPER + A\uff0c\u7136\u540e\u6309gedit\uff0c\u56de\u8f66 CTRL + N: \u65b0\u5efa\u6587\u6863 CTRL + W: \u5173\u95ed\u6587\u6863 CTRL + S: \u4fdd\u5b58 CTRL + SHIFT + S: \u53e6\u5b58\u4e3a CTRL + S: \u641c\u7d22 CTRL + H: \u641c\u7d22\u5e76\u66ff\u6362 CTRL + I: \u8df3\u5230\u67d0\u4e00\u884c CTRL + C: \u590d\u5236 CTRL + V: \u7c98\u8d34 CTRL + X: \u526a\u5207 CTRL + Q: \u9000\u51fa</p> <p>===== Nautilus\u6587\u4ef6\u7ba1\u7406\u5668 ===== \u542f\u52a8Nautilus\u7684\u65b9\u6cd5\uff1a \\1. SUPER + 1\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u4ec5\u9002\u7528\u4e8eNautilus\u5728\u5de6\u8fb9\u5feb\u901f\u542f\u52a8\u7684\u4f4d\u7f6e\u6ca1\u6709\u6539\u53d8\u7684\u60c5\u51b5\u3002 \\2. SUPER + A\uff0c\u7136\u540e\u8f93\u5165nautilus\uff0c\u7136\u540e\u56de\u8f66 F2: \u91cd\u547d\u540d CTRL + 1: \u56fe\u6807\u89c6\u56fe CTRL + 2: \u5217\u8868\u89c6\u56fe CTRL + T: \u65b0\u5efa\u6807\u7b7e\u9875 CTRL + W: \u5173\u95ed\u6807\u7b7e\u9875 CTRL + D: \u6536\u85cf\u5230\u4e66\u7b7e CTRL + Q: \u9000\u51fa Nautilus\u8fd8\u6709\u5f88\u591a\u548cFirefox\u4e00\u81f4\u7684\u5feb\u6377\u952e\u3002</p> <p>===== Rhythmbox\u97f3\u9891\u64ad\u653e\u5668 ===== CTRL + \u7a7a\u683c: \u64ad\u653e/\u6682\u505c ALT + \u53f3\u65b9\u5411\u952e: \u4e0b\u4e00\u9996 ALT + \u5de6\u65b9\u5411\u952e: \u4e0a\u4e00\u9996 CTRL + \u4e0a\u65b9\u5411\u952e: \u589e\u5927\u97f3\u91cf CTRL + \u4e0b\u65b9\u5411\u952e: \u51cf\u5c11\u97f3\u91cf CTRL + U: \u968f\u673a\u64ad\u653e CTRL + R: \u91cd\u590d\u64ad\u653e CTRL + Q: \u9000\u51fa</p> <p>================================================</p> <p>VI</p> <p>vi/vim \u57fa\u672c\u4f7f\u7528\u65b9\u6cd5  vi\u7f16\u8f91\u5668\u662f\u6240\u6709Unix\u53caLinux\u7cfb\u7edf\u4e0b\u6807\u51c6\u7684\u7f16\u8f91\u5668\uff0c\u5b83\u7684\u5f3a\u5927\u4e0d\u900a\u8272\u4e8e\u4efb\u4f55\u6700\u65b0\u7684\u6587\u672c\u7f16\u8f91\u5668\uff0c\u8fd9\u91cc\u53ea\u662f\u7b80\u5355\u5730\u4ecb\u7ecd\u4e00\u4e0b\u5b83\u7684\u7528\u6cd5\u548c\u4e00\u5c0f\u90e8\u5206\u6307\u4ee4\u3002\u7531\u4e8e\u5bf9Unix\u53caLinux\u7cfb\u7edf\u7684\u4efb\u4f55\u7248\u672c\uff0cvi\u7f16\u8f91\u5668\u662f\u5b8c\u5168\u76f8\u540c\u7684\uff0c\u56e0\u6b64\u60a8\u53ef\u4ee5\u5728\u5176\u4ed6\u4efb\u4f55\u4ecb\u7ecdvi\u7684\u5730\u65b9\u8fdb\u4e00\u6b65\u4e86\u89e3\u5b83\u3002Vi\u4e5f\u662fLinux\u4e2d\u6700\u57fa\u672c\u7684\u6587\u672c\u7f16\u8f91\u5668\uff0c\u5b66\u4f1a\u5b83\u540e\uff0c\u60a8\u5c06\u5728Linux\u7684\u4e16\u754c\u91cc\u7545\u884c\u65e0\u963b\u3002</p> <p>1\u3001vi\u7684\u57fa\u672c\u6982\u5ff5  \u57fa\u672c\u4e0avi\u53ef\u4ee5\u5206\u4e3a\u4e09\u79cd\u72b6\u6001\uff0c\u5206\u522b\u662f\u547d\u4ee4\u6a21\u5f0f\uff08command mode\uff09\u3001\u63d2\u5165\u6a21\u5f0f\uff08Insert mode\uff09\u548c\u5e95\u884c\u6a21\u5f0f\uff08last line mode\uff09\uff0c\u5404\u6a21\u5f0f\u7684\u529f\u80fd\u533a\u5206\u5982\u4e0b\uff1a</p> <p>1) \u547d\u4ee4\u884c\u6a21\u5f0fcommand mode\uff09</p> <p>\u63a7\u5236\u5c4f\u5e55\u5149\u6807\u7684\u79fb\u52a8\uff0c\u5b57\u7b26\u3001\u5b57\u6216\u884c\u7684\u5220\u9664\uff0c\u79fb\u52a8\u590d\u5236\u67d0\u533a\u6bb5\u53ca\u8fdb\u5165Insert mode\u4e0b\uff0c\u6216\u8005\u5230 last line mode\u3002</p> <p>2) \u63d2\u5165\u6a21\u5f0f\uff08Insert mode\uff09</p> <p>\u53ea\u6709\u5728Insert mode\u4e0b\uff0c\u624d\u53ef\u4ee5\u505a\u6587\u5b57\u8f93\u5165\uff0c\u6309\u300cESC\u300d\u952e\u53ef\u56de\u5230\u547d\u4ee4\u884c\u6a21\u5f0f\u3002</p> <p>3) \u5e95\u884c\u6a21\u5f0f\uff08last line mode\uff09</p> <p>\u5c06\u6587\u4ef6\u4fdd\u5b58\u6216\u9000\u51favi\uff0c\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u7f16\u8f91\u73af\u5883\uff0c\u5982\u5bfb\u627e\u5b57\u7b26\u4e32\u3001\u5217\u51fa\u884c\u53f7\u2026\u2026\u7b49\u3002</p> <p>\u4e0d\u8fc7\u4e00\u822c\u6211\u4eec\u5728\u4f7f\u7528\u65f6\u628avi\u7b80\u5316\u6210\u4e24\u4e2a\u6a21\u5f0f\uff0c\u5c31\u662f\u5c06\u5e95\u884c\u6a21\u5f0f\uff08last line mode\uff09\u4e5f\u7b97\u5165\u547d\u4ee4\u884c\u6a21\u5f0fcommand mode\uff09\u3002</p> <p>2\u3001vi\u7684\u57fa\u672c\u64cd\u4f5c  a) \u8fdb\u5165vi</p> <p>\u5728\u7cfb\u7edf\u63d0\u793a\u7b26\u53f7\u8f93\u5165vi\u53ca\u6587\u4ef6\u540d\u79f0\u540e\uff0c\u5c31\u8fdb\u5165vi\u5168\u5c4f\u5e55\u7f16\u8f91\u753b\u9762\uff1a</p> <p>$ vi myfile</p> <p>\u4e0d\u8fc7\u6709\u4e00\u70b9\u8981\u7279\u522b\u6ce8\u610f\uff0c\u5c31\u662f\u60a8\u8fdb\u5165vi\u4e4b\u540e\uff0c\u662f\u5904\u4e8e\u300c\u547d\u4ee4\u884c\u6a21\u5f0f\uff08command mode\uff09\u300d\uff0c\u60a8\u8981\u5207\u6362\u5230\u300c\u63d2\u5165\u6a21\u5f0f\uff08Insert mode\uff09\u300d\u624d\u80fd\u591f\u8f93\u5165\u6587\u5b57\u3002\u521d\u6b21\u4f7f\u7528vi\u7684\u4eba\u90fd\u4f1a\u60f3\u5148\u7528\u4e0a\u4e0b\u5de6\u53f3\u952e\u79fb\u52a8\u5149\u6807\uff0c\u7ed3\u679c\u7535\u8111\u4e00\u76f4\u54d4\u54d4\u53eb\uff0c\u628a\u81ea\u5df1\u6c14\u4e2a\u534a\u6b7b\uff0c\u6240\u4ee5\u8fdb\u5165vi\u540e\uff0c\u5148\u4e0d\u8981\u4e71\u52a8\uff0c\u8f6c\u6362\u5230\u300c\u63d2\u5165\u6a21\u5f0f\uff08Insert mode\uff09\u300d\u518d\u8bf4\u5427\uff01</p> <p>b) \u5207\u6362\u81f3\u63d2\u5165\u6a21\u5f0f\uff08Insert mode\uff09\u7f16\u8f91\u6587\u4ef6</p> <p>\u5728\u300c\u547d\u4ee4\u884c\u6a21\u5f0f\uff08command mode\uff09\u300d\u4e0b\u6309\u4e00\u4e0b\u5b57\u6bcd\u300ci\u300d\u5c31\u53ef\u4ee5\u8fdb\u5165\u300c\u63d2\u5165\u6a21\u5f0f\uff08Insert mode\uff09\u300d\uff0c\u8fd9\u65f6\u5019\u4f60\u5c31\u53ef\u4ee5\u5f00\u59cb\u8f93\u5165\u6587\u5b57\u4e86\u3002</p> <p>c) Insert \u7684\u5207\u6362</p> <p>\u60a8\u76ee\u524d\u5904\u4e8e\u300c\u63d2\u5165\u6a21\u5f0f\uff08Insert mode\uff09\u300d\uff0c\u60a8\u5c31\u53ea\u80fd\u4e00\u76f4\u8f93\u5165\u6587\u5b57\uff0c\u5982\u679c\u60a8\u53d1\u73b0\u8f93\u9519\u4e86\u5b57\uff01\u60f3\u7528\u5149\u6807\u952e\u5f80\u56de\u79fb\u52a8\uff0c\u5c06\u8be5\u5b57\u5220\u9664\uff0c\u5c31\u8981\u5148\u6309\u4e00\u4e0b\u300cESC\u300d\u952e\u8f6c\u5230\u300c\u547d\u4ee4\u884c\u6a21\u5f0f\uff08command mode\uff09\u300d\u518d\u5220\u9664\u6587\u5b57\u3002</p> <p>d) \u9000\u51favi\u53ca\u4fdd\u5b58\u6587\u4ef6</p> <p>\u5728\u300c\u547d\u4ee4\u884c\u6a21\u5f0f\uff08command mode\uff09\u300d\u4e0b\uff0c\u6309\u4e00\u4e0b\u300c\uff1a\u300d\u5192\u53f7\u952e\u8fdb\u5165\u300cLast line mode\u300d\uff0c\u4f8b\u5982\uff1a</p> <p>: w filename \uff08\u8f93\u5165 \u300cw filename\u300d\u5c06\u6587\u7ae0\u4ee5\u6307\u5b9a\u7684\u6587\u4ef6\u540dfilename\u4fdd\u5b58\uff09</p> <p>: wq (\u8f93\u5165\u300cwq\u300d\uff0c\u5b58\u76d8\u5e76\u9000\u51favi)</p> <p>: q! (\u8f93\u5165q!\uff0c \u4e0d\u5b58\u76d8\u5f3a\u5236\u9000\u51favi)</p> <p>3\u3001\u547d\u4ee4\u884c\u6a21\u5f0f\uff08command mode\uff09\u529f\u80fd\u952e  1\uff09. \u63d2\u5165\u6a21\u5f0f</p> <p>\u6309\u300ci\u300d\u5207\u6362\u8fdb\u5165\u63d2\u5165\u6a21\u5f0f\u300cinsert mode\u300d\uff0c\u6309\u201ci\u201d\u8fdb\u5165\u63d2\u5165\u6a21\u5f0f\u540e\u662f\u4ece\u5149\u6807\u5f53\u524d\u4f4d\u7f6e\u5f00\u59cb\u8f93\u5165\u6587\u4ef6\uff1b</p> <p>\u6309\u300ca\u300d\u8fdb\u5165\u63d2\u5165\u6a21\u5f0f\u540e\uff0c\u662f\u4ece\u76ee\u524d\u5149\u6807\u6240\u5728\u4f4d\u7f6e\u7684\u4e0b\u4e00\u4e2a\u4f4d\u7f6e\u5f00\u59cb\u8f93\u5165\u6587\u5b57\uff1b</p> <p>\u6309\u300co\u300d\u8fdb\u5165\u63d2\u5165\u6a21\u5f0f\u540e\uff0c\u662f\u63d2\u5165\u65b0\u7684\u4e00\u884c\uff0c\u4ece\u884c\u9996\u5f00\u59cb\u8f93\u5165\u6587\u5b57\u3002</p> <p>2\uff09. \u4ece\u63d2\u5165\u6a21\u5f0f\u5207\u6362\u4e3a\u547d\u4ee4\u884c\u6a21\u5f0f</p> <p>\u6309\u300cESC\u300d\u952e\u3002</p> <p>3\uff09. \u79fb\u52a8\u5149\u6807</p> <p>vi\u53ef\u4ee5\u76f4\u63a5\u7528\u952e\u76d8\u4e0a\u7684\u5149\u6807\u6765\u4e0a\u4e0b\u5de6\u53f3\u79fb\u52a8\uff0c\u4f46\u6b63\u89c4\u7684vi\u662f\u7528\u5c0f\u5199\u82f1\u6587\u5b57\u6bcd\u300ch\u300d\u3001\u300cj\u300d\u3001\u300ck\u300d\u3001\u300cl\u300d\uff0c\u5206\u522b\u63a7\u5236\u5149\u6807\u5de6\u3001\u4e0b\u3001\u4e0a\u3001\u53f3\u79fb\u4e00\u683c\u3002</p> <p>\u6309\u300cctrl\u300d+\u300cb\u300d\uff1a\u5c4f\u5e55\u5f80\u201c\u540e\u201d\u79fb\u52a8\u4e00\u9875\u3002</p> <p>\u6309\u300cctrl\u300d+\u300cf\u300d\uff1a\u5c4f\u5e55\u5f80\u201c\u524d\u201d\u79fb\u52a8\u4e00\u9875\u3002</p> <p>\u6309\u300cctrl\u300d+\u300cu\u300d\uff1a\u5c4f\u5e55\u5f80\u201c\u540e\u201d\u79fb\u52a8\u534a\u9875\u3002</p> <p>\u6309\u300cctrl\u300d+\u300cd\u300d\uff1a\u5c4f\u5e55\u5f80\u201c\u524d\u201d\u79fb\u52a8\u534a\u9875\u3002</p> <p>\u6309\u6570\u5b57\u300c0\u300d\uff1a\u79fb\u5230\u6587\u7ae0\u7684\u5f00\u5934\u3002</p> <p>\u6309\u300cG\u300d\uff1a\u79fb\u52a8\u5230\u6587\u7ae0\u7684\u6700\u540e\u3002</p> <p>\u6309\u300c$\u300d\uff1a\u79fb\u52a8\u5230\u5149\u6807\u6240\u5728\u884c\u7684\u201c\u884c\u5c3e\u201d\u3002</p> <p>\u6309\u300c^\u300d\uff1a\u79fb\u52a8\u5230\u5149\u6807\u6240\u5728\u884c\u7684\u201c\u884c\u9996\u201d</p> <p>\u6309\u300cw\u300d\uff1a\u5149\u6807\u8df3\u5230\u4e0b\u4e2a\u5b57\u7684\u5f00\u5934</p> <p>\u6309\u300ce\u300d\uff1a\u5149\u6807\u8df3\u5230\u4e0b\u4e2a\u5b57\u7684\u5b57\u5c3e</p> <p>\u6309\u300cb\u300d\uff1a\u5149\u6807\u56de\u5230\u4e0a\u4e2a\u5b57\u7684\u5f00\u5934</p> <p>\u6309\u300c#l\u300d\uff1a\u5149\u6807\u79fb\u5230\u8be5\u884c\u7684\u7b2c#\u4e2a\u4f4d\u7f6e\uff0c\u5982\uff1a5l,56l\u3002</p> <p>4\uff09. \u5220\u9664\u6587\u5b57</p> <p>\u300cx\u300d\uff1a\u6bcf\u6309\u4e00\u6b21\uff0c\u5220\u9664\u5149\u6807\u6240\u5728\u4f4d\u7f6e\u7684\u201c\u540e\u9762\u201d\u4e00\u4e2a\u5b57\u7b26\u3002</p> <p>\u300c#x\u300d\uff1a\u4f8b\u5982\uff0c\u300c6x\u300d\u8868\u793a\u5220\u9664\u5149\u6807\u6240\u5728\u4f4d\u7f6e\u7684\u201c\u540e\u9762\u201d6\u4e2a\u5b57\u7b26\u3002</p> <p>\u300cX\u300d\uff1a\u5927\u5199\u7684X\uff0c\u6bcf\u6309\u4e00\u6b21\uff0c\u5220\u9664\u5149\u6807\u6240\u5728\u4f4d\u7f6e\u7684\u201c\u524d\u9762\u201d\u4e00\u4e2a\u5b57\u7b26\u3002</p> <p>\u300c#X\u300d\uff1a\u4f8b\u5982\uff0c\u300c20X\u300d\u8868\u793a\u5220\u9664\u5149\u6807\u6240\u5728\u4f4d\u7f6e\u7684\u201c\u524d\u9762\u201d20\u4e2a\u5b57\u7b26\u3002</p> <p>\u300cdd\u300d\uff1a\u5220\u9664\u5149\u6807\u6240\u5728\u884c\u3002</p> <p>\u300c#dd\u300d\uff1a\u4ece\u5149\u6807\u6240\u5728\u884c\u5f00\u59cb\u5220\u9664#\u884c</p> <p>5\uff09. \u590d\u5236</p> <p>\u300cyw\u300d\uff1a\u5c06\u5149\u6807\u6240\u5728\u4e4b\u5904\u5230\u5b57\u5c3e\u7684\u5b57\u7b26\u590d\u5236\u5230\u7f13\u51b2\u533a\u4e2d\u3002</p> <p>\u300c#yw\u300d\uff1a\u590d\u5236#\u4e2a\u5b57\u5230\u7f13\u51b2\u533a</p> <p>\u300cyy\u300d\uff1a\u590d\u5236\u5149\u6807\u6240\u5728\u884c\u5230\u7f13\u51b2\u533a\u3002</p> <p>\u300c#yy\u300d\uff1a\u4f8b\u5982\uff0c\u300c6yy\u300d\u8868\u793a\u62f7\u8d1d\u4ece\u5149\u6807\u6240\u5728\u7684\u8be5\u884c\u201c\u5f80\u4e0b\u6570\u201d6\u884c\u6587\u5b57\u3002</p> <p>\u300cp\u300d\uff1a\u5c06\u7f13\u51b2\u533a\u5185\u7684\u5b57\u7b26\u8d34\u5230\u5149\u6807\u6240\u5728\u4f4d\u7f6e\u3002\u6ce8\u610f\uff1a\u6240\u6709\u4e0e\u201cy\u201d\u6709\u5173\u7684\u590d\u5236\u547d\u4ee4\u90fd\u5fc5\u987b\u4e0e\u201cp\u201d\u914d\u5408\u624d\u80fd\u5b8c\u6210\u590d\u5236\u4e0e\u7c98\u8d34\u529f\u80fd\u3002</p> <p>6\uff09. \u66ff\u6362</p> <p>\u300cr\u300d\uff1a\u66ff\u6362\u5149\u6807\u6240\u5728\u5904\u7684\u5b57\u7b26\u3002</p> <p>\u300cR\u300d\uff1a\u66ff\u6362\u5149\u6807\u6240\u5230\u4e4b\u5904\u7684\u5b57\u7b26\uff0c\u76f4\u5230\u6309\u4e0b\u300cESC\u300d\u952e\u4e3a\u6b62\u3002</p> <p>7\uff09. \u6062\u590d/\u64a4\u6d88/\u8fd8\u539f\u4e0a\u4e00\u6b21\u64cd\u4f5c</p> <p>\u300cu\u300d\uff1a\u5982\u679c\u8bef\u6267\u884c\u4e00\u4e2a\u547d\u4ee4\uff0c\u53ef\u4ee5\u9a6c\u4e0a\u6309\u4e0b\u300cu\u300d\uff0c\u64a4\u6d88\u4e0a\u4e00\u4e2a\u64cd\u4f5c\u3002\u6309\u591a\u6b21\u201cu\u201d\u53ef\u4ee5\u6267\u884c\u591a\u6b21\u64a4\u6d88\u3002</p> <p>8\uff09. \u66f4\u6539</p> <p>\u300ccw\u300d\uff1a\u66f4\u6539\u5149\u6807\u6240\u5728\u5904\u7684\u5b57\u5230\u5b57\u5c3e\u5904</p> <p>\u300cc#w\u300d\uff1a\u4f8b\u5982\uff0c\u300cc3w\u300d\u8868\u793a\u66f4\u65393\u4e2a\u5b57</p> <p>9\uff09. \u8df3\u81f3\u6307\u5b9a\u7684\u884c</p> <p>\u300cctrl\u300d+\u300cg\u300d\u5217\u51fa\u5149\u6807\u6240\u5728\u884c\u7684\u884c\u53f7\u3002</p> <p>\u300c#G\u300d\uff1a\u4f8b\u5982\uff0c\u300c15G\u300d\uff0c\u8868\u793a\u79fb\u52a8\u5149\u6807\u81f3\u6587\u7ae0\u7684\u7b2c15\u884c\u884c\u9996\u3002</p> <p>4\u3001Last line mode\u4e0b\u547d\u4ee4\u7b80\u4ecb  \u5728\u4f7f\u7528\u300clast line mode\u300d\u4e4b\u524d\uff0c\u8bf7\u8bb0\u4f4f\u5148\u6309\u300cESC\u300d\u952e\u786e\u5b9a\u60a8\u5df2\u7ecf\u5904\u4e8e\u300ccommand mode\u300d\u4e0b\u540e\uff0c\u518d\u6309\u300c\uff1a\u300d\u5192\u53f7\u5373\u53ef\u8fdb\u5165\u300clast line mode\u300d\u3002</p> <p>A) \u5217\u51fa\u884c\u53f7</p> <p>\u300cset nu\u300d\uff1a\u8f93\u5165\u300cset nu\u300d\u540e\uff0c\u4f1a\u5728\u6587\u4ef6\u4e2d\u7684\u6bcf\u4e00\u884c\u524d\u9762\u5217\u51fa\u884c\u53f7\u3002</p> <p>B) \u8df3\u5230\u6587\u4ef6\u4e2d\u7684\u67d0\u4e00\u884c</p> <p>\u300c#\u300d\uff1a\u300c#\u300d\u53f7\u8868\u793a\u4e00\u4e2a\u6570\u5b57\uff0c\u5728\u5192\u53f7\u540e\u8f93\u5165\u4e00\u4e2a\u6570\u5b57\uff0c\u518d\u6309\u56de\u8f66\u952e\u5c31\u4f1a\u8df3\u5230\u8be5\u884c\u4e86\uff0c\u5982\u8f93\u5165\u6570\u5b5715\uff0c\u518d\u56de\u8f66\uff0c\u5c31\u4f1a\u8df3\u5230\u6587\u7ae0\u7684\u7b2c15\u884c\u3002</p> <p>C) \u67e5\u627e\u5b57\u7b26</p> <p>\u300c/\u5173\u952e\u5b57\u300d\uff1a\u5148\u6309\u300c/\u300d\u952e\uff0c\u518d\u8f93\u5165\u60a8\u60f3\u5bfb\u627e\u7684\u5b57\u7b26\uff0c\u5982\u679c\u7b2c\u4e00\u6b21\u627e\u7684\u5173\u952e\u5b57\u4e0d\u662f\u60a8\u60f3\u8981\u7684\uff0c\u53ef\u4ee5\u4e00\u76f4\u6309\u300cn\u300d\u4f1a\u5f80\u540e\u5bfb\u627e\u5230\u60a8\u8981\u7684\u5173\u952e\u5b57\u4e3a\u6b62\u3002</p> <p>\u300c?\u5173\u952e\u5b57\u300d\uff1a\u5148\u6309\u300c?\u300d\u952e\uff0c\u518d\u8f93\u5165\u60a8\u60f3\u5bfb\u627e\u7684\u5b57\u7b26\uff0c\u5982\u679c\u7b2c\u4e00\u6b21\u627e\u7684\u5173\u952e\u5b57\u4e0d\u662f\u60a8\u60f3\u8981\u7684\uff0c\u53ef\u4ee5\u4e00\u76f4\u6309\u300cn\u300d\u4f1a\u5f80\u524d\u5bfb\u627e\u5230\u60a8\u8981\u7684\u5173\u952e\u5b57\u4e3a\u6b62\u3002</p> <p>D) \u4fdd\u5b58\u6587\u4ef6</p> <p>\u300cw\u300d\uff1a\u5728\u5192\u53f7\u8f93\u5165\u5b57\u6bcd\u300cw\u300d\u5c31\u53ef\u4ee5\u5c06\u6587\u4ef6\u4fdd\u5b58\u8d77\u6765\u3002</p> <p>E) \u79bb\u5f00vi</p> <p>\u300cq\u300d\uff1a\u6309\u300cq\u300d\u5c31\u662f\u9000\u51fa\uff0c\u5982\u679c\u65e0\u6cd5\u79bb\u5f00vi\uff0c\u53ef\u4ee5\u5728\u300cq\u300d\u540e\u8ddf\u4e00\u4e2a\u300c!\u300d\u5f3a\u5236\u79bb\u5f00vi\u3002</p> <p>\u300cqw\u300d\uff1a\u4e00\u822c\u5efa\u8bae\u79bb\u5f00\u65f6\uff0c\u642d\u914d\u300cw\u300d\u4e00\u8d77\u4f7f\u7528\uff0c\u8fd9\u6837\u5728\u9000\u51fa\u7684\u65f6\u5019\u8fd8\u53ef\u4ee5\u4fdd\u5b58\u6587\u4ef6\u3002</p> <p>5\u3001vi\u547d\u4ee4\u5217\u8868  1\u3001\u4e0b\u8868\u5217\u51fa\u547d\u4ee4\u6a21\u5f0f\u4e0b\u7684\u4e00\u4e9b\u952e\u7684\u529f\u80fd\uff1a</p> <p>h  \u5de6\u79fb\u5149\u6807\u4e00\u4e2a\u5b57\u7b26</p> <p>l  \u53f3\u79fb\u5149\u6807\u4e00\u4e2a\u5b57\u7b26</p> <p>k  \u5149\u6807\u4e0a\u79fb\u4e00\u884c</p> <p>j  \u5149\u6807\u4e0b\u79fb\u4e00\u884c</p> <p>^  \u5149\u6807\u79fb\u52a8\u81f3\u884c\u9996</p> <p>0  \u6570\u5b57\u201c0\u201d\uff0c\u5149\u6807\u79fb\u81f3\u6587\u7ae0\u7684\u5f00\u5934</p> <p>G  \u5149\u6807\u79fb\u81f3\u6587\u7ae0\u7684\u6700\u540e</p> <p>$  \u5149\u6807\u79fb\u52a8\u81f3\u884c\u5c3e</p> <p>Ctrl+f  \u5411\u524d\u7ffb\u5c4f</p> <p>Ctrl+b  \u5411\u540e\u7ffb\u5c4f</p> <p>Ctrl+d  \u5411\u524d\u7ffb\u534a\u5c4f</p> <p>Ctrl+u  \u5411\u540e\u7ffb\u534a\u5c4f</p> <p>i  \u5728\u5149\u6807\u4f4d\u7f6e\u524d\u63d2\u5165\u5b57\u7b26</p> <p>a  \u5728\u5149\u6807\u6240\u5728\u4f4d\u7f6e\u7684\u540e\u4e00\u4e2a\u5b57\u7b26\u5f00\u59cb\u589e\u52a0</p> <p>o  \u63d2\u5165\u65b0\u7684\u4e00\u884c\uff0c\u4ece\u884c\u9996\u5f00\u59cb\u8f93\u5165</p> <p>ESC  \u4ece\u8f93\u5165\u72b6\u6001\u9000\u81f3\u547d\u4ee4\u72b6\u6001</p> <p>x  \u5220\u9664\u5149\u6807\u540e\u9762\u7684\u5b57\u7b26</p> <p>#x  \u5220\u9664\u5149\u6807\u540e\u7684\uff03\u4e2a\u5b57\u7b26</p> <p>X  (\u5927\u5199X)\uff0c\u5220\u9664\u5149\u6807\u524d\u9762\u7684\u5b57\u7b26</p> <p>#X  \u5220\u9664\u5149\u6807\u524d\u9762\u7684#\u4e2a\u5b57\u7b26</p> <p>dd  \u5220\u9664\u5149\u6807\u6240\u5728\u7684\u884c</p> <p>#dd  \u5220\u9664\u4ece\u5149\u6807\u6240\u5728\u884c\u6570\u7684#\u884c</p> <p>yw  \u590d\u5236\u5149\u6807\u6240\u5728\u4f4d\u7f6e\u7684\u4e00\u4e2a\u5b57</p> <p>#yw  \u590d\u5236\u5149\u6807\u6240\u5728\u4f4d\u7f6e\u7684#\u4e2a\u5b57</p> <p>yy  \u590d\u5236\u5149\u6807\u6240\u5728\u4f4d\u7f6e\u7684\u4e00\u884c</p> <p>#yy  \u590d\u5236\u4ece\u5149\u6807\u6240\u5728\u884c\u6570\u7684#\u884c</p> <p>p  \u7c98\u8d34</p> <p>u  \u53d6\u6d88\u64cd\u4f5c</p> <p>cw  \u66f4\u6539\u5149\u6807\u6240\u5728\u4f4d\u7f6e\u7684\u4e00\u4e2a\u5b57</p> <p>#cw  \u66f4\u6539\u5149\u6807\u6240\u5728\u4f4d\u7f6e\u7684#\u4e2a\u5b57</p> <p>\u4e0b\u8868\u5217\u51fa\u884c\u547d\u4ee4\u6a21\u5f0f\u4e0b\u7684\u4e00\u4e9b\u6307\u4ee4  w filename  \u50a8\u5b58\u6b63\u5728\u7f16\u8f91\u7684\u6587\u4ef6\u4e3afilename</p> <p>wq filename  \u50a8\u5b58\u6b63\u5728\u7f16\u8f91\u7684\u6587\u4ef6\u4e3afilename\uff0c\u5e76\u9000\u51favi</p> <p>q!  \u653e\u5f03\u6240\u6709\u4fee\u6539\uff0c\u9000\u51favi</p> <p>set nu  \u663e\u793a\u884c\u53f7</p> <p>/\u6216?  \u67e5\u627e\uff0c\u5728/\u540e\u8f93\u5165\u8981\u67e5\u627e\u7684\u5185\u5bb9</p> <p>n  \u4e0e/\u6216?\u4e00\u8d77\u4f7f\u7528\uff0c\u5982\u679c\u67e5\u627e\u7684\u5185\u5bb9\u4e0d\u662f\u60f3\u8981\u627e\u7684\u5173\u952e\u5b57\uff0c\u6309n\u6216\u5411\u540e\uff08\u4e0e/\u8054\u7528\uff09\u6216\u5411\u524d\uff08\u4e0e?\u8054\u7528\uff09\u7ee7\u7eed\u67e5\u627e\uff0c\u76f4\u5230\u627e\u5230\u4e3a\u6b62\u3002</p>"},{"location":"LINUX/shell/02%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/","title":"02\u6b63\u5219\u8868\u8fbe\u5f0f","text":"<ul> <li>\u6b63\u5219\u8868\u8fbe\u5f0f<ul> <li>\u6b63\u5219\u8868\u8fbe\u5f0f\u5b9a\u4e49\uff08regular expression\uff09</li> <li>\u5143\u5b57\u7b26</li> </ul> </li> </ul>"},{"location":"LINUX/shell/02%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_1","title":"\u6b63\u5219\u8868\u8fbe\u5f0f","text":""},{"location":"LINUX/shell/02%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#regular-expression","title":"\u6b63\u5219\u8868\u8fbe\u5f0f\u5b9a\u4e49\uff08regular expression\uff09","text":"<p>\u7531\u4e00\u4e32\u5b57\u7b26\u548c\u5143\u5b57\u7b26\u6784\u6210\u7684\u5b57\u7b26\u4e32\u3002\u662f\u5305\u542b\u5339\u914d\u3002 \u4e00\u822c\u653e\u5728/  /\u5f53\u4e2d\u3002</p> <p>grep  find      awk      sed      cut</p> <p>\u95ee\uff1a\u7528\u6237\u6ce8\u518c\u65f6\uff0c\u8981\u6c42\u7528\u6237\u7684\u6635\u79f0\u5fc5\u987b\u4e3a\u5b57\u6bcd\u6253\u5934\uff0c\u7531\u5b57\u6bcd\u3001\u6570\u5b57\u3001_\u7ec4\u6210\u7684\u4e0d\u5c11\u4e8e8 \u4f4d\u4e0d\u591a\u4e8e16\u4f4d\u7684\u5b57\u7b26\u7ec4\u6210\u3002\u8be5\u5982\u4f55\u8fdb\u884c\u9650\u5236\u3002</p> <pre><code>/[a-zA-Z]\\w\\{7,15\\}     # \\\u8f6c\u4e49\u5b57\u7b26\n</code></pre> <p>\u4e0e\u901a\u914d\u7b26\u533a\u522b \u901a\u914d\u7b26\uff1a\u6587\u4ef6\u540d\u7684\u5339\u914d\uff0c\u6709shell\u89e3\u6790\uff0c\u5b8c\u5168\u5339\u914d</p> <p>*     \u4efb\u610f\u5b57\u7b26</p> <p>?     \u4e00\u4e2a\u5b57\u7b26</p> <p>[]    \u6307[]\u4e2d\u7684\u4efb\u610f\u5b57\u7b26</p>"},{"location":"LINUX/shell/02%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_2","title":"\u5143\u5b57\u7b26","text":"<p>shell\u5143\u5b57\u7b26\uff08\u901a\u914d\u7b26\uff09      rm  -rf *.txt</p> <p>\u6b63\u5219\u8868\u8fbe\u5f0f\u5143\u5b57\u7b26</p> grep \u2018c*\u2019 /etc/passwd \u7ed3\u679c\u4e2d\u542b\u6709\u5f88\u591a\u4e0d\u542bc\u7684\u884c grep \u2018c+\u2019 /etc/passwd \u7ed3\u679c\u6bcf\u884c\u90fd\u542b\u6709c <p>\u6269\u5c55\u6b63\u5219\u8868\u8fbe\u5f0f\u5143\u5b57\u7b26</p> + \u524d\u4e00\u4e2a\u5b57\u7b26\u5339\u914d1\u6b21\u6216\u4efb\u610f\u591a\u6b21 ro+ \uff1f \u524d\u4e00\u4e2a\u5b57\u7b26\u5339\u914d0\u6b21\u62161\u6b21 ro?t <p>\u57fa\u672c\u5143\u5b57\u7b26</p> <p>.       \u5339\u914d\u5355\u4e2a\u5b57\u7b26                                r..m</p> <p>*       \u5339\u914d\u524d\u5bfc\u7b260\u5230\u591a\u6b21                      ro*t</p> <p>.*      \u5339\u914d\u4efb\u610f\u5b57\u7b26                              r.*t </p> <p>\u3010\u4e3e\u4f8b\u3011\u5206\u6790\u4ee5\u4e0b\u6b63\u5219\u662f\u5426\u7b26\u5408\u8981\u6c42\u3002</p> <p>\u5339\u914d\u6570\u5b57\uff1a ^[0-9]+$    +\u8868\u793a\u524d\u9762\u7684\u5bf9\u8c61\u51fa\u73b01\u6b21\u6216\u591a\u6b21</p> <p>\u5339\u914dMail\uff1a[a-z0-9_]+@[a-z0-9]+.[a-z]+    .\u8868\u793a\u9664\u6362\u884c\u7b26\u5916\u7684\u4efb\u610f\u4e00\u4e2a \u5b57\u7b26</p> <p>\u5339\u914dIP\u5730\u5740\uff1a[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}</p> <p>\u5206\u6790</p> <p>\uff081\uff09\u5339\u914d\u6570\u5b57\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\uff1a</p> <p>^[0-9]+$</p> <p>\uff082\uff09\u5b8c\u6574\u4f7f\u7528</p> <pre><code>[root@controller ~]#num1=123\n\n[root@controller ~]# [[ \u201c$num1\u201d =~                                          ^[0-9]+$ ]] $$                                          echo \u201cyes\u201d || echo \u201cno\u201d\n</code></pre> <p>2.\u7edf\u8ba1PATH\u73af\u5883\u53d8\u91cf\u4e2d\u5404\u4e2a\u76ee\u5f55\u4e2d\u6587\u4ef6\u7684\u6570\u76ee\u3002 \u5206\u6790\uff1a</p> <p>\uff081\uff09\u660e\u786ePATH\u73af\u5883\u53d8\u91cf\u4e2d\u76ee\u5f55\uff1b</p> <pre><code>echo  $PATH | sed  \u2018s/:/  /g\u2019\n</code></pre> <p>3\uff0e\u9a8c\u8bc1\u7535\u5b50\u90ae\u4ef6\u662f\u5426\u7b26\u5408username@hostname\u683c\u5f0f\u3002\u6ce8\u610fusername\u662f\u7531\u5b57\u6bcd\u3001\u6570 \u5b57\u3001\u70b9\u53f7\uff08.\uff09\u3001\u5355\u7834\u6298\u53f7\uff08-\uff09\u3001\u52a0\u53f7\uff08+\uff09\u7ec4\u6210\uff0c\u800chostname\u53ea\u80fd\u7531\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u70b9\u53f7</p> <p>\u5206\u6790\uff1a</p> <p>\uff081\uff09username\u6839\u636e\u89c4\u5219\u53ef\u7528\u7684\u5b57\u7b26\u3001\u7b26\u53f7\u5fc5\u987b\u51fa\u73b0\u4e00\u4e2a\u624d\u884c\u3002</p> <p>([a-zA-Z0-9_-.]+)</p> <p>\uff082\uff09hostname\u7531\u670d\u52a1\u5668\u540d\u548c\u57df\u540d\u7ec4\u6210\uff0c\u670d\u52a1\u5668\u540d\u548c\u57df\u540d\u90fd\u7528\u70b9\u5206\u9694\uff0c\u5148\u6307\u5b9a\u670d\u52a1\u5668 \u540d\uff0c\u7d27\u63a5\u7740\u6307\u5b9a\u5b50\u57df\u540d\uff0c\u6700\u540e\u662f\u540e\u9762\u4e0d\u5e26\u70b9\u53f7\u7684\u9876\u7ea7\u57df\u540d\u3002</p> <p>([a-zA-Z0-9_-.]+).([a-zA-Z]{2,5})$</p> <p>\uff083\uff09\u5b8c\u6574\u5199\u6cd5\u5373</p> <p>^([a-zA-Z0-9_-.+]+)@([a-zA-Z0-9_-.]+).([a-zA-Z]{2,5})$</p> <ol> <li>\u5339\u914dIP</li> </ol> <p>\u6b63\u5219\u8868\u8fbe\u5f0f\uff1a<code>[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}</code></p> <p>\u7b5b\u9009\u51faifcfg-eno1677736\u4e2d\u5730\u5740\u542b\u6709\u5730\u5740\u7684\u884c\u3002</p> <p><code>egrep  '[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}' /etc/sysconfig/network-scripts/ifcfg-eno1677736</code></p> <p>\u5c06ifcfg-eno1677763\u4e2d\u7684IP\u5730\u5740192.168.0.1\u66ff\u6362\u6210192.168.0.100\u3002 \u66ff\u6362\u601d\u8def\uff1a</p> <p><code>:%s/192.168.0.1/192.168.0.100/</code></p> <p>\u4e0a\u9762\u8fd9\u79cd\u65b9\u6cd5\u6211\u4eec\u4f1a\u53d1\u73b0\u5bf9\u4e8e192.168.0.\u8fd9\u4e00\u90e8\u5206\u662f\u8981\u91cd\u590d\u8f93\u51fa\u7684\uff0c\u53ef\u4ee5\u91c7\u7528\u5982\u4e0b\u529e\u6cd5\u6765\u89e3\u51b3\u91cd\u590d\u8f93\u51fa\u7684\u95ee\u9898\u3002</p> <p><code>:%s/(192.168.0.)1/\\1100/</code></p> <p><code>\\1</code>\u8868\u793a\u7b2c\u4e00\u5bf9\u62ec\u53f7\uff0c\u4f46\u8fd9\u79cd\u5199\u6cd5\u5e76\u4e0d\u5bf9\uff0c\u9700\u8981\u5bf9\uff08\uff09\u8fdb\u884c\u8f6c\u4e49\u3002\u6b63\u786e\u7684</p> <p>\u5199\u6cd5\u5982\u4e0b\uff1a</p> <p><code>:%s/\\(192.168.0.\\)1/\\1100/</code></p> <p>\u4e5f\u53ef\u4ee5\u5199\u6210\u591a\u62ec\u53f7\u7684\u5f62\u5f0f\uff1a</p> <p>:%s/(192.) (168. ) (0. ) 1/\\1\\2\\3100/                                      \u518d\u52a0\u4e0a\\\u8fdb\u884c\u8f6c\u4e49\u3002</p> <p>:%s/\\(192.\\) (168. ) (0. ) 1/\\1\\2\\3100/</p> <p>\u628a\u6587\u672c\u4e2d\u76845\u201410\u6ce8\u91ca\u6389</p> <p><code>:5,9 s/\\(.*\\)/#\\1/</code></p> <p>\u5982\u679c1\u6210\u7acb\uff0c\u5219\u6267\u884c2\uff0c1\u4e0d\u6210\u7acb\u5219\u6267\u884c3</p> <p><code>[[ \u201c$num1\u201d =~ ^[0-9]+$ ]] &amp;&amp; echo \u201cnumber\u201d || echo \u201cerror\u201d</code></p> 1 2 3 \\(num1\u201d =~ ^[0-9]+\\) ] echo \u201cnumber\u201d echo \u201cerror\u201d"},{"location":"LINUX/shell/02%E9%99%86-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/","title":"linux\u6b63\u5219\u8868\u8fbe\u5f0f","text":""},{"location":"LINUX/shell/02%E9%99%86-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#1","title":"1\u3001\u4ec0\u4e48\u662f\u6b63\u5219\u8868\u8fbe\u5f0f","text":"<ol> <li>\u6b63\u5219\u8868\u8fbe\u5f0f\u5c31\u662f\u4e3a\u4e86\u5904\u7406\u5927\u91cf\u7684\u6587\u672c|\u5b57\u7b26\u4e32\u800c\u5b9a\u4e49\u7684\u4e00\u5957\u89c4\u5219\u548c\u65b9\u6cd5</li> <li>\u901a\u8fc7\u5b9a\u4e49\u7684\u8fd9\u4e9b\u7279\u6b8a\u7b26\u53f7\u7684\u8f85\u52a9\uff0c\u7cfb\u7edf\u7ba1\u7406\u5458\u5c31\u53ef\u4ee5\u5feb\u901f\u8fc7\u6ee4\uff0c\u66ff\u6362\u6216\u8f93\u51fa\u9700\u8981\u7684\u5b57\u7b26\u4e32\u3002</li> <li>\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u4e00\u79cd\u63cf\u8ff0\u4e00\u7ec4\u5b57\u7b26\u4e32\u7684\u6a21\u5f0f\uff0c\u7c7b\u4f3c\u6570\u5b57\u8868\u8fbe\u5f0f\uff0c\u901a\u8fc7\u5404\u79cd\u64cd\u4f5c\u7b26\u7ec4\u6210\u66f4\u5c0f\u7684\u8868\u8fbe\u5f0f</li> </ol>"},{"location":"LINUX/shell/02%E9%99%86-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#2","title":"2\u3001\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\uff1f","text":"<ol> <li>\u53ef\u4ee5\u8fc7\u6ee4\u5927\u91cf\u65e5\u5fd7\u5de5\u4f5c\uff0c\u63d0\u9ad8\u8fd0\u7ef4\u6548\u7387</li> <li>\u7b80\u5355\uff0c\u9ad8\u6548</li> <li>\u6b63\u5219\u8868\u8fbe\u5f0f\u9ad8\u7ea7\u5de5\u5177\uff0c\u4e09\u5251\u5ba2\uff08vi,awk,sed\uff09\u90fd\u652f\u6301\u3002</li> </ol>"},{"location":"LINUX/shell/02%E9%99%86-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#3","title":"3\u3001\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u6ce8\u610f\u4e8b\u9879","text":"<ol> <li>linux\u6b63\u5219\u8868\u8fbe\u5f0f\u4ee5\u884c\u4e3a\u5355\u4f4d</li> <li>\u4e3a\u4e86\u4fbf\u4e8e\u533a\u522b\u8fc7\u6ee4\u51fa\u6765\u7684\u5b57\u7b26\u4e32\uff0c\u4e00\u5b9a\u8981\u914d\u5408grep/egrep\u547d\u4ee4\u5b66\u4e60</li> </ol>"},{"location":"LINUX/shell/02%E9%99%86-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#4","title":"4\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5206\u7c7b","text":"<ol> <li>\u57fa\u672c\u6b63\u5219\u8868\u8fbe\u5f0f(BRE,Basic Regular Express)     \u53ea\u627f\u8ba4^$.[]*,\u5176\u4ed6\u7684\u4e3a\u666e\u901a\u5b57\u7b26</li> <li>\u9ad8\u7ea7\u529f\u80fd\uff1a\u6269\u5c55\u6b63\u5219\u8868\u8fbe\u5f0f(ERE,Extended Regular Expression)     \u589e\u52a0\u4e86(),{},?,+,|</li> </ol>"},{"location":"LINUX/shell/02%E9%99%86-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#5","title":"5\u3001\u57fa\u672c\u6b63\u5219\u8868\u8fbe\u5f0f","text":"\u5e8f\u53f7 \u5b57\u7b26 \u63cf\u8ff0 1 ^ ^ word\u641c\u7d22\u4ee5word\u5f00\u5934\u7684\u5185\u5bb9 2 $ word$\u641c\u7d22\u4ee5word\u7ed3\u5c3e\u7684\u5185\u5bb9 3 ^$ \u8868\u793a\u7a7a\u884c 4 . \u4ee3\u8868\u4efb\u610f\u7684\u5b57\u7b26 5 \\ \u8f6c\u4e49\u5b57\u7b26\uff0c\u8ba9\u6709\u7279\u6b8a\u542b\u4e49\u7684\u5b57\u7b26\u8131\u6389\u9a6c\u7532\uff0c\u73b0\u51fa\u539f\u5f62\uff0c\u5982. \u53ea\u8868\u793a\u5c0f\u6570\u70b9 6 * \u8868\u793a 0\u4e2a\u6216\u8005\u591a\u4e2a 7 ^.* \u4ee3\u8868\u4efb\u610f\u591a\u4e2a\u5b57\u7b26\u5f00\u5934 8 [] \u5339\u914d\u5b57\u7b26\u96c6\u5185\u7684\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26    ,               \uff0c[a-c]   \u5339\u914da\uff0cb,c\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a 9 [^] \u5339\u914d\u4e0d\u5305\u542b^\u540e\u7684\u4efb\u610f\u5b57\u7b26\uff0c\u662f\u5bf9[]\u7684\u5426\u5b9a 10 a{n,m} \u91cd\u590d\u81f3\u5c11n\u6b21\uff0c\u81f3\u591am\u6b21 ## 6\u3001\u6269\u5c55\u6b63\u5219\u8868\u8fbe\u5f0f \u5e8f\u53f7 \u7279\u6b8a\u5b57\u7b26 \u542b\u4e49\u4e0e\u4f8b\u5b50 :--: :-----: :--------------------: 1 + \u91cd\u590d1\u6b21\u4ee5\u4e0a 2 \uff1f \u91cd\u590d0\u6b21\u6216\u80051\u6b21 3 \uff08\uff09 \u8868\u793a\u662f\u4e00\u4e2a\u6574\u4f53\uff0c\u5411\u540e\u5f15\u7528 ## 7\u3001\u5143\u5b57\u7b26 \u6b63\u5219\u8868\u8fbe\u5f0f \u63cf\u8ff0 \u793a\u4f8b --------- -------------------------- ------------------------------ \\b \u5355\u8bcd\u8fb9\u754c \\bcool\\b\u5339\u914dcool\uff0c\u4e0d\u5339\u914dcoolant \\B \u975e\u5355\u8bcd\u8fb9\u754c cool\\B\u5339\u914dcoolant\u4e0d\u5339\u914dcool \\d \u5355\u4e2a\u6570\u5b57\u5b57\u7b26 b\\db\u5339\u914db2b\uff0c\u4e0d\u5339\u914dbcb \\D \u5355\u4e2a\u975e\u6570\u5b57\u5b57\u7b26 b\\Db\u5339\u914dbcb\u4e0d\u5339\u914db2b \\w \u5355\u4e2a\u5355\u8bcd\u5b57\u7b26\uff08\u5b57\u6bcd\uff0c\u6570\u5b57\u4e0e_) \\w\u5339\u914d1\u6216a\uff0c\u4e0d\u5339\u914d&amp; \\W \u5355\u4e2a\u975e\u5355\u8bcd\u5b57\u7b26 \\W\u5339\u914d&amp;\uff0c\u4e0d\u5339\u914d1\u6216a \\n \u6362\u884c\u7b26 \\n\u5339\u914d\u4e00\u4e2a\u65b0\u884c \\s \u5355\u4e2a\u7a7a\u767d\u5b57\u7b26 x\\sx\u5339\u914dxx\uff0c\u4e0d\u5339\u914dxx \\S \u5355\u4e2a\u975e\u7a7a\u767d\u5b57\u7b26 x\\S\\x\u5339\u914dxkx\uff0c\u4e0d\u5339\u914dxx \\r \u56de\u8f66 \\r\u5339\u914d\u56de\u8f66 \\t \u6a2a\u5411\u5236\u8868\u7b26 \\t\u5339\u914d\u4e00\u4e2a\u6a2a\u5411\u5236\u8868\u7b26 \\v \u5782\u76f4\u5236\u8868\u7b26 \\v\u5339\u914d\u4e00\u4e2a\u5782\u76f4\u5236\u8868\u7b26 \\f \u6362\u9875\u7b26 \\f\u5339\u914d\u4e00\u4e2a\u6362\u9875\u7b26 ## 8\u3001\u5e94\u7528\u4e3e\u4f8b ### 8.1   \u5339\u914d\u5f00\u5934 <pre><code>grep  \"^my\" test.txt\n</code></pre> ### 8.2 \u5339\u914d\u7ed3\u5c3e <pre><code>  grep \"teacher$\" test.txt\n</code></pre>"},{"location":"LINUX/shell/02%E9%99%86-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#83","title":"8.3  \u5339\u914d\u7a7a\u884c","text":"<pre><code>  grep \"^$\" test.txt\n</code></pre>"},{"location":"LINUX/shell/02%E9%99%86-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#84","title":"8.4 \u5339\u914d\u90ae\u7bb1","text":""},{"location":"LINUX/shell/02%E9%99%86-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#1_1","title":"1. \u683c\u5f0f","text":"<pre><code> xx@yy.zz\n</code></pre>"},{"location":"LINUX/shell/02%E9%99%86-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#2_1","title":"2.\u8bf4\u660e\uff1a","text":"<ol> <li>xx\u4e3a\u5b57\u6bcd\u6216\u8005\u6570\u5b57\uff0c\u81f3\u5c111\u4e2a\u5b57\u7b26</li> <li>@ ,\u5fc5\u987b\u5b58\u5728</li> <li>yy \u5b57\u6bcd\u6216\u8005\u6570\u5b57\uff0c\u81f3\u5c11\u4e00\u4e2a</li> <li>.\u5fc5\u987b\u5b58\u5728</li> <li>zz \u5b57\u6bcd\uff0c2\u52303\u4e2a</li> </ol>"},{"location":"LINUX/shell/02%E9%99%86-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#3_1","title":"3. \u90ae\u7bb1\u6b63\u5219\u8868\u8fbe\u5f0f","text":"<pre><code>    [a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[a-z]{2,3}\n</code></pre>"},{"location":"LINUX/shell/02%E9%99%86-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#85","title":"8.5 \u5339\u914d\u6570\u5b57","text":"<pre><code>grep \"[0-9]*\" test.txt\n</code></pre>"},{"location":"LINUX/shell/02%E9%99%86-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#86-url","title":"8.6 \u5339\u914dURL","text":""},{"location":"LINUX/shell/02%E9%99%86-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#1_2","title":"1.\u683c\u5f0f","text":"<pre><code>protocol://domain:port/path/file\n\u4f8b\u5982\uff1a http://www.sina.com.cn\nhttp://localhost:8080/test/index.php\n</code></pre>"},{"location":"LINUX/shell/02%E9%99%86-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#2_2","title":"2.\u534f\u8bae","text":"<ol> <li>protocol \u4ee5\u5b57\u7b26\u5f00\u5934\uff0c\u81f3\u5c112\u4e2a\u5b57\u7b26</li> <li>\u4e3e\u4f8b\uff1ahttp\uff0c ftp,  sendmail, jdbc</li> </ol>"},{"location":"LINUX/shell/02%E9%99%86-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#3ip","title":"3.\u57df\u540d\u6216\u8005ip\u5730\u5740","text":"<ol> <li>\u57df\u540d\u5f62\u5f0f\uff1a xx \u6216\u8005 xx.yy,\u5176\u4e2dxx.\u53ef\u4ee5\u6709\u591a\u4e2a,\u5982\uff1awww.baidu.com \u3001 localhost \u3001 master\u7b49</li> <li>IP\u5730\u5740\u5f62\u5f0f\uff1a(xx.){3}yy ,\u5176\u4e2dxx.\u4e3a\u6570\u5b57\uff0c\u5982: 192,168.1.1</li> </ol>"},{"location":"LINUX/shell/02%E9%99%86-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#4_1","title":"4.\u7aef\u53e3\u53f7","text":"<ol> <li>\u5f62\u5f0f\uff1a:port</li> <li>\u4e3e\u4f8b\uff1a:8081\uff0c:9100</li> </ol>"},{"location":"LINUX/shell/02%E9%99%86-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#5path","title":"5.Path","text":"<ol> <li>\u8def\u5f84\u5f62\u5f0f\uff1a(/test)* </li> <li>\u4e3e\u4f8b\uff1a /test/admin/</li> </ol>"},{"location":"LINUX/shell/02%E9%99%86-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#6file","title":"6.file","text":"<ol> <li>\u5f62\u5f0f:  xxx.yy</li> <li>\u4e3e\u4f8b\uff1atest.php,index.html</li> </ol>"},{"location":"LINUX/shell/02%E9%99%86-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#7url","title":"7.URL\u6b63\u5219\u8868\u8fbe\u5f0f","text":"<p><code>shell     \\w+:\\/\\/(((\\w+\\.)+\\w{2,3}?)|\\w+)(:[0-9]+)?(\\/\\w+)*(\\/\\w+.[a-z]{2,4})?</code>  \u4e3e\u4f8b\uff1a  <code>shell  egrep \"\\w+:\\/\\/(((\\w+\\.)+\\w{2,3}?)|\\w+)(:[0-9]+)?(\\/\\w+)*(\\/\\w+.[a-z]{2,4})?\" test.txt</code>  \u8fd0\u884c\u7ed3\u679c\uff1a  <code>shell  http://localhost/ http://localhost:8081/test/admin/index.html ftp://localhost:8841/ http://www.sina.con.cn</code></p>"},{"location":"LINUX/shell/03find%E5%91%BD%E4%BB%A4/","title":"03find\u547d\u4ee4","text":""},{"location":"LINUX/shell/03find%E5%91%BD%E4%BB%A4/#find","title":"find\u547d\u4ee4","text":"<p>find: \u7528\u6765\u5728\u6307\u5b9a\u76ee\u5f55\u4e0b\u67e5\u627e\u6587\u4ef6</p> <p>\u683c\u5f0f\uff1afind  [\u641c\u7d22\u8303\u56f4]     [ \u5339\u914d\u6761\u4ef6]</p> <p><code>find pathname -options [-print -exec -ok....]</code></p> <ul> <li><code>-name</code> \u6839\u636e\u6587\u4ef6\u540d\u641c\u7d22</li> <li> <p><code>-iname</code> \u5728\u641c\u7d22\u65f6\u4e0d\u533a\u5206\u5927\u5c0f\u5199(\u53ef\u4f7f\u7528\u901a\u914d\u7b26<code>*  \uff1f</code>\u4efb\u610f/\u5355\u4e2a\u5b57\u7b26)</p> </li> <li> <p><code>-size n</code>    \u67e5\u627e\u6587\u4ef6\u5927\u5c0f\u4e3an\u7684\u5757</p> </li> <li><code>+n</code>  \u5927\u4e8e     <code>-n</code>\u5c0f\u4e8e      <code>n</code>\u7b49\u4e8e<ul> <li>find   /   -size    +204800     //\u67e5\u627e\u5927\u4e8e100M\u7684\u6587\u4ef6</li> <li>1\u6570\u636e\u5757=512\u5b57\u8282=0.5K</li> </ul> </li> <li> <p><code>-a</code>(and)\u8868\u793a\u4e24\u4e2a\u6761\u4ef6\u540c\u65f6\u6ee1\u8db3</p> </li> <li> <p>find  /  -size   +102400 -a -size  -201800</p> </li> <li> <p><code>-o</code>(or)\u8868\u793a\u6ee1\u8db3\u5176\u4e2d\u4e00\u4e2a\u5c31\u884c</p> </li> <li> <p>find  /  -size   -102400   -o  -size  +201800</p> </li> <li> <p><code>-type</code> \u6839\u636e\u6587\u4ef6\u7c7b\u578b\u67e5\u627e</p> </li> <li> <p><code>f</code>\u6587\u4ef6   <code>d</code>\u76ee\u5f55    <code>l</code>\u8f6f\u94fe\u63a5\u6587\u4ef6</p> <ul> <li>find /etc  -name  init* -a -type  l</li> </ul> </li> <li> <p><code>-inum</code>   \u6839\u636ei\u8282\u70b9\u67e5\u627e    \u786c\u94fe\u63a5</p> </li> <li> <p><code>find  .  -inum  \u8282\u70b9\u53f7</code> \u6bcf\u4e2a\u6587\u4ef6\u90fd\u6709\u4e00\u4e2a\u8282\u70b9\u53f7\uff0c\u4f46\u4e00\u4e2a\u8282\u70b9\u53f7\u53ef\u80fd\u5bf9\u5e94\u591a\u4e2a\u6587\u4ef6</p> </li> <li> <p><code>-user</code> \u6839\u636e\u6240\u6709\u8005\u6765\u67e5\u627e</p> </li> <li> <p><code>-group</code>   \u6240\u5c5e\u7ec4</p> </li> <li> <p>find  /home   -user  lhq</p> </li> <li> <p>\u6839\u636e\u65f6\u95f4\u5c5e\u6027\u67e5\u627e</p> </li> <li><code>-atime  n</code>\u8bbf\u95ee\u65f6\u95f4\uff08access\uff09<code>+n</code>\u5929\u524d\u88ab\u8bbf\u95ee\u8fc7\u7684\u6587\u4ef6\uff0c<code>-n</code>\u6ca1\u8d85\u8fc7n\u5929\u524d\u88ab\u8bbf\u95ee\u7684\u6587\u4ef6</li> <li><code>-ctime</code>   \u6587\u4ef6\u5c5e\u6027 change \u68c0\u67e5\u6587\u4ef6\u7d22\u5f15\u8282\u70b9\u88ab\u4fee\u6539\u7684\u65f6\u95f4</li> <li> <p><code>-mtime</code>   \u6587\u4ef6\u5185\u5bb9modify \u68c0\u67e5\u6587\u4ef6\u5185\u5bb9\u88ab\u4fee\u6539\u7684\u65f6\u95f4</p> </li> <li> <p><code>-perm n</code>   \u67e5\u627e\u6743\u9650\u4e3an\u7684\u6587\u4ef6</p> </li> <li> <p>find  .  -perm  644</p> </li> <li> <p>\u5bf9\u67e5\u627e\u7684\u7ed3\u679c\u505a\u6307\u5b9a\u7684\u64cd\u4f5c</p> </li> <li> <p><code>-exec  \u547d\u4ee4   { }  \\;</code>  \u5bf9\u6bd4\u914d\u6307\u5b9a\u6761\u4ef6\u7684\u6587\u4ef6\u6267\u884c\u547d\u4ee4\u4e2d\u7684\u64cd\u4f5c\u3002</p> <p><code>-ok  \u547d\u4ee4   { }  \\;</code>    \u540c\u4e0a\uff0c\u53ea\u662f\u6dfb\u52a0\u7528\u6237\u786e\u8ba4</p> <ul> <li>find /etc -name init* -a -type d -exec ls -dl {} \\;  \uff08\u5bfb\u627eetc\u4e0b\u4ee5init\u5f00\u5934\u7684\u6587\u4ef6\u5939\uff0c\u5e76\u663e\u793a\u5176\u8be6\u7ec6\u4fe1\u606f\uff09</li> </ul> </li> </ul>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/","title":"find\u547d\u4ee4\u8be6\u89e3","text":""},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#1find","title":"1\u3001find\u547d\u4ee4\u7684\u4f5c\u7528","text":"<p>\u662f\u5bf9\u6587\u4ef6\u6216\u8005\u76ee\u5f55\u8fdb\u884c\u67e5\u627e\u64cd\u4f5c\u7684\u51fd\u6570</p>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#2find","title":"2\u3001find\u8bed\u6cd5","text":"<p><pre><code>find [option] [PATH] [expression]\n</code></pre> \u8bf4\u660e\uff1a 1. [option] \u53c2\u6570\u8bf4\u660e\uff1a-H\uff0c-L\uff0c-P \u662f\u5426\u5904\u7406\u7b26\u53f7\u94fe\u63a5\u6587\u4ef6 2. [PATH] \u9700\u8981\u67e5\u627e\u7684\u8def\u5f84 3. [expression] \u67e5\u627e\u8868\u8fbe\u5f0f</p>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#3-expression","title":"3  expression","text":"<p>expression\u7531\u4e09\u90e8\u5206\u7ec4\u6210\uff1a 1. options\uff0c\u6240\u6709\u7684\u53c2\u6570\u5747\u8fd4\u56detrue,\u5982\uff1a-maxdepth\uff0c-mindepth 2. tests, \u5982-ctime\uff0c-iname\uff0c-perm\uff0c-type, 3. actions</p>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#31-option","title":"3.1 \u8868\u8fbe\u5f0foption\u9009\u9879","text":""},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#311-maxdepth-mindepth","title":"3.1.1 -maxdepth , -mindepth","text":"<p>\u6309\u6df1\u5ea6\u8fdb\u884c\u67e5\u627e\uff1a 1. -maxdepth \u8bbe\u7f6e\u6700\u5927\u6df1\u5ea6 2. -mindepth \u8bbe\u7f6e\u6700\u5c0f\u6df1\u5ea6</p>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#3-12-help","title":"3. 1.2 -help","text":"<p>\u663e\u793a\u5e2e\u52a9</p>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#313-version","title":"3.1.3 -version","text":"<p>\u663e\u793a\u7248\u672c</p>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#314-noleaf","title":"3.1.4 -noleaf","text":"<p>\u5173\u95ed\u4f18\u5316</p>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#32-test","title":"3.2 \u8868\u8fbe\u5f0ftest\u9009\u9879","text":""},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#321-name","title":"3.2.1  -name","text":"<p>\u6309basename\u6587\u4ef6\u540d\u8fdb\u884c\u641c\u7d22\uff0cbasename\u4e2d\u4e0d\u80fd\u6709/\uff0c\u6587\u4ef6\u540d\u8981\u6709\u5f15\u53f7\u62ec\u8d77\u6765</p>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#322-path","title":"3.2.2 -path","text":"<p>\u6309\u6587\u4ef6\u5168\u8def\u5f84\uff1adirname+basename\u8fdb\u884c\u641c\u7d22\uff0c\u6587\u4ef6\u540d\u6700\u597d\u6709\u5f15\u53f7\u6269\u8d77\u6765\u3002\u5728\u8def\u5f84\u4e2d\u53ef\u4ee5\u6709/\u53f7</p>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#323-type","title":"3.2.3 -type","text":"<p>\u6839\u636e\u6587\u4ef6\u7c7b\u578b\u6765\u641c\u7d22\uff0c\u53c2\u6570\u5982\u4e0b\u8868\u6240\u793a\uff1a  |\u53c2\u6570\u540d\u79f0|\u53c2\u6570\u529f\u80fd|  |--|--|  |b |     block (buffered) special|  | c|      character (unbuffered) special|  |d |     directory|  |p  |    named pipe (FIFO)| |f   |   regular file| |l    |  symbolic link; this is never true if the -L option or the follow option is in effect, unless the symbolic link  is broken.  If you want to search for symbolic links when -L is in effect, use -xtype.| |s     | socket| |D     | door (Solaris)|</p>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#324-perm","title":"3.2.4 -perm","text":"<p>\u6309\u6587\u4ef6\u7684\u6743\u9650\u8fdb\u884c\u67e5\u627e 1. octal\uff08\u516b\u8fdb\u5236\uff09\u65b9\u5f0f\u8fdb\u884c\u67e5\u627e    \u5e94\u7528\u4e3e\u4f8b\uff1a        * 777 \u67e5\u627e\u6587\u4ef6\u6743\u9650\u4e3a777\u7684\u6587\u4ef6        * -777\u67e5\u627e\u6587\u4ef6\u6240\u6709\u8005\uff0c\u6587\u4ef6\u6240\u5c5e\u7ec4\uff0c\u5176\u4ed6\u7528\u6237\u6743\u9650\u4e3a7\u7684\u6587\u4ef6        * /777\u67e5\u627e\u6587\u4ef6\u6240\u6709\u8005\uff0c\u6587\u4ef6\u6240\u5c5e\u7ec4\uff0c\u5176\u4ed6\u7528\u6237\u6743\u9650\u4e3a7\u7684\u6587\u4ef6 2. ugo/rwx\u65b9\u5f0f\u8fdb\u884c\u67e5\u627e    u--user    g--group    o-other    r-read    w-write    x-execute    -o=rw\uff0c\u67e5\u627e\u5176\u4ed6\u7528\u6237\u5177\u6709\u8bfb\u5199\u6743\u9650\u7684\u6587\u4ef6    -o=-w-r,\u67e5\u627e\u5176\u4ed6\u7528\u6237\u6ca1\u6709\u8bfb\u5199\u6743\u9650\u7684\u6587\u4ef6</p>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#325-size","title":"3.2.5 -size","text":"<p>\u6309\u6587\u4ef6\u5927\u5c0f\u8fdb\u884c\u67e5\u627e 1. -size 200k,  \u67e5\u627e\u5927\u5c0f\u4e3a200k\u7684\u6587\u4ef6 2. -size -200k\uff0c\u67e5\u627e\u5927\u5c0f\u4e0d\u8d85\u8fc7200k\u7684\u6587\u4ef6 3. -size +200k, \u67e5\u627e\u5927\u5c0f\u8d85\u8fc7200k\u7684\u6587\u4ef6</p>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#326-user","title":"3.2.6 -user","text":"<p>\u6309\u6587\u4ef6\u5c5e\u4e3b\u8fdb\u884c\u67e5\u627e  -user lqj   \u53ef\u4ee5\u540c\u65f6\u67e5\u627e\u591a\u4e2a\u7528\u6237</p>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#327-group","title":"3.2.7 -group","text":"<p>\u6309\u6587\u4ef6\u6240\u5c5e\u7684\u7ec4\u8fdb\u884c\u67e5\u627e \u53ef\u4ee5\u540c\u65f6\u67e5\u627e\u591a\u4e2a\u7ec4\uff0c\u540c-user</p>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#33-actions","title":"3.3 \u8868\u8fbe\u5f0factions\u9009\u9879","text":""},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#331-print","title":"3.3.1 -print","text":"<p>\u6253\u5370\u529f\u80fd\uff1a  1. \u9ed8\u8ba4\u4ee5\\n\u5c06\u627e\u5230\u7684\u6587\u4ef6\u8fdb\u884c\u5206\u9694\u3002  2. -print0 \u4f7f\u7528\\0\u8fdb\u884c\u6587\u4ef6\u5206\u9694  3. -printf\uff0c\u540cC\u8bed\u8a00printf\u9009\u9879</p>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#332-delete","title":"3.3.2 -delete","text":"<p>\u5220\u9664\u6587\u4ef6 <pre><code>[root@controller ~]# ls\nanaconda-ks.cfg      grep_demo_file1.txt.bak  keystonerc_admin  uninstall2.sh\nanswer-file          grep_demo_file.txt       test.txt          uninstall.sh\ngrep_demo_file1.txt  grep_demo_file.txt.bak   test.txt.bak\n[root@controller ~]# find . -name \"*.bak\" -delete\n[root@controller ~]# ls\nanaconda-ks.cfg  grep_demo_file1.txt  keystonerc_admin  uninstall2.sh\nanswer-file      grep_demo_file.txt   test.txt          uninstall.sh\n</code></pre></p>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#333-exec-command","title":"3.3.3 -exec command ;","text":"<p>\u6267\u884c\u547d\u4ee4 \u6ce8\u610f\uff1a \u4ee5\u5206\u53f7\u7ed3\u5c3e\uff0c\u6709\u7684\u547d\u4ee4\u884c\u4e2d\u9700\u8981\u8fdb\u884c\u8f6c\u4e49\u5373\u4e3a\uff1a\\; \u5907\u4efd.txt\u6587\u4ef6\u4e3a.bak\u6587\u4ef6 <pre><code>root@controller ~]# ls\nanaconda-ks.cfg  grep_demo_file1.txt  keystonerc_admin  uninstall2.sh\nanswer-file      grep_demo_file.txt   test.txt          uninstall.sh\n[root@controller ~]#\n[root@controller ~]# find . -name \"*.txt\"  -exec cp {} {}.bak \\;\n[root@controller ~]# ls\nanaconda-ks.cfg      grep_demo_file1.txt.bak  keystonerc_admin  uninstall2.sh\nanswer-file          grep_demo_file.txt       test.txt          uninstall.sh\ngrep_demo_file1.txt  grep_demo_file.txt.bak   test.txt.bak\n[root@controller ~]#\n</code></pre></p>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#334-ok-command","title":"3.3.4 -ok command ;","text":"<p>\u4f7f\u7528\u65b9\u6cd5\u540c-exec command \uff1b\u6267\u884c\u524d\u9700\u8981\u8be2\u95ee\u7528\u6237\u662f\u5426\u6267\u884c\uff1f <pre><code>[root@controller ~]# find . -name \"*.txt\"  -ok cp {} {}.bak \\;\n&lt; cp ... ./test.txt &gt; ? y\n&lt; cp ... ./grep_demo_file.txt &gt; ? y\n&lt; cp ... ./grep_demo_file1.txt &gt; ? y\n[root@controller ~]# ls\nanaconda-ks.cfg      grep_demo_file1.txt.bak  keystonerc_admin  uninstall2.sh\nanswer-file          grep_demo_file.txt       test.txt          uninstall.sh\ngrep_demo_file1.txt  grep_demo_file.txt.bak   test.txt.bak\n</code></pre></p>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#335-ls","title":"3.3.5 -ls","text":"<p>\u6d4f\u89c8\u6587\u4ef6 <pre><code>find . -name \"*.txt\"  -ls\n204978657    4 -rw-r--r--   1 root     root           52 10\u6708  2 13:11 ./test.txt\n204978661    4 -rw-r--r--   1 root     root          233 10\u6708  2 13:49 ./grep_demo_file.txt\n204978656    4 -rw-r--r--   1 root     root          233 10\u6708  2 13:50 ./grep_demo_file1.txt\n</code></pre></p>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#4","title":"4\u3001 \u5173\u7cfb","text":""},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#41","title":"4.1 \u975e","text":"<ol> <li>\uff01</li> <li>-not</li> </ol>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#42","title":"4.2 \u4e0e","text":"<ol> <li>-a</li> <li>expr1 expr2</li> </ol>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#43","title":"4.3 \u6216","text":"<p>-o</p>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#5find-exec-command-xargs","title":"5\u3001find -exec command ; \u4e0e xargs\u7684\u533a\u522b","text":""},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#51-find-exec","title":"5.1 find exec\u6267\u884c","text":"<ol> <li>exec\u662f\u6bcf\u5904\u7406\u4e00\u4e2a\u6587\u4ef6/\u76ee\u5f55\uff0c\u90fd\u8981\u542f\u52a8\u4e00\u6b21\u547d\u4ee4\uff0c\u6548\u7387\u4e0d\u597d \u3002</li> <li>\u683c\u5f0f\u9ebb\u70e6\uff0c\u5fc5\u987b\u7528 {} \u505a\u6587\u4ef6\u7684\u4ee3\u4f4d\u7b26\uff0c\u5fc5\u987b\u7528 \\; \u4f5c\u4e3a\u547d\u4ee4\u7684\u7ed3\u675f\u7b26\uff0c\u4e66\u5199\u4e0d\u4fbf\u3002</li> </ol>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#52-xargs","title":"5.2 xargs","text":"<ol> <li>xargs\u4e0d\u80fd\u64cd\u4f5c\u6587\u4ef6\u540d\u6709\u7a7a\u683c\u7684\u6587\u4ef6\u3002</li> <li>\u4e00\u6b21\u53ef\u4ee5\u5904\u7406\u591a\u4e2a\u6587\u4ef6\u3002</li> <li>\u4e0d\u9700\u8981\u4ee5\uff1b\u7ed3\u5c3e\u3002</li> <li>\u4e0d\u5f3a\u5236\u4f7f\u7528{}</li> </ol>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#6","title":"6\u3001\u5e94\u7528\u4e3e\u4f8b","text":""},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#61","title":"6.1\u67e5\u627e\u5f53\u524d\u76ee\u5f55\uff0c\u7ed9\u51fa\u627e\u5230\u6587\u4ef6\u7684\u7c7b\u578b","text":"<pre><code>find . -type f -exec file '{}' \\;\n</code></pre>"},{"location":"LINUX/shell/03%E9%99%86-find%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/#62","title":"6.2 \u6309\u6743\u9650\u67e5\u627e","text":"<pre><code>find . -perm /220\nfind . -perm /u+w,g+w\nfind . -perm /u=w,g=w\n</code></pre>"},{"location":"LINUX/shell/04grep%E7%9A%84%E4%BD%BF%E7%94%A8/","title":"grep\u7684\u4f7f\u7528","text":""},{"location":"LINUX/shell/04grep%E7%9A%84%E4%BD%BF%E7%94%A8/#1grep","title":"1\u3001grep\u4f5c\u7528","text":"<p>grep\u5728\u6587\u672c\u6587\u4ef6\u4e2d\u641c\u7d22\u6307\u5b9a\u7684\u5b57\u7b26\u4e32</p>"},{"location":"LINUX/shell/04grep%E7%9A%84%E4%BD%BF%E7%94%A8/#2grep","title":"2\u3001grep\u8bed","text":"<p><pre><code>grep [OPTIONS] PATTERN [FILE...]\n</code></pre> \u8bf4\u660e\uff1a options:</p> <p>-v  \u7ffb\u8f6c\u663e\u793a -i  \u5ffd\u7565\u641c\u7d22\u5b57\u7b26\u4e32\u5927\u5c0f\u5199 -o \u53ea\u5339\u914d\u641c\u7d22\u5230\u7684\u5b57\u7b26\u4e32 -r \u9012\u5f52\u641c\u7d22 -c \u7edf\u8ba1\u5339\u914d\u7684\u884c\u6570 -A n \u663e\u793a\u5339\u914d\u4e4b\u540en\u884c -B n \u663e\u793a\u5339\u914d\u4e4b\u524dn\u884c -C n\u663e\u793a\u5339\u914d\u524d\u540en\u884c  -l \u53ea\u663e\u793a\u6587\u4ef6\u540d</p>"},{"location":"LINUX/shell/04grep%E7%9A%84%E4%BD%BF%E7%94%A8/#3","title":"3\u3001\u5e94\u7528\u4e3e\u4f8b","text":""},{"location":"LINUX/shell/04grep%E7%9A%84%E4%BD%BF%E7%94%A8/#31-this","title":"3.1 \u67e5\u627e\u5f53\u524d\u6587\u4ef6\u5939\u4e0b\uff0c\u5305\u542bthis\u7684\u6587\u4ef6\u540d","text":"<pre><code>[root@controller ~]# grep -l \"this\" *\nanswer-file\ngrep_demo_file1.txt\ngrep_demo_file.txt\nuninstall2.sh\n</code></pre>"},{"location":"LINUX/shell/04grep%E7%9A%84%E4%BD%BF%E7%94%A8/#32","title":"3.2\u663e\u793a\u5339\u914d\u7684\u884c","text":"<pre><code>[root@controller ~]# grep -c \"this\" grep_demo_file.txt\n3\n</code></pre>"},{"location":"LINUX/shell/04grep%E7%9A%84%E4%BD%BF%E7%94%A8/#33this","title":"3.3\u663e\u793a\u4e0d\u4ee5this\u5f00\u5934\u7684\u5185\u5bb9","text":"<pre><code>[root@controller ~]# grep -i -v \"^this\" grep_demo_file.txt\n\nTwo lines above this line is empty.\nAnd this is the last line.\n</code></pre>"},{"location":"LINUX/shell/04grep%E7%9A%84%E4%BD%BF%E7%94%A8/#34is","title":"3.4\u641c\u7d22\u6574is\u662f\u4e2a\u5355\u8bcd ,\u800c\u4e0d\u662f\u67d0\u4e2a\u8bcd\u7684\u4e00\u90e8\u5206","text":"<pre><code>grep -w \"is\" test.txt\n</code></pre>"},{"location":"LINUX/shell/04grep%E7%9A%84%E4%BD%BF%E7%94%A8/#35","title":"3.5\u53ea\u663e\u793a\u641c\u7d22\u5230\u7684\u5185\u5bb9","text":"<pre><code>[root@controller ~]# grep -w -o \"is\" grep_demo_file.txt\nis\nis\nis\n</code></pre>"},{"location":"LINUX/shell/05sed%E7%9A%84%E4%BD%BF%E7%94%A8/","title":"sed\u7684\u4f7f\u7528","text":""},{"location":"LINUX/shell/05sed%E7%9A%84%E4%BD%BF%E7%94%A8/#1sed","title":"1\u3001sed\u7b80\u4ecb","text":"<ol> <li>sed\u662f\u4e00\u79cd\u6d41\u7f16\u8f91\u5668\uff0c\u53ef\u4ee5\u914d\u5408\u6b63\u5219\u8868\u8fbe\u5f0f\u4f7f\u7528\uff0c\u5904\u7406\u6587\u672c\u6587\u4ef6\u975e\u5e38\u65b9\u4fbf\uff0c\u5728\u5904\u7406\u65f6\uff0c\u628a\u5f53\u524d\u5904\u7406\u7684\u884c\u5b58\u50a8\u5728\u4e34\u65f6\u7f13\u51b2\u533a\u5185\uff0c\u79f0\u4e3a\u201c\u6a21\u5f0f\u7a7a\u95f4\u201d\uff0c\u4f7f\u7528sed\u547d\u4ee4\u5904\u7406\u7f13\u51b2\u533a\u4e2d\u7684\u5185\u5bb9\uff0c\u5904\u7406\u5b8c\u6210\u540e\u628a\u7f13\u51b2\u533a\u7684\u5185\u5bb9\u9001\u5230\u5c4f\u5e55\uff0c\u63a5\u7740\u5904\u7406\u4e0b\u4e00\u884c\uff0c\u91cd\u590d\u4e0d\u65ad\uff0c\u76f4\u5230\u6587\u4ef6\u7ed3\u675f\u3002</li> <li>sed\u5904\u7406\u6587\u4ef6\u65f6\u6e90\u6587\u4ef6\u5185\u5bb9\u4e0d\u4f1a\u53d1\u751f\u6539\u53d8\uff0c\u9664\u975e\u4f7f\u7528\u5199\u547d\u4ee4\u3002</li> </ol>"},{"location":"LINUX/shell/05sed%E7%9A%84%E4%BD%BF%E7%94%A8/#2sed","title":"2\u3001sed \u7684\u4f7f\u7528","text":""},{"location":"LINUX/shell/05sed%E7%9A%84%E4%BD%BF%E7%94%A8/#21","title":"2.1\u8bed\u6cd5\u683c\u5f0f","text":"<p>sed [options] 'command' file(s) \u8bf4\u660e\uff1a</p> <ol> <li>options\u5e38\u7528\u53c2\u6570\u8bf4\u660e</li> <li><code>-i</code> \u66f4\u65b0\u64cd\u4f5c\uff0c<code>-i.bak</code>\u5bf9\u6e90\u6587\u4ef6  \u5907\u4efd\u548c\u66f4\u65b0</li> <li>-r \u4f7f\u7528\u6269\u5c55\u7684\u6b63\u5219\u8868\u8fbe\u5f0f</li> <li>-e \u591a\u70b9\u7f16\u8f91\uff0c\u53ef\u4ee5\u5728\u4e00\u884c\u4e2d\u6267\u884c\u591a\u6761\u547d\u4ee4</li> <li>-V\u663e\u793a\u7248\u672c\u53f7</li> <li>-n\u53ea\u663e\u793a\u5339\u914d\u7684\u884c</li> <li>Command</li> </ol> \u547d\u4ee4 \u529f\u80fd a\\ \u5728\u5f53\u524d\u884c\u540e\u6dfb\u52a0\u4e00\u884c\u6216\u591a\u884c\u3002\u591a\u884c\u65f6\u9664\u6700\u540e\u4e00\u884c\u5916\uff0c\u6bcf\u884c\u672b\u5c3e\u9700\u7528\u201c\\n\u201d\u7eed\u884c c\\ \u7528\u6b64\u7b26\u53f7\u540e\u7684\u65b0\u6587\u672c\u66ff\u6362\u5f53\u524d\u884c\u4e2d\u7684\u6587\u672c\u3002\u591a\u884c\u65f6\u9664\u6700\u540e\u4e00\u884c\u5916\uff0c\u6bcf\u884c\u672b\u5c3e\u9700\u7528\"\\n\"\u7eed\u884c i\\ \u5728\u5f53\u524d\u884c\u4e4b\u524d\u63d2\u5165\u6587\u672c\u3002\u591a\u884c\u65f6\u9664\u6700\u540e\u4e00\u884c\u5916\uff0c\u6bcf\u884c\u672b\u5c3e\u9700\u7528\"\\n\"\u7eed\u884c d \u5220\u9664\u884c h \u628a\u6a21\u5f0f\u7a7a\u95f4\u91cc\u7684\u5185\u5bb9\u590d\u5236\u5230\u6682\u5b58\u7f13\u51b2\u533a H \u628a\u6a21\u5f0f\u7a7a\u95f4\u91cc\u7684\u5185\u5bb9\u8ffd\u52a0\u5230\u6682\u5b58\u7f13\u51b2\u533a g \u628a\u6682\u5b58\u7f13\u51b2\u533a\u91cc\u7684\u5185\u5bb9\u590d\u5236\u5230\u6a21\u5f0f\u7a7a\u95f4\uff0c\u8986\u76d6\u539f\u6709\u7684\u5185\u5bb9 G \u628a\u6682\u5b58\u7f13\u51b2\u533a\u7684\u5185\u5bb9\u8ffd\u52a0\u5230\u6a21\u5f0f\u7a7a\u95f4\u91cc\uff0c\u8ffd\u52a0\u5728\u539f\u6709\u5185\u5bb9\u7684\u540e\u9762 l \u5217\u51fa\u975e\u6253\u5370\u5b57\u7b26 p \u6253\u5370\u884c n \u8bfb\u5165\u4e0b\u4e00\u8f93\u5165\u884c\uff0c\u5e76\u4ece\u4e0b\u4e00\u6761\u547d\u4ee4\u800c\u4e0d\u662f\u7b2c\u4e00\u6761\u547d\u4ee4\u5f00\u59cb\u5bf9\u5176\u7684\u5904\u7406 q \u7ed3\u675f\u6216\u9000\u51fased r \u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6\u8f93\u5165\u884c ! \u5bf9\u6240\u9009\u884c\u4ee5\u5916\u7684\u6240\u6709\u884c\u5e94\u7528\u547d\u4ee4 s \u7528\u4e00\u4e2a\u5b57\u7b26\u4e32\u66ff\u6362\u53e6\u4e00\u4e2a g \u5728\u884c\u5185\u8fdb\u884c\u5168\u5c40\u66ff\u6362 w \u5c06\u6240\u9009\u7684\u884c\u5199\u5165\u6587\u4ef6 x \u4ea4\u6362\u6682\u5b58\u7f13\u51b2\u533a\u4e0e\u6a21\u5f0f\u7a7a\u95f4\u7684\u5185\u5bb9 y \u5c06\u5b57\u7b26\u66ff\u6362\u4e3a\u53e6\u4e00\u5b57\u7b26\uff08\u4e0d\u80fd\u5bf9\u6b63\u5219\u8868\u8fbe\u5f0f\u4f7f\u7528y\u547d\u4ee4\uff09"},{"location":"LINUX/shell/05sed%E7%9A%84%E4%BD%BF%E7%94%A8/#22","title":"2.2 \u5730\u5740\u683c\u5f0f","text":"<ol> <li>number \u53ea\u5339\u914d\u6307\u5b9a\u7684number\u884c</li> <li>first~step\uff0c\u7ed9\u51fa\u8d77\u59cb\u884c\uff0c\u7ed9\u51fa\u6b65\u957f\uff0c\u8fdb\u884c\u5339\u914d 1<sub>2\u5339\u914d\u5947\u6570\u884c\uff0c2</sub>2\u5339\u914d\u5076\u6570\u884c</li> <li>/regex/\uff0c\u5339\u914d\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u7684\u884c\u3002</li> <li>0,addr2 \u8868\u793a\u8303\u56f4\uff0c0\u8868\u793a\u5f00\u59cb\u884c\uff0caddr2\u8868\u793a\u7ed3\u675f\u884c</li> <li>$ \u8868\u793a\u5c3e\u884c</li> <li>addr1,+N,\u8868\u793a\u4eceaddr1\u5f00\u59cb\u53ca\u5176\u540e\u7684N\u884c</li> <li>addr1,~N,\u8868\u793a\u4eceaddr1\u5f00\u59cb\uff0c\u76f4\u5230\u884c\u6570\u662fN\u7684\u6574\u6570\u500d</li> </ol>"},{"location":"LINUX/shell/05sed%E7%9A%84%E4%BD%BF%E7%94%A8/#23-sed","title":"2.3 sed\u5b9a\u754c\u7b26","text":"<p>sed\u9ed8\u8ba4\u4f7f\u7528/\u4f5c\u4e3a\u5b9a\u754c\u7b26\uff0c\u5f53\u5b9a\u754c\u7b26\u51fa\u73b0\u5728\u5b57\u7b26\u4e32\u5185\u90e8\u65f6\uff0c\u9700\u8981\u8fdb\u884c\u8f6c\u4e49\uff0c /</p>"},{"location":"LINUX/shell/05sed%E7%9A%84%E4%BD%BF%E7%94%A8/#24","title":"2.4 &amp;","text":"<p>\u5df2\u5339\u914d\u5b57\u7b26\u4e32\u6807\u8bb0&amp; <pre><code>sed 's/^192.168.0.1/&amp;localhost/' file\n</code></pre> \u8fd0\u884c\u7ed3\u679c\uff1a <pre><code>192.168.0.1localhost\n</code></pre></p>"},{"location":"LINUX/shell/05sed%E7%9A%84%E4%BD%BF%E7%94%A8/#25","title":"2.5 \u5e94\u7528\u793a\u4f8b","text":"<ol> <li>\u793a\u4f8b\u6587\u4ef6:test.txt <pre><code>this is a test! \nthis is a test2!\nlqj\nzhangsan\nlisi\n   wangwu\n   zhaoliu\nred\nblue\ngreen\n</code></pre></li> <li>\u5728this is a test!\u4e4b\u540e\u63d2\u51651\u884c\uff0cthis is a test1! <pre><code>sed -i.bak -r '/this is a test!/athis is a test1!' test.txt\n</code></pre></li> <li>\u628athis is a test!\u66ff\u6362\u4e3athis is a test3\uff01 <pre><code>  sed -i.bak -r '/this is a test!/cthis is a test3!' test.txt\n</code></pre></li> <li>\u628awangwu\u66ff\u6362\u4e3azhaoliu <pre><code>sed -i.bak -r 's/wanglu/zhaoliu' test.txt\n</code></pre></li> <li>\u6253\u5370\u6587\u4ef6\u7684\u5947\u6570\u884c <pre><code>sed  -n \"p;n\" test.txt\n</code></pre></li> <li>\u6253\u5370\u6587\u4ef6\u7684\u5076\u6570\u884c</li> </ol> <p><pre><code>sed -n \"n;p\" text.txt\n</code></pre> 7.  \u5220\u96641\u52305\u884c\uff0c\u540c\u65f6\u628amy\u66ff\u6362\u4e3aMY\uff08-e\u7684\u4f7f\u7528\uff09 <pre><code>sed -e '1,5d' -e 's/my/MY/' test.txt \n</code></pre> 8. \u5220\u9664\u6240\u6709\u7684\u7a7a\u884c\u4e0e\u884c\u524d\u7a7a\u683c \u6570\u636e\u6587\u4ef6\uff1a <pre><code>my cat's name is betty\n\n    This is your dog\n\nmy dog's name is frank\n\n    This is your fish\n\nmy fish's name is george\n\n    This is your goat\n\nmy goat's name is adam\n</code></pre> sed\u547d\u4ee4\uff1a <pre><code>  sed -i.bak  -r \"/^$/d;s/^\\s*//g\" test.txt\n</code></pre> \u8fd0\u884c\u7ed3\u679c\uff1a <pre><code>my cat's name is betty\nThis is your dog\nmy dog's name is frank\nThis is your fish\nmy fish's name is george\nThis is your goat\nmy goat's name is adam\n</code></pre> 9. \u5982\u679cmy\u5728\u884c\u9996\u88ab\u5339\u914d\uff0c\u628amy\u66ff\u6362\u4e3aMy\uff0c\u79fb\u52a8\u5230\u5339\u914d\u884c\u7684\u4e0b\u4e00\u884c\uff0c\u66ff\u6362\u8fd9\u4e00\u884c\u7684this\u4e3aThis,\u5e76\u6253\u5370\u8be5\u884c \u6570\u636e\u6587\u4ef6\uff1a <pre><code>my cat's name is betty\nthis is your dog\nmy dog's name is frank\nthis is your fish\nmy fish's name is george\nthis is your goat\nmy goat's name is adam\n</code></pre> \u547d\u4ee4\u5982\u4e0b\uff1a <pre><code>sed -i -r \"s/^my/My/;n;s/^this/This/\" test.txt\n</code></pre> \u8fd0\u884c\u7ed3\u679c\uff1a <pre><code>My cat's name is betty\nThis is your dog\nMy dog's name is frank\nThis is your fish\nMy fish's name is george\nThis is your goat\nMy goat's name is adam\n</code></pre></p> <ol> <li>\u5b9a\u4e49\u53d8\u91cf\uff1a</li> </ol> <p>\u53d8\u91cf\u5b9a\u4e49\uff1a   a=2 \u8c03\u7528\uff1a   \\(\u53d8\u91cf\u540d       sed  -n \u2018'\\)a',5p\u2019 \u6587\u4ef6\u540d           \u6ce8\u610f\u5728\u2018\u2019\u4e2d\u53d8\u91cf\u9700\u8981\u518d\u5355\u72ec\u5f15\u8d77\u6765    \u4e5f\u53ef\u4ee5\u7528\u201c\u201d\uff0c\u53d8\u91cf\u5c31\u53ef\u4ee5\u76f4\u63a5\u8c03\u53d6       sed  -n  \u201c$a,5p\u201d \u6587\u4ef6\u540d</p> <pre><code>[root@yum ~]# a=2\n[root@yum ~]# sed -n \"$a,4p\" cbp\n</code></pre>"},{"location":"LINUX/shell/06awk/","title":"06awk","text":"<ul> <li>awk\u7684\u4f7f\u7528<ul> <li>1\u3001awk\u7b80\u4ecb</li> <li>2.\u3001\u4f7f\u7528\u65b9\u6cd5</li> <li>3\u3001AWK\u5de5\u4f5c\u6d41\u7a0b</li> <li>4\u3001awk\u5185\u7f6e\u53d8\u91cf</li> <li>6\u3001\u6269\u5c55\uff08awk\u7f16\u7a0b\uff09<ul> <li>6.1 \u53d8\u91cf</li> <li>6. 2\u5173\u7cfb\u64cd\u4f5c\u7b26</li> <li>6.3 \u6d41\u7a0b\u63a7\u5236\u8bed\u53e5</li> <li>6.4awk\u57fa\u672c\u51fd\u6570<ul> <li>6.4.1 gsub</li> <li>6.4.2 index</li> <li>6.4.3 length</li> <li>6.4.4 match</li> <li>6.4.5 split</li> <li>6.4.6 sub</li> <li>6.4.7 substr</li> <li>6.4.8 \u4eceshell\u4e2d\u5411awk\u4f20\u5165\u5b57\u7b26\u4e32</li> </ul> </li> </ul> </li> </ul> </li> </ul>"},{"location":"LINUX/shell/06awk/#awk","title":"<code>awk</code>\u7684\u4f7f\u7528","text":""},{"location":"LINUX/shell/06awk/#1awk","title":"1\u3001<code>awk</code>\u7b80\u4ecb","text":"<p><code>awk</code>\u662f\u4e00\u4e2a\u5f3a\u5927\u7684\u6587\u672c\u5206\u6790\u5de5\u5177\uff0c\u80fd\u591f\u628a\u6587\u4ef6\u9010\u884c\u7684\u8bfb\u5165\uff0c\u4ee5\u7a7a\u683c\u4e3a\u9ed8\u8ba4\u5206\u9694\u7b26\u5c06\u6bcf\u884c\u5207\u7247\uff0c\u5207\u5f00\u7684\u90e8\u5206\u518d\u8fdb\u884c\u5404\u79cd\u5206\u6790\u5904\u7406\u3002</p>"},{"location":"LINUX/shell/06awk/#2","title":"2.\u3001\u4f7f\u7528\u65b9\u6cd5","text":"<p><pre><code>   awk 'BEGIN {command} pattern {command} END {command}' {filenames}\n</code></pre> \u8bf4\u660e\uff1a</p> <p>-''\u4e00\u5b9a\u8981\u4f7f\u7528\u5355\u5f15\u53f7\uff0csingle quote </p> <ul> <li>{}\u8868\u793a\u547d\u4ee4\u6216\u8005action</li> <li>BEGIN{}\u8868\u793a\u5f00\u59cb\u547d\u4ee4\uff0c\u53ea\u6267\u884c\u4e00\u6b21</li> <li>pattern \u6b63\u5219\u8868\u8fbe\u5f0f</li> <li>command \u547d\u4ee4</li> <li>pattern{command}\u6309\u884c\u6267\u884c\uff0c\u5982\u679c\u6587\u4ef6\u6709100\u884c\uff0c\u9700\u8981\u6267\u884c100\u6b21</li> <li>END{command}\u6240\u6709\u8bb0\u5f55\u5904\u7406\u7ed3\u675f\u4e4b\u540e\u6267\u884c\uff0c\u53ea\u6267\u884c\u4e00\u6b21</li> <li>filenames \u6587\u4ef6\u540d</li> </ul>"},{"location":"LINUX/shell/06awk/#3awk","title":"3\u3001AWK\u5de5\u4f5c\u6d41\u7a0b","text":""},{"location":"LINUX/shell/06awk/#4awk","title":"4\u3001awk\u5185\u7f6e\u53d8\u91cf","text":"\u53d8\u91cf\u540d\u79f0 \u4f5c\u7528 ARGC \u547d\u4ee4\u884c\u53c2\u6570\u4e2a\u6570 ARGV \u547d\u4ee4\u884c\u53c2\u6570\u6392\u5217 ENVIRON \u652f\u6301\u961f\u5217\u4e2d\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u7684\u4f7f\u7528 FILENAME awk\u6d4f\u89c8\u7684\u6587\u4ef6\u540d FNR \u6d4f\u89c8\u6587\u4ef6\u7684\u8bb0\u5f55\u6570 FS \u8bbe\u7f6e\u8f93\u5165\u57df\u5206\u9694\u7b26\uff0c\u7b49\u4ef7\u4e8e\u547d\u4ee4\u884c -F\u9009\u9879 NF \u6d4f\u89c8\u8bb0\u5f55\u7684\u57df\u7684\u4e2a\u6570 NR \u5df2\u8bfb\u7684\u8bb0\u5f55\u6570 OFS \u8f93\u51fa\u57df\u5206\u9694\u7b26 ORS \u8f93\u51fa\u8bb0\u5f55\u5206\u9694\u7b26 RS \u63a7\u5236\u8bb0\u5f55\u5206\u9694\u7b26 $0 \u53d8\u91cf\u662f\u6307\u6574\u6761\u8bb0\u5f55\u3002 $1 \u8868\u793a\u5f53\u524d\u884c\u7684\u7b2c\u4e00\u4e2a\u57df ## 5\u3001\u5e94\u7528\u4e3e\u4f8b ### 5.1 \u6570\u636e\u6587\u4ef6 <pre><code>zhangsan  23    45\nlisi      34    34\nwangwu    34    35\nzhangsan1 65    78\nwangwu1   89    76\nlisi1     67    87\nzhangsan2 65    78\nlisi2     78    65\n</code></pre> ### 5.2 \u5e94\u7528 1. \u663e\u793a\u6240\u6709\u6587\u4ef6\u5185\u5bb9 <pre><code>awk '{print $0}' mobile.dat\n</code></pre> \u8fd0\u884c\u7ed3\u679c\uff1a <pre><code>zhangsan  23    45\nlisi      34    34\nwangwu    34    35\nzhangsan1 65    78\nwangwu1   89    76\nlisi1     67    87\nzhangsan2 65    78\nlisi2     78    65\n</code></pre> 2. \u589e\u52a0\u6807\u9898\u540e\uff0c\u663e\u793a\u6240\u6709\u5185\u5bb9 <pre><code>  Image: 134x91 (6.0 KB) awk 'BEGIN{print \"\u59d3\u540d\\t\u8bed\u8a00\\t\u6570\u5b66\"}  {print  $1\"\\t\"$2\"\\t\"$3} END{print \"----------\"}' mobile.dat\n</code></pre> \u8fd0\u884c\u7ed3\u679c <pre><code>\u59d3\u540d  \u8bed\u8a00  \u6570\u5b66\nzhangsan    23  45\nlisi    34  34\nwangwu  34  35\nzhangsan1   65  78\nwangwu1 89  76\nlisi1   67  87\nzhangsan2   65  78\nlisi2   78  65\n----------\n</code></pre> <ol> <li>\u589e\u52a0\u6807\u9898\uff0c\u663e\u793a\u6240\u6709\u4ee5w\u5f00\u5934\u7684\u7528\u6237\u4fe1\u606f</li> </ol> <p><pre><code>Image: 134x91 (6.0 KB) awk 'BEGIN{print \"\u59d3\u540d\\t\u8bed\u8a00\\t\u6570\u5b66\"} /^w/ {print  $1\"\\t\"$2\"\\t\"$3} END{print \"----------\"}' mobile.dat\n</code></pre> \u8fd0\u884c\u7ed3\u679c\uff1a</p> <pre><code>\u59d3\u540d  \u8bed\u8a00  \u6570\u5b66\nwangwu  34  35\nwangwu1 89  76\n----------\n</code></pre> <ol> <li>\u4f7f\u7528ifconfig\u67e5\u770b\u7f51\u5361\u4fe1\u606f\uff0c\u4f7f\u7528awk\u6253\u5370\u51faip <pre><code>ifconfig\n</code></pre> \u8fd0\u884c\u7ed3\u679c\uff1a</li> </ol> <pre><code>ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500\n        inet 192.168.10.10  netmask 255.255.255.0  broadcast 192.168.10.255\n        inet6 fe80::20c:29ff:fea6:c3fc  prefixlen 64  scopeid 0x20&lt;link&gt;\n        ether 00:0c:29:a6:c3:fc  txqueuelen 1000  (Ethernet)\n        RX packets 7032  bytes 9904015 (9.4 MiB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 1154  bytes 92872 (90.6 KiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\nlo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536\n        inet 127.0.0.1  netmask 255.0.0.0\n        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;\n        loop  txqueuelen 1000  (Local Loopback)\n        RX packets 0  bytes 0 (0.0 B)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 0  bytes 0 (0.0 B)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n</code></pre> <p>\u4f7f\u7528grep\u8fdb\u884c\u8fc7\u6ee4</p> <p><pre><code>ifconfig | grep \"inet \"\n</code></pre> \u8fd0\u884c\u7ed3\u679c\uff1a</p> <p>\u4f7f\u7528awk\u683c\u5f0f\u5316\u8f93\u51fa</p> <p><pre><code>ifconfig | grep \"inet \"|awk -F '[: ]+' '{print $3}'\n</code></pre> \u8fd0\u884c\u7ed3\u679c</p> <p>\u8bf4\u660e\uff1a</p> <ul> <li>-F\u6307\u5b9a\u5206\u9694\u7b26\uff0c\u9ed8\u8ba4\u5206\u9694\u7b26\u4e3a\u7a7a\u683c</li> <li>[]\u4f7f\u7528\u4e2d\u62ec\u53f7\uff0c\u53ef\u4ee5\u6307\u5b9a\u591a\u4e2a\u5206\u9694\u7b26\uff0c\u672c\u4f8b\u4e2d\uff0c\u6307\u5b9a\u7a7a\u683c\u4e0e<code>\uff1a</code>\u4f5c\u4e3a\u5206\u9694\u7b26\u3002</li> <li>\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528egrep \u6b63\u5219\u8868\u8fbe\u5f0f\u83b7\u53d6ip\u5730\u5740</li> </ul> <p><pre><code>ifconfig | egrep  -o \"((2(5[0-5]|[0-4][0-9]))|[0-1]?[0-9]{1,2})(\\.((2(5[0-5]|[0-4][0-9]))|[0-1]?[0-9]{1,2})){3}\"\n</code></pre>  \u8fd0\u884c\u7ed3\u679c\uff1a   \u7f3a\u70b9\u662f\u6b63\u5219\u8868\u8fbe\u5f0f\u592a\u590d\u6742</p>"},{"location":"LINUX/shell/06awk/#6awk","title":"6\u3001\u6269\u5c55\uff08awk\u7f16\u7a0b\uff09","text":""},{"location":"LINUX/shell/06awk/#61","title":"6.1 \u53d8\u91cf","text":"<ol> <li>\u5728awk\u4e2d\u53ef\u4ee5\u81ea\u5b9a\u4e49\u53d8\u91cf\uff0c <p>\u8bed\u6cd5\uff1a <pre><code>-v  \u81ea\u5b9a\u4e49\u53d8\u91cf\nawk -v host=$HOSTNAME  \"BEGIN{print host}\"\n</code></pre> \u8fd0\u884c\u7ed3\u679c\uff1a </p> </li> </ol>"},{"location":"LINUX/shell/06awk/#6-2","title":"6. 2\u5173\u7cfb\u64cd\u4f5c\u7b26","text":"<p><code>&lt;</code>,<code>&gt;</code>,<code>&lt;=</code>,<code>&gt;=</code>,<code>==</code>,<code>!=</code>,<code>~</code>,<code>!~</code> \u7528\u6765\u5224\u65ad\u524d\u9762\u7684\u5217\u662f\u5426\u5339\u914d\u540e\u9762\u7684\u5185\u5bb9\uff0c\u5982<code>$7~/^\\/bin/{print $0} /etc/passwd</code> !~ \u4e0d\u5339\u914d </p> <p></p> <p></p> <p></p>"},{"location":"LINUX/shell/06awk/#63","title":"6.3 \u6d41\u7a0b\u63a7\u5236\u8bed\u53e5","text":"<p>awk\u6d41\u7a0b\u63a7\u5236\u8bed\u53e5\u4e0eC\u8bed\u8a00\u7c7b\u4f3c</p> <ol> <li>\u6761\u4ef6 <pre><code> if(expression){action1}else{action2}\n</code></pre> \u793a\u4f8b\uff1a <pre><code>seq 10 |awk '{if($0%2==0){print $0\"\u662f\u53cc\u6570\"}else{print $0\"\u662f\u5355\u6570\"}}'\n</code></pre></li> <li>\u5faa\u73af <pre><code>while(expression){action}\n</code></pre> \u793a\u4f8b\uff1a\u7edf\u8ba1\u6210\u7ee9\u603b\u5206 \u5206\u6790\uff1a\u5728BEGIN\u90e8\u5206\u5b9a\u4e49\u4e24\u4e2a\u53d8\u91cf\uff0c\u5728pattern{command}\u90e8\u5206\u5bf9\u53d8\u91cf\u8fdb\u884c\u6539\u53d8\uff0c\u5728END{command}\u90e8\u5206\u8fdb\u884c\u663e\u793a</li> </ol> <pre><code>awk  'BEGIN{i=0;j=0;z=0;}{j=j+$2;z=z+$3;i=i+1;} {print $1\"\\t\"$2\"\\t\"$3\"\\t\"($2+$3)} END{print \"------\\n\"i\"\\t\"j\"\\t\"z}' mobile.dat\n</code></pre> <p>\u8fd0\u884c\u7ed3\u679c\uff1a \u7edf\u8ba1\u67d0\u4e2a\u6587\u4ef6\u5939\u4e0b\u7684\u5927\u4e8e100k\u6587\u4ef6\u7684\u6570\u91cf\u548c\u603b\u548c \u6b65\u9aa4\uff1a</p> <ol> <li>\u4f7f\u7528ls -l \u83b7\u53d6\u6587\u4ef6\u5939\u4e0b\u6240\u6709\u6587\u4ef6\u4fe1\u606f</li> <li>\u4f7f\u7528\u7ba1\u9053\u7b26\u94fe\u63a5\u5230awk\u8fdb\u884c\u5904\u7406</li> <li>\u547d\u4ee4\u5982\u4e0b\uff1a   <pre><code>ls -l|awk '{if($5&gt;100){count++; sum+=$5}} END{print \"Count:\" count,\"Sum: \" sum}' \n</code></pre>   \u8fd0\u884c\u7ed3\u679c\u5982\u4e0b\uff1a</li> </ol> <pre><code>Count:2 Sum: 1618\n</code></pre>"},{"location":"LINUX/shell/06awk/#64awk","title":"6.4awk\u57fa\u672c\u51fd\u6570","text":""},{"location":"LINUX/shell/06awk/#641-gsub","title":"6.4.1 gsub","text":"<ol> <li>\u4f5c\u7528\uff1a\u5b57\u7b26\u4e32\u66ff\u6362</li> <li>\u8bed\u6cd5\uff1agsub(source,destination)</li> <li>\u793a\u4f8b\uff1a\u628ajava\u66ff\u6362\u4e3apython\uff0c\u5e76\u8f93\u51fa <pre><code>echo \"hello java java java\" | awk 'gsub(\"java\",\"python\") {print $0}'\n</code></pre></li> </ol> <p>\u8fd0\u884c\u7ed3\u679c\uff1a</p> <pre><code>hello python python python\n</code></pre>"},{"location":"LINUX/shell/06awk/#642-index","title":"6.4.2 index","text":"<ol> <li>\u4f5c\u7528\uff1a\u67e5\u627e\u5b57\u7b26\u4e32pattern\u51fa\u73b0\u5728source\u4e32\u4e2d\u7684\u7b2c\u4e00\u6b21\u4f4d\u7f6e</li> <li>\u8bed\u6cd5\uff1aindex(source,pattern)</li> <li>\u793a\u4f8b\uff1a\u7edf\u8ba1\"hello java\"\u4e2djava\u51fa\u73b0\u7684\u7b2c\u4e00\u6b21\u7684\u4f4d\u7f6e <pre><code>echo \"hello java\" | awk ' {print index($0,\"java\")}'\n</code></pre></li> </ol> <p>\u8fd0\u884c\u7ed3\u679c\uff1a</p> <p></p>"},{"location":"LINUX/shell/06awk/#643-length","title":"6.4.3 length","text":"<ol> <li>\u4f5c\u7528\uff1a\u83b7\u53d6\u5b57\u7b26\u4e32\u7684\u957f\u5ea6</li> <li>\u8bed\u6cd5\uff1alength($1)</li> <li>\u793a\u4f8b\uff1a\u7edf\u8ba1\"hello java\"\u5b57\u7b26\u4e32\u7684\u957f\u5ea6 <pre><code>echo \"hello java\" | awk ' {print length($0)}'\n</code></pre></li> </ol>"},{"location":"LINUX/shell/06awk/#644-match","title":"6.4.4 match","text":"<ol> <li>\u4f5c\u7528\uff1a\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d</li> <li>\u8bed\u6cd5\uff1amatch(\"source\",\"pattern\"),\u627e\u5230\u8fd4\u56de\u51fa\u73b0\u7684\u4f4d\u7f6e\uff0c\u672a\u627e\u5230\u8fd4\u56de0</li> <li>\u793a\u4f8b\uff1a\u7edf\u8ba1\u201dhello java\u201d\u4e2d\uff0c\u201cva\u201d\u51fa\u73b0\u7684\u4f4d\u7f6e <pre><code>echo \"hello java\" | awk ' {print match($0,\"va\")}\n</code></pre></li> </ol>"},{"location":"LINUX/shell/06awk/#645-split","title":"6.4.5 split","text":"<ol> <li>\u4f5c\u7528\uff1a\u5206\u9694\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u6570\u7ec4\u7684\u957f\u5ea6</li> <li>\u8bed\u6cd5\uff1asplit(source,arrayname,separator\uff09</li> <li>\u793a\u4f8b\uff1a \u7edf\u8ba1\u201chello java\"\u4e2d\u4ee5a\u4f5c\u4e3a\u5206\u9694\u7b26 <pre><code>echo \"hello java\" | awk ' {split($0,ar,\"a\")}{print ar[1]}'\n</code></pre></li> </ol>"},{"location":"LINUX/shell/06awk/#646-sub","title":"6.4.6 sub","text":"<ol> <li>\u4f5c\u7528\uff1a\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e\u8fdb\u884c\u66ff\u6362</li> <li>\u8bed\u6cd5\uff1asub(source,detination)</li> <li>\u793a\u4f8b\uff1a\"hello java java java\"\u4e2d\u628ajava\u66ff\u6362\u4e3apython\uff0c\u5e76\u8f93\u51fa <pre><code>echo \"hello java java java \" | awk ' {sub(\"java\",\"python\")}{print $0}'\n</code></pre></li> <li>\u8fd0\u884c\u7ed3\u679c\uff1a <pre><code>hello python java java\n</code></pre></li> </ol>"},{"location":"LINUX/shell/06awk/#647-substr","title":"6.4.7 substr","text":"<ol> <li>\u4f5c\u7528\uff1a\u83b7\u53d6\u5b50\u4e32</li> <li>\u8bed\u6cd5\uff1asubstr(source,start,end)</li> <li>\u793a\u4f8b\uff1a\"hello java java java\"\u4e2d\u8f93\u51fahello <pre><code>echo \"hello java java java\" | awk ' {print substr($0,1,5)}'\n</code></pre></li> </ol>"},{"location":"LINUX/shell/06awk/#648-shellawk","title":"6.4.8 \u4eceshell\u4e2d\u5411awk\u4f20\u5165\u5b57\u7b26\u4e32","text":"<pre><code>$STR=\"mydoc.txt\"\n$ echo $STR | awk '{print subst($STR, 1, 5)}'\n</code></pre>"},{"location":"LINUX/shell/07shell%E8%84%9A%E6%9C%AC/","title":"07shell\u811a\u672c","text":""},{"location":"LINUX/shell/07shell%E8%84%9A%E6%9C%AC/#1-linux","title":".1. Linux\u7f16\u7a0b\u57fa\u7840","text":""},{"location":"LINUX/shell/07shell%E8%84%9A%E6%9C%AC/#11","title":"1.1 \u53d8\u91cf","text":""},{"location":"LINUX/shell/07shell%E8%84%9A%E6%9C%AC/#111","title":"1.1.1\u7528\u6237\u81ea\u5b9a\u4e49\u53d8\u91cf","text":""},{"location":"LINUX/shell/07shell%E8%84%9A%E6%9C%AC/#112","title":"1.1.2 \u73af\u5883\u53d8\u91cf","text":"<p>\u73af\u5883\u53d8\u91cf\u7528\u4e8e\u6240\u6709\u7528\u6237\u8fdb\u7a0b\uff08\u901a\u5e38\u79f0\u4e3a\u5b50\u8fdb\u7a0b\uff09\uff0c\u5728\u5f53\u524dshell\u548c\u5b50shell\u5f53\u4e2d\u90fd\u751f\u6548\u3002\u767b\u5f55\u8fdb\u7a0b\u4f4d\u7236\u8fdb\u7a0b\uff0c\u901a\u8fc7pstree\u53ef\u4ee5\u67e5\u770b\u3002</p> <p></p> <p></p> <ul> <li>\u73af\u5883\u53d8\u91cf\u53ef\u4ee5\u7528\u4e8e\u6240\u6709\u5b50\u8fdb\u7a0b\uff0c\u5305\u62ec\u7f16\u8f91\u5668\u3001\u811a\u672c\u548c\u5e94\u7528</li> </ul> <p>\u4f8b\u5982\uff1a</p> <pre><code>[root@yum shell.tmp]# cat a.sh \n#!/bin/bash\n# \u68c0\u6d4b\u73af\u5883\u53d8\u91cf\necho \"\u5bb6\u76ee\u5f55\u662f $HOME\"\n[root@yum shell.tmp]# . a.sh \n\u5bb6\u76ee\u5f55\u662f /root\n</code></pre> <ul> <li> <p></p> </li> <li> <p>\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf</p> <pre><code>\u683c\u5f0f\uff1a\nvariable-name=value\nexport variable-name\n</code></pre> </li> <li> <p>\u663e\u793a\u73af\u5883\u53d8\u91cf</p> <pre><code>\u683c\u5f0f\uff1a\nenv  \u53ef\u4ee5\u770b\u89c1\u6240\u4ee5\u7684\u73af\u5883\u53d8\u91cf\necho $\u73af\u5883\u53d8\u91cf\u540d   \uff08\u663e\u793a\u4e00\u4e2a\u53d8\u91cf\uff09\n</code></pre> </li> <li> <p>\u6e05\u9664\u73af\u5883\u53d8\u91cf</p> <pre><code>\u683c\u5f0f\uff1a\nunset \u73af\u5883\u53d8\u91cf\u540d\n</code></pre> <p>\u6ce8\u610f\u4e8b\u9879\uff1a</p> <ul> <li>\u8bbe\u5b9a\u5168\u5c40\u73af\u5883\u53d8\u91cf\u7684\u8fdb\u7a0b\u6240\u521b\u5efa\u7684\u5b50\u8fdb\u7a0b\u4e2d\uff0c\u8be5\u53d8\u91cf\u90fd\u662f\u53ef\u89c1\u7684\uff1b</li> <li>\u8bbe\u7f6e\u5168\u5c40\u73af\u5883\u53d8\u91cf\uff0c\u5148\u521b\u5efa\u4e00\u4e2a\u5c40\u90e8\u73af\u5883\u53d8\u91cf \uff0c\u7136\u540e\u518d\u628a\u5b83\u5bfc\u5165\u5230\u5168\u5c40\u53d8\u91cf\u4e2d\uff1a\u901a\u8fc7export\u547d\u4ee4\u5bfc\u5165\uff0c\u53d8\u91cf\u524d\u4e0d\u8981\u52a0$;</li> <li>\u4fee\u6539\u5b50shell\u5168\u5c40\u73af\u5883\u53d8\u91cf\u5e76\u4e0d\u4f1a\u5f71\u54cd\u7236shell\u4e2d\u8be5\u53d8\u91cf\u7684\u503c\uff0c\u8bbe\u7f6e\u65e0\u6cd5\u4f7f\u7528export\u547d\u4ee4\u53bb\u6539\u53d8\u7236shell\u4e2d\u5168\u5c40\u73af\u5883\u53d8\u91cf\u7684\u503c\u3002</li> </ul> <p>\u4f8b\u5982\uff1a</p> <pre><code>//\u5b9a\u4e49\u5c40\u90e8\u73af\u5883\u53d8\u91cf\uff0c\u4f7f\u7528export\u4f7f\u5176\u6210\u4e3a\u5168\u5c40\u73af\u5883\u53d8\u91cf\n[root@yum shell.tmp]# varl=\"i am a stu\"\n[root@yum shell.tmp]# export var1\n[root@yum shell.tmp]# echo ${varl}\ni am a stu\n// bash\u547d\u4ee4\u542f\u52a8\u4e86\u4e00\u4e2a\u5b50shell\n</code></pre> </li> </ul>"},{"location":"LINUX/shell/07shell%E8%84%9A%E6%9C%AC/#_1","title":"\u5185\u7f6e\u53d8\u91cf","text":"$0 \u5f53\u524d\u811a\u672c\u7684\u6587\u4ef6\u540d $n \u4f20\u9012\u7ed9\u811a\u672c\u6216\u51fd\u6570\u7684\u53c2\u6570\u3002n\u8868\u793a\u7b2c\u51e0\u4e2a\u53c2\u6570 $# \u4f20\u9012\u7ed9\u811a\u672c\u6216\u51fd\u6570\u7684\u53c2\u6570\u4e2a\u6570 $* \u4f20\u9012\u7ed9\u811a\u672c\u6216\u51fd\u6570\u7684\u6240\u6709\u53c2\u6570 $@ \u4f20\u9012\u7ed9\u811a\u672c\u6216\u51fd\u6570\u7684\u6240\u6709\u53c2\u6570 $? \u4e0a\u4e2a\u547d\u4ee4\u7684\u9000\u51fa\u72b6\u6001\uff0c\u6216\u51fd\u6570\u7684\u8fd4\u56de\u503c $$ \u5f53\u524dShell\u8fdb\u7a0bID\u3002\u5bf9\u4e8e Shell \u811a\u672c\uff0c\u5c31\u662f\u8fd9\u4e9b\u811a\u672c\u6240\u5728\u7684\u8fdb\u7a0bID <p>$* \u548c $@ \u7684\u533a\u522b</p> <p>\\(* \u548c \\(@ \u90fd\u8868\u793a\u4f20\u9012\u7ed9\u51fd\u6570\u6216\u811a\u672c\u7684\u6240\u6709\u53c2\u6570\uff0c**\u4e0d\u88ab\u53cc\u5f15\u53f7(\" \u201c)\u5305\u542b\u65f6**\uff0c\u90fd\u4ee5\u201d\\)1\" \u201c2\"\u2026\"2\" \u2026 \"2\"\u2026\"n\u201d \u7684\u5f62\u5f0f\u8f93\u51fa\u6240\u6709\u53c2\u6570 \u5f53\u5b83\u4eec**\u88ab\u53cc\u5f15\u53f7(\" \u201c)\u5305\u542b\u65f6**\uff0c\u201d\\)*\" \u4f1a\u5c06\u6240\u6709\u7684\u53c2\u6570\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\uff0c\u4ee5\"$1 \\(2 \u2026 n\"\u7684\u5f62\u5f0f\u8f93\u51fa\u6240\u6709\u53c2\u6570\uff1b\"n\"\u7684\u5f62\u5f0f\u8f93\u51fa\u6240\u6709\u53c2\u6570\uff1b\"n\"\u7684\u5f62\u5f0f\u8f93\u51fa\u6240\u6709\u53c2\u6570\uff1b\"@\" \u4f1a\u5c06\u5404\u4e2a\u53c2\u6570\u5206\u5f00\uff0c\u4ee5\"\\)1\" \u201c2\"\u2026\"2\" \u2026 \"2\"\u2026\"n\u201d \u7684\u5f62\u5f0f\u8f93\u51fa\u6240\u6709\u53c2\u6570\u3002</p>"},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/","title":"08\u6761\u4ef6\u5224\u65ad","text":"<ul> <li>\u6761\u4ef6\u5224\u65ad\u8868\u8fbe\u5f0f<ul> <li>\u6761\u4ef6\u7684\u503c\uff1a</li> <li>\u6761\u4ef6\u8bed\u53e5</li> <li>\u6587\u4ef6</li> <li>\u6587\u4ef6\u6bd4\u8f83</li> <li>\u5b57\u7b26\u4e32</li> <li>\u6574\u6570</li> <li>\u903b\u8f91</li> </ul> </li> <li>\u5206\u652f\u7ed3\u6784<ul> <li>IF\u8bed\u53e5<ul> <li>\u4f5c\u4e1a\u4e00\uff1a\u521b\u5efa\u7528\u6237</li> <li>\u4f5c\u4e1a\u4e8c\uff1a\u914d\u7f6eyum\u6e90</li> </ul> </li> <li>CASE<ul> <li>\u4f5c\u4e1a\uff1a\u78c1\u76d8\u4f7f\u7528\u63d0\u9192</li> </ul> </li> <li>FOR<ul> <li>\u4f5c\u4e1a\uff1a\u52a0\u6cd5\u8868</li> <li>\u4f5c\u4e1a\uff1a\u67e5\u770b\u7cfb\u7edf\u76ee\u5f55\u6570</li> </ul> </li> <li>while<ul> <li>\u4f5c\u4e1a\uff1a\u52a0\u6cd5\u8868</li> </ul> </li> <li>until</li> </ul> </li> <li>\u8f93\u5165\u8f93\u51fa\u91cd\u5b9a\u5411<ul> <li>Linux\u4e0b\u6807\u51c6\u8f93\u5165\u4e0e\u8f93\u51fa</li> <li>\u6b63\u786e\u548c\u9519\u8bef\u8f93\u51fa\u540c\u65f6\u4fdd\u5b58</li> </ul> </li> </ul>"},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#_1","title":"\u6761\u4ef6\u5224\u65ad\u8868\u8fbe\u5f0f","text":""},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#_2","title":"\u6761\u4ef6\u7684\u503c\uff1a","text":"<ol> <li>Bash\u4e2d\u6ca1\u6709\u5e03\u5c14\u7c7b\u578b\u53d8\u91cf</li> <li>\u9000\u51fa\u72b6\u6001\u4e3a0\u8868\u793a\u547d\u4ee4\u6210\u529f\u6216\u8868\u8fbe\u5f0f\u4e3a\u771f</li> <li>1\u8868\u793a\u547d\u4ee4\u5931\u8d25\u6216\u8868\u8fbe\u5f0f\u4e3a\u5047</li> <li>\u72b6\u6001\u53d8\u91cf<code>$?</code>\u4e2d\u4fdd\u5b58\u4e86\u9000\u51fa\u72b6\u6001\u7684\u503c</li> </ol>"},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#_3","title":"\u6761\u4ef6\u8bed\u53e5","text":"<p>\u683c\u5f0f:</p> <ul> <li>test &lt;\u6d4b\u8bd5\u8868\u8fbe\u5f0f&gt;</li> <li>[  &lt;\u6d4b\u8bd5\u8868\u8fbe\u5f0f&gt; ]</li> <li>[[  &lt;\u6d4b\u8bd5\u8868\u8fbe\u5f0f&gt;  ]]       (bash  2.x\u7248\u672c\u4ee5\u4e0a\uff0c bash  --version)</li> </ul> <p>\u8bf4\u660e\uff1a</p> <ul> <li> <p>\u683c\u5f0f1\u548c\u683c\u5f0f2\u662f\u7b49\u4ef7\u7684\uff0c\u683c\u5f0f3\u662f\u6269\u5c55\u7684test\u547d\u4ee4</p> </li> <li> <p>\u5728   <code>[[]]</code>   \u4e2d\u53ef\u4ee5\u4f7f\u7528\u901a\u914d\u7b26\u8fdb\u884c\u6a21\u5f0f\u5339\u914d</p> </li> <li> <p><code>&amp;&amp;\uff0c||\uff0c&lt;\u548c&gt;</code>\u80fd\u591f\u6b63\u5e38\u5b58\u5728\u4e8e<code>[[]]</code>\u4e2d\uff0c \u4f46\u4e0d\u80fd\u5728<code>[]</code> \u4e2d\u51fa\u73b0</p> </li> <li> <p><code>[</code>\u548c<code>[[</code>\u4e4b\u540e\u7684\u5b57\u7b26\u4e32\u5fc5\u987b\u4e3a\u7a7a\u683c\uff0c<code>]</code>\u548c<code>]]</code>\u4e4b\u524d\u7684\u5b57\u7b26\u4e32\u5fc5\u987b\u4e3a\u7a7a\u683c</p> </li> <li> <p>\u8981\u5bf9\u6574\u6570\u8fdb\u884c\u5173\u7cfb\u8fd0\u7b97\u4e5f\u53ef\u4ee5\u4f7f\u7528<code>(())</code>\u8fdb\u884c\u6d4b\u8bd5</p> </li> </ul> <p>\u6761\u4ef6\u6d4b\u8bd5\u8868\u8fbe\u5f0f\u4e2d\u53ef\u7528\u7684\u64cd\u4f5c\u7b26\u6709\u6587\u4ef6\u6d4b\u8bd5\u64cd\u4f5c\u7b26\u3001\u6587\u4ef6\u4e4b\u95f4\u6bd4\u8f83\u64cd\u4f5c\u7b26\u3001\u5b57\u7b26\u4e32\u6d4b\u8bd5\u64cd\u4f5c\u7b26\u3001\u5b57\u7b26\u4e32\u63a7\u5236\u68c0\u6d4b\u3001\u6574\u6570\u4e8c\u5143\u6bd4\u8f83\u64cd\u4f5c\u7b26\u3001\u903b\u8f91\u8fd0\u7b97\u7b26\u3002</p>"},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#_4","title":"\u6587\u4ef6","text":"<p>\u6587\u4ef6\u6d4b\u8bd5\u4e3b\u8981\u662f\u7528\u6765\u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u5b58\u5728\uff0c \u6587\u4ef6\u5c5e\u6027\uff0c\u8bbf\u95ee\u6743\u9650\u7b49\uff0c\u5177\u4f53\u89c1 \u88683-4\u3002</p> <p>\u200b                                           \u88683-4 \u6587\u4ef6\u6d4b\u8bd5\u8bed\u53e5</p> <p></p> <ul> <li>\u8981\u6c42\u5728\u6267\u884c\u811a\u672c\u65f6\uff0c\u68c0\u67e5\u4f20\u5165\u53c2\u6570\u540d\u7684\u6587\u4ef6\u662f\u5426\u5b58\u5728\uff0c\u5b58\u5728\u5219\u63d0\u793a\u6587\u4ef6\u5b58\u5728\uff0c\u4e0d\u5b58\u5728\u5219\u521b\u5efa\uff08\u5982\u679c\u8def\u5f84\u4e0d\u5b58\u5728\uff0c\u5219\u4e00\u5e76\u521b\u5efa\u8def\u5f84\uff09\u3002</li> </ul> <p></p>"},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#_5","title":"\u6587\u4ef6\u6bd4\u8f83","text":""},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#_6","title":"\u5b57\u7b26\u4e32","text":"<p>\u5b57\u7b26\u4e32\u6d4b\u8bd5\u65f6\u6761\u4ef6\u5224\u65ad\u4e2d\u5e38\u7528\u7684\uff0c\u53ef\u4ee5\u7528\u6765\u5224\u65ad\u5b57\u7b26\u4e32\u662f\u5426\u4e3a\u7a7a\u4e32\uff0c\u4e5f\u53ef\u7528\u6765\u6d4b\u8bd5\u4e24\u4e2a\u5b57\u7b26\u4e32\u662f\u5426\u76f8\u7b49\u7b49</p> <p></p> <p>\u771f\u4e3a0   \u5047\u4e3a1</p> <p>\u5b57\u7b26\u4e32\u53d8\u91cf\u8981\u52a0<code>\"\"</code>\uff0c\u4ee5\u514d\u5f15\u8d77\u62a5\u9519</p> <p>\u53d8\u91cf\u4e3a\u7a7a\u6216\u8005\u672a\u5b9a\u4e49\uff0c\u5219\u957f\u5ea6\u90fd\u4e3a0</p>"},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#_7","title":"\u6574\u6570","text":"<ul> <li>\u6574\u6570\u6d4b\u8bd5\u7528<code>[]</code>\u8868\u793a</li> </ul> <ul> <li>\u6574\u6570\u6d4b\u8bd5\u7528<code>[[]]</code>\u8868\u793a</li> </ul> <ul> <li>\u6574\u6570\u6d4b\u8bd5\u7528 <code>let</code>\u547d\u4ee4\u6216<code>(())</code>\u8868\u793a</li> </ul> <p>\u4ee5\u4e0a\u9488\u5bf9\u6574\u6570\u6d4b\u8bd5\u7684\u4e09\u79cd\u65b9\u5f0f\u533a\u522b\u5982\u4e0b:</p> <ul> <li>\u4f7f\u7528\u7684\u64cd\u4f5c\u7b26\u4e0d\u540c</li> <li>let \u548c\u53cc\u5706\u62ec\u53f7\u4e2d\u53ef\u4ee5\u4f7f\u7528\u7b97\u672f\u8868\u8fbe\u5f0f\uff0c\u800c\u4e2d\u53f7\u4e0d\u80fd</li> <li>let \u548c\u53cc\u5706\u62ec\u53f7\u4e2d\uff0c\u64cd\u4f5c\u7b26\u4e24\u8fb9\u53ef\u4ee5\u4e0d\u7559\u7a7a\u683c</li> </ul>"},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#_8","title":"\u903b\u8f91","text":"<p>\u903b\u8f91\u6d4b\u8bd5\u7ed3\u679c\u53ea\u6709\u771f\u6216\u5047\u4e24\u79cd\u60c5\u51b5\uff0c\u5728\u8fdb\u884c\u903b\u8f91\u6d4b\u8bd5\u65f6\u53ef\u4ee5\u5728<code>[]\uff0c[[],</code> <code>(())</code>\u4e2d\u8fdb\u884c</p> <p></p> <p></p> <p>\u8bf4\u660e\uff1a\u4e0d\u80fd\u968f\u4fbf\u6dfb\u52a0\u62ec\u53f7\uff1b\u4e0d\u80fd\u5728<code>(())</code>\u4e2d\u505a\u5b57\u7b26\u4e32\u6bd4\u8f83</p>"},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#_9","title":"\u5206\u652f\u7ed3\u6784","text":""},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#if","title":"IF\u8bed\u53e5","text":""},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#_10","title":"\u4f5c\u4e1a\u4e00\uff1a\u521b\u5efa\u7528\u6237","text":"<pre><code>if [];then\nelif [];then\nelif [];then\nelse\nfi\n\n[root@Xuan shell-works]# cat user.sh \n#!/usr/bin/bash\n#add-user\nread -p \"Please input user_number:\" num\n#\u786e\u5b9a\u8f93\u5165\u7684\u662f\u4ee5\u6570\u5b57\n# =~ \u5305\u542b\nif [[ ! \"$num\" =~ ^[0-9]+$ ]];then\n  echo \"error number\"\n  exit\nfi \n# \u9996\u5b57\u7b26\u4e3a\u5b57\u6bcd\uff0c\u4e14\u542b\u6709\u6570\u5b57,\u4e0b\u5212\u7ebf\nread -p \"PLease input prefix:\" prefix\nif [[ ! \"$prefix\" =~ ^[a-zA-Z] || ! \"$prefix\" =~ \"_\"+  ]];then\n  echo \"error prefix\"\n  exit\nfi\n# \u68c0\u67e5\u540d\u5b57\u957f\u5ea6\nname=$prefix$num\nname_len=${#name}\necho \"name_len:\" $name_len\nif (( \"$name_len\" &gt; 10 || \"$name_len\" &lt; 4 ));then\n  echo \"error len\"\n  exit\nfi\n#\u521b\u5efa\u7528\u6237\nfor i in `seq $num`\ndo\n  user=$prefix$i\n  useradd $user\n  echo \"123456\" |passwd --stdin $user &amp;&gt;/dev/null\n  if [ $? -eq 0 ];then\n     echo \"$user created\"\n  fi\ndone\n</code></pre>"},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#yum","title":"\u4f5c\u4e1a\u4e8c\uff1a\u914d\u7f6eyum\u6e90","text":"<pre><code>[xuan@Xuan shell-works]$ cat yum_config.sh \n#!/usr/bin/bash\n\nos_version=`cat /etc/redhat-release |awk '{print $7}' \\\n|awk -F\".\" '{print $1\".\"$2}'`\necho \"os_version:\"$os_version\n\n[ -d /etc/yum.repos.d ] || mkdir /etc/yum.repos.d/bak\nmv /etc/yum.repos.d/*.repo /etc/yum.repos.d/bak\n\nif [ \"$os_version\" = \"7.0\" ];then\n    curl -o /etc/yum.repos.d/centos7.0.repo http://mirrors.aliyun.com/repo/Centos-7.repo\n    echo \"7.0 yum configure...\"\n\nelif  [ \"$os_version\" = \"6.0\" ];then\n    curl -o /etc/yum.repos.d/centos6.0.repo http://mirrors.aliyun.com/repo/Centos-6.repo\n\nelif [ \"$os_version\" = \"5.0\" ];then\n    curl -o /etc/yum.repos.d/centos5.0.repo http://mirrors.aliyun.com/repo/Centos-5.repo\nfi\n</code></pre>"},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#case","title":"CASE","text":""},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#_11","title":"\u4f5c\u4e1a\uff1a\u78c1\u76d8\u4f7f\u7528\u63d0\u9192","text":"<pre><code>#!\u5229\u7528case\u8bed\u53e5\u5b8c\u6210\u64cd\u4f5c\uff1a\u67e5\u770b\u78c1\u76d8\u6839\u5206\u533a\u5229\u7528\u7387\uff0c\u5f53\u5229\u7528\u7387\u5c0f\u4e8e50\uff0c\u63d0\u793a\u201c\u7a7a\u95f4\u5145\u8db3\u201d\uff1b\u5f53\u5229\u7528\u7387\u572850%~79%\u65f6\uff0c\u63d0\u793a\u201c\u8bf7\u6ce8\u610f\u53ca\u65f6\u6e05\u7406\u7a7a\u95f4\u201d\uff1b\u5f53\u8d85\u8fc780%\uff0c\u63d0\u793a\u201c\u7cfb\u7edf\u4f1a\u56e0\u6b64\u7f62\u5de5\u7684\u54e6\uff01\n\ndisk_used=`df |grep /$ |awk '{print $5}' |awk 'gsub(\"%\",\"\") {print $0}'`  #gsub  awk\u4e2d\u66ff\u6362\u5b57\u7b26\u7684\u4e00\u4e2a\u65b9\u6cd5\n\necho \"disk_used: \" $disk_used\ncase \"$disk_used\" in                    #      \u5341\u4f4d  \u4e2a\u4f4d\n[0-4]*)    #*\u53f7\u662f\u901a\u914d\u7b26  []\u5339\u914d\u53ea\u80fd\u5199\u4e00\u4f4d\u6570\u5b57\uff0c\u6216\u8005\u5199[0-4][0-9]\u8868\u793a0-49\n    echo \"\u7a7a\u95f4\u5145\u8db3\" ;;\n[5-7]*)\n    echo \"\u8bf7\u53ca\u65f6\u6e05\u7406\u7a7a\u95f4\" ;;\n[8-10]*)\n    echo \"\u7cfb\u7edf\u4f1a\u56e0\u6b64\u7f62\u5de5\u7684\u54e6\uff01\" ;;\n*)  # *)\u4ee3\u8868else\n    echo \"error\"\nesac\n</code></pre>"},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#for","title":"FOR","text":"<pre><code>for i in {1..100}   # 1\u5230100\ndo\n    {\n    ......          # \u6267\u884c\u7684\u5185\u5bb9\n    }&amp;              # {}&amp;\u7684\u610f\u601d\u662f\u628a\u547d\u4ee4\u6253\u5305\u5230\u540e\u53f0\u6267\u884c\uff0c\u7528\u4e0d\u540c\u7684shell,\u4e5f\u53ef\u4ee5\u5199\u5728done\u7684\u540e\u9762\ndone\nwait                # wait\u547d\u4ee4 \u7b49\u5f85wait\u547d\u4ee4\u4e4b\u524d\u7684\u5185\u5bb9\u6267\u884c\u5b8c\u6210\u624d\u6267\u884cwait\u540e\u9762\u7684\necho \"finished\uff01\"\n</code></pre>"},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#_12","title":"\u4f5c\u4e1a\uff1a\u52a0\u6cd5\u8868","text":"<pre><code>#!\u5229\u7528for\u8bed\u53e5\u5b8c\u6210\u64cd\u4f5c\uff1a\u5229\u7528for\u8bed\u53e5\u5b8c\u6210\u9636\u68af\u5f0f\u52a0\u6cd5\u53e3\u8bc0\u8868\u3002\n[root@Xuan shell-works]$ cat add_table_cbp.sh \n#!/usr/bin/bash\n# \u8f93\u51fa\u52a0\u6cd5\u8868\n#\u884c   column\u5217\n# \u4e24\u5c42\u5faa\u73af\u63a7\u5236\u8f93\u51fa\u7684\u884c\u548c\u5217\nfor i in `seq 9`\ndo\n    for j in `seq $i`\n    do\n    sum=$(( $i+$j ))\n    if (( $sum &gt; 9 ));then  #\u4fdd\u6301\u6574\u9f50\n        echo -n \"$i + $j = $sum  \"\n    else\n        echo -n \"$i + $j = $sum   \"\n    fi\n    done\n    echo \"\"\ndonepwd\n</code></pre>"},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#_13","title":"\u4f5c\u4e1a\uff1a\u67e5\u770b\u7cfb\u7edf\u76ee\u5f55\u6570","text":"<pre><code>#!\u67e5\u770b\u6307\u5b9a\u7cfb\u7edf\u4e0b\uff0c\u6307\u5b9a\u540e\u7f00\u7684\u6587\u4ef6\u7684\u6570\u76ee\u3002\uff08\u6307\u5b9a\u76ee\u5f55\uff0c\u548c\u6307\u5b9a\u540e\u7f00\u901a\u8fc7read\u83b7\u53d6\uff09\n[root@Xuan shell-works]$ cat ls_file_cbp.sh \n#!/usr/bin/bash\n# \u67e5\u770b\u6307\u5b9a\u76ee\u5f55\u4e0b\uff0c\u6307\u5b9a\u540e\u7f00\u7684\u6587\u4ef6\u7684\u6570\n\nread -p \"input path[/root/home/] and suffix[txt\\sh...]:\" path suffix\nls $path*.$suffix &gt; ls.txt\nj=0\nfor i in `cat ls.txt` ; do\n    echo $i\n    j=$(( $j+1 ))  # \u8981\u5199\u6210$(()),\u4e0d\u7136\u4e0d\u4f1a\u8fdb\u884c\u8fd0\u7b97\ndone\necho \"file count:$j\"\nrm -rf ls.txt\n</code></pre>"},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#while","title":"while","text":"<p>\u5f53\u6761\u4ef6\u4e3a\u771f\uff08\u6267\u884c\uff09</p>"},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#_14","title":"\u4f5c\u4e1a\uff1a\u52a0\u6cd5\u8868","text":"<pre><code>#!/usr/bin/bash\nrow=1   #\u884c\nwhile (($row&lt;=9));do\n    col=1   #\u5217\n    while (($col&lt;=$row));do\n        sum=$(($col+$row))\n        if (( $sum &gt; 9 ));then  #\u4fdd\u6301\u6574\u9f50\n            echo -n \"$col + $row = $sum  \"\n        else\n            echo -n \"$col + $row = $sum   \"\n        fi\n        col=$(($col+1))\n    done\n    echo \"\"     #\u6362\u884c\n    row=$(($row+1))\ndone\n</code></pre>"},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#until","title":"until","text":"<p>\u5f53\u6761\u4ef6\u4e3a\u5047\uff08\u6267\u884c\uff09</p> <pre><code>#!/usr/bin/bash\nrow=1   #\u884c\nuntil (($row&gt;9)) ;do\n    col=1   #\u5217\n    until (($col&gt;$row));do\n        sum=$(($col+$row))\n        if (( $sum &gt; 9 ));then  #\u4fdd\u6301\u6574\u9f50\n            echo -n \"$col + $row = $sum  \"\n        else\n            echo -n \"$col + $row = $sum   \"\n        fi\n        col=$(($col+1))\n    done\n    echo \"\"     #\u6362\u884c\n    row=$(($row+1))\ndone\n</code></pre>"},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#_15","title":"\u8f93\u5165\u8f93\u51fa\u91cd\u5b9a\u5411","text":"<p>\u5728Linux\u7cfb\u7edf\u7684\u547d\u4ee4\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u5404\u79cd\u547d\u4ee4\u8f93\u51fa\u76f8\u5e94\u7684\u4fe1\u606f\uff0c\u8fd9\u4e9b\u4fe1\u606f\u53ef\u4ee5\u5728\u5c4f\u5e55\u4e0a\u663e\u793a\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u6587\u4ef6\u4fdd\u5b58\u7ed3\u679c\uff0c\u5e76\u5c06\u5176\u4f5c\u4e3a\u5176\u4ed6\u547d\u4ee4\u7684\u8f93\u5165\u6216\u64cd\u4f5c\u5bf9\u8c61\u3002</p>"},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#linux","title":"Linux\u4e0b\u6807\u51c6\u8f93\u5165\u4e0e\u8f93\u51fa","text":"<p>Linux\u6bcf\u4e2a\u547d\u4ee4\u901a\u5e38\u4ece\u5b83\u7684\u63a7\u5236\u7ec8\u7aef\u4e2d\u83b7\u53d6\u8f93\u5165\uff0c\u5c06\u8f93\u51fa\u6253\u5370\u5230\u63a7\u5236\u7ec8\u7aef\u7684\u5c4f\u5e55\u4e0a\u3002\u6839\u636e\u5e94\u7528\u7c7b\u578b\uff0c\u53ef\u4ee5\u5206\u4e3a\u6807\u51c6\u8f93\u5165\u3001\u6807\u51c6\u8f93\u51fa\u3001\u6807\u51c6\u9519\u8bef\u8f93\u51fa</p> <ul> <li>\u6807\u51c6\u8f93\u5165(STDIN):\u5b83\u662f\u547d\u4ee4\u7684\u8f93\u5165\uff0c\u7f3a\u7701\u548c\u7ec8\u7aef\u7684\u952e\u76d8\u8054</li> <li>\u6807\u51c6\u8f93\u51fa(STDOUT):\u5b83\u662f\u547d\u4ee4\u7684\u8f93\u51fa\uff0c\u7f3a\u7701\u548c\u7ec8\u7aef\u7684\u5c4f\u5e55\u5173\u8054</li> <li>\u6807\u51c6\u9519\u8bef(STDERR):\u5b83\u662f\u547d\u4ee4\u7684\u9519\u8bef\u4fe1\u606f\u8f93\u51fa\uff0c\u7f3a\u7701\u4e5f\u548c\u7ec8\u7aef\u7684\u5c4f\u5e55\u5173\u8054</li> <li>\u5982\u679c\u8fdb\u7a0b\u6253\u5f00\u4e86\u989d\u5916\u7684\u6587\u4ef6\u8fdb\u884c\u8f93\u5165\u548c\u8f93\u51fa\uff0c\u5219\u5176\u88ab\u8bbe\u7f6e\u4e3a\u4e0b\u4e00\u4e00\u4e2a\u53ef\u7528\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u4ece3\u52309</li> </ul> <p>\u683c\u5f0f\uff1a\u547d\u4ee4 <code>&gt;</code> \u6587\u4ef6</p> <ul> <li><code>&gt;</code>\u8986\u76d6</li> <li><code>&gt;&gt;</code> \u8ffd\u52a0</li> <li>\u53cd\u5411\u4e3a\u8f93\u51fa</li> </ul>"},{"location":"LINUX/shell/08%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD/#_16","title":"\u6b63\u786e\u548c\u9519\u8bef\u8f93\u51fa\u540c\u65f6\u4fdd\u5b58","text":"<ol> <li>\u68c0\u6d4b\u7cfb\u7edf\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\uff0c\u5f53\u5185\u5b58\u4f7f\u7528\u8d85\u8fc770%\uff0c\u7ed9\u51fa\u4f7f\u7528\u63d0\u9192\uff08\u63d0\u9192\u5185\u5bb9\u81ea\u5b9a\uff09\uff0c\u5c06\u63d0\u9192\u5185\u5bb9\u653e\u5165<code>/tmp/men_warn</code>\u6587\u4ef6\u5939\u4e2d\u7684\u4ee5\u5f53\u524d\u7684\u65e5\u671f\u548c\u65f6\u95f4\u547d\u540d\u7684\u6587\u4ef6</li> </ol>"},{"location":"LINUX/shell/crontab%28%E5%AE%9A%E6%97%B6%E5%99%A8%29/","title":"Crontab(\u5b9a\u65f6\u5668)","text":"<ul> <li>1. crontab\u5b9a\u65f6\u5668<ul> <li>\u4ecb\u7ecd</li> <li>\u8bed\u6cd5</li> <li>\u4f8b\u5b50\uff1a</li> </ul> </li> </ul>"},{"location":"LINUX/shell/crontab%28%E5%AE%9A%E6%97%B6%E5%99%A8%29/#1-crontab","title":"1. crontab\u5b9a\u65f6\u5668","text":""},{"location":"LINUX/shell/crontab%28%E5%AE%9A%E6%97%B6%E5%99%A8%29/#_1","title":"\u4ecb\u7ecd","text":"<p>Linux crontab\u662f\u7528\u6765\u5b9a\u671f\u6267\u884c\u7a0b\u5e8f\u7684\u547d\u4ee4\u3002</p> <p>\u5f53\u5b89\u88c5\u5b8c\u6210\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u540e\uff0c\u9ed8\u8ba4\u4fbf\u4f1a\u542f\u52a8\u6b64\u4efb\u52a1\u8c03\u5ea6\u547d\u4ee4\u3002</p> <p>crond \u547d\u4ee4\u6bcf\u5206\u953a\u4f1a\u5b9a\u671f\u68c0\u67e5\u662f\u5426\u6709\u8981\u6267\u884c\u7684\u5de5\u4f5c\uff0c\u5982\u679c\u6709\u8981\u6267\u884c\u7684\u5de5\u4f5c\u4fbf\u4f1a\u81ea\u52a8\u6267\u884c\u8be5\u5de5\u4f5c\u3002</p>"},{"location":"LINUX/shell/crontab%28%E5%AE%9A%E6%97%B6%E5%99%A8%29/#_2","title":"\u8bed\u6cd5","text":"<pre><code>crontab [ -u user ] file\ncrontab [ -u user ] { -l | -r | -e }\n</code></pre> <p>\u8bf4\u660e\uff1a</p> <p>crontab \u662f\u7528\u6765\u8ba9\u4f7f\u7528\u8005\u5728\u56fa\u5b9a\u65f6\u95f4\u6216\u56fa\u5b9a\u95f4\u9694\u6267\u884c\u7a0b\u5e8f\u4e4b\u7528\uff0c\u6362\u53e5\u8bdd\u8bf4\uff0c\u4e5f\u5c31\u662f\u7c7b\u4f3c\u4f7f\u7528\u8005\u7684\u65f6\u7a0b\u8868\u3002</p> <p>-u user \u9ed8\u8ba4\u662f\u81ea\u5df1\uff0c\u6307\u5b9a\u522b\u4eba\u9700\u8981\u6743\u9650\u8db3\u591f</p> <p>\u53c2\u6570\u8bf4\u660e\uff1a</p> <ul> <li>-e : \u6267\u884c\u6587\u5b57\u7f16\u8f91\u5668\u6765\u8bbe\u5b9a\u65f6\u7a0b\u8868\uff0c\u5185\u5b9a\u7684\u6587\u5b57\u7f16\u8f91\u5668\u662f VI\uff0c\u5982\u679c\u4f60\u60f3\u7528\u522b\u7684\u6587\u5b57\u7f16\u8f91\u5668\uff0c\u5219\u8bf7\u5148\u8bbe\u5b9a VISUAL \u73af\u5883\u53d8\u6570\u6765\u6307\u5b9a\u4f7f\u7528\u90a3\u4e2a\u6587\u5b57\u7f16\u8f91\u5668(\u6bd4\u5982\u8bf4 setenv VISUAL joe)</li> <li>-r : \u5220\u9664\u76ee\u524d\u7684\u65f6\u7a0b\u8868</li> <li>-l : \u5217\u51fa\u76ee\u524d\u7684\u65f6\u7a0b\u8868</li> </ul> <p>\u65f6\u95f4\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>f1 f2 f3 f4 f5 program\n</code></pre> <ul> <li>\u5176\u4e2d f1 \u662f\u8868\u793a\u5206\u949f\uff0cf2 \u8868\u793a\u5c0f\u65f6\uff0cf3 \u6708\u4efd\u7684\u7b2c\u51e0\u5929\uff0cf4 \u8868\u793a\u6708\u4efd\uff0cf5 \u8868\u793a\u4e00\u4e2a\u661f\u671f\u4e2d\u7684\u7b2c\u51e0\u5929\u3002program \u8868\u793a\u8981\u6267\u884c\u7684\u7a0b\u5e8f\u3002</li> <li>\u5f53 f1 \u4e3a * \u65f6\u8868\u793a\u6bcf\u5206\u949f\u90fd\u8981\u6267\u884c program\uff0cf2 \u4e3a * \u65f6\u8868\u793a\u6bcf\u5c0f\u65f6\u90fd\u8981\u6267\u884c\u7a0b\u5e8f\uff0c\u5176\u4f59\u7c7b\u63a8</li> <li>\u5f53 f1 \u4e3a a-b \u65f6\u8868\u793a\u4ece\u7b2c a \u5206\u949f\u5230\u7b2c b \u5206\u949f\u8fd9\u6bb5\u65f6\u95f4\u5185\u8981\u6267\u884c\uff0cf2 \u4e3a a-b \u65f6\u8868\u793a\u4ece\u7b2c a \u5230\u7b2c b \u5c0f\u65f6\u90fd\u8981\u6267\u884c\uff0c\u5176\u4f59\u7c7b\u63a8</li> <li>\u5f53 f1 \u4e3a */n \u65f6\u8868\u793a\u6bcf n \u5206\u949f\u4e2a\u65f6\u95f4\u95f4\u9694\u6267\u884c\u4e00\u6b21\uff0cf2 \u4e3a */n \u8868\u793a\u6bcf n \u5c0f\u65f6\u4e2a\u65f6\u95f4\u95f4\u9694\u6267\u884c\u4e00\u6b21\uff0c\u5176\u4f59\u7c7b\u63a8</li> <li>\u5f53 f1 \u4e3a a, b, c,... \u65f6\u8868\u793a\u7b2c a, b, c,... \u5206\u949f\u8981\u6267\u884c\uff0cf2 \u4e3a a, b, c,... \u65f6\u8868\u793a\u7b2c a, b, c...\u4e2a\u5c0f\u65f6\u8981\u6267\u884c\uff0c\u5176\u4f59\u7c7b\u63a8</li> </ul> <pre><code>*    *    *    *    *\n-    -    -    -    -\n|    |    |    |    |\n|    |    |    |    +----- \u661f\u671f\u4e2d\u661f\u671f\u51e0 (0 - 7) (\u661f\u671f\u5929 \u4e3a0)\n|    |    |    +---------- \u6708\u4efd (1 - 12) \n|    |    +--------------- \u4e00\u4e2a\u6708\u4e2d\u7684\u7b2c\u51e0\u5929 (1 - 31)\n|    +-------------------- \u5c0f\u65f6 (0 - 23)\n+------------------------- \u5206\u949f (0 - 59)\n</code></pre> <p>\u4f7f\u7528\u8005\u4e5f\u53ef\u4ee5\u5c06\u6240\u6709\u7684\u8bbe\u5b9a\u5148\u5b58\u653e\u5728\u6587\u4ef6\u4e2d\uff0c\u7528 crontab file \u7684\u65b9\u5f0f\u6765\u8bbe\u5b9a\u6267\u884c\u65f6\u95f4\u3002</p>"},{"location":"LINUX/shell/crontab%28%E5%AE%9A%E6%97%B6%E5%99%A8%29/#_3","title":"\u4f8b\u5b50\uff1a","text":"<p>\u6bcf\u6708\u6bcf\u5929\u6bcf\u5c0f\u65f6\u7684\u7b2c 0 \u5206\u949f\u6267\u884c\u4e00\u6b21 /bin/ls</p> <pre><code>\u5982\u679c\u811a\u672c\u6ca1\u6709\u6267\u884c\u6743\u9650\uff0c\u5c31\u9700\u8981\u52a0/bin/bash\uff0c\u5982\u679c\u6709\u6267\u884c\u6743\u9650\u5c31\u53ef\u4ee5\u76f4\u63a5\u6267\u884c\n0 * * * * /bin/bash /bin/ls\n</code></pre> <p>\u5728 12 \u6708\u5185, \u6bcf\u5929\u7684\u65e9\u4e0a 6 \u70b9\u5230 12 \u70b9\uff0c\u6bcf\u9694 3 \u4e2a\u5c0f\u65f6 0 \u5206\u949f\u6267\u884c\u4e00\u6b21 /usr/bin/backup</p> <pre><code>0 6-12/3 * 12 * /usr/bin/backup\n</code></pre> <p>\u5468\u4e00\u5230\u5468\u4e94\u6bcf\u5929\u4e0b\u5348 5:00 \u5bc4\u4e00\u5c01\u4fe1\u7ed9 alex@domain.name</p> <pre><code>0 17 * * 1-5 mail -s \"hi\" alex@domain.name &lt; /tmp/maildata\n</code></pre> <p>\u6bcf\u6708\u6bcf\u5929\u7684\u5348\u591c 0 \u70b9 20 \u5206, 2 \u70b9 20 \u5206, 4 \u70b9 20 \u5206....\u6267\u884c echo \"haha\"</p> <pre><code>20 0-23/2 * * * echo \"haha\"\n</code></pre> <p>\u4e0b\u9762\u518d\u770b\u770b\u51e0\u4e2a\u5177\u4f53\u7684\u4f8b\u5b50\uff1a</p> <pre><code>0 */2 * * * /sbin/service httpd restart  \u610f\u601d\u662f\u6bcf\u4e24\u4e2a\u5c0f\u65f6\u91cd\u542f\u4e00\u6b21apache \n\n0 0 1,15 * * fsck /home  \u6bcf\u67081\u53f7\u548c15\u53f7\u68c0\u67e5/home \u78c1\u76d8 \n\n1 * * * * /home/bruce/backup  \u6bcf\u5c0f\u65f6\u7684\u7b2c\u4e00\u5206\u6267\u884c /home/bruce/backup\u8fd9\u4e2a\u6587\u4ef6 \n\n00 03 * * 1-5 find /home \"*.xxx\" -mtime +4 -exec rm {} \\;  \u6bcf\u5468\u4e00\u81f3\u5468\u4e943\u70b9\u949f\uff0c\u5728\u76ee\u5f55/home\u4e2d\uff0c\u67e5\u627e\u6587\u4ef6\u540d\u4e3a*.xxx\u7684\u6587\u4ef6\uff0c\u5e76\u5220\u96644\u5929\u524d\u7684\u6587\u4ef6\u3002\n\n30 6 */10 * * ls  \u610f\u601d\u662f\u6bcf\u6708\u76841\u300111\u300121\u300131\u65e5\u662f\u76846\uff1a30\u6267\u884c\u4e00\u6b21ls\u547d\u4ee4\n</code></pre> <p>\u6ce8\u610f\uff1a\u5f53\u7a0b\u5e8f\u5728\u4f60\u6240\u6307\u5b9a\u7684\u65f6\u95f4\u6267\u884c\u540e\uff0c\u7cfb\u7edf\u4f1a\u5bc4\u4e00\u5c01\u4fe1\u7ed9\u4f60\uff0c\u663e\u793a\u8be5\u7a0b\u5e8f\u6267\u884c\u7684\u5185\u5bb9\uff0c\u82e5\u662f\u4f60\u4e0d\u5e0c\u671b\u6536\u5230\u8fd9\u6837\u7684\u4fe1\uff0c\u8bf7\u5728\u6bcf\u4e00\u884c\u7a7a\u4e00\u683c\u4e4b\u540e\u52a0\u4e0a &gt; /dev/null 2&gt;&amp;1 \u5373\u53ef</p>"},{"location":"LINUX/shell/curl%E7%9A%84%E4%BD%BF%E7%94%A8/","title":"curl\u7684\u4f7f\u7528","text":""},{"location":"LINUX/shell/curl%E7%9A%84%E4%BD%BF%E7%94%A8/#1-curl","title":"1\u3001 curl\u4f5c\u7528","text":"<ol> <li>\u4ece\u6307\u5b9a\u7684URL\u6765\u4e0a\u4f20\u6216\u4e0b\u8f7d\u6570\u636e\uff0c\u5e76\u5c06\u6570\u636e\u5c55\u793a\u51fa\u6765\u3002</li> <li>c\u4ee3\u8868client</li> <li>url \u7edf\u4e00\u8d44\u6e90\u5b9a\u4f4d\u7b26\uff0cunfied resource location</li> </ol>"},{"location":"LINUX/shell/curl%E7%9A%84%E4%BD%BF%E7%94%A8/#2curl","title":"2\u3001curl\u8bed\u6cd5","text":"<p><pre><code> curl [options] [URL...]\n</code></pre> \u8bf4\u660e\uff1a 1. options \uff0cboolean\u7c7b\u578b\uff0c--option\u589e\u52a0\u9009\u9879\uff0c--no-option \u53bb\u6389\u9009\u9879\u3002 2. url \u53ef\u4ee5\u662fftp\u4e5f\u53ef\u4ee5\u662fhttp,\u6216\u8005\u5176\u4ed6\u534f\u8bae\u3002 3. \u5728\u4e00\u884c\u4e0a\u53ef\u4ee5\u5904\u7406\u591a\u4e2aURL\uff0cURL\u4e4b\u95f4\u7528\u7a7a\u683c\u95f4\u9694</p>"},{"location":"LINUX/shell/curl%E7%9A%84%E4%BD%BF%E7%94%A8/#3option","title":"3\u3001\u5e38\u89c1option\u9009\u9879","text":""},{"location":"LINUX/shell/sth/","title":"Sth","text":"<ul> <li>1. bash -n   shell\u811a\u672c**</li> <li>2. \u67e5\u770b\u7528\u6237\u4fe1\u606f cat /etc/passwd</li> <li>3. password --stdin\u9009\u9879</li> <li>4. read\u547d\u4ee4</li> <li>8. \u63a7\u5236\u8fd4\u56de\u503c</li> <li>9. \u83b7\u53d6\u5b57\u7b26\u4e32\u957f\u5ea6</li> <li>10.tee\u628a\u8f93\u51fa\u8ffd\u52a0\u5230\u6587\u4ef6<ul> <li>\u8bed\u6cd5</li> </ul> </li> <li>11.time\u547d\u4ee4\u8ba1\u7b97\u8017\u65f6</li> <li>12.seq\u8f93\u51fa\u6570\u5b57\u5e8f\u5217</li> <li>13. \u547d\u4ee4\uff1alet\u8ba1\u7b97\u5de5\u5177</li> <li>linux top\u547d\u4ee4</li> <li>14 \u6587\u4ef6\u78c1\u76d8\u64cd\u4f5c<ul> <li>5.8\u65e5 \u66f4\u6539\u6587\u4ef6\u6743\u9650,\u6587 \u4ef6\u9884\u8bbe\u6743\u9650</li> <li>** \u6587\u4ef6\u9690\u85cf\u5c5e\u6027,\u7279\u6b8a\u6743\u9650**</li> </ul> </li> <li>15 \u914d\u7f6e\u4e0e\u7ba1\u7406\u78c1\u76d8<ul> <li>\u4ee5\u4e0b\u4ec5\u4ee5\u65b0\u589e\u4e00\u5757SCSI\u786c\u76d8\u4f4d\u524d\u63d0, \u65b0\u589e\u7684\u786c\u76d8\u4f4d /dev/sdb</li> </ul> </li> <li>16 Linux\u6682\u505c\u548c\u6062\u590d\u8fdb\u7a0b</li> <li>END</li> </ul>"},{"location":"LINUX/shell/sth/#1-bash-n-shell","title":"1. bash -n   shell\u811a\u672c**","text":"<ul> <li>\u68c0\u67e5\u8bed\u6cd5\u6709\u6ca1\u6709\u9519\u8bef\uff0c\u68c0\u6d4b\u76f4\u89c2\u9519\u8bef</li> </ul>"},{"location":"LINUX/shell/sth/#2-cat-etcpasswd","title":"2. \u67e5\u770b\u7528\u6237\u4fe1\u606f cat /etc/passwd","text":""},{"location":"LINUX/shell/sth/#3-password-stdin","title":"3. password --stdin\u9009\u9879","text":"<ul> <li>\u8fd9\u4e2a\u9009\u9879\u7528\u4e8e\u4ece\u6807\u51c6\u8f93\u5165\u7ba1\u9053\u8bfb\u5165\u65b0\u7684\u5bc6\u7801\u3002 </li> </ul> <p>\u4f7f\u7528 echo \u65b9\u5f0f\u6765\u91cd\u7f6eLinux \u7cfb\u7edf\u7528\u6237\u5bc6\u7801\uff1a</p> <ul> <li>\u683c\u5f0f\uff1a <code>echo \u201c\u65b0\u5bc6\u7801\u201d |password --stdin \u7528\u6237</code></li> </ul>"},{"location":"LINUX/shell/sth/#4-read","title":"4. read\u547d\u4ee4","text":"<p>\u7528\u4e8e\u4ece\u6807\u51c6\u8f93\u5165\u4e2d\u8bfb\u53d6\u8f93\u5165\u5355\u884c\uff0c\u5e76\u5c06\u8bfb\u53d6\u7684\u5355\u884c\u6839\u636eIFS\u53d8\u91cf\u5206\u88c2\u6210\u591a\u4e2a\u5b57\u6bb5\uff0c\u5e76\u5c06\u5206\u5272\u540e\u7684\u5b57\u6bb5\u5206\u522b\u8d4b\u503c\u7ed9\u6307\u5b9a\u7684\u53d8\u91cf\u5217\u8868var_name\u3002\u7b2c\u4e00\u4e2a\u5b57\u6bb5\u5206\u914d\u7ed9\u7b2c\u4e00\u4e2a\u53d8\u91cfvar_name1\uff0c\u7b2c\u4e8c\u4e2a\u5b57\u6bb5\u5206\u914d\u7ed9\u7b2c\u4e8c\u4e2a\u53d8\u91cfvar_name2\uff0c\u4f9d\u6b21\u5230\u7ed3\u675f\u3002\u5982\u679c\u6307\u5b9a\u7684\u53d8\u91cf\u540d\u5c11\u4e8e\u5b57\u6bb5\u6570\u91cf\uff0c\u5219\u591a\u51fa\u7684\u5b57\u6bb5\u6570\u91cf\u4e5f\u540c\u6837\u5206\u914d\u7ed9\u6700\u540e\u4e00\u4e2avar_name\uff0c\u5982\u679c\u6307\u5b9a\u7684\u53d8\u91cf\u547d\u4ee4\u591a\u4e8e\u5b57\u6bb5\u6570\u91cf\uff0c\u5219\u591a\u51fa\u7684\u53d8\u91cf\u8d4b\u503c\u4e3a\u7a7a\u3002</p> <p>\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u4efb\u4f55var_name\uff0c\u5219\u5206\u5272\u540e\u7684\u6240\u6709\u5b57\u6bb5\u90fd\u5b58\u50a8\u5728\u7279\u5b9a\u53d8\u91cf<code>REPLY</code>\u4e2d\u3002</p> <p>```\u9009\u9879\u8bf4\u660e\uff1a \u9009\u9879\u8bf4\u660e\uff1a -a\uff1a\u5c06\u5206\u88c2\u540e\u7684\u5b57\u6bb5\u4f9d\u6b21\u5b58\u50a8\u5230\u6307\u5b9a\u7684\u6570\u7ec4\u4e2d\uff0c\u5b58\u50a8\u7684\u8d77\u59cb\u4f4d\u7f6e\u4ece\u6570\u7ec4\u7684index=0\u5f00\u59cb\u3002 -d\uff1a\u6307\u5b9a\u8bfb\u53d6\u884c\u7684\u7ed3\u675f\u7b26\u53f7\u3002\u9ed8\u8ba4\u7ed3\u675f\u7b26\u53f7\u4e3a\u6362\u884c\u7b26\u3002 -n\uff1a\u9650\u5236\u8bfb\u53d6N\u4e2a\u5b57\u7b26\u5c31\u81ea\u52a8\u7ed3\u675f\u8bfb\u53d6\uff0c\u5982\u679c\u6ca1\u6709\u8bfb\u6ee1N\u4e2a\u5b57\u7b26\u5c31\u6309\u4e0b\u56de\u8f66\u6216\u9047\u5230\u6362\u884c\u7b26\uff0c\u5219\u4e5f\u4f1a\u7ed3\u675f\u8bfb\u53d6\u3002 -N\uff1a\u4e25\u683c\u8981\u6c42\u8bfb\u6ee1N\u4e2a\u5b57\u7b26\u624d\u81ea\u52a8\u7ed3\u675f\u8bfb\u53d6\uff0c\u5373\u4f7f\u4e2d\u9014\u6309\u4e0b\u4e86\u56de\u8f66\u6216\u9047\u5230\u4e86\u6362\u884c\u7b26\u4e5f\u4e0d\u7ed3\u675f\u3002\u5176\u4e2d\u6362\u884c\u7b26\u6216\u56de\u8f66\u7b97\u4e00\u4e2a\u5b57\u7b26\u3002 -p\uff1a\u7ed9\u51fa\u63d0\u793a\u7b26\u3002\u9ed8\u8ba4\u4e0d\u652f\u6301\"\\n\"\u6362\u884c\uff0c\u8981\u6362\u884c\u9700\u8981\u7279\u6b8a\u5904\u7406\uff0c\u89c1\u4e0b\u6587\u793a\u4f8b\u3002\u4f8b\u5982\uff0c\"-p \u8bf7\u8f93\u5165\u5bc6\u7801\uff1a\" -r\uff1a\u7981\u6b62\u53cd\u659c\u7ebf\u7684\u8f6c\u4e49\u529f\u80fd\u3002\u8fd9\u610f\u5473\u7740\"\\\"\u4f1a\u53d8\u6210\u6587\u672c\u7684\u4e00\u90e8\u5206\u3002 -s\uff1a\u9759\u9ed8\u6a21\u5f0f\u3002\u8f93\u5165\u7684\u5185\u5bb9\u4e0d\u4f1a\u56de\u663e\u5728\u5c4f\u5e55\u4e0a\u3002 -t\uff1a\u7ed9\u51fa\u8d85\u65f6\u65f6\u95f4\uff0c\u5728\u8fbe\u5230\u8d85\u65f6\u65f6\u95f4\u65f6\uff0cread\u9000\u51fa\u5e76\u8fd4\u56de\u9519\u8bef\u3002\u4e5f\u5c31\u662f\u8bf4\u4e0d\u4f1a\u8bfb\u53d6\u4efb\u4f55\u5185\u5bb9\uff0c\u5373\u4f7f\u5df2\u7ecf\u8f93\u5165\u4e86\u4e00\u90e8\u5206\u3002 -u\uff1a\u4ece\u7ed9\u5b9a\u6587\u4ef6\u63cf\u8ff0\u7b26(fd=N)\u4e2d\u8bfb\u53d6\u6570\u636e\u3002 <pre><code>## **5. &amp;&gt;/dev/null\u8868\u793a\u7684\u610f\u601d**\n\n\u5728Linux/Unix\u4e2d\uff0c\u4e00\u822c\u5728\u5c4f\u5e55\u4e0a\u9762\u770b\u5230\u7684\u4fe1\u606f\u662f\u4ece**stdout (standard output)** \u6216\u8005 **stderr (standard error output)** \u6765\u7684\u3002\u8bb8\u591a\u4eba\u4f1a\u95ee\uff0coutput \u5c31\u662f output\uff0c\u9001\u5230\u5c4f\u5e55\u4e0a\u4e0d\u5c31\u5f97\u4e86\uff0c\u4e3a\u4ec0\u9ebc\u8fd8\u8981\u5206\u6210stdout \u548c stderr \u5462\uff1f\u90a3\u662f\u56e0\u4e3a\u901a\u5e38\u5728 server \u7684\u5de5\u4f5c\u73af\u5883\u4e0b\uff0c\u51e0\u4e4e\u6240\u6709\u7684\u7a0b\u5e8f\u90fd\u662f run \u5728 background \u7684\uff0c\u6240\u4ee5\u5462\uff0c\u4e3a\u4e86\u65b9\u4fbf debug\uff0c\u4e00\u822c\u5728\u8bbe\u8ba1\u7a0b\u5e8f\u65f6\uff0c\u5c31\u628a**stdout \u9001\u5230/\u5b58\u5230\u4e00\u4e2a\u6863\u6848\uff0c\u628a\u9519\u8bef\u7684\u4fe1\u606f stderr \u5b58\u5230\u4e0d\u540c\u7684\u6863\u6848\u3002**\n\n\u54ea\u4e9b\u662f\u6b63\u5e38\u7684output\u5462\uff0c\u4f8b\u5982\u7a0b\u5e8f\u5f00\u59cb\u8fd0\u884c\u7684\u65f6\u95f4\uff0c\u73b0\u5728\u6b63\u5728\u4e0a\u7ebf\u4eba\u6570\u7b49\u7b49\u3002\n\n\u54ea\u4e9b\u662f\u9519\u8bef\u7684output\u5462\uff0c\u4f8b\u5982\u65e0\u6cd5\u627e\u5230\u4f7f\u7528\u8005\u60f3\u8981\u53bb\u7684URL\uff0c\u6216\u8005\u4fe1\u7528\u5361\u8ba4\u8bc1\u5931\u8d25\u7b49\u7b49\u3002\n\n---\n\n`/dev/null` \u662f Unix/Linux \u91cc\u7684\u3010**\u65e0\u5e95\u6d1e**\u3011\n\n\u4efb\u4f55\u7684 output \u9001\u53bb\u4e86\u3010\u65e0\u5e95\u6d1e\u3011\u5c31\u518d\u4e5f\u6ca1\u4e86\u3002\u76f8\u4fe1\u6211\uff0c\u771f\u7684\u6ca1\u4e86\uff01\n\n\u90a3\u9ebc\u6709\u4eba\u95ee\uff0c\u5728\u4ec0\u9ebc\u60c5\u51b5\u4e0b\u8981\u628a output \u9001\u53bb\u8fd9\u65e0\u5e95\u6d1e\u5462\uff1f\u8fd9\u91cc\u6ca1\u6709\u6807\u51c6\u7b54\u6848\uff0c\u4e0d\u8fc7\u4e00\u822c\u5462\uff0c\u8981\u662f\u4f60\u4e0d\u60f3\u770b\u5230 output \u6216\u8005output \u592a\u591a\u592a\u5927\u4e86\uff0c\u6709\u53ef\u80fd\u628a\u786c\u789f\u7ed9\u6324\u7206\u4e86\u7684\u65f6\u5019\uff0c\u7a0b\u5e8f\u7684\u8bbe\u8ba1\u5c31\u4f1a\u8003\u8651\u628a output \u9001\u5230 /dev/null \u4e86\u3002\n\n---\n\n\u7528 /dev/null 2&gt;&amp;1 \u8fd9\u6837\u7684\u5199\u6cd5.\u8fd9\u6761\u547d\u4ee4\u7684\u610f\u601d\u662f\u5c06\u6807\u51c6\u8f93\u51fa\u548c\u9519\u8bef\u8f93\u51fa\u5168\u90e8\u91cd\u5b9a\u5411\u5230/dev/null\u4e2d,\u4e5f\u5c31\u662f\u5c06\u4ea7\u751f\u7684\u6240\u6709\u4fe1\u606f\u4e22\u5f03.\n\n   \u4e0b\u9762\u5c31\u4e3a\u5927\u5bb6\u6765\u8bf4\u4e00\u4e0b, **command &gt; file 2&gt;file**  \u4e0e**command &gt; file 2&gt;&amp;1** \u6709\u4ec0\u4e48\u4e0d\u540c\u7684\u5730\u65b9.\n\n\u200b      \u9996\u5148 **command &gt; file 2&gt;file** \u7684\u610f\u601d\u662f\u5c06\u547d\u4ee4\u6240\u4ea7\u751f\u7684\u6807\u51c6\u8f93\u51fa\u4fe1\u606f,\u548c\u9519\u8bef\u7684\u8f93\u51fa\u4fe1\u606f\u9001\u5230file\u4e2d **command  &gt; file 2&gt;file** \u8fd9\u6837\u7684\u5199\u6cd5,stdout\u548cstderr\u90fd\u76f4\u63a5\u9001\u5230file\u4e2d, file\u4f1a\u88ab\u6253\u5f00\u4e24\u6b21,\u8fd9\u6837stdout\u548cstderr\u4f1a\u4e92\u76f8\u8986\u76d6,\u8fd9\u6837\u5199\u76f8\u5f53\u4f7f\u7528\u4e86FD1\u548cFD2\u4e24\u4e2a\u540c\u65f6\u53bb\u62a2\u5360file \u7684\u7ba1\u9053.\n\n\u200b      \u800c**command &gt;file 2&gt;&amp;1** \u8fd9\u6761\u547d\u4ee4\u5c31\u5c06stdout\u76f4\u63a5\u9001\u5411file, stderr \u7ee7\u627f\u4e86FD1\u7ba1\u9053\u540e,\u518d\u88ab\u9001\u5f80file,\u6b64\u65f6,file \u53ea\u88ab\u6253\u5f00\u4e86\u4e00\u6b21,\u4e5f\u53ea\u4f7f\u7528\u4e86\u4e00\u4e2a\u7ba1\u9053FD1,\u5b83\u5305\u62ec\u4e86stdout\u548cstderr\u7684\u5185\u5bb9.\n\n\u200b      \u4eceIO\u6548\u7387\u4e0a,\u524d\u4e00\u6761\u547d\u4ee4\u7684\u6548\u7387\u8981\u6bd4\u540e\u9762\u4e00\u6761\u7684\u547d\u4ee4\u6548\u7387\u8981\u4f4e,\u6240\u4ee5\u5728\u7f16\u5199shell\u811a\u672c\u7684\u65f6\u5019,\u8f83\u591a\u7684\u65f6\u5019\u6211\u4eec\u4f1a\u7528**command &gt; file 2&gt;&amp;1** \u8fd9\u6837\u7684\u5199\u6cd5.\n\n\u5173\u4e8eshell\u4e2d\uff1a&gt;/dev/null 2&gt;&amp;1 \u8be6\u89e3\n\nshell\u4e2d\u53ef\u80fd\u7ecf\u5e38\u80fd\u770b\u5230\uff1a&gt;/dev/null 2&gt;&amp;1\n\n\u547d\u4ee4\u7684\u7ed3\u679c\u53ef\u4ee5\u901a\u8fc7%&gt;\u7684\u5f62\u5f0f\u6765\u5b9a\u4e49\u8f93\u51fa\n\n\u5206\u89e3\u8fd9\u4e2a\u7ec4\u5408\uff1a\u201c&gt;/dev/null 2&gt;&amp;1\u201d \u4e3a\u4e94\u90e8\u5206\u3002\n\n1\uff1a&gt; \u4ee3\u8868\u91cd\u5b9a\u5411\u5230\u54ea\u91cc\uff0c\u4f8b\u5982\uff1aecho \"123\" &gt; /home/123.txt\n2\uff1a/dev/null \u4ee3\u8868\u7a7a\u8bbe\u5907\u6587\u4ef6\n3\uff1a2&gt; \u8868\u793astderr\u6807\u51c6\u9519\u8bef\n4\uff1a&amp; \u8868\u793a\u7b49\u540c\u4e8e\u7684\u610f\u601d\uff0c2&gt;&amp;1\uff0c\u8868\u793a2\u7684\u8f93\u51fa\u91cd\u5b9a\u5411\u7b49\u540c\u4e8e1\n5\uff1a1 \u8868\u793astdout\u6807\u51c6\u8f93\u51fa\uff0c\u7cfb\u7edf\u9ed8\u8ba4\u503c\u662f1\uff0c**\u6240\u4ee5\"&gt;/dev/null\"\u7b49\u540c\u4e8e \"1&gt;/dev/null\"**\n\n\u56e0\u6b64\uff0c**&gt;/dev/null 2&gt;&amp;1\u4e5f\u53ef\u4ee5\u5199\u6210\u201c1&gt; /dev/null 2&gt; &amp;1\u201d**\n\n\u90a3\u4e48\u672c\u6587\u6807\u9898\u7684\u8bed\u53e5\u6267\u884c\u8fc7\u7a0b\u4e3a\uff1a\n1&gt;/dev/null \uff1a\u9996\u5148\u8868\u793a\u6807\u51c6\u8f93\u51fa\u91cd\u5b9a\u5411\u5230\u7a7a\u8bbe\u5907\u6587\u4ef6\uff0c\u4e5f\u5c31\u662f\u4e0d\u8f93\u51fa\u4efb\u4f55\u4fe1\u606f\u5230\u7ec8\u7aef\uff0c\u8bf4\u767d\u4e86\u5c31\u662f\u4e0d\u663e\u793a\u4efb\u4f55\u4fe1\u606f\u3002\n2&gt;&amp;1 \uff1a\u63a5\u7740\uff0c\u6807\u51c6\u9519\u8bef\u8f93\u51fa\u91cd\u5b9a\u5411 \u5230\u6807\u51c6\u8f93\u51fa\uff0c\u56e0\u4e3a\u4e4b\u524d\u6807\u51c6\u8f93\u51fa\u5df2\u7ecf\u91cd\u5b9a\u5411\u5230\u4e86\u7a7a\u8bbe\u5907\u6587\u4ef6\uff0c\u6240\u4ee5\u6807\u51c6\u9519\u8bef\u8f93\u51fa\u4e5f\u91cd\u5b9a\u5411\u5230\u7a7a\u8bbe\u5907\u6587\u4ef6\u3002\n\n\n\n## 6.userdel \u5220\u9664\u7528\u6237\n\n`userdel -r`   \u5220\u9664\u7528\u6237\u53ca\u5176\u4e3b\u76ee\u5f55\n\n\n\n## 7. mkdir\n\n```shell\n-m=mode    \u4e3a\u76ee\u5f55\u6307\u5b9a\u8bbf\u95ee\u6743\u9650\uff0c\u4e0echmod\u7c7b\u4f3c\u3002\n\n-p\u3000\u3000\u5982\u679c\u76ee\u5f55\u5df2\u7ecf\u5b58\u5728\uff0c\u5219\u4e0d\u4f1a\u6709\u9519\u8bef\u63d0\u793a\u3002\u82e5\u7236\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u5c06\u4f1a\u521b\u5efa\u7236\u76ee\u5f55\u3002\u8be5\u9009\u9879\u5e38\u7528\u4e8e\u521b\u5efa\u7ea7\u8054\u76ee\u5f55\u3002\n\n-v\u3000\u3000\u4e3a\u6bcf\u4e2a\u76ee\u5f55\u663e\u793a\u63d0\u793a\u4fe1\u606f\u3002\n</code></pre></p>"},{"location":"LINUX/shell/sth/#8","title":"8. \u63a7\u5236\u8fd4\u56de\u503c","text":"<pre><code>exit number\nnumber\u5c31\u662f\u8bbe\u7f6e\u7684\u8fd4\u56de\u503c\n</code></pre>"},{"location":"LINUX/shell/sth/#9","title":"9. \u83b7\u53d6\u5b57\u7b26\u4e32\u957f\u5ea6","text":"<pre><code>\u65b9\u6cd51: \u4f7f\u7528wc -L\u547d\u4ee4\nwc -L\u53ef\u4ee5\u83b7\u53d6\u5230\u5f53\u524d\u884c\u7684\u957f\u5ea6\uff0c\u56e0\u6b64\u5bf9\u4e8e\u5355\u72ec\u884c\u7684\u5b57\u7b26\u4e32\u53ef\u4ee5\u7528\u8fd9\u4e2a\u7b80\u5355\u7684\u65b9\u6cd5\u83b7\u53d6\uff0c\u53e6\u5916wc -l\u5219\u662f\u83b7\u53d6\u5f53\u524d\u5b57\u7b26\u4e32\u5185\u5bb9\u7684\u884c\u6570\u3002\n\u4ee3\u7801\u5982\u4e0b:\necho \"abc\" |wc -L\n\n\u65b9\u6cd52: expr length string\n\u4f7f\u7528expr length\u53ef\u4ee5\u83b7\u53d6string\u7684\u957f\u5ea6\n\n\u65b9\u6cd53: awk\u83b7\u53d6\u57df\u7684\u4e2a\u6570\uff0c\u4f46\u662f\u5982\u679c\u5927\u4e8e10\u4e2a\u5b57\u7b26\u7684\u957f\u5ea6\u65f6\u662f\u5426\u5b58\u5728\u95ee\u9898\u9700\u8981\u540e\u9762\u786e\u8ba4\n\u4ee3\u7801\u5982\u4e0b:\necho \"abc\" |awk -F \"\" '{print NF}'\n\n\u65b9\u6cd54: \u901a\u8fc7awk+length\u7684\u65b9\u5f0f\u83b7\u53d6\u5b57\u7b26\u4e32\u957f\u5ea6\n\u4ee3\u7801\u5982\u4e0b:\necho \u201cAlex\u201d|awk '{print length($0)}'\n\n\u65b9\u6cd55: \u901a\u8fc7echo ${#string}\u7684\u65b9\u5f0f\uff08\u6ce8\u610f\uff1a\u8fd9\u91cc\u7684string\u662f\u8be5\u5b57\u7b26\u4e32\u7684\u53d8\u91cf\u540d\uff09\n\u4ee3\u7801\u5982\u4e0b:\nname=Alex\necho ${#name}\n</code></pre>"},{"location":"LINUX/shell/sth/#10tee","title":"10.<code>tee</code>\u628a\u8f93\u51fa\u8ffd\u52a0\u5230\u6587\u4ef6","text":"<p>Linux tee\u547d\u4ee4\u7528\u4e8e\u8bfb\u53d6\u6807\u51c6\u8f93\u5165\u7684\u6570\u636e\uff0c\u5e76\u5c06\u5176\u5185\u5bb9\u8f93\u51fa\u6210\u6587\u4ef6\u3002</p> <p>tee\u6307\u4ee4\u4f1a\u4ece\u6807\u51c6\u8f93\u5165\u8bbe\u5907\u8bfb\u53d6\u6570\u636e\uff0c\u5c06\u5176\u5185\u5bb9\u8f93\u51fa\u5230\u6807\u51c6\u8f93\u51fa\u8bbe\u5907\uff0c\u540c\u65f6\u4fdd\u5b58\u6210\u6587\u4ef6\u3002</p>"},{"location":"LINUX/shell/sth/#_1","title":"\u8bed\u6cd5","text":"<pre><code>tee [-ai][--help][--version][\u6587\u4ef6...]\n</code></pre> <p>\u53c2\u6570\uff1a</p> <ul> <li>-a\u6216--append \u3000\u8ffd\u52a0\uff0c\u800c\u975e\u8986\u76d6\u5b83\uff0e</li> <li>-i\u6216--ignore-interrupts \u3000\u5ffd\u7565\u4e2d\u65ad\u4fe1\u53f7\u3002</li> <li>--help \u3000\u5728\u7ebf\u5e2e\u52a9\u3002</li> <li>--version \u3000\u663e\u793a\u7248\u672c\u4fe1\u606f\u3002</li> </ul> <pre><code>#!\u540c\u65f6\u4fdd\u5b58\u5230\u6587\u4ef6\"file1\"\u548c\"file2\"\u4e2d\n$ tee file1 file2          \n</code></pre>"},{"location":"LINUX/shell/sth/#11time","title":"11.time\u547d\u4ee4\u8ba1\u7b97\u8017\u65f6","text":"<p>\u4efb\u4f55\u547d\u4ee4\u3001\u811a\u672c\u524d\u90fd\u53ef\u4ee5\u52a0<code>time</code>\u547d\u4ee4,\u6765\u67e5\u770b\u8017\u65f6</p> <pre><code>[root@Xuan shell-works]$ time ls\nadd_table_cbp.sh  disk_cbp.sh  test.sh  user.sh  yum_config.sh\n\nreal    0m0.002s\nuser    0m0.000s\nsys 0m0.002s\n</code></pre>"},{"location":"LINUX/shell/sth/#12seq","title":"12.seq\u8f93\u51fa\u6570\u5b57\u5e8f\u5217","text":"<p>\u53c2\u6570</p> <ul> <li>-s   \u6307\u5b9a\u5206\u9694\u7b26\uff0c\u9ed8\u8ba4\u5206\u9694\u7b26\u662f\\n</li> <li>-w   \u4f7f\u75280\u586b\u5145\u5de6\u8fb9\u8fbe\u5230\u6240\u6709\u7684\u6570\u5b57\u957f\u5ea6\u4e00\u6837</li> </ul> <pre><code>seq 5\n1\n2\n3\n4\n5\n</code></pre>"},{"location":"LINUX/shell/sth/#13-let","title":"13. \u547d\u4ee4\uff1alet\u8ba1\u7b97\u5de5\u5177","text":"<p>let \u547d\u4ee4\u662f BASH \u4e2d\u7528\u4e8e\u8ba1\u7b97\u7684\u5de5\u5177\uff0c\u7528\u4e8e\u6267\u884c\u4e00\u4e2a\u6216\u591a\u4e2a\u8868\u8fbe\u5f0f\uff0c\u53d8\u91cf\u8ba1\u7b97\u4e2d\u4e0d\u9700\u8981\u52a0\u4e0a $ \u6765\u8868\u793a\u53d8\u91cf\u3002\u5982\u679c\u8868\u8fbe\u5f0f\u4e2d\u5305\u542b\u4e86\u7a7a\u683c\u6216\u5176\u4ed6\u7279\u6b8a\u5b57\u7b26\uff0c\u5219\u5fc5\u987b\u5f15\u8d77\u6765\u3002</p> <p>\u8bed\u6cd5\u683c\u5f0f</p> <pre><code>let arg [arg ...]\n</code></pre> <p>\u53c2\u6570\u8bf4\u660e\uff1a</p> <p>arg\uff1a\u8981\u6267\u884c\u7684\u8868\u8fbe\u5f0f</p> <p>\u5b9e\u4f8b\uff1a</p> <p>\u81ea\u52a0\u64cd\u4f5c\uff1alet no++</p> <p>\u81ea\u51cf\u64cd\u4f5c\uff1alet no--</p> <p>\u7b80\u5199\u5f62\u5f0f let no+=10\uff0clet no-=20\uff0c\u5206\u522b\u7b49\u540c\u4e8e let no=no+10\uff0clet no=no-20\u3002</p>"},{"location":"LINUX/shell/sth/#linux-top","title":"linux top\u547d\u4ee4","text":"<p>VIRT\uff1avirtual memory usage \u865a\u62df\u5185\u5b581\u3001\u8fdb\u7a0b\u201c\u9700\u8981\u7684\u201d\u865a\u62df\u5185\u5b58\u5927\u5c0f\uff0c\u5305\u62ec\u8fdb\u7a0b\u4f7f\u7528\u7684\u5e93\u3001\u4ee3\u7801\u3001\u6570\u636e\u7b49 2\u3001\u5047\u5982\u8fdb\u7a0b\u7533\u8bf7100m\u7684\u5185\u5b58\uff0c\u4f46\u5b9e\u9645\u53ea\u4f7f\u7528\u4e8610m\uff0c\u90a3\u4e48\u5b83\u4f1a\u589e\u957f100m\uff0c\u800c\u4e0d\u662f\u5b9e\u9645\u7684\u4f7f\u7528\u91cf</p> <p>RES\uff1aresident memory usage \u5e38\u9a7b\u5185\u5b58 1\u3001\u8fdb\u7a0b\u5f53\u524d\u4f7f\u7528\u7684\u5185\u5b58\u5927\u5c0f\uff0c\u4f46\u4e0d\u5305\u62ecswap out 2\u3001\u5305\u542b\u5176\u4ed6\u8fdb\u7a0b\u7684\u5171\u4eab 3\u3001\u5982\u679c\u7533\u8bf7100m\u7684\u5185\u5b58\uff0c\u5b9e\u9645\u4f7f\u752810m\uff0c\u5b83\u53ea\u589e\u957f10m\uff0c\u4e0eVIRT\u76f8\u53cd 4\u3001\u5173\u4e8e\u5e93\u5360\u7528\u5185\u5b58\u7684\u60c5\u51b5\uff0c\u5b83\u53ea\u7edf\u8ba1\u52a0\u8f7d\u7684\u5e93\u6587\u4ef6\u6240\u5360\u5185\u5b58\u5927\u5c0f</p> <p>SHR\uff1ashared memory \u5171\u4eab\u5185\u5b58 1\u3001\u9664\u4e86\u81ea\u8eab\u8fdb\u7a0b\u7684\u5171\u4eab\u5185\u5b58\uff0c\u4e5f\u5305\u62ec\u5176\u4ed6\u8fdb\u7a0b\u7684\u5171\u4eab\u5185\u5b58 2\u3001\u867d\u7136\u8fdb\u7a0b\u53ea\u4f7f\u7528\u4e86\u51e0\u4e2a\u5171\u4eab\u5e93\u7684\u51fd\u6570\uff0c\u4f46\u5b83\u5305\u542b\u4e86\u6574\u4e2a\u5171\u4eab\u5e93\u7684\u5927\u5c0f 3\u3001\u8ba1\u7b97\u67d0\u4e2a\u8fdb\u7a0b\u6240\u5360\u7684\u7269\u7406\u5185\u5b58\u5927\u5c0f\u516c\u5f0f\uff1aRES \u2013 SHR 4\u3001swap out\u540e\uff0c\u5b83\u5c06\u4f1a\u964d\u4e0b\u6765</p> <p>DATA 1\u3001\u6570\u636e\u5360\u7528\u7684\u5185\u5b58\u3002\u5982\u679ctop\u6ca1\u6709\u663e\u793a\uff0c\u6309f\u952e\u53ef\u4ee5\u663e\u793a\u51fa\u6765\u3002 2\u3001\u771f\u6b63\u7684\u8be5\u7a0b\u5e8f\u8981\u6c42\u7684\u6570\u636e\u7a7a\u95f4\uff0c\u662f\u771f\u6b63\u5728\u8fd0\u884c\u4e2d\u8981\u4f7f\u7528\u7684\u3002</p> <p>top \u8fd0\u884c\u4e2d\u53ef\u4ee5\u901a\u8fc7 top \u7684\u5185\u90e8\u547d\u4ee4\u5bf9\u8fdb\u7a0b\u7684\u663e\u793a\u65b9\u5f0f\u8fdb\u884c\u63a7\u5236\u3002\u5185\u90e8\u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code>s \u2013 \u6539\u53d8\u753b\u9762\u66f4\u65b0\u9891\u7387\nl \u2013 \u5173\u95ed\u6216\u5f00\u542f\u7b2c\u4e00\u90e8\u5206\u7b2c\u4e00\u884c top \u4fe1\u606f\u7684\u8868\u793a\nt \u2013 \u5173\u95ed\u6216\u5f00\u542f\u7b2c\u4e00\u90e8\u5206\u7b2c\u4e8c\u884c Tasks \u548c\u7b2c\u4e09\u884c Cpus \u4fe1\u606f\u7684\u8868\u793a\nm \u2013 \u5173\u95ed\u6216\u5f00\u542f\u7b2c\u4e00\u90e8\u5206\u7b2c\u56db\u884c Mem \u548c \u7b2c\u4e94\u884c Swap \u4fe1\u606f\u7684\u8868\u793a\nN \u2013 \u4ee5 PID \u7684\u5927\u5c0f\u7684\u987a\u5e8f\u6392\u5217\u8868\u793a\u8fdb\u7a0b\u5217\u8868\nP \u2013 \u4ee5 CPU \u5360\u7528\u7387\u5927\u5c0f\u7684\u987a\u5e8f\u6392\u5217\u8fdb\u7a0b\u5217\u8868\nM \u2013 \u4ee5\u5185\u5b58\u5360\u7528\u7387\u5927\u5c0f\u7684\u987a\u5e8f\u6392\u5217\u8fdb\u7a0b\u5217\u8868\nh \u2013 \u663e\u793a\u5e2e\u52a9\nn \u2013 \u8bbe\u7f6e\u5728\u8fdb\u7a0b\u5217\u8868\u6240\u663e\u793a\u8fdb\u7a0b\u7684\u6570\u91cf\nq \u2013 \u9000\u51fa top\ns \u2013 \u6539\u53d8\u753b\u9762\u66f4\u65b0\u5468\u671f\n</code></pre> <pre><code>\u5e8f\u53f7 \u5217\u540d \u542b\u4e49\na PID \u8fdb\u7a0bid\nb PPID \u7236\u8fdb\u7a0bid\nc RUSER Real user name\nd UID \u8fdb\u7a0b\u6240\u6709\u8005\u7684\u7528\u6237id\ne USER \u8fdb\u7a0b\u6240\u6709\u8005\u7684\u7528\u6237\u540d\nf GROUP \u8fdb\u7a0b\u6240\u6709\u8005\u7684\u7ec4\u540d\ng TTY \u542f\u52a8\u8fdb\u7a0b\u7684\u7ec8\u7aef\u540d\u3002\u4e0d\u662f\u4ece\u7ec8\u7aef\u542f\u52a8\u7684\u8fdb\u7a0b\u5219\u663e\u793a\u4e3a ?\nh PR \u4f18\u5148\u7ea7\ni NI nice\u503c\u3002\u8d1f\u503c\u8868\u793a\u9ad8\u4f18\u5148\u7ea7\uff0c\u6b63\u503c\u8868\u793a\u4f4e\u4f18\u5148\u7ea7\nj P \u6700\u540e\u4f7f\u7528\u7684CPU\uff0c\u4ec5\u5728\u591aCPU\u73af\u5883\u4e0b\u6709\u610f\u4e49\nk %CPU \u4e0a\u6b21\u66f4\u65b0\u5230\u73b0\u5728\u7684CPU\u65f6\u95f4\u5360\u7528\u767e\u5206\u6bd4\nl TIME \u8fdb\u7a0b\u4f7f\u7528\u7684CPU\u65f6\u95f4\u603b\u8ba1\uff0c\u5355\u4f4d\u79d2\nm TIME+ \u8fdb\u7a0b\u4f7f\u7528\u7684CPU\u65f6\u95f4\u603b\u8ba1\uff0c\u5355\u4f4d1/100\u79d2\nn %MEM \u8fdb\u7a0b\u4f7f\u7528\u7684\u7269\u7406\u5185\u5b58\u767e\u5206\u6bd4\no VIRT \u8fdb\u7a0b\u4f7f\u7528\u7684\u865a\u62df\u5185\u5b58\u603b\u91cf\uff0c\u5355\u4f4dkb\u3002VIRT=SWAP+RES\np SWAP \u8fdb\u7a0b\u4f7f\u7528\u7684\u865a\u62df\u5185\u5b58\u4e2d\uff0c\u88ab\u6362\u51fa\u7684\u5927\u5c0f\uff0c\u5355\u4f4dkb\u3002\nq RES \u8fdb\u7a0b\u4f7f\u7528\u7684\u3001\u672a\u88ab\u6362\u51fa\u7684\u7269\u7406\u5185\u5b58\u5927\u5c0f\uff0c\u5355\u4f4dkb\u3002RES=CODE+DATA\nr CODE \u53ef\u6267\u884c\u4ee3\u7801\u5360\u7528\u7684\u7269\u7406\u5185\u5b58\u5927\u5c0f\uff0c\u5355\u4f4dkb\ns DATA \u53ef\u6267\u884c\u4ee3\u7801\u4ee5\u5916\u7684\u90e8\u5206(\u6570\u636e\u6bb5+\u6808)\u5360\u7528\u7684\u7269\u7406\u5185\u5b58\u5927\u5c0f\uff0c\u5355\u4f4dkb\nt SHR \u5171\u4eab\u5185\u5b58\u5927\u5c0f\uff0c\u5355\u4f4dkb\nu nFLT \u9875\u9762\u9519\u8bef\u6b21\u6570\nv nDRT \u6700\u540e\u4e00\u6b21\u5199\u5165\u5230\u73b0\u5728\uff0c\u88ab\u4fee\u6539\u8fc7\u7684\u9875\u9762\u6570\u3002\nw S \u8fdb\u7a0b\u72b6\u6001\u3002\uff08D=\u4e0d\u53ef\u4e2d\u65ad\u7684\u7761\u7720\u72b6\u6001\uff0cR=\u8fd0\u884c\uff0cS=\u7761\u7720\uff0cT=\u8ddf\u8e2a/\u505c\u6b62\uff0cZ=\u50f5\u5c38\u8fdb\u7a0b\uff09\nx COMMAND \u547d\u4ee4\u540d/\u547d\u4ee4\u884c\ny WCHAN \u82e5\u8be5\u8fdb\u7a0b\u5728\u7761\u7720\uff0c\u5219\u663e\u793a\u7761\u7720\u4e2d\u7684\u7cfb\u7edf\u51fd\u6570\u540d\nz Flags \u4efb\u52a1\u6807\u5fd7\uff0c\u53c2\u8003 sched.h\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4ec5\u663e\u793a\u6bd4\u8f83\u91cd\u8981\u7684 PID\u3001USER\u3001PR\u3001NI\u3001VIRT\u3001RES\u3001SHR\u3001S\u3001%CPU\u3001%MEM\u3001TIME+\u3001COMMAND \u5217\u3002\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u5feb\u6377\u952e\u6765\u66f4\u6539\u663e\u793a\u5185\u5bb9\u3002\n\n\u901a\u8fc7 f \u952e\u53ef\u4ee5\u9009\u62e9\u663e\u793a\u7684\u5185\u5bb9\u3002\u6309 f \u952e\u4e4b\u540e\u4f1a\u663e\u793a\u5217\u7684\u5217\u8868\uff0c\u6309 a-z \u5373\u53ef\u663e\u793a\u6216\u9690\u85cf\u5bf9\u5e94\u7684\u5217\uff0c\u6700\u540e\u6309\u56de\u8f66\u952e\u786e\u5b9a\u3002\n\u6309 o \u952e\u53ef\u4ee5\u6539\u53d8\u5217\u7684\u663e\u793a\u987a\u5e8f\u3002\u6309\u5c0f\u5199\u7684 a-z \u53ef\u4ee5\u5c06\u76f8\u5e94\u7684\u5217\u5411\u53f3\u79fb\u52a8\uff0c\u800c\u5927\u5199\u7684 A-Z \u53ef\u4ee5\u5c06\u76f8\u5e94\u7684\u5217\u5411\u5de6\u79fb\u52a8\u3002\u6700\u540e\u6309\u56de\u8f66\u952e\u786e\u5b9a\u3002\n\u6309\u5927\u5199\u7684 F \u6216 O \u952e\uff0c\u7136\u540e\u6309 a-z \u53ef\u4ee5\u5c06\u8fdb\u7a0b\u6309\u7167\u76f8\u5e94\u7684\u5217\u8fdb\u884c\u6392\u5e8f\u3002\u800c\u5927\u5199\u7684 R \u952e\u53ef\u4ee5\u5c06\u5f53\u524d\u7684\u6392\u5e8f\u5012\u8f6c\u3002\n</code></pre>"},{"location":"LINUX/shell/sth/#14","title":"14 \u6587\u4ef6\u78c1\u76d8\u64cd\u4f5c","text":""},{"location":"LINUX/shell/sth/#58","title":"5.8\u65e5 \u66f4\u6539\u6587\u4ef6\u6743\u9650,\u6587 \u4ef6\u9884\u8bbe\u6743\u9650","text":"<ul> <li>alias\u6307\u5b9a\u7ec8\u7aef\u7684\u5feb\u6377\u952e(\u53ea\u6709\u5f53\u524d\u7a97\u53e3\u6709\u7528)</li> </ul> <p><code>alias \u5feb\u6377\u952e=\"\u547d\u4ee4\"</code></p> <ul> <li>\u6587\u4ef6\u6743\u9650rwx \u5bf9\u5e94421</li> </ul> \u539f\u59cb\u6743\u9650 \u8f6c\u6362\u4e3a\u6570\u5b57 \u6570\u5b57\u8868\u793a\u6cd5 rwxrwxr-x (421) (421) (401) 775 rwxr-xr-x (421) (401) (401) 755 rw-rw-r-- (420) (420) (400) 664 rw-r-r-- (420) (400) (400) 644 <ul> <li> <p>1.\u66f4\u6539\u6587\u4ef6\u6743\u9650</p> </li> <li> <p>\u65b9\u6cd51: <code>chmod \u6570\u5b57\u8868\u793a\u6cd5 \u6587\u4ef6</code></p> </li> <li>\u65b9\u6cd52:<code>chmod u=rw,g=rw,o=r \u6587\u4ef6\u540d</code></li> <li> <p><code>chmod a=rw \u6587\u4ef6\u540d</code>\u53ef\u4ee5\u5c06\u6240\u6709\u4eba\u90fd\u8bbe\u7f6e\u4e3arw\u6743\u9650</p> </li> <li> <p>2.\u6587\u4ef6\u7684\u7279\u6b8a\u6743\u9650(SUID\u6743\u9650 )</p> </li> <li> <p>\u7279\u6b8a\u6743\u9650<code>chmod u+s \u6587\u4ef6\u540d</code></p> </li> <li> <p><code>chmod 6664 \u6587\u4ef6\u540d</code>\u6743\u9650\u663e\u793a\u4e3a:-rwSrwSr-- </p> </li> <li> <p>3.\u6587\u4ef6\u9884\u8bbe\u6743\u9650: umask</p> </li> <li> <p><code>umask</code> \u9ed8\u8ba4\u662f\u53bb\u6389\u6743\u9650</p> </li> <li><code>umask 022</code>\u8868\u793a\u4e3a: \u53bb\u6389<code>w</code>\u6743\u9650</li> <li>\u6ce8\u610f: **\u7528\u6587\u4ef6\u9ed8\u8ba4\u5c5e\u6027666** \u4e0e\u76ee\u5f55\u9ed8\u8ba4\u5c5e\u6027777\u6765\u4e0eumask\u76f8\u52a0\u51cf\u662f\u4e0d\u5bf9\u7684.  \u6bd4\u5982: 666-003=663\u5373-rw-rw--wx \u539f\u672c\u7684\u6587\u4ef6\u662f\u6ca1\u6709\u9ed8\u8ba4\u6743\u9650<code>x</code>\u7684, \u4f46\u662f\u8fd9\u91cc\u5c31\u591a\u4e86<code>x</code>\u6743\u9650</li> </ul>"},{"location":"LINUX/shell/sth/#_2","title":"** \u6587\u4ef6\u9690\u85cf\u5c5e\u6027,\u7279\u6b8a\u6743\u9650**","text":"<ul> <li>\u6587\u4ef6\u9690\u85cf\u5c5e\u6027(p82) :</li> </ul> <p>1.chattr: \u6539\u53d8\u6587\u4ef6\u5c5e\u6027</p> <ul> <li>\u8bed\u6cd5: <code>chattr [-RV][-v&lt;\u7248\u672c\u53f7&gt;][+/-/+&lt;\u5c5e\u6027][\u6587\u4ef6\u76ee\u5f55]</code></li> <li>\u5e38\u7528\u547d\u4ee4<code>chattr +a \u6587\u4ef6\u540d</code>: \u53ea\u5141\u8bb8\u5728\u8fd9\u4e2a\u6587\u4ef6\u540e\u8ffd\u52a0\u6570\u636e,\u4e0d\u5141\u8bb8\u4efb\u4f55\u8fdb\u7a0b\u8986\u76d6\u6216\u622a\u65ad\u8fd9\u4e2a\u6587\u4ef6. \u5982\u679c\u76ee\u5f55\u5177\u6709\u8fd9\u4e2a\u5c5e\u6027, \u7cfb\u7edf\u53ea\u5141\u8bb8\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u5efa\u7acb\u548c\u4fee\u6539\u6587\u4ef6, \u800c\u4e0d\u5141\u8bb8\u5220\u9664\u4efb\u4f55\u6587\u4ef6</li> <li> <p><code>chattr +i \u6587\u4ef6\u540d</code> : \u4e0d\u5f97\u4efb\u610f\u6539\u52a8\u6587\u4ef6\u548c\u76ee\u5f55</p> </li> <li> <p>**chattr\u53c2\u6570: **</p> </li> <li> <p><code>-R</code>: \u9012\u5f52\u5904\u7406,\u5c06\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u7684\u5b50\u6587\u4ef6\u4e00\u5e76\u5904\u7406</p> </li> <li><code>-v&lt;\u7248\u672c\u53f7&gt;</code>: \u8bbe\u7f6e\u6587\u4ef6\u6216\u76ee\u5f55\u7248\u672c</li> <li><code>+&lt;\u5c5e\u6027&gt;</code>: \u5f00\u542f\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u8be5\u9879\u5c5e\u6027</li> <li><code>-&lt;\u5c5e\u6027&gt;</code>: \u5173\u95ed\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u8be5\u9879\u5c5e\u6027</li> <li> <p><code>=&lt;\u5c5e\u6027&gt;</code>: \u6307\u5b9a\u6587\u4ef6\u6216\u76ee\u5f55\u7684\u8be5\u9879\u5c5e\u6027 </p> </li> <li> <p>2.lsattr: \u663e\u793a\u6587\u4ef6\u9690\u85cf\u5c5e\u6027</p> </li> <li> <p>\u8bed\u6cd5: <code>lsattr [-adR] \u6587\u4ef6\u6216\u76ee\u5f55</code></p> </li> <li> <p>\u53c2\u6570:  <code>-a</code>: \u5c06\u9690\u85cf\u7684\u6587\u4ef6\u7684\u5c5e\u6027\u4e5f\u663e\u793a\u51fa\u6765</p> <p><code>-d</code>: \u5982\u679c\u8fde\u63a5\u7684\u662f\u76ee\u5f55, \u4ec5\u5217\u51fa\u76ee\u5f55\u672c\u8eab\u7684\u5c5e\u6027,\u800c\u975e\u76ee\u5f55\u5185\u7684\u6587\u4ef6\u540d</p> <p><code>-R</code>: \u8fde\u5b50\u76ee\u5f55\u7684\u6570\u636e\u4e5f\u4e00\u5e76\u5217\u51fa\u6765</p> </li> <li> <p>\u6587\u4ef6\u7684\u7279\u6b8a\u6743\u9650:(SUID  SGID  SBIT) \u4e09\u4e2a\u5206\u522b\u5bf9\u5e94<code>4 2 1</code>  \u8bbe\u4e3a<code>0</code>\u5c31\u662f\u65e0</p> </li> </ul> <p><code>SUID</code>\u7684\u9650\u5236\u4e0e\u529f\u80fd:</p> <ul> <li>\u4e00\u822c\u663e\u793a\u4e3a<code>s \u6216 S</code></li> <li>SUID \u6743\u9650\u4ec5\u5bf9\u4e8c\u8fdb\u5236\u7a0b\u5e8f(\u547d\u4ee4\u7aef)\u6709\u6548</li> <li>\u6267\u884c\u8005\u4e8e\u8be5\u7a0b\u5e8f\u9700\u8981\u6709<code>x</code>\u7684\u53ef\u6267\u884c\u6743\u9650</li> <li>\u672c\u6743\u9650\u4ec5\u5728\u6267\u884c\u8be5\u7a0b\u5e8f\u8fc7\u7a0b\u4e2d\u6709\u6548</li> <li>\u6267\u884c\u8005\u5c06\u5177\u6709\u8be5\u7a0b\u5e8f\u62e5\u6709\u8005(root)\u7684\u6743\u9650</li> </ul> <p><code>SGID</code> :\u8bbe\u7f6e\u5728\u6587\u4ef6\u4e0a\u9762,\u6548\u679c\u4e0eSUID\u76f8\u540c,\u53ea\u4e0d\u8fc7\u5c06\u6587\u4ef6\u6240\u6709\u8005\u6362\u6210\u7528\u6237\u7ec4</p> <p><code>SBID</code>: \u53ea\u5bf9\u76ee\u5f55\u6709\u6548</p> <ul> <li>\u5c31\u662f\u81ea\u5df1\u5728\u8be5\u76ee\u5f55\u4e0b\u521b\u5efa\u7684\u6587\u4ef6,\u53ea\u6709\u81ea\u5df1\u80fd\u79fb\u52a8, \u5220\u9664, \u66f4\u540d. \u522b\u4eba\u65e0\u6cd5\u5220\u9664, \u4e5f\u65e0\u6cd5\u5220\u9664\u522b\u4eba\u7684\u6587\u4ef6 </li> </ul>"},{"location":"LINUX/shell/sth/#15","title":"15 \u914d\u7f6e\u4e0e\u7ba1\u7406\u78c1\u76d8","text":"<ul> <li>1.fdisk:</li> </ul> <p>\u547d\u4ee4:</p> <p><code>fdisk /dev/sdb</code>: \u6253\u5f00<code>fdisk</code>\u547d\u4ee4\u64cd\u4f5c\u754c\u9762</p> \u547d\u4ee4 \u529f\u80fd \u547d\u4ee4 \u529f\u80fd a \u8c03\u6574\u786c\u76d8\u542f\u52a8\u5206\u533a q \u4e0d\u4fdd\u5b58\u9000\u51fa d \u5220\u9664\u786c\u76d8\u5206\u533a t \u66f4\u6539\u5206\u533a\u7c7b\u578b l \u5217\u51fa\u6240\u6709\u652f\u6301\u7684\u5206\u533a\u7c7b\u578b u \u5207\u6362\u6240\u663e\u793a\u7684\u5206\u533a\u5927\u5c0f\u5355\u4f4d m \u5217\u51fa\u6240\u6709\u547d\u4ee4 w \u628a\u4fee\u6539\u5199\u5165\u7136\u540e\u9000\u51fa n \u521b\u5efa\u65b0\u5206\u533a x \u5217\u51fa\u9ad8\u7ea7\u9009\u9879 p \u5217\u51fa\u786c\u76d8\u5217\u8868 <ul> <li>2.mkfs: \u683c\u5f0f\u5316\u786c\u76d8</li> </ul> <p>\u547d\u4ee4\u683c\u5f0f: <code>mkfs [\u53c2\u6570] \u6587\u4ef6\u65b0\u7cfb\u7edf</code></p> <p>\u5e38\u7528\u547d\u4ee4: <code>-t</code>:\u6307\u5b9a\u8981\u521b\u5efa\u7684\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b</p> <p>\u200b                  <code>-c</code>: \u5efa\u7acb\u6587\u4ef6\u7cfb\u7edf\u524d\u9996\u5148\u68c0\u67e5\u574f\u5757</p> <p>\u200b                  <code>-l</code>: \u4ece\u6587\u4ef6file \u4e2d\u8bfb\u53d6\u78c1\u76d8\u574f\u5757\u5217\u8868, file\u6587\u4ef6\u4e00\u822c\u662f\u7531\u5438\u76d8\u574f\u5757\u68c0\u67e5\u7a0b\u5e8f\u4ea7\u751f\u7684</p> <p>\u200b                   <code>-V</code>: \u8f93\u51fa\u5efa\u7acb\u6587\u4ef6\u7cfb\u7edf\u8be6\u7ec6\u4fe1\u606f</p> <p>##### \u683c\u5f0f\u5316\u4ee3\u7801\u6f14\u793a:</p> <p>###### 2.1 \u5bf9\u8f6f\u76d8\u683c\u5f0f\u5316: <code>mkfs -t ext3 -V -c /dev/sdb1</code></p> <p>###### 2.2 \u7528<code>badblock</code>\u547d\u4ee4\u68c0\u67e5\u574f\u5757, \u628a\u4fe1\u606f\u5b58\u50a8\u5230<code>badblock-fd0</code>\u4e2d: <code>badblock /dev/fd0  1440&gt;badblock-fd0</code></p> <p>###### 2.3 \u7528<code>mkfs</code>\u547d\u4ee4\u5efa\u7acb\u6587\u4ef6\u7cfb\u7edf: <code>mkfs -t ext3 -l badblock-fd0 /dev/fd0</code></p> <ul> <li>3.<code>mount \u9009\u9879 \u8bbe\u5907 \u6302\u8f7d\u70b9</code> : \u6302\u8f7d\u6587\u4ef6\u7cfb\u7edf</li> </ul> <p>\u53c2\u6570: <code>-t</code>: \u6307\u5b9a\u8981\u6302\u8f7d\u7684\u6587\u4ef6\u7cfb\u7edf\u7684\u7c7b\u578b</p> <p>\u200b                   <code>-r</code>: \u5982\u679c\u4e0d\u60f3\u4fee\u6539\u8981\u6302\u8f7d\u7684\u6587\u4ef6\u7cfb\u7edf, \u53ef\u4ee5\u4ee5\u53ea\u8bfb\u7684\u65b9\u5f0f\u6302\u8f7d</p> <p>\u200b                   <code>-w</code>: \u4ee5\u53ef\u5199\u7684\u65b9\u5f0f\u6302\u8f7d\u6587\u4ef6\u7cfb\u7edf</p> <p>\u200b                   <code>-a</code>: \u6302\u8f7d<code>/etc//fstab</code> \u6587\u4ef6\u4e2d\u8bb0\u5f55\u7684\u8bbe\u5907</p> <p>\u6302\u8f7d\uff0c\u6307\u5411\u4e0d\u4e00\u6837</p> <p>\u6ce8\u610f: \u4e66\u4e0a\u7684\u8bbe\u5907\u5199\u7684\u662f <code>/dev/cdrom</code></p> <p>3.1 \u5378\u8f7d</p> <p>\u683c\u5f0f:  <code>umount \u8bbe\u5907 \u6302\u8f7d\u70b9</code></p> <p>\u547d\u4ee4: 1.<code>umount /dev/cdrom /\u6302\u8f7d\u70b9</code></p> <p>\u200b          2.<code>umount \u8bbe\u5907</code></p> <p>\u200b     3.<code>umount \u6302\u8f7d\u70b9</code></p> <pre><code>\u6269\u5c55\u903b\u8f91\u5377\u7684\u5927\u5c0f    \uff08 LVextend   -L   +2G   /dev/VolGroup00/LogVol00\uff09\n\n\u4f7f\u7528resizefs2\u547d\u4ee4\u91cd\u65b0\u52a0\u8f7d\u903b\u8f91\u5377\u7684\u5927\u5c0f\u624d\u80fd\u751f\u6548\u3002 \n\uff08 resize2fs   /dev/VolGroup00/LogVol00\uff09\n\u5982\u679c\u4e0d\u7528\u8fd9\u4e2a\u7684\u8bdd\uff0cdf -h \u770b\u4e0d\u5230\n</code></pre>"},{"location":"LINUX/shell/sth/#scsi-devsdb","title":"\u4ee5\u4e0b\u4ec5\u4ee5\u65b0\u589e\u4e00\u5757SCSI\u786c\u76d8\u4f4d\u524d\u63d0, \u65b0\u589e\u7684\u786c\u76d8\u4f4d /dev/sdb","text":""},{"location":"LINUX/shell/sth/#16-linux","title":"16 Linux\u6682\u505c\u548c\u6062\u590d\u8fdb\u7a0b","text":"<p>kill -STOP 1234 \u5c06\u8be5\u8fdb\u7a0b\u6682\u505c\u3002  \u5982\u679c\u8981\u8ba9\u5b83\u6062\u590d\u5230\u540e\u53f0\uff0c\u7528kill -CONT 1234 \uff08\u5f88\u591a\u5728\u524d\u53f0\u8fd0\u884c\u7684\u7a0b\u5e8f\u8fd9\u6837\u662f\u4e0d\u884c\u7684\uff09  \u5982\u679c\u8981\u6062\u590d\u5230\u524d\u53f0\uff0c\u8bf7\u5728\u5f53\u65f6\u8fd0\u884c\u8be5\u8fdb\u7a0b\u7684\u90a3\u4e2a\u7ec8\u7aef\u7528jobs\u547d\u4ee4\u67e5\u8be2\u6682\u505c\u7684\u8fdb\u7a0b\u3002  \u7136\u540e\u7528 fg \u3014job\u53f7\u3015\u628a\u8fdb\u7a0b\u6062\u590d\u5230\u524d\u53f0\u3002  </p> <p>\u5982\u679cjobs\u53ea\u67e5\u8be2\u5230\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u53ea\u7528 fg \u5373\u53ef\u3002 </p> <pre><code>\u4f8b\uff1aroot@dWorks:~# bc -q\n[1]+\u00a0\u00a0Stopped\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bc -q\u00a0\nroot@dWorks:~# bc -q  \n[2]+\u00a0\u00a0Stopped\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bc -q\u00a0\nroot@dWorks:~# jobs\u00a0\n[1]-\u00a0\u00a0Stopped\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bc -q\u00a0\n[2]+\u00a0\u00a0Stopped\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0bc -q\u00a0\nroot@dWorks:~# fg 2\nbc -q\n1+1\n2\nA,Shell\u652f\u6301\u4f5c\u7528\u63a7\u5236\uff0c\u6709\u4ee5\u4e0b\u547d\u4ee4\uff1a\n\n1. command&amp;\u00a0\u8ba9\u8fdb\u7a0b\u5728\u540e\u53f0\u8fd0\u884c\n2. jobs\u00a0\u67e5\u770b\u540e\u53f0\u8fd0\u884c\u7684\u8fdb\u7a0b\n3. fg %n\u00a0\u8ba9\u540e\u53f0\u8fd0\u884c\u7684\u8fdb\u7a0bn\u5230\u524d\u53f0\u6765\n4. bg %n\u00a0\u8ba9\u8fdb\u7a0bn\u5230\u540e\u53f0\u53bb\uff1b\n5. PS:\"n\"\u4e3ajobs\u67e5\u770b\u5230\u7684\u8fdb\u7a0b\u7f16\u53f7.\n\n\n\u5bdf\u770bjobs\n\u4f7f\u7528jobs\u6216ps\u547d\u4ee4\u53ef\u4ee5\u5bdf\u770b\u6b63\u5728\u6267\u884c\u7684jobs\u3002\njobs \u547d\u4ee4\u6267\u884c\u7684\u7ed3\u679c\uff0c\uff0b\u8868\u793a\u662f\u4e00\u4e2a\u5f53\u524d\u7684\u4f5c\u4e1a\uff0c\u51cf\u53f7\u8868\u662f\u662f\u4e00\u4e2a\u5f53\u524d\u4f5c\u4e1a\u4e4b\u540e\u7684\u4e00\u4e2a\u4f5c\u4e1a\uff0cjobs -l\u9009\u9879\u53ef\u663e\u793a\u6240\u6709\u4efb\u52a1\u7684PID,jobs\u7684\u72b6\u6001\u53ef\u4ee5\u662frunning, stopped, Terminated,\u4f46\u662f\u5982\u679c\u4efb\u52a1\u88ab\u7ec8\u6b62\u4e86\uff08kill\uff09\uff0cshell \u4ece\u5f53\u524d\u7684shell\u73af\u5883\u5df2\u77e5\u7684\u5217\u8868\u4e2d\u5220\u9664\u4efb\u52a1\u7684\u8fdb\u7a0b\u6807\u8bc6\uff1b\u4e5f\u5c31\u662f\u8bf4\uff0cjobs\u547d\u4ee4 \u663e\u793a\u7684\u662f\u5f53\u524dshell\u73af\u5883\u4e2d\u6240\u8d77\u7684\u540e\u53f0\u6b63\u5728\u8fd0\u884c\u6216\u8005\u88ab\u6302\u8d77\u7684\u4efb\u52a1\u4fe1\u606f\uff1b\n\u8fdb\u7a0b\u7684\u6302\u8d77\n\u540e\u53f0\u8fdb\u7a0b\u7684\u6302\u8d77\uff1a\n\u5728solaris\u4e2d\u901a\u8fc7stop\u547d\u4ee4\u6267\u884c\uff0c\u901a\u8fc7jobs\u547d\u4ee4\u67e5\u770bjob\u53f7(\u5047\u8bbe\u4e3anum)\uff0c\u7136\u540e\u6267\u884cstop %num\uff1b \u3000\u3000 \n\u5728redhat\u4e2d\uff0c\u4e0d\u5b58\u5728stop\u547d\u4ee4\uff0c\u53ef\u901a\u8fc7\u6267\u884c\u547d\u4ee4kill -stop PID\uff0c\u5c06\u8fdb\u7a0b\u6302\u8d77\uff1b \u3000\u3000 \n\u5f53\u8981\u91cd\u65b0\u6267\u884c\u5f53\u524d\u88ab\u6302\u8d77\u7684\u4efb\u52a1\u65f6\uff0c\u901a\u8fc7bg %num \u5373\u53ef\u5c06\u6302\u8d77\u7684job\u7684\u72b6\u6001\u7531stopped\u6539\u4e3arunning\uff0c\u4ecd\u5728\u540e\u53f0\u6267\u884c\uff1b\n\u5f53\u9700\u8981\u6539\u4e3a\u5728\u524d\u53f0\u6267\u884c\u65f6\uff0c\u6267\u884c\u547d\u4ee4fg %num\u5373\u53ef\uff1b \u3000\u3000 \n\u524d\u53f0\u8fdb\u7a0b\u7684\u6302\u8d77\uff1a\nctrl+Z;\n\u8fdb\u7a0b\u7684\u7ec8\u6b62\n\u540e\u53f0\u8fdb\u7a0b\u7684\u7ec8\u6b62\uff1a\n\u65b9\u6cd5\u4e00\uff1a\u3000\u3000\u901a\u8fc7jobs\u547d\u4ee4\u67e5\u770bjob\u53f7\uff08\u5047\u8bbe\u4e3anum\uff09\uff0c\u7136\u540e\u6267\u884ckill %num \u3000\u3000 \n\u65b9\u6cd5\u4e8c\uff1a\u3000\u3000\u901a\u8fc7ps\u547d\u4ee4\u67e5\u770bjob\u7684\u8fdb\u7a0b\u53f7\uff08PID\uff0c\u5047\u8bbe\u4e3apid\uff09\uff0c\u7136\u540e\u6267\u884ckill pid \u3000\u3000 \n\u524d\u53f0\u8fdb\u7a0b\u7684\u7ec8\u6b62\uff1a\nctrl+c\nkill\u7684\u5176\u4ed6\u4f5c\u7528\nkill\u9664\u4e86\u53ef\u4ee5\u7ec8\u6b62\u8fdb\u7a0b\uff0c\u8fd8\u80fd\u7ed9\u8fdb\u7a0b\u53d1\u9001\u5176\u5b83\u4fe1\u53f7\uff0c\u4f7f\u7528kill -l \u53ef\u4ee5\u5bdf\u770bkill\u652f\u6301\u7684\u4fe1\u53f7\u3002\nSIGTERM\u662f\u4e0d\u5e26\u53c2\u6570\u65f6kill\u53d1\u9001\u7684\u4fe1\u53f7\uff0c\u610f\u601d\u662f\u8981\u8fdb\u7a0b\u7ec8\u6b62\u8fd0\u884c\uff0c\u4f46\u6267\u884c\u4e0e\u5426\u8fd8\u5f97\u770b\u8fdb\u7a0b\u662f\u5426\u652f\u6301\u3002\u5982\u679c\u8fdb\u7a0b\u8fd8\u6ca1\u6709\u7ec8\u6b62\uff0c\u53ef\u4ee5\u4f7f\u7528kill -SIGKILL pid\uff0c\u8fd9\u662f\u7531\u5185\u6838\u6765\u7ec8\u6b62\u8fdb\u7a0b\uff0c\u8fdb\u7a0b\u4e0d\u80fd\u76d1\u542c\u8fd9\u4e2a\u4fe1\u53f7\u3002\n</code></pre>"},{"location":"LINUX/shell/sth/#end","title":"END","text":""},{"location":"LINUX/shell/xargs/","title":"xargs\u7684\u4f7f\u7528","text":""},{"location":"LINUX/shell/xargs/#21-xargs","title":"2.1 \u4e3a\u4ec0\u4e48\u8981\u5f15\u5165xargs\uff1f","text":"<ol> <li>linux\u547d\u4ee4\u53ef\u4ee5\u4ece\u4e24\u4e2a\u5730\u65b9\u8bfb\u53d6\u8981\u5904\u7406\u7684\u5185\u5bb9\uff0c\u4e00\u4e2a\u662f\u901a\u8fc7\u547d\u4ee4\u884c\u53c2\u6570\uff0c\u4e00\u4e2a\u662f\u6807\u51c6\u8f93\u5165\u3002</li> <li>\u6709\u4e9b\u547d\u4ee4\u4e0d\u80fd\u5904\u7406\u6807\u51c6\u8f93\u5165\uff0c\u5982rm\uff0ckill\u3002\u9700\u8981xargs\u628a\u8f93\u5165\u6d41\u5411\u547d\u4ee4\u53c2\u6570\u8fdb\u884c\u8f6c\u6362</li> </ol>"},{"location":"LINUX/shell/xargs/#22xargs","title":"2.2xargs\u8bed\u6cd5","text":""},{"location":"LINUX/shell/xargs/#221","title":"2.2.1\u57fa\u672c\u8bed\u6cd5","text":"<pre><code> command1 | xargs [options] command2\n</code></pre>"},{"location":"LINUX/shell/xargs/#222","title":"2.2.2\u6267\u884c\u6d41\u7a0b:","text":"<ol> <li>command1\u9996\u5148\u6267\u884c\uff0c\u628a\u6267\u884c\u7ed3\u679c\u901a\u8fc7\u7ba1\u9053\u4f20\u9012\u7ed9xargs</li> <li>xargs\u628a\u4f20\u9012\u8fc7\u6765\u7684\u7ed3\u679c\u91cd\u65b0\u5904\u7406\uff0c\u628a\u7ed3\u679c\u4f5c\u4e3a\u547d\u4ee4\u53c2\u6570\u4f20\u9012\u7ed9command2</li> <li>command2\u6267\u884c xargs\u4f20\u9012\u8fc7\u6765\u7684\u53c2\u6570</li> <li>xargs\u5904\u7406\u7684\u987a\u5e8f\uff1a\u5148\u5206\u5272\uff0c\u518d\u5206\u6279(\u53ef\u4ee5\u5b9e\u73b010\u4e2a10\u4e2a\u7684\u4f20\u9001 )\uff0c\u7136\u540e\u4f20\u9012\u5230\u53c2\u6570\u4f4d\u3002</li> </ol>"},{"location":"LINUX/shell/xargs/#223-xargs","title":"2.2.3 xargs\u5206\u5272\u8bed\u6cd5","text":"<p>\u5206\u5272\u6709\u4e09\u79cd\u65b9\u6cd5\uff1a 1. \u72ec\u7acb\u7684xargs \uff0c\u9ed8\u8ba4\u4f7f\u7528\u7a7a\u683c\u8fdb\u884c\u5206\u5272 2. xargs -d delim \uff0c\u6307\u5b9a\u81ea\u5b9a\u4e49\u5206\u9694\u7b26 3. xargs  -0 \uff0c\u5206\u5272\\0\u5206\u9694\u7684\u5b57\u7b26\u4e32\uff0c\u901a\u5e38\u7528\u5728print0\u8f93\u51fa</p>"},{"location":"LINUX/shell/xargs/#224-xargs","title":"2.2.4 xargs\u5206\u6279\u8bed\u6cd5","text":"<ol> <li>-n nums \u9009\u9879,\u4e00\u6b21\u8f93\u51fa\u7684\u53c2\u6570\u4e2a\u6570</li> <li>-L max-lines\u9009\u9879, \u6307\u5b9a\u4e00\u6b21\u8f93\u5165\u7684\u53c2\u6570\u7684\u4e2a\u6570\uff0c\u4e0en\u76f8\u540c\uff0c\u533a\u522b\u5728\u4e8en\u662f\u6309\u7167\u7a7a\u683c\u5206\u9694\uff0cL\u6309\u6bb5\u5206\u9694</li> <li>-i \u903b\u8f91\u4e0a\u4f7f\u7528\u5206\u6279\u7ed3\u679c\uff0ci\u53ef\u4ee5\u6307\u5b9a\u591a\u4e2a\u53c2\u6570\u4f4d,\u4f7f\u7528{}\u6307\u4ee3\u5206\u6279\u7ed3\u679c</li> <li>-I \u540ci, I\u53ef\u4ee5\u6307\u4ee3\u5176\u4ed6\u7b26\u53f7</li> </ol>"},{"location":"LINUX/shell/xargs/#225-xargs","title":"2.2.5 xargs\u9ed8\u8ba4\u8bed\u6cd5","text":"<p>\u5982\u679cxargs\u540e\u9762\u6ca1\u6709\u547d\u4ee4\uff0c\u9ed8\u8ba4\u4e3aecho\u547d\u4ee4</p>"},{"location":"LINUX/shell/xargs/#226","title":"2.2.6","text":""},{"location":"LINUX/shell/xargs/#23","title":"2.3 \u5e94\u7528\u4e3e\u4f8b","text":""},{"location":"LINUX/shell/xargs/#231txt","title":"2.3.1\u67e5\u627e\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709\u7684txt \u6587\u4ef6\u5e76\u538b\u7f29","text":"<pre><code>[root@openstackallinone ~]# find . -name \"*.txt\"  -type f -print | xargs tar -cvzf test.tar.gz\n./test.txt\n./test2.txt\n[root@openstackallinone ~]# ls -l\n\u603b\u7528\u91cf 76\n-rw-------. 1 root root   955 7\u6708   1 02:39 anaconda-ks.cfg\n-rw-------  1 root root 51800 9\u6708  27 08:38 answer-file\n-rw-------  1 root root   329 9\u6708  27 08:48 keystonerc_admin\n-rw-r--r--  1 root root   166 9\u6708  30 17:14 test2.txt\n-rw-r--r--  1 root root   233 9\u6708  30 17:17 test.tar.gz\n-rw-r--r--  1 root root   166 9\u6708  30 04:47 test.txt\n-rw-r--r--  1 root root   156 9\u6708  30 04:17 test.txt.bak\n</code></pre>"},{"location":"LINUX/shell/xargs/#232","title":"2.3.2  \u5220\u9664\u67e5\u627e\u5230\u7684\u65e5\u5fd7","text":"<p><pre><code>[root@openstackallinone ~]# find . -name \"*.log\" -type f -print\n./mysql.log\n./neutron.log\n[root@openstackallinone ~]# find . -name \"*.log\" -type f -print0\n./mysql.log./neutron.log[root@openstackallinone ~]# find . -name \"*.log\" -type f -print0\n./mysql.log./neutron.log[root@openstackallinone ~]# find . -name \"*.log\" -type f -print0|xargs -0 rm -f\n[root@openstackallinone ~]# ls\nanaconda-ks.cfg  keystonerc_admin  test.tar.gz  test.txt.bak\nanswer-file      test2.txt         test.txt\n</code></pre> \u8bf4\u660e\uff1a 1. find print \u9ed8\u8ba4\u4ee5\\n\u8fdb\u884c\u5206\u9694\uff0c\u5373\u6253\u5370\u591a\u884c 2. find print0 \u4ee5\\0\u4ee3\u66ff\\n\uff0c\u5373\u4e0d\u5206\u884c\u6253\u5370\uff0c\u54cd\u5e94\u5730xargs \u8981\u4ee5 -0\u8fdb\u884c\u5206\u9694</p>"},{"location":"LINUX/shell/xargs/#233","title":"2.3.3 \u67e5\u627e\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709\u7528\u6237\u5177\u6709\u8bfb\u5199\u6267\u884c\u6743\u9650\u7684\u6587\u4ef6\uff0c\u5e76\u6536\u56de\u8bfb\u5199\u6743\u9650","text":"<p><pre><code>[root@openstackallinone ~]# find -perm \"-o=rw\" -type f -print0 | xargs -0 chmod  \"o-r-w\"\n\n\u8bfb \u5199 \u6267\u884c\n421\n\n[root@openstackallinone ~]# ls -l\n\u603b\u7528\u91cf 76\n-rw-------. 1 root root   955 7\u6708   1 02:39 anaconda-ks.cfg\n-rw-------  1 root root 51800 9\u6708  27 08:38 answer-file\n-rw-------  1 root root   329 9\u6708  27 08:48 keystonerc_admin\n-rw-r--r--  1 root root   166 9\u6708  30 17:14 test2.txt\n-rwxrwx--x  1 root root   233 9\u6708  30 17:17 test.tar.gz\n-rwxrwx--x  1 root root   166 9\u6708  30 04:47 test.txt\n-rwxrwx--x  1 root root   156 9\u6708  30 04:17 test.txt.bak\n</code></pre> \u8bf4\u660e\uff1a 1.  find -perm \"octal \"/ \"-ugo=rwx\" \u53ef\u4ee5\u4f7f\u7528\u516b\u8fdb\u5236\uff0c\u6216\u8005\u4f7f\u7528-ugo=rwx\u8fdb\u884c\u5339\u914d 2. \"o-r-w\" \u8868\u793ao\u8868\u793aother,\u5176\u4ed6\u7528\u6237\uff0c-r\u8868\u793a\u53bb\u6389\u8bfb\u6743\u9650\uff0c-w\u8868\u793a\u53bb\u6389\u5199\u6743\u9650</p>"},{"location":"LINUX/shell/xargs/#234","title":"2.3.4 \u6279\u91cf\u4e0b\u8f7d","text":"<pre><code>cat urls.txt | xargs wget\n</code></pre>"},{"location":"LINUX/shell/xargs/#235","title":"2.3.5\u6279\u91cf\u67e5\u627e\u5e76\u66ff\u6362\u6587\u672c","text":"<pre><code>[root@openstackallinone ~]# grep -rl \"is\"  --include=\"*.txt\" ./* |xargs sed -i \"s/is/Is/g\"\n[root@openstackallinone ~]# cat test.txt\nMy cat's name Is betty\nThIs Is your dog\nMy dog's name Is frank\nThIs Is your fIsh\nMy fIsh's name Is george\nThIs Is your goat\nthIs Is hIs  sheep\nmy goat's name Is adam\n</code></pre>"},{"location":"LINUX/shell/xargs/#236-txtbak","title":"2.3.6 \u67e5\u627e\u6ca1\u6709\u6587\u4ef6\u540d\u4e0e.txt\u7ed3\u5c3e\u7684\u6587\u4ef6\uff0c\u589e\u52a0.bak","text":"<pre><code>[root@openstackallinone ~]# ls *.txt *.log a b c d | xargs -i mv {} {}.bak\n[root@openstackallinone ~]# ls\na.bak            answer-file  c.bak  keystonerc_admin  my note.log.bak  test2.txt.bak  test.tar.gz\nanaconda-ks.cfg  b.bak        d.bak  logdir            note.log.bak     test3.txt.bak  test.txt.bak\n</code></pre>"},{"location":"LINUX/shell/xargs/#237bakbak","title":"2.3.7\u67e5\u627e.bak\u7ed3\u5c3e\u7684\u6587\u4ef6\uff0c\u53bb\u6389.bak","text":"<pre><code>[root@openstackallinone ~]# ls\na.bak-.bak       c.bak-.bak        note.log.bak-.bak   test.txt.bak-.bak\nanaconda-ks.cfg  d.bak-.bak        test2.txt.bak-.bak\nanswer-file      keystonerc_admin  test3.txt.bak-.bak\nb.bak-.bak       logdir            test.tar.gz\n[root@openstackallinone ~]# ls *.bak|awk '{print substr($1,1,index($1,\".bak\")-1)}'| xargs -i mv {}.bak-.bak {}\n[root@openstackallinone ~]# ls \na                b  keystonerc_admin  test2.txt    test.txt\nanaconda-ks.cfg  c  logdir            test3.txt\nanswer-file      d  note.log          test.tar.gz\n</code></pre>"},{"location":"LINUX/unubtu/%E5%AE%89%E8%A3%85ubuntu18/","title":"\u5b89\u88c5ubuntu18","text":"<p>\u5b89\u88c5Ubuntu 18.04.2</p> <ul> <li>\u8bf4\u660e: Ubuntu 18 \u7684\u7248\u672c\u53ea\u80fd\u7528VMware-WorkSatation Pro(\u4e5f\u5c31\u662fvm 15) \u5b89\u88c5  \u4e0d\u7136\u4ea7\u54c1\u4e0d\u517c\u5bb9</li> </ul>"},{"location":"LINUX/unubtu/%E5%AE%89%E8%A3%85ubuntu18/#_1","title":"\u521a\u5b89\u88c5\u5b8c\u9700\u8981\u505a\u7684","text":""},{"location":"LINUX/unubtu/%E5%AE%89%E8%A3%85ubuntu18/#_2","title":"\u66f4\u6362\u4e2d\u6587\u5b57\u4f53","text":"<p>\u200b        \u66f4\u6362\u4e2d\u6587 \u9700\u8981\u4e0b\u8f7d\u4e2d\u6587\u5b57\u4f53\u5305, \u800c\u8bf4\u5230\u4e0b\u8f7d, \u5c31\u9700\u8981\u8054\u7f51\u4e86,\u6240\u4ee5\u5148\u6765\u8054\u7f51</p> <ul> <li>\u4e00\u5f00\u59cb\u662f\u6ca1\u6709\u7f51\u7edc\u7684 , \u4f3c\u4e4e\u662f\u56e0\u4e3a\u4e4b\u524d\u4e0a\u8bfe\u7684\u5b9e\u9a8c,\u865a\u62df\u673a\u7684\u7f51\u7edc\u914d\u7f6e\u6539\u4e86, \u6240\u4ee5\u73b0\u5728\u8fde\u4e0d\u4e0a\u7f51 </li> <li>\u4e8e\u662f\u53ea\u597d\u91cd\u7f6e\u865a\u62df\u7f51\u8def\u7f16\u8f91\u5668  </li> <li>\u8fd9\u6b65\u4e4b\u524d\u5148\u914d\u7f6e\u7f51\u7edc ,\u5148\u770b\u4e0b\u9762\u7684\u7f51\u7edc\u914d\u7f6e , \u7f51\u7edc\u914d\u597d\u540e</li> <li></li> <li></li> <li>\u627e\u5230\u7b80\u4f53\u4e2d\u6587, \u52fe\u9009 \u7136\u540e\u786e\u5b9a,\u5c31\u4f1a\u81ea\u52a8\u8054\u7f51\u5b89\u88c5\u4e86</li> <li>\u7136\u540e\u91cd\u542f \u91cd\u542f\u540e\u4f1a\u5f39\u51fa\u6765\u4e00\u4e2a\u9009\u62e9\u8bbe\u7f6e \u9009\u62e9\u4fdd\u7559\u4e4b\u524d\u7684\u540d\u79f0\u5c31\u5927\u529f\u544a\u6210\u4e86</li> </ul>"},{"location":"LINUX/unubtu/%E5%AE%89%E8%A3%85ubuntu18/#_3","title":"\u7f51\u7edc\u914d\u7f6e","text":"<ol> <li> <p>\u865a\u62df\u673a--&gt;\u7f16\u8f91--&gt;\u865a\u62df\u7f51\u7edc\u7f16\u8f91\u5668--&gt;\u628a\u91cc\u9762\u539f\u6709\u7684\u7f51\u7edc\u90fd\u79fb\u9664\u4e86--&gt;\u8fd8\u539f\u9ed8\u8ba4\u8bbe\u7f6e </p> </li> <li> <p>\u914d\u7f6e\u7f51\u7edc:   \u7f51\u7edc\u5171\u4eab\u4e2d\u5fc3--&gt;\u66f4\u6539\u9002\u914d\u5668\u8bbe\u7f6e--&gt;\u627e\u5230\u4f60\u5b9e\u4f53\u673a\u8054\u7f51\u7684\u7f51\u7edc--&gt;\u53f3\u952e\u5c5e\u6027--&gt;\u5171\u4eab--&gt;\u5141\u8bb8......  --&gt;\u4e0b\u9762\u7684\u9009\u9879\u5c31\u9009vm8(\u56e0\u4e3a\u4e4b\u524d\u9009\u7684\u662fNAT\u8fde\u63a5)</p> </li> </ol> <p></p> <ol> <li>\u6253\u5f00\u547d\u4ee4\u7a97\u53e3\uff08\u53f3\u952e\u5355\u673a\u684c\u9762\u9009\u62e9Open Terminal\u6216\u8005Ctrl+Alt+T\uff09\uff0c\u8f93\u5165ip a\u67e5\u770b\u81ea\u5df1\u7684\u7f51\u5361\u7f16\u53f7</li> </ol> <p></p> <ol> <li>\u8f93\u5165\u547d\u4ee4<code>sudo vi /etc/network/interfaces</code>(\u5982\u679cvi\u51fa\u9519,\u6216\u8005\u6ca1\u6709vim\u53ef\u4ee5\u4f7f\u7528<code>gedit</code>\u4ee3\u66ff<code>vi</code>)\uff0c\u7f16\u8f91\u8be5\u6587\u4ef6\u3002\u6ce8\u610f\u6b64\u5904eth0\u5904\u7528\u81ea\u5df1\u7684\u7f51\u5361\u7f16\u53f7\u66ff\u6362\uff0c<code>address</code>\u548c<code>gateway</code>\u4e5f\u662f\u8981\u89c6\u60c5\u51b5\u5b9a\u7684\u3002</li> </ol> <p></p> <ol> <li> <p>\u7136\u540e\u53ef\u4ee5\u8bd5\u8bd5ping www.baidu.com \u5982\u679c\u8fd8\u4e0d\u884c\u5c31\u7ee7\u7eed</p> </li> <li> <p>\u5728\u547d\u4ee4\u884c\u8f93\u5165<code>sudo vi /etc/systemd/resolved.conf</code>(\u5982\u679cvi\u51fa\u9519,\u6216\u8005\u6ca1\u6709vim\u53ef\u4ee5\u4f7f\u7528<code>gedit</code>\u4ee3\u66ff<code>vi</code>) \u4fee\u6539\u6539\u6587\u4ef6\uff1a\u5c06DNS\u524d\u7684#\u53f7\u53bb\u6389\uff0c\u7136\u540e\u52a0\u4e0a\u901a\u7528\u7684DNS\u670d\u52a1\u5668\u5730\u5740\u5373\u53ef\u3002\u53ef\u4ee5\u81ea\u884c\u4e0a\u7f51\u627e\uff0c\u4e5f\u53ef\u4ee5\u548c\u4e0b\u9762\u4e00\u6837\u914d\u7f6e\u3002</p> </li> </ol> <p></p> <ol> <li>\u91cd\u542f\u7f51\u7edc\u670d\u52a1\uff1a</li> </ol> <p>\u200b      <code>sudo /etc/init.d/networking force-reload</code>  ==&gt; \u91cd\u65b0\u52a0\u8f7d\u7f51\u8def\u914d\u7f6e\u6587\u4ef6</p> <p>\u200b      <code>sudo /etc/init.d/networking restart</code></p>"},{"location":"LINUX/unubtu/%E5%AE%89%E8%A3%85ubuntu18/#vmtools","title":"\u5b89\u88c5vmtools","text":"<p>\u200b           \u865a\u62df\u673a-&gt;&gt; \u70b9\u51fb\u5b89\u88c5vm-tools\u5de5\u5177\u7136\u540e\u770b\u684c\u9762\u4f1a\u589e\u52a0\u4e2a\u6587\u4ef6, \u53cc\u51fb\u6253\u5f00--&gt;\u628a\u91cc\u9762\u7684\u538b\u7f29\u5305\u62d6\u51fa\u6765--&gt;\u4f7f\u7528terminal\u5207\u6362\u5230Desktop\u7136\u540e\u89e3\u538b <code>tar -zxvf VMwareTools-10.2.0-7259539.tar.gz</code>   --&gt;\u518d\u4f7f\u7528ls\u67e5\u770b,\u4f1a\u591a\u4e00\u4e2avmware-tools-distrib\u6587\u4ef6 --&gt; cd\u8fdb\u5165--&gt;\u6709\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6vmware-install.pl --&gt;\u7136\u540e<code>sudo ./vmware-install.pl</code>\u7136\u540e\u4e00\u76f4\u56de\u8f66\u770b\u89c1enjoy\u5c31\u8bf4\u660e\u5b89\u88c5\u5b8c\u6210\u4e86  \u5b89\u88c5\u5b8c\u6210\u540e\u9700\u8981<code>reboot</code>\u91cd\u542f</p>"},{"location":"LINUX/unubtu/%E5%AE%89%E8%A3%85ubuntu18/#sudo","title":"\u8bbe\u7f6esudo\u514d\u5bc6\u7801","text":"<p>\u6ce8\u610f: \u5728\u66f4\u6539\u6587\u4ef6\u4e4b\u524d,\u6700\u597d\u5148\u62cd\u5feb\u7167, \u6216\u8005\u5907\u4efd\u6587\u4ef6</p> <ul> <li> <p>\u5728\u8fdb\u884csudo\u64cd\u4f5c\u7684\u65f6\u5019\u9700\u8981\u8f93\u5165\u5f53\u524d\u7528\u6237\u5bc6\u7801\uff0c\u7528\u591a\u4e86\u5c31\u6bd4\u8f83\u70e6\uff0c\u8fd9\u4e2a\u4e1c\u897f\u4e5f\u53ef\u4ee5\u5173\u6389\u3002\u8f93\u5165<code>sudo nano /etc/sudoers</code>\uff0c\u627e\u5230sudo\u4e00\u884c\uff0c\u4fee\u6539\u4e3a\u4e0b\u9762\u7684\u6837\u5b50\u3002</p> </li> <li> <p><code>%sudo   ALL=(ALL:ALL) NOPASSWD:ALL</code>  \u7136\u540e<code>ctrl+x</code>\u4fdd\u5b58</p> </li> </ul>"},{"location":"LINUX/unubtu/%E5%AE%89%E8%A3%85ubuntu18/#_4","title":"\u8bbe\u7f6e","text":"<ul> <li>\u518d\u6b21\u5355\u51fb\u56fe\u6807\u53ef\u4ee5\u81ea\u52a8\u7f29\u5c0f</li> </ul> <p><code>gsettings set org.gnome.shell.extensions.dash-to-dock click-action 'minimize'</code></p> <p></p>"},{"location":"LINUX/unubtu/%E5%AE%89%E8%A3%85ubuntu18/#_5","title":"\u5b89\u88c5\u641c\u72d7\u8f93\u5165\u6cd5","text":"<p>\u8fde\u63a5: https://pinyin.sogou.com/linux/</p> <p>\u4e0b\u8f7d64\u4f4d\u7684   \u6587\u4ef6\u540d\u662f<code>sogoupinyin_2.2.0.0108_amd64.deb</code></p> <p>\u7136\u540e\u590d\u5236\u5230\u865a\u62df\u673a\u4e2d</p> <p>sudo dpkg -i sogoupinyin.deb       *#\u5b89\u88c5\u641c\u72d7\u62fc\u97f3 sudo apt-get install -f             #\u4fee\u590d\u641c\u72d7\u62fc\u97f3\u5b89\u88c5\u7684\u9519\u8bef sudo dpkg -i sogoupinyin.deb       *#\u91cd\u65b0\u5b89\u88c5\u641c\u72d7\u62fc\u97f3</p>"},{"location":"awesome-reverse-main/","title":"Index","text":""},{"location":"awesome-reverse-main/#_1","title":"\u7b80\u4ecb","text":"<p>\u4e3b\u8981\u603b\u7ed3\u4e2a\u4eba\u5b66\u4e60\u9006\u5411\u76f8\u5173\u6240\u9047\u5230\u7684\u4e00\u4e9b\u6280\u672f\u77e5\u8bc6\u70b9\u548c\u8def\u5f84\uff0c\u56e0\u4e3a\u9006\u5411\u8fd9\u4e2a\u6280\u672f\u6808\u6ca1\u6709\u7cfb\u7edf\u7684\u89c4\u5212\u8def\u5f84\uff0c\u6240\u4ee5\u60f3\u8981\u5c06\u5de5\u4f5c\u4e2d\u6240\u9047\u5230\u7684\u548c\u9762\u8bd5\u5230\u7684\u4e00\u4e9b\u76f8\u5173\u77e5\u8bc6\u603b\u7ed3\uff0c\u9762\u5411\u9006\u5411\u65b0\u4eba\u63d0\u4f9b\u4e00\u4e9b\u5fae\u8584\u7684\u5e2e\u52a9\u3002</p> <p>\u672c\u9879\u76ee\u5c06\u4f1a\u968f\u7740\u6211\u7684\u5b66\u4e60\u548c\u8fdb\u6b65\u4e00\u76f4\u66f4\u65b0\uff5e</p>"},{"location":"awesome-reverse-main/#_2","title":"\u8fd1\u65e5\u66f4\u65b0","text":"<ul> <li>\u6bcf\u65e5\u4e00\u4e2aIDA\u5c0f\u77e5\u8bc6\u7cfb\u5217</li> <li>Magisk\u6e90\u7801\u5b66\u4e60-\u81ea\u5b9a\u4e49Sepolicy\u52a0\u8f7d\u8fc7\u7a0b</li> <li>Shizuku-\u83b7\u53d6ADB/ROOT\u6743\u9650\u7684\u4e2d\u95f4\u4ebaBinder\u539f\u7406\u89e3\u6790</li> <li>\u4eceJNI\u51fd\u6570\u9759\u52a8\u6001\u6ce8\u518c\u601d\u8003\u5982\u4f55\u5b9e\u73b0Xposed\u7684NativeHook</li> <li>\u5e73\u5934\u54e5Ratel</li> <li>SandHook\u4e4bSandSingleInstHook(\u5f02\u5e38Hook)\u539f\u7406\u6d45\u6790</li> </ul>"},{"location":"awesome-reverse-main/#_3","title":"\u76ee\u5f55","text":"<ul> <li>\u5de5\u5177\u73af\u5883</li> <li>JS\u9006\u5411<ul> <li>PC/H5<ul> <li>\u672a\u6df7\u6dc6\u7684JS\u8c03\u8bd5\u548c\u7b97\u6cd5\u8fd8\u539f</li> <li>Node\u73af\u5883\u6a21\u62df\u6267\u884cJS<ul> <li>\u6d4f\u89c8\u5668\u73af\u5883\u8865\u9f50</li> <li>JDK\u4e2dV8\u5f15\u64ce\u548cNashorn\u5f15\u64ce\u4f7f\u7528</li> </ul> </li> <li>OB\u6df7\u6dc6\u7684AST\u8fd8\u539f</li> </ul> </li> <li>\u5b89\u5353WebView<ul> <li>WebView Hook</li> <li>JS Bridge\u6ce8\u5165</li> </ul> </li> <li>\u5fae\u4fe1\u5c0f\u7a0b\u5e8f<ul> <li>\u5c0f\u7a0b\u5e8f\u67b6\u6784\u89e3\u6790</li> <li>\u5c0f\u7a0b\u5e8f\u53cd\u7f16\u8bd1\u53ca\u4ee3\u7801\u4fee\u590d</li> <li>\u6e32\u67d3\u5c42\u548c\u903b\u8f91\u5c42\u7684\u4e24\u79cdHook\u65b9\u5f0f</li> <li>\u5c0f\u7a0b\u5e8f\u7f51\u7edc\u8bf7\u6c42Hook</li> </ul> </li> </ul> </li> <li> <p>\u5b89\u5353\u9006\u5411\u5165\u95e8</p> <ul> <li>\u5b89\u5353\u57fa\u7840\u77e5\u8bc6</li> <li>Xposed Hook\u5165\u95e8</li> <li>Xposed \u539f\u7406\u7b80\u5355\u4ecb\u7ecd</li> <li>\u5173\u952e\u4ee3\u7801\u5b9a\u4f4d\u6280\u5de7</li> <li>\u91cd\u6253\u5305\u673a\u5236\u53ca\u7b7e\u540d\u6821\u9a8c\u7ed5\u8fc7</li> <li>\u5ba2\u6237\u7aef\u8bbe\u5907\u6307\u7eb9\u6a21\u62df</li> <li>Native hook</li> <li>\u57fa\u4e8eHook\u7684\u81ea\u52a8\u5316\u70b9\u51fb\u6846\u67b6</li> <li>APP\u63a5\u53e3\u66b4\u9732\u5f0fRPC\u8c03\u7528</li> <li>APP\u7684\u5168\u534f\u8bae\u8fd8\u539f\u8fc7\u7a0b\u7684\u62bd\u4e1d\u5265\u8327</li> <li>\u57fa\u4e8eHook\u7684MT\u548cCtrip\u7684TCP\u8bf7\u6c42\u6293\u5305</li> </ul> </li> <li> <p>\u5b89\u5353\u9006\u5411\u8fdb\u9636</p> <ul> <li>\u9762\u8bd5\u5fc5\u95ee\uff1aELF\u6587\u4ef6\u683c\u5f0f</li> <li>\u57fa\u4e8eFRIDA\u5206\u6790\u9006\u5411APP</li> <li>\u5b89\u5353\u52a0\u56fa\u5386\u4ee3\u58f3\u53d1\u5c55\u53ca\u5bf9\u5e94\u8131\u58f3\u6280\u672f</li> <li>ARM\u5e38\u7528\u6307\u4ee4\u53ca\u53c2\u6570\u8c03\u7528\u7ea6\u5b9a</li> <li>riru\u539f\u7406\u6d45\u6790\u53caEdxp\u5165\u53e3\u5206\u6790</li> <li>IDA Pro\u5e38\u7528\u5206\u6790\u624b\u6cd5-\u5f85\u7eed</li> <li>\u9762\u8bd5\u5fc5\u95ee\u7cfb\u5217\uff1a\u5b89\u5353\u7cfb\u7edf\u5f00\u673a\u6d41\u7a0b</li> <li>\u4eceJNI\u51fd\u6570\u9759\u52a8\u6001\u6ce8\u518c\u601d\u8003\u5982\u4f55\u5b9e\u73b0Xposed\u7684NativeHook</li> </ul> </li> <li> <p>\u5e73\u5934\u54e5Ratel</p> </li> <li>\u5e73\u5934\u54e5\u63d2\u4ef6\u5f00\u53d1</li> </ul>"},{"location":"awesome-reverse-main/#js","title":"\u5b89\u5353/JS\u9006\u5411\u89c6\u9891\u6559\u7a0b","text":"<p>http://course.alienhe.cn/home.html</p>"},{"location":"awesome-reverse-main/#_4","title":"\u5fae\u4fe1\u516c\u4f17\u53f7","text":"<p>\u6b22\u8fce\u5173\u6ce8\u516c\u4f17\u53f7\u83b7\u53d6\u66f4\u591a\u6700\u65b0\u6587\u7ae0\u5185\u5bb9\u63a8\u9001\uff1a\u590f\u65e5\u6280\u672f\u53cb\u4eba\u5e10</p> <p>scan to follow:</p> <p></p>"},{"location":"awesome-reverse-main/#_5","title":"\u4ea4\u6d41","text":"<p>\u4f5c\u8005\u5fae\u4fe1\uff1ahx58929 \u5907\u6ce8awesome\u8fdb\u7fa4\u4e00\u8d77\u63a2\u8ba8\u4ea4\u6d41</p> <p>\u7fa4\u804a\u4e8c\u7ef4\u7801\uff1a </p> <p>\u4f5c\u8005\u6545\u4e8b\u661f\u7403\uff1a</p> <p>\u4ea4\u4e2a\u670b\u53cb\uff1ahttps://t.zsxq.com/BiEaMVJ</p> <p></p> <p>\u5982\u679c\u4f60\u89c9\u5f97\u5bf9\u4f60\u6709\u5e2e\u52a9\uff0c\u6216\u8005\u4f60\u5f00\u5fc3\u7684\u8bdd\uff0c\u53ef\u4ee5\u8bf7\u4f5c\u8005\u559d\u4e00\u676f\u5496\u5561\uff1a</p> <p> </p>"},{"location":"awesome-reverse-main/#_6","title":"\u81f4\u8c22","text":"<p>\u611f\u8c22\u6240\u5b66\u5230\u7684\u6240\u6709\u9006\u5411\u524d\u8f88\uff01</p>"},{"location":"awesome-reverse-main/android/QContainer-hook/","title":"QContainer\u4e2d\u7684Hook","text":"<p>QContainer\u6240\u5b9e\u73b0\u7684\u662f\u4e00\u4e2a\u5728\u514dRoot\u73af\u5883\u4e0b\u5b8c\u6210\u7c7bXposed Hook\u7684\u5b89\u5353\u5e94\u7528\u5206\u8eab\u548c\u8bbe\u5907\u6307\u7eb9\u6846\u67b6\uff0c\u76ee\u524d\u80fd\u591f\u7ed5\u8fc7\u6570\u7f8e\u7684\u8bbe\u5907\u6307\u7eb9\u98ce\u63a7\uff0c\u5728\u63d2\u4ef6\u7f16\u5199\u65b9\u5f0f\u4e0a\u4e0eXposed\u57fa\u672c\u4e00\u81f4\uff0c\u5e76\u4e14\u5982\u679c\u4f60\u9700\u8981\uff0c\u53ef\u4ee5\u652f\u6301Native Hook\u3002</p> <p>\u5982\u679c\u4f60\u5bf9QContainer\u611f\u5174\u8da3\uff0c\u53ef\u4ee5\u4e0e\u6211\u4e00\u8d77\u63a2\u8ba8\u3002</p> <p>\u5bf9\u4e8e\u53ea\u662f\u60f3\u5b8c\u6210\u4e00\u4e2aHook\u63d2\u4ef6\u7684\u529f\u80fd\uff0c\u5728\u4f7f\u7528\u65b9\u5f0f\u4e0a\uff0c\u539f\u751fXposed\u4e0eQContainer\u51e0\u4e4e\u6ca1\u6709\u5dee\u522b\uff0c\u4f46\u4ecd\u6709\u4e00\u4e9b\u5b9e\u73b0\u539f\u7406\u4e0a\u5bfc\u81f4\u7684\u7ec6\u8282\u5dee\u5f02\uff1a - Hook API\u540d\u79f0\u4e0d\u540c\uff0cQContainer\u4e3aRposed\u76f8\u5173\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u9632\u6b62APP\u68c0\u6d4bXposed\u75d5\u8ff9 - QC\u63d2\u4ef6\u53ea\u80fd\u4f5c\u7528\u4e8e\u7ecf\u8fc7QC\u611f\u67d3\u540e\u7684APP - QC\u63d2\u4ef6\u53ea\u4f1a\u5bf9\u63d2\u4ef6\u4e2d\u914d\u7f6e\u7684\u7279\u5b9a\u7684\u611f\u67d3APP\u751f\u6548\uff08\u82e5\u60f3\u5bf9\u5168\u90e8\u611f\u67d3APP\u751f\u6548\uff0c\u53ef\u4ee5\u7528*\uff09\uff0c\u56e0\u6b64\u63d2\u4ef6\u4e2d\u65e0\u9700\u533a\u5206APP\u3002 - QC\u63d2\u4ef6\u652f\u6301\u70ed\u53d1\u66f4\u65b0\u914d\u7f6e  - QC\u63d2\u4ef6\u76ee\u524d\u5c1a\u4e0d\u652f\u6301\u8d44\u6e90Hook</p>"},{"location":"awesome-reverse-main/android/QContainer-hook/#qcontainerquick-start","title":"QContainer\u63d2\u4ef6Quick Start","text":"<p>\u63a5\u4e0b\u6765\u4ecb\u7ecd\u4e00\u4e0b\u5982\u4f55\u5feb\u901f\u521b\u5efa\u4e00\u4e2aQC\u63d2\u4ef6\uff1a - \u521b\u5efa\u4e00\u4e2a\u666e\u901a\u5b89\u5353APP\u5de5\u7a0b\uff0c\u53ef\u4ee5\u901a\u8fc7ratel-qunar-crack\u9879\u76ee\u4e0b\u7684template.sh\u811a\u672c\uff0c\u6216\u8005AS\u521b\u5efa - \u914d\u7f6eAndroidManifest.xml\uff0cQC\u63d2\u4ef6\u662f\u5426\u80fd\u591f\u88abQContainer Manager\u8bc6\u522b\u5c31\u5728\u4e8e\u6e05\u5355\u6587\u4ef6\u4e2d\u7684meta\u914d\u7f6e\u3002\u8fd9\u91cc\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u914d\u7f6e\uff1a <pre><code>&lt;!-- \u63d2\u4ef6\u6807\u8bc6 --&gt;\n&lt;meta-data android:name=\"xposedmodule\" android:value=\"true\"/&gt;\n\n&lt;!-- \u63d2\u4ef6\u63cf\u8ff0\uff0cQC Manager\u4e2d\u4f1a\u663e\u793a --&gt;\n&lt;meta-data android:name=\"xposeddescription\" android:value=\"auto generated crack for: crack-ctrip-accounts-camel\"/&gt;\n\n&lt;!-- \u76ee\u6807\u4f5c\u7528APP --&gt;\n&lt;meta-data android:name=\"for_camel_apps\" android:value=\"ctrip.android.view\"/&gt;\n\n&lt;!-- \u5e94\u7528\u5206\u8eab\u6a21\u5f0f\uff0c\u4e00\u4e2a\u5206\u8eab\u4ee3\u8868\u4e00\u4e2a\u8bbe\u5907\uff0cMULTI\u4ee3\u8868\u591a\u5206\u8eab\uff0c\u63d2\u4ef6\u63a7\u5236\u5207\u6362\uff0cSTART_UP\u4ee3\u8868\u6bcf\u6b21\u542f\u52a8\u90fd\u4f1a\u65b0\u5efa\u5206\u8eab\uff0cDISABLE\u6216\u8005\u4e0d\u914d\u7f6e\u5219\u4e3a\u4e0d\u5f00\u542f --&gt;\n&lt;meta-data android:name=\"virtualEnvModel\" android:value=\"MULTI\" /&gt;\n</code></pre> - \u5f15\u5165camel-api.aar\uff0c\u8be5aar\u662fQC\u4e2d\u5bf9\u5916\u66b4\u9732\u7684API\uff0c\u5305\u62ecHook \u548c\u81ea\u52a8\u70b9\u51fb\u7b49API\uff0c\u7c7b\u4f3c\u4e8eXposedBridge.jar\u3002\u76ee\u524d\u6ca1\u6709\u5f15\u5165gradle\u4ed3\u5e93\u914d\u7f6e\uff0c\u56e0\u6b64\u76ee\u524d\u4f7f\u7528aar\u6587\u4ef6\u76f4\u63a5\u4f9d\u8d56\uff0c\u540e\u7eed\u53ef\u4ee5\u4f18\u5316\u3002\u5728\u5f00\u53d1\u6216\u8fed\u4ee3 camel-api\u9879\u76ee\u65f6\u9700\u8981\u989d\u5916\u6ce8\u610f\uff0c\u611f\u67d3\u540e\u7684APP\u4e2d\u4e5f\u5b58\u5728camel-api\uff0c\u56e0\u6b64\u4e24\u8fb9\u7684\u4f9d\u8d56\u6ce8\u610f\u8986\u76d6\u51b2\u7a81\u540c\u6b65\u6216\u8005\u517c\u5bb9\u3002\u4f7f\u7528\u65f6\u5148\u5728\u63d2\u4ef6\u6839\u76ee\u5f55\u4e0b\u65b0\u5efalibs\u6587\u4ef6\u5939\uff0c\u5c06camel-api.aar\u5bfc\u5165\uff0c\u5176\u6b21\u914d\u7f6ebuild.grale\u5b8c\u6210\u4f9d\u8d56\u3002 <pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    api(name: 'com.camel.api_1.4.6', ext: 'aar')\n}\n</code></pre> - src/main/assets\u6587\u4ef6\u4e0b\u914d\u7f6exposed_init\u6587\u4ef6\uff0c\u6807\u8bc6\u63d2\u4ef6IRposedHookLoadPackage\u63a5\u53e3\u5b9e\u73b0\u7c7b\uff0c\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0chandleLoadPackage\u65b9\u6cd5\u6267\u884c\u65f6QContainer\u8fd8\u672a\u5f00\u59cb\u8bbe\u5907\u6307\u7eb9\u5206\u8eab\u548c\u6a21\u62df\uff0c\u56e0\u6b64\u5982\u679c\u60f3\u8981\u83b7\u53d6\u771f\u5b9e\u8bbe\u5907\u4fe1\u606f\u53ef\u5728\u8be5\u65b9\u6cd5\u4e2d\u83b7\u53d6\uff0c\u5b9a\u65f6\u4efb\u52a1\u81ea\u52a8\u8c03\u5ea6\u4e5f\u662f\u540c\u7406\u3002 - \uff08\u53ef\u9009\uff09src/main/assets\u6587\u4ef6\u4e0b\u914d\u7f6ecamel_scheduler.json\u6587\u4ef6\uff0c\u6807\u8bc6\u63d2\u4ef6\u63a5\u5165QC\u81ea\u52a8\u8c03\u5ea6\u6846\u67b6\uff0c\u5e76\u914d\u7f6eCamelTask\u63a5\u53e3\u5b9e\u73b0\u7c7b\u3002 - \uff08\u53ef\u9009\uff09\u914d\u7f6e\u70ed\u53d1\u63d2\u4ef6\u66f4\u65b0\u5730\u5740</p> <pre><code>&lt;!--\u662f\u5426\u662f\u4e00\u4e2a\u70ed\u53d1\u63d2\u4ef6--&gt;\n&lt;meta-data android:name=\"isHotModule\" android:value=\"true\" /&gt;\n&lt;!--\u70ed\u53d1\u63d2\u4ef6\u670d\u52a1\u67e5\u8be2\u7684\u670d\u52a1\u7aef\u5730\u5740--&gt;\n&lt;meta-data android:name=\"hotModuleServerUrl\" android:value=\"htps://xxx.com/xxx\" /&gt;\n</code></pre>"},{"location":"awesome-reverse-main/android/QContainer-hook/#cameltoolkit-api","title":"CamelToolKit API","text":"<p>CamelToolKit\u7c7b\u662fcamel-api\u5305\u4e2d\u6240\u66b4\u9732\u7684API\u4e2d\u7684\u5de5\u5177\u7c7b\u5165\u53e3\uff0c\u5728\u5b9e\u9645Hook\u63d2\u4ef6\u7f16\u5199\u4e2d\u7ecf\u5e38\u7528\u5230\uff0c\u63d0\u4f9b\u4e86IO\u91cd\u5b9a\u5411\u3001Hook\u4e0a\u4e0b\u6587\u3001\u5b9a\u65f6\u4efb\u52a1\u7b49\u4e00\u4e9b\u5217\u7684\u8f85\u52a9API\uff0c\u8fd8\u63d0\u4f9b\u4e86\u63a7\u5236Manager\u80fd\u529b\u7684API\uff0c\u4f8b\u5982\u5c0f\u7c73\u673a\u578b\u5207\u6362\u98de\u884c\u6a21\u5f0f\u3002</p>"},{"location":"awesome-reverse-main/android/QContainer-hook/#hook","title":"Hook\u4e0a\u4e0b\u6587","text":"<ul> <li>sContext \u5168\u5c40\u7684\u4e00\u4e2acontext\uff0ccontext\u662f\u8c03\u7528Android\u7cfb\u7edf\u529f\u80fd\u7684\u91cd\u8981\u5bf9\u8c61\u3002\u6709\u8fd9\u4e2a\u5bf9\u8c61\u4e4b\u540e\uff0c\u65e0\u9700\u624b\u52a8\u901a\u8fc7\u62e6\u622aattach\u7684\u65b9\u5f0f\u83b7\u53d6context</li> <li>hostClassLoader \u5bbf\u4e3bAPK\u7684ClassLoader</li> <li>processName \u5f53\u524d\u8fdb\u7a0b\u540d\u79f0</li> <li>packageName \u5f53\u524d\u5e94\u7528\u5305\u540d</li> </ul> <p>CamelToolKit\u4e2d\u5bf9\u8fd9\u51e0\u9879\u5c5e\u6027\u8fdb\u884c\u4e86\u8d4b\u503c\uff0c\u65b9\u4fbf\u63d2\u4ef6\u4e2d\u4f7f\u7528\uff0c\u5426\u5219\u5728\u539f\u751fXposed\u4e2d\u9700\u8981\u624b\u52a8\u83b7\u53d6context\u3002\u540c\u65f6\u5982\u679c\u60f3\u8981\u5728\u63d2\u4ef6\u4e2d\u5224\u65ad\u5f53\u524d\u8fdb\u7a0b\u662f\u5426\u662f\u4e3b\u8fdb\u7a0b\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528CamelToolKit.processName\u4e0eCamelToolKit.packageName\u662f\u5426\u76f8\u7b49\u6765\u5224\u65ad\uff0c\u539f\u7406\u662f\u5b89\u5353\u4e2d\u4e3b\u8fdb\u7a0b\u7684\u8fdb\u7a0b\u540d\u79f0\u4e0e\u5e94\u7528\u5305\u540d\u76f8\u540c\u3002</p>"},{"location":"awesome-reverse-main/android/QContainer-hook/#_1","title":"\u5207\u6362\u5e94\u7528\u5206\u8eab","text":"<p>\u5e94\u7528\u5206\u8eab\u662fQContainer\u7684\u6838\u5fc3\u529f\u80fd\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u4e2a\u5e94\u7528\u5206\u8eab\u5bf9\u5e94\u7740\u4e00\u4e2a\u5168\u65b0\u7684\u540c\u578b\u53f7\u8bbe\u5907\uff0c\u5206\u8eab\u4e2d\u4f1a\u5bf9\u8bbe\u5907\u4fe1\u606f\u3001\u5730\u7406\u4f4d\u7f6e\u8fdb\u884c\u4e00\u5b9a\u7684\u8303\u56f4\u968f\u673a\u6a21\u62df\uff0c\u901a\u5e38\u5728\u63d2\u4ef6IRposedHookLoadPackage#handleLoadPackage\u4e2d\u4f7f\u7528CamelToolKit.virtualEnv.switchEnv(String)\u6765\u63a7\u5236\u5207\u6362\u65f6\u673a\uff0c\u4f46\u5982\u679c\u9605\u8bfb\u4e86QContainer\u7684\u6e90\u7801\u4e4b\u540e\uff0c\u53ef\u4ee5\u53d1\u73b0\u5e76\u4e0d\u662f\u4e00\u5b9a\u9700\u8981\u5728\u63d2\u4ef6Hook\u52a0\u8f7d\u7684\u65f6\u673a\u624d\u53ef\u4ee5\u8fdb\u884c\u5207\u6362\u5206\u8eab\uff0c\u5728\u5b9a\u65f6\u8c03\u5ea6CamelTask#loadTask\u65b9\u6cd5\u4e2d\u4e5f\u662f\u53ef\u4ee5\u5207\u6362\u5206\u8eab\uff0c\u800c\u4e14\u4f7f\u7528CamelToolKit\u5207\u6362\u65f6\u4e5f\u5e76\u4e0d\u662f\u7acb\u5373\u5207\u6362\uff0c\u8be5\u6b65\u9aa4\u4ec5\u4ec5\u662f\u8bbe\u7f6e\u4e86\u5f85\u5207\u6362\u7684\u5206\u8eabID\uff0c\u9700\u8981\u5728\u63d2\u4ef6IRposedHookLoadPackage\u6267\u884c\u5b8c\u540e\u624d\u4f1a\u771f\u6b63\u6267\u884c\u5207\u6362\u903b\u8f91\u3002</p> <p>\u548c\u5e94\u7528\u5206\u8eab\u76f8\u5173\u7684API\u5728CamelToolKit#virtualEnv\u4e2d\uff0c\u5176\u4e2d\u4f7f\u7528\u9891\u7387\u6700\u9ad8\u7684\u5c31\u662fswitchEnv\u65b9\u6cd5\uff0c\u7528\u4e8e\u63a7\u5236\u5207\u6362\u5230\u54ea\u4e2a\u5206\u8eab\u3002\u5176\u6b21\u8fd8\u6709\u4e00\u4e2a\u5206\u8eab\u7ba1\u7406\u7684\u76f8\u5173\u65b9\u6cd5\uff1a - removeUser(String) \u5220\u9664\u5206\u8eab\uff0c\u4f46\u4e0d\u80fd\u5220\u9664\u5f53\u524d\u5206\u8eab - nowUser() \u5f53\u524d\u5206\u8eab - availableUserSet() \u83b7\u53d6\u5f53\u524d\u8bbe\u5907\u4e2d\u6240\u6709\u5206\u8eab - disableFakeFingerprint() \u4e0d\u4f7f\u7528QC\u6240\u63d0\u4f9b\u7684\u6307\u7eb9\u6a21\u62df\u529f\u80fd</p>"},{"location":"awesome-reverse-main/android/QContainer-hook/#io","title":"IO\u91cd\u5b9a\u5411","text":"<p>\u7531\u4e8eQContainer\u7684\u5206\u8eab\u529f\u80fd\u57fa\u4e8eIO\u91cd\u5b9a\u5411\u5b9e\u73b0\uff0c\u4f8b\u5982\u5c06\u5e94\u7528data\u76ee\u5f55\u91cd\u5b9a\u5411\u5230\u4e00\u4e2a\u865a\u62df\u7684\u76ee\u5f55\uff0c\u5982\u679c\u83b7\u53d6\u6587\u4ef6\u65f6\u673a\u4e0d\u5bf9\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u9884\u671f\u83b7\u53d6\u67d0\u4e2a\u6587\u4ef6\u4f46\u662f\u62a5\u9519\u6587\u4ef6\u672a\u627e\u5230\u7684IO\u5f02\u5e38\u60c5\u51b5\uff0c\u4f8b\u5982QC\u65e9\u671f\u5f00\u53d1\u4e2d\u9047\u5230\u975e\u5e38\u591a\u8fd9\u7c7b\u95ee\u9898\uff0c\u4e3a\u4e86\u4fbf\u4e8e\u5b9a\u4f4d\u8fd9\u4e9b\u95ee\u9898\uff0c\u5c06\u91cd\u5b9a\u5411\u7684\u76f8\u5173API\u5bf9\u5916\u66b4\u9732\u65b9\u4fbf\u83b7\u53d6\u67d0\u4e2a\u8def\u5f84\u662f\u5426\u88ab\u91cd\u5b9a\u5411\u7b49\u3002</p> <p>\u4f7f\u7528\u65f6\u901a\u8fc7CamelToolKit#ioRelocator\u5373\u53ef\uff0c\u5177\u4f53API\u5982\u63a5\u53e3\u6240\u793a\uff0c\u8fd9\u91cc\u7b80\u5355\u4ecb\u7ecd\u51e0\u4e2a\u5e38\u7528\u7684API\uff1a - String getRedirectedPath(String origPath); //\u83b7\u53d6\u67d0\u4e2a\u8def\u5f84\u91cd\u5b9a\u5411\u540e\u7684\u8def\u5f84\uff0c\u82e5\u672a\u91cd\u5b9a\u5411\u5219\u8fd4\u56de\u539f\u8def\u5f84 - void redirectFile(String origPath, String newPath); //\u91cd\u5b9a\u5411\u67d0\u4e2a\u6587\u4ef6\u81f3\u65b0\u8def\u5f84 - void whitelistFile(String path); //\u5c06\u67d0\u4e2a\u8def\u5f84\u52a0\u5165\u767d\u540d\u5355 - void forbid(String path, boolean file); //\u8bbe\u7f6e\u67d0\u4e2a\u8def\u5f84\u4e3a\u4e0d\u5b58\u5728 - void readOnlyFile(String path); // \u8bbe\u7f6e\u67d0\u4e2a\u8def\u5f84\u4e3a\u53ea\u8bfb\u6587\u4ef6</p>"},{"location":"awesome-reverse-main/android/QContainer-hook/#whitesdcarddirpath","title":"whiteSdcardDirPath","text":"<p>\u7531\u4e8eQContainer\u5bf9SD\u5361\u8def\u5f84\u4e5f\u505a\u4e86IO\u91cd\u5b9a\u5411\uff0c\u6240\u4ee5\u4f7f\u7528\u65f6\u4e00\u5b9a\u8981\u6ce8\u610f\u907f\u514d\u5728hook\u56de\u8c03\uff08\u524d\u6587\u8bf4\u5230\u7684IO\u91cd\u5b9a\u5411\u7684\u65f6\u673a\uff09\u4e2d\u76f4\u63a5\u4f7f\u7528\u5e38\u89c4\u7684/sdcard\u8def\u5f84\u4fdd\u5b58\u548c\u8bfb\u53d6\uff0c\u6b64\u65f6\u5e94\u8be5\u4f7f\u7528CamelToolKit#whiteSdcardDirPath\u767d\u540d\u5355\u8def\u5f84\u8fdb\u884c\u4fdd\u5b58\u548c\u8bfb\u53d6\u3002</p>"},{"location":"awesome-reverse-main/android/QContainer-hook/#icamelmanagersupport-icamelschedulertaskhandler","title":"ICamelManagerSupport &amp; ICamelSchedulerTaskHandler","text":"<p>\u8fd9\u4e24\u4e2a\u7c7b\u5206\u522b\u662fManager\u63d0\u4f9b\u7684\u8f85\u52a9\u529f\u80fd\u4ee5\u53ca\u5b9a\u65f6\u4efb\u52a1\u76f8\u5173API\uff0c\u76ee\u524d\u4ec5\u63d0\u4f9b\u4e86\u5207\u6362\u5c0f\u7c73\u673a\u578b\u7684\u98de\u884c\u6a21\u5f0f\u529f\u80fd\uff0c\u5f85\u540e\u7eed\u9700\u6c42\u9700\u8981\u5b9a\u5236\u6269\u5c55\u3002</p>"},{"location":"awesome-reverse-main/android/android-base-knowledge/","title":"\u5b89\u5353\u9006\u5411\u57fa\u7840\u77e5\u8bc6","text":"<p>\u4f5c\u4e3a\u4e00\u4e2a\u5b89\u5353\u9006\u5411\u8005\uff0c\u9996\u5148\u5fc5\u987b\u5bf9\u9006\u5411\u76ee\u6807\u6709\u4e00\u4e2a\u5927\u5c40\u89c2\u8ba4\u77e5\uff0c\u5bf9\u4e8e\u4efb\u610f\u4e00\u95e8\u8bed\u8a00\u7684\u9006\u5411\u5747\u662f\u5982\u6b64\u3002\u76ee\u6807\u8bed\u8a00\u7684\u7f16\u5199\u8bed\u6cd5\u3001\u7f16\u8bd1\u4ea7\u7269\u3001\u7f16\u8bd1\u8fc7\u7a0b\u3001\u6253\u5305\u8fc7\u7a0b\u3001\u6267\u884c\u539f\u7406\uff0c\u4e0d\u9700\u8981\u6df1\u5165\uff0c\u4f46\u9700\u8981\u4e86\u89e3\u3002</p> <p>\u5bf9\u4e8e\u5b89\u5353APP\u9006\u5411\uff0c\u672c\u8eab\u57fa\u4e8eJVM\uff0c\u4f46\u5728JVM\u89c4\u8303\u7684\u5b9e\u73b0\u4e0a\u6709\u6240\u4e0d\u540c\uff0c\u540c\u65f6\u5b89\u5353\u5404\u4e2a\u7248\u672c\u7684\u865a\u62df\u673a\u4e5f\u6709\u8bb8\u591a\u7ec6\u8282\u4e0d\u540c\uff0c\u8fd9\u4e9b\u53d8\u66f4\u5747\u4f1a\u5bfc\u81f4\u5bf9Hook\u6280\u672f\u4ea7\u751f\u4e0d\u540c\u7684\u5f71\u54cd\uff0c\u5176\u4e2d\u6700\u5927\u7684\u53d8\u5316\u5c31\u662f\u4ece4.4\u52305.0\uff0c\u5b8c\u6210\u4e86Davilk\u865a\u62df\u673a\u5230ART\u865a\u62df\u673a\u7684\u8f6c\u53d8\uff0c\u7531\u4e8e\u76ee\u524d\u57fa\u672c\u4e0d\u5b58\u5728\u5b89\u53534.4\u4ee5\u4e0b\u7684\u7cfb\u7edf\uff0c\u6240\u4ee5\u4e3b\u8981\u5b66\u4e60ART\u865a\u62df\u673a\u5373\u53ef\u3002</p> <p>\u5b89\u5353\u9006\u5411\u901a\u5e38\u4e00\u4e2a\u5927\u81f4\u7684\u6d41\u7a0b\u5982\u4e0b\u6240\u793a\uff0c\u6838\u5fc3\u5728\u4e8e\u5982\u4f55\u786e\u5b9a\u76ee\u6807\u529f\u80fd\u4ee3\u7801\u4f4d\u7f6e\uff0c\u4ee5\u53ca\u5982\u4f55\u8fd8\u539f\u5bf9\u65b9\u4ee3\u7801\u903b\u8f91 1. \u53cd\u7f16\u8bd1 2. \u6293\u5305/Uiautomator/DDMS 3. \u8131\u58f3 4. Hook 5. \u7b97\u6cd5\u8fd8\u539f/\u6a21\u62df\u8c03\u7528/\u81ea\u52a8\u70b9\u51fb</p> <p>\u6240\u4ee5\u6211\u4eec\u9996\u5148\u5bf9\u5b89\u5353\u865a\u62df\u673a\u548c\u5b89\u5353APK\u6709\u4e2a\u5927\u6982\u7684\u4e86\u89e3\uff0c\u77e5\u6653\u4ece\u4f55\u4e0b\u624b\u3002</p>"},{"location":"awesome-reverse-main/android/android-base-knowledge/#_2","title":"\u5b89\u5353\u5de5\u7a0b\u7f16\u8bd1\u6253\u5305","text":"<p>\u5728Java\u4e2d\u4e3a\u4e86\u8de8\u5e73\u53f0\u6267\u884c\uff0c.java\u6587\u4ef6\u6700\u7ec8\u4f1a\u88ab\u7f16\u8bd1\u6210.class\u5b57\u8282\u7801\u6587\u4ef6\uff0c\u7136\u540e\u88ab\u52a0\u8f7d\u81f3\u865a\u62df\u673a\u4e2d\u6267\u884c\uff0c\u5b9e\u9645\u751f\u4ea7\u4e2d\uff0c\u5de5\u7a0b\u5f80\u5f80\u88ab\u6253\u5305\u6210jar\u5305\u6216\u8005war\u5305\u90e8\u7f72\u8fd0\u884c\u3002</p> <p>\u5728\u5b89\u5353\u4e2d\uff0c\u5de5\u7a0b\u7684\u6700\u7ec8\u4ea7\u7269\u5219\u662f\u4e00\u4e2aAPK\u6216\u8005AAR\u5305\uff0cAPK\u4e0d\u7528\u8fc7\u591a\u4ecb\u7ecd\uff0c.aar\u5305\u5219\u662f\u7c7b\u4f3c\u4e8ejar\u5305\uff0c\u4f5c\u4e3a\u5b89\u5353\u5e94\u7528\u7a0b\u5e8f\u6a21\u5757\u7684\u4f9d\u8d56\u9879\uff0c\u4f46\u76f8\u6bd4\u4e8eJar\u5305\uff0c\u9664\u4e86\u53ef\u4ee5\u6253\u5305Java\u6587\u4ef6\uff0c\u8fd8\u53ef\u4ee5\u5305\u542bAndroidManifest.xml\u548c\u8d44\u6e90\u6587\u4ef6\uff0c\u4ee5\u53caSO\u6587\u4ef6\u3002</p> <p>\u5f53\u6211\u4eec\u5bf9APP\u8fdb\u884c\u9006\u5411\u65f6\uff0c\u5f80\u5f80\u4ece\u5bf9\u65b9\u7684APK\u5165\u624b\uff0c\u4e00\u4e2aAPK\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u538b\u7f29\u5305\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u91cd\u547d\u540d\u540e\u7f00\u4e3a.zip\u6253\u5f00\uff0c\u4e00\u4e2aAPK\u89e3\u538b\u4e4b\u540e\u901a\u5e38\u5305\u542b\u4ee5\u4e0b\u6587\u4ef6\u5939\u548c\u6587\u4ef6\uff1a - META-INF\u6587\u4ef6\u5939\uff1a\u5e94\u7528\u8bc1\u4e66\u548c\u7b7e\u540d\u7b49\u4fe1\u606f - res\u6587\u4ef6\u5939\uff1a\u754c\u9762\u5e03\u5c40\u6587\u4ef6\u548c\u8d44\u6e90\u4fe1\u606f - AndroidManifest.xml \u5b89\u5353\u6e05\u5355\u6587\u4ef6\uff0c\u975e\u5e38\u91cd\u8981\uff0c\u5404\u9879\u5c5e\u6027\u5305\u540d\u7b49\u548c\u7ec4\u4ef6\u6ce8\u518c\u7684\u5730\u65b9\uff0c\u4e8c\u8fdb\u5236\u683c\u5f0f\u6587\u4ef6\uff0c\u9700\u8981\u53cd\u7f16\u8bd1 - classes*.dex \u5e94\u7528\u7a0b\u5e8f\u7684\u5b57\u8282\u7801\u6587\u4ef6\u518d\u7f16\u8bd1\u540e\u7684\u4ea7\u7269dex\u6587\u4ef6\u76ee\u5f55 - resources.arsc - lib\u6587\u4ef6\u5939\uff1aSO\u6587\u4ef6\u76ee\u5f55</p> <p>\u53ef\u4ee5\u53d1\u73b0\uff0c\u5b89\u5353\u4e2d\u6700\u7ec8\u7f16\u8bd1\u7684\u4ea7\u7269\u5e76\u4e0d\u662fclass\u6587\u4ef6\u800c\u662fdex\u6587\u4ef6\uff0cdex\u6587\u4ef6\u5b9e\u9645\u4e0a\u662f\u591a\u4e2aclass\u6587\u4ef6\u7684\u96c6\u5408\uff0cdex\u6587\u4ef6\u5bf9clas\u6587\u4ef6\u4e2d\u7684\u5197\u4f59\u4fe1\u606f\u8fdb\u884c\u4e86\u5408\u5e76\uff0c\u591a\u4e2aclass\u6587\u4ef6\u5171\u4eab\u4e00\u4e2a\u5e38\u91cf\u6c60\uff0c\u51cf\u5c11\u6587\u4ef6\u4f53\u79ef\u3002SDK\u4e2d\u6709\u4e2adx\u5de5\u5177\u4e13\u95e8\u7528\u4e8e\u5c06class\u6587\u4ef6\u8f6c\u6362\u4e3adex\u6587\u4ef6\u3002\uff08DEX\u6587\u4ef6\u7684\u683c\u5f0f--\u5b89\u5353\u9006\u5411\u5fc5\u5907\uff09</p>"},{"location":"awesome-reverse-main/android/android-base-knowledge/#smali","title":"smali\u6587\u4ef6","text":"<p>\u5b89\u5353\u4e2d\u9664\u4e86.class\u6587\u4ef6\u548c.dex\u6587\u4ef6\uff0c\u8fd8\u6709\u4e00\u79cd\u7ecf\u5e38\u7528\u5230\u7684smali\u6587\u4ef6\uff0csmali\u662f\u5b89\u5353\u865a\u62df\u673a\u5b57\u8282\u7801\u7684\u4e00\u79cd\u52a9\u8bb0\u65b9\u5f0f\uff0c\u5c06\u4e8c\u8fdb\u5236\u7684\u5b57\u8282\u7801\u53cd\u7f16\u8bd1\u6210\u4fbf\u4e8e\u7406\u89e3\u7684\u7279\u5b9a\u8bed\u6cd5\u683c\u5f0f\uff0c\u56e0\u6b64smali\u6587\u4ef6\u4e2d\u5bf9\u5e94\u7740Java\u4ee3\u7801\u7f16\u8bd1\u540e\u7684\u4e00\u6761\u6761\u5b57\u8282\u7801\u6307\u4ee4\u3002</p> <p>smali\u6587\u4ef6\u5728\u9006\u5411\u4e2d\u7684\u4f5c\u7528\u901a\u5e38\u662f\u7528\u4e8e\u6821\u9a8cJava\u4ee3\u7801\u53cd\u7f16\u8bd1\u7684\u662f\u5426\u6b63\u786e\uff0c\u56e0\u4e3a\u4ece\u6307\u4ee4\u53cd\u7f16\u8bd1\u56deJava\u8bed\u8a00\u5f80\u5f80\u4f1a\u51fa\u73b0\u4e00\u4e9b\u65e0\u6cd5\u8bc6\u522b\u7684\u60c5\u51b5\uff0c\u4f8b\u5982Jadx\u65e0\u6cd5\u5904\u7406\u591a\u5c42try-catch\u5d4c\u5957\u7684\u60c5\u51b5\uff0c\u800csmali\u4ee3\u7801\u662f\u51c6\u786e\u7684\uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528smali\u4ee3\u7801\u6765\u8f85\u52a9\u6211\u4eec\u8bc6\u522b\u5bf9\u65b9\u4ee3\u7801\u903b\u8f91\u3002\u4f8b\u5982\u5f53\u6211\u4eec\u60f3Hook\u67d0\u4e2a\u5185\u90e8\u7c7b\u65f6\uff0c\u7531\u4e8e\u5185\u90e8\u7c7b\u6700\u7ec8\u4f1a\u88ab\u7f16\u8bd1\u6210\u7c7b\u4f3cA$1.class\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4ecesmali\u4ee3\u7801\u91cc\u83b7\u53d6\u8be5\u5185\u90e8\u7c7b\u7f16\u8bd1\u540e\u7684\u5177\u4f53\u7c7b\u540d\u3002</p> <p>\u60f3\u8981\u8bfb\u61c2smali\u6587\u4ef6\uff0c\u9996\u5148\u8981\u77e5\u9053smali\u8bed\u6cd5\uff0c\u5927\u81f4\u53ef\u5206\u4e3a\u6587\u4ef6\u7ed3\u6784\u3001\u5bc4\u5b58\u5668\u58f0\u660e\u89c4\u8303\u3001\u53d8\u91cf\u7c7b\u578b\u89c4\u8303\u3001\u6307\u4ee4\u683c\u5f0f\uff0c\u4f8b\u5982\u4e00\u6bb5Java\u4ee3\u7801\uff1a <pre><code>int a = 10;\ntry {\n    callSomeMethod();\n} catch (Exception e) {\n    a = 0;\n}\ncallAnotherMethod();\n</code></pre></p> <p>\u7ffb\u8bd1\u6210smali\u4e4b\u540e\uff1a <pre><code>const/16 v0, 0xa\n\n:try_start_0            # try \u5757\u5f00\u59cb\ninvoke-direct {p0}, Lnet/flygon/myapplication/SubActivity;-&gt;callSomeMethod()V\n:try_end_0              # try \u5757\u7ed3\u675f\n\n.catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0\n\n:goto_0\ninvoke-direct {p0}, Lnet/flygon/myapplication/SubActivity;-&gt;callAnotherMethod()V\nreturn-void\n\n:catch_0                # catch \u5757\u5f00\u59cb\nmove-exception v1\nconst/4 v0, 0x0\ngoto :goto_0            # catch \u5757\u7ed3\u675f\n</code></pre></p> <p>\u53ef\u4ee5\u770b\u5230smali\u4ee3\u7801\u4e0d\u4ec5\u53ef\u4ee5\u51c6\u786e\u63cf\u8ff0\u5b57\u8282\u7801\u6307\u4ee4\uff0c\u8fd8\u5341\u5206\u65b9\u4fbf\u9605\u8bfb\u3002</p> <p>\u66f4\u591a\u7ec6\u8282\u53ef\u81ea\u884c\u5b66\u4e60\u6216\u53c2\u8003\u6587\u7ae0</p> <p>\u9006\u5411smali\u7684\u6587\u4ef6\u4e00\u4e2a\u4f5c\u7528\u5728\u4e8e\u8f85\u52a9\u4ee3\u7801\u903b\u8f91\u5ba1\u8ba1\uff0c\u5176\u6b21\u8fd8\u53ef\u4ee5\u901a\u8fc7\u5c06\u5bf9\u65b9\u4ee3\u7801\u53cd\u7f16\u8bd1\u56desmali\u7136\u540e\u8fdb\u884c\u4fee\u6539\uff0c\u4f8b\u5982if-else\u903b\u8f91\u66f4\u6539\u6216\u8005\u63d2\u5165\u4ee3\u7801\u7b49\uff0c\u518d\u7f16\u8bd1\u56dedex\u66ff\u6362\u5e76\u91cd\u6253\u5305\u6765\u5b9e\u73b0\u5bf9\u65b9APK\u7684\u4fee\u6539\u3002</p>"},{"location":"awesome-reverse-main/android/android-base-knowledge/#odexoat","title":"ODEX\u548cOAT","text":"<p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5b89\u5353\u7cfb\u7edf\u5728\u6bcf\u6b21\u542f\u52a8APP\u65f6\u4f1a\u4ece\u4e2d\u83b7\u53d6\u5230 dex \u6587\u4ef6\u5e76\u8fdb\u884c\u89e3\u91ca\u6267\u884c\uff0c\u4f46\u662f\u6bcf\u6b21\u90fd\u8fd9\u6837\u505a\uff0c\u6548\u7387\u4f1a\u6bd4\u8f83\u4f4e\u4e0b\u3002Android \u5f00\u53d1\u8005\u63d0\u51fa\u4e86\u4e00\u79cd\u65b9\u5f0f\uff0c\u5373\u6211\u4eec\u6700\u521d\u52a0\u8f7d dex \u6587\u4ef6\u65f6\uff0c\u5c31\u5bf9\u5176\u8fdb\u884c\u4f18\u5316\uff0c\u751f\u6210\u4e00\u4e2a ODEX \u6587\u4ef6\uff0c\u5b58\u653e\u5728 /data/dalvik-cache \u76ee\u5f55\u4e0b\u3002\u5f53\u4ee5\u540e\u518d\u6b21\u8fd0\u884c\u8fd9\u4e2a\u7a0b\u5e8f\u65f6\uff0c\u6211\u4eec\u53ea\u9700\u8981\u76f4\u63a5\u52a0\u8f7d\u8fd9\u4e2a\u4f18\u5316\u8fc7\u7684 ODEX \u6587\u4ef6\u5c31\u884c\u4e86\uff0c\u7701\u53bb\u4e86\u6bcf\u6b21\u90fd\u8981\u4f18\u5316\u7684\u65f6\u95f4\u3002</p> <p>\u4f46\u8fd9\u662f\u5b89\u53534.4\u4e4b\u524d\u7684\u505a\u6cd5\uff0c\u5728\u5b89\u53535.0\u4e4b\u540e\uff0c\u5b89\u5353\u5f15\u5165\u4e86AOT\uff08Ahead-Of-Time\uff09\u9759\u6001\u7f16\u8bd1\u673a\u5236\uff0c\u8fd9\u79cd\u673a\u5236\u4f1a\u5728APK\u5b89\u88c5\u65f6\u8fdb\u884c\u4f18\u5316\u751f\u6210oat\u6587\u4ef6\uff0coat\u6587\u4ef6\u672c\u8d28\u4e0a\u662f\u4e00\u79cdELF\u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u539f\u59cbdex\u548c\u65b9\u6cd5\u4f18\u5316\u540e\u7684\u672c\u5730\u6307\u4ee4\uff0c\u5982\u6b64\u4e00\u6765\uff0c\u865a\u62df\u673a\u53ef\u7701\u53bb\u89e3\u91ca\u6267\u884c\u7684\u6b65\u9aa4\u76f4\u63a5\u6267\u884c\u672c\u5730\u673a\u5668\u7801\u6765\u52a0\u5feb\u5e94\u7528\u901f\u5ea6\u3002\u4f46\u6b64\u79cd\u65b9\u5f0f\u4f1a\u5bfc\u81f4\u5e94\u7528\u5b89\u88c5\u65f6\u901f\u5ea6\u53d8\u6162\uff0c\u5e94\u7528\u5b89\u88c5\u540e\u66f4\u591a\u7684\u5b58\u50a8\u7a7a\u95f4\u5360\u7528\uff0c\u800c\u4e14\u7cfb\u7edf\u4e00\u65e6\u5347\u7ea7\uff0c\u90a3\u4e48\u6240\u6709\u7684\u5e94\u7528\u5c06\u8981\u91cd\u65b0AOT\uff0c\u8fd9\u4e2a\u65f6\u95f4\u5c06\u4f1a\u975e\u5e38\u7684\u6f2b\u957f\u3002</p> <p>\u6240\u4ee5\u5728\u5b89\u53537.0\u4e4b\u540e\uff0c\u5b89\u5353\u7ee7\u7eed\u8fdb\u884c\u4e86\u4f18\u5316\uff0c\u5f15\u5165\u4e86\u6df7\u5408\u7f16\u8bd1\uff08AOT\u3001\u89e3\u91ca\u6267\u884c\u548cJIT\uff09\u6b64\u65f6\u7684AOT\u53ef\u4ee5\u7406\u89e3\u4e3aAll-Of-Time-Complication\uff0c\u6b64\u65f6APK\u5728\u5b89\u88c5\u65f6\u4e0d\u4f1a\u8fdb\u884c\u9884\u7f16\u8bd1\uff0cAPP\u7684\u5934\u51e0\u6b21\u8fd0\u884c\u4f1a\u4ee5\u89e3\u91ca\u6a21\u5f0f\u6267\u884c\u65b9\u4fbf\u5feb\u901f\u542f\u52a8\uff0c\u540c\u65f6\u6267\u884c\u70ed\u5ea6\u8f83\u9ad8\u7684\u4ee3\u7801\u5219\u4f1a\u88abJIT\uff0c\u540c\u65f6\u4ee3\u7801\u5728\u6267\u884c\u671f\u95f4\u88ab\u5206\u6790\uff0c\u5206\u6790\u7ed3\u679c\u4fdd\u5b58\u5728\u672c\u5730profile\u6587\u4ef6\uff0c\u5f53\u8bbe\u5907\u7a7a\u95f2\u6216\u5145\u7535\u65f6\u624d\u4f1a\u6839\u636e\u8fd9\u4e9bprofile\u6587\u4ef6\u8fdb\u884c\u9884\u7f16\u8bd1\u751f\u6210\u4f18\u5316\u540e\u7684aot\u6587\u4ef6\uff0c\u4f18\u5316\u8fc7\u7a0b\u5305\u542b\u4e86\u591a\u79cd\u5185\u8054\u548c\u4f18\u5316\uff0c\u8fd9\u4e9b\u4f1a\u5bfc\u81f4\u67d0\u4e9b\u65b9\u6cd5\u53ef\u80fd\u65e0\u6cd5\u88ab\u5165\u53e3\u66ff\u6362\u7684\u65b9\u5f0fhook\uff08\u5177\u4f53\u53ef\u4ee5\u53c2\u89c1SandHook\u4f5c\u8005\u5bf9ART invoke\u4ee3\u7801\u7684\u751f\u6210\u7684\u7406\u89e3\uff09\uff0c\u603b\u800c\u8a00\u4e4b\uff0c\u8fd9\u79cd\u6df7\u5408\u7f16\u8bd1\u5bf9\u5f53\u65f6\u57fa\u4e8e\u5165\u53e3\u66ff\u6362\u7684hook\u6280\u672f\u5e26\u6765\u4e86\u65b0\u4e00\u8f6e\u7684\u6311\u6218\u548c\u66f4\u65b0\u3002</p>"},{"location":"awesome-reverse-main/android/android-base-knowledge/#jvm","title":"\u5b89\u5353\u865a\u62df\u673a\u548cJVM\u7684\u533a\u522b","text":"<p>\u524d\u9762\u63d0\u5230\u4e86\u5b89\u5353\u865a\u62df\u673a\u548cJVM\u5728 \u6267\u884c\u6587\u4ef6\u683c\u5f0f\u4e0a\u5c31\u6709\u6240\u533a\u522b\uff0c\u5728\u5b57\u8282\u7801\u6307\u4ee4\u4e0a\u4e24\u8005\u4e5f\u6709\u7740\u8f83\u5927\u533a\u522b\u3002</p> <p>JVM\u4e2d\u5b57\u8282\u7801\u6307\u4ee4\u91c7\u7528\u7684\u662f\u96f6\u64cd\u4f5c\u6570\u5f62\u5f0f\uff0c\u6307\u4ee4\u4e2d\u7684\u53c2\u6570\u4ece\u6c42\u503c\u6808\uff08\u64cd\u4f5c\u6570\u6808\uff09\u4e2d\u8bfb\u53d6\uff0c\u800c\u5b89\u5353\u4e2d\u865a\u62df\u673a \u9762\u5411\u79fb\u52a8\u8bbe\u5907\uff0c\u91c7\u7528\u7684\u5219\u662f\u4e8c\u64cd\u4f5c\u6570\u6216\u4e09\u64cd\u4f5c\u6570\u7684\u5f62\u5f0f\uff0c\u901a\u8fc7\u5bc4\u5b58\u5668\u8bfb\u53d6\u6307\u4ee4\u64cd\u4f5c\u6570\u3002\u540c\u6837\u64cd\u4f5c\u4e0b\uff0c\u5b89\u5353\u865a\u62df\u673a\u6240\u9700\u6307\u4ee4\u6761\u6570\u548c\u5185\u5b58\u8bbf\u95ee\u6b21\u6570\u66f4\u5c11\u3002</p> <p>https://www.jianshu.com/p/8edac8e09b3e</p>"},{"location":"awesome-reverse-main/android/android-base-knowledge/#_3","title":"\u52a0\u56fa\u4e0e\u8131\u58f3","text":"<p>\u53ef\u4ee5\u770b\u51faAPP\u5728\u6253\u5305\u6210APK\u4e4b\u540e\uff0c\u53ef\u4ee5\u8f7b\u800c\u6613\u4e3e\u7684\u53cd\u7f16\u8bd1\u51fa\u6e90\u4ee3\u7801\uff0c\u4ece\u800c\u5bfc\u81f4\u4ee3\u7801\u903b\u8f91\u6cc4\u6f0f\uff0c\u4e3a\u4e86\u9632\u6b62APK\u88ab\u8f7b\u6613\u7834\u89e3\uff0c\u5f00\u59cb\u51fa\u73b0\u4e86\u52a0\u58f3\u6280\u672f\u4ee5\u53ca\u8131\u58f3\u7684\u5bf9\u6297\uff0c\u52a0\u58f3\u662f\u6307\u901a\u8fc7\u4e00\u4e2a\u58f3\u4ee3\u7801\u5c06\u539fAPP\u4ee3\u7801\u8fdb\u884c\u9690\u85cf\uff0c\u5728\u8fd0\u884c\u65f6\u624d\u8fdb\u884c\u771f\u6b63\u539fAPP\u4ee3\u7801\u7684\u52a0\u8f7d\uff0c\u5176\u4e2d\u6f14\u53d8\u51fa\u4e86\u5404\u79cd\u52a0\u56fa\u6280\u672f\uff0c\u5982\u843d\u5730\u58f3\u3001\u975e\u843d\u5730\u58f3\u3001\u7c7b\u62bd\u53d6\u3001VMP\u3001Java2C\u7b49\u7b49\u3002\u901a\u5e38\u8131\u58f3\u662f\u9006\u5411\u5165\u95e8\u7684\u7b2c\u4e00\u6b65\uff0c\u4f46\u5bf9\u4e8e\u5927\u578bAPP\u6765\u8bf4\uff0c\u52a0\u56fa\u52bf\u5fc5\u4f1a\u5f71\u54cd\u4ee3\u7801\u6267\u884c\u6548\u7387\u3002</p>"},{"location":"awesome-reverse-main/android/android-base-knowledge/#native","title":"Native\u5c42\u9006\u5411","text":"<p>\u7531\u4e8e\u76ee\u524d\u5927\u591a\u6570\u7684Java\u5c42\u6df7\u6dc6\u4fdd\u62a4\u65b9\u6848\u592a\u8fc7\u5bb9\u6613\u88ab\u7834\u89e3\uff0c\u56e0\u6b64\u8d8a\u6765\u8d8a\u591a\u7684\u5382\u5546\u5c06\u5173\u952e\u4ee3\u7801\u903b\u8f91\u901a\u8fc7C++\u5b9e\u73b0\uff0c\u7531JNI\u5b9e\u73b0\u8c03\u7528\uff0c\u56e0\u6b64\u9006\u5411\u4e2d\u8fd8\u4f1a\u6d89\u53ca\u5230Native\u5c42\u7684\u9006\u5411\u5373SO\uff08Linux\u4e0b\u52a8\u6001\u94fe\u63a5\u5e93\uff09\u6587\u4ef6\u7684\u9006\u5411\u3002</p> <p>SO\u6587\u4ef6\u4f1a\u6839\u636e\u4e0d\u540c\u7684CPU\u67b6\u6784\u6709\u6240\u5dee\u5f02\uff0cAPP\u7f16\u8bd1\u51fa\u7684SO\u6587\u4ef6\u53ef\u5728APK\u89e3\u538b\u76ee\u5f55lib\u76ee\u5f55\u4e0b\u4e0d\u540cCPU\u67b6\u6784\u4e2d\u627e\u5230\u3002\u5b89\u5353\u4e2d\u76ee\u524d\u4e3b\u6d41\u7684\u662fCPU\u67b6\u6784\u662farmeabi-v7a\u548carm64-v8a\uff0c\u5bf9\u5e9432\u4f4d\u548c 64\u4f4d\u7684 arm\uff0c\u9664\u6b64\u4e4b\u5916\u53ef\u80fd\u8fd8\u6709x86\u3001x86_64\u6216armeabi\u7b49\u4e0d\u5e38\u89c1\u7684\u67b6\u6784\u3002</p> <p>\u8fd9\u91cc\u7ed9\u51faNative\u5c42\u9006\u5411\u5df2\u77e5\u7684\u4e00\u4e9b\u5b66\u4e60\u8def\u5f84\uff1a 1. C++\u57fa\u7840\u4e0e\u5b89\u5353JNI\u5f00\u53d1 2. SO\u6587\u4ef6\u4e0eELF\u6587\u4ef6 3. SO\u6587\u4ef6\u683c\u5f0f\uff08\u5fc5\u5907\uff09 4. ARM\u5e38\u7528\u6c47\u7f16\u6307\u4ee4 5. IDA Pro\u4f7f\u7528\u548c\u8c03\u8bd5  6. \u82b1\u6307\u4ee4\u548collvm 7. IDA\u7684IDC/Python\u811a\u672c\u7f16\u5199</p>"},{"location":"awesome-reverse-main/android/android-base-knowledge/#_4","title":"\u5b89\u5353\u57fa\u672c\u7ec4\u4ef6\u548c\u6e90\u7801\u67e5\u770b","text":"<p>\u6709\u4eba\u8bf4\u8fc7\uff0c\u8981\u60f3\u7834\u89e3\u4e00\u4e2a\u529f\u80fd\uff0c\u9996\u5148\u8981\u4f1a\u5f00\u53d1\u4e00\u4e2a\u529f\u80fd\u3002\u8981\u60f3\u9006\u5411\u5b89\u5353\uff0c\u8fd8\u5f97\u5bf9\u5b89\u5353\u5f00\u53d1\u4e2d\u5e38\u7528\u7684\u7ec4\u4ef6API\u3001\u7cfb\u7edf\u673a\u5236\u6709\u4e2a\u5927\u81f4\u7684\u4e86\u89e3\u3002\u8fd9\u91cc\u5217\u4e3e\u76ee\u524d\u9047\u5230\u9891\u7387\u7684\u4e00\u4e9b\u5b89\u5353\u5f00\u53d1\u77e5\u8bc6\u70b9\u3002 - \u56db\u5927\u7ec4\u4ef6Service\\ContentProvider\\Activity\\BroadcastReceiver\u53ca\u5176\u751f\u547d\u5468\u671f\uff0c\u5176\u4e2dService\u670d\u52a1\u673a\u5236\u548cActivity\u975e\u5e38\u91cd\u8981\uff0c\u5b89\u5353\u4e2d\u6240\u6709\u7cfb\u7edf\u670d\u52a1\u4f8b\u5982PMS\u3001AMS\u7b49\u90fd\u662f\u57fa\u4e8eC/S\u6a21\u5f0f\u901a\u8fc7binder\u901a\u4fe1\uff0c\u56e0\u6b64QContainer\u5c5e\u4e8e\u8fdb\u7a0b\u5185hook\uff0c\u6240\u4ee5\u53ea\u80fd\u8fbe\u5230Client\u7aef\u7684\u7cfb\u7edf\u6e90\u7801hook\u3002\u5176\u6b21Activity\u5bf9\u5e94\u7740\u5b89\u5353\u7684\u9875\u9762\u5c55\u793a\uff0c\u4e0d\u8bba\u81ea\u52a8\u70b9\u51fb\u6216\u8005\u662f\u901a\u8fc7\u9875\u9762\u5e03\u5c40\u5b9a\u4f4d\u5173\u952e\u4ee3\u7801\u90fd\u4f1a\u7528\u4e0a\u3002 - \u5b89\u5353View\u4f53\u7cfb\u53ca\u4e8b\u4ef6\u5206\u53d1\u673a\u5236\uff0c\u9700\u8981\u77e5\u9053\u5e38\u7528\u7684View\u7c7b\u578b\u53ca\u5e38\u7528\u7684\u65b9\u6cd5\uff0c\u81ea\u52a8\u70b9\u51fb\u65f6\u53ef\u4ee5\u7528\u4e0a\u3002 - Binder\u673a\u5236\uff0c\u5b89\u5353\u4e2d\u57fa\u4e8eC/S\u6a21\u5f0f\u7684\u5b89\u5168\u7684\u4ec5\u9700\u4e00\u6b21\u5185\u5b58\u62f7\u8d1d\u7684\u8de8\u8fdb\u7a0b\u901a\u4fe1\u673a\u5236\uff0c\u5728Hook\u65f6\u6ce8\u610fServer\u7aef\u548c\u5ba2\u6237\u7aef\u3002 - Handler\u7528\u6cd5\uff0c\u7ebf\u7a0b\u95f4\u901a\u4fe1\u673a\u5236\uff0c\u5f00\u53d1\u4e2d\u7ecf\u5e38\u7528\u5230\uff0c\u56e0\u4e3a\u5b89\u5353\u4e2d\u4e0d\u5141\u8bb8\u4e3b\u7ebf\u7a0b\u8fdb\u884c\u8017\u65f6\u64cd\u4f5c\uff0c\u4e14\u4e0d\u80fd\u5728\u5b50\u7ebf\u7a0b\u4e2d\u8fdb\u884cUI\u64cd\u4f5c\uff0c\u56e0\u6b64\u5982\u4f55\u5207\u6362\u7ebf\u7a0b\u662f\u5f00\u53d1\u548c\u9006\u5411\u5fc5\u5907\u6280\u80fd\u3002 - \u6e90\u7801\u9605\u8bfb\uff0c\u9006\u5411\u65f6\u5019\u7ecf\u5e38\u9700\u8981\u67e5\u770b\u6e90\u7801\u5b9e\u73b0\uff0c\u4e00\u822c\u53ef\u4ee5\u5728\u7ebf\u6e90\u7801\u67e5\u770b\uff0c\u4f8b\u5982xref\u6216\u8005androidos\uff0c\u518d\u6216\u8005\u5c31\u662f\u81ea\u5df1\u4e0b\u8f7d\u6e90\u7801\u7f16\u8bd1\uff0c\u4f8b\u5982\u300a\u6df1\u5165\u7406\u89e3\u5b89\u5353ART\u865a\u62df\u673a\u300b\u4e2d\u5f00\u7bc7\u63d0\u5230\u7684\u65b9\u5f0f\uff0c\u8fd9\u79cd\u65b9\u5f0f\u9700\u8981\u5360\u7528200G\u5de6\u53f3\u78c1\u76d8\u7a7a\u95f4\u3002 - adb\u547d\u4ee4\uff0cadb\u547d\u4ee4\u662f\u5b89\u5353\u81ea\u5e26\u7684\u7528\u4e8e\u8c03\u8bd5\u3001\u5206\u6790\u548c\u7ba1\u7406\u8bbe\u5907\u65f6\u6240\u7528\u5230\u7684\u7ecf\u5178\u5de5\u5177\uff0c\u8fd9\u91cc\u5217\u4e3e\u51e0\u4e2a\u5e38\u7528\u7684\u547d\u4ee4\uff1a   - adb logcat [-s xxx] \u5b89\u5353\u67e5\u770b\u65e5\u5fd7\u547d\u4ee4\uff0c\u5b89\u5353\u4e2d\u9ed8\u8ba4\u65e5\u5fd7\u8f93\u51fa\u5230\u63a7\u5236\u53f0\u4e2d\u5c31\u662f\u901a\u8fc7\u8be5\u547d\u4ee4\u67e5\u770b\uff0c\u53ef\u4ee5\u6839\u636e\u4e0d\u540c\u7684tag\u7cbe\u51c6\u5339\u914d\u8fdb\u884c\u7b5b\u9009\uff0c\u9047\u5230\u63d2\u4ef6\u5bfc\u81f4APP\u5d29\u6e83\u65f6\u4e00\u5b9a\u8981\u5148\u67e5\u770b\u8be5\u65e5\u5fd7\uff0c\u89c2\u5bdf\u5d29\u6e83\u539f\u56e0\u548c\u5806\u6808\uff0c\u7531\u4e8e\u9ed8\u8ba4\u65e5\u5fd7\u4f1a\u6709\u5f88\u591a\uff0c\u53ef\u4ee5\u5b9a\u4f4d\u5230\u5d29\u6e83\u65f6\u673a\u4e0a\u4e0b\u67e5\u627e\u3002   - adb shell dumpsys activity | grep mFocused -C 5 \u67e5\u770b\u5f53\u524d\u663e\u793a\u7684activity\u540d\u548c\u5305\u540d   - adb shell pm list package \u8f93\u51fa\u5f53\u524d\u8bbe\u5907\u4e2d\u6240\u6709\u5df2\u5b89\u88c5\u7684APP\u5305\u540d   - adb pull/push \u4ece\u8bbe\u5907\u4e2d\u62c9\u53d6\u6587\u4ef6\u5230\u672c\u5730/\u4ece\u672c\u5730\u63a8\u9001\u6587\u4ef6\u5230\u8bbe\u5907\u4e2d   - adb shell am start -D -n \u4ee5debug\u6a21\u5f0f\u542f\u52a8\u7279\u5b9a\u7684APP\u7684\u7279\u5b9aactivity   - adb install/uninstall \u5b89\u88c5/\u5378\u8f7dapp</p>"},{"location":"awesome-reverse-main/android/android-system-start/","title":"Android system start","text":"<p>\u4e4b\u6240\u4ee5\u4f1a\u95ee\u8fd9\u4e2a\u95ee\u9898\uff0c\u4e2a\u4eba\u7406\u89e3\u4e3b\u8981\u662f\u53ef\u4ee5\u884d\u751f\u51fa\u8003\u5bdf\u4e0b\u5217\u51e0\u4e2a\u95ee\u9898\uff1a</p> <ul> <li>\u5b89\u5353\u7cfb\u7edf\u4e2d\u7b2c\u4e00\u4e2a\u7528\u6237\u6001\u8fdb\u7a0b\u662f\u4ec0\u4e48</li> <li>zygote\u8fdb\u7a0b\u6709\u4f55\u610f\u4e49\uff0c\u4ece\u4f55\u800c\u6765</li> <li>\u4e3a\u4ec0\u4e48Xposed\u8fdb\u7a0b\u9009\u62e9\u4fee\u6539app_process</li> <li>riru\u662f\u5982\u4f55\u5b9e\u73b0zygote\u8fdb\u7a0b\u6ce8\u5165</li> <li>system_server\u8fdb\u7a0b\u662f\u4ec0\u4e48</li> <li>binder\u673a\u5236\u4e2dNative\u5c42\u7684ServiceManager\u5982\u4f55\u800c\u6765</li> <li>\u5b89\u5353\u542f\u52a8\u67b6\u6784\uff1aBootloader -&gt; Kernel -&gt; Native -&gt; FrameWork -&gt; App</li> </ul> <p>\u9996\u5148\u6765\u770b\u770b\u5927\u81f4\u7684\u5b89\u5353\u7cfb\u7edf\u5f00\u673a\u6d41\u7a0b\u3002 * \u6309\u4e0b\u7535\u6e90\u952e * BootLoader\u5f15\u5bfc\u7a0b\u5e8f\u542f\u52a8 * \u7528\u6237\u6001\u7b2c\u4e00\u4e2a\u8fdb\u7a0b\uff1ainit\u8fdb\u7a0b * init\u8fdb\u7a0b\u89e3\u6790init.rc\u5e76fork\u51fazygote\u8fdb\u7a0b  * zygote\u8fdb\u7a0bfork\u51fasystem server\u8fdb\u7a0b</p>"},{"location":"awesome-reverse-main/android/android-system-start/#_1","title":"\u5b89\u5353\u7cfb\u7edf\u67b6\u6784","text":"<p>\u5b89\u5353\u542f\u52a8\u67b6\u6784\u4e0eGoogle\u7684\u7ecf\u5178\u4e94\u5c42\u67b6\u6784\u5341\u5206\u7c7b\u4f3c\uff0c\u4e0b\u56fe \u662f\u4ece\u8fdb\u7a0b\u7684\u89c6\u89d2\u6765\u5212\u5206\uff1a </p>"},{"location":"awesome-reverse-main/android/android-system-start/#init","title":"init\u8fdb\u7a0b","text":"<p>init\u8fdb\u7a0b\u662f\u7528\u6237\u6001\u7684\u7b2c\u4e00\u4e2a\u8fdb\u7a0b\uff08pid=1\uff09\uff0c\u9664\u4e86\u4f1a\u5b75\u5316\u51faadbd\u7b49\u5b88\u62a4\u8fdb\u7a0b\uff0c\u8fd8\u542f\u52a8\u4e86ServiceManager\uff08Binder\u7684\u7ba1\u5bb6\uff09\uff0cbootanim\uff08\u5f00\u673a\u52a8\u753b\uff09\u7b49\u91cd\u8981\u670d\u52a1\uff0c\u540c\u65f6init \u8fdb\u7a0b\u8fd8\u5b75\u5316\u9664\u4e86Zygote\u8fdb\u7a0b\uff0cZygote\u8fdb\u7a0b\u662fAndroid\u4e2d\u7684\u7b2c\u4e00\u4e2aJava\u8fdb\u7a0b\uff08\u5373\u865a\u62df\u673a\u8fdb\u7a0b\uff09\uff0cZygote\u662f\u6240\u6709Java\u8fdb\u7a0b\u7684\u7236\u8fdb\u7a0b\u3002</p> <p>\u8fd9\u91ccServiceManager\u8fdb\u7a0b\u7684\u521b\u5efa\u53c8\u6d89\u53ca\u5230\u4e86\u5b89\u5353\u4e2d\u6781\u4e3a\u91cd\u8981\u7684 Binder\u673a\uff0c\u5f85\u4e0b\u56de\u8be6\u7ec6\u5206\u89e3\u3002</p>"},{"location":"awesome-reverse-main/android/android-system-start/#zygote","title":"Zygote\u8fdb\u7a0b","text":"<p>Zygote\u8fdb\u7a0b\u662fJava\u4e16\u754c \u7684\u7b2c\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u6240\u6709APP\u7684\u542f\u52a8\u90fd\u662f\u901a\u8fc7zygote\u8fdb\u7a0b\u800c\u6765\uff0c\u66f4\u8be6\u7ec6\u70b9\u5c31\u662fzygote\u8fdb\u7a0b\u4f1a\u901a\u8fc7\u76d1\u542c\u67d0\u4e2a\u672c\u5730\u7aef\u53e3\u83b7\u53d6\u5f85\u542f\u52a8APP\u7684\u9700\u6c42\uff0c\u7136\u540efork\u81ea\u8eab\u3002\u5177\u4f53\u53ef\u770b APP\u7684\u542f\u52a8\u6d41\u7a0b\u3002</p>"},{"location":"awesome-reverse-main/android/android-system-start/#initzygote","title":"init\u8fdb\u7a0b\u5982\u4f55\u542f\u52a8Zygote\u8fdb\u7a0b","text":"<p>\u67e5\u770binit\u8fdb\u7a0b\u7684\u5165\u53e3\u51fd\u6570system\\core\\init\\init.cpp\u7684main\u65b9\u6cd5\u53ef\u4ee5\u770b\u5230\u6709\u4e00\u53e5\u89e3\u6790init.rc\u6587\u4ef6\u7684\u4ee3\u7801\u3002</p> <p>init.rc\u6587\u4ef6\u662f\u4f7f\u7528Android \u521d\u59cb\u5316\u8bed\u8a00\uff08Android init Language\uff09\u7f16\u5199\u7684\u811a\u672c\u3002</p> <p>\u5728init.rc\u6587\u4ef6\u4e2d\u6709\u4e00\u884c\u7528\u4e8e\u542f\u52a8Zygote\u8fdb\u7a0b\uff1a <pre><code>service zygote /system/bin/app_process32 -Xzygote /system/bin --zygote --start-system-server --socket-name=zygote\n    class main\n    priority -20\n    socket zygote stream 660 root system\n    onrestart write /sys/android_power/request_state wake\n    onrestart write /sys/power/state on\n    onrestart restart media\n    onrestart restart netd\n    writepid /dev/cpuset/foreground/tasks /sys/fs/cgroup/stune/foreground/tasks\n\nservice zygote_secondary /system/bin/app_process64 -Xzygote /system/bin --zygote --socket-name=zygote_secondary\n    class main\n    priority -20\n    socket zygote_secondary stream 660 root system\n    onrestart restart zygote\n    writepid /dev/cpuset/foreground/tasks /sys/fs/cgroup/stune/foreground/tasks\n</code></pre> \u4ece\u8fd9\u884c\u811a\u672c\u53ef\u4ee5\u770b\u51fa\uff1a * \u542f\u52a8\u8fd9\u4e2azygote service\u7684\u53ef\u6267\u884c\u6587\u4ef6\u8def\u5f84\uff1a/system/bin/app_process32 * \u542f\u52a8\u8fd9\u4e2aservice\u7684\u53c2\u6570 * \u76d1\u542c\u4e86\u67d0\u4e2a\u5957\u63a5\u5b57\u7aef\u53e3 * class main \u6307\u7684\u662fzygote \u7684 classname \u4e3a main</p> <p>Zygote\u662f\u4ee5service\u914d\u7f6e\u7684\uff0c\u6240\u4ee5\u5f53\u89e3\u6790\u8be5\u5b8c\u6210\u65f6\uff0cinit\u8fdb\u7a0b\u5c31\u4f1a\u8c03\u7528fork\u53bb\u521b\u5efaZygote\u8fdb\u7a0b\uff0c\u5e76\u4e14\u6267\u884capp_main.cpp\u6587\u4ef6\u4e2d\u7684main\u51fd\u6570\uff0c\u4f5c\u4e3aZygote\u8fdb\u884c\u7684\u542f\u52a8\u5165\u53e3\u3002\u8be5\u51fd\u6570\u4e3b\u8981\u5bf9init.rc\u4e2d\u4f20\u5165\u7684\u53c2\u6570\u8fdb\u884c\u89e3\u6790\uff0c\u4ee5\u53ca\u8c03\u7528AppRuntime#start\u65b9\u6cd5\u8c03\u7528ZygoteInit\u5b8c\u6210Zygote\u8fdb\u7a0b\u542f\u52a8\u3002</p> <p>runtime.start(\"com.android.internal.os.ZygoteInit\", args, zygote)</p> <p>AppRuntime\u7ee7\u627f\u81eaAndroidRuntime\uff0c\u4e3b\u8981\u4f5c\u7528\u5c31\u662f\uff1a 1. \u542f\u52a8\u4e86JVM 2. \u4e3aJVM \u6ce8\u518c\u4e86JNI \u65b9\u6cd5 3. \u89e3\u6790\u53c2\u6570\uff0c\u5f97\u5230\u5bf9\u5e94\u7684\u7c7b\uff0c\u6267\u884c\u8fd9\u4e2ajava\u7c7b\u4e2d\u7684main\u65b9\u6cd5</p> <p>\u7531\u6b64\u5c31\u5f00\u59cb\u6267\u884cZygoteInit.java\uff0c\u5f00\u59cb\u8fdb\u5165Java\u7684\u4e16\u754c\u3002ZygoteInit.java\u4e3b\u8981\u505a\u4e86\u4ee5\u4e0b\u4e8b\u60c5\uff1a 1. \u521b\u5efaserver\u7aef\u7684Socket,\u540d\u79f0\u4e3a ANDROID_SOCKET_zygote\u3002 2. \u9884\u52a0\u8f7d\u7c7b\u548c\u7cfb\u7edf\u8d44\u6e90 3. \u542f\u52a8system_server\u8fdb\u7a0b 4. runSelectLoop \u7528\u4e8e\u7b49\u5f85 \u540e\u7eedAMS\u521b\u5efa\u65b0\u7684\u5e94\u7528\u8fdb\u7a0b\uff0c\u548c\u5176\u8fdb\u884c\u901a\u4fe1</p> <p>\u7531\u6b64\u4e5f\u53ef\u4ee5\u7aa5\u63a2\u51faAPP\u542f\u52a8\u6d41\u7a0b\u4e2d\u4e3a\u4ec0\u4e48\u6240\u6709APP\u8fdb\u7a0b\u90fd\u7531Zygote\u8fdb\u7a0b\u5b75\u5316\u800c\u6765\u3002</p>"},{"location":"awesome-reverse-main/android/android-system-start/#system-server","title":"System Server\u8fdb\u7a0b","text":"<p>\u5728\u5b89\u5353\u4e2d\u6709\u8bb8\u591a\u57fa\u4e8eBinder\u7684Service\u670d\u52a1\uff0c\u4f8b\u5982ActivityManager\u3001PackageManager\u7b49\u7b49\uff0c\u8fd9\u4e9b\u670d\u52a1\u7684\u521b\u5efa\u5c31\u662f\u7531Zygote fork\u800c\u6765\uff0cSystem Server\u662fZygote\u5b75\u5316\u51fa\u7684\u7b2c\u4e00\u4e2a\u8fdb\u7a0b\uff0cSystem Server \u8d1f\u8d23\u542f\u52a8\u548c\u7ba1\u7406\u6574\u4e2aJava FrameWork\uff0c\u5305\u542bActivityManagerService\uff0c WorkManagerService\uff0cPagerManagerService\uff0cPowerManagerService\u7b49\u670d\u52a1\u3002</p> <p>\u90a3\u4e48\u8fd9\u91cc\u8fd8\u53ef\u4ee5\u884d\u751f\u51fa\u5b89\u5353\u7cfb\u7edf\u7684Services\u673a\u5236\u5c31\u662f\uff0cZygote\u8fdb\u7a0b\u5728\u521b\u5efa\u51fa\u8fd9\u4e9b\u7cfb\u7edf\u670d\u52a1\u4e4b\u540e\uff0c\u53c8\u662f\u5982\u4f55\u6ce8\u518c\u8ba9\u5404APP\u8fdb\u7a0b\u8c03\u7528\u7684\u5462\uff1f</p>"},{"location":"awesome-reverse-main/android/android-system-start/#xposedapp_process","title":"Xposed\u4e3a\u4ec0\u4e48\u8981\u4fee\u6539app_process","text":"<p>\u4f17\u6240\u5468\u77e5\uff0cXposed\u4e4b\u6240\u4ee5\u53ef\u4ee5\u5b9e\u73b0hook\u7684\u539f\u56e0\u662f\u4fee\u6539\u4e86app_process\u5c06\u81ea\u5df1\u7684\u4ee3\u7801\u6ce8\u5165\u5230\u4e86Zygote\u8fdb\u7a0b\uff0c\u76f8\u5f53\u4e8e\u5b8c\u6210\u4e86Zygote\u8fdb\u7a0b\u7684\u66ff\u6362\uff0c\u90a3\u4e48app_process\u662f\u4ec0\u4e48\u4e1c\u897f\u5462\uff1f</p> <p>\u5b9e\u9645\u4e0a\uff0capp_process\u5c31\u662fZygote\u8fdb\u7a0b\u5bf9\u5e94\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002</p>"},{"location":"awesome-reverse-main/android/android-system-start/#riruzygote","title":"riru\u662f\u5982\u4f55\u5b9e\u73b0zygote\u8fdb\u7a0b\u6ce8\u5165","text":"<p>riru\u662f\u4e00\u4e2a\u53ea\u9700\u8981\u4fee\u6539\u4e00\u4e2a\u7cfb\u7edf\u6587\u4ef6\u5c31\u53ef\u4ee5\u8fbe\u5230\u5168\u5c40\u6ce8\u5165\u7684\u6a21\u5757\u3002</p> <p>riru: https://github.com/RikkaApps/Riru</p> <p>riru\u91c7\u53d6\u7684\u505a\u6cd5\u4e0d\u662f\u66ff\u6362app_process\uff0c\u56e0\u4e3a\u8fd9\u6837\u6539\u52a8\u6210\u672c\u592a\u5927\uff0c\u56e0\u6b64riru\u7684\u60f3\u6cd5\u662f\u627e\u5230\u4e00\u4e2a\u4f1a\u5728app_process\u6267\u884c\u8fc7\u7a0b\u4e2d\u52a0\u8f7d\u7684so\u5e93\u6587\u4ef6\uff0c\u4f46\u662f\u8be5so\u5e93\u6587\u4ef6\u5c3d\u91cf\u5c0f\uff0c\u7136\u540e\u66ff\u6362\u8be5so\u5e93\u6587\u4ef6\u6765\u5b9e\u73b0zygote\u5168\u5c40\u6ce8\u5165\u3002</p> <p>\u6240\u4ee5riru\u627e\u5230libmemtrack.so\uff0c\u8be5so\u53ea\u6709\u5341\u4e2a\u5bfc\u51fa \u51fd\u6570\uff0c\u4fee\u6539\u8d77\u6765\u4f1a\u6bd4\u8f83\u7b80\u5355\u3002</p> <p>\u5176\u6b21riru\u4e3a\u4e86\u76d1\u63a7\u5e94\u7528\u8fdb\u7a0b\u548c\u7684\u542f\u52a8\uff0criru \u66ff\u6362\u4e86\u4e24\u4e2aJNI\u51fd\u6570\uff08com.android.internal.os.Zygote#nativeForkAndSpecialize &amp; com.android.internal.os.Zygote#nativeForkSystemServer\uff09\uff0c\u8fd9\u4e24\u4e2aJNI\u51fd\u6570\u4f1a\u5728zygote\u8fdb\u7a0b\u88abfork\u65f6\u8c03\u7528\uff0c\u81f3\u4e8e\u5982\u4f55\u66ff\u6362\u5219\u662f\u901a\u8fc7hook libandroid_runtime.so\u5bf9jniRegisterNativeMethods\u65b9\u6cd5\uff08\u6765\u81ealibnativehelper.so\uff09\u7684\u8c03\u7528\uff0c\u8fd9\u6837\u5c31\u80fd\u62e6\u622a\u4e00\u90e8\u5206\u7684JNI\u65b9\u6cd5\u8c03\u7528\u4e86\u3002\u4e3a\u4ec0\u4e48\u8bf4\u662f\u4e00\u90e8\u5206\uff1f\u56e0\u4e3a\u53e6\u4e00\u90e8\u5206JNI\u51fd\u6570\u7684\u5b9e\u73b0\u5728libart\u91cc\uff0c\u8fd9\u4e00\u90e8\u5206\u51fd\u6570\u76f4\u63a5\u901a\u8fc7env-&gt;RegisterNativeMethods\u5b8c\u6210\u6ce8\u518c\uff0c\u6240\u4ee5\u65e0\u6cd5hook\u3002</p> <p>\u4e4b\u540eriru\u5728\u88ab\u66ff\u6362\u7684jniRegisterNativeMethods\u4e2d\u52a8\u4e86\u4e00\u70b9\u5c0f\u624b\u811a\uff1a\u5982\u679c\u6b63\u5728\u6ce8\u518c\u6765\u81eaZygote\u7c7b\u7684JNI\u65b9\u6cd5\uff0c\u90a3\u4e48\u4f1a\u628anativeForkSystemServer\u548cnativeForkAndSpecialize\u66ff\u6362\u6210\u81ea\u5df1\u7684\u5b9e\u73b0\uff0c\u8fd9\u6837\u5c31\u80fd\u62e6\u622asystem_server\u4e0e\u5e94\u7528\u8fdb\u7a0b\u7684\u542f\u52a8\u4e86\uff01</p>"},{"location":"awesome-reverse-main/android/android-system-start/#so","title":"\u4e0d\u901a\u8fc7\u66ff\u6362\u7cfb\u7edfso\u6587\u4ef6\u8fdb\u884c\u5168\u5c40\u6ce8\u5165\u7684\u4e00\u79cd\u65b9\u5f0f","text":"<p>\u5728app_process\u6e90\u7801\u4e2d\uff0c\u6709\u8fd9\u6837\u4e00\u6bb5\u903b\u8f91\uff1a 1. \u8bfb\u53d6/system/etc/public.libraries.txt\u548c/vendor/etc/public.libraries.txt 2. \u6328\u4e2adlopen\u8fd9\u4e24\u4e2atxt\u6587\u4ef6\u91cc\u63d0\u5230\u7684\u6240\u6709so\u5e93 \u56e0\u6b64\uff0c\u53ea\u8981\u628a\u6211\u4eec\u81ea\u5df1\u5199\u7684so\u5e93\u6254\u5230/system/lib\u4e0b\u9762\uff0864\u4f4d\u662f/syste/lib64\uff09\uff0c\u7136\u540e\u5728/system/etc/public.libraries.txt\u91cc\u628a\u6211\u4eec\u81ea\u5df1\u7684\u6587\u4ef6\u52a0\u4e0a\u53bb\uff0c\u8fd9\u6837zygote\u542f\u52a8\u7684\u65f6\u5019\u5c31\u4f1a\u53bb\u52a0\u8f7d\u6211\u4eec\u7684so\u5e93\uff0c\u7136\u540e\u6211\u4eec\u5199\u4e00\u4e2a\u51fd\u6570\uff0c\u52a0\u4e0a__attribute__((constructor))\uff0c\u8fd9\u6837\u8fd9\u4e2a\u51fd\u6570\u5c31\u4f1a\u5728so\u5e93\u88ab\u52a0\u8f7d\u7684\u65f6\u5019\u88ab\u8c03\u7528\uff0c\u6211\u4eec\u5c31\u5b8c\u6210\u4e86\u6ce8\u5165\u903b\u8f91\uff1b\u800c\u4e14\u8fd9\u4e2a\u6587\u4ef6\u662f\u4e00\u4e2atxt\u6587\u4ef6\uff0c\u53ea\u9700\u8981\u8ffd\u52a0\u4e00\u884c\u6587\u4ef6\u540d\u5c31\u884c\uff0c\u5373\u4f7f\u5382\u5546\u505a\u4e86\u4fee\u6539\u4e5f\u4e0d\u7528\u62c5\u5fc3\u3002</p> <pre><code>\u770b\u96ea\u8fd8\u6709\u4e24\u7bc7\u5168\u5c40\u6ce8\u5165\u7684\u65b9\u6cd5:\nhttps://bbs.pediy.com/thread-217587.htm\nhttps://bbs.pediy.com/thread-224191.htm\n</code></pre>"},{"location":"awesome-reverse-main/android/android-system-start/#_2","title":"\u53c2\u8003\uff1a","text":"<ul> <li>https://blog.csdn.net/UserNamezhangxi/article/details/86762219</li> <li>https://juejin.im/post/6844903929369608206#heading-6</li> <li>https://blog.canyie.top/2020/02/03/a-new-xposed-style-framework/</li> <li>https://juejin.im/post/6887456044760039438</li> </ul>"},{"location":"awesome-reverse-main/android/apk-unpack/","title":"Apk unpack","text":"<p>\u7531\u4e8eAPK\u4e2d\u5305\u542b\u4e86\u51e0\u4e4e\u6240\u6709\u7684\u6e90\u4ee3\u7801\uff0c\u5728\u6700\u65e9\u7684APK\u4e2d\u662f\u4e0d\u5bf9\u8fd9\u4e9b\u6587\u4ef6\u8fdb\u884c\u4efb\u4f55\u4fdd\u62a4\u7684\uff0c\u8fd9\u65f6\u5019\u901a\u8fc7baksmali/dex2jar/apktool\u7b49\u5de5\u5177\u53ef\u4ee5\u5f88\u5bb9\u6613\u53cd\u7f16\u8bd1\u5206\u6790\u51faAPK\u4ee3\u7801\u903b\u8f91\uff0c\u56e0\u6b64\u5728\u4ee3\u7801\u9632\u62a4\u6280\u672f\u4e0a\u968f\u7740\u4e0d\u65ad\u7684\u653b\u9632\u5bf9\u6297\u53d1\u5c55\u51fa\u4ee5\u4e0b\u51e0\u4ee3\u52a0\u56fa\u6280\u672f\uff1a 1. ProGuard/DexGuard 2. \u6574\u4f53DEX\u52a0\u56fa 3. \u7c7b\u62bd\u53d6 4. VMP &amp; Java2C</p>"},{"location":"awesome-reverse-main/android/apk-unpack/#proguarddexguard","title":"ProGuard/DexGuard","text":"<p>\u6700\u5e38\u7528\u4e5f\u662f\u6700\u7b80\u5355\u7684\u4ee3\u7801\u4fdd\u62a4\u65b9\u6cd5\uff1a\u5b57\u7b26\u4e32\u6df7\u6dc6\uff0c\u901a\u8fc7\u5bf9\u53d8\u91cf\u540d\u3001\u7c7b\u540d\u3001\u65b9\u6cd5\u540d\u8fdb\u884c\u66ff\u6362\u6df7\u6dc6\uff0c\u5229\u7528a\u3001b\u3001c\u751a\u81f3\u4e0d\u53ef\u89c1\u7684\u5b57\u7b26\u6765\u8fdb\u884c\u66ff\u6362\uff0c\u8fbe\u5230\u4ee3\u7801\u4e0d\u6613\u8bfb\u7684\u6548\u679c\uff0c\u5176\u6b21\u8fd8\u53ef\u4ee5\u538b\u7f29Dex\u7684\u5927\u5c0f\u3002ProGuard\u662fGoogle\u81ea\u5e26\u7684\u514d\u8d39\u7684\u6df7\u6dc6\u5668\uff0cDexGuard\u5219\u662f\u6536\u8d39\u7248\u672c\uff0c\u540c\u65f6\u63d0\u4f9b\u4e86\u5b57\u7b26\u4e32\u52a0\u5bc6\u3001\u82b1\u6307\u4ee4\u3001\u8d44\u6e90\u52a0\u5bc6\u7b49\u529f\u80fd\u3002</p>"},{"location":"awesome-reverse-main/android/apk-unpack/#dex","title":"\u4e00\u4ee3\uff1a\u6574\u4f53Dex\u52a0\u56fa","text":"<p>\u521d\u4ee3\u58f3\u7684\u6838\u5fc3\u539f\u7406\u5c31\u662f DEX \u6574\u4f53\u52a0\u5bc6\u7136\u540e\u52a8\u6001\u52a0\u8f7d\uff0c\u4e5f\u6709\u4eba\u5177\u4f53\u5212\u5206\u4e3a\u843d\u5730\u58f3\u548c\u4e0d\u843d\u5730\u52a0\u8f7d\u58f3\uff0c\u4e24\u8005\u7684\u533a\u522b\u4ec5\u5728\u4e8e\u89e3\u5bc6\u540e\u7684DEX\u662f\u5426\u6301\u4e45\u5316\u5230\u672c\u5730\uff0c\u5bf9\u4e8e\u843d\u5730\u58f3\u6765\u8bf4\u5c31\u662f\u9700\u8981\u5148\u89e3\u5bc6\u6587\u4ef6\uff0c\u7136\u540e\u5199\u5165\u5230\u53e6\u5916\u4e00\u4e2a\u6587\u4ef6\u5f53\u4e2d\uff0c\u7136\u540e\u518d\u8c03\u7528 DexClassLoader \u6216\u8005\u5176\u4ed6\u52a0\u8f7d\u51fd\u6570\u6765\u52a0\u8f7d\u89e3\u5bc6\u540e\u7684\u6587\u4ef6\uff0c\u5bf9\u4e8e\u4e0d\u843d\u5730\u58f3\u6765\u8bf4\u5219\u662f\u76f4\u63a5\u5728\u5185\u5b58\u4e2d\u89e3\u5bc6\u5185\u5b58\u4e2d\u52a0\u8f7d\uff0c\u5bf9\u4e8e\u52a0\u56fa\u65b9\u53ef\u80fd\u662f\u4e2a\u6280\u672f\u8fed\u4ee3\uff0c\u4f46\u5bf9\u4e8e\u8131\u58f3\u65b9\u6765\u8bf4\uff0c\u90fd\u53ef\u4ee5\u901a\u8fc7\u4e00\u79cd\u65b9\u6cd5\u6765\u89e3\u51b3\u5373DEX DUMP\u3002</p> <p>\u65e9\u5148\u7684\u8131\u58f3\u6280\u672f\u4e2d\u4e3b\u8981\u662f\u901a\u8fc7\u52a8\u6001\u5206\u6790\u8c03\u8bd5\u6765\u8fdb\u884c\u8131\u58f3\uff0c\u4f8b\u5982\u901a\u8fc7IDA\u65ad\u70b9\u8c03\u8bd5\u7136\u540eDUMP\u5185\u5b58\u7684\u65b9\u6848\uff08\u73b0\u5728\u53ef\u4ee5\u7528Frida\u5185\u5b58\u6f2b\u6e38\u8fdb\u884cDUMP\uff0c\u6bd4\u5982\u846b\u82a6\u5a03\u5927\u4f6c\u7684Frida-DexDump\uff09\uff0cDUMP\u5185\u5b58\u7684\u65b9\u5f0f\u4e00\u79cd\u662f\u901a\u8fc7Hook\u67d0\u4e2a\u52a0\u8f7dDexFile\u7684\u51fd\u6570\uff08\u4e0d\u540c\u5b89\u5353\u7248\u672c\u53ef\u80fd\u4e0d\u540c\uff09\u83b7\u5f97DexFile\u7ed3\u6784\u4f53\u7684\u5185\u5b58\u8d77\u59cb\u5730\u5740\u548c\u5927\u5c0f\uff0c\u53e6\u4e00\u79cd\u5219\u662f\u5185\u5b58\u4e2d\u641c\u7d22Dex\u6587\u4ef6\u7684magic\u9b54\u6570\uff0c\u627e\u5230\u5185\u5b58\u8d77\u59cb\u5730\u5740\uff0c\u7136\u540e\u6839\u636eDex\u6587\u4ef6\u683c\u5f0f\u83b7\u53d6Dex\u6587\u4ef6\u5927\u5c0f\uff0c\u540e\u6765\u4e5f\u6709\u4e9b\u52a0\u56fa\u4e3a\u4e86\u5bf9\u6297\u8fd9\u79cd\u65b9\u5f0f\u4f1a\u5c06DEX\u9b54\u6570\u62b9\u53bb\u3002</p> <p>\u53ef\u4ee5\u770b\u51fa\u8fd9\u79cd\u52a0\u56fa\u548c\u8131\u58f3\u65b9\u5f0f\u7684\u7c92\u5ea6\u90fd\u662fDex\u7ea7\u522b\uff0c\u800c\u4e14\u4ee3\u7801\u6570\u636e\u603b\u662f\u7ed3\u6784\u5b8c\u6574\u7684\u5b58\u50a8\u5728\u4e00\u6bb5\u5185\u5b58\u91cc\u9762\uff0c\u8fd9\u662f\u4e00\u4e2a\u81f4\u547d\u7684\u5f31\u70b9\uff0c\u4e00\u65e6\u53cd\u6ce8\u5165\u3001\u53cd\u8c03\u8bd5\u7b49\u63aa\u65bd\u88ab\u7834\u89e3\uff0c\u8fd9\u4e2a\u4fdd\u62a4\u5c31\u76f8\u5f53\u4e8e\u662f\u5df2\u7ecf\u5931\u8d25\u4e86\u3002</p>"},{"location":"awesome-reverse-main/android/apk-unpack/#_1","title":"\u4e8c\u4ee3\uff1a\u4ee3\u7801\u62bd\u53d6\uff08\u6307\u4ee4\u62bd\u53d6\uff09","text":"<p>\u4e8c\u4ee3\u58f3\u7684\u6838\u5fc3\u7a81\u7834\u5728\u4e8e\u5c06\u7c7b\u4e2d\u7684\u65b9\u6cd5\u6307\u4ee4\u8fdb\u884c\u5265\u79bb\uff0c\u58f3\u901a\u8fc7Hook\u5728\u65b9\u6cd5\u6267\u884c\u65f6\u624d\u4f1a\u8fdb\u884c\u89e3\u5bc6\u586b\u5145\uff0c\u751a\u81f3\u6267\u884c\u5b8c\u4e4b\u540e\u8fd8\u4f1a\u6d88\u9664\uff0c\u56e0\u6b64\u8fd9\u79cd\u58f3\u4fdd\u62a4\u4e0b\uff0c\u901a\u8fc7\u7b2c\u4e00\u4ee3\u58f3\u8131\u58f3\u7684\u65b9\u5f0f\u5728DEX\u52a0\u8f7d\u65f6\u5c06DEX DUMP\u51fa\u6765\uff0c\u4e5f\u53ea\u80fd\u5f97\u5230\u4e00\u4e2a\u4e2a\u7a7a\u65b9\u6cd5\u3002</p> <p>\u4f46\u7531\u4e8e\u6d89\u53ca\u5230\u65b9\u6cd5\u6307\u4ee4\u7684\u56de\u586b\uff0c\u56e0\u6b64\u4e5f\u5e26\u6765\u4e86\u4e00\u5b9a\u7684\u517c\u5bb9\u6027\u4ee5\u53ca\u6027\u80fd\u5f71\u54cd\u3002\u6240\u4ee5\u4e00\u822c\u6765\u8bf4\uff0c\u6b63\u5e38 APP \u662f\u4e0d\u4f1a\u5c06\u6240\u6709\u4ee3\u7801\u90fd\u8fdb\u884c\u62bd\u53d6\u7684\uff0c\u53ea\u4f1a\u4fdd\u62a4\u6838\u5fc3\u4ee3\u7801\u3002</p> <p>\u7531\u4e8e\u4e09\u4ee3\u58f3VMP\u5b9e\u73b0\u96be\u5ea6\u89d2\u5ea6\uff0c\u56e0\u6b64\u4e8c\u4ee3\u58f3\u4e5f\u662f\u76ee\u524d360\u3001\u7231\u52a0\u5bc6\u3001\u6886\u6886\u91c7\u7528\u7684\u4e3b\u8981\u52a0\u56fa\u65b9\u5f0f\uff0c\u5bf9\u4e8e\u4e8c\u4ee3\u58f3\u4e2d\u5177\u4f53\u7684\u4e5f\u6709\u5f88\u591a\u5bf9\u6297\u65b9\u5f0f\u7684\u5c0f\u5347\u7ea7\uff0c\u4f8b\u5982\u9632\u6b62\u901a\u8fc7\u7c7b\u521d\u59cb\u5316\u8fd8\u539f\u65b9\u6cd5\u6307\u4ee4\u7684\u70b8\u5f39\u7c7b\u3001\u4e0d\u56de\u586b\u81f3codeItem\u4e2d\u3001\u901a\u8fc7\u65b9\u6cd5\u5668\u5206\u53d1\u3001\u65b9\u6cd5\u6267\u884c\u5b8c\u540e\u6d88\u9664\u7b49\uff0c\u76ee\u524d\u5e02\u9762\u4e0a\u4e5f\u6709\u5f88\u591a\u9488\u5bf9\u4e8c\u4ee3\u58f3\u7684\u81ea\u52a8\u8131\u58f3\u673a\uff0c\u4f8b\u5982\uff1a - DexHunter \u57fa\u4e8e\u7c7b\u4e3b\u52a8\u52a0\u8f7d\uff0c\u81ea\u5b9a\u4e49ROM - FUPK3\\FART \u57fa\u4e8e\u65b9\u6cd5\u4e3b\u52a8\u8c03\u7528\uff0c\u81ea\u5b9a\u4e49ROM\uff08\u4e5f\u6709Frida\u7248FART\uff09 - FDex Java\u5c42\u7684\u7c7b\u4e3b\u52a8\u52a0\u8f7d\uff0cXposed\u63d2\u4ef6</p> <p>\u76ee\u524d\u5927\u591a\u6570\u7684\u4e3b\u6d41\u8131\u58f3\u673a\u90fd\u662f\u901a\u8fc7\u4fee\u6539ROM\u6765\u5b9e\u73b0\u8131\u58f3\uff0c\u57fa\u4e8eROM\u7684\u4f18\u70b9\u662f\u53ef\u4ee5\u4efb\u610f\u4f7f\u7528\u7cfb\u7edfAPI\uff0c\u4f46\u662f\u5bf9\u4e8e\u4f7f\u7528\u65b9\u8f83\u4e3a\u9ebb\u70e6\u9700\u8981\u5237\u673a\u3002</p> <p>\u5bf9\u4e8e\u4e8c\u4ee3\u58f3\u7684\u8131\u58f3\u65b9\u6848\u4e3b\u8981\u6709\u4e24\u79cd\uff0c\u4e00\u79cd\u4e3a\u57fa\u4e8e\u7c7b\u4e3b\u52a8\u52a0\u8f7d\uff0c\u9002\u7528\u4e8e\u5728\u7c7b\u52a0\u8f7d\u548c\u521d\u59cb\u5316\u65f6\u5c31\u4f1a\u5c06\u65b9\u6cd5\u6307\u4ee4\u56de\u586b\u7684\u58f3\uff0c\u4f8b\u5982DexHunter\u548cFDex\uff0c\u904d\u5386Dex\u4e2d\u7684\u6240\u6709\u7c7b\uff0c\u7136\u540e\u6a21\u62df\u52a0\u8f7d\u7c7b\u7684\u6d41\u7a0b(\u4f8b\u5982\u8c03\u7528 dvmFindClass \u7b49\u7cfb\u5217\u51fd\u6570)\uff0c\u518dDUMP DEX\uff0c\u53e6\u4e00\u79cd\u5219\u662f\u57fa\u4e8e\u65b9\u6cd5\u4e3b\u52a8\u8c03\u7528\u5982FART\uff0c\u65f6\u673a\u8986\u76d6\u66f4\u5168\u3002\u4e3a\u4e86\u5bf9\u6297 DexHunter\uff0c \u6709\u7684\u4ee3\u7801\u62bd\u53d6\u65b9\u6848\u5df2\u7ecf\u4e0d\u518d\u7c7b\u52a0\u8f7d\u65f6\u8fd8\u539f\u4ee3\u7801\u4e86\uff0c\u800c\u662f\u5728\u6bd4 DexHunter \u66f4\u540e\u9762\u7684\u67d0\u4e2a\u65f6\u673a\u3002\u56e0\u4e3a\u53ef\u4ee5\u505a\u4ee3\u7801\u8fd8\u539f\u7684\u70b9\u6bd4\u8f83\u591a\uff0c\u6240\u4ee5\u91c7\u7528\u4e3b\u52a8\u8c03\u7528\u7684\u65b9\u6848\uff0c\u53ef\u4ee5\u5b8c\u5168\u89c4\u907f\u6389\u65f6\u673a\u7684\u95ee\u9898\u3002\u539f\u7406\u662f\u5bf9\u6267\u884c\u65b9\u6cd5\u7684\u5165\u53e3\u51fd\u6570\u8fdb\u884c\u63d2\u6869\uff0c\u5728\u8fd9\u4e2a\u5730\u65b9\u5224\u65ad\u662f\u5426\u5e26\u6709\u4e3b\u52a8\u8c03\u7528\u7684\u6807\u5fd7\uff0c\u82e5\u5c5e\u4e8e\u4e3b\u52a8\u8c03\u7528\u5219 Dump CodeItem \u7684\u6570\u636e\uff0c\u7136\u540e\u5728\u8fdb\u884c Dex \u91cd\u5efa\u3002\u800c\u4e3b\u52a8\u8c03\u7528\u653e\u5728\u6bd4\u8f83\u9876\u5c42\u7684\u5730\u65b9\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u8986\u76d6\u6240\u6709\u4ee3\u7801\u8fd8\u539f\u7684\u65f6\u673a\u3002\u8fd9\u4e2a\u65b9\u6848\u867d\u7136\u7406\u8bba\u4e0a\u4e5f\u53ef\u4ee5\u901a\u8fc7\u6ce8\u5165\u548c Hook \u6765\u505a\uff0c\u4f46\u662f\u9700\u8981\u63d2\u6869\u7684\u51fd\u6570\u4ee5\u53ca\u4e00\u4e9b\u9700\u8981\u8c03\u7528\u7684\u51fd\u6570\u6709\u53ef\u80fd\u6ca1\u6709\u5bfc\u51fa\uff0c\u6240\u4ee5\u4f1a\u6bd4\u8f83\u9ebb\u70e6\u3002</p>"},{"location":"awesome-reverse-main/android/apk-unpack/#dexnative","title":"\u4e09\u4ee3\uff1aDEX\u865a\u62df\u673a\u4fdd\u62a4\u548cNative\u5316","text":"<p>\u5e38\u8bf4\u7684VMP\u58f3\u5c31\u662fDEX\u865a\u62df\u673a\u4fdd\u62a4\u7684\u7f29\u5199\uff0c\u8fd9\u4ee3\u6280\u672f\u7684\u6838\u5fc3\u5728\u4e8e\u81ea\u5df1\u7f16\u5199\u89e3\u91ca\u5668\u6267\u884c\u81ea\u5b9a\u4e49\u7684\u65b9\u6cd5\u6307\u4ee4\uff0c\u56e0\u6b64\u5c31\u7b97\u5c06\u6307\u4ee4DUMP\u51fa\u6765\u4e5f\u65e0\u6cd5\u6309\u7167\u5b89\u5353\u865a\u62df\u673a\u7684\u89c4\u8303\u8fdb\u884c\u89e3\u91ca\u8fd8\u539f\uff0c\u4f46\u73b0\u5728\u5e76\u6ca1\u6709\u771f\u6b63\u610f\u4e49\u4e0a\u7684VMP\uff0c\u57fa\u672c\u662f\u6307\u4ee4\u64cd\u4f5c\u7801opcode\u66ff\u6362\uff0c\u56e0\u6b64\u8131\u58f3\u6838\u5fc3\u4e5f\u662f\u5728\u4e8e\u627e\u5230opcode\u7684\u6620\u5c04\u3002</p> <p>\u5bf9\u4e8eNative\u5316\u6280\u672f\uff0c\u4e00\u79cd\u662fJava2C\uff0c\u5373\u5c06java\u901a\u8fc7\u4e00\u5b9a\u7f16\u8bd1\u539f\u7406\u8f6c\u5316\u6210C\u8bed\u8a00\uff0c\u53e6\u4e00\u79cd\u5219\u662f\u76f4\u63a5\u4f7f\u7528JNI\u6765\u7f16\u5199\u6838\u5fc3\u4ee3\u7801\u903b\u8f91\uff0c\u4e4b\u6240\u4ee5\u8981\u8f6c\u6362\u6210Native\u5c42\u662f\u56e0\u4e3aNative\u5c42\u7684\u4fdd\u62a4\u66f4\u52a0\u4e30\u5bcc\u3001\u95e8\u69db\u4e5f\u66f4\u52a0\u9ad8\u3002Native\u5c42\u9664\u4e86\u4e5f\u6709\u52a0\u58f3\u6280\u672f\uff0cOLLVM\u66f4\u662f\u4e00\u5ea7\u96be\u4ee5\u903e\u8d8a\u7684\u5927\u5c71\uff0c\u5176\u5305\u542b\u7684\u6df7\u6dc6\u624b\u6bb5\u6709\uff1a - \u865a\u5047\u63a7\u5236\u6d41 - \u63a7\u5236\u6d41\u5e73\u5766\u5316\uff08\u6838\u5fc3\uff09 - \u6307\u4ee4\u66ff\u6362\u7b49</p>"},{"location":"awesome-reverse-main/android/apk-unpack/#_2","title":"\u8131\u58f3\u65f6\u673a\u548c\u8131\u58f3\u70b9","text":"<p>\u53ef\u4ee5\u53d1\u73b0\uff0c\u7f16\u5199\u4e00\u4e2a\u8131\u58f3\u673a\u6709\u4e24\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u56e0\u7d20\uff0c\u8131\u58f3\u70b9\u548c\u8131\u58f3\u65f6\u673a\uff0c\u8131\u58f3\u70b9\u51b3\u5b9a\u4e86\u5982\u4f55\u83b7\u5f97Dex\u6587\u4ef6\u5728\u5185\u5b58\u4e2d\u7684\u4f4d\u7f6e\uff0c\u8131\u58f3\u65f6\u673a\u5219\u662f\u53cd\u5e94\u4e86\u80fd\u5426\u83b7\u53d6\u5230\u539f\u59cb\u7684\u771f\u6b63\u7684Dex\u6587\u4ef6\u3002ART\u4e0b\u5f71\u54cd\u8131\u58f3\u7684\u5173\u952e\u7684\u4e00\u4e2a\u7c7b\u5c31\u662fDexFile\uff0c\u90a3\u4e48\u6211\u4eec\u4fbf\u53ef\u4ee5\u56f4\u7ed5\u8fd9\u4e2a\u7c7b\uff0c\u5b9e\u73b0\u5728Android\u5e9e\u5927\u7684\u7cfb\u7edf\u6e90\u7801\u4e2d\u5feb\u901f\u5b9a\u4f4d\u8131\u58f3\u70b9\uff0c\u4ece\u800c\u80fd\u591f\u627e\u5230\u201c\u6d77\u91cf\u201d\u7684\u8131\u58f3\u70b9\u3002\u66f4\u5177\u4f53\u53ef\u4ed4\u7ec6\u9605\u8bfb\u770b\u96ea\u4e2dhanbingle\u8bb2\u5e08\u7684\u76f8\u5173\u5e16\u5b50\u3002</p>"},{"location":"awesome-reverse-main/android/apk-unpack/#_3","title":"\u53c2\u8003&amp;\u63a8\u8350","text":"<ul> <li>https://bbs.pediy.com/thread-254555.htm</li> <li>https://bbs.pediy.com/thread-254028.htm</li> <li>https://bbs.pediy.com/thread-252630.htm</li> <li>https://bbs.pediy.com/thread-257829.htm</li> <li>https://bbs.pediy.com/thread-257101.htm</li> <li>https://mp.weixin.qq.com/s/DkpQ_71Gt-jkwOuRU1Mv0A</li> </ul>"},{"location":"awesome-reverse-main/android/crack-mt-tcp/","title":"Crack mt tcp","text":""},{"location":"awesome-reverse-main/android/crack-mt-tcp/#_1","title":"\u5168\u534f\u8bae\u8ffd\u8e2a\u5206\u6790","text":"<p>\u8bf7\u6c42\u6570\u636e\u52a0\u5bc6\u65b9\u6cd5\uff1a com.dianping.nvnetwork.tunnel.tool.c#b</p> <p>secureProtocolData.array\u7ec4\u6210\uff1a payLoad + securePayLoad</p> <p>\u53d1\u9001\u8bf7\u6c42 HTTP\u8bf7\u6c42 Retrofit/OkHttp  CallAdapter.adapt(loadServiceMethod,ClientCall) \u6839\u636eClientCall.execute -&gt; \u6700\u7ec8\u8ffd\u6eaf\u5230RawCall.execute NvNetworkCallFactory$DpCall -&gt; com.dianping.nvnetwork.l execSync = this.nvNetworkService.execSync(this.dpRequest); // \u8fd9\u6b65\u8fd8\u5c06RetrofitRequest\u8f6c\u5316\u4e3aDpRequest(DpRequestConverter) \u4e2d\u95f4\u6709\u4e00\u7cfb\u5217\u7684RxJava\u5f02\u6b65\u7f16\u7a0b\uff0c\u975e\u5e38\u590d\u6742\uff0c\u5728\u8ffd\u8e2a\u7684\u65f6\u5019\u53ea\u5173\u7cfb\u6839\u636e\u5b9e\u73b0\u7684call\u65b9\u6cd5\u6700\u7ec8\u53ef\u4ee5\u5b9a\u4f4d\u5230\u5982\u4f55\u8f6c\u6362\u6210\u957f\u8fde\u63a5\u8fdb\u884c\u53d1\u9001 \u5176\u4e2d\u91cd\u8981\u7684\u4e00\u4e2a\u65b9\u6cd5com.dianping.nvnetwork.fork.a#a(com.dianping.nvnetwork.Request)\uff0c\u7528\u4e8e\u6839\u636eRequest\u5224\u65ad\u91c7\u7528\u54ea\u79cd\u65b9\u5f0f\u4f8b\u5982wns\u3001cip\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u63a5\u53e3\uff0c\u6709\u591a\u79cd\u5b9e\u73b0\u7c7b\u578b \u6b63\u5e38\u60c5\u51b5\u4e0b\u53ef\u80fd\u9700\u8981\u8ddf\u8e2a\u4ee3\u7801\u903b\u8f91\uff0c\u867d\u7136\u903b\u8f91\u975e\u5e38\u590d\u6742\uff0c\u4f46\u662f\u5728\u53ef\u4ee5hook\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u76f4\u63a5\u6253\u5370\u65b9\u6cd5\u8fd4\u56de\u7c7b\u578b\uff0c\u76f4\u63a5\u9501\u5b9a\u6b63\u5e38\u60c5\u51b5\u4e0b\u4f7f\u7528\u7684HttpService\uff08com.dianping.nvnetwork.failover.e\uff09\u3002</p> <p>\u4e00\u987f\u8ffd\u8e2aHook\u5168\u5c40\u641c\u7d22\uff0c\u6700\u7ec8\u53ef\u4ee5\u53d1\u73b0Request\u4f1a\u88ab\u5305\u88c5\u6210\u4e00\u4e2aRunnable\uff0ccom.dianping.nvnetwork.tunnel.d#exec \u5728Runnable\u4e2d\u4f1a\u88ab\u6dfb\u52a0\u5230\u4e00\u4e2aBlockingQueue\u4e2d\uff1acom.dianping.nvnetwork.tunnel.e.b#run\uff0c \u7531\u53e6\u5916\u4e00\u4e2a\u7ebf\u7a0b\u5b9a\u65f6\u4ece\u961f\u5217\u4e2d\u53d6\u51fa\u8fdb\u884c\u6267\u884c\uff1acom.dianping.nvnetwork.tunnel.e.a#run</p> <p>com.dianping.nvnetwork.tunnel2.h#a(com.dianping.nvnetwork.tunnel.g)</p> <p>retrofit.Request -&gt; nvnetwork.Request -&gt; com.dianping.nvnetwork.tunnel.g\uff1a     1.DpRequestConverter     2.com.dianping.nvnetwork.tunnel.d#a(com.dianping.nvnetwork.Request)</p> <p>\u8bf7\u6c42\u54cd\u5e94 NIOSelectorHelper  while(true)\u76d1\u542cSelector\u4e8b\u4ef6 selectionKey.isConnectable() selectionKey.isReadable()</p> <p>\u8bf7\u6c42\u6570\u636e\u683c\u5f0f -1 1 0 flag isSecure ? 1: 0 totalLength noSecureLength array \u54cd\u5e94\u6570\u636e\u683c\u5f0f 255 version deviceType flag isSecure totalLength</p> <p>\u8bf7\u6c42\u5bc6\u94a5 1. \u6a21\u62df\u8bf7\u6c42\u5bc6\u94a5 2. \u89e3\u6790\u54cd\u5e94SecureProtocolData\u83b7\u5f97ParseData 3. rsa\u89e3\u5bc6ParseData.secureLoad 4. </p> <p>\u95ee\u9898\uff1a \u6e90\u7801\u4e22\u5931 -\u300b smali 1. smali \u53c2\u6570\u5bc4\u5b58\u5668\u4ece1\u5f00\u59cb\uff0c0\u4e3a\u5f53\u524d\u5bf9\u8c61 2. \u53ef\u80fd\u6709\u57fa\u672c\u7c7b\u578b\u548c\u5f15\u7528\u7c7b\u578b\u7c98\u8d34\u7684\u60c5\u51b5\uff0c p3 = secureProtocolData.array p3 = SecurTools.parseData(p3) p3 = p3.secureLoad p3 = this.a(p3) if(this.d){     v0 = this.g     v1 = p3.b     v0 = v0.a(v1)     ...     this.g.a(a2.a, v0, a2.f); }else{     goto cond3 }</p> <p>\u7533\u8bf7\u5bc6\u94a5\uff1a</p> <p>Http\u8bf7\u6c42\u5230CIP\u8bf7\u6c42\u7684RequestAdapter\uff1a     com.sankuai.meituan.retrofit2.utils_nvnetwork.DpRequestConverter#convert     com.sankuai.meituan.retrofit2.Request -&gt;&gt; com.dianping.nvnetwork.Request</p> <p>M-SHARK-TRACEID\u751f\u6210\u7b97\u6cd5\uff1a     java.lang.StringBuilder sb = new java.lang.StringBuilder();     sb.append(a2.b);     sb.append(1);     // traceIdManager com.meituan.android.base.BaseConfig.uuid     sb.append(com.dianping.nvnetwork.util.j.c.a());     sb.append(a2.b());     sb.append(java.lang.System.currentTimeMillis());     sb.append(a2.b());     str = sb.toString();     request2.a((java.lang.String) \"M-SHARK-TRACEID\", str);</p> <p>pragma-mtid\u751f\u6210\uff1a         if (android.os.Build.VERSION.SDK_INT &lt; 29) {             return com.sankuai.common.utils.Utils.getDeviceId(context);         }         return com.meituan.android.common.statistics.Statistics.getUnionId();</p> <p>siua:     com.meituan.android.common.mtguard.MTGuard#userIdentification()</p> <p>mtgdid:     1.com.meituan.android.common.mtguard.DFPManager$1.run     2.com.meituan.android.common.dfingerprint.d.report(DFPReporter.java:50)     3.com.meituan.android.common.utils.mtguard.network.BaseReporter.report(BaseReporter.java:85)</p> <p>MT retrofit\u8bf7\u6c42\u54cd\u5e94\u6d41\u7a0b\uff1a     1. ClientCall enqueue or execute     2. com.sankuai.meituan.retrofit2.ClientCall.this.parseResponse(com.sankuai.meituan.retrofit2.ClientCall.this.getResponseWithInterceptorChain(access$100.newBuilder().addHeader(\"retrofit_exec_time\", java.lang.String.valueOf(currentTimeMillis)).build()))     3. \u4e4b\u540e\u7ecf\u8fc7\u4e00\u7cfb\u5217\u62e6\u622a\u5668\u94fe\uff0c\u8fd9\u91cc\u5173\u952e\u7684\u62e6\u622a\u5668\u4e3aBridgeInterceptor\uff0c\u7528\u4e8e\u5c06\u54cd\u5e94\u6570\u636eGZIP\u89e3\u538b</p> <p>\u95ee\u9898\uff1a     1. SocketChannel\u5efa\u7acb\u8fde\u63a5\u540e\uff0c\u662f\u5426\u6709\u4ec0\u4e48\u5173\u952e\u8bf7\u6c42\u8def\u5f84     2. \u8bf7\u6c42\u62a5\u6587\u4e2dpayload\u5b57\u6bb5\u4e0esecurePayload\u5b57\u6bb5\u542b\u4e49     3. \u5bc6\u94a5\u8d85\u65f6\u673a\u5236</p> <p>FetchIpListManager: CIP\u8d5b\u9a6c\u673a\u5236\uff1a\u540c\u65f6\u53d1\u8d77\u591a\u4e2aIP\u7684\u901a\u9053\u5efa\u7acb\u8bf7\u6c42\uff0c\u540c\u65f6\u6839\u636e\u6240\u8fde\u63a5\u7684\u4e0d\u540c\u7684\u7f51\u7edc\u7c7b\u578b\uff0c\u4fdd\u7559\u6700\u5148\u5efa\u7acb\u6210\u529f\u7684\u8fde\u63a5\u901a\u9053\u3002\uff08com.dianping.nvnetwork.tunnel2.c.a#a(com.dianping.nvnetwork.tunnel.b.a):ConnectionPoolManager\uff09     1. com.dianping.nvnetwork.tunnel.b#a(int)     2. com.dianping.nvnetwork.tunnel.b#a(com.dianping.nvnetwork.tunnel.b, com.dianping.nvnetwork.Request, int)\u8bf7\u6c42IPList\uff08https://shark.dianping.com/api/loadbalance\uff09     3. com.dianping.nvnetwork.tunnel.b#a(com.dianping.nvnetwork.l) \u5904\u7406\u548c\u89e3\u5bc6IPList\u8bf7\u6c42\u54cd\u5e94\u6570\u636e\uff0c\u4e00\u662f\u52a0\u5bc6\u6301\u4e45\u5316\u81f3SharedReference\uff0c\u4e8c\u662f\u6301\u4e45\u5316\u5230\u5185\u5b58List\u4e2d     4. com.dianping.nvnetwork.tunnel2.i#i \u6d88\u8d39list\uff0c\u6784\u9020SharkTunnelConnection List,\u5e76\u8c03\u7528com.dianping.nvnetwork.tunnel2.a#a(int, com.dianping.nvnetwork.tunnel2.a.C0158a)\u65b9\u6cd5\u5efa\u7acb\u8fde\u63a5\uff08SocketChannel.connect\uff09</p>"},{"location":"awesome-reverse-main/android/crack-webview/","title":"Crack webview","text":"<p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5b89\u5353WebView\u53ef\u80fd\u5b58\u5728\u51e0\u79cd\u7834\u89e3\u76ee\u6807\uff1a 1. \u7834\u89e3\u5bf9\u65b9APP\u4e2d\u7684WebView 2. \u7834\u89e3Touch\u4e2d\u7684\u7f51\u9875\uff0c\u4f8b\u5982\u624b\u673a\u4e0a\u6d4f\u89c8\u5668\u4e2d\u53ef\u4ee5\u6253\u5f00\u7684\u7f51\u9875</p> <p>\u7b2c\u4e8c\u79cd\u65b9\u5f0f\u4e0b\uff0c\u4e00\u822c\u53ef\u901a\u8fc7\u76f4\u63a5\u7834\u89e3JS\u6765\u5b8c\u6210\u534f\u8bae\u6293\u53d6\uff0c\u4f46\u4e5f\u53ef\u4ee5\u5c06\u5bf9\u65b9\u7684Touch\u9875\u9762\u76f4\u63a5\u653e\u5165\u6211\u4eec\u5f00\u53d1\u7684\u7b80\u6613WebView \u6d4f\u89c8\u5668APP\u4e2d\uff0c\u76f8\u5f53\u4e8e\u5c06\u5bf9\u65b9\u7684\u8fd0\u884c\u73af\u5883\u53d8\u6210\u6211\u4eec\u53ef\u64cd\u63a7\u7684\u8fd0\u884c\u73af\u5883\u3002\u4f8b\u5982\u4e4b\u524d\u70b9\u8bc4Touch\u914d\u5408\u70b9\u51fb\u7684\u6293\u53d6\u9879\u76ee\u3002\u8fd9\u79cd\u65b9\u5f0f\u76f8\u6bd4\u76f4\u63a5\u7834\u89e3JS\u534f\u8bae\u7684\u4f18\u70b9\u5728\u4e8e\u65e0\u9700\u5173\u6ce8\u5bf9\u65b9\u7b97\u6cd5\u8fd8\u539f\uff0c\u53ef\u5feb\u901f\u83b7\u53d6\u5230\u6570\u636e\uff0c\u4f46\u7f3a\u70b9\u540c\u6837\u5728\u4e8e\u8bbe\u5907\u7684\u6307\u7eb9\u4fe1\u606f\uff0c\u867d\u7136\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\u53ef\u83b7\u53d6\u7684\u8bbe\u5907\u4fe1\u606f\u8f83\u5c11\uff0c\u4f46\u4ecd\u662f\u9700\u8981\u8fdb\u884c\u4e00\u5b9a\u5206\u6790\u548c\u6a21\u62df\uff0c\u56e0\u6b64\u8fd9\u79cd\u65b9\u5f0f\u9002\u7528\u4e8e\u914d\u5408\u81ea\u52a8\u70b9\u51fb\u3001\u5bf9\u65b9\u7b97\u6cd5\u96be\u5ea6\u9ad8\uff0c\u4f46\u6307\u7eb9\u96be\u5ea6\u4f4e\u6216\u98ce\u63a7\u5f31\u7684\u60c5\u51b5\u3002</p> <p>\u7b2c\u4e8c\u79cd\u65b9\u5f0f\u662f\u5728\u5bf9\u5b89\u5353WebView\u6280\u672f\u5f00\u53d1\u6709\u4e00\u5b9a\u7684\u57fa\u7840\u4e0a\uff0c\u914d\u5408\u4e00\u5b9a\u7684\u9006\u5411\u601d\u7ef4\u548cWebView\u6240\u63d0\u4f9b\u7684API\u6765\u5b8c\u6210\u8c03\u8bd5\u548c\u9006\u5411\u3002\u5b9e\u9645\u5728\u7b2c\u4e00\u79cd\u65b9\u5f0f\u4e2d\u7834\u89e3WebView\u4e2d\u7528\u5230\u7684\u6280\u672f\u4e8e\u4e4b\u7c7b\u4f3c\uff0c\u53ea\u662f\u9700\u8981\u901a\u8fc7Hook\u6846\u67b6\u6765\u5b8c\u6210\u4ee3\u7801\u7684\u6ce8\u5165\uff0c\u800c\u7b2c\u4e8c\u79cd\u65b9\u5f0f\u7531\u4e8eAPP\u662f\u81ea\u5df1\u5f00\u53d1\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u968f\u5fc3\u6240\u6b32\u5b9a\u5236\u4ee3\u7801\u800c\u65e0\u9700\u6ce8\u5165\u3002</p>"},{"location":"awesome-reverse-main/android/crack-webview/#webview","title":"WebView\u5f00\u53d1\u6280\u672f","text":"<p>Android WebView\u5728Android\u5e73\u53f0\u4e0a\u662f\u4e00\u4e2a\u7279\u6b8a\u7684View\uff0c \u57fa\u4e8ewebkit\u5f15\u64ce\u3001\u5c55\u73b0web\u9875\u9762\u7684\u63a7\u4ef6\uff0c\u8fd9\u4e2a\u7c7b\u53ef\u4ee5\u88ab\u7528\u6765\u5728\u4f60\u7684app\u4e2d\u4ec5\u4ec5\u663e\u793a\u4e00\u5f20\u5728\u7ebf\u7684\u7f51\u9875\uff0c\u8fd8\u53ef\u4ee5\u7528\u6765\u5f00\u53d1\u6d4f\u89c8\u5668\u3002WebView\u5185\u90e8\u5b9e\u73b0\u662f\u91c7\u7528\u6e32\u67d3\u5f15\u64ce\u6765\u5c55\u793aview\u7684\u5185\u5bb9\uff0c\u63d0\u4f9b\u7f51\u9875\u524d\u8fdb\u540e\u9000\uff0c\u7f51\u9875\u653e\u5927\uff0c\u7f29\u5c0f\uff0c\u641c\u7d22\u3002Android\u7684Webview\u5728\u4f4e\u7248\u672c\u548c\u9ad8\u7248\u672c\u91c7\u7528\u4e86\u4e0d\u540c\u7684webkit\u7248\u672c\u5185\u6838\uff0c4.4\u540e\u76f4\u63a5\u4f7f\u7528\u4e86Chrome\u3002\u901a\u8fc7WebView\u53ef\u4ee5\u5b8c\u6210\u4ee5\u4e0b\u51e0\u79cd\u529f\u80fd\uff1a 1. \u901a\u8fc7\u5916\u90e8URL\u52a0\u8f7d\u7f51\u9875\uff0c\u4f8b\u5982\u6d4f\u89c8\u5668 2. \u52a0\u8f7d\u672c\u5730\u8d44\u6e90\u4e2d\u7684HTML\u6587\u4ef6 3. \u548c\u539f\u751fNative APP\u8fdb\u884c\u4ea4\u4e92\uff0c\u4f8b\u5982Hybrid\u6df7\u5408\u5f00\u53d1\u6280\u672f</p> <p>\u56e0\u6b64WebView(android.webkit.WebView)\u53ea\u662f\u4e00\u4e2aView\uff0c\u800c\u4e0d\u662fActivity\uff0c\u4e0eTextView\u7b49\u4e00\u6837\u9700\u8981\u4f9d\u8d56Activity\u6765\u5b8c\u6210\u5e03\u5c40\u3002\u56e0\u6b64\u5728\u5206\u6790APP\u65f6\u4ecd\u7136\u9700\u8981\u9996\u5148\u627e\u5230Activity\u5bf9\u5e94\u7684\u7c7b\u3002</p>"},{"location":"awesome-reverse-main/android/crack-webview/#api","title":"\u5e38\u7528API","text":""},{"location":"awesome-reverse-main/android/crack-webview/#androidwebkitwebview","title":"android.webkit.WebView","text":"<p>\u6838\u5fc3\u7c7b\uff0c\u8d1f\u8d23\u521b\u5efa\u5bf9\u8c61\u548c\u52a0\u8f7dURL/\u8d44\u6e90\u6587\u4ef6\u7b49\uff0c\u5176\u4e2d\u8fd8\u6709\u4e00\u4e9b\u975e\u5e38\u91cd\u8981\u7684\u65b9\u6cd5\uff0c\u5305\u62ec\uff1a - setWebContentsDebuggingEnabled \u9759\u6001\u65b9\u6cd5\uff0c\u7528\u4e8e\u8bbe\u7f6e\u8fdc\u7a0b\u8c03\u8bd5WebView - loadUrl \u52a0\u8f7durl\u5730\u5740\uff0c\u53ef\u4ee5\u662fwww\u94fe\u63a5\uff0c\u53ef\u4ee5\u662f\u672c\u5730\u6587\u4ef6\u8def\u5f84\u6216\u8005HTML/JS\u4ee3\u7801\u7247\u6bb5 - loadData \u52a0\u8f7dHTML\u4ee3\u7801\u7247\u6bb5 - goBack/goForward \u64cd\u4f5c\u7f51\u9875\u540e\u9000\u524d\u8fdb - setWebChromeClient \u8bbe\u7f6eWebChromeClient\uff0c\u4e3b\u8981\u8f85\u52a9WebView\u5904\u7406Javascript\u7684\u5bf9\u8bdd\u6846\u3001\u7f51\u7ad9\u56fe\u6807\u3001\u7f51\u7ad9title\u3001\u52a0\u8f7d\u8fdb\u5ea6\u7b49 - setWebViewClient \u8bbe\u7f6eWebViewClient\uff0c\u4e3b\u8981\u5e2e\u52a9WebView\u5904\u7406\u5404\u79cd\u901a\u77e5\u3001\u8bf7\u6c42\u4e8b\u4ef6\u7684 - addJavascriptInterface \u6dfb\u52a0JS\u65b9\u6cd5\uff0c\u7528\u4e8e\u5728JS\u4e2d\u8c03\u7528Java\u4e16\u754c\u7684\u65b9\u6cd5 - evaluateJavascript Java\u4e2d\u8c03\u7528JS\u4e2d\u7684\u65b9\u6cd5/\u811a\u672c\u7684\u4e00\u79cd\u65b9\u5f0f - getSettings \u83b7\u53d6WebSettings\u5bf9\u8c61\uff0c\u7528\u4e8e\u914d\u7f6e\u548c\u7ba1\u7406WebView</p>"},{"location":"awesome-reverse-main/android/crack-webview/#androidwebkitwebsettings","title":"android.webkit.WebSettings","text":"<ul> <li>setJavaScriptCanOpenWindowsAutomatically(true);//\u8bbe\u7f6ejs\u53ef\u4ee5\u76f4\u63a5\u6253\u5f00\u7a97\u53e3\uff0c\u5982window.open()\uff0c\u9ed8\u8ba4\u4e3afalse</li> <li>setJavaScriptEnabled(true);//\u662f\u5426\u5141\u8bb8\u6267\u884cjs\uff0c\u9ed8\u8ba4\u4e3afalse\u3002\u8bbe\u7f6etrue\u65f6\uff0c\u4f1a\u63d0\u9192\u53ef\u80fd\u9020\u6210XSS\u6f0f\u6d1e</li> <li>setSupportZoom(true);//\u662f\u5426\u53ef\u4ee5\u7f29\u653e\uff0c\u9ed8\u8ba4true</li> <li>setBuiltInZoomControls(true);//\u662f\u5426\u663e\u793a\u7f29\u653e\u6309\u94ae\uff0c\u9ed8\u8ba4false</li> <li>setUseWideViewPort(true);//\u8bbe\u7f6e\u6b64\u5c5e\u6027\uff0c\u53ef\u4efb\u610f\u6bd4\u4f8b\u7f29\u653e\u3002\u5927\u89c6\u56fe\u6a21\u5f0f</li> <li>setLoadWithOverviewMode(true);//\u548csetUseWideViewPort(true)\u4e00\u8d77\u89e3\u51b3\u7f51\u9875\u81ea\u9002\u5e94\u95ee\u9898</li> <li>setAppCacheEnabled(true);//\u662f\u5426\u4f7f\u7528\u7f13\u5b58</li> <li>setDomStorageEnabled(true);//DOM Storage</li> </ul>"},{"location":"awesome-reverse-main/android/crack-webview/#androidwebkitwebviewclient","title":"android.webkit.WebViewClient","text":"<ul> <li>onPageFinished \u9875\u9762\u8bf7\u6c42\u5b8c\u6210</li> <li>onPageStarted \u9875\u9762\u5f00\u59cb\u52a0\u8f7d</li> <li>shouldOverrideUrlLoading \u62e6\u622aurl</li> <li>onReceivedError \u8bbf\u95ee\u9519\u8bef\u65f6\u56de\u8c03\uff0c\u4f8b\u5982\u8bbf\u95ee\u7f51\u9875\u65f6\u62a5\u9519404\uff0c\u5728\u8fd9\u4e2a\u65b9\u6cd5\u56de\u8c03\u7684\u65f6\u5019\u53ef\u4ee5\u52a0\u8f7d\u9519\u8bef\u9875\u9762\u3002</li> </ul>"},{"location":"awesome-reverse-main/android/crack-webview/#androidwebkitwebchromeclient","title":"android.webkit.WebChromeClient","text":"<ul> <li>onJsAlert webview\u4e0d\u652f\u6301js\u7684alert\u5f39\u7a97\uff0c\u9700\u8981\u81ea\u5df1\u76d1\u542c\u7136\u540e\u901a\u8fc7dialog\u5f39\u7a97</li> <li>onReceivedTitle \u83b7\u53d6\u7f51\u9875\u6807\u9898</li> <li>onReceivedIcon \u83b7\u53d6\u7f51\u9875icon</li> <li>onProgressChanged \u52a0\u8f7d\u8fdb\u5ea6\u56de\u8c03\uff0c\u5982\u679c\u8981\u8fdb\u884cJS\u6ce8\u5165\u7684\u81ea\u52a8\u70b9\u51fb\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u662f\u6bd4\u8f83\u597d\u7684\u6ce8\u5165\u65f6\u673a\u3002</li> </ul>"},{"location":"awesome-reverse-main/android/crack-webview/#webview_1","title":"WebView\u8fdc\u7a0b\u8c03\u8bd5","text":"<ol> <li>\u5728\u5e94\u7528\u4e2d\u5f00\u542fWebView\u8fdc\u7a0b\u8c03\u8bd5\uff1asetWebContentsDebuggingEnabled</li> <li>\u8bbe\u5907USB\u8fde\u63a5\u7535\u8111\uff0c\u6253\u5f00chrome\uff0c\u8f93\u5165chrome://inspect</li> <li>\u53d6\u6d88Discover network targets</li> <li>\u5728Devices\u4e2d\u53ef\u4ee5\u770b\u5230\u5bf9\u5e94\u7684\u8bbe\u5907\u7684WebView</li> </ol>"},{"location":"awesome-reverse-main/android/hook-rpc/","title":"\u5927\u81f4\u539f\u7406\u601d\u8def","text":"<p>\u5b89\u5353\u4e2d\u6293\u53d6\u65b9\u5f0f\u9664\u4e86\u5168\u534f\u8bae\u6280\u672f\u548c\u81ea\u52a8\u5316\u914d\u5408hook\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u79cd\u96be\u5ea6\u548c\u5b9e\u73b0\u539f\u7406\u5747\u4ecb\u4e8e\u4e24\u8005\u4e4b\u95f4\u7684RPC\u65b9\u5f0f\uff0c\u5373\u901a\u8fc7\u6ce8\u5165\u4e00\u6bb5\u4ee3\u7801\u81f3\u76ee\u6807APP\u4e2d\u6765\u5c06\u76ee\u6807API\u66b4\u9732\u4f9b\u5916\u8c03\u7528\uff0c\u4f8b\u5982\u901a\u8fc7Xposed\u63d2\u4ef6\u5728\u5bf9\u65b9APP\u4e2d\u542f\u52a8\u4e00\u4e2aHTTP\u670d\u52a1\uff0c\u7136\u540e\u9884\u5148\u5b9a\u4e49\u597dHttp\u63a5\u53e3\u7684\u8bf7\u6c42\u53c2\u6570\uff0c\u5728Http\u670d\u52a1\u54cd\u5e94\u5bf9\u5e94\u7684\u63a5\u53e3\u65f6\u901a\u8fc7\u53cd\u5c04\u6267\u884c\u5bf9\u65b9APP\u4e2d\u7684\u65b9\u6cd5\u6765\u83b7\u53d6\u7ed3\u679c\u5e76\u8fd4\u56de\uff0c\u5982\u6b64\u4e00\u6765\u5bf9\u5916\u90e8Http\u8c03\u7528\u653e\u6765\u8bf4\uff0c\u4eff\u4f5b\u76ee\u6807APP\u5bf9\u5916\u5f00\u653e\u4e86\u4e00\u4e2aHttp\u63a5\u53e3\u3002</p> <p>\u4e0a\u8ff0\u4f8b\u5b50\u662f\u7b80\u5355\u7684\u901a\u8fc7\u4e00\u4e2aHttp\u670d\u52a1\u6765\u5b8c\u6210\u66b4\u9732\uff0c\u4f46\u5b9e\u9645\u4e0a\u5e76\u4e0d\u9650\u4e8e\u57fa\u4e8eHTTP\u534f\u8bae\u5b8c\u6210\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u81ea\u5b9a\u4e49\u957f\u94fe\u63a5\u5b8c\u6210\uff0c\u5176\u6b21\u901a\u8fc7Http\u670d\u52a1\u5b9e\u9645\u4e0a\u53ea\u80fd\u4f9b\u4e00\u4e2a\u5c40\u57df\u7f51\u4e2d\u8bbf\u95ee\uff0c\u5bf9\u4e8e\u516c\u7f51\u670d\u52a1\u6765\u8bf4\u65e0\u6cd5\u7a81\u7834NAT\u9650\u5236\u3002</p> <p>\u65e0\u8bba\u600e\u6837\uff0c\u6838\u5fc3\u90fd\u662f\u6ce8\u5165\u548c\u670d\u52a1\u66b4\u9732\uff0c\u5177\u4f53\u6ce8\u5165\u7684\u65b9\u5f0f\u548c\u670d\u52a1\u66b4\u9732\u65b9\u5f0f\u90fd\u6709\u591a\u79cd\u65b9\u5f0f\uff0c\u4f8b\u5982\u6ce8\u5165\u53ef\u4ee5\u901a\u8fc7Hook\u6216\u8005\u91cd\u6253\u5305\u6216\u8005VA\uff0c\u670d\u52a1\u66b4\u9732\u6709HTTP\u3001TCP\u957f\u94fe\u63a5\uff08\u81ea\u5b9a\u4e49\u534f\u8bae\u3001Netty\uff09\u7b49\u3002</p>"},{"location":"awesome-reverse-main/android/hook-rpc/#sekiro","title":"Sekiro","text":"<p>Sekiro\u662f\u7ef4\u4f73\u54e5\u5199\u7684\u4e00\u4e2a\u6210\u719f\u7684RPC\u66b4\u9732\u6846\u67b6\uff0c\u524d\u8eab\u662fhermes\uff0c\u57fa\u4e8eNetty\u5b9e\u73b0\u4e86\u5185\u7f51\u7a7f\u900f\u548c\u901a\u4fe1\u534f\u8bae\u81ea\u5b9a\u4e49\uff0c\u53ef\u4ee5\u4e0e\u4e00\u5207Hook\u6846\u67b6\u914d\u5408\uff0c\u53ef\u4ee5\u8fd0\u7528\u4e8e\u5b89\u5353\u548cJS\u3002</p> <p>\u5173\u4e8eSekiro\u7684\u67b6\u6784\u89e3\u6790\u53ef\u4ee5\u53c2\u8003GITHUB\u89e3\u6790\uff1a - https://github.com/virjar/sekiro - https://github.com/langgithub/sekiro-lang#netty-sekiro</p> <p>\u98df\u7528\u624b\u518c\uff1a - https://www.jianshu.com/p/6b71106c45eb?from=timeline</p>"},{"location":"awesome-reverse-main/android/hook-rpc/#_2","title":"\u9002\u7528\u573a\u666f","text":"<p>\u7531\u4e8eRPC\u7684\u65b9\u5f0f\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u5bf9\u65b9\u65b9\u6cd5API\uff0c\u56e0\u6b64\u53ef\u4ee5\u7b80\u5316\u7701\u7565\u4e00\u4e9b\u9006\u5411\u5de5\u4f5c\uff0c\u4f8b\u5982\uff1a - \u9ed1\u76d2\u7b97\u6cd5\u76f4\u63a5\u8c03\u7528 - \u534a\u534f\u8bae\u6293\u53d6\uff08\u4f18\u70b9\uff1a\u5c11\u6570\u8bbe\u5907&amp;\u540c\u6b65\u8c03\u7528\u8fd4\u56de\uff09 - \u5b89\u5353\u7fa4\u63a7</p> <p>\u4f46RPC\u65b9\u5f0f\u4e5f\u5b58\u5728\u4e00\u4e9b\u7f3a\u70b9\uff0c\u4f8b\u5982\uff1a - \u76f8\u6bd4\u4e8e\u5168\u534f\u8bae\u4ecd\u7136\u9700\u8981\u8bbe\u5907\u90e8\u7f72\u548c\u7ef4\u62a4\uff0c\u8c03\u7528\u94fe\u8def\u957f - \u7b97\u6cd5\u5982\u679c\u7ed1\u5b9a\u672c\u5730\u73af\u5883\u6216\u8005\u8bbe\u5907\u6307\u7eb9\uff0c\u53ef\u80fd\u4f1a\u66b4\u9732\u6293\u53d6\u7279\u5f81</p>"},{"location":"awesome-reverse-main/android/jni-function-bind/","title":"Jni function bind","text":"<p>\u6b64\u7bc7\u6587\u7ae0\u60f3\u89e3\u51b3\u7684\u95ee\u9898\u662f\u5982\u4f55\u5728Xposed\u4e2d\u8fdb\u884cNative Hook\uff0c\u6216\u8005\u8bf4\u672c\u8d28\u662f\u5982\u4f55\u5728Xposed\u63d2\u4ef6\u4e2d\u7f16\u5199\u548c\u5b9e\u73b0JNI\u51fd\u6570\u3002</p> <p>\u5b9e\u73b0\u7684\u95ee\u9898\u5728\u4e8e\u4e0d\u989d\u5916\u5904\u7406\u7684\u60c5\u51b5\u4e0b\uff0c\u63d2\u4ef6\u751f\u6210\u7684so\u4e2d\u5728\u76ee\u6807app\u4e2d\u662f\u65e0\u6cd5\u627e\u5230\u7684\uff0c\u6b64\u65f6JNI\u51fd\u6570\u65e0\u6cd5\u627e\u5230\u5bf9\u5e94\u7684\u5b9e\u73b0\u3002</p> <p>\u6240\u4ee5\u9996\u5148\u6765\u8ddf\u8e2a\u4e00\u4e0bJNI\u51fd\u6570\u662f\u5982\u4f55\u7ed1\u5b9a\u5230so\u4e2d\u7684\u51fd\u6570\u5b9e\u73b0\uff0c\u6e90\u7801\u7248\u672c\u4e3aandroid-10.0.0_r41\u3002</p>"},{"location":"awesome-reverse-main/android/jni-function-bind/#jni","title":"JNI\u51fd\u6570\u6267\u884c\u5165\u53e3\u8ddf\u8e2a","text":"<p>JNI\u51fd\u6570\u5206\u4e3a\u9759\u6001\u6ce8\u518c\u548c\u52a8\u6001\u6ce8\u518c\uff0c\u9759\u6001\u6ce8\u518c\u901a\u8fc7\u547d\u540d\u89c4\u8303\u7ed1\u5b9aJava\u4e2d\u58f0\u660e\u7684JNI\u51fd\u6570\u548cC++\u4e2d\u7684\u5b9e\u73b0\u51fd\u6570\uff0c\u52a8\u6001\u6ce8\u518c\u5219\u662f\u901a\u8fc7\u4e3b\u52a8\u8c03\u7528RegisterNative\u65b9\u6cd5\u8fdb\u884c\u7ed1\u5b9a\u3002</p> <p>\u9996\u5148\u6765\u770bJNI\u65b9\u6cd5\u7684entry_point_from_quick_code\u662f\u4ec0\u4e48\uff08ArtMethod.ptr_sized_fields_\u7ed3\u6784\u4f53\uff09\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u5b57\u6bb5\u4ee3\u8868Java\u65b9\u6cd5\u6267\u884c\u65f6\u7684\u5165\u53e3\u70b9\uff0c\u5bf9\u4e8eJNI\u65b9\u6cd5\u8fd9\u79cd\u6ca1\u6709dalvik\u5b57\u8282\u7801\u7684\u65b9\u6cd5\u6765\u8bf4\uff0c\u5165\u53e3\u53ea\u80fd\u662fquick_code\u3002</p> <p>\u90a3\u4e48entry_point_from_quick_code\u8fd9\u4e2a\u503c\u8d4b\u503c\u903b\u8f91\u548c\u65f6\u673a\u662f\u4ec0\u4e48\uff0c\u5982\u679c\u5bf9ART\u865a\u62df\u673a\u7c7b\u52a0\u8f7d\u6d41\u7a0b\u6709\u6240\u4e86\u89e3\uff0c\u90a3\u4e48\u5e94\u8be5\u77e5\u9053\u5728class_linker\u7684LinkCode\u4e2d\u3002</p> <p>\u8be5\u65b9\u6cd5\u4e2d\u4f1a\u8bbe\u7f6equick_code\u4e3a\u5bf9\u5e94\u7684\u8df3\u677f\uff0c\u5bf9\u4e8eJNI\u65b9\u6cd5\uff0c\u5219\u6709\u4e24\u6b65\u903b\u8f91\uff1a 1.  method-&gt;SetEntryPointFromQuickCompiledCode(GetQuickGenericJniStub()); 2.   method-&gt;SetEntryPointFromJni(         method-&gt;IsCriticalNative() ? GetJniDlsymLookupCriticalStub() : GetJniDlsymLookupStub());</p> <p>\u5373\u8bbe\u7f6eentry_point_from_quick_code\u548cdata_\u7684\u503c\u4e3aart_quick_generic_jni_trampoline\u548cart_jni_dlsym_lookup_stub\u3002</p>"},{"location":"awesome-reverse-main/android/jni-function-bind/#art_quick_generic_jni_trampoline","title":"art_quick_generic_jni_trampoline","text":"<p>Art\u4e2d\u6709\u8bb8\u591a\u7c7b\u4f3c\u7684\u7528\u6c47\u7f16\u5199\u7684\u8df3\u677f\uff0c\u8be5\u8df3\u8f6c\u6700\u7ec8\u4f1a\u8df3\u5230art/runtime/entrypoints/quick/quick_trampoline_entrypoints.cc\u7684artQuickGenericJniTrampoline\u65b9\u6cd5\u3002</p> <p>\u8be5\u65b9\u6cd5\u7684\u4f5c\u7528\u4fbf\u662f\u8df3\u8f6c\u5230data_\u6307\u5411\u7684\u4ee3\u7801\uff0c\u5373art_jni_dlsym_lookup_stub\uff0c\u5728\u5b89\u535310\u4e4b\u524d\u8fd8\u4f1a\u901a\u8fc7artFindNativeMethod\u67e5\u627eJNI\u65b9\u6cd5\u7684Native\u65b9\u6cd5\u5b9e\u73b0\u3002</p> <pre><code>\u5b89\u535311\u4e4b\u540e\u8be5\u65b9\u6cd5\u5219\u53ea\u662f\u5355\u7eaf\u7684\u8fd4\u56dedata_\u5373entry_point_from_jni\uff0c\u67e5\u627eJNI\u65b9\u6cd5\u5b9e\u73b0\u653e\u5728\u4e86art_jni_dlsym_lookup_stub\u4e2d\u3002\n</code></pre> <p>\u8be5\u65b9\u6cd5\u9996\u5148\u4f1a\u5224\u65addata_\u662f\u5426\u4e3aart_jni_dlsym_lookup_stub\uff0c\u5982\u679c\u662f\u5219\u8bf4\u660eJNI\u65b9\u6cd5\u8fd8\u6ca1\u6709\u627e\u5230\u5b9e\u73b0\uff0c\u4e8e\u662f\u4fbf\u8c03\u7528artFindNativeMethod\u3002</p>"},{"location":"awesome-reverse-main/android/jni-function-bind/#artfindnativemethod","title":"artFindNativeMethod","text":"<p>JavaVMExt* vm = down_cast(self-&gt;GetJniEnv())-&gt;GetVm(); <p>native_code = vm-&gt;FindCodeForNativeMethod(method);</p> <p>\u5728FindCodeForNativeMethod\u4e2d\u6838\u5fc3\u4fbf\u662f\u901a\u8fc7libraries_-&gt;FindNativeMethod\u8fdb\u884c\u67e5\u627e\uff0c\u67e5\u627e\u7684\u5177\u4f53\u8fc7\u7a0b\u4fbf\u662f\u901a\u8fc7jni_short_name\u548cjni_long_name\u5728\u6240\u6709\u5df2\u52a0\u8f7d\u7684\u52a8\u6001\u5e93\u91cc\u901a\u8fc7dlsym\u67e5\u627e\u51fd\u6570\uff0c\u5230\u8fd9\u91cc\u4e5f\u5c31\u89e3\u91ca\u4e86\u9759\u6001\u6ce8\u518c\u662f\u5982\u4f55\u8fdb\u884c\u51fd\u6570\u7ed1\u5b9a\u7684\u3002</p> <p>\u800clibraries\u5219\u662f\u4eceJavaVMExt::LoadNativeLibrary\u4e2d\u5f97\u6765\uff0c\u4e5f\u5c31\u8bf4System.loadLibrary\u65f6\u4f1a\u52a0\u8f7d\u5230libiraries\u4e2d\u3002</p>"},{"location":"awesome-reverse-main/android/jni-function-bind/#art_jni_dlsym_lookup_stub","title":"art_jni_dlsym_lookup_stub","text":"<p>\u8be5\u65b9\u6cd5\u4e5f\u662f\u4e00\u4e2a\u6c47\u7f16\u8df3\u677f\uff0c\u8df3\u8f6c\u5230artFindNativeMethod\u51fd\u6570\u3002</p>"},{"location":"awesome-reverse-main/android/jni-function-bind/#jnienv-regesternatives","title":"JNIEnv-&gt;RegesterNatives\u8ddf\u8e2a","text":"<p>\u8fd9\u4e2a\u65b9\u6cd5\u5f88\u7b80\u5355\uff0c\u4eceart/runtime/jni/jni_internal.cc\u4e2d\u9605\u8bfb\u6e90\u7801\u53d1\u73b0\uff0c\u8c03\u7528\u4e86class_linker-&gt;RegisterNative\uff0c\u6700\u7ec8\u5c31\u662f\u628aArtMethod\u7684data_\u5b57\u6bb5\u4e5f\u5c31\u662fentry_point_from_jni\u8bbe\u7f6e\u4e3a\u4e86\u4f20\u5165\u7684fnPtr\u3002</p> <p>\u6240\u4ee5\u9759\u6001/\u52a8\u6001\u6ce8\u518c\u7684JNI\u51fd\u6570\u7ed1\u5b9a\u90fd\u548c\u7b80\u5355\uff0c\u672c\u8d28\u5c31\u662f\u4ece\u6240\u6709\u5df2\u52a0\u8f7d\u7684so\u5e93\u4e2d\u67e5\u627e\u5b9e\u73b0\u51fd\u6570\u5e76\u8bbe\u7f6e\u5230JNI\u51fd\u6570\u7684jni\u5165\u53e3\u4e2d\u3002</p>"},{"location":"awesome-reverse-main/android/jni-function-bind/#xposedso","title":"Xposed\u52a0\u8f7dso","text":"<p>\u90a3\u4e48\u5bf9\u4e8eXposed\u63d2\u4ef6\u6216\u8005\u63d2\u4ef6\u5316\u7684APK\u6765\u8bf4\uff0cSystem.loadLibrary\u8be5\u5982\u4f55\u8c03\u7528\u5462\uff0c\u6216\u8005\u8bf4so\u6587\u4ef6\u5e94\u8be5\u8bfb\u53d6\u5462\u3002</p> <p>System.loadLibrary\u4f20\u5165\u7684\u53c2\u6570\u4e3aso\u7684\u540d\u79f0\uff0c\u7136\u540e\u4ececlassloader.findLibrary\u8fdb\u884c\u67e5\u627eso\u7684\u5168\u8def\u5f84\uff0c\u5728Art\u4e2d\u4e5f\u5c31\u662fBaseDexClassLoader\u901a\u8fc7pathList\u8fdb\u884c\u67e5\u627e\uff0c\u4e5f\u5c31\u662f\u521b\u5efaclassLoader\u65f6\u58f0\u660e\u7684nativeLibraryDirectories\u3002</p> <p>\u5982\u679c\u6709root\u6743\u9650\u5c31\u5f88\u7b80\u5355\uff0c\u628aso\u653e\u7f6e\u5728/system/lib\u6216\u8005/system/lib64\u4e0b\uff0c\u6bcf\u4e2aapp\u90fd\u6709\u6743\u9650\u53ef\u4ee5\u8bfb\u53d6\u3002</p> <p>\u5982\u679c\u6ca1\u6709root\u6743\u9650\uff0c\u90a3\u4e48\u6839\u636e\u52a0\u8f7d\u7684\u539f\u7406\u6709\u4e24\u4e2a\u65b9\u5411: 1. \u76f4\u63a5\u8df3\u8fc7\u67e5\u627eso\uff0c\u4f20\u5165so\u7684\u5168\u8def\u5f84\uff0c\u4f8b\u5982\u8c03\u7528Runtime.doLoad\u6216\u8005nativeLoad\u65b9\u6cd5 2. \u4fee\u6539ClassLoader\u7684pathList\uff0c\u52a0\u5165\u63d2\u4ef6\u5f53\u524d\u7684so\u6587\u4ef6\u5939\uff0c\u4f8b\u5982https://www.jianshu.com/p/8ca56c3ec591</p>"},{"location":"awesome-reverse-main/android/keycode-locate-tips/","title":"\u5173\u952e\u4ee3\u7801\u5b9a\u4f4d","text":"<p>hook\u7684\u524d\u63d0\u662f\u6211\u4eec\u9700\u8981\u77e5\u9053\u76ee\u6807\u7c7b\u540d\u3001\u65b9\u6cd5\u751a\u81f3\u53c2\u6570\u7b49\u7b49\uff0c\u6574\u4e2a\u9006\u5411\u7684\u6838\u5fc3\u4e5f\u662f\u4e3a\u4e86\u627e\u51fa\u76ee\u6807\u5173\u952e\u65b9\u6cd5\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u6709\u4ee5\u4e0b\u51e0\u79cd\u65b9\u5f0f\u6216\u7ed3\u5408\u8fdb\u884c\u5b9a\u4f4d\uff1a - DDMS - UIAutomator - \u6293\u5305 - \u5e38\u7528API Hook\u6253\u5370\u5806\u6808\u65e5\u5fd7 - \u6e90\u7801\u5ba1\u8ba1\uff0c\u5173\u952e\u5b57\u641c\u7d22</p>"},{"location":"awesome-reverse-main/android/keycode-locate-tips/#ddmsuiautomator","title":"DDMS&amp;UIAutomator","text":"<p>\u5728\u5b89\u88c5\u5b8c\u5b89\u5353sdk\u4e4b\u540e\uff0ctools\u76ee\u5f55\u548ctools/bin\u76ee\u5f55\u4e0b\u6709\u8bb8\u591a\u5b9e\u7528\u7684\u5de5\u5177\uff0c\u4f8b\u5982monitor\u548cuiautomator\u3002monitor\u5373ddms\uff0c\u53ef\u4ee5\u7528\u4e8e\u865a\u62df\u673a\u8c03\u8bd5\u76d1\u63a7\uff0c\u4f8b\u5982\u8fdb\u7a0b\u67e5\u770b\u3001\u622a\u5c4f\u3001\u7ebf\u7a0b/\u5185\u5b58DUMP\u3001\u8fd0\u884c\u65b9\u6cd5\u5806\u6808DUMP\u3001\u6587\u4ef6\u67e5\u770b\u3001\u6a21\u62df\u63a7\u5236\u7b49\u3002\u5176\u4e2d\u90e8\u5206\u529f\u80fd\u9700\u8981root\u6743\u9650\u6216\u8005APP\u4e3adebug\u6a21\u5f0f\uff0c\u4f8b\u5982\u8c03\u8bd5\u67d0\u4e2aAPP\u8fdb\u7a0b\u3002</p>"},{"location":"awesome-reverse-main/android/keycode-locate-tips/#app-debug","title":"\u5982\u4f55\u5f00\u542fAPP DEBUG\u6a21\u5f0f","text":"<p>\u5982\u679c\u8bbe\u5907\u5df2root\u60c5\u51b5\u4e0b\uff0c\u90a3\u4e48\u53ef\u4ee5\u5bf9\u6240\u6709APP\u8fdb\u884c\u8c03\u8bd5\uff0c\u53ea\u9700\u5728DDMS\u4e2d\u52fe\u9009show all process\u5373\u53ef\u3002\u6216\u8005\u5982\u679c\u8bbe\u5907\u662f\u901a\u8fc7magisk\u83b7\u53d6root\u6743\u9650\uff0c\u90a3\u4e48\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539ro.debuggable\u6765\u8bbe\u7f6e\u5168\u5c40app\u53ef\u8c03\u8bd5\u3002 <pre><code>adb shell //adb\u8fdb\u5165\u547d\u4ee4\u884c\u6a21\u5f0f\nsu //\u5207\u6362\u81f3\u8d85\u7ea7\u7528\u6237\nmagisk resetprop ro.debuggable 1  //\u8bbe\u7f6edebuggable\nstop;start; //\u4e00\u5b9a\u8981\u901a\u8fc7\u8be5\u65b9\u5f0f\u91cd\u542f\n</code></pre> \u8be5\u65b9\u5f0f\u7684\u539f\u7406\u662fro.debuggable\u5c5e\u6027\u914d\u7f6e\u4f4d\u4e8e/default.prop\u6587\u4ef6\u4e2d\uff0c\u800c /default.prop \u53c8\u6765\u6e90\u4e8e\u624b\u673a\u6bcf\u6b21\u542f\u52a8\u65f6 boot.img \u4e2d ramdisk \u7684\u6302\u8f7d\uff0cmaigsk\u5b9e\u73b0\u539f\u7406\u4e2d\u4fbf\u662f\u4fee\u6539\u4e86ramdisk\uff0c\u56e0\u6b64\u901a\u8fc7magisk\u662f\u5b8c\u5168\u53ef\u4ee5\u4fee\u6539\u8be5\u5c5e\u6027\u7684\u3002</p> <p>\u5982\u679c\u8bbe\u5907\u672aroot\u7684\u60c5\u51b5\u4e0b\uff0c\u5219\u9700\u8981APP\u5728AndroiodManifest.xml\u4e2d\u58f0\u660edebuggable\u4e3atrue\uff0c\u4f8b\u5982: <pre><code> &lt;application\n        android:icon=\"@drawable/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme\" \n        android:debuggable=\"true\"&gt;\n</code></pre></p> <p>\u90a3\u4e48\u5c82\u4e0d\u662f\u8bf4\u6211\u4eec\u5f97\u662fAPP\u7684\u5f00\u53d1\u8005\u624d\u80fd\u5728\u672aroot\u7684\u60c5\u51b5\u4e0b\u5f00\u542fdebug\u6a21\u5f0f\uff0c\u4f46\u5b9e\u9645\u4e0a\u4e0d\u7136\uff0cQContainer\u7684\u611f\u67d3\u6b65\u9aa4\u8d34\u5fc3\u7684\u63d0\u4f9b\u4e86\u8fd9\u4e2a\u529f\u80fd\uff0c\u53ea\u9700\u5728\u611f\u67d3\u65f6\u52a0\u4e0a-d\u53c2\u6570\uff0c\u5373\u53ef\u83b7\u5f97\u4e00\u4e2adebug\u6a21\u5f0f\u7684app\u3002</p> <p>\u8fd8\u6709\u4e00\u79cd\u7a76\u6781\u529e\u6cd5\u4e5f\u662f\u901a\u6740\u529e\u6cd5\u5c31\u662f\u81ea\u7f16\u8bd1ROM\u4fee\u6539ro.debuggable\u6765\u8bbe\u7f6e\u5168\u5c40\u53ef\u8c03\u8bd5\u3002</p>"},{"location":"awesome-reverse-main/android/keycode-locate-tips/#ddms","title":"DDMS\u65b9\u6cd5\u8c03\u7528\u5806\u6808\u5b9a\u4f4d","text":"<p>\u5728APP\u5f00\u542fDEBUG\u6a21\u5f0f\u540e\uff0c\u6211\u4eec\u4fbf\u53ef\u4ee5\u9009\u4e2d\u8be5\u5305\u540d\u7136\u540e\u4f7f\u7528DDMS\u7684\u65b9\u6cd5\u8c03\u7528\u5806\u6808DUMP\u529f\u80fd\u6765\u8f85\u52a9\u5173\u952e\u65b9\u6cd5\u5b9a\u4f4d\u3002\u901a\u8fc7\u8be5\u65b9\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u627e\u51fa\u8bb8\u591a\u6709\u6548\u4fe1\u606f\uff0c\u4f8b\u5982\u6309\u94ae\u6240\u7ed1\u5b9a\u7684\u70b9\u51fb\u4e8b\u4ef6\u76d1\u542c\u65b9\u6cd5\u3001\u5bf9\u65b9\u4ee3\u7801\u5305\u540d\u7279\u5f81\u3001\u7f51\u7edc\u5e93\u7279\u5f81\u7b49\u7b49\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u8be5\u529f\u80fd\u9700\u8981APP\u4e3aDEBUG\u6a21\u5f0f\u6216\u8005\u8bbe\u5907\u5f00\u542f\u5168\u5c40\u53ef\u8c03\u8bd5\u7684\u60c5\u51b5\u4e0b\uff0c\u624d\u80fd\u4f7f\u7528\u3002</p>"},{"location":"awesome-reverse-main/android/keycode-locate-tips/#uiautomator","title":"uiautomator","text":"<p>tools/bin/uiautomator\u662f\u7528\u4e8e\u9875\u9762\u5e03\u5c40dump\u7684\u4e00\u4e2a\u5de5\u5177\uff0c\u901a\u8fc7\u8be5\u5de5\u5177\u53ef\u4ee5\u5f97\u5230\u9875\u9762\u4e0a\u67d0\u4e2a\u63a7\u4ef6\u7684\u76f8\u5173\u4fe1\u606f\u4f8b\u5982resource-id\u3001content-desc\u7b49\u7b49\uff0c\u6211\u4eec\u5728\u81ea\u52a8\u70b9\u51fb\u65f6\u4e5f\u662f\u901a\u8fc7\u8fd9\u4e9b\u4fe1\u606f\u6765\u552f\u4e00\u5b9a\u4f4d\u6211\u4eec\u9700\u8981\u64cd\u4f5c\u7684\u63a7\u4ef6\u3002</p> <p>\u901a\u8fc7uiautomator\u89c2\u5bdf\u9875\u9762\u4e0a\u5173\u952e\u7ec4\u4ef6\uff0c\u5c3d\u53ef\u80fd\u627e\u51fa\u4e00\u4e2a\u552f\u4e00\u7684ID\u6216content-desc\uff0c\u540c\u65f6\u4ece\u4ee3\u7801\u4e2d\u5e03\u5c40xml\u6587\u4ef6\u4e2d\u67e5\u627e\u51fa\u552f\u4e00\u5f15\u7528\u7684\u5730\u65b9\uff0c\u6216\u8005\u7ed3\u5408adb\u547d\u4ee4\u67e5\u770b\u5f53\u524d\u9875\u9762activity\u7c7b\u540d\u786e\u5b9a\u5728\u7c7b\u4e2d\u7684\u5f15\u7528\u3002\u5728\u67e5\u627e\u8d44\u6e90\u6587\u4ef6\u548cR.java\u5b9a\u4f4d\u8fc7\u7a0b\u4e2d\u9700\u8981\u6ce8\u610f\u8d44\u6e90id\u7684\u5341\u516d\u8fdb\u5236\u7684\u8f6c\u6362\uff0c\u53ef\u80fd\u8d44\u6e90\u6587\u4ef6\u4e2d\u4e3a\u5341\u516d\u8fdb\u5236\uff0c\u800cjava\u4ee3\u7801\u6587\u4ef6\u4e2d\u4e3a\u5341\u8fdb\u5236\u3002\u8fd9\u91cc\u989d\u5916\u8d58\u8ff0\u4e00\u4e0b\u8d44\u6e90ID\u5b9a\u4f4d\u7684\u539f\u7406\uff0c\u5728\u5b89\u5353\u5f00\u53d1\u4e2d\uff0c\u5e94\u7528\u7a0b\u5e8f\u8d44\u6e90\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b\uff0c\u5206\u522b\u653e\u5728assets\u4e0b\u548cres\u76ee\u5f55\u4e0b\uff0c\u524d\u8005\u901a\u8fc7AssetManager\u8bbf\u95ee\uff0c\u540e\u8005\u5219\u4f1a\u5728\u7f16\u8bd1\u6253\u5305\u65f6\u8d4b\u4e88\u8d44\u6e90ID\uff0c\u8fd9\u4e9bID\u5c31\u4f1a\u88ab\u4fdd\u5b58\u5728R.java\u6587\u4ef6\u4e2d\uff08\u5177\u4f53\u53ef\u4ee5\u53c2\u8003\u5b89\u5353APK\u6253\u5305\u6d41\u7a0b\uff09\uff0c\u5728\u5f15\u7528\u8fd9\u4e9b\u8d44\u6e90\u65f6\u5c31\u4f1a\u901a\u8fc7R.java\u5f15\u7528\u3002</p> <p>\u4f46\u662fuiautomator\u5b58\u5728\u4e00\u4e2a\u7f3a\u70b9\uff0c\u5373dump\u65f6\u9875\u9762\u9700\u8981\u4fdd\u6301\u9759\u6b62\u3002\u5728\u7f51\u4e0a\u4e5f\u662f\u770b\u5230\u6709\u4eba\u901a\u8fc7\u4fee\u6539uiautomator\u6e90\u7801\u7684\u65b9\u5f0f\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u539f\u7406\u5c31\u662f\u901a\u8fc7\u652f\u6301dump\u52a8\u6001\u5e03\u5c40\u7684api\u66ff\u6362uiautomator\u9ed8\u8ba4dump\u5e03\u5c40\u7684api\uff1a</p> <p>https://github.com/512433465/autotest_helper</p> <p>\u8fd8\u6709\u4e00\u79cd\u89e3\u51b3\u65b9\u5f0f\u5c31\u662f\u627e\u5230\u5bf9\u65b9\u7684\u52a8\u6001\u7ec4\u4ef6\uff0c\u4f8b\u5982\u81ea\u52a8\u66f4\u6362\u7684banner\uff0c\u901a\u8fc7hook\u7684\u65b9\u5f0f\u7981\u6b62\u6389\uff0c\u6bd4\u8f83\u9ebb\u70e6\u3002</p>"},{"location":"awesome-reverse-main/android/keycode-locate-tips/#_2","title":"\u6293\u5305\u5b9a\u4f4d","text":"<p>\u6293\u5305\u662f\u5b89\u5353\u9006\u5411\u4e2d\u975e\u5e38\u5b9e\u7528\u7684\u5165\u95e8\u6280\u80fd\uff0c\u4e0d\u540c\u7684APP\u4e5f\u4f1a\u6709\u4e0d\u540c\u7684\u5bf9\u6297\u7b56\u7565\u3002\u4f46\u662f\u6293\u5305\u4e5f\u53ea\u80fd\u9650\u4e8eHttp/Https\u534f\u8bae\uff0c\u82e5\u5bf9\u65b9\u57fa\u4e8eSocket\u7b49\u5b9e\u73b0\u81ea\u5b9a\u4e49TCP\u62a5\u6587\u901a\u4fe1\uff0c\u90a3\u4e48\u5c31\u7b97\u62e6\u622a\u5230\u4e86TCP\u62a5\u6587\u4e5f\u65e0\u6cd5\u8fdb\u884c\u89e3\u6790\uff0c\u63a5\u4e0b\u6765\u8bb2\u4e00\u4e0bHttps\u534f\u8bae\u7684\u6293\u5305\u5e38\u7528\u601d\u8def\u548c\u5bf9\u6297\u539f\u7406\u3002</p> <p>\u4e00\u822c\u6293\u5305\u5de5\u5177\u6709\u4e24\u79cd\uff0c\u4ee3\u7406\u6216VPN\u3002\u4ee3\u7406\u7684\u5178\u578b\u5de5\u5177\u6709Charles\u3001Burpsuite(\u6e17\u900f\u9ed1\u5ba2\u7ecf\u5e38\u7528\u5230\u7684\u6293\u5305\u5de5\u5177)\u3001Fiddler\uff08\u4e0d\u652f\u6301\u5bfc\u5165\u8bc1\u4e66\uff09\uff0cVPN\u7684\u5178\u578b\u5de5\u5177\u5219\u662fHttpCanary\u3002</p> <p>\u65e0\u8bba\u662f\u4ee3\u7406\u8fd8\u662fVPN\u6293\u5305\uff0c\u7531\u4e8eHttps\u8bc1\u4e66\u52a0\u5bc6\u7684\u5b58\u5728\uff0cHttps\u534f\u8bae\u7684\u6293\u5305\u90fd\u662f\u57fa\u4e8e\u4e2d\u95f4\u4eba\u653b\u51fb\uff0c\u5373\u5ba2\u6237\u7aef\u4e0e\u4e2d\u95f4\u4eba\u7aef\u901a\u8fc7\u4e2d\u95f4\u4eba\u7684\u81ea\u5b9a\u4e49Https\u8bc1\u4e66\u8fdb\u884c\u901a\u4fe1\uff0c\u5982\u6b64\u4e00\u6765\u4e2d\u95f4\u4eba\u7aef\u5c31\u53ef\u5bf9\u5ba2\u6237\u7aef\u7684https\u62a5\u6587\u8fdb\u884c\u89e3\u5bc6\u83b7\u53d6\u8bf7\u6c42\u53c2\u6570\uff0c\u7136\u540e\u8f6c\u53d1\u81f3\u670d\u52a1\u7aef\uff0c\u54cd\u5e94\u4e5f\u662f\u540c\u7406\u3002\u57fa\u4e8e\u4e2d\u95f4\u4eba\u653b\u51fb\u7684Https\u534f\u8bae\u6293\u5305\u5fc5\u987b\u5ba2\u6237\u7aef\u4fe1\u4efb\u4e2d\u95f4\u4eba\u7684Https\u8bc1\u4e66\uff0c\u5728\u5b89\u53537.0\u4e4b\u540eAPP\u9ed8\u8ba4\u4e5f\u662f\u4e0d\u4fe1\u4efb\u7528\u6237\u5b89\u88c5\u7684\u8bc1\u4e66\uff0c\u5fc5\u987b\u901a\u8fc7root\u6743\u9650\u5b89\u88c5\u81f3\u7cfb\u7edf\u8bc1\u4e66\u6216\u8005\u7c7b\u4f3cVa\u7684\u5e73\u884c\u7a7a\u95f4\u6216\u8005hook\u7684\u65b9\u5f0f\u6765\u7ed5\u8fc7\u3002</p> <p>\u6240\u4ee5\u9488\u5bf9\u4e2d\u95f4\u4eba\u653b\u51fb\uff0c\u4fbf\u51fa\u73b0\u4e86\u5ba2\u6237\u7aef\u8bc1\u4e66\u68c0\u6d4b\u548c\u53cc\u5411\u68c0\u6d4b\u7684\u68c0\u6d4b\u65b9\u5f0f\uff0c\u5ba2\u6237\u7aef\u8bc1\u4e66\u68c0\u6d4b\u7684\u65b9\u5f0f\u53ef\u4ee5hook\u76f8\u5173\u7cfb\u7edfapi\u6765\u8fdb\u884c\u7ed5\u8fc7\uff0c\u4f8b\u5982\u5e38\u89c1\u7684JustTrustMe\u63d2\u4ef6\uff0c\u53ef\u89e3\u51b3\u5927\u90e8\u5206\u7684\u5ba2\u6237\u7aef\u8bc1\u4e66\u6821\u9a8c\uff0c\u4f46\u53ef\u80fd\u8fd8\u5b58\u5728\u4e00\u4e9b\u6df7\u6dc6\u8fc7\u540e\u7684\u65e0\u6cd5\u88abhook\u6216\u5176\u4ed6\u6821\u9a8c\u7684\u65b9\u5f0f\u53ef\u4ee5\u7279\u6b8a\u5206\u6790\u3002\u5176\u6b21\u9488\u5bf9\u53cc\u5411\u6821\u9a8c\u8bc1\u4e66\u7684\u68c0\u6d4b\u65b9\u5f0f\uff0c\u8fd9\u79cd\u68c0\u6d4b\u65b9\u5f0f\u9002\u7528\u4e8e\u670d\u52a1\u5668\u9ad8\u5ea6\u96c6\u4e2d\u4e14\u7248\u672c\u7ba1\u7406\u8f83\u4e3a\u4e25\u683c\u4f8b\u5982\u94f6\u884c\u7b49\u884c\u4e1a\u5e94\u7528\u4e2d\uff0c\u8fd9\u79cd\u68c0\u6d4b\u65b9\u5f0f\u4e0b\uff0c\u6211\u4eec\u9700\u8981\u627e\u51fa\u5bf9\u65b9\u7684\u8bc1\u4e66\u6587\u4ef6\u548c\u8bc1\u4e66\u5bc6\u7801\uff0c\u7136\u540e\u5bfc\u5165\u5230\u4e2d\u95f4\u4eba\u4e2d\u3002</p> <p>\u5c06\u4e0a\u8ff0\u8fdb\u884c\u603b\u7ed3\u548c\u5206\u7c7b\uff0c\u5ba2\u6237\u7aef\u5173\u4e8e\u8bc1\u4e66\u5904\u7406\u7684\u903b\u8f91\u5206\u7c7b:</p> \u5b89\u5168\u7b49\u7ea7 \u7b56\u7565 \u4fe1\u4efb\u8303\u56f4 \u7834\u89e3\u65b9\u6cd5 0 \u5b8c\u5168\u517c\u5bb9\u7b56\u7565 \u4fe1\u4efb\u6240\u6709\u8bc1\u4e66\u5305\u62ec\u81ea\u7b7e\u53d1\u8bc1\u4e66 \u65e0\u9700\u7279\u6b8a\u64cd\u4f5c 1 \u7cfb\u7edf/\u6d4f\u89c8\u5668\u9ed8\u8ba4\u7b56\u7565 \u4fe1\u4efb\u7cfb\u7edf\u6216\u6d4f\u89c8\u5185\u7f6eCA\u8bc1\u4e66\u4ee5\u53ca\u7528\u6237\u5b89\u88c5\u8bc1\u4e66 \u8bbe\u5907\u5b89\u88c5\u4ee3\u7406\u8bc1\u4e66 2 system CA pinning \u53ea\u4fe1\u4efb\u7cfb\u7edf\u6839\u8bc1\u4e66,\u4e0d\u4fe1\u4efb\u7528\u6237\u5b89\u88c5\u7684\u8bc1\u4e66(android 7.0\u652f\u6301\u914d\u7f6enetwork-security-config) \u6ce8\u5165\u6216\u8005root\u540e\u5c06\u7528\u6237\u8bc1\u4e66\u62f7\u8d1d\u5230\u7cfb\u7edf\u8bc1\u4e66\u76ee\u5f55 3 CA Pinning  Root (intermediate) certificate pinning \u4fe1\u4efb\u6307\u5b9aCA\u9881\u53d1\u7684\u8bc1\u4e66 hook\u6ce8\u5165\u7b49\u65b9\u5f0f\u7be1\u6539\u9501\u5b9a\u903b\u8f91 4 Leaf Certificate pinning \u4fe1\u4efb\u6307\u5b9a\u7ad9\u70b9\u8bc1\u4e66 hook\u6ce8\u5165\u7b49\u65b9\u5f0f\u7be1\u6539\u9501\u5b9a\u903b\u8f91\u5982\u9047\u53cc\u5411\u9501\u5b9a\u9700\u5c06app\u81ea\u5e26\u8bc1\u4e66\u5bfc\u5165\u4ee3\u7406\u8f6f\u4ef6 <p>\u9488\u5bf9\u5b89\u5168\u7b49\u7ea72\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e0b\u8ff0\u7684\u65b9\u5f0fhook\u8fdb\u884c\u7ed5\u8fc7\u3002 <pre><code>private static void trustAndroidRootTrustManager() {\n        Class&lt;?&gt; rootTrustManagerClass;\n        try {\n            rootTrustManagerClass = ClassLoader.getSystemClassLoader().loadClass(\"android.security.net.config.RootTrustManager\");\n        } catch (Throwable throwable) {\n            return;\n        }\n\n        for (Method method : rootTrustManagerClass.getDeclaredMethods()) {\n            if (method.getName().equals(\"checkServerTrusted\")\n                    &amp;&amp; method.getReturnType().equals(Void.TYPE)) {\n                XosedBridge.hookMethod(method, new XC_MethodReplacement() {\n                    @Override\n                    protected Object replaceHookedMethod(MethodHookParam param) throws Throwable {\n                                              return null;\n                    }\n                });\n            }\n        }\n    }\n</code></pre></p> <p>\u9488\u5bf9\u5ba2\u6237\u7aef\u5bf9\u7279\u5b9a\u8bc1\u4e66\u7684\u6821\u9a8c\uff0c\u5219\u9700\u8981\u4f7f\u7528\u7c7b\u4f3cJustTrustMe\u7b49\u63d2\u4ef6hook\u6389\u6307\u5b9a\u6821\u9a8c\u903b\u8f91\uff0c\u539f\u7406\u4e0a\u90fd\u662f\u9488\u5bf9\u4e0d\u540c\u7684\u7f51\u7edc\u7c7b\u5e93\u6821\u9a8c\u7684API\u8fdb\u884chook\u3002</p> <p>\u627e\u5230\u8bc1\u4e66\u6587\u4ef6\u5f88\u7b80\u5355\uff0c\u4e00\u822capk\u8fdb\u884c\u89e3\u5305\uff0c\u76f4\u63a5\u8fc7\u6ee4\u641c\u7d22\u540e\u7f00\u540d\u4e3ap12\u7684\u6587\u4ef6\u5373\u53ef\uff0c\u4e00\u822c\u5e38\u7528\u7684\u547d\u4ee4\u4e3atree -NCfhl |grep -i p12\uff0c\u76f4\u63a5\u6253\u5370\u51fap12\u6587\u4ef6\u7684\u8def\u5f84\uff0c\u5f53\u7136\u53ef\u80fdAPP\u4f1a\u5bf9\u6587\u4ef6\u8fdb\u884c\u6df7\u6dc6\uff0c\u4f8b\u5982\u4fee\u6539\u540e\u7f00\u540d\uff0c\u56e0\u6b64\u5728\u5b89\u5353\u9006\u5411\u4e2d\u5343\u4e07\u4e0d\u8981\u901a\u8fc7\u540e\u7f00\u540d\u53bb\u5224\u65ad\u6587\u4ef6\u7c7b\u578b\uff0c\u53ef\u4ee5\u901a\u8fc7file\u547d\u4ee4\u76f8\u5bf9\u51c6\u786e\u7684\u6839\u636e\u6587\u4ef6\u7279\u5f81\u8fdb\u884c\u5224\u65ad\u3002\u6216\u8005\u901a\u8fc7hook\u76f8\u5173api\u4f8b\u5982java.security.KeyStore#load\u65b9\u6cd5\u76f4\u63a5\u5c06\u8bc1\u4e66\u8def\u5f84\u548c\u5bc6\u7801\u6253\u5370\u51fa\u6765\u3002</p> <p>\u57fa\u4e8e\u4ee3\u7406\u7684\u65b9\u5f0f\u8fd8\u6709\u4e00\u79cd\u7f3a\u70b9\u5c31\u662f\uff0c\u5982\u679c\u5bf9\u65b9\u5728\u7f51\u7edc\u5e93\u4e2d\u8bbe\u7f6e\u4e0d\u8d70\u7cfb\u7edf\u4ee3\u7406\uff0c\u90a3\u4e48\u4ee3\u7406\u5c31\u4e0d\u80fd\u751f\u6548\uff0c\u4f8b\u5982: <pre><code>OkHttpClient client = new OkHttpClient().newBuilder().proxy(Proxy.NO_PROXY).build();\n</code></pre> \u56e0\u6b64\u5e94\u5bf9\u8fd9\u79cd\u63aa\u65bd\u53ef\u4ee5\u4f7f\u7528VPN\u7684\u65b9\u5f0f\u6765\u8fdb\u884c\u6293\u5305\u3002VPN\u7684\u65b9\u5f0f\u5219\u662fVPN\u75d5\u8ff9\u5f88\u5bb9\u6613\u68c0\u6d4b\uff0c\u4f46\u4e5f\u901a\u8fc7hook\u7ed5\u8fc7\uff0c\u56e0\u6b64\u8fd8\u6709\u4e00\u79cd\u7a76\u6781\u529e\u6cd5\u662f\u901a\u8fc7\u8def\u7531\u5668\u6293\u5305\uff0c\u4f8b\u5982\u7ed9\u7b14\u8bb0\u672c\u7535\u8111\u88c5Kali Linux\uff0ceth0\u53e3\u63d2\u7f51\u7ebf\u4e0a\u7f51\uff0cwlan0\u53e3\u4f7f\u7528\u7cfb\u7edf\u81ea\u5e26\u7684\u70ed\u70b9\u529f\u80fd\uff0c\u624b\u673a\u8fde\u4e0a\u70ed\u70b9\u4e0a\u7f51\u3002</p> <p>\u9664\u4e86\u4ee3\u7406\u548c\u5de5\u5177\u7684\u65b9\u5f0f\uff0c\u8fd8\u6709\u5c31\u662f\u4e07\u80fd\u7684Hook\u65b9\u5f0f\uff0c\u65e0\u8bba\u662fhook\u901a\u7528\u7684\u7f51\u7edc\u5e93\u4f8b\u5982OkHttp(\u73cd\u60dc\u7684OkHttpCat)\u6216\u8005\u662f\u9488\u5bf9\u5bf9\u65b9\u7684\u7f51\u7edc\u5e93\u5b9a\u5236\u7684hook\u63d2\u4ef6\u5747\u53ef\u5c1d\u8bd5\uff0c\u5176\u6b21hook\u8fd8\u53ef\u4ee5\u89e3\u51b3TCP\u62a5\u6587\u65e0\u6cd5\u6293\u5305\u7684\u60c5\u51b5\uff0c\u4f46\u524d\u63d0\u9700\u8981\u5206\u6790\u83b7\u5f97\u5bf9\u65b9\u7684TCP\u672a\u52a0\u5bc6\u62a5\u6587\u6570\u636e\u6240\u5728\u65b9\u6cd5\u3002TCP\u534f\u8bae\u5206\u6790\u7684\u4e00\u4e2a\u5927\u81f4\u601d\u8def\u662f\u901a\u8fc7DDMS\u67e5\u770b\u5bf9\u65b9\u7684\u65b9\u6cd5\u8c03\u7528\u6808\uff0c\u67e5\u770b\u662f\u5426\u6709\u4e0a\u5c42\u7684\u7f51\u7edc\u5e93\uff0c\u4f8b\u5982MT\u5b9e\u9645\u4e0a\u4e1a\u52a1\u5c42\u4f7f\u7528\u7684\u4ecd\u7136\u662fRetrofit Http\u5e93\uff0c\u7136\u540e\u5728\u63d0\u4ea4\u8bf7\u6c42\u65f6\u6839\u636e\u5f00\u5173\u6216TCP\u901a\u9053\u662f\u5426\u53ef\u7528\u5224\u65ad\u662f\u5426\u8981\u8f6c\u53d1\u81f3TCP\u7f51\u7edc\u5e93\u5c42\uff0c\u56e0\u6b64\u5728\u8fd9\u4e2a\u65f6\u673a\u8bf7\u6c42\u53c2\u6570\u4ecd\u7136\u662f\u660e\u6587\u7684\uff0c\u53ef\u4ee5\u5728\u8be5\u5c42\u505ahook\u70b9\u8fdb\u884c\u6293\u5305\u3002\u5176\u6b21\u901a\u8fc7\u8c03\u7528\u6808\u4e5f\u53ef\u4ee5\u770b\u51fa\u5bf9\u65b9\u662f\u57fa\u4e8esocket\u8fd8\u662fnio channel\uff0chook\u5bf9\u5e94\u7684\u65b9\u6cd5\u4e5f\u53ef\u4ee5\u5b9a\u4f4d\u51fa\u5bf9\u65b9TCP\u76f8\u5173\u4ee3\u7801\u6240\u5728\u7684\u5305\uff0c\u8fdb\u800c\u7ee7\u7eed\u5206\u6790\u4ee3\u7801\u3002</p> <p>\u9664\u4e86hook\u7684\u65b9\u5f0f\u4e4b\u5916\uff0c\u5bf9\u4e8eTCP\u62a5\u6587\u7684\u6293\u5305\uff0c\u8fd8\u53ef\u5206\u4e3a\u4e09\u79cd\uff0c\u63a5\u53e3\u8f6c\u50a8\u3001\u9a71\u52a8\u8f6c\u50a8\u548c\u8def\u7531\u8f6c\u50a8\uff1a</p> <p>\u63a5\u53e3\u8f6c\u50a8\uff1a\u6bd4\u5982\u7ed9outputStream.write\u4e0bhook,\u628a\u5185\u5bb9\u5b58\u4e0b\u6765\u770b\u770b\uff0c\u53ef\u80fd\u662f\u7ecf\u8fc7\u538b\u7f29\u3001\u6216\u52a0\u5bc6\u540e\u7684\u5305\uff0c\u603b\u4e4b\u662f\u5b57\u8282\u6d41,\u4f8b\u5982virjar\u54e5\u7684SocketMonitor\uff1b</p> <p>\u9a71\u52a8\u8f6c\u50a8\uff1a\u4f7f\u7528tcpdump\u5c06\u7ecf\u8fc7\u7f51\u53e3\u9a71\u52a8\u65f6\u7684\u6570\u636e\u5305\u8f6c\u50a8\u4e0b\u6765\uff0c\u518d\u4f7f\u7528Wireshark\u8fdb\u884c\u5206\u6790\uff1b</p> <p>\u8def\u7531\u8f6c\u50a8\uff1a\u81ea\u5df1\u505a\u4e2a\u8def\u7531\u5668\uff0c\u8fd0\u884cjnettop\uff0c\u89c2\u5bdf\u5b9e\u65f6\u7ecf\u8fc7\u7684\u6d41\u91cf\u548cIP\uff0c\u53ef\u4ee5\u4f7f\u7528WireShark\u5b9e\u65f6\u6293\u5305\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528tcpdump\u6293\u5305\u540e\u7528WireShark\u5206\u6790\u3002</p>"},{"location":"awesome-reverse-main/android/keycode-locate-tips/#api-hook","title":"\u5e38\u7528API HOOK","text":"<p>\u8be5Hook\u65b9\u5f0f\u5b9e\u9645\u4e0a\u5c5e\u4e8e\u53d6\u5de7\uff0c\u6839\u636e\u5e38\u7528\u7684\u4e00\u4e9b\u7ecf\u9a8c\u63a8\u6d4b\u5bf9\u65b9\u53ef\u80fd\u4f7f\u7528\u7684Hook\u70b9\uff0c\u4f8b\u5982hook JSON\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u65b9\u6cd5\uff0c\u6216\u8005hook Base64/AES/RSA\u7b49\u5e38\u7528\u52a0\u5bc6\u7b97\u6cd5\uff0c\u751a\u81f3hook String\u7684\u6784\u9020\u65b9\u6cd5\u7b49\u7b49\u5747\u662f\u6709\u53ef\u80fd\u5b9a\u4f4d\u5230\u5bf9\u65b9\u5173\u952e\u4ee3\u7801\u3002</p>"},{"location":"awesome-reverse-main/android/mt-ctrip-hook-capture/","title":"Mt ctrip hook capture","text":""},{"location":"awesome-reverse-main/android/mt-ctrip-hook-capture/#1","title":"1.\u6293\u5305\u4ee3\u7801","text":"<pre><code>XposedBridge.hookAllConstructors(XposedHelpers.findClass(\"com.sankuai.meituan.retrofit2.Response\", SharedObject.loadPackageParam.classLoader), new XC_MethodHook() {\n            @Override\n            protected void afterHookedMethod(MethodHookParam param) throws Throwable {\n                try {\n                    Map&lt;String, Object&gt; request = Maps.newHashMap();\n                    request.put(\"url\", param.args[0]);\n                    request.put(\"resp\", param.args[4] == null ? \"\" : param.args[4].toString());\n                    LogUtil.i(\"MEITUAN_HTTP\", \"#ClientCall Http Request#\" + JSON.toJSONString(request));\n                } catch (Exception e) {\n                    Log.e(\"MEITUAN_HTTP\", \"#ClientCall Http Request# exception\", e);\n                }\n            }\n        });\n</code></pre>"},{"location":"awesome-reverse-main/android/mt-ctrip-hook-capture/#2okhttp","title":"2.OKHTTP\u964d\u7ea7\u5f00\u5173","text":"<pre><code>    public static com.sankuai.meituan.retrofit2.raw.RawCall.Factory a(java.lang.String str) {\n        java.lang.Object[] objArr = {str};\n        com.meituan.robust.ChangeQuickRedirect changeQuickRedirect = a;\n        if (com.meituan.robust.PatchProxy.isSupport(objArr, null, changeQuickRedirect, true, \"f3eb404c82ad0f34e256faed6da8654c\", com.meituan.robust.utils.RobustBitConfig.DEFAULT_VALUE)) {\n            return (com.sankuai.meituan.retrofit2.raw.RawCall.Factory) com.meituan.robust.PatchProxy.accessDispatch(objArr, null, changeQuickRedirect, true, \"f3eb404c82ad0f34e256faed6da8654c\");\n        }\n        if (str.equals(\"defaultokhttp\")) {\n            return (com.sankuai.meituan.retrofit2.raw.RawCall.Factory) b.c();\n        }\n        if (str.equals(\"okhttp\")) {\n            return (com.sankuai.meituan.retrofit2.raw.RawCall.Factory) c.c();\n        }\n        if (str.equals(\"nvnetwork\")) {\n            return (com.sankuai.meituan.retrofit2.raw.RawCall.Factory) d.c();\n        }\n        if (str.equals(\"oknv\")) {\n            return (com.sankuai.meituan.retrofit2.raw.RawCall.Factory) e.c();\n        }\n        if (str.equals(\"mapi\")) {\n            return (com.sankuai.meituan.retrofit2.raw.RawCall.Factory) f.c();\n        }\n        if (str.equals(\"statistics\")) {\n            return (com.sankuai.meituan.retrofit2.raw.RawCall.Factory) g.c();\n        }\n        throw new java.lang.IllegalArgumentException(\"key:\" + str + \"not supported\");\n    }\n</code></pre>"},{"location":"awesome-reverse-main/android/mt-ctrip-hook-capture/#3ctrip-hook","title":"3.Ctrip Hook\u6293\u5305","text":"<pre><code>// \u8bf7\u6c42\nRposedBridge.hookAllMethods(RposedHelpers.findClass(\"ctrip.business.comm.ProcoltolHandle\",\n                RatelToolKit.sContext.getClassLoader()),\n                \"buileRequest\",\n                new RC_MethodHook() {\n                    @Override\n                    protected void beforeHookedMethod(MethodHookParam methodHookParam) throws Throwable {\n                        com.alibaba.fastjson.JSONObject jsonObject = null;\n                        if (methodHookParam.args.length == 2) {\n                            jsonObject = (com.alibaba.fastjson.JSONObject) JSON.toJSON(ForceFiledViewer.toView(methodHookParam.args[1]));\n                        } else {\n                            jsonObject = (com.alibaba.fastjson.JSONObject) JSON.toJSON(ForceFiledViewer.toView(methodHookParam.args[3]));\n                        }\n                        try {\n                            String request = jsonObject.toJSONString();\n                            String realServiceCode = JsonPath.read(request, \"$.a.realServiceCode\");\n                            LogcatUtil.i(TAG, realServiceCode);\n                            // \u9152\u5e97\u5217\u8868\u9875\u63a5\u53e3\u7684serviceCode\n                            if (\"17100101\".equals(realServiceCode)) {\n                                String checkInDate = JsonPath.read(request, \"$.a.searchSetting.checkInDate\");\n                                String checkOutDate = JsonPath.read(request, \"$.a.searchSetting.checkOutDate\");\n                                String cityId = String.valueOf(JsonPath.read(request, \"$.a.searchSetting.cityID\"));\n                                String pageIndex = String.valueOf(JsonPath.read(request, \"$.a.sortingInfo.pageIndex\"));\n                                String log = String.format(HOTEL_LIST_REQUSET_LOG_TEMPLATE, pageIndex, cityId, checkInDate, checkOutDate);\n                                Log.i(TAG, log);\n                                saveToLog(log);\n                            }\n                        } catch (Throwable e) {\n                            Log.e(TAG, \"catch  http request error:\", e);\n                        }\n\n                    }\n                });\n\n        //\u54cd\u5e94\n        RposedHelpers.findAndHookMethod(\"ctrip.business.handle.Serialize\",\n                RatelToolKit.sContext.getClassLoader(),\n                \"readMessage\",\n                byte[].class,\n                Class.class,\n                new RC_MethodHook() {\n                    @Override\n                    protected void afterHookedMethod(MethodHookParam param) throws Throwable {\n                        try {\n                            Object resultObj = param.getResult();\n                            String data = JSONObject.toJSONString(ForceFiledViewer.toView(resultObj));\n                            String realServiceCode = JsonPath.read(data, \"$.realServiceCode\");\n\n                            if (realServiceCode.equals(\"17100101\")) {\n                                // saveToLog(data);\n                                List&lt;String&gt; hotelNames = JSONPATH.read(data);\n                                if (hotelNames != null) {\n                                    Log.i(TAG, JSON.toJSONString(hotelNames));\n                                    saveToLog(JSON.toJSONString(hotelNames));\n                                }\n                            }\n                        } catch (Throwable throwable) {\n                            Log.e(TAG, \"hook ctrip response error:\", throwable);\n                        }\n                    }\n                });\n</code></pre>"},{"location":"awesome-reverse-main/android/ratel-doc/","title":"Ratel doc","text":"<p>\u5e73\u5934\u54e5\uff08Ratel\uff09\u5728\u6211\u770b\u6765\u662f\u4e00\u4e2a\u5177\u6709\u6280\u672f\u6807\u5fd7\u6027\u7684\u5e94\u7528\u5bb9\u5668\u65b9\u6848\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u5728\u514dRoot\u73af\u5883\u4e0b\u5b8c\u6574\u7684\u9006\u5411\u5206\u6790\u6d41\u6d3e\uff0c\u5305\u542b\u4e86\u4ece\u8131\u58f3\u5230Hook\u5230\u8bbe\u5907\u6307\u7eb9\u5230\u63d2\u4ef6\u751f\u6001\u7b49\u4e00\u7cfb\u5217\u529f\u80fd\uff0c\u518d\u914d\u5408Sekiro\u3001Rogue\u3001Majora\u7b49\u957f\u8fde\u63a5\u66b4\u9732\u6846\u67b6\u548c\u81ea\u5efa\u4ee3\u7406\u6846\u67b6\uff0c\u51e0\u4e4e\u5efa\u7acb\u8d77\u4e86\u4e00\u6574\u5957\u9006\u5411\u6293\u53d6\u5e94\u7528\u573a\u666f\u7684\u5168\u5957\u89e3\u51b3\u65b9\u6848\u3002</p> <p>\u56e0\u4e3a\u6709\u5e78\u548cvirjar\u54e5\u5171\u4e8b\uff0c\u4ece\u5e73\u5934\u54e5\u7684\u4e1a\u52a1\u4f7f\u7528\u5230\u8fdb\u5165\u5e73\u5934\u54e5\u8fed\u4ee3\u5f00\u53d1\uff0c\u4ece\u5e73\u5934\u54e5\u65e9\u671f\u5185\u90e8\u5230\u5f00\u6e90\uff0c\u5bf9\u4e8e\u5e73\u5934\u54e5\u7684\u529f\u80fd\u4ef7\u503c\u548c\u4f7f\u7528\u611f\u53d7\u8fdc\u8fdc\u6bd4\u4ee5\u4e0b\u6587\u5b57\u9610\u8ff0\u7684\u529f\u80fd\u5217\u8868\u66f4\u52a0\u5f3a\u5927\u3002</p> <p>\u5e73\u5934\u54e5\u7684\u613f\u666f\u662f\u4e00\u4e2a\u6210\u719f\u7684\u9006\u5411\u751f\u6001\uff0c\u800c\u975e\u4e00\u4e2a\u7b80\u5355\u7684\u5e94\u7528\u5206\u8eabHook\u6846\u67b6\uff0c\u656c\u8bf7\u6df1\u5165\u63a2\u7d22\u548c\u4ea4\u6d41\u3002</p> <ul> <li>\u5e73\u5934\u54e5\u7684\u5b98\u65b9\u6587\u6863</li> <li>\u5e73\u5934\u54e5\u7684\u6838\u5fc3\u4ee3\u7801</li> </ul>"},{"location":"awesome-reverse-main/android/ratel-doc/#_1","title":"\u529f\u80fd\u4ecb\u7ecd","text":"<p>\u5e73\u5934\u54e5\uff08ratel\uff09\u662f\u4e00\u4e2aAndroid\u9006\u5411\u5206\u6790\u5de5\u5177\u5957\u4ef6\uff0c\u4ed6\u63d0\u4f9b\u4e00\u7cfb\u5217\u6e10\u8fdb\u5f0fapp\u9006\u5411\u5206\u6790\u5de5\u5177\u3002\u540c\u65f6\u5e73\u5934\u54e5\u4e5f\u662f\u4e00\u4e2aapp\u4e8c\u6b21\u5f00\u53d1\u7684\u6c99\u7bb1\u73af\u5883\uff0c\u652f\u6301\u5728\u514droot\u73af\u5883\u4e0bhook\u548c\u91cd\u5b9a\u4e49app\u529f\u80fd\u3002</p> <p>\u5e73\u5934\u54e5\u7684\u5b9e\u73b0\u7c7b\u4f3c\u4e8e\u592a\u6781\uff0c\u901a\u8fc7\u91cd\u6253\u5305\u548cIO\u91cd\u5b9a\u5411\u5b8c\u6210Hook\u6b63\u5982\u548c\u5e94\u7528\u5206\u8eab\uff0c\u518d\u914d\u5408\u8bbe\u5907\u6307\u7eb9\u529f\u80fd\u8fbe\u6210\u5206\u8eab\u548c\u65b0\u673a\u7684\u7ed1\u5b9a\u6548\u679c\uff0c\u518d\u52a0\u4e0aSuperAppium\u548c\u5b9a\u65f6\u4efb\u52a1\u7ba1\u7406\u4ee5\u53ca\u70ed\u53d1\u5e03\u529f\u80fd\uff0c\u4e00\u4e2a\u5b89\u5353\u7fa4\u63a7\u80fd\u529b\u4fbf\u5df2\u57fa\u672c\u6210\u578b\u3002</p> <ul> <li>\u57fa\u672c\u7684hook \u4efb\u610fapp\u529f\u80fd</li> <li>\u514droot\u80fd\u529b</li> <li>\u5206\u8eab\u548c\u591a\u5f00\u80fd\u529b\uff08\u76ee\u524d\u5df2\u7ecf\u5728\u751f\u4ea7\u9a8c\u8bc1\u8fc7\u4e00\u53f0\u624b\u673a\u5206\u8eab100\u4e2a\u8bbe\u5907\uff09</li> <li>\u8bbe\u5907\u6307\u7eb9\u5bf9\u6297\u80fd\u529b\uff1a\u5b9e\u9a8c\u53d1\u73b0\u5df2\u7ecf\u53ef\u4ee5\u5e94\u5bf9\u67d0\u4e9b\u5927\u5382</li> <li>\u7fa4\u63a7\u80fd\u529b\uff1a \u5185\u7f6eSupperAppium\u6a21\u5757\uff0c\u5176\u5f00\u6e90\u65b9\u6848\uff1ahttps://bbs.pediy.com/thread-260992-1.htm</li> <li>\u5b9a\u65f6\u4efb\u52a1\u7ba1\u7406,\u5927\u591a\u4e3a\u4e86\u652f\u6301\u65e0\u7535\u8111\u7684\u7fa4\u63a7\uff08\u65e0USB\u7684\u8131\u673a\u7fa4\u63a7\uff09</li> <li>\u70ed\u53d1\u5e03\uff1a\u63d2\u4ef6\u6a21\u5757\u901a\u8fc7\u540e\u7aef\u70ed\u53d1\uff0c\u5bf9\u96c6\u7fa4\u6240\u6709\u8bbe\u5907\u751f\u6548\u3002\u4e14\u652f\u6301\u56de\u6eda</li> <li>RDP\uff1a\u76ee\u524d\u5e02\u9762\u4e0a\u552f\u4e00\u8fd8\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u5fae\u4fe1\u7b49\u5927\u578bapp\u5b9e\u73b0smali\u91cd\u6253\u5305\u7684\u529f\u80fd\u6a21\u5757</li> <li>\u8131\u58f3\uff1a\u5185\u7f6e\u6307\u4ee4dump\u7ea7\u522b\u8131\u58f3\u673a\uff0c\u53ef\u4ee5\u514droot\u8131\u58f3</li> <li>\u517c\u5bb9\u548c\u9002\u914d\uff1a\u57282000\u591a\u53f0\u8bbe\u5907\uff0c\u517c\u5bb9\u6d4b\u8bd5\u8fc7500\u6b3e\u6765\u81ea\u5e94\u7528\u5e02\u573a\u7684\u62bd\u6837app\u3002\u8986\u76d6Android5.0-Android10.0(Android11\u5df2\u7ecf\u5728\u5185\u6d4b\u4e2d)</li> <li>\u514droot IDA\u8c03\u8bd5</li> <li>\u5185\u7f6eJustTrustMe</li> <li>\u5185\u7f6esocketMonitor(\u6bd4\u8089\u4e1d\u7684R0Cpature\u65e9\u51fa\u73b03\u5e74\uff0c\u65e9\u671f\u751a\u81f3\u652f\u6301\u7ebf\u7a0b\u8df3\u8dc3\u8ffd\u8e2a\uff0c\u7528\u4ee5\u89e3\u51b3\u5f02\u6b65\u95ee\u9898)</li> <li>SplitApk\uff1aGoogleAppStore Android \u5b89\u88c5\u5305\u5206\u53d1\u683c\u5f0f</li> <li>\u5b8c\u5584\u7684\u540e\u53f0\u64cd\u4f5c\u7f51\u7ad9\uff1a https://ratel.virjar.com/</li> <li>\u591a\u79cd\u91cd\u6253\u5305\u65b9\u6848\u652f\u6301\uff1a appendDex\u3001rebuildDex\u3001zelda\u3001shell</li> <li>\u751f\u6001\uff1a\u5fae\u4fe1\u673a\u5668\u4eba\u3001\u6a21\u62df\u5b9a\u4f4d\u3001\u591a\u5f00\u8d26\u53f7\u8d44\u6e90\u5907\u4efd\u8fd8\u539f</li> </ul> <p>\u5173\u4e8e\u5e73\u5934\u54e5\u7684\u66f4\u591a\u6587\u6863\u5305\u62ec\u8bbe\u8ba1\u539f\u7406\u3001\u4f7f\u7528\u65b9\u6cd5\u4e5f\u4f1a\u5728\u5e73\u5934\u54e5\u7684\u7528\u6237\u624b\u518c\u4e2d\u6162\u6162\u5f00\u653e\uff0c\u7ed3\u5408\u6e90\u7801\u9605\u8bfb\u53ef\u4ee5\u6536\u83b7\u66f4\u591a\u9006\u5411\u77e5\u8bc6\uff0c\u6b22\u8fce\u8df3\u8f6c\u5b98\u7f51\u83b7\u5f97\u66f4\u591a\u4f53\u9a8c\u3002</p>"},{"location":"awesome-reverse-main/android/ratel-doc/#_2","title":"\u5e73\u5934\u54e5\u6838\u5fc3\u539f\u7406","text":"<p>\u5e73\u5934\u54e5\u5b9e\u73b0\u514dRoot Hook\u6ce8\u5165\u7684\u6838\u5fc3\u6765\u6e90\u4e8e\u91cd\u6253\u5305\u6280\u672f\uff0c\u7c7b\u4f3c\u4e8eXpatch\u548c\u592a\u6781\uff0c\u901a\u8fc7\u91cd\u6253\u5305\u6ce8\u5165\u4ee3\u7801\u5728\u76ee\u6807\u5e94\u7528Application\u6267\u884c\u524d\u6267\u884c\u6211\u4eec\u7684\u6ce8\u5165\u4ee3\u7801\u548cSO\uff0c\u5982\u6b64\u4e00\u6765\uff0c\u4fbf\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u76ee\u6807\u5e94\u7528\u7684Hook\u3002</p> <p>\u7c7b\u4f3c\u4e8eXpatch\uff0c\u6ce8\u5165\u7684\u65b9\u5f0f\u5206\u4e3a\u66ff\u6362AndroidManifest.xml\u4e2d\u7684application\u5165\u53e3\u548c\u5728\u76ee\u6807Application\u63d2\u5165\u9759\u6001\u4ee3\u7801\u5757\uff0c\u5728\u5e73\u5934\u54e5\u4e2d\u8fd9\u4e24\u79cd\u65b9\u5f0f\u5bf9\u5e94\u7740rebuildDex\u548cappendDex\uff0c\u5728\u611f\u67d3\u65f6\u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0-e\u53c2\u6570\u6765\u9009\u62e9\u8fd9\u4e24\u79cd\u65b9\u5f0f\u3002</p> <p>\u5e73\u5934\u54e5\u5185\u90e8\u91c7\u7528\u7684ART Hook\u6846\u67b6\u4e3a\u9b54\u6539\u7684SandHook\uff0c\u56e0\u6b64\u4ece\u7c7b/\u5305\u540d\u4e0a\u4e0d\u5b58\u5728\u6240\u8c13\u7684Xposed\u75d5\u8ff9\uff0c\u63a5\u7740\u4e3a\u4e86\u5b9e\u73b0\u5e94\u7528\u5206\u8eab\u529f\u80fd\uff0c\u5e73\u5934\u54e5\u4f7f\u7528\u4e86IO\u91cd\u5b9a\u5411\uff0c\u4e3a\u6bcf\u4e2a\u5206\u8eab\u6307\u5b9a\u4e00\u4e2a\u72ec\u7acb\u7684/data/data\u6c99\u76d2\u76ee\u5f55\uff0c\u540c\u65f6\u5229\u7528IO\u91cd\u5b9a\u5411\u8fd8\u53ef\u4ee5\u5bf9\u6297\u91cd\u6253\u5305\u7b7e\u540d\u6821\u9a8c\uff0c\u518d\u914d\u5408\u8bbe\u5907\u6307\u7eb9\u6a21\u5757\u4e3a\u6bcf\u4e2a\u5206\u8eab\u5206\u914d\u4e00\u4e2a\u53ef\u6301\u4e45\u5316\u7684\u8bbe\u5907\u6307\u7eb9\uff0c\u5b9e\u73b0\u4e00\u4e2a\u5206\u8eab\u76f8\u5f53\u4e8e\u4e00\u4e2a\u65b0\u673a\u3002</p> <p>\u6240\u4ee5\uff0c\u5e73\u5934\u54e5\u7684\u6838\u5fc3\u5c31\u662f\u91cd\u6253\u5305\u548cIO\u91cd\u5b9a\u5411\uff0c\u4f46\u662f\u5b9e\u73b0\u4e0a\u5e73\u5934\u54e5\u505a\u4e86\u975e\u5e38\u975e\u5e38\u591a\u7684\u4f18\u5316\u548c\u7ec6\u8282\uff0c\u4ece\u5e73\u5934\u54e5\u7684\u4ee3\u7801\u7ed3\u6784\u548c\u63d0\u4ea4\u6b21\u6570(\u5f00\u6e90\u524d\u5c31\u7ecf\u5386\u4e86\u4e0a\u5343\u6b21\u63d0\u4ea4)\u5c31\u53ef\u4ee5\u53d1\u73b0\uff0c\u4f8b\u5982\u91cd\u6253\u530565535\u95ee\u9898\u3001Hook Bridge\u673a\u5236\u3001\u5e94\u7528\u517c\u5bb9\u95ee\u9898\u3001\u5b89\u5353\u7248\u672c\u517c\u5bb9\u95ee\u9898\u3001\u670d\u52a1\u7aef/\u524d\u7aef\u4e91\u611f\u67d3\u548c\u7ba1\u7406\u529f\u80fd\u3001\u63d2\u4ef6\u70ed\u53d1/\u5b9a\u65f6\u4efb\u52a1/\u81ea\u52a8\u70b9\u51fb\u7b49\u7b49\u3002</p>"},{"location":"awesome-reverse-main/android/ratel-plugin-dev/","title":"\u5e73\u5934\u54e5\u63d2\u4ef6\u5f00\u53d1\u6559\u7a0b","text":"<p>\u5e73\u5934\u54e5\u63d2\u4ef6\u7684\u542b\u4e49\u4f5c\u7528\u548cXposed\u63d2\u4ef6\u4e00\u81f4\uff0c\u5747\u53ef\u7528\u4e8e\u5bf9\u76ee\u6807App\u7684Hook\u7f16\u5199\uff0c\u4f46\u5e73\u5934\u54e5\u63d2\u4ef6\u8fd8\u53ef\u4f7f\u7528\u5e73\u5934\u54e5\u7684\u76f8\u5173\u751f\u6001\u529f\u80fd\uff0c\u4f8b\u5982\uff1a 1. \u51fd\u6570\u7ea7\u7684\u6307\u4ee4\u62bd\u53d6\u58f3\u8fd8\u539f 2. \u57fa\u4e8eHook\u5b9e\u73b0\u7684\u81ea\u52a8\u70b9\u51fb\u6846\u67b6SuperAppium\u548c\u5c4f\u5e55\u622a\u56fe 3. \u5b9a\u65f6\u4efb\u52a1\u7ba1\u7406 4. \u63d2\u4ef6\u70ed\u53d1\u673a\u5236</p> <p>\u4f46\u53d7\u9650\u4e8e\u5e73\u5934\u54e5\u539f\u7406\uff0c\u5e73\u5934\u54e5\u63d2\u4ef6\u53ea\u80fd\u4f5c\u7528\u4e8e\u611f\u67d3\u540e\u7684\u5e94\u7528\uff0c\u65e0\u6cd5Hook\u7cfb\u7edf\u8fdb\u7a0b\u4f8b\u5982system_server\u3002</p>"},{"location":"awesome-reverse-main/android/ratel-plugin-dev/#_2","title":"\u5e73\u5934\u54e5\u63d2\u4ef6","text":"<p>\u5e73\u5934\u54e5\u63d2\u4ef6\u672c\u8d28\u662f\u4e00\u4e2a\u666e\u901a\u7684\u5b89\u5353APP\uff0c\u548cXposed\u63d2\u4ef6\u4e00\u6837\uff08\u5e73\u5934\u54e5\u4e5f\u517c\u5bb9\u4e86Xposed\u63d2\u4ef6\uff0c\u652f\u6301\u76f4\u63a5\u52a0\u8f7d\uff09\uff0c\u63d2\u4ef6\u9700\u8981\u5728AndroidManifest.xml\u4e2d\u52a0\u4e0a\u4e00\u4e9bmeta-data\u5c5e\u6027\u6765\u8ba9\u5e73\u5934\u54e5\u77e5\u9053\u54ea\u4e9bAPP\u662f\u5e73\u5934\u54e5\u63d2\u4ef6\uff0c\u5e73\u5934\u54e5\u624d\u80fd\u8fdb\u884c\u63d2\u4ef6\u7ba1\u7406\u548c\u52a0\u8f7d\u3002</p> <p>\u5e73\u5934\u54e5\u63d2\u4ef6\u4e2d\u989d\u5916\u6ce8\u610f\u7684\u6587\u4ef6\u548c\u6807\u8bc6\u5c5e\u6027\u5982\u4e0b\u6240\u793a\uff0c\u5982\u9047\u5230\u63d2\u4ef6\u4e0d\u751f\u6548\u7b49\u95ee\u9898\u8bf7\u68c0\u67e5\u4ee5\u4e0b\u914d\u7f6e\u662f\u5426\u6b63\u786e\uff0c\u5efa\u8bae\u4f7f\u7528\u5b98\u65b9\u5de5\u5177\u751f\u6210\u63d2\u4ef6\u8fdb\u884c\u4fee\u6539\u3002</p> <ul> <li>AndroidManifest.xml\u4e2dmeta-data\u5c5e\u6027</li> <li>xposedmodule</li> <li>xposedminversion</li> <li>for_ratel_apps \u5173\u952e\u5c5e\u6027\uff0c\u6807\u8bc6\u63d2\u4ef6\u4f5c\u7528\u4e8e\u54ea\u4e2a\u76ee\u6807APP\uff0c\u5982\u679c\u5bf9\u6240\u6709APP\u751f\u6548\uff0c\u4e0d\u586b\u5199\u8be5\u5c5e\u6027\u5373\u53ef</li> <li>xposeddescription</li> <li> <p>virtualEnvModel \u5173\u952e\u5c5e\u6027\uff0c\u6807\u8bc6\u76ee\u6807APP\u91c7\u7528\u54ea\u79cd\u5206\u8eab\u6a21\u5f0f\uff1aMULTI/DISABLE/START_UP</p> </li> <li> <p>src/main/assets/xposed_init</p> </li> <li>\u6807\u8bc6\u63d2\u4ef6\u7684\u5165\u53e3\u7c7b\u5373IRposedHookLoadPackage\u7684\u5b9e\u73b0\u7c7b\u7684\u5168\u9650\u5b9a\u540d</li> <li>src/main/assets/ratel_scheduler.json</li> <li>\u5b9a\u65f6\u4efb\u52a1\u7ba1\u7406\u6587\u4ef6\uff0c\u63cf\u8ff0\u63d2\u4ef6\u81ea\u5b9a\u4e49\u7684\u5b9a\u65f6\u4efb\u52a1\u8c03\u5ea6\u65f6\u95f4\u548c\u6267\u884c\u5165\u53e3</li> <li>taskImplementationClassName \u4efb\u52a1\u5b9e\u73b0\u7c7b\uff0c\u662fjava\u7684class\uff0c\u6bd4\u5982\u662fcom.virjar.ratel.api.scheduler.RatelTask\u7684\u5b9e\u73b0\u7c7b</li> <li>cronExpression \u4efb\u52a1\u6267\u884c\u7684\u65f6\u95f4\u89c4\u5219\uff0c\u914d\u7f6e\u4f7f\u7528cron\u8868\u8fbe\u5f0f\u89c4\u5219</li> <li>maxDuration \u4efb\u52a1\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u79d2\uff0c\u4e5f\u5373\u5f53\u4efb\u52a1\u6267\u884c\u8fbe\u5230\u8d85\u65f6\u65f6\u95f4\u540e\uff0c\u6846\u67b6\u4ecd\u7136\u6ca1\u6709\u6536\u5230\u4efb\u52a1\u7ed3\u675f\u6d88\u606f\uff0c\u90a3\u4e48\u6846\u67b6\u4f1a\u5f3a\u884c\u5e72\u9884\uff0c\u9ed8\u8ba410\u5206\u949f</li> <li>restartApp \u8be5\u4efb\u52a1\u662f\u5426\u9700\u8981\u5f3a\u5236\u91cd\u542fapp\uff0c\u5982\u679c\u4e3atrue\uff0c\u90a3\u4e48\u4efb\u52a1\u8c03\u5ea6\u524d\u4f1a\u6740\u6b7bapp.\u8be5\u914d\u7f6e\u9ed8\u8ba4\u4e3atrue</li> </ul>"},{"location":"awesome-reverse-main/android/ratel-plugin-dev/#_3","title":"\u4f7f\u7528\u811a\u672c\u521b\u5efa\u5e73\u5934\u54e5\u63d2\u4ef6","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u81ea\u5df1\u521b\u5efa\u4e00\u4e2a\u5b89\u5353\u9879\u76ee\u6765\u7f16\u5199\u5e73\u5934\u54e5\u63d2\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5e73\u5934\u54e5\u63d0\u4f9b\u7684\u811a\u672c\u5de5\u7a0b\u4e00\u952e\u521b\u5efa\u63d2\u4ef6\u5de5\u7a0b\uff1a</p> <p>https://github.com/virjarRatel/ratel-module-template</p> <p>\u5728\u5de5\u7a0b\u6839\u76ee\u5f55\u4e0b\u6267\u884c./template.sh $params\u5373\u53ef\u751f\u6210\u63d2\u4ef6\u5b50\u6a21\u5757\uff0c\u811a\u672c\u652f\u6301\u7684\u53c2\u6570\u6709\uff1a <pre><code>-m: \u6307\u5b9a\u63d2\u4ef6\u6a21\u5757\u540d\u79f0\uff0c\u4e0d\u53ef\u4e3a\u7a7a\n-p: \u53ef\u4e3a\u7a7a\uff0c\u6307\u5b9a\u63d2\u4ef6\u751f\u6548\u7684\u76ee\u6807\u5e94\u7528\u5305\u540d\n-h: \u8f93\u51fa\u547d\u4ee4\u5e2e\u52a9\u6587\u6863\n...\n</code></pre></p> <p>\u66f4\u591a\u4f7f\u7528\u65b9\u5f0f\u6216\u5b9a\u5236\u9700\u6c42\u8bf7\u53c2\u8003\u6e90\u7801</p>"},{"location":"awesome-reverse-main/android/riru-edxp/","title":"Riru edxp","text":"<p>\u56e0\u4e3a\u6700\u8fd1\u5728\u7528EdXposed\uff0c\u5bf9\u4e8emagisk\u548criru\u5f88\u662f\u597d\u5947\uff0c\u4e4b\u524d\u4e5f\u5927\u81f4\u4e86\u89e3\u8fc7edxp\u901a\u8fc7riru\u5b9e\u73b0zygote\u6ce8\u5165\u8fdb\u800c\u5b8c\u6210ART Hook\u5b9e\u73b0\u7c7bXposed\uff0c\u4f46\u662f\u5728\u51c6\u5907\u770b\u6e90\u7801\u7684\u65f6\u5019\u53d1\u73b0\u4e0d\u77e5\u9053\u5165\u53e3\u5728\u54ea\uff0c\u672c\u6765\u60f3\u627e\u627e\u6709\u6ca1\u6709\u73b0\u6210\u7684\u5927\u4f6c\u603b\u7ed3\uff0c\u53d1\u73b0\u8c8c\u4f3c\u6ca1\u6709\uff0c\u4e8e\u662f\u79c9\u7740\u52aa\u529b\u5b66\u4e60\u62c9\u8fd1\u5dee\u8ddd\u7684\u6001\u5ea6\uff0c\u81ea\u529b\u66f4\u751f\uff0c\u4ecemagisk\u63d2\u4ef6\u5f00\u53d1\u5230riru\u63d2\u4ef6\u5230riru\u52a0\u8f7d\u903b\u8f91\uff0c\u4e00\u6b65\u6b65\u627e\u5230\u4e86edxp\u7684\u4ee3\u7801\u5165\u53e3\u3002</p>"},{"location":"awesome-reverse-main/android/riru-edxp/#edxpmagisk","title":"Edxp\u5982\u4f55\u7f16\u8bd1\u6210\u4e00\u4e2aMagisk\u63d2\u4ef6","text":"<p>\u6839\u636e\u9762\u5177\u7684\u5b98\u65b9\u6587\u6863(https://topjohnwu.github.io/Magisk/guides.html)\u4e00\u4e2aMagisk\u63d2\u4ef6\u6a21\u5757\u662f/data/adb/modules\u4e0b\u7684\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u5176\u4e2d\u81f3\u5c11\u5305\u542b\u7740\u4ee5\u4e0b\u51e0\u4e2a\u6587\u4ef6\uff1a</p> <ul> <li>module.prop \u6a21\u5757\u6807\u8bc6</li> <li>post-fs-data.sh post-fs-data\u65f6\u6240\u6267\u884c\u7684\u811a\u672c</li> <li>service.sh \u542f\u52a8\u811a\u672c\u7684\u9996\u9009\u6587\u4ef6</li> </ul> <p>EdXposed\u5728gradle\u6784\u5efa\u51fa\u4ea7\u7269\u65f6\uff0c\u4f1a\u5c06\u6574\u4e2a\u9879\u76ee\u6253\u5305\u6210\u4e00\u4e2amagisk module installer,\u8be5installer\u4e0emagisk module\u7684\u533a\u522b\u5728\u4e8einstaller\u4e3a\u4e00\u4e2azip\u538b\u7f29\u6587\u4ef6\uff0c\u540c\u65f6\u5305\u542bMETA-INF\u6587\u4ef6\u5939\uff0c\u5176\u4e2d\u7684update-binary.sh\u5c06\u4f5c\u4e3a\u5b89\u88c5\u524d\u6267\u884c\u7684\u811a\u672c\u3002</p> <p>\u4f46\u662f\u6211\u4eec\u5728DoraDo\u4e2d\u5e76\u6ca1\u6709\u641c\u5230\u76f8\u5173\u7684module.prop\u6587\u4ef6\uff0c\u53ea\u80fd\u770b\u5230module.prop.tpl\u6a21\u7248\u6587\u4ef6\uff0c\u90a3\u4e48\u8fd9\u4e24\u4e2a\u6587\u4ef6\u662f\u5982\u4f55\u5173\u8054\u7684\u5462\u3002</p> <p>\u5728edxp-core\u7684build.gradle\u4e2d\u53ef\u4ee5\u770b\u5230\u58f0\u660e\u4e86\u4e00\u7cfb\u5217\u6784\u5efaTask\uff0c\u4eceDoraDo\u7684\u6784\u5efa\u547d\u4ee4./gradlew clean :edxp-core:[zip|push]YahfaRelease\u5f00\u59cb\u8ffd\u8e2a\uff0c</p> <pre><code>def zipTask = task(\"zip${backendCapped}${variantCapped}\", type: Zip) {\n                dependsOn prepareMagiskFilesTask\n                archiveName \"${module_name}-${project.version}-${variantLowered}.zip\"\n                destinationDir file(\"$projectDir/release\")\n                from \"$zipPathMagiskRelease\"\n            }\n\n            task(\"push${backendCapped}${variantCapped}\", type: Exec) {\n                dependsOn zipTask\n                workingDir \"${projectDir}/release\"\n                def commands = [\"adb\", \"push\",\n                                \"${module_name}-${project.version}-${variantLowered}.zip\",\n                                \"/sdcard/\"]\n                if (is_windows) {\n                    commandLine 'cmd', '/c', commands.join(\" \")\n                } else {\n                    commandLine commands\n                }\n            }\n        }\n\n        // backward compatible\n        task(\"zip${variantCapped}\") {\n            dependsOn \"zipYahfa${variantCapped}\"\n        }\n        task(\"push${variantCapped}\") {\n            dependsOn \"pushYahfa${variantCapped}\"\n        }\n</code></pre> <p>\u53ef\u4ee5\u53d1\u73b0 pushTask\u53ea\u662f\u5c06\u6784\u5efa\u4ea7\u7269\u63a8\u9001\u5230\u8bbe\u5907sdcard\u4e0b\uff0c\u771f\u6b63\u6253\u5305\u4efb\u52a1\u5728zipTask\u4e2d\uff0c\u5176\u4f9d\u8d56\u4e8eprepareMagiskFilesTask\uff0c\u8be5task\u7684\u4f5c\u7528\u662f\uff1a</p> <ul> <li>\u590d\u5236template_override\u76ee\u5f55\u4e0b\u7684META-INF\u548cso\u6587\u4ef6</li> <li>\u66ff\u6362\u548c\u91cd\u5199edconfig.tpl\u548cmodule.prop.tpl\uff0c\u53d8\u6210\u771f\u6b63\u7684module.prop</li> </ul> <pre><code>def prepareMagiskFilesTask = task(\"prepareMagiskFiles${backendCapped}${variantCapped}\", type: Delete) {\n                dependsOn prepareJarsTask, \"assemble${variantCapped}\"\n                delete file(zipPathMagiskRelease)\n                doFirst {\n                    copy {\n                        from \"${projectDir}/tpl/edconfig.tpl\"\n                        into templateFrameworkPath\n                        rename \"edconfig.tpl\", \"edconfig.jar\"\n                        expand(version: \"$version\", backend: \"$backend\")\n                    }\n                    copy {\n                        from \"${projectDir}/tpl/module.prop.tpl\"\n                        into templateRootPath\n                        rename \"module.prop.tpl\", \"module.prop\"\n                        expand(moduleId: \"$magiskModuleId\", backend: \"$backendCapped\",\n                                versionName: \"$version\",\n                                versionCode: \"$versionCode\", authorList: \"$authorList\")\n                        filter(FixCrLfFilter.class, eol: FixCrLfFilter.CrLf.newInstance(\"lf\"))\n                    }\n                }\n                def libPathRelease = \"${buildDir}/intermediates/cmake/${variantLowered}/obj\"\n                doLast {\n                    copy {\n                        from \"${projectDir}/template_override\"\n                        into zipPathMagiskRelease\n                    }\n                    copy {\n                        from \"$libPathRelease/armeabi-v7a\"\n                        into \"$zipPathMagiskRelease/system/lib\"\n                    }\n                    copy {\n                        from \"$libPathRelease/arm64-v8a\"\n                        into \"$zipPathMagiskRelease/system/lib64\"\n                    }\n                    copy {\n                        from \"$libPathRelease/x86\"\n                        into \"$zipPathMagiskRelease/system_x86/lib\"\n                    }\n                    copy {\n                        from \"$libPathRelease/x86_64\"\n                        into \"$zipPathMagiskRelease/system_x86/lib64\"\n                    }\n                }\n            }\n</code></pre> <p>\u4f46\u662fEdXposed\u4f5c\u4e3a\u4e00\u4e2aMagisk\u63d2\u4ef6\uff0c\u63d2\u4ef6\u52a0\u8f7d\u65f6\u6240\u4f1a\u6267\u884c\u7684update-binary\u3001post-fs-data.sh\u3001customize.sh\u7b49\u811a\u672c\u4e2d\u5e76\u6ca1\u6709\u76f8\u5173\u6267\u884cEdXp\u7684\u547d\u4ee4\uff0c\u90a3\u4e48EdXposed\u662f\u5982\u4f55\u5728Zygote\u8fdb\u7a0b\u52a0\u8f7d\u65f6\u6240\u6267\u884c\u5462\u3002</p> <p>EdXposed\u5b9e\u9645\u4e0a\u8fd8\u662f\u4e00\u4e2ariru\u63d2\u4ef6\uff0c\u5373\u57fa\u4e8eriru\u6ce8\u5165zygote\u8fdb\u7a0b\u65f6\u673a\u548criru\u76f8\u5173\u7684API\u58f0\u660e\u6765\u5b9e\u73b0zygote\u8fdb\u7a0b\u6267\u884c\u65f6\u7684\u52a0\u8f7d\u3002</p>"},{"location":"awesome-reverse-main/android/riru-edxp/#riru","title":"Riru\u6a21\u5757\uff08\u63d2\u4ef6\uff09\u7f16\u8bd1\u6784\u5efa\u8fc7\u7a0b","text":"<p>Riru\u6a21\u5757\u672c\u8d28\u4e0a\u662f\u4e00\u4e2aMagisk\u63d2\u4ef6\uff0c\u989d\u5916\u7684\u5730\u65b9\u5728\u4e8e\u65b0\u589e\u4e86\u4e00\u4e2a\u76ee\u5f55/data/adb/riru/modules(\u65e7\u7248\u672c\u5728/data/misc/riru/modules)\u4e0b\u591a\u4e86\u4e00\u4e2a\u63d2\u4ef6\u76ee\u5f55\uff0c\u8be5\u76ee\u5f55\u7684\u4f5c\u7528\u5728\u4e8e\u5728riru\u52a0\u8f7d\u65f6\u901a\u8fc7\u8be5\u76ee\u5f55\u540d\u79f0\u52a0\u8f7d\u5bf9\u5e94\u7684\u63d2\u4ef6so\uff0c\u5177\u4f53\u903b\u8f91\u4e0b\u9762\u5177\u4f53\u5206\u6790\u3002</p> <p>\u9996\u5148\u770b\u4e00\u4e2aRiru\u6a21\u5757\u5982\u4f55\u7f16\u8bd1\u6784\u5efa\u7684\uff0c\u5165\u53e3\u4f9d\u7136\u662fbuild.gradle\uff0c\u5373\u4ece\u6784\u5efa\u547d\u4ee4zipMagiskMoudle\u5165\u624b\uff1a</p> <p>\u6e90\u7801\uff1ahttps://github.com/RikkaApps/Riru-ModuleTemplate/blob/master/module/build.gradle</p> <p>\u53ef\u4ee5\u770b\u5230\u4e3b\u8981\u505a\u4e86\u4ee5\u4e0b\u64cd\u4f5c\uff1a 1. \u590d\u5236\\(rootDir/template/magisk_module 2. \u590d\u5236\\)rootDir/template/magisk_module/riru.sh\uff0c\u66ff\u6362\u5176\u4e2d\u5360\u4f4d\u7b26 3. \u751f\u6210module.prop 4. \u5728riru\u76ee\u5f55\u4e0b\u751f\u6210module.prop.new 5. \u590d\u5236native\u52a8\u6001\u94fe\u63a5\u5e93 6. \u751f\u6210sha1sum\u7b7e\u540d 7. zip\u538b\u7f29\u6253\u5305</p> <p>\u4e00\u53e5\u8bdd\u603b\u7ed3\uff1a\u5c06\u9879\u76ee\u4e0btemplate/magisk_module\u4e0b\u7684\u5982\u52a8\u6001\u5e93\u3001module.prop\u3001post-fs-data.sh\u7b49magisk\u63d2\u4ef6\u76f8\u5173\u6587\u4ef6\u6253\u5305\u6210magisk module install\u6240\u9700\u7684zip\u683c\u5f0f\u3002\u5269\u4e0b\u7684\u5c31\u662f\u5b89\u88c5\u5230\u624b\u673a\u4e2d\u7531Magisk\u8fdb\u884c\u52a0\u8f7d\u3002</p> <pre><code>android.libraryVariants.all { variant -&gt;\n    def task = variant.assembleProvider.get()\n    task.doLast {\n        // clear\n        delete { delete magiskDir }\n\n        // copy from template\n        copy {\n            from \"$rootDir/template/magisk_module\"\n            into magiskDir.path\n            exclude 'riru.sh'\n        }\n        // copy riru.sh\n        copy {\n            from \"$rootDir/template/magisk_module\"\n            into magiskDir.path\n            include 'riru.sh'\n            filter { line -&gt;\n                line.replaceAll('%%%RIRU_MODULE_ID%%%', moduleId)\n                        .replaceAll('%%%RIRU_MIN_API_VERSION%%%', moduleMinRiruApiVersion.toString())\n                        .replaceAll('%%%RIRU_MIN_VERSION_NAME%%%', moduleMinRiruVersionName)\n            }\n            filter(FixCrLfFilter.class,\n                    eol: FixCrLfFilter.CrLf.newInstance(\"lf\"))\n        }\n        // copy .git files manually since gradle exclude it by default\n        Files.copy(file(\"$rootDir/template/magisk_module/.gitattributes\").toPath(), file(\"${magiskDir.path}/.gitattributes\").toPath())\n\n        // generate module.prop\n        def modulePropText = \"\"\n        magiskModuleProp.each { k, v -&gt; modulePropText += \"$k=$v\\n\" }\n        modulePropText = modulePropText.trim()\n        file(\"$magiskDir/module.prop\").text = modulePropText\n\n        // generate module.prop for Riru\n        def riruModulePropText = \"\"\n        moduleProp.each { k, v -&gt; riruModulePropText += \"$k=$v\\n\" }\n        riruModulePropText = riruModulePropText.trim()\n        file(riruDir).mkdirs()\n\n        // module.prop.new will be renamed to module.prop in post-fs-data.sh\n        file(\"$riruDir/module.prop.new\").text = riruModulePropText\n\n        // copy native files\n        def nativeOutDir = file(\"build/intermediates/cmake/$variant.name/obj\")\n\n        file(\"$magiskDir/system\").mkdirs()\n        file(\"$magiskDir/system_x86\").mkdirs()\n        renameOrFail(file(\"$nativeOutDir/arm64-v8a\"), file(\"$magiskDir/system/lib64\"))\n        renameOrFail(file(\"$nativeOutDir/armeabi-v7a\"), file(\"$magiskDir/system/lib\"))\n        renameOrFail(file(\"$nativeOutDir/x86_64\"), file(\"$magiskDir/system_x86/lib64\"))\n        renameOrFail(file(\"$nativeOutDir/x86\"), file(\"$magiskDir/system_x86/lib\"))\n\n        // generate sha1sum\n        fileTree(\"$magiskDir\").matching {\n            exclude \"README.md\", \"META-INF\"\n        }.visit { f -&gt;\n            if (f.directory) return\n            file(f.file.path + \".sha256sum\").text = calcSha256(f.file)\n        }\n    }\n    task.finalizedBy zipMagiskMoudle\n}\n\ntask zipMagiskMoudle(type: Zip) {\n    from magiskDir\n    archiveName zipName\n    destinationDir outDir\n}\n</code></pre>"},{"location":"awesome-reverse-main/android/riru-edxp/#_1","title":"\u6a21\u5757\u52a0\u8f7d\u8fc7\u7a0b","text":"<p>\u4e00\u4e2a\u5178\u578b\u7684riru\u63d2\u4ef6\u7684\u52a0\u8f7d\u987a\u5e8f\u53ef\u4ee5\u7b80\u5355\u7406\u89e3\u4e3a:</p> <p>update_binary -&gt; customize.sh -&gt; post-fs-data.sh </p> <p>\u5176\u4e2dcustomize.sh\u662friru\u91cd\u5199update_binary\u8fdb\u884c\u6267\u884c\u7684\uff0c\u5176\u4ed6\u90fd\u662f\u9075\u5faamagisk\u7684\u63d2\u4ef6\u6267\u884c\u987a\u5e8f\u3002</p> <p>\u63a5\u4e0b\u6765\u5c31\u901a\u8fc7\u8fd9\u4e9bshell\u811a\u672c\u7684\u6267\u884c\u6765\u627e\u5230riru\u662f\u5982\u4f55\u5b9a\u4f4d\u63d2\u4ef6\u3001\u89e3\u6790\u63d2\u4ef6\u3001\u6267\u884c\u63d2\u4ef6\u548c\u5b8c\u6210zygote\u6ce8\u5165\u7684\u3002</p> <p>\u9996\u5148\u770briru\u662f\u5982\u4f55\u88abmagisk\u6267\u884c\u7684\uff0c\u56e0\u4e3ariru\u4e5f\u662f\u4e00\u4e2amagisk\u63d2\u4ef6\uff0c\u6240\u4ee5\u76f4\u63a5\u5148\u770bpost-fs-data.sh\uff0c\u53ef\u4ee5\u770b\u5230: <pre><code>LIBRARIES_FILE='/system/etc/public.libraries.txt'\nmkdir -p \"$MODDIR/system/etc\"\ncp -f $LIBRARIES_FILE \"$MODDIR/$LIBRARIES_FILE\"\ngrep -qxF 'libriru.so' \"$MODDIR/$LIBRARIES_FILE\" || echo 'libriru.so' &gt;&gt; \"$MODDIR/$LIBRARIES_FILE\"\n</code></pre></p> <p>\u8fd9\u4e2a\u7248\u672c\u7684riru\u76f4\u63a5\u901a\u8fc7/system/etc/public.libraries.txt\u81ea\u52a8\u5b8c\u6210so\u7684dlopen\u52a0\u8f7d\u3002</p> <pre><code>PS\uff1a\n\nriru\u76ee\u524d\u5b58\u5728\u4e86\u4e09\u79cd\u5df2\u77e5\u7684app_process\u6ce8\u5165\u5b9e\u73b0\uff1a\n1. \u6700\u65e9\u901a\u8fc7\u66ff\u6362libmemtrack.so\n2. \u540e\u6765\u901a\u8fc7/system/etc/public.libraries.txt\n3. \u76ee\u524d\u901a\u8fc7native bridge\u5373\u8bbe\u7f6e\u7cfb\u7edf\u5c5e\u6027ro.dalvik.vm.native.bridge\n</code></pre> <p>\u56e0\u6b64\u53ef\u4ee5\u76f4\u63a5\u5954\u5411riru\u7684so\uff0c\u627e\u5230.init_array\u65b9\u6cd5\uff08__attribute__((constructor))\uff09\uff0c\u53ef\u4ee5\u770b\u5230\u4e24\u4e2a\u5173\u952e\u65b9\u6cd5\u8c03\u7528\uff0c\u5206\u522b\u4e3a</p> <p>XHOOK_REGISTER(\".*\\libandroid_runtime.so$\", jniRegisterNativeMethods);</p> <p>\u548c</p> <p>load_modules();</p> <p>\u5177\u4f53.init_array\u4ee3\u7801\u53ef\u4ee5\u770bmain.cpp\u4e2d\uff1a <pre><code>extern \"C\" void constructor() __attribute__((constructor));\n\n// _init_array libriru.so\u88abdlopen\u540e\u6700\u5148\u6267\u884c\u7684\u51fd\u6570\nvoid constructor() {\n#ifdef DEBUG_APP\n    hide::hide_modules(nullptr, 0);\n#endif\n\n    if (getuid() != 0)\n        return;\n\n    char cmdline[ARG_MAX + 1];\n    get_self_cmdline(cmdline, 0);\n\n    if (strcmp(cmdline, \"zygote\") != 0\n        &amp;&amp; strcmp(cmdline, \"zygote32\") != 0\n        &amp;&amp; strcmp(cmdline, \"zygote64\") != 0\n        &amp;&amp; strcmp(cmdline, \"usap32\") != 0\n        &amp;&amp; strcmp(cmdline, \"usap64\") != 0) {\n        LOGW(\"not zygote (cmdline=%s)\", cmdline);\n        return;\n    }\n\n    LOGI(\"Riru %s (%d) in %s\", RIRU_VERSION_NAME, RIRU_VERSION_CODE, cmdline);\n\n    LOGI(\"config dir is %s\", CONFIG_DIR);\n\n    if (access(CONFIG_DIR \"/disable\", F_OK) == 0) {\n        LOGI(\"%s exists, do nothing\", CONFIG_DIR \"/disable\");\n        return;\n    }\n\n    read_prop();\n\n    // \u901a\u8fc7GOT\u8868hook libandroid_runtime.so\u4e2d\u5bf9jniRegisterNativeMethods\u65b9\u6cd5\u7684\u8c03\u7528\uff0c\u56e0\u4e3alibandroid_runtime.so\u4e2d\u6240\u6709JNI\u65b9\u6cd5\u90fd\u662f\u901a\u8fc7\u8be5\u65b9\u6cd5\u8fdb\u884c\u6ce8\u518c\uff0c\u7136\u540e\u518d\u901a\u8fc7\u624b\u52a8\u8c03\u7528registeNatives\u6765\u66ff\u6362\n    // \u56e0\u6b64\u901a\u8fc7hook\u8be5\u65b9\u6cd5\u53ef\u4ee5\u5728com.android.internal.os.Zygote#nativeForkAndSpecialize\u548ccom.android.internal.os.Zygote#nativeForkSystemServer\u6ce8\u518c\u65f6\u8fdb\u884c\u66ff\u6362\n    // Riru\u4e5f\u56e0\u6b64\u5b8c\u6210\u4e86zygote\u8fdb\u7a0b\u7684\u6ce8\u5165\n    XHOOK_REGISTER(\".*\\\\libandroid_runtime.so$\", jniRegisterNativeMethods);\n\n    if (xhook_refresh(0) == 0) {\n        xhook_clear();\n        LOGI(\"hook installed\");\n    } else {\n        LOGE(\"failed to refresh hook\");\n    }\n\n    // \u52a0\u8f7d\u63d2\u4ef6\n    load_modules();\n\n    status::writeToFile();\n}\n</code></pre></p>"},{"location":"awesome-reverse-main/android/riru-edxp/#xhook_register","title":"XHOOK_REGISTER","text":"<p>\u8fd9\u91ccXHOOK_REGISTER\u662f\u4e00\u4e2a\u5b8f\u5b9a\u4e49\uff0c</p> <p>XHOOK_REGISTER(\".*\\libandroid_runtime.so$\", jniRegisterNativeMethods);</p> <p>\u5b9e\u9645\u4e0a\u76f8\u5f53\u4e8e</p> <p><pre><code>    if (xhook_register(\".*\\\\libandroid_runtime.so$\", jniRegisterNativeMethods, (void*) new_jniRegisterNativeMethods, (void **) &amp;old_jniRegisterNativeMethods) != 0) \\\n        LOGE(\"failed to register hook jniRegisterNativeMethods .\"); \\\n</code></pre> new_jniRegisterNativeMethods\u548cold_jniRegisterNativeMethods\u5219\u662f\u901a\u8fc7NEW_FUNC_DEF\u5b8f\u5b9a\u4e49\u6765\u8fdb\u884c\u58f0\u660e\uff1a <pre><code>#define NEW_FUNC_DEF(ret, func, ...) \\\n    static ret (*old_##func)(__VA_ARGS__); \\\n    static ret new_##func(__VA_ARGS__)\n\nNEW_FUNC_DEF(int, jniRegisterNativeMethods, JNIEnv *env, const char *className,\n             const JNINativeMethod *methods, int numMethods) {\n    api::putNativeMethod(className, methods, numMethods);\n\n    LOGD(\"jniRegisterNativeMethods %s\", className);\n\n    JNINativeMethod *newMethods = nullptr;\n    if (strcmp(\"com/android/internal/os/Zygote\", className) == 0) {\n        // com/android/internal/os/Zygote\u6ce8\u518c\u65f6\u56de\u8c03onRegisterZygote\u65b9\u6cd5\u83b7\u53d6\u65b0\u7684jniMethods\u5217\u8868\u8fdb\u884c\u66ff\u6362\n        newMethods = onRegisterZygote(env, className, methods, numMethods);\n    } else if (strcmp(\"android/os/SystemProperties\", className) == 0) {\n        // hook android.os.SystemProperties#native_set to prevent a critical problem on Android 9\n        // see comment of SystemProperties_set in jni_native_method.cpp for detail\n        // \u56de\u8c03onRegisterSystemProperties\u65b9\u6cd5\n        newMethods = onRegisterSystemProperties(env, className, methods, numMethods);\n    }\n\n    int res = old_jniRegisterNativeMethods(env, className, newMethods ? newMethods : methods,\n                                           numMethods);\n    /*if (!newMethods) {\n        NativeMethod::jniRegisterNativeMethodsPost(env, className, methods, numMethods);\n    }*/\n    delete newMethods;\n    return res;\n}\n</code></pre></p> <p>\u53ef\u4ee5\u770b\u5230\u5728com/android/internal/os/Zygote\u6ce8\u518cJNI\u65b9\u6cd5\u65f6\u4f1a\u56de\u8c03onRegisterZygote\u65b9\u6cd5\u83b7\u53d6\u65b0\u7684jniMethods\u5217\u8868\u8fdb\u884c\u66ff\u6362\uff0c\u5728onRegisterZygote\u65b9\u6cd5\u4e2d\u4e3b\u8981\u66ff\u6362\u4e86\u4e09\u4e2a\u65b9\u6cd5\u7684fnPtr\u6307\u9488\u5e76\u517c\u5bb9\u4e0d\u540c\u7684\u5b89\u5353\u7248\u672c\uff1a - nativeForkAndSpecialize - nativeSpecializeAppProcess - nativeForkSystemServer</p> <p>\u8fd9\u4e09\u4e2a\u65b9\u6cd5\u662f\u5e94\u7528\u8fdb\u7a0b\u6216\u8005\u7cfb\u7edf\u670d\u52a1\u8fdb\u7a0b\u88abfork \u51fa\u6765\u7684\u65f6\u5019\u4f1a\u8c03\u7528\u7684\u65b9\u6cd5\uff0c\u8fd9\u91cc\u4ee5nativeForkAndSpecialize\u4e3e\u4f8b\u5206\u6790nativeForkAndSpecialize\u7684AOP\u903b\u8f91\u548c\u6a21\u5757\u4e2d\u58f0\u660e\u7684forkAndSpecializePre/Post\u7b49\u7cfb\u5217\u65b9\u6cd5\u5982\u4f55\u88ab\u8c03\u7528\u53ca\u8c03\u7528\u65f6\u673a\u3002 <pre><code>jint nativeForkAndSpecialize_r(\n        JNIEnv *env, jclass clazz, jint uid, jint gid, jintArray gids, jint runtime_flags,\n        jobjectArray rlimits, jint mount_external, jstring se_info, jstring se_name,\n        jintArray fdsToClose, jintArray fdsToIgnore, jboolean is_child_zygote,\n        jstring instructionSet, jstring appDataDir, jboolean isTopApp, jobjectArray pkgDataInfoList,\n        jobjectArray whitelistedDataInfoList, jboolean bindMountAppDataDirs, jboolean bindMountAppStorageDirs) {\n\n    // \u901a\u8fc7nativeForkAndSpecialize_pre\u548cnativeForkAndSpecialize_post\u5b8c\u6210\u4e86nativeForkAndSpecialize\u65b9\u6cd5\u7684AOP\n    nativeForkAndSpecialize_pre(env, clazz, uid, gid, gids, runtime_flags, rlimits, mount_external,\n                                se_info, se_name, fdsToClose, fdsToIgnore, is_child_zygote,\n                                instructionSet, appDataDir, isTopApp, pkgDataInfoList, whitelistedDataInfoList,\n                                bindMountAppDataDirs, bindMountAppStorageDirs);\n\n    jint res = ((nativeForkAndSpecialize_r_t *) JNI::Zygote::nativeForkAndSpecialize-&gt;fnPtr)(\n            env, clazz, uid, gid, gids, runtime_flags, rlimits, mount_external, se_info, se_name,\n            fdsToClose, fdsToIgnore, is_child_zygote, instructionSet, appDataDir, isTopApp, pkgDataInfoList,\n            whitelistedDataInfoList, bindMountAppDataDirs, bindMountAppStorageDirs);\n\n    nativeForkAndSpecialize_post(env, clazz, uid, res);\n    return res;\n}\n\nstatic void nativeForkAndSpecialize_pre(\n        JNIEnv *env, jclass clazz, jint &amp;uid, jint &amp;gid, jintArray &amp;gids, jint &amp;runtime_flags,\n        jobjectArray &amp;rlimits, jint &amp;mount_external, jstring &amp;se_info, jstring &amp;se_name,\n        jintArray &amp;fdsToClose, jintArray &amp;fdsToIgnore, jboolean &amp;is_child_zygote,\n        jstring &amp;instructionSet, jstring &amp;appDataDir, jboolean &amp;isTopApp, jobjectArray &amp;pkgDataInfoList,\n        jobjectArray &amp;whitelistedDataInfoList, jboolean &amp;bindMountAppDataDirs, jboolean &amp;bindMountAppStorageDirs) {\n\n    // \u904d\u5386\u6267\u884c\u6bcf\u4e2a\u6a21\u5757\u7684forkAndSpecializePre\u65b9\u6cd5\uff0c\u8fd9\u91cc\u53ef\u4ee5\u77e5\u9053\uff0c\u53ea\u9700\u8981\u5728\u6a21\u5757\u4e2d\u58f0\u660eforkAndSpecializePre\u65b9\u6cd5\uff0c\u5373\u53ef\u5728com.android.internal.os.Zygote#forkAndSpecialize\u65b9\u6cd5\u6267\u884c\u524d\u88ab\u8c03\u7528\n    for (auto module : *get_modules()) {\n        if (!module-&gt;hasForkAndSpecializePre())\n            continue;\n\n        if (module-&gt;hasShouldSkipUid() &amp;&amp; module-&gt;shouldSkipUid(uid))\n            continue;\n\n        if (!module-&gt;hasShouldSkipUid() &amp;&amp; shouldSkipUid(uid))\n            continue;\n\n        module-&gt;forkAndSpecializePre(\n                env, clazz, &amp;uid, &amp;gid, &amp;gids, &amp;runtime_flags, &amp;rlimits, &amp;mount_external,\n                &amp;se_info, &amp;se_name, &amp;fdsToClose, &amp;fdsToIgnore, &amp;is_child_zygote,\n                &amp;instructionSet, &amp;appDataDir, &amp;isTopApp, &amp;pkgDataInfoList, &amp;whitelistedDataInfoList,\n                &amp;bindMountAppDataDirs, &amp;bindMountAppStorageDirs);\n    }\n}\n</code></pre></p>"},{"location":"awesome-reverse-main/android/riru-edxp/#load_modules","title":"load_modules","text":"<p>load_modules\u89e3\u6790\u5982\u4e0b\uff1a</p> <pre><code>void load_modules() {\n    DIR *dir;\n    struct dirent *entry;\n    char path[PATH_MAX];\n    void *handle;\n    const int riruApiVersion = RIRU_API_VERSION;\n\n    if (!(dir = _opendir(MODULES_DIR))) return;\n\n    // \u904d\u5386/data/adb/riru/modules\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u5939\n    while ((entry = _readdir(dir))) {\n        if (entry-&gt;d_type != DT_DIR) continue;\n\n        // \u83b7\u53d6\u6587\u4ef6\u5939\u540d\u79f0\n        auto name = entry-&gt;d_name;\n        if (name[0] == '.') continue;\n\n        // \u6839\u636e\u6587\u4ef6\u5939\u540d\u79f0\u62fc\u63a5so\u8def\u5f84\uff1a/system/lib/libriru_%s.so\uff0c\u8fd9\u4e00\u6b65\u64cd\u4f5c\u4e5f\u662f\u5728riru\u63d2\u4ef6\u7684customize.sh\u4e2d\u5b8c\u6210\n        snprintf(path, PATH_MAX, MODULE_PATH_FMT, name);\n\n        if (access(path, F_OK) != 0) {\n            PLOGE(\"access %s\", path);\n            continue;\n        }\n\n        handle = dlopen(path, 0);\n        if (!handle) {\n            LOGE(\"dlopen %s failed: %s\", path, dlerror());\n            continue;\n        }\n\n        // \u627e\u5230so\u7684init\u65b9\u6cd5\uff0c\u8fd9\u91cc\u4e5f\u662f\u4e3a\u4ec0\u4e48riru\u7684\u5b98\u65b9\u6587\u6863\u4e2d\u6307\u51fa\u5fc5\u987b\u8981\u6709\u4e00\u4e2a\u5bfc\u51fa\u7684init\u51fd\u6570\n        // \u5982\u679c\u6ca1\u6709init\u65b9\u6cd5\uff0c\u5219\u5c06\u4e0d\u4f1a\u88ab\u8ba4\u4e3a\u662f\u4e00\u4e2a\u5408\u6cd5\u7684riru module\uff0c\u540e\u7eedget_modules\u4e5f\u65e0\u6cd5\u83b7\u53d6\u5230\n        auto init = (RiruInit_t *) dlsym(handle, \"init\");\n        if (!init) {\n            LOGW(\"%s does not export init\", path);\n            cleanup(handle, path);\n            continue;\n        }\n\n        // 1. pass riru api version, return module's api version\n        auto apiVersion = (int *) init((void *) &amp;riruApiVersion);\n        if (apiVersion == nullptr) {\n            LOGE(\"%s returns null on step 1\", path);\n            cleanup(handle, path);\n            continue;\n        }\n\n        if (*apiVersion &lt; RIRU_MIN_API_VERSION || *apiVersion &gt; RIRU_API_VERSION) {\n            LOGW(\"unsupported API %s: %d\", name, *apiVersion);\n            cleanup(handle, path);\n            continue;\n        }\n\n        // 2. create and pass Riru struct by module's api version\n        auto module = new RiruModule(strdup(name));\n        module-&gt;handle = handle;\n        module-&gt;apiVersion = *apiVersion;\n\n        if (*apiVersion == 9) {\n            auto info = init_module_v9(module-&gt;token, init);\n            if (info == nullptr) {\n                LOGE(\"%s returns null on step 2\", path);\n                cleanup(handle, path);\n                continue;\n            }\n            module-&gt;info(info);\n        }\n\n        // 3. let the module to do some cleanup jobs\n        init(nullptr);\n\n        // \u7f13\u5b58\u63d2\u4ef6\u4fe1\u606f\u5230\u4e00\u4e2avector\u4e2d\uff0c\u540e\u7eed\u901a\u8fc7get_modules()\u65b9\u6cd5\u624d\u80fd\u627e\u5230\u5bf9\u5e94\u7684\u63d2\u4ef6\u4fe1\u606f\n        get_modules()-&gt;push_back(module);\n\n        LOGI(\"module loaded: %s (api %d)\", module-&gt;name, module-&gt;apiVersion);\n    }\n\n    closedir(dir);\n\n    status::getStatus()-&gt;hideEnabled = access(ENABLE_HIDE_FILE, F_OK) == 0;\n    if (status::getStatus()-&gt;hideEnabled) {\n        LOGI(\"hide is enabled\");\n        auto modules = get_modules();\n        auto names = (const char **) malloc(sizeof(char *) * modules-&gt;size());\n        int names_count = 0;\n        for (auto module : *get_modules()) {\n            if (strcmp(module-&gt;name, MODULE_NAME_CORE) == 0) continue;\n            if (!module-&gt;supportHide) {\n                LOGI(\"module %s does not support hide\", module-&gt;name);\n                continue;\n            }\n            names[names_count] = module-&gt;name;\n            names_count += 1;\n        }\n        hide::hide_modules(names, names_count);\n    } else {\n        PLOGE(\"access \" ENABLE_HIDE_FILE);\n        LOGI(\"hide is not enabled\");\n    }\n\n    for (auto module : *get_modules()) {\n        if (module-&gt;hasOnModuleLoaded()) {\n            LOGV(\"%s: onModuleLoaded\", module-&gt;name);\n            // \u56de\u8c03module\u7684_onModuleLoaded\u65b9\u6cd5\n            module-&gt;onModuleLoaded();\n        }\n    }\n}\n</code></pre>"},{"location":"awesome-reverse-main/android/riru-edxp/#edxposedriru","title":"EdXposed\u5982\u4f55\u4f9d\u8d56riru","text":"<p>EdXposed\u672c\u8eab\u4e5f\u662f\u4e00\u4e2ariru\u63d2\u4ef6\uff0c\u4f46\u662f\u5982\u4f55\u8bc1\u660e\u5462\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u5982\u679c\u4f5c\u4e3a\u4e00\u4e2ariru\u63d2\u4ef6\uff0c\u5fc5\u7136\u9700\u8981 1. \u5728/data/adb/riru/modules\u6216\u8005/data/misc/riru/modules\u4e0b\u5b58\u5728\u4e00\u4e2a\u63d2\u4ef6\u6587\u4ef6\u5939\u3002 2. \u5b58\u5728\u4e0e\u63d2\u4ef6\u6587\u4ef6\u5939\u76f8\u540c\u540d\u79f0\u7684/system/lib/libriru_%s.so 3. so\u4e2d\u53ef\u80fd\u6709init\u6216\u8005forkAndSpecializePre\u7b49zygote\u8fdb\u7a0b\u76f8\u5173\u7684\u65b9\u6cd5</p> <p>\u5728edxp-core\u4e2d\uff0c\u4f9d\u7136\u901a\u8fc7build.gradle\u4e3a\u5165\u53e3\u5206\u6790zip\u6253\u5305\u7684\u903b\u8f91\uff0c\u53ef\u4ee5\u770b\u5230\u4e5f\u662f\u4e00\u4e2a\u6807\u51c6\u7684magisk module installer\uff0c\u5176\u4e2dcustomize.sh\u4e2d\u6709\u4e00\u884c\u5173\u952e\u4ee3\u7801\u521b\u5efa\u4e86riru\u63d2\u4ef6\u7684\u76f8\u5173\u76ee\u5f55\uff1a</p> <pre><code># \u521b\u5efariru\u7684module\u76ee\u5f55\uff0c\u8fd9\u91cc\u53ef\u4ee5\u770b\u51faedxp\u540c\u65f6\u662f\u4e00\u4e2ariru module\uff0criru\u901a\u8fc7\u68c0\u6d4b\u76ee\u5f55\u52a0\u8f7d\u5bf9\u5e94\u7684libriru_xxx.so\n[[ -d \"${RIRU_TARGET}\" ]] || mkdir -p \"${RIRU_TARGET}\" || abort \"! Can't mkdir -p ${RIRU_TARGET}\"\n\n# RIRU_TARGET\u53d8\u91cf\u7684\u8d4b\u503c\u8fc7\u7a0b\nRIRU_PATH=\"/data/misc/riru\"\n# \u4e3alibriru_edxp.so\u8bbe\u7f6e\u968f\u673a\u540e\u7f00, libriru_edxp.so -&gt; libriru_{randomNum}.so\n# libriru_edxp.so\u7531edxp-core:src/main/cpp/main\u76f8\u5173c\u6587\u4ef6\u7f16\u8bd1\u5f97\u51fa\n# getRandomNameExist\u65b9\u6cd5\u4f5c\u7528\u4e3a\u83b7\u53d6\u4e00\u4e2a/proc/sys/kernel/random/uuid\u4e0d\u5b58\u5728\u7684\u56db\u4f4d\u968f\u673a\u6570\nRIRU_EDXP=\"$(getRandomNameExist 4 \"libriru_\" \".so\" \"\n/system/lib\n/system/lib64\n\")\"\nRIRU_MODULES=\"${RIRU_PATH}/modules\"\nRIRU_TARGET=\"${RIRU_MODULES}/${RIRU_EDXP}\"\n</code></pre> <p>\u901a\u8fc7\u8fd9\u6bb5\u811a\u672c\u53ef\u4ee5\u770b\u51faedxp\u63d2\u4ef6\u5728magisk\u52a0\u8f7d\u65f6\u521b\u5efa\u4e86\u4e00\u4e2ariru\u63d2\u4ef6\u76ee\u5f55\uff0c\u5e76\u4e14\u628alibriru_edxp.so\u91cd\u547d\u540d\u6210\u4e00\u4e2a\u968f\u673a\u540e\u7f00\u7684so\u6587\u4ef6\u7531riru\u8fdb\u884c\u52a0\u8f7d\u3002</p> <p>\u63a5\u7740\u5206\u6790libriru_edxp.so\uff0c\u901a\u8fc7CMakeLists.txt\u53ef\u4ee5\u77e5\u9053\u662f\u7531edxp-core\u4e2d\u7f16\u8bd1\u5f97\u5230\uff0c\u67e5\u770bedxp-core/src/main/cpp/main/src/main.cpp\u4e2d\u53ef\u4ee5\u770b\u5230\u786e\u5b9e\u58f0\u660e\u4e86riru\u4e2d\u7684\u4e00\u4e9b\u65b9\u6cd5\u6a21\u7248\u94a9\u5b50\uff1a - nativeForkAndSpecializePre - nativeForkAndSpecializePost - nativeForkSystemServerPre - nativeForkSystemServerPost - specializeAppProcessPre - specializeAppProcessPost - onModuleLoaded - shouldSkipUid</p> <p>\u7b49\u65b9\u6cd5\uff0c\u4e00\u5207\u90fd\u53ef\u4ee5\u60f3\u660e\u767d\u4e86\u3002\u63a5\u4e0b\u6765\u5c31\u662fedxp\u5982\u4f55\u8fdb\u884cART Hook\u3002</p>"},{"location":"awesome-reverse-main/android/riru-edxp/#ps","title":"PS","text":"<ol> <li>riru-docs :https://github.com/AlienwareHe/riru-docs</li> <li>\u76ee\u524d\u7684riru v22\u4e2d\u53ef\u4ee5\u770b\u5230\u4e00\u4e2ariru module\u5fc5\u987b\u5305\u542b\u4e00\u4e2ainit\u5bfc\u51fa\u51fd\u6570\uff0c\u4f46\u662f\u5728edxp\u91cc\u5e76\u6ca1\u6709\u53d1\u73b0\u6709init\u51fd\u6570\uff0c\u5728v19\u7684riru\u4e2d\u662f\u6ca1\u6709init\u51fd\u6570\u9650\u5236\uff0c\u800c\u662f\u6821\u9a8cmodule.prop\u3002</li> <li>riru v22\u4e2d\u63d0\u5230\u5207\u6362\u5230native bridge\u65b9\u5f0f\u6ce8\u5165\u4e4b\u540e\uff0c\u4f1a\u5bfc\u81f4riru\u548c\u6a21\u5757\u7684\u52a0\u8f7d\u65f6\u673a\u53d8\u665a\uff0c\u5bf9\u4e8eXposed\u6846\u67b6\u53ef\u80fd\u4f1a\u6709\u53d8\u5316\u548c\u5f71\u54cd\u3002</li> </ol> <pre><code>Starting v22.0, Riru has switched to \"native bridge\" (ro.dalvik.vm.native.bridge) to inject zygote, this will lead Riru and modules be loaded later (LoadNativeBridge vs __attribute__((constructor))).\n\nFor most modules, this should have no problem, but modules like Xposed frameworks may have to make changes.\n\nMagisk may provider Riru-like features in the far future, and of course, it will have more strict restrictions, module codes will not be run in zygote. Maybe Xposed framework modules should prepare for this?\n</code></pre>"},{"location":"awesome-reverse-main/android/webview-js-hook/","title":"JS Bridge","text":"<p>\u7531\u4e8eWebView\u4e2d\u53ef\u4ee5\u4e0e\u539f\u751fAPP\u4e16\u754c\u8fdb\u884c\u4ea4\u4e92\uff0c\u56e0\u6b64\u9700\u8981\u4e00\u4e2a\u4e2d\u95f4\u6865\u6881\u6765\u5efa\u7acb\u4e24\u4e2a\u4e16\u754c\u7684\u901a\u4fe1\uff0c\u8fd9\u4e2a\u601d\u60f3\u4e5f\u540c\u6837\u88ab\u5e94\u7528\u4e8e\u5c0f\u7a0b\u5e8f\u5f53\u4e2d\u3002\u901a\u8fc7JsBridge\u53ef\u4ee5\u5b8c\u6210\u5728Java\u4e2d\u8c03\u7528Js\u65b9\u6cd5\uff0c\u6216\u8005\u5728JS\u4e2d\u8c03\u7528Java\u65b9\u6cd5\u4f8b\u5982\u8c03\u8bd5JS\u6253\u5370\u65e5\u5fd7\u3001\u56de\u4f20\u62a5\u4ef7\u7b49\u3002</p>"},{"location":"awesome-reverse-main/android/webview-js-hook/#jsjava","title":"JS\u4e2d\u8c03\u7528Java\u7684\u4ee3\u7801","text":"<p>\u9996\u5148\u9700\u8981\u5728Java\u4e2d\u8fdb\u884c\u65b9\u6cd5\u58f0\u660e\uff0c\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a - @JavascriptInterface\u65b9\u6cd5\u6ce8\u89e3\uff0c\u4f46\u662f\u5b58\u5728\u5b89\u5168\u6f0f\u6d1e - WebView#addJavascriptInterface</p>"},{"location":"awesome-reverse-main/android/webview-js-hook/#javajs","title":"Java\u4e2d\u8c03\u7528JS\u7684\u4ee3\u7801","text":"<p>\u4e24\u79cd\u65b9\u5f0f\uff1a - WebView#loadUrl \u4f1a\u5bfc\u81f4\u5237\u65b0\u5f53\u524d\u9875\u9762 - WebView#evaluateJavascript API19\u4e4b\u540e\u7684\u65b9\u6cd5</p> <p>\u5728\u8c03\u7528\u4e4b\u524d\u4e0d\u7ba1\u54ea\u79cd\u65b9\u5f0f\u90fd\u9700\u8981\u8fdb\u884c\u8bbe\u7f6e\u5141\u8bb8\u6267\u884cJS\u4ee3\u7801\uff1a <pre><code>WebSettings settings = mWb.getSettings();\nsettings.setJavaScriptEnabled(true);//\u5141\u8bb8\u76f8\u5e94js\u4ee3\u7801\n</code></pre></p> <p>\u6574\u4f53\u4e0a\u793a\u4f8b\uff1a <pre><code>if (Build.VERSION.SDK_INT &gt; 18) {\n            mWb.evaluateJavascript(\"javascript:callJS()\", new ValueCallback&lt;String&gt;() {\n                @Override\n                public void onReceiveValue(String value) {\n                    Log.e(\"done\", \"onReceiveValue: \" + value);\n                }\n            });\n        } else {\n            mWb.loadUrl(\"javascript:callJS()\");\n        }\n</code></pre></p>"},{"location":"awesome-reverse-main/android/webview-js-hook/#webview-hook","title":"WebView Hook\u601d\u8def\u53ca\u65b9\u6cd5","text":"<p>\u5728WebView\u4e2d\u8fdb\u884cHook\uff0c\u4e00\u822c\u76ee\u6807\u90fd\u4e3a\u83b7\u53d6\u8bf7\u6c42\u7ed3\u679c\u6216\u8005\u662f\u901a\u8fc7JS\u4ee3\u7801\u8fdb\u884c\u81ea\u52a8\u70b9\u51fb\uff0c\u8fd9\u4e24\u79cd\u76ee\u6807\u7684\u5b9e\u73b0\u6838\u5fc3\u90fd\u662f\u901a\u8fc7JS\u6ce8\u5165\u8fdb\u884cHook\u6216\u6267\u884c\u81ea\u5b9a\u4e49JS\u4ee3\u7801\u3002</p>"},{"location":"awesome-reverse-main/android/webview-js-hook/#js","title":"\u6ce8\u5165JS","text":"<p>\u901a\u8fc7\u4e0a\u9762\u7684API\u63cf\u8ff0\uff0c\u53ef\u4ee5\u77e5\u9053\u5728WebView\u4e2d\u53ef\u4ee5\u8f7b\u677e\u5b8c\u6210JS\u6ce8\u5165\uff0c\u4f8b\u5982\u901a\u8fc7: - WebView#loadUrl - WebView#evaluateJavascrip</p> <p>\u5e76\u4e14\u6ce8\u5165\u65f6\u673a\u4e5f\u662f\u53ef\u4ee5\u6709\u591a\u79cd\uff0c\u5982\u679c\u60f3\u8981\u5728\u9875\u9762\u52a0\u8f7d\u524d\u6216\u9875\u9762\u52a0\u8f7d\u5b8c\u6210\u540e\u8fdb\u884c\u6ce8\u5165\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7WebViewClient\u6240\u63d0\u4f9b\u7684onPageStarted\u7b49\u65b9\u6cd5\uff0c\u82e5\u60f3\u8981\u5728\u9875\u9762\u52a0\u8f7d\u4e2d\u8fdb\u884c\u6ce8\u5165\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7WebChromeClient#onProgressChanged\u4e2d\u8fdb\u884c\u6ce8\u5165\u3002</p>"},{"location":"awesome-reverse-main/android/webview-js-hook/#http","title":"Http\u8bf7\u6c42\u7ed3\u679c\u83b7\u53d6","text":"<p>\u901a\u8fc7JS\u6ce8\u5165\u6211\u4eec\u53ef\u4ee5\u5b9e\u73b0JS HOOK\uff0c\u4f8b\u5982\u5728\u60f3\u8981\u62e6\u622aHttp\u8bf7\u6c42\u7ed3\u679c\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5Hook Ajax\u76f8\u5173\u7684\u63a5\u53e3\u83b7\u53d6\u6570\u636e\uff0c\u4f8b\u5982\uff1a <pre><code>var realXhr = \"RealXMLHttpRequest\";\n\nfunction hookAjax(proxy) {\n    window[realXhr] = window[realXhr] || XMLHttpRequest;\n    XMLHttpRequest = function () {\n        var xhr = new window[realXhr];\n        for (var attr in xhr) {\n            var type = \"\";\n            try {\n                type = typeof xhr[attr]\n            } catch (e) {\n            }\n            if (type === \"function\") {\n                this[attr] = hookFunction(attr);\n            } else {\n                Object.defineProperty(this, attr, {\n                    get: getterFactory(attr),\n                    set: setterFactory(attr),\n                    enumerable: true\n                })\n            }\n        }\n        this.xhr = xhr;\n    };\n    function getterFactory(attr) {\n        return function () {\n            var v = this.hasOwnProperty(attr + \"_\") ? this[attr + \"_\"] : this.xhr[attr];\n            var attrGetterHook = (proxy[attr] || {})[\"getter\"];\n            return attrGetterHook &amp;&amp; attrGetterHook(v, this) || v;\n         };\n    };\n    function setterFactory(attr) {\n        return function (v) {\n            var xhr = this.xhr;\n            var that = this;\n            var hook = proxy[attr];\n            if (typeof hook === \"function\") {\n                xhr[attr] = function () {\n                    proxy[attr](that) || v.apply(xhr, arguments);\n                };\n            } else {\n                var attrSetterHook = (hook || {})[\"setter\"];\n                v = attrSetterHook &amp;&amp; attrSetterHook(v, that) || v;\n                try {\n                    xhr[attr] = v;\n                } catch (e) {\n                    this[attr + \"_\"] = v;\n                }\n            }\n        };\n    }\n    function hookFunction(fun) {\n        return function () {\n            var args = [].slice.call(arguments);\n            if (proxy[fun] &amp;&amp; proxy[fun].call(this, args, this.xhr)) {\n                return;\n            }\n            return this.xhr[fun].apply(this.xhr, args);\n        }\n    }\n    return window[realXhr];\n};\n\nhookAjax({\n    responseText: {\n        getter: tryParseJson2\n    },\n    response: {\n        getter: tryParseJson2\n    }\n});\n</code></pre></p>"},{"location":"awesome-reverse-main/android/webview-js-hook/#js_1","title":"JS\u81ea\u52a8\u70b9\u51fb","text":"<p>JS\u4e2d\u4e5f\u53ef\u4ee5\u901a\u8fc7\u7c7b\u4f3c\u5b89\u5353\u4e2dSuperAppium\u7684\u65b9\u5f0f\u6765\u5b8c\u6210\u81ea\u52a8\u70b9\u51fb\uff0c\u800c\u65e0\u9700Appium\u7b49\u8f85\u52a9\uff0c\u539f\u7406\u4e0eSuperAppium\u76f8\u540c\uff0c\u8c03\u7528HTML\u4e2d\u63a7\u4ef6\u7684\u54cd\u5e94API\u5b8c\u6210\uff0c\u800c\u4e14\u66f4\u52a0\u7b80\u5355\uff0c\u56e0\u4e3aJS\u4e2d\u8fd8\u5b58\u5728\u7740\u5929\u7136\u7684CSS\u9009\u62e9\u5668\u4ee5\u53caXpath\u8868\u8fbe\u5f0f\u9009\u62e9document.evaluate\uff0c\u4f8b\u5982\uff1a <pre><code>document.evaluate(\"//div[@class='v-calendar--date-month' and text()='{{checkYear}}\u5e74{{checkMonth}}\u6708']/../ul/li/div[text()='{{checkDay}}']\", document.body, null, XPathResult.ANY_TYPE, null).iterateNext().click();\n</code></pre> \u901a\u8fc7document.evaluate\u548cxpath\u8868\u8fbe\u5f0f\u5b9a\u4f4d\u76ee\u6807\u63a7\u4ef6\uff0c\u901a\u8fc7js\u5143\u7d20\u7684api\u6765\u5b8c\u6210click\u64cd\u4f5c\u3002</p>"},{"location":"awesome-reverse-main/android/xposed-appium/","title":"XposedAppium","text":""},{"location":"awesome-reverse-main/android/xposed-appium/#_1","title":"\u7b80\u4ecb:","text":"<p>\u57fa\u4e8eXposed\u505a\u7684\u4e00\u6b3e\u81ea\u52a8\u5316\u70b9\u51fb\uff0c\u6ed1\u52a8\u6846\u67b6\uff08\u57fa\u4e8e\u5b89\u5353\u539f\u751f\u7684\u4e8b\u4ef6\u5206\u53d1\uff09\uff0c\u53ef\u4ee5\u6a21\u62df\u624b\u6307\u7684\u4e00\u5207\u64cd\u4f5c \u3002 \u57fa\u4e8eXpath\u8868\u8fbe\u5f0f\u83b7\u53d6View\u3002</p>"},{"location":"awesome-reverse-main/android/xposed-appium/#_2","title":"\u5b9e\u73b0\u539f\u7406\uff1a","text":"<p>\u901a\u8fc7Hook Application-&gt;dispatchActivityResumed\uff08\u4e5f\u53ef\u4ee5Hook Activity\u7684 onResume\uff09\uff0c\u5305\u62ecFragment\u91cc\u9762\u7684onResume\u7b49\u6765\u76d1\u542c\u9875\u9762\u7684\u5207\u6362\u3002\u5b9e\u73b0\u6267\u884c\u81ea\u5df1\u7684\u903b\u8f91\u3002</p>"},{"location":"awesome-reverse-main/android/xposed-appium/#_3","title":"\u4f7f\u7528\u6ce8\u610f","text":""},{"location":"awesome-reverse-main/android/xposed-appium/#_4","title":"\u81ea\u5e26\u91cd\u8bd5\u673a\u5236","text":"<p>\u6846\u67b6\u81ea\u5e26\u6709\u91cd\u8bd5\u673a\u5236\uff0cActivityFocusHandler#handleActivity\u7684\u8fd4\u56de\u503c\u5c31\u4ee3\u8868\u4e86\u672c\u6b21 activity \u89e6\u53d1\u7684\u4e8b\u4ef6\u5904\u7406\u7ed3\u679c\u662f\u5426\u6210\u529f\uff0c\u82e5\u5904\u7406\u5931\u8d25\u5219\u4f1a\u7ecf\u8fc7PageTriggerManagger#taskDuration\u65f6\u95f4\u540e\u91cd\u65b0\u89e6\u53d1\uff0c\u56e0\u6b64\u53ef\u4ee5\u901a\u8fc7return false\u6765\u8fdb\u884c\u91cd\u8bd5\uff0c\u65e0\u9700\u81ea\u5df1sleep\u91cd\u8bd5\uff0c\u51cf\u5c11\u975e\u4e3b\u7ebf\u7a0b\u64cd\u4f5cUI\u7684\u53ef\u80fd\u3002</p>"},{"location":"awesome-reverse-main/android/xposed-appium/#api","title":"Api\u4ecb\u7ecd","text":"<p>\u6709\u4e24\u4e2a\u5e38\u7528\u7684\u7c7b PageTriggerManager \u548c ViewImage</p> PageTriggerManager getContext() \u83b7\u53d6\u5f53\u524dApplication\u7684Context getClassloader() \u83b7\u53d6\u5f53\u524dApplication\u7684ClassLoader ActivityFocusHandler \u9700\u8981\u5904\u7406\u7684Activity\u63a5\u53e3 FragmentFocusHandler \u9700\u8981\u5904\u7406\u7684Fragment\u63a5\u53e3 AlertDialogShowListener \u76d1\u542c\u5bf9\u8bdd\u6846Show\u7684\u63a5\u53e3 setTaskDuration \u8bbe\u7f6e\u4efb\u52a1\u65f6\u95f4\u95f4\u9694\uff0c\u8fd9\u4f1a\u5f71\u54cdcase\u6267\u884c\u901f\u5ea6 setDisable \u81ea\u52a8\u5316\u63d2\u4ef6\u7684\u6574\u4f53\u5f00\u5173 getMainLooperHandler \u83b7\u53d6\u4e3b\u7ebf\u7a0bHandler\u5bf9\u8c61 SetDialogShowListener \u8bbe\u7f6eShow\u65b9\u6cd5\u56de\u8c03 addHandler \u6dfb\u52a0\u9700\u8981\u5904\u7406\u7684Activity getTopActivity \u83b7\u53d6\u5f53\u524dActivity getTopDialogWindow \u83b7\u53d6\u6700\u4e0a\u5c42\u5bf9\u8bdd\u6846\u7684Window\u5bf9\u8c61\u53ef\u80fd\u4e3aNull getTopPupWindowView \u83b7\u53d6\u6700\u4e0a\u5c42PupView tryGetTopView \u6839\u636eXpath\u8868\u8fbe\u5f0f\u83b7\u53d6ViewImage(\u5bf9\u4e0a\u5c42\u7684\u5168\u90e8View\u8fdb\u884c\u904d\u5386) getTopRootView \u83b7\u53d6\u6700\u4e0a\u5c42\u7684\u5e76\u4e14\u663e\u793a\u7684View\uff0c\u6bd4\u5982\u5bf9\u8bdd\u6846 getTopFragment \u83b7\u53d6\u6700\u4e0a\u5c42Fragment ViewImage ViewImage(View originView) \u6839\u636e\u4e00\u4e2aView\u751f\u6210ViewImage\u5bf9\u8c61 getType \u83b7\u53d6\u5f53\u524dView\u7684ClassName getText \u5c1d\u8bd5\u83b7\u53d6View\u7684Text setText \u5c1d\u8bd5\u5bf9TextView SetText getOriginView \u83b7\u53d6ViewImage \u539f\u59cbView childCount \u83b7\u53d6\u5b50\u5b69\u5b50\u7684\u4e2a\u6570 childAt \u6839\u636e\u4f4d\u7f6e\u83b7\u53d6 index \u83b7\u53d6\u4f4d\u7f6e getAllElements \u83b7\u53d6\u5168\u90e8\u7684\u5b50\u8282\u70b9\uff0c\u5305\u62ec\u7236\u7c7b\uff0c\u5b50\u7c7b previousSibling \u83b7\u53d6\u4e0a\u4e2a\u5144\u5f1f\u8282\u70b9 rootViewImage \u83b7\u53d6\u7236\u7c7bViewImage xpath \u67e5\u627e\u5168\u90e8\u5339\u914d\u9879 xpath2String \u6839\u636expath\u8868\u8fbe\u5f0f\u62ff\u5230\u5bf9\u5e94View\u91cc\u9762\u7684\u5177\u4f53\u5185\u5bb9\uff0c\u7c7b\u4f3c\"//android.widget.TextView[@contentDescription='XXXXXXXXXXXXXXXX']/text()\" xpath2One \u6839\u636eXpath\u8868\u8fbe\u5f0f\u83b7\u53d6ViewImage(\u5bf9\u4e0a\u5c42\u7684\u5168\u90e8View\u8fdb\u884c\u904d\u5386\uff0c\u5f39\u7a97\uff0cActivity\uff0c\u60ac\u6d6e\u7a97\u7b49)\uff0c\u8fd4\u56de\u7b2c\u4e00\u4e2a\u5339\u914d\u9879 clickByXpath \u6839\u636eXpath\u8868\u8fbe\u5f0f typeByXpath \u5bf9 TextView \u7c7b\u578b \u8bbe\u7f6e\u6307\u5b9a\u5185\u5bb9 click \u70b9\u51fb\u5f53\u524dView swipe \u6ed1\u52a8\u5f53\u524dView\uff0c\u5f00\u59cb\u5750\u6807xy\uff0c\u7ed3\u675f\u5750\u6807xy swipeDown \u5411\u4e0b\u6ed1\u52a8\uff0c\u8d1f\u503c\u4e3a\u5411\u4e0a toString \u6253\u5370\u5f53\u524dview\u5305\u62ec\u5b50view\u7684\u5168\u90e8\u5c5e\u6027"},{"location":"awesome-reverse-main/android/xposed-appium/#demo","title":"Demo\u4f7f\u7528\u8bf4\u660e\u53ef\u53c2\u8003 :","text":"<p>https://bbs.pediy.com/thread-260992-1.htm#1655864</p>"},{"location":"awesome-reverse-main/android/xposed-appium/#xposed","title":"Xposed\u7248","text":"<p>https://github.com/w296488320/XposedAppium</p>"},{"location":"awesome-reverse-main/android/xposed-hook-simple/","title":"Xposed hook simple","text":"<p>Hook\u6280\u672f\u662f\u5b89\u5353\u9006\u5411\u4e2d\u6700\u6700\u5e38\u7528\u548c\u6709\u6548\u7684\u7834\u89e3\u65b9\u5f0f\uff0c\u901a\u8fc7Hook\u53ef\u4ee5\u62e6\u622a\u4efb\u610fJava\u65b9\u6cd5\u7684\u8c03\u7528\u8fdb\u800c\u5b9e\u73b0\u53c2\u6570\u4fee\u6539\u3001\u65b9\u6cd5\u66ff\u6362\u3001\u8fd4\u56de\u503c\u66ff\u6362\u3001\u5806\u6808\u6253\u5370\u7b49\u4e00\u7cfb\u5217\u8f85\u52a9\u64cd\u4f5c\u3002Xposed\u6846\u67b6\u5219\u662f\u5b89\u5353Hook\u4e2d\u6700\u51fa\u540d\u7684Hook\u6846\u67b6\uff0c\u901a\u8fc7Xposed\u7406\u8bba\u4e0a\u53ef\u4ee5hook\u5230\u8bbe\u5907\u4e0a\u4efb\u610f\u4e00\u4e2a\u8fdb\u7a0b\u5305\u62ec\u7cfb\u7edf\u8fdb\u7a0b\u3002</p> <p>PS\uff1aXposed\u52307.1\u4e4b\u540e\u4fbf\u4e0d\u518d\u7ef4\u62a4\uff0c\u56e0\u6b648.0+\u53ef\u4f7f\u7528EdXposed\u66ff\u4ee3\u3002\u987a\u4fbf\u4e00\u63d0\uff0cEdXposed\u5728\u5b9e\u73b0\u4e0a\u96c6\u6210\u4e86\u5e02\u9762\u4f17\u591a\u7ecf\u5178\u6846\u67b6\uff0c\u975e\u5e38\u503c\u5f97\u4e00\u5b66\uff0c\u4f8b\u5982Java\u5c42Hook\u4e0a\u91c7\u7528\u4e86SandHook\u548cYAHFA\uff0cnative hook\u4e0a\u4f7f\u7528 Whale\uff0c\u901a\u8fc7Riru\u6ce8\u5165zygote\u8fdb\u7a0b\uff0cMagisk\u83b7\u53d6root\u6743\u9650\u3002</p>"},{"location":"awesome-reverse-main/android/xposed-hook-simple/#xposed","title":"Xposed\u6846\u67b6\u7ed3\u6784","text":"<ul> <li>XposedInstaller,\u8d1f\u8d23\u7ba1\u7406Xposed\u63d2\u4ef6\u7684\u542f\u7528\u72b6\u6001\u53caXposed\u72b6\u6001</li> <li>Xposed\uff0cxposed\u7248\u7684app_process\uff0cxposed\u5b9e\u73b0\u7684\u6839\u672c\u539f\u56e0</li> <li>XposedBridge\uff0cXposed\u76f8\u5173API\uff0c\u901a\u8fc7\u5728zygote\u8fdb\u7a0b\u52a0\u8f7d\u80fd\u591f\u5728\u4efb\u4f55APP\u4e2d\u5f15\u7528\u3002</li> </ul> <p>\u8fd9\u91cc\u7b80\u5355\u7684\u4ecb\u7ecd\u4ee5\u4e0bXposed\u7684\u539f\u7406\uff0c\u901a\u8fc7\u5b89\u5353\u7cfb\u7edf\u7684\u5f00\u673a\u6d41\u7a0b\uff0c\u53ef\u4ee5\u77e5\u9053\u5b89\u5353\u4e2d\u6240\u6709\u7684APP\u90fd\u662f\u7531Zygote\u8fdb\u7a0bfork\u800c\u5f97\uff0c\u56e0\u6b64\u82e5\u80fd\u591f\u81ea\u5b9a\u4e49Zygote\u8fdb\u7a0b\u6211\u4eec\u5c31\u53ef\u4ee5\u5b9e\u73b0\u63a7\u5236\u548c\u6ce8\u5165\u6240\u6709\u7684APP\u8fdb\u7a0b\uff0c\u901a\u8fc7init.rc\u6587\u4ef6\u4e2d\u53ef\u4ee5\u5f97\u77e5Zygote\u8fdb\u7a0b\u5bf9\u5e94\u7684\u53ef\u6267\u884c\u6587\u4ef6\u662fapp_process\uff0cXposed\u6b63\u662f\u901a\u8fc7\u81ea\u5b9e\u73b0\u4e86\u5404\u4e2a\u7248\u672c\u64cd\u4f5c\u7cfb\u7edf\u7684app_process\u6587\u4ef6\uff0c\u7136\u540e\u901a\u8fc7recovery\u6a21\u5f0f\u5c06\u8fd9\u4e9b\u6587\u4ef6\u5237\u5165\u5b8c\u6210\u66ff\u6362\u3002\u8fd9\u91cc\u4e5f\u53ef\u4ee5\u770b\u51faXposed\u4e0eQContainer\u6216\u8005\u5176\u4ed6\u8fdb\u7a0b\u5185\u6ce8\u5165Hook\u6846\u67b6\u7684\u533a\u522b\uff0cXposed\u65f6\u673a\u66f4\u65e9\u4e14QContainer\u65e0\u6cd5\u5b8c\u6210\u7cfb\u7edf\u8fdb\u7a0b\u7684Hook\u3002</p>"},{"location":"awesome-reverse-main/android/xposed-hook-simple/#xposed_1","title":"Xposed\u63d2\u4ef6\u7f16\u5199","text":"<p>\u7f16\u5199Hook\u63d2\u4ef6\u7c7b\u4f3c\u4e8e\u5f02\u6b65\u7f16\u7a0b\uff0chook\u65b9\u6cd5\u7684\u4ee3\u7801\u987a\u5e8f\u7f16\u5199\uff0c\u4f46hook\u65b9\u6cd5\u4e2d\u7684callback\u6267\u884c\u65f6\u673a\u672a\uff0c\u5e76\u4e14\u53ea\u6709\u5f53APP\u6267\u884c\u65f6\u624d\u4f1a\u89e6\u53d1callback\u3002 \u5177\u4f53\u7684Xposed API\u7528\u6cd5\u5f88\u7b80\u5355\uff0c\u7f51\u4e0a\u6216\u8005\u6e90\u7801\u91cc\u90fd\u53ef\u770b\u5230\uff0c\u8fd9\u91cc\u4ec5\u63cf\u8ff0Xposed\u7684\u4e00\u4e9b\u9690\u85cf\u6280\u5de7\u548c\u7528\u6cd5\u3002</p>"},{"location":"awesome-reverse-main/android/xposed-hook-simple/#xposed_2","title":"Xposed\u4f7f\u7528\u6280\u5de7","text":"<ul> <li>Native Hook\uff08\u8fdb\u9636\uff0c\u6682\u65f6\u7528\u4e0d\u4e0a\uff09</li> <li>\u904d\u5386\u6240\u6709\u5df2\u52a0\u8f7dClass\uff0c\u539f\u7406\u5c31\u662f\u901a\u8fc7hook ClassLoader#loadClass\u65b9\u6cd5\uff0c\u641c\u96c6\u6240\u6709classLoader\uff0c\u5b89\u5353\u4e2dClassLoader\u5b9e\u73b0\u4e0eJVM\u6709\u6240\u4e0d\u540c\uff0c\u5728BaseDexClassLoader\u4e2d\u6709\u4e00\u4e2a\u5b57\u6bb5\u4fdd\u5b58\u7740\u5f53\u524dclassLoader\u52a0\u8f7d\u7684dexFile\u96c6\u5408\uff0c\u53eb\u505adexPathList\uff0c\u8be5\u5b57\u6bb5\u7684\u7c7b\u578b\u4e3ajava/dalvik/system/DexPathList.java\uff0c\u53ef\u4ee5\u770b\u5230\u8be5\u7c7b\u4e2d\u6709\u4e00\u4e2adexElements\u6570\u7ec4\uff0c\u5143\u7d20\u7c7b\u578b\u4e3aDexFile\uff0c\u5bf9\u5e94\u7684native\u5c42\u6570\u636e\u7ed3\u6784\u5c31\u662f\u8131\u58f3\u5bfb\u627e\u7684\u5173\u952e\u76ee\u6807\u3002\u8fd9\u91cc\u627e\u5230dexElements\u6570\u7ec4\u4ec5\u4ec5\u662f\u4e3a\u4e86\u904d\u5386DexFile\uff0c\u7136\u540e\u901a\u8fc7DexFile#entries()\u83b7\u53d6DexFile\u4e2d\u6240\u6709\u7c7b\u96c6\u5408\u3002</li> <li>\u52a8\u6001\u52a0\u8f7dClassLoader\u6216\u52a0\u56faAPP\u7684Hook\uff0c\u4e0a\u8ff0\u8bf4\u4e86\u5bf9\u4e8eClassLoader\u7684hook\u6280\u5de7\uff0c\u5b9e\u9645\u4e0a\u5728\u5b9e\u6218\u4e2d\uff0c\u5982\u679c\u78b0\u5230\u4e86\u52a0\u56fa\u7684APP\u6216\u8005\u52a8\u6001\u52a0\u8f7d\u65f6\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u6211\u4eec\u4f7f\u7528\u5e94\u7528\u672c\u8eab\u7684classloader\u53bbhook\u65f6\u65e0\u6cd5\u627e\u5230\u5bf9\u5e94\u7684class\uff0c\u8fd9\u65f6\u5c31\u53ef\u4ee5\u901a\u8fc7\u8be5\u6280\u5de7\u53bb\u627e\u5230\u771f\u6b63\u52a0\u8f7d\u8be5\u7c7b\u7684\u7684classLoader\u8fdb\u884chook\u3002</li> </ul>"},{"location":"awesome-reverse-main/android/xposed-introduce/","title":"Xposed\u5b89\u88c5\u65f6\u505a\u4e86\u4ec0\u4e48\u624b\u811a","text":"<ul> <li>\u5c06 xposed \u7248\u7684 app_process \u62f7\u8d1d\u5230/system/bin/\uff0c\u7cfb\u7edf\u539f\u6765\u7684 app_process \u6539\u540d\u4e3a app_process.orig</li> <li>\u5c06 XposedBridge.jar \u653e\u5230/data/data/de.robv.android.xposed.installer\u4e0b</li> <li>\u5220\u9664/data/data/de.robv.android.xposed.installer/conf/disabled\u6587\u4ef6\u3002\u5982\u679c\u6709 disabled \u6587\u4ef6\u5219\u8868\u660e\u6574\u4e2a Xposed \u529f\u80fd\u88ab\u7981\u6b62\u4f7f\u7528\u3002</li> </ul> <p>Xposded\u5c06zygote\u8fdb\u7a0b\u8fdb\u884c\u4e86\u66ff\u6362\uff0c\u7531\u4e8e\u6240\u6709app\u8fdb\u7a0b \u90fd\u7531zygote\u5b75\u5316\u800c\u6765\uff0c\u56e0\u6b64\u4fbf\u5b8c\u6210\u4e86\u6240\u6709app\u7684\u8fdb\u7a0b\u6ce8\u5165\u3002</p>"},{"location":"awesome-reverse-main/android/xposed-introduce/#app_process","title":"app_process","text":"<p>app_process\u662f\u4e00\u4e2a\u811a\u672c\u6587\u4ef6\uff0c\u4e5f\u662fzygote\u8fdb\u7a0b\u7684\u6e90\u4ee3\u7801\uff0c\u56e0\u6b64app_process\u6d89\u53ca\u4e86\u5b89\u5353\u7cfb\u7edf\u7684\u542f\u52a8\u6d41\u7a0b\u3002</p>"},{"location":"awesome-reverse-main/android/xposed-introduce/#_1","title":"\u5b89\u5353\u7cfb\u7edf\u542f\u52a8\u6d41\u7a0b","text":"<p>Android \u7cfb\u7edf\u542f\u52a8\u8fc7\u7a0b\u7531\u5185\u6838\u5230App\u7684\u4ece\u4e0b\u5411\u4e0a\u7684\u4e00\u4e2a\u8fc7\u7a0b\uff0c\u7531Boot Loader\u5f15\u5bfc\u5f00\u673a\uff0c\u7136\u540e\u4f9d\u6b21\u8fdb\u5165Kernel -&gt; Native-&gt; Framework-&gt; App\u3002</p>"},{"location":"awesome-reverse-main/android/xposed-introduce/#_2","title":"\u5f00\u673a","text":"<ul> <li>Boot ROM\uff1a\u5f53\u624b\u673a\u5904\u4e8e\u5173\u673a\u7684\u72b6\u6001\uff0c\u957f\u6309Power\u952e\u5f00\u673a\uff0c\u5f15\u5bfc\u82af\u7247\u4ece\u56fa\u5316\u5728ROM\u91cc\u9884\u8bbe\u7684\u4ee3\u7801\u5f00\u59cb\u6267\u884c\uff0c\u7136\u540e\u52a0\u8f7d\u7a0b\u5e8f\u5230RAM</li> <li>Boot Loader\uff1a\u8fd9\u662f\u542f\u52a8Android\u7cfb\u7edf\u4e4b\u524d\u7684\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u4e3b\u8981\u662f\u68c0\u67e5RAM\uff0c\u521d\u59cb\u5316\u786c\u4ef6\u53c2\u6570\u7b49\u5de5\u80fd</li> </ul>"},{"location":"awesome-reverse-main/android/xposed-introduce/#init","title":"\u7528\u6237\u6001\u7684\u7b2c\u4e00\u4e2a\u8fdb\u7a0binit","text":"<p>Linux\u7cfb\u7edf\u7684\u7528\u6237\u8fdb\u7a0b\uff0c\u662f\u6240\u6709\u7528\u6237\u8fdb\u7a0b\u7684\u9f3b\u7956\uff0c\u8fdb\u7a0b\u53f7\u4e3a1\uff0c\u5b83\u6709\u8bb8\u591a\u91cd\u8981\u7684\u804c\u8d23\uff0c\u6bd4\u5982\u521b\u5efaZygote\u5b75\u5316\u5668\u548c\u5c5e\u6027\u670d\u52a1\u7b49\u3002\u5e76\u4e14\u5b83\u662f\u7531\u591a\u4e2a\u6e90\u6587\u4ef6\u7ec4\u6210\u7684\uff0c\u5bf9\u5e94\u6e90\u7801\u76ee\u5f55system/core/init\u4e2d\u3002</p>"},{"location":"awesome-reverse-main/android/xposed-introduce/#androidjavazygote","title":"Android\u4e2d\u7684\u7b2c\u4e00\u4e2aJava\u8fdb\u7a0bZygote","text":"<p>Linux\u7cfb\u7edf\u542f\u52a8\u540e\uff0c\u5185\u6838\u5c06\u8bfb\u53d6/init.rc\u6587\u4ef6\uff0c\u5e76\u542f\u52a8\u8be5\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u5404\u79cd\u670d\u52a1\u7a0b\u5e8f\uff0c\u4f8b\u5982zygote\u3002zygote\u8fdb\u7a0b\u5bf9\u5e94\u7684\u4ee3\u7801\u5c31\u662fapp_process\uff0c\u4f4d\u4e8e/system/bin/\u76ee\u5f55\u4e0b\u3002</p> <pre><code># init.rc\u6587\u4ef6\u90e8\u5206\nservice zygote /system/bin/app_process -Xzygote /system/bin \u2013zygote \u2013start-system-server\n\nsocket zygote stream 666 (zygote socket\u670d\u52a1\u7aef\u53e3)\n\nonrestart write /sys/android_power/request_state wake\nonrestart write /sys/power/state on\nonrestart restart media\nonrestart restart netd\n</code></pre> <p>System Server \u8fdb\u7a0b\uff0c\u662f\u7531Zygote fork\u800c\u6765\uff0cSystem Server\u662fZygote\u5b75\u5316\u51fa\u7684\u7b2c\u4e00\u4e2a\u8fdb\u7a0b\uff0cSystem Server \u8d1f\u8d23\u542f\u52a8\u548c\u7ba1\u7406\u6574\u4e2aJava FrameWork\uff0c\u5305\u542bActivityManagerService\uff0c WorkManagerService\uff0cPagerManagerService\uff0cPowerManagerService\u7b49\u670d\u52a1</p> <p>Media Server \u8fdb\u7a0b\uff0c\u662f\u7531init fork\u800c\u6765\uff0c\u8d1f\u8d23\u542f\u52a8\u548c\u7ba1\u7406\u6574\u4e2aC++FrameWork\uff0c\u5305\u542bAudioFlinger\uff0cCamera Service\u7b49</p>"},{"location":"awesome-reverse-main/android/xposed-introduce/#app","title":"APP\u8fdb\u7a0b","text":"<p> * App\u53d1\u8d77\u8fdb\u7a0b\uff1a\u5982\u679c\u4ece\u684c\u9762\u542f\u52a8\u5e94\u7528\uff0c\u5219\u53d1\u8d77\u8fdb\u7a0b\u4fbf\u662fLauncher\u6240\u5728\u7684\u8fdb\u7a0b\uff0c\u5f53\u4ece\u67d0App\u542f\u52a8\u8fdc\u7a0b\u8fdb\u7a0b\uff0c\u5219\u53d1\u8d77\u8fdb\u7a0b\u662fApp\u6240\u5728\u7684\u8fdb\u7a0b\uff0c\u53d1\u8d77\u8fdb\u7a0b\u9996\u5148\u9700\u8981\u901a\u8fc7Binder\u53d1\u9001\u4fe1\u606f\u7ed9system_server\u8fdb\u7a0b * system_server\u8fdb\u7a0b\uff1a\u8c03\u7528Process.start\u65b9\u6cd5\uff0c\u901a\u8fc7Socket\u5411Zygote\u8fdb\u7a0b\u53d1\u9001\u65b0\u5efa\u8fdb\u7a0b\u7684\u8bf7\u6c42 * zygote\u8fdb\u7a0b\uff1a\u5728\u6267\u884cZygoteInit.main()\u540e\u8fdb\u5165runSelectLoop()\u5faa\u73af\u4f53\uff0c\u5f53\u6709\u5ba2\u6237\u7aef\u8fde\u63a5\u65f6\uff0c\u4fbf\u4f1a\u6267\u884cZygoteConnection.runOnce()\u65b9\u6cd5\uff0c\u518d\u7ecf\u8fc7\u5c42\u5c42\u8c03\u7528\u540efork\u51fa\u65b0\u7684\u5e94\u7528\u8fdb\u7a0b * \u65b0\u8fdb\u7a0b\uff1a\u6267\u884chandleChildProc\u65b9\u6cd5\uff0c\u8bbe\u7f6e\u8fdb\u7a0b\u540d\uff0c\u6253\u5f00binder\u9a71\u52a8\uff0c\u542f\u52a8\u65b0\u7684binder\u7ebf\u7a0b\uff0c\u8bbe\u7f6eart\u865a\u62df\u673a\u53c2\u6570\uff0c\u53cd\u5c04\u76ee\u6807\u7c7b\u7684main\u65b9\u6cd5\uff0c\u5373\u8c03\u7528ActivityThread.main()\u65b9\u6cd5</p>"},{"location":"awesome-reverse-main/android/xposed-introduce/#xposed_1","title":"Xposed\u63d2\u4ef6\u5b89\u88c5","text":"<p>xposed \u63d2\u4ef6\uff0c\u5728 xposed \u4e16\u754c\u91cc\u6211\u4eec\u8bf4\u5b83\u662f\u63d2\u4ef6\uff0c\u4f46\u662f\u653e\u5230 Android \u4e16\u754c\u91cc\u5b83\u5c31\u662f\u4e00\u79cd\u7279\u6b8a\u7684 APP\u3002\u8fd9\u79cd\u7c7b\u578b\u7684 APP \u7531 xposed \u6846\u67b6\u8bc6\u522b\u5e76\u52a0\u8f7d\uff0c\u7136\u540e hook \u5230\u5176\u4ed6\u7684 App \u8fdb\u7a0b\u3002</p>"},{"location":"awesome-reverse-main/android/xposed-introduce/#xposed_2","title":"\u5982\u4f55\u8bc6\u522bXposed\u63d2\u4ef6","text":"<p>\u5728xposed_bridge.jar\u4e2d\uff0c\u6709\u4e00\u4e2a\u7c7bModuleUtil\uff0c\u5176\u4e2dreloadINstalledModules\u51fd\u6570\u5c31\u662f\u8d1f\u8d23\u52a0\u8f7d\u63d2\u4ef6\u3002\u8be5\u51fd\u6570\u4f1a\u904d\u5386\u6240\u6709\u5df2\u5b89\u88c5\u5e94\u7528\u7684meta data\u4fe1\u606f\u5373AndroidManifest.xml\u4e2dmeta-data\u6807\u7b7e\uff0c\u901a\u8fc7\u5224\u65ad\u4ee5\u4e0b\u4e09\u4e2a\u6807\u8bc6\u6765\u5224\u65ad\u662f\u5426\u662fxposed\u63d2\u4ef6\uff1a *  name = xposedmodule *  name = xposeddescription *  name = xposedminversion</p>"},{"location":"awesome-reverse-main/android/xposed-introduce/#xposed_3","title":"\u5982\u4f55\u52a0\u8f7dXposed\u63d2\u4ef6","text":"<p>\u901a\u8fc7\u8fd9\u90e8\u5206\u6e90\u7801\u6211\u4eec\u53ef\u4ee5\u5bf9xposed\u8fdb\u884c\u4e24\u4e2a\u6539\u9020\uff1a * \u514d\u91cd\u542f\u52a0\u8f7dXposed\u63d2\u4ef6 * \u514d\u5b89\u88c5\u52a0\u8f7dXposed\u63d2\u4ef6</p>"},{"location":"awesome-reverse-main/android/xposed-introduce/#xpoosed","title":"Xpoosed\u539f\u52a0\u8f7d\u673a\u5236","text":"<p>\u6b63\u5e38\u7684Xposed\u5728\u63d2\u4ef6\u5b89\u88c5\u6216\u8005\u4fee\u6539\u4e4b\u540e\uff0c\u90fd\u9700\u8981\u91cd\u542f\u7cfb\u7edf\u624d\u80fd\u4f7f\u65b0\u63d2\u4ef6\u751f\u6548 \uff0c\u539f\u56e0\u5c31\u662fXposed\u662f\u5728app_process\u4e2d\u4e00\u6b21\u6027\u5c06\u6a21\u5757\u5217\u8868\u8bfb\u53d6\uff0c\u7136\u540e\u5c06\u5176\u5165\u53e3\u7c7b\u653e\u5728\u4e00\u4e2aSet\u96c6\u5408\u4e2d\uff0c\u5f85\u5230\u5e94\u7528\u542f\u52a8\u7684\u65f6\u5019\u518d\u5206\u522b\u8c03\u7528\u6bcf\u4e2ahandleLoadPackage\uff0c\u4e4b\u540e\u5c31\u4e0d\u518d\u8bfb\u53d6\u63d2\u4ef6\u3002\u56e0\u4e3a\u8fd9\u6837\uff0c\u6240\u4ee5\u6bcf\u6b21fork\u4e4b\u540e\uff0c\u63d2\u4ef6\u5df2\u7ecf\u88ab\u52a0\u8f7d\u5728\u5185\u5b58\u4e2d\u4e86\uff0c\u5c31\u7b97\u66f4\u65b0\u63d2\u4ef6\u4e5f\u4e0d\u4f1a\u88ab\u8bfb\u53d6\u52a0\u8f7d\uff0c\u6240\u4ee5\u5fc5\u987b\u5f97\u91cd\u542f\u624d\u80fd\u4f7f\u5f97\u63d2\u4ef6\u751f\u6548\u3002 <pre><code>// de.robv.android.xposed.XposedBridge#main()\nprotected static void main(String[] args) {\n    ...\n        if (isZygote) {\n            XposedInit.hookResources();\n            XposedInit.initForZygote();\n        }\n\n        XposedInit.loadModules();\n    ...\n}\n</code></pre></p>"},{"location":"awesome-reverse-main/android/xposed-introduce/#xposed_4","title":"Xposed\u514d\u91cd\u542f\u52a0\u8f7d\u673a\u5236","text":"<p>\u5982\u679c\u8ddf\u7740XposedBridge#main\u65b9\u6cd5\u5f00\u59cb\u4e00\u76f4\u8ddf\u8e2a\uff0c\u53ef\u4ee5\u770b\u5230\u9ed8\u8ba4\u7684Xposed\u5728\u521a\u5f00\u59cb\u5c31\u8fdb\u884c\u4e86\u6a21\u5757\u52a0\u8f7d\uff1a</p> <p>XposedInit.loadModules();</p> <p>\u5bfc\u81f4\u63d2\u4ef6\u91cd\u65b0\u5b89\u88c5\u540e\u5fc5\u987b\u91cd\u542f\u624b\u673a\u624d\u80fd\u89e6\u53d1\u6a21\u5757\u91cd\u65b0\u751f\u6548\uff0c\u5982\u679c\u60f3\u8981\u505a\u5230\u514d\u91cd\u542f\u7684\u6548\u679c\uff0c\u90a3\u4e48\u6211\u4eec\u9700\u8981\u5728\u6bcf\u6b21\u76ee\u6807APP\u91cd\u542f\u65f6\u89e6\u53d1\u6a21\u5757\u7684\u52a0\u8f7d,\u7ee7\u7eed\u770b\u4ee3\u7801\u53ef\u4ee5\u53d1\u73b0Xposed\u901a\u8fc7HookhandleBindApplication\u6765hook\u6bcf\u4e2a\u5e94\u7528\u8fdb\u7a0b\u7684\u521b\u5efa\uff0c\u6240\u4ee5\u53ea\u8981\u5728\u8fd9\u4e2a\u65f6\u5019\u518dloadModules\u5c31\u53ef\u4ee5\u5566\u3002</p>"},{"location":"awesome-reverse-main/android/xposed-introduce/#xposedhook","title":"Xposed\u5982\u4f55\u5b9e\u73b0\u5bf9\u65b9\u6cd5\u7684Hook","text":"<p>\u7531\u4e8eDVM\u548cART\u4e0a\u65b9\u6cd5\u5b9e\u73b0\u4e0d\u4e00\u81f4\uff0c\u56e0\u6b64\u5206\u6790\u539f\u7406\u65f6\u9700\u8981\u9488\u5bf9\u4e0d\u540c\u7cfb\u7edf\u7248\u672c\u5177\u4f53\u533a\u5206\uff0c\u4f46\u5927\u81f4\u539f\u7406\u4e0a\u53ef\u4ee5\u7b80\u8ff0\u4e3a\uff1a</p> <p>\u4fee\u6539\u76ee\u6807\u65b9\u6cd5\u4e3aJNI\u65b9\u6cd5\uff0c\u5e76\u66ff\u6362\u65b9\u6cd5\u7ed3\u6784\u4f53\u4e2d\u672c\u5730\u6307\u4ee4\u7684\u5165\u53e3\u70b9\uff0c\u7c7b\u4f3cGOT\u8868Hook\u539f\u7406\uff0c\u4f46\u53ef\u80fd\u5b58\u5728\u7531\u4e8e\u65b9\u6cd5\u76f4\u63a5\u8df3\u8f6c\u4e0d\u8d70\u5165\u53e3\u70b9\u67e5\u8be2\u5bfc\u81f4hook\u9057\u6f0f\u7684\u95ee\u9898\u3002</p> <p>dvm\u4e2d\uff1a</p> <ul> <li>\u6839\u636eslot\uff08Method\u5bf9\u8c61\u504f\u79fb\uff09\u83b7\u53d6Method\u7ed3\u6784\u4f53\u6307\u9488 \uff0c</li> <li>\u521b\u5efaXposedHookInfo\u7ed3\u6784\u4f53\uff0c\u7528\u4e8e\u4fdd\u5b58\u539f\u65b9\u6cd5\u4fe1\u606f\u548chook\u4fe1\u606f\uff08additionalHookInfo\uff0c\u5305\u542bhook callback\uff0c\u53c2\u6570\u7c7b\u578b\u548c\u8fd4\u56de\u7c7b\u578b\uff09</li> <li>\u5c06\u539f\u65b9\u6cd5\u8bbe\u7f6e\u4e3anative\u65b9\u6cd5\uff0c</li> <li>\u5c06\u539f\u65b9\u6cd5nativeFunc\u8bbe\u7f6e\u4e3ahookedMethodCallback\u6307\u9488\uff0c</li> <li>\u5c06\u539f\u65b9\u6cd5insns\u5b57\u6bb5\u8bbe\u7f6e\u4e3ahookInfo\u7ed3\u6784\u4f53</li> <li>\u91cd\u7f6eJIT cache\uff0c\u9632\u6b62\u65b9\u6cd5\u88abJIT</li> </ul> <p>art\u4e2d\uff1a</p> <ul> <li>\u6839\u636eMethod\u8c03\u7528ArtMethod:FromReflectedMethod\u8fd4\u56de\u65b9\u6cd5\u5bf9\u5e94\u7684ArtMethod\u5bf9\u8c61</li> <li>\u628aMethod\u5bf9\u8c61\uff0c\u65b9\u6cd5\u989d\u5916\u4fe1\u606f\u548c\u539f\u59cb\u65b9\u6cd5\u4fdd\u5b58\u81f3XposedHookInfo\u7ed3\u6784\u4f53\u4e2d\u9632\u6b62JIT\u7f16\u8bd1</li> <li>\u5e76\u8c03\u7528SetEntryPointFromJni()\u628a\u8fd9\u4e2a\u7ed3\u6784\u4f53\u53d8\u91cf\u7684\u5185\u5b58\u5730\u5740\u4fdd\u5b58\u5728ArtMethod\u5bf9\u8c61\u4e2d</li> <li>SetEntryPointFromQuickCompiledCode(GetQuickProxyInvokeHandler)</li> <li>\u8c03\u7528SetAccessFlags((GetAccessFlags() &amp; ~kAccNative &amp; ~kAccSynchronized) | kAccXposedHookedMethod)\u6765\u5b8c\u6210\u6807\u5fd7\u4f4d\u7684\u6e05\u9664\uff08\u8bbe\u7f6eFast_jni\u6a21\u5f0f\uff09</li> <li>\u5c06\u539f\u65b9\u6cd5\u7684 CodeItem\u504f\u79fb\u8bbe\u7f6e0\uff0c\u56e0\u4e3a\u5df2\u7ecf\u662fnative\u65b9\u6cd5\u4e86</li> </ul>"},{"location":"awesome-reverse-main/android/xposed-introduce/#_3","title":"\u53c2\u8003","text":"<ul> <li>https://www.infoq.cn/article/android-in-depth-xposed</li> <li>https://bbs.pediy.com/thread-257844.htm</li> <li>https://bbs.pediy.com/thread-223713.htm</li> </ul>"},{"location":"awesome-reverse-main/base/tools-and-environment/","title":"\u9006\u5411\u5165\u95e8\u5de5\u5177\u53ca\u73af\u5883\u642d\u5efa","text":""},{"location":"awesome-reverse-main/base/tools-and-environment/#js","title":"JS\u9006\u5411\u5de5\u5177\u94fe","text":"<ul> <li>Chrome</li> <li>SwitchyOmega Chrome\u63d2\u4ef6\uff0c\u7528\u4e8e\u8bbe\u7f6echarles\u6216fiddler\u4ee3\u7406</li> <li>Chrales/Fiddler \u7528\u4e8ePC\u548cAPP\u7684\u6293\u5305</li> <li>\u6cb9\u7334\u63d2\u4ef6 \u7528\u4e8eJS Hook</li> <li>Node\u73af\u5883</li> <li>\u5c0f\u7a0b\u5e8f\u5305\u53cd\u7f16\u8bd1\u5de5\u5177:WxAppUnpacker</li> </ul>"},{"location":"awesome-reverse-main/base/tools-and-environment/#_2","title":"\u5b89\u5353\u9006\u5411\u5de5\u5177\u94fe","text":"<p>\u8fd9\u91cc\u5217\u4e3e\u4e00\u4e9b\u65e5\u5e38\u4e2d\u7ecf\u5e38\u4f7f\u7528\u5230\u7684\u4e00\u4e9b\u5de5\u5177\u548c\u5f00\u53d1\u73af\u5883\uff0c\u57fa\u4e8e\u8fd9\u4e9b\u4e5f\u8db3\u4ee5\u5e94\u4ed8\u5927\u90e8\u5206\u5b89\u5353APP\u7684\u9006\u5411\u3002</p>"},{"location":"awesome-reverse-main/base/tools-and-environment/#_3","title":"\u53cd\u7f16\u8bd1","text":"<ul> <li>\uff08\u63a8\u8350\uff09JADX\uff1a\u5f00\u6e90\u3001\u7a33\u5b9a\u3001\u6709GUI\u754c\u9762</li> <li>apktool \u5e38\u7528\u4e8e\u53cd\u7f16\u8bd1smali\u4ee3\u7801</li> <li>JEB \u5728\u53cd\u7f16\u8bd1\u7b97\u6cd5\u4e0a\u5f25\u8865JADX\u90e8\u5206\u4ee3\u7801\u65e0\u6cd5\u8fd8\u539f\u7684\u60c5\u51b5\uff0c\u4f8b\u5982\u591a\u5c42try-catch\u5d4c\u5957</li> <li>IDA Pro\uff08\u4e00\u822c\u7528\u4e8e\u8c03\u8bd5SO\u6587\u4ef6\uff09</li> <li>010 Editor\uff08\u67e5\u770b\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u67e5\u770bELF/Dex\u6587\u4ef6\u683c\u5f0f\u3001\u6216\u8005\u5728AndroidManifest.xml\u6587\u4ef6\u53cd\u7f16\u8bd1\u5931\u8d25\u65f6\u53ef\u4ee5\u7528\u4e0a\uff09</li> <li>HttpCanary \u57fa\u4e8eVPN\u7684\u6293\u5305APP</li> <li>MT\u7ba1\u7406\u5668 \u5b89\u5353\u4e0a\u4e00\u6b3e\u529f\u80fd\u4e30\u5bcc\u5305\u62ecAPK\u53cd\u7f16\u8bd1\u3001DEX\u91cd\u6784\u7b49\u529f\u80fd\u7684\u6587\u4ef6\u7ba1\u7406APP</li> <li>file\\objdump\u7b49Linux\u547d\u4ee4 \uff08PS.\u4e0d\u8981\u76f8\u4fe1\u6587\u4ef6\u540e\u7f00\u540d\uff0c\u8981\u57fa\u4e8e\u6587\u4ef6\u7279\u5f81\u591a\u7ef4\u5ea6\u6821\u9a8c\uff09</li> </ul>"},{"location":"awesome-reverse-main/base/tools-and-environment/#_4","title":"\u5f00\u53d1\u73af\u5883","text":"<ul> <li>android studio</li> <li>android sdk/ndk</li> <li>gradle \u5b89\u5353\u4e2d\u5168\u90e8\u4f7f\u7528gradle\u800c\u975emaven\u6784\u5efa\u9879\u76ee</li> </ul>"},{"location":"awesome-reverse-main/base/tools-and-environment/#hook","title":"Hook\u5de5\u5177","text":"<p>APP\u9006\u5411\u4e2d\u79bb\u4e0d\u5f00\u7684\u6838\u5fc3\u601d\u60f3\uff1ahook\uff0c\u53ef\u4ee5\u5b9e\u73b0\u4ee3\u7801\u52a8\u6001\u63d2\u6869\uff0c\u4fee\u6539\u5bf9\u65b9APP\u4e2d\u7684\u65b9\u6cd5\u6267\u884c\u903b\u8f91\uff0c\u8fd9\u91cc\u5217\u4e3e\u51e0\u79cd\u53ef\u4ee5\u5f00\u7bb1\u5373\u7528\u7684Hook\u5de5\u5177\u3002</p> <p>Hook\u6846\u67b6|\u662f\u5426\u9700\u8981root\u73af\u5883\uff5c\u7279\u70b9 ---|---|---|--- Xposed\uff5c\u662f | \u6700\u7ecf\u5178\u7684Hook\u6846\u67b6 EdXposed\uff5cMagisk+riru | Xposed\u5b89\u53538\u4e4b\u540e\u4e0d\u518d\u7ef4\u62a4\uff0c\u56e0\u6b64\u76ee\u524d8+\u4e00\u822c\u4f7f\u7528EdXposed VAXposed\uff5c\u5426 | \u901a\u8fc7VirtualApp\u5b9e\u73b0\u514droot Frida\uff5c\u514droot\u60c5\u51b5\u4e0b\u4e5f\u53ef\u96c6\u6210frida-gadget.so | \u6bd4Xposed\u66f4\u5f3a\u5927\u7684\u652f\u6301Native Hook\u548cJs\u3001Python\u7b49\u8bed\u8a00\u7f16\u5199\u811a\u672c\u7684\u5206\u6790\u5de5\u5177 \u592a\u6781\uff5c\u5426 | \u57fa\u4e8e\u91cd\u6253\u5305\u5b9e\u73b0\u7684\u4e00\u4e2a\u7c7bXposed\u6846\u67b6 Ratel\uff5c\u5426 | \u6bd4\u592a\u6781\u66f4\u52a0\u5f3a\u5927\u7684\u652f\u6301\u5e94\u7528\u5206\u8eab\u548c\u8bbe\u5907\u6307\u7eb9\u7684hook\u6846\u67b6 QContainer| \u5426 | \u81ea\u7814\u5bf9\u6807Ratel\u7684Hook\u6846\u67b6</p>"},{"location":"awesome-reverse-main/base/tools-and-environment/#jadx","title":"JADX\u4f7f\u7528\u6280\u5de7","text":"<p>\u5bf9\u4e8e\u5c0fAPP\uff0c\u53ef\u4ee5\u76f4\u63a5\u76f4\u63a5\u62d6\u62fd\u6e90APK\u8fdbJADX-GUI\uff0c\u5feb\u901f\u5f97\u5230\u53cd\u7f16\u8bd1\u7ed3\u679c\u3002</p> <p>\u5bf9\u4e8e\u5927APP\u6216\u8005\u9700\u8981\u7ecf\u5e38\u5206\u6790\u6e90\u7801\u7684\uff0c\u8fd8\u662f\u5efa\u8bae\u4f7f\u7528\u547d\u4ee4\u884c\u53cd\u7f16\u8bd1\uff0c\u5e76\u52a0\u4e0a--no-imports\u53c2\u6570\uff0c\u53d6\u6d88import\u5bfc\u5165\uff0c\u56e0\u4e3a\u6df7\u6dc6\u540e\u7684APP\u4ee3\u7801\u4e2d\u5145\u65a5\u5927\u91cfA\u3001B\u3001C\u7c7b\uff0c\u4f7f\u7528\u5168\u9650\u5b9a\u540d\u5229\u4e8e\u5206\u8fa8\uff0c\u7136\u540e\u5728android studio\u4e2d\u8fdb\u884c\u6253\u5f00\uff0c\u5728\u4ea4\u53c9\u5f15\u7528\u7b49\u5206\u6790\u4e0a\u4f1a\u65b9\u4fbf\u5f88\u591a\u3002</p> <p>\u5728\u4f7f\u7528\u547d\u4ee4\u884c\u53cd\u7f16\u8bd1\u65f6\uff0c\u5927\u578bAPK\u65f6\u9700\u8981\u8f83\u5927\u5185\u5b58\u4f8b\u5982MT/Wexin\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u4e0d\u65ad\u9677\u5165GC\u7684\u60c5\u51b5\u5bfc\u81f4\u53cd\u7f16\u8bd1\u5361\u6b7b\uff0c\u4e00\u4e2a\u89e3\u51b3\u65b9\u6848\u662f\u66f4\u6539JADX\u914d\u7f6e\u8c03\u6574\u5185\u5b58\uff0c\u53e6\u4e00\u4e2a\u5219\u662f\u5bf9APP\u4e2d\u7684\u6bcf\u4e2aDEX\u5206\u5f00\u7f16\u8bd1\u7136\u540e\u5408\u5e76\u81f3\u4e00\u8d77\uff08\u9002\u7528\u4e8e16G\u5c0f\u5185\u5b58\u7535\u8111\uff0c\u901a\u7528\u65b9\u6848\uff09\u3002\u8fd9\u91cc\u7ed9\u51fa\u81ea\u5df1\u5199\u7684\u4e00\u4e2a\u81ea\u52a8Shell\u811a\u672c\uff0c\u4e3b\u8981\u529f\u80fd\u4e3a\uff1a - smali\u4ee3\u7801\u53cd\u7f16\u8bd1 - java\u4ee3\u7801\u53cd\u7f16\u8bd1 - \u5206DEX\u7f16\u8bd1</p> <p>\u8be6\u7ec6\u4ecb\u7ecd\u89c1\uff1ahttps://github.com/AlienwareHe/multi-dex-jadx</p> <pre><code>#!/bin/bash\nwhile getopts \"d:o:\" arg\ndo\n    case $arg in\n        d)\n            apkPath=$OPTARG\n            apkName=${OPTARG##*/}\n            apkName=`basename $apkPath .apk`\n            ;;\n        o)\n            outputDir=$OPTARG\n            ;;\n        ?)\n            echo \"unsupported argument\"\n    esac\ndone\n\nif [ x\"$apkPath\" = x ];then\n    echo \"hello~ please input your apk path...\"\n    exit 1\nfi\n\nif [ x\"$outputDir\" = x ];then\n    outputDir=\"$apkName\"_jadx \nfi\n\ncodePath=$outputDir\"/code\"\napkZipTemp=\"$outputDir\"/\"$apkName\".zip\napkToolPath=$outputDir\"/apktool\"\n\necho \"source apk path:\"$apkPath\necho \"source apk name:\"$apkName\necho \"decompile result path:\"$outputDir\necho \"decompile code path:\"$codePath\necho \"apktool decompile path:\"$apkToolPath\n\n\nmkdir $outputDir\n\ncp $apkPath $apkZipTemp\n\nunzip -o $apkZipTemp -d $outputDir &gt; /dev/null\nmkdir $codePath\n\nindex=1\nfor file in `ls $outputDir`\ndo\n    if [ x\"${file##*.}\" = x\"dex\" ];then\n        jadx -j 1 -r --no-imports -d \"$codePath\"_\"$index\" $outputDir/$file\n        # rsync\u4e2d\u76ee\u5f55\u8def\u5f84\u5e26/\u8868\u793a\u5c06\u6240\u6709\u6587\u4ef6\u590d\u5236\u5230\u76ee\u6807\u76ee\u5f55\u4e0b\uff0c\u800c\u975e\u590d\u5236\u6587\u4ef6\u5939 \n        rsync -a \"$codePath\"_\"$index\"/ $codePath\n        # \u5220\u9664\u4e34\u65f6\u76ee\u5f55\n        rm -rf \"$codePath\"_\"$index\"\n        let index++\n    elif [[ $file == code* ]];then\n        echo $file\n    else\n        # \u5176\u4f59\u6587\u4ef6\u5220\u9664\n        echo \"rm -rf $file\"\n        rm -rf $file\n    fi\ndone\n\napktool d $apkPath -o $apkToolPath\n\nrm -rf $apkZipTemp\n</code></pre>"},{"location":"awesome-reverse-main/frida/frida-docs/","title":"Frida docs","text":"<p>Frida\u662f\u4e00\u4e2a\u57fa\u4e8eJS\u548cPython\u7684\u652f\u6301Hook\u5b89\u5353\u3001IOS\u3001WINDOWS\u3001MAC\u3001LINUX\u5e73\u53f0\u7684\u5f3a\u5927\u7684\u52a8\u6001\u63d2\u6869\u5de5\u5177\uff0c\u4eceJava\u5c42\u5230Native\u5c42\u65e0\u6240\u4e0d\u80fd\uff0c\u4ece\u5b89\u5353\u4e0a\u6765\u8bf4\uff0c\u76f8\u6bd4\u4e8eXposed\uff0cFrida\u66f4\u52a0\u52a8\u6001\u3001\u7075\u6d3b\u65b9\u4fbf\u5206\u6790\uff0c\u4f8b\u5982\u652f\u6301Native Hook\u3001\u811a\u672c\u5373\u65f6\u751f\u6548\u65e0\u987b\u91cd\u542fAPP\u3001\u652f\u6301\u5185\u5b58\u6f2b\u6e38\u4fee\u6539\u641c\u7d22\u7b49\u3002</p> <p>\u4f46\u662fFrida\u66f4\u503e\u5411\u4e8e\u4f5c\u4e3a\u4e00\u4e2a\u5206\u6790\u5de5\u5177\uff0cHook\u7684\u6301\u4e45\u5316\u6216\u5de5\u7a0b\u5316\u8fd8\u662f\u8981\u4f9d\u9760Xposed\u7b49\u6846\u67b6\u3002</p>"},{"location":"awesome-reverse-main/frida/frida-docs/#frida","title":"Frida\u5b66\u4e60\u8d44\u6599","text":"<p>\u53ea\u5217\u4e3e\u4e86\u4e2a\u4eba\u770b\u8fc7\u7684\u4e00\u4e9b\u8d44\u6599\uff0c\u4ec5\u4f9b\u53c2\u8003\uff0c\u4e3b\u8981\u7684API\u4f7f\u7528\u53ef\u4ee5\u53c2\u8003\u5b98\u7f51\u6216\u5176\u4ed6\u5e16\u5b50\u3002 1. Frida\u6700\u8be6\u7ec6\u7684\u7b14\u8bb0\u4e4b\u4e00 2. \u5b9e\u7528FRIDA\u8fdb\u9636\uff1a\u5185\u5b58\u6f2b\u6e38\u3001hook anywhere\u3001\u6293\u5305 3. \u5b9e\u7528FRIDA\u8fdb\u9636\uff1a\u8131\u58f3\u3001\u81ea\u52a8\u5316\u3001\u5b9e\u7528\u95ee\u9898\u96c6\u9526</p>"},{"location":"awesome-reverse-main/frida/frida-docs/#_1","title":"\u770b\u96ea\u7684\u5b9e\u6218\u5e16\u5b50","text":"<ol> <li>\u5bf9\u67d0\u89c6\u9891APP\u7684\u8131\u58f3\u3001hook\u7834\u89e3\u3001\u6a21\u62df\u6293\u5305\u3001\u534f\u8bae\u5206\u6790\u4e00\u6761\u9f99\u670d\u52a1</li> </ol>"},{"location":"awesome-reverse-main/js/browser-env-fix/","title":"\u6d4f\u89c8\u5668\u73af\u5883\u8865\u9f50\u548c\u6d4f\u89c8\u5668\u6307\u7eb9","text":""},{"location":"awesome-reverse-main/js/browser-env-fix/#_2","title":"\u4ec0\u4e48\u662f\u6d4f\u89c8\u5668\u73af\u5883\u8865\u9f50","text":"<p>\u5728\u524d\u9762\u7684JS\u7834\u89e3\u65b9\u6848\u4e2d\uff0c\u63d0\u5230\u4e86\u4e00\u79cdNode\u8fd8\u539f\u7684\u65b9\u6848\uff0c\u8be5\u65b9\u6848\u7684\u5b9e\u73b0\u7684\u6307\u5bfc\u601d\u60f3\u5c31\u662f\u300c\u5c06\u5bf9\u65b9\u7684JS\u4ee3\u7801\u6216\u6587\u4ef6\u62f7\u8d1d\u5230Node\u73af\u5883\u4e2d\u6267\u884c\u300d\u3002</p> <p>Node\u73af\u5883\u548c\u6d4f\u89c8\u5668\u73af\u5883\u6700\u5927\u7684\u533a\u522b\u5728\u4e8eDOM\u64cd\u4f5c\u6e32\u67d3\u548c\u6d4f\u89c8\u5668\u63d0\u4f9b\u7684API\u4e0a\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3aNodeJS\u53ea\u662f\u5728JS\u6267\u884c\u5f15\u64ce\u4e0a\u505a\u4e86\u7b80\u5355\u5c01\u88c5\uff0c\u6d4f\u89c8\u5668\u5219\u57fa\u4e8eJS\u6267\u884c\u5f15\u64ce\u4e0a\u505a\u4e86\u5168\u5957\u7684\u754c\u9762\u6e32\u67d3\u3002\u56e0\u6b64\uff0c\u82e5\u6211\u4eec\u79fb\u690d\u7684\u4ee3\u7801\u4e2d\u5f15\u7528\u4e86\u6d4f\u89c8\u5668\u4e2d\u72ec\u6709\u7684API\uff0c\u6211\u4eec\u7684\u6267\u884c\u8fc7\u7a0b\u5c06\u4f1a\u62a5\u9519\u3002</p> <p>\u6240\u4ee5\u6211\u4eec\u5728\u8fc1\u79fb\u7684\u8fc7\u7a0b\u4e2d\u4e3b\u8981\u505a\u7684\u5c31\u662fJS\u6267\u884c\u73af\u5883\u6a21\u62df\u548c\u8fd8\u539f\u5373\u6d4f\u89c8\u5668\u73af\u5883\u8865\u9f50\uff0c\u4e4b\u6240\u4ee5\u53eb\u8865\u9f50\u800c\u4e0d\u662f\u8865\u5168\u5c31\u662f\u56e0\u4e3a\u53ea\u9700\u8981\u6ee1\u8db3\u5bf9\u65b9JS\u4ee3\u7801\u6267\u884c\u6240\u9700\u5373\u53ef\uff0c\u8865\u5168\u4e5f\u662f\u4e0d\u592a\u73b0\u5b9e\uff0c\u4e3b\u8981\u6d41\u7a0b\u4e3a\uff1a 1. \u771f\u5b9e\u6d4f\u89c8\u5668\u73af\u5883 -&gt; \u672c\u5730\u6d4f\u89c8\u5668 2. \u672c\u5730\u6d4f\u89c8\u5668 -&gt; Node\u73af\u5883\uff08\u6838\u5fc3\uff09 3. Node\u73af\u5883 -&gt; JVM\u73af\u5883</p> <p>\u7b2c\u4e00\u6b65\u4e2d\u771f\u5b9e\u6d4f\u89c8\u5668\u73af\u5883\u5230\u672c\u5730\u6d4f\u89c8\u5668\u7684\u610f\u601d\u4e3a\uff0c\u76f4\u63a5\u5c1d\u8bd5\u5c06\u5bf9\u65b9\u7684JS\u4ee3\u7801\u76f4\u63a5\u672c\u5730\u65b0\u5f00\u4e00\u4e2a\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\uff0c\u8fd9\u4e00\u6b65\u7684\u610f\u4e49\u5728\u4e8e\u786e\u5b9a\u9664\u4e86\u6d4f\u89c8\u5668\u76f8\u5173\u73af\u5883\uff0cJS\u4ee3\u7801\u4e2d\u662f\u5426\u5305\u542b\u4e00\u4e9b\u4e0a\u4e0b\u6587\u5bf9\u8c61\uff0c\u4fdd\u8bc1\u8fd8\u539f\u81f3Node\u73af\u5883\u7684\u53ef\u80fd\u6027\u3002</p> <p>\u7b2c\u4e8c\u6b65\u5219\u662f\u6211\u4eec\u7684\u6838\u5fc3\u64cd\u4f5c\uff0c\u8fd9\u4e00\u6b65\u4f1a\u9047\u5230\u8bb8\u591a\u95ee\u9898\uff0c\u4f46\u90fd\u53ef\u4ee5\u901a\u8fc7\u6267\u884c\u65f6\u629b\u51fa\u7684\u5f02\u5e38\u548c\u8c03\u8bd5\u6765\u5b9a\u4f4d\u6240\u9700\u8981\u7684\u6d4f\u89c8\u5668\u5bf9\u8c61\uff0c\u8fd9\u4e00\u6b65\u4e2d\u8fd8\u6709\u4e00\u4e9b\u7528\u4e8e\u901a\u8fc7JS Hook\u6216\u8005Proxy\u7684\u65b9\u5f0f\u6765\u6279\u91cf\u83b7\u53d6\u8c03\u7528\u7684\u6d4f\u89c8\u5668\u5bf9\u8c61\u3002</p> <p>\u7b2c\u4e09\u6b65\u5219\u662f\u7528\u4e8e\u6211\u4eec\u7ebf\u4e0a\u7684\u751f\u4ea7\u64cd\u4f5c\uff0c\u539f\u7406\u5c31\u662fNodeJS\u57fa\u4e8eV8\u5f15\u64ce\uff0c\u56e0\u6b64\u7406\u8bba\u4e0aNode\u4e2d\u53ef\u4ee5\u6267\u884c\u7684\uff0c\u5728Java\u4e2d\u4e5f\u53ef\u4ee5\u8c03\u7528V8\u5f15\u64ce\u6216\u5176\u4ed6\u7684JS\u6267\u884c\u5f15\u64ce\u4f8b\u5982JDK8\u540e\u81ea\u5e26\u7684Nashorn\u5f15\u64ce\u6765\u8fbe\u5230\u540c\u6837\u7684\u6548\u679c\uff0c\u5728JVM\u4e2d\u7684JS\u6267\u884c\u5f15\u64ce\u53ef\u4ee5\u8fd9\u4e24\u8005\u7684\u4f7f\u7528\u65b9\u6cd5\u548c\u533a\u522b\u4ee5\u53ca\u6ce8\u610f\u4e8b\u9879\u3002</p>"},{"location":"awesome-reverse-main/js/browser-env-fix/#ctrip-eleven","title":"Ctrip eleven\u53c2\u6570\u73af\u5883\u5b9e\u6218","text":"<p>Ctrip eleven\u53c2\u6570\u7684\u751f\u6210\u7b97\u6cd5\u91c7\u7528\u4e86Ctrip \u81ea\u7814\u7684\u6df7\u6dc6\u7b97\u6cd5\uff0c\u57fa\u672c\u4e0d\u53ef\u80fd\u88ab\u8fd8\u539f\uff0c\u53ea\u80fd\u901a\u8fc7\u8c03\u8bd5\u6765\u89c2\u5bdf\u5176\u4e2d\u7684\u72b6\u6001\u673a\u548c\u6478\u6e05\u6267\u884c\u6d41\u7a0b\uff0c\u4e0b\u9762\u4f1a\u7ed9\u51faCtrip eleven\u751f\u6210\u7b97\u6cd5\u8fd8\u539f\u65f6\u7528\u5230\u7684\u6d4f\u89c8\u5668\u73af\u5883\u5bf9\u8c61\u3002\uff08\u4e5f\u53ef\u4ee5\u4f7f\u7528rpc\u7684\u65b9\u5f0f\u76f4\u63a5\u8c03\u7528\uff0c\u975e\u5e38\u7b80\u5355\uff09</p> <p></p> <p>\u4e0a\u9762\u7684\u8111\u56fe\u4e2d\u662f\u5728\u8fd8\u539fCtrip eleven\u53c2\u6570\u65f6\u6240\u9700\u8981\u8865\u9f50\u7684\u6d4f\u89c8\u5668\u73af\u5883\uff0c\u5176\u4e2d\u6709\u51e0\u9879\u662f\u8f83\u4e3a\u504f\u50fb\u7684\u53cd\u722c\u63aa\u65bd\u3002</p> <p>\u4e0b\u9762\u5c31\u5217\u4e3e\u4e86\u9700\u8981\u989d\u5916\u6ce8\u610f\u7684\u51e0\u4e2a\u5730\u65b9\uff1a</p>"},{"location":"awesome-reverse-main/js/browser-env-fix/#dom","title":"dom\u64cd\u4f5c","text":"<p>\u7f51\u4e0a\u6709\u5f00\u6e90\u7684jsdom\u6a21\u5757\u4e13\u95e8\u7528\u4e8e\u5728node\u73af\u5883\u4e2d\u6a21\u62dfdom\u64cd\u4f5c\uff0c\u53ef\u4ee5\u53c2\u8003\u3002</p>"},{"location":"awesome-reverse-main/js/browser-env-fix/#objectfreeze","title":"Object.freeze()","text":"<p>https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze</p> <p>\u5728\u6b63\u5e38\u7684JS\u73af\u5883\u4e2d\uff0cwindow\u548cnavigator\u7b49\u5c5e\u4e8e\u4e0d\u53ef\u53d8\u5bf9\u8c61\uff0c\u800c\u5728\u6a21\u62df\u6d4f\u89c8\u5668\u73af\u5883\u65f6\u7531\u4e8e\u662f\u81ea\u5b9a\u4e49\u7684\u5bf9\u8c61\uff0c\u6240\u4ee5\u5f88\u5bb9\u6613\u88ab\u68c0\u6d4b\u51fa\u6765\u662f\u5728\u6a21\u62df\uff0c\u56e0\u6b64\u6a21\u62df\u5b8c\u6bd5\u540e\uff0c\u8bb0\u5f97Object.freeze()\u4e00\u4e0b</p>"},{"location":"awesome-reverse-main/js/browser-env-fix/#_3","title":"\u5f02\u5e38\u5806\u6808\u68c0\u6d4b","text":"<p>\u5f02\u5e38\u5806\u6808\u68c0\u6d4b\u5728\u5b89\u5353\u4e2d\u4e5f\u662f\u5e38\u7528\u7684\u53cdhook\u68c0\u6d4b\u624b\u6bb5\uff0c\u5728JS\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u68c0\u6d4b\u5806\u6808\u6765\u5224\u65ad\u6240\u5904\u7684\u6267\u884c\u73af\u5883\uff0c\u4f8b\u5982Node\u73af\u5883\u7684\u7279\u5f81\u4e3a\u300c/modules/cjs/loader\u300d\uff0c\u7ed5\u8fc7\u65b9\u5f0f\u4e5f\u7279\u522b\u7b80\u5355\uff1a <pre><code>// \u76f4\u63a5\u91cd\u5199String\u7684\u67e5\u627e\u65b9\u6cd5\nvar _indexOf = String.prototype.indexOf;\nString.prototype.indexOf = function (searchValue, fromIndex) {\n        if (searchValue == '/modules/cjs/loader') {\n            return -1;\n        }\n        return _indexOf.apply(this, [searchValue, fromIndex]);\n    }\n</code></pre></p>"},{"location":"awesome-reverse-main/js/browser-env-fix/#native","title":"native\u65b9\u6cd5\u68c0\u6d4b","text":"<p>\u5728JS\u4e2d\u5b58\u5728\u8bb8\u591anative\u65b9\u6cd5\uff0c\u5176\u4e2d\u67d0\u4e9b\u65b9\u6cd5\u4e5f\u662fnode\u73af\u5883\u4e2d\u6240\u4e0d\u5b58\u5728\u9700\u8981\u6a21\u62df\u7684\uff0c\u9488\u5bf9\u8fd9\u7c7b\u65b9\u6cd5\uff0cCtrip \u53ef\u4ee5\u901a\u8fc7\u6253\u5370\u8be5\u65b9\u6cd5\u5224\u65ad\u8be5\u65b9\u6cd5\u662f\u5426\u88ab\u91cd\u5199\uff0c\u56e0\u6b64\u7ed5\u8fc7\u65b9\u5f0f\u4e5f\u662f\u91cd\u5199Function\u7684toString\u65b9\u6cd5\uff1a <pre><code>    var originString = Function.prototype.toString;\n    // native\u65b9\u6cd5\u68c0\u6d4b\n    Function.prototype.toString = function () {\n        if (this == Window || this == Location || this == Function.prototype.toString) {\n            return \"function Window() { [native code] }\";\n        }\n        return originString.apply(this);\n    };\n</code></pre></p>"},{"location":"awesome-reverse-main/js/browser-env-fix/#canvas","title":"canvas\u6307\u7eb9","text":"<p>canvas\u6307\u7eb9\u662f\u6d4f\u89c8\u5668\u6307\u7eb9\u4e2d\u7ed5\u4e0d\u5f00\u7684\u5b58\u5728\uff0c\u901a\u8fc7\u4e0d\u540c\u8bbe\u5907\u7ed8\u5236\u56fe\u7247\u65f6\u7684\u7ec6\u5fae\u5dee\u5f02\u6765\u6807\u8bc6\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u3002</p> <p>\u4e00\u822c\u7684JS\u5728\u83b7\u53d6\u8be5\u4fe1\u606f\u65f6\uff0c\u901a\u5e38\u662f\u76f4\u63a5\u7ed8\u5236\u4e00\u6b21\u56fe\u7247\u6765\u83b7\u53d6\u6307\u7eb9\uff0c\u4f46\u5b9e\u9645\u4e0a\u5728\u6a21\u62df\u65f6\u6709\u5f88\u591a\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9\uff0c\u6bd4\u5982\uff1a 1. \u4e0d\u540c\u7c7b\u578b\u56fe\u7247\u7684canvas\u6307\u7eb9\u5e94\u5f53\u4e0d\u4e00\u6837\uff0c\u5982.jpg .png 2. \u4e0d\u540c\u8d28\u91cfquality\u7684canvas\u6307\u7eb9\u5e94\u8be5\u4e0d\u4e00\u6837 3. \u4e0d\u540c\u5c5e\u6027\u7684canvas\u6307\u7eb9\u5e94\u8be5\u4e0d\u4e00\u6837 4. \u540c\u4e00\u4e2a\u6761\u4ef6\u7684canvas\u591a\u6b21\u7ed8\u5236\u65f6\u5e94\u8be5\u4fdd\u6301\u4e00\u81f4</p>"},{"location":"awesome-reverse-main/js/browser-env-fix/#_4","title":"\u81ea\u52a8\u5316\u75d5\u8ff9\u68c0\u6d4b","text":"<p>\u81ea\u52a8\u5316\u75d5\u8ff9\u867d\u7136\u4e0d\u662fnode\u73af\u5883\u8865\u9f50\u6d4f\u89c8\u5668\u73af\u5883\u9700\u8981\u8003\u8651\u7684\u4e1c\u897f\uff0c\u4f46\u5728Ctrip \u7684\u53cd\u722cJS\u4e2d\u4e5f\u662f\u53ef\u4ee5\u770b\u5230\u4e8c\u5341\u591a\u9879\u68c0\u6d4b\u81ea\u52a8\u5316\u5c5e\u6027\u7684\u5730\u65b9\uff0c\u56e0\u6b64\u81ea\u52a8\u5316\u75d5\u8ff9\u4e5f\u662f\u524d\u7aef\u6240\u9700\u8981\u77e5\u6089\u7684\u4e00\u4e2a\u5bf9\u6297\u70b9\u3002</p> <p>\u76ee\u524d\u5df2\u77e5\u7684\u8f83\u4e3a\u5b8c\u7f8e\u7ed5\u8fc7\u81ea\u52a8\u5316\u6846\u67b6\u68c0\u6d4b\u7684\u4e00\u4e2a\u529e\u6cd5\u662f\u4f7f\u7528\u65e0\u5934chrome\u6d4f\u89c8\u5668\u6216jvppeteer\uff1a</p> <p>https://intoli.com/blog/not-possible-to-block-chrome-headless/</p> <p>https://github.com/fanyong920/jvppeteer</p>"},{"location":"awesome-reverse-main/js/browser-env-fix/#_5","title":"\u6d4f\u89c8\u5668\u6307\u7eb9","text":"<p>\u901a\u8fc7Ctrip \u7684\u53cd\u722cJS\u4e5f\u53ef\u4ee5\u770b\u51fa\u6765Ctrip \u5728JS\u4e2d\u641c\u96c6\u7684\u6d4f\u89c8\u5668\u6307\u7eb9\uff0c\u867d\u7136\u5728\u6d4f\u89c8\u5668\u4e2d\u83b7\u53d6\u6307\u7eb9\u5176\u5b9e\u5e76\u4e0d\u53ef\u9760\uff0c\u83b7\u53d6\u7684\u4fe1\u606f\u4e5f\u5e76\u4e0d\u6743\u5a01\u3002</p> <p>\u5e38\u89c1\u7684\u6d4f\u89c8\u5668\u6307\u7eb9\u4fe1\u606f\uff1a * window.screen \u5c4f\u5e55\u5206\u8fa8\u7387/\u5bbd\u9ad8 * navigator.useragent * location.href/host * navigator.platform \u5e73\u53f0\u3001\u8bed\u8a00\u7b49\u4fe1\u606f * canvas 2D\u56fe\u50cf\u6307\u7eb9 * navigator.plugin \u6d4f\u89c8\u5668\u63d2\u4ef6\u4fe1\u606f * webgl 3D\u56fe\u50cf\u6307\u7eb9</p>"},{"location":"awesome-reverse-main/js/js-obfuscator/","title":"Js obfuscator","text":"<p>\u53ef\u80fd\u7528\u5230\u7684\u7f51\u5740\uff1a * https://astexplorer.net/ * https://bbs.nightteam.cn/thread-423.htm</p> <p>JS\u5e38\u89c4\u6df7\u6dc6\u53ef\u5f52\u7ed3\u4e3a\u4e09\u7c7b\uff1a 1. eval\u7c7b\u578b 2. hash\u7c7b\u578b\uff08JSA\uff0cjavascript-obfuscator\u7b49\uff09 3. \u538b\u7f29\u7c7b\u578b\uff08uglify\u7b49\uff09</p>"},{"location":"awesome-reverse-main/js/js-obfuscator/#jsa","title":"JSA\u52a0\u5bc6","text":"<pre><code>\u52a0\u5bc6\u524d\uff1a\nfunction logG(message) {\n  console.log('\\x1b[32m%s\\x1b[0m', message); \n}\n\nlogG('logR');\n\n\u52a0\u5bc6\u540e\uff1a\nfunction o00($) {\n  console.log(\"\\x1b[32m%s\\x1b[0m\", $)\n}\n\no00(\"logR\");\n</code></pre>"},{"location":"awesome-reverse-main/js/js-obfuscator/#javascript-obfuscator","title":"javascript-obfuscator\u53cd\u6df7\u6dc6","text":"<p>\u5e38\u89c4\u7684JS\u6df7\u6dc6\u90fd\u6ca1\u6709\u592a\u5927\u7684\u6740\u4f24\u529b\uff0c\u771f\u6b63\u4ee4\u4eba\u5934\u79c3\u7684\u5f80\u5f80\u662fAST\u6df7\u6dc6\uff0c\u4f8b\u5982\u53ef\u4ee5\u5728Js Ob\u6df7\u6dc6\u4e0a\u4f53\u9a8c\u4e00\u4e0b\u6df7\u6dc6\u524d\u548c\u6df7\u6dc6\u540e\u7684\u5bf9\u6bd4\u3002</p> <p>\u8be5\u6df7\u6dc6\u4e3b\u8981\u5305\u62ec\u4e86\u4ee5\u4e0b\u51e0\u4e2a\u529f\u80fd\uff0c\u771f\u6b63\u6838\u5fc3\u7684\u63a7\u5236\u6d41\u5e73\u5766\u5316\uff0c\u901a\u8fc7\u5e73\u5766\u5316\u5c06\u539f\u6709JS\u4e2d\u7684\u5404\u4e2a\u90e8\u5206\u4ee3\u7801\u6253\u4e71\uff0c\u7136\u540e\u901a\u8fc7swtich case\u5757\u8fdb\u884c\u5206\u53d1\u548c\u6267\u884c\u987a\u5e8f\u7684\u63a7\u5236\uff0c\u5c06\u539f\u6709\u7684\u987a\u5e8f\u53ef\u89c1\u7684\u4ee3\u7801\u53d8\u4e3a\u65e0\u903b\u8f91\u7684\u5404\u4e2a\u5206\u53d1\u5757\u548c\u771f\u5b9e\u5757\u7684\u7ec4\u5408\u3002 * JS\u538b\u7f29  * \u53d8\u91cf\u91cd\u547d\u540d * \u5b57\u7b26\u4e32\u63d0\u53d6\u53ca\u52a0\u5bc6  * \u65e0\u7528\u63a7\u5236\u6d41\u6ce8\u5165 * \u63a7\u5236\u6d41\u5e73\u5766\u5316 * \u4ee3\u7801\u8f6c\u6362 * DEBUG\u4fdd\u62a4 * \u7981\u6b62\u63a7\u5236\u53f0\u8f93\u51fa * \u57df\u540d\u9501\u5b9a</p> <pre><code>\u6700\u57fa\u7840\u7684ob\u6df7\u6dc6\uff1a\nvar _0xd6ac = ['[41m%s[0m', 'logG', 'log'];\n(function(_0x203a66, _0x6dd4f4) {\n  var _0x3c5c81 = function(_0x4f427c) {\n    while (--_0x4f427c) {\n      _0x203a66['push'](_0x203a66['shift']());\n    }\n  };\n  _0x3c5c81(++_0x6dd4f4);\n}(_0xd6ac, 0x6e));\nvar _0x5b26 = function(_0x2d8f05, _0x4b81bb) {\n  _0x2d8f05 = _0x2d8f05 - 0x0;\n  var _0x4d74cb = _0xd6ac[_0x2d8f05];\n  return _0x4d74cb;\n};\n\nfunction logG(_0x4f1daa) {\n  console[_0x5b26('0x0')]('[32m%s[0m', _0x4f1daa);\n}\n\nlogR(_0x5b26('0x2'));\n</code></pre>"},{"location":"awesome-reverse-main/js/js-obfuscator/#ast","title":"\u4ec0\u4e48\u662fAST","text":"<p>\u4e00\u95e8\u9ad8\u7ea7\u8bed\u8a00\u53d8\u6210CPU\u80fd\u591f\u6267\u884c\u7684\u673a\u5668\u7801\u6307\u4ee4\uff0c\u4f1a\u7ecf\u8fc7\u8bcd\u6cd5\u5206\u6790 \u3001\u8bed\u6cd5\u5206\u6790\u3001\u4e2d\u95f4\u4ee3\u7801\u751f\u6210\u3001\u4e2d\u95f4\u4ee3\u7801\u4f18\u5316\u3001\u76ee\u6807\u4ee3\u7801\u751f\u6210\u3001\u673a\u5668\u4ee3\u7801\u4f18\u5316\u7b49\u6b65\u9aa4\u3002\u5176\u4e2d\u5c06\u4e2d\u95f4\u4ee3\u7801\u751f\u6210\u53ca\u4e4b\u524d \u9636\u6bb5\u5212\u5206\u4e3a\u7f16\u8bd1\u5668\u7684\u524d\u7aef\uff0c\u4e4b\u540e\u5206\u4e3a\u540e\u7aef\uff0c\u90a3\u4e48\u53ef\u4ee5\u4fdd\u8bc1 \u524d\u7aef\u4e0e\u540e\u7aef\u7684\u72ec\u7acb\u6027\u3002</p> <p>\u4ee5\u4e0b\u5185\u5bb9\u53c2\u8003\u4e8e\uff1a https://github.com/yacan8/blog/blob/master/posts/JavaScript%E6%8A%BD%E8%B1%A1%E8%AF%AD%E6%B3%95%E6%A0%91AST.md</p> <p>\u5728JS\u4e2d\uff0c\u901a\u5e38\u628aJS\u6e90\u7801\u8f6c\u5316\u4e3aAST\uff08\u62bd\u8c61\u8bed\u6cd5\u6811\uff09\u6210\u4e3a\u89e3\u6790\u90e8\u5206\uff0c\u8fd9\u4e2a\u6b65\u9aa4\u5206\u4e3a\u8bcd\u6cd5\u5206\u6790\u548c\u8bed\u6cd5\u5206\u6790\u3002</p> <p>\u8bcd\u6cd5\u5206\u6790\u4e3b\u8981\u662f\u5bf9\u6e90\u4ee3\u7801\u6587\u4ef6\u4e2d\u7684\u5b57\u7b26\u8fdb\u884c\u5207\u5272\uff08\u5206\u8bcd\uff09\uff0c\u5206\u6210\u4e00\u4e2a\u4e2a\u7b26\u53f7\u5e76\u751f\u6210\u7b26\u53f7\u6807\u8bb0\u6811\u3002\u8bed\u6cd5\u5206\u6790\u662f\u5bf9\u7b26\u53f7\u6807\u8bb0\u6811\u4e2d\u7684\u6807\u8bb0\u8fdb\u4e00\u6b65\u5206\u6790\u8bed\u6cd5\uff0c\u5e76\u751f\u6210\u8bed\u6cd5\u6811\uff0c\u8bed\u4e49\u5206\u6790\u662f\u5bf9\u6e90\u4ee3\u7801\u4e0a\u4e0b\u6587\u7684\u6574\u4f53\u68c0\u67e5\uff0c\u6700\u540e\u6839\u636e\u751f\u6210\u7684\u6b63\u786e\u8bed\u6cd5\u6811\u7ffb\u8bd1\u6210\u4e2d\u95f4\u4ee3\u7801\u3002</p>"},{"location":"awesome-reverse-main/js/js-obfuscator/#ast_1","title":"\u5982\u4f55\u8fdb\u884cAST\u8fd8\u539f","text":"<p>\u8fd9\u91cc\u627e\u4e86\u4e00\u4e2a\u975e\u5e38\u8be6\u7ec6\u7684\u5e16\u5b50\u4ecb\u7ecd\u4e86\u5982\u4f55\u8fdb\u884cAST\u8fd8\u539f\u5b9e\u6218\uff0c\u770b\u4e86\u8fd9\u7bc7\u5e16\u5b50\u5b8c\u5168\u8db3\u4ee5\u5e94\u5bf9\u7b80\u5355\u7684AST\uff0c\u66f4\u591a\u5173\u4e8eAST\u53cd\u6df7\u6dc6\u7684\u53ef\u4ee5\u5173\u6ce8\u8521\u8001\u677f\u7684\u83dc\u9e1f\u5b66Python\u7f16\u7a0b\u516c\u4f17\u53f7\uff5e</p> <p>https://bbs.nightteam.cn/thread-423.htm</p>"},{"location":"awesome-reverse-main/js/js-obfuscator/#1unicode16","title":"1.unicode\u621616\u8fdb\u5236\u7684\u5b57\u7b26\u4e32\u6df7\u6dc6\u5982\u4f55\u8fd8\u539f","text":"<p>\u53ef\u4ee5\u770bAST\u4e2d\u5bf9\u5e94Node\u7684Type\u4e3aStringLiteral/NumericLiteral\u7684value\u5c5e\u6027\u4e2d \u90fd\u662f\u771f\u5b9e\u503c\uff0cextra\u5c5e\u6027\u4e2d\u662f\u88ab\u6df7\u6dc6\u540e\u7684\u503c\uff0c\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u5c06type\u7684extra\u5c5e\u6027\u5220\u6389\u3002</p>"},{"location":"awesome-reverse-main/js/js-obfuscator/#2-_0x19882cremovecookietostring-_0x19882cremovecookietostring","title":"2.\u50cf _0x19882c['removeCookie']['toString']() \u5982\u4f55\u8f6c\u6362\u6210 _0x19882c.removeCookie.toString()","text":"<p>\u7ee7\u7eed\u67e5\u770bAST\u4e2d\u5bf9\u5e94\u7684Node\uff0c\u53ef\u4ee5\u53d1\u73b0\u6709\u4e00\u4e2acomputed\u5c5e\u6027\u88ab\u8bbe\u7f6e\u6210\u4e86true\uff0c\u5f53\u6211\u4eec\u8be5\u5c5e\u6027\u6539\u4e3afalse\u5373\u53ef\u3002</p>"},{"location":"awesome-reverse-main/js/js-obfuscator/#3","title":"3.\u81ea\u8c03\u7528\u51fd\u6570\u5982\u4f55\u7b80\u5316","text":"<p>\u81ea\u8c03\u7528\u51fd\u6570\u7684AST\u8282\u70b9\u89c4\u5f8b\uff0cExpresionSatetment &amp;&amp; path.node.type = CallExpression &amp;&amp; path.node.expression.callee == FunctionExpression &amp;&amp; \u65b9\u6cd5\u53c2\u6570\u957f\u5ea6\u4e3a0</p>"},{"location":"awesome-reverse-main/js/js-obfuscator/#4","title":"4.\u63a7\u5236\u6d41\u5e73\u5766\u5316\u5982\u4f55\u8fd8\u539f","text":"<ol> <li>\u89c2\u5bdfswitch\u5206\u53d1\u5668\u7279\u5f81\uff0c\u53ca\u5206\u53d1\u540e\u7684case\u4ee3\u7801\u5757</li> <li>\u786e\u8ba4\u4e86\u5206\u53d1\u89c4\u5219\u540e\uff0c\u8fdb\u884cAST\u5efa\u6a21</li> <li>\u6a21\u62df\u5206\u53d1\u89c4\u5219\uff0c\u5c06\u6bcf\u4e2aStatement\u7ec4\u5408 \u5230\u65b0\u6570\u7ec4\u4e2d</li> <li>\u66ff\u6362\u539fwhile\u8282\u70b9</li> </ol>"},{"location":"awesome-reverse-main/js/js-reverse-entry/","title":"\u5165\u95e8JS\u9006\u5411","text":"<p>\u5728\u9006\u5411JS\u548c\u9006\u5411Java\u65f6\u4f1a\u6709\u51e0\u4e2a\u660e\u663e\u7684\u5dee\u5f02\u611f\u53d7\uff1a * JS\u8c03\u8bd5\u65b9\u4fbf\uff0c\u80fd\u591fDebug\uff0c\u5de5\u5177\u94fe\u7b80\u5355\uff0c\u901a\u5e38\u53ea\u9700chrome\uff0c\u6216\u8005\u52a0\u4e0a\u6293\u5305\u5de5\u5177\u548cchrome\u63d2\u4ef6\u4f5c\u4e2d\u95f4\u4eba\u653b\u51fb\u7684JS\u6ce8\u5165 * JS\u7684\u5f31\u7c7b\u578b\u548c\u8bed\u6cd5\u591a\u6837\u6027\uff0c\u5404\u79cd\u95ed\u5305\u3001\u9017\u53f7\u8868\u8fbe\u5f0f\u7b49\u8bed\u6cd5\u8ba9\u53ef\u8bfb\u6027\u4e0d\u5982Java\u987a\u7545 * JS\u9006\u5411\u4e0d\u9700\u8981\u592a\u591a\u865a\u62df\u673a\u77e5\u8bc6\uff0c\u4f46\u540c\u6837\u9700\u8981\u5f88\u591a\u8010\u5fc3</p>"},{"location":"awesome-reverse-main/js/js-reverse-entry/#js_1","title":"JS\u7b97\u6cd5\u8fd8\u539f\u5e38\u7528\u7684\u4e09\u79cd\u65b9\u5f0f","text":"<p>JS\u9006\u5411\u7684\u76ee\u6807\u5c31\u5728\u4e8e\u5bf9\u65b9\u8bf7\u6c42\u534f\u8bae\u6216\u5173\u952e\u53c2\u6570\u7684\u8fd8\u539f\uff0c\u4e0eAPP\u9006\u5411\u7c7b\u4f3c\uff0c\u8fd9\u91cc\u603b\u7ed3\u4e86\u5e02\u9762\u4e0a\u5e38\u89c1\u7684\u51e0\u79cdJS\u7834\u89e3\u65b9\u6848\u4f9b\u9009\u62e9\uff1a</p> \u7834\u89e3\u65b9\u6848 \u9002\u7528\u573a\u666f \u7279\u6027 \u4e1a\u52a1\u4f7f\u7528DEMO \u767d\u76d2\u8fd8\u539f \u9002\u7528\u4e8e\u7b80\u5355\u7684\u672a\u6df7\u6dc6JS\uff0c\u52a0\u5bc6\u7b97\u6cd5\u7b80\u5355\u6216\u8005\u4e3a\u6807\u51c6\u7684AES\u3001RSA\u7b49 \u5b8c\u5168\u638c\u63a7\u5bf9\u65b9JS\uff0c\u53ef\u76f4\u63a5\u7ffb\u8bd1\u4e3aJava\uff0c\u4f46\u8fd8\u539f\u8fc7\u7a0b\u9700\u8981\u4eba\u5de5\u5206\u6790\uff0c\u8017\u65f6\u53ef\u80fd\u8f83\u957f MT Node\u8fd8\u539f \u5bf9\u65b9JS\u52a0\u5bc6\u7b97\u6cd5\u590d\u6742\u3001\u65e0\u6cd5\u5265\u79bb\uff0c\u4f46\u662f\u52a0\u5bc6\u8fc7\u7a0b\u4e0e\u8bbe\u5907\u6307\u7eb9\u6216\u7528\u6237\u4fe1\u606f\u65e0\u5173 \u4e0erpc\u8c03\u7528\u65b9\u5f0f\u9002\u7528\u573a\u666f\u7c7b\u4f3c\uff0c\u4f46\u5b9e\u73b0\u6bd4RPC\u590d\u6742\uff0c\u9700\u8981\u6a21\u62df\u6d4f\u89c8\u5668\u73af\u5883\uff0c\u4f46\u4f18\u70b9\u5728\u4e8e\u53ef\u76f4\u63a5\u79fb\u690d\u5230JVM\u4e2d\u6267\u884c\uff0c\u65e0\u9700\u7ef4\u62a4\u5b9e\u4f53\u6d4f\u89c8\u5668\u548c\u5176\u4ed6\u89d2\u8272 Ctrip eleven\u53c2\u6570 RPC\u8c03\u7528 \u5bf9\u65b9JS\u52a0\u5bc6\u7b97\u6cd5\u590d\u6742\u3001\u65e0\u6cd5\u5265\u79bb\uff0c\u4f46\u662f\u52a0\u5bc6\u8fc7\u7a0b\u4e0e\u8bbe\u5907\u6307\u7eb9\u6216\u7528\u6237\u4fe1\u606f\u65e0\u5173 \u4e0d\u5173\u6ce8\u5bf9\u65b9\u8fd0\u884c\u8fc7\u7a0b\uff0c\u76f4\u63a5\u901a\u8fc7RPC\u65b9\u5f0f\u8c03\u7528\uff0c\u7834\u89e3\u5feb\u901f\uff0c\u4f46\u4ea4\u4e92\u94fe\u8def\u6d89\u53ca\u591a\u4e2a\u7cfb\u7edf\uff0c\u4e14\u9700\u4fdd\u8bc1\u5b9e\u4f53\u6d4f\u89c8\u5668\u5b58\u6d3b \u6682\u65e0 \u6d4f\u89c8\u5668\u81ea\u52a8\u5316\u6280\u672f \u9002\u7528\u4e8e\u65e0\u6cd5\u7834\u89e3\u7684\u60c5\u51b5\uff0c\u4f8b\u5982\u652f\u4ed8\u5b9d\u652f\u4ed8 \u6700\u63a5\u8fd1\u771f\u4eba\u884c\u4e3a\uff0c\u4f46\u662f\u5b58\u5728\u5f88\u591a\u81ea\u52a8\u5316\u75d5\u8ff9\uff08\u53ef\u7ed5\u8fc7\uff09 \u652f\u4ed8\u5b9dTouch\u6a21\u62df\u652f\u4ed8 <p>\u4e0a\u8ff0\u4e09\u79cd\u7834\u89e3\u65b9\u6848\u5404\u6709\u4e0d\u540c\u7684\u4f7f\u7528\u573a\u666f\u548c\u4f18\u7f3a\u70b9\uff0c\u5728\u7834\u89e3\u96be\u5ea6\u4e0a\u4f9d\u6b21\u964d\u4f4e\uff0c\u4f7f\u7528\u65f6\u53ef\u4ee5\u6839\u636e\u7834\u89e3\u65f6\u95f4\u3001JS\u5206\u6790\u96be\u5ea6\u3001\u98ce\u63a7\u96be\u5ea6\u8fdb\u884c\u9009\u62e9\u3002</p>"},{"location":"awesome-reverse-main/js/js-reverse-entry/#js_2","title":"\u98ce\u9a9a\u7684JS\u8bed\u6cd5\u5fc5\u77e5\u5fc5\u4f1a","text":""},{"location":"awesome-reverse-main/js/js-reverse-entry/#_1","title":"\u95ed\u5305","text":"<p>https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Closures</p> <p>\u4e86\u89e3\u95ed\u5305\u5bf9\u4e8eJS\u9006\u5411\u7684\u597d\u5904\u5728\u4e8e\u53ef\u4ee5\u5feb\u901f\u6eaf\u6e90\u67d0\u4e2a\u53c2\u6570\u7684\u6267\u884c\u8def\u5f84\u548c\u6765\u6e90\uff0c\u56e0\u4e3a\u5728\u5b9e\u9645JS\u4e2d\u4f1a\u9047\u5230\u8bb8\u591a\u95ed\u5305\u624b\u6cd5\u3002</p>"},{"location":"awesome-reverse-main/js/js-reverse-entry/#_2","title":"\u9017\u53f7\u8868\u8fbe\u5f0f","text":"<p>\u5bf9\u5b83\u7684\u6bcf\u4e2a\u64cd\u4f5c\u6570\u6c42\u503c\uff08\u4ece\u5de6\u5230\u53f3\uff09\uff0c\u5e76\u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u64cd\u4f5c\u6570\u7684\u503c\u3002</p> <p>JS\u4e2d\u6700\u5e38\u7528\u7684\u8bed\u6cd5\uff0c\u4f8b\u5982\u5728\u8fd4\u56de\u7ed3\u679c\u65f6\u4f7f\u7528\uff0c\u4f46\u6211\u4eec\u53ea\u9700\u5173\u6ce8\u9017\u53f7\u8868\u8fbe\u5f0f\u4e2d\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u6216\u8868\u8fbe\u5f0f\u7ed3\u679c\u3002</p>"},{"location":"awesome-reverse-main/js/js-reverse-entry/#prototype","title":"\u539f\u578b(Prototype)\u548c\u539f\u578b\u94fe","text":"<p>\u7531\u4e8eJS Prototype\u7684\u5b58\u5728\uff0cJS\u5929\u7136\u5b58\u5728Hook\u6280\u672f\uff0c\u65e0\u9700\u50cf\u5b89\u5353\u4e00\u6837\u57fa\u4e8e\u65b9\u6cd5\u5165\u53e3\u66ff\u6362\u6216\u8005inline hook\u7b49\u6280\u672f\u53bb\u5b9e\u73b0Method Hook\u3002</p>"},{"location":"awesome-reverse-main/js/js-reverse-entry/#nodejs","title":"Node.JS","text":"<p>\u5728\u6211\u4eec\u7684Node\u8fd8\u539f\u7834\u89e3\u65b9\u6848\u4e2d\uff0c\u5176\u4e2d\u5173\u952e\u4e00\u6b65\u5c31\u662f\u5c06\u6d4f\u89c8\u5668\u73af\u5883\u7684JS\u79fb\u690d\u5230Node\u73af\u5883\u4e2d\uff0c\u7531\u4e8eNodeJS\u91c7\u7528\u7684\u5185\u6838\u4e5f\u4e3aV8\u5f15\u64ce\uff0c\u56e0\u6b64\u8fd9\u6b65\u6210\u529f\u4e4b\u540e\uff0c\u5c31\u53ef\u4fdd\u8bc1\u5728Java\u4e2d\u901a\u8fc7V8\u5f15\u64ce\u8c03\u7528\u5bf9\u65b9JS\u7684\u53ef\u884c\u6027\u3002\u540c\u65f6\u7531\u4e8eNode\u6ca1\u6709\u754c\u9762\u6e32\u67d3\uff0c\u56e0\u6b64\u5728\u6d4f\u89c8\u5668\u4e2d\u53ef\u4f7f\u7528\u7684\u4f8b\u5982window\u3001navigator\u3001dom\u7b49\u64cd\u4f5c\u5728node\u662f\u4e0d\u5b58\u5728\u7684\uff0c\u56e0\u6b64\u6240\u4ee5\u5bf9\u4e8eNodeJS\u7684\u73af\u5883\u642d\u5efa\u548c\u6d4f\u89c8\u5668\u73af\u5883\u8865\u9f50\u4e5f\u662fJS\u9006\u5411\u9700\u8981\u638c\u63e1\u7684\u3002</p>"},{"location":"awesome-reverse-main/js/js-reverse-entry/#chrome","title":"Chrome\u8c03\u8bd5\u6280\u5de7","text":"<p>Chrome\u4f5c\u4e3aJS\u9006\u5411\u7684\u6838\u5fc3\u5de5\u5177\uff0c\u719f\u7ec3\u638c\u63e1Chrome\u7684\u63a7\u5236\u53f0\u3001\u63d2\u4ef6\u7f16\u5199\u5c31\u5df2\u7ecf\u8db3\u591f\u5e94\u4ed8\u7edd\u5927\u591a\u6570\u7684\u6293\u5305\u3001JS\u8c03\u8bd5/\u65ad\u7535\u3001Js Hook\u3002</p>"},{"location":"awesome-reverse-main/js/js-reverse-entry/#_3","title":"\u5e38\u7528\u5c0f\u6280\u5de7","text":"<ul> <li>Sources\u9762\u677f\u7684breakpoint\u529f\u80fd</li> <li>console.table\u6253\u5370\u6570\u7ec4</li> <li>copy()\u590d\u5236\u5230\u526a\u5207\u677f</li> <li>Snippets\u4ee3\u7801\u7247\u6bb5</li> <li>debugger \u4e0b\u65ad\u70b9\uff0cJS\u652f\u6301\u901a\u8fc7debugger();\u6765\u4e0b\u65ad\u70b9\uff0c\u4f8b\u5982\u53ef\u80fd\u4f1a\u9047\u5230\u4e00\u79cd\u53cd\u8c03\u8bd5\u63aa\u65bd\u5c31\u662f\u6253\u5f00\u63a7\u5236\u53f0\u65f6\u65e0\u9650\u8df3\u5165debugger\u5c31\u662f\u901a\u8fc7\u8be5\u65b9\u6cd5\u3002</li> </ul>"},{"location":"awesome-reverse-main/js/js-reverse-entry/#network-filter","title":"\u5584\u7528Network Filter\u529f\u80fd","text":"<p> \u9664\u4e86\u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u8fc7\u6ee4\u8bf7\u6c42\u4e4b\u5916\uff0cChrome\u8fd8\u652f\u6301\u5c5e\u6027\u641c\u7d22\uff0c\u4f8b\u5982\u901a\u8fc7cookie-name\u6216cookie-value\u7b49\u8fdb\u884c\u641c\u7d22\u3002</p>"},{"location":"awesome-reverse-main/js/js-reverse-entry/#sourcesbreakpoint","title":"Sources\u9762\u677f\u7684breakpoint\u529f\u80fd","text":"<p>\u5728Sources\u9762\u677f\u7684\u53f3\u4fa7\u6709\u975e\u5e38\u5b9e\u7528\u7684XHR BreakPoints\u548c\u5176\u4ed6DOM\u5143\u7d20\u3001\u4e8b\u4ef6\u7684\u65ad\u70b9\u529f\u80fd\uff0c\u901a\u8fc7XHR\u65ad\u70b9\u53ef\u4ee5\u5feb\u901f\u5728\u76ee\u6807\u63a5\u53e3\u8bf7\u6c42\u65f6debug\u4f4f\uff0c\u7136\u540e\u901a\u8fc7\u8c03\u7528\u6808\u56de\u6eaf\u5176\u4e2d\u67d0\u4e2a\u53c2\u6570\u7684\u751f\u6210\u903b\u8f91\u3002\u4f8b\u5982\uff1a</p> <p></p>"},{"location":"awesome-reverse-main/js/js-reverse-entry/#dom","title":"DOM\u5143\u7d20\u53d8\u66f4\u76d1\u542c","text":"<p>\u5176\u4ed6\u4f8b\u5982DOM\u5143\u7d20\u53d8\u66f4\u7684\u76d1\u542c\u65ad\u70b9\u529f\u80fd\u53ef\u4ee5\u7528\u4e8e\u76d1\u542c\u9875\u9762\u4e0a\u67d0\u4e2a\u7ec4\u4ef6\u7684\u503c\u53d1\u751f\u53d8\u66f4\u65f6\u81ea\u52a8\u4e0b\u65ad\u70b9\uff0c\u5177\u4f53\u53ef\u4ee5\u5148\u5728Element\u9762\u677f\u4e2d\u627e\u5230\u5bf9\u5e94\u5143\u7d20\u7ec4\u4ef6\uff0c\u7136\u540e\u53f3\u952e\u6e90\u4ee3\u7801 -&gt; brean on -&gt; attribute modifications\u3002</p>"},{"location":"awesome-reverse-main/js/js-reverse-entry/#dom_1","title":"DOM\u5143\u7d20\u4e8b\u4ef6\u7ed1\u5b9a\u51fd\u6570\u5b9a\u4f4d","text":"<p>\u5982\u679c\u60f3\u8981\u627e\u5230\u76ee\u6807\u5143\u7d20\u7ec4\u4ef6\u7684\u70b9\u51fb\u4e8b\u4ef6\u6240\u7ed1\u5b9a\u7684\u4e8b\u4ef6\u51fd\u6570\u4f8b\u5982onClick\u51fd\u6570\uff0c\u53ef\u4ee5\u540c\u6837\u5728Elements\u9762\u677f\u4e2d\u627e\u5230\u5bf9\u5e94\u5143\u7d20\u540e\uff0c\u5728\u53f3\u8fb9\u90e8\u5206\u70b9\u51fbEvent Listeners\u627e\u5230\u8be5\u5143\u7d20\u7ed1\u5b9a\u7684\u6240\u6709\u4e8b\u4ef6\u3002\u4f8b\u5982\uff1a</p> <p></p>"},{"location":"awesome-reverse-main/js/js-reverse-entry/#jshook","title":"JS\u6ce8\u5165\u53caHook","text":"<p>\u5b89\u5353\u7684\u9006\u5411\u57fa\u7840\u5728\u4e8eHook\uff0c\u5728JS\u4e2d\u4e5f\u4f1a\u9700\u8981\u7528\u5230Hook\u6280\u672f\uff0c\u4f8b\u5982\u5f53\u60f3\u5206\u6790\u67d0\u4e2aCookie\u662f\u5982\u4f55\u751f\u6210\u65f6\uff0c\u5982\u679c\u60f3\u901a\u8fc7\u76f4\u63a5\u4ece\u4ee3\u7801\u91cc\u641c\u7d22\u8be5Cookie\u7684\u540d\u79f0\u6765\u627e\u5230\u751f\u6210\u903b\u8f91\uff0c\u53ef\u80fd\u4f1a\u9700\u8981\u5ba1\u8ba1\u975e\u5e38\u591a\u7684\u4ee3\u7801\u3002\u6211\u4eec\u90fd\u77e5\u9053JS Cookie\u8bbe\u7f6e\u90fd\u662f\u901a\u8fc7document.cookie=xxx\u6765\u8d4b\u503c\uff0c\u8fd9\u4e2a\u65f6\u5019\uff0c\u5982\u679c\u6709\u4e00\u79cdJS HOOK\u6280\u672f\uff0c\u80fd\u591fhook document.cookie\u7684set\u65b9\u6cd5\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u6253\u5370\u5f53\u65f6\u7684\u8c03\u7528\u65b9\u6cd5\u5806\u6808\u6216\u8005\u76f4\u63a5\u4e0b\u65ad\u70b9\u6765\u5b9a\u4f4d\u5230\u8be5cookie\u7684\u751f\u6210\u4ee3\u7801\u4f4d\u7f6e\u3002</p> <p>\u524d\u9762\u63d0\u5230JS\u539f\u578bPrototype\u5929\u7136\u652f\u6301Hook\uff0c\u901a\u8fc7\u539f\u578b\u6211\u4eec\u53ef\u4ee5\u66f4\u6539\u5bf9\u8c61\u7684\u5b57\u6bb5\u3001\u65b9\u6cd5\u5c5e\u6027\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u91cd\u5199document.cookie\u7684get/set\u65b9\u6cd5\u6765hook cookie\uff1a <pre><code>// \u6ce8\u610f\u7f13\u5b58\u539f\u6765\u7684cookie\nvar cookie_cache = document.cookie ? document.cookie : \"\";\nObject.defineProperty(document, 'cookie', {\n        get: function() {\n            console.log('Getting cookie:'+this._value);\n            return cookie_cache;\n        },\n        set: function(val) {\n            console.log('Setting cookie', val);\n            debugger;\n            var cookie = val.split(\";\")[0];\n            var ncookie = cookie.split(\"=\");\n            var flag = false;\n            var cache = cookie_cache.split(\"; \");\n            cache = cache.map(function(a){\n                if (a.split(\"=\")[0] === ncookie[0]){\n                    flag = true;\n                    return cookie;\n                }\n                return a;\n            })\n            cookie_cache = cache.join(\"; \");\n            if (!flag){\n                cookie_cache += cookie + \"; \";\n            }\n            this._value = val;\n            return cookie_cache;\n        },\n    });\n</code></pre></p> <p>\u901a\u8fc7\u4e0a\u8ff0\u7684\u4ee3\u7801\u53ef\u4ee5\u5b8c\u6210JS Hook\u7684\u64cd\u4f5c\uff0c\u4f46\u662f\u53c8\u8981\u5982\u4f55\u53bb\u4fee\u6539\u7684\u5bf9\u65b9JS\u4ee3\u7801\u5462\uff1f\u5982\u679c\u8bf4\u6211\u4eec\u9700\u8981Hook\u7684\u65b9\u6cd5\u8c03\u7528\u65f6\u673a\u662f\u5728\u9875\u9762\u5df2\u7ecf\u52a0\u8f7d\u5b8c\u6210\u540e\uff0c\u6211\u4eec\u751a\u81f3\u53ef\u4ee5\u901a\u8fc7\u63a7\u5236\u53f0\u6765\u6267\u884c\u6211\u4eec\u7684hook\u811a\u672c\uff0c\u4f46\u662f\u7edd\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u6240\u9700\u8981hook\u7684\u65b9\u6cd5\u7684\u65f6\u673a\u90fd\u662f\u5728\u9875\u9762\u52a0\u8f7d\u65f6\u8c03\u7528\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u5728\u5bf9\u65b9JS\u6267\u884c\u4e4b\u524d\u52a0\u8f7d\u6211\u4eec\u7684Hook\u811a\u672c\u3002\u8fd9\u91cc\u63d0\u4f9b\u4e09\u79cd\u65b9\u6848\u4f9b\u9009\u62e9\uff1a - Charles\u6293\u5305\u5e76\u65ad\u70b9\uff0c\u5728response\u4e2d\u624b\u52a8\u6dfb\u52a0\u6211\u4eec\u7684js\u5728html\u5f00\u5934\u5904 - ReRes\u63d2\u4ef6\u91cd\u5b9a\u5411JS\u6587\u4ef6\uff0c\u5c06\u5bf9\u65b9\u7684html\u91cd\u5b9a\u5411\u81f3\u6211\u4eec\u672c\u5730\u7684\u4fee\u6539\u540e\u9644\u5e26hook\u811a\u672c\u7684html - \u6cb9\u7334\u811a\u672c\u7684\u65b9\u5f0f\uff08\u63a8\u8350\uff0c\u6700\u65b9\u4fbf\uff09</p> <p>\u540e\u4e24\u79cd\u5b9e\u9645\u4e0a\u90fd\u662f\u901a\u8fc7Chrome\u63d2\u4ef6\u7684\u65b9\u5f0f\u6765\u5b8c\u6210JS\u6ce8\u5165\uff0c\u5728\u719f\u7ec3\u4e4b\u540e\u6211\u4eec\u4e5f\u53ef\u4ee5\u81ea\u5df1\u7f16\u5199Chrome\u63d2\u4ef6\u5de5\u5177\u6765\u5b8c\u6210JS\u6ce8\u5165\u548cHook\u548c\u52a0\u5feb\u5206\u6790\u901f\u5ea6\u3002\u8fd9\u91cc\u4ecb\u7ecd\u4e00\u4e0b\u6cb9\u7334\u811a\u672c\u7684\u7f16\u5199\u65b9\u5f0f\uff0c\u4f7f\u7528\u65b9\u5f0f\u53ef\u53c2\u8003\uff1a</p> <p>https://sspai.com/post/40485</p>"},{"location":"awesome-reverse-main/js/js-reverse-entry/#_4","title":"\u6cb9\u7334\u811a\u672c\u793a\u4f8b","text":"<p>@run-at document-start\u610f\u601d\u4e3a\u5728document\u52a0\u8f7d\u65f6\u8fdb\u884c\u6ce8\u5165\u811a\u672c <pre><code>// ==UserScript==\n// @name         Hook global\n// @namespace    http://tampermonkey.net/\n// @version      0.1\n// @description  hook cookie get/set\u65b9\u6cd5\n// @author       alienhe\n// @include      *\n// @grant        none\n// @run-at       document-start\n// ==/UserScript==\n\n(function() {\n    'use strict';\n    var cookie_cache = document.cookie ? document.cookie : \"\";\n    Object.defineProperty(document, 'cookie', {\n        get: function() {\n            console.log('Getting cookie:'+this._value);\n            return cookie_cache;\n        },\n        set: function(val) {\n            console.log('Setting cookie', val);\n            debugger;\n            var cookie = val.split(\";\")[0];\n            var ncookie = cookie.split(\"=\");\n            var flag = false;\n            var cache = cookie_cache.split(\"; \");\n            cache = cache.map(function(a){\n                if (a.split(\"=\")[0] === ncookie[0]){\n                    flag = true;\n                    return cookie;\n                }\n                return a;\n            })\n            cookie_cache = cache.join(\"; \");\n            if (!flag){\n                cookie_cache += cookie + \"; \";\n            }\n            this._value = val;\n            return cookie_cache;\n        },\n    });\n})();\n</code></pre></p>"},{"location":"awesome-reverse-main/js/jvm-js-execute-engine/","title":"JVM\u4e2d\u7684JS\u6267\u884c\u5f15\u64ce","text":"<p>\u5728JVM\u4e2d\uff0c\u5e38\u7528\u7684JS\u5f15\u64ce\u6709Google V8\u548cJDK8\u4e4b\u540e\u81ea\u5e26\u7684Nashorn\u3002\u7136\u800cV8\u4f7f\u7528C++\u5f00\u53d1\uff0c\u82e5\u60f3\u8981\u5728JVM\u4e2d\u4f7f\u7528\uff0c\u5219\u9700\u8981\u7f16\u5199JNI\u65b9\u6cd5\uff0c\u56e0\u6b64\u4e00\u822c\u63a8\u8350\u4f7f\u7528J2V8\uff0c\u8be5\u5e93\u5df2\u7ecf\u5e2e\u6211\u4eec\u5c01\u88c5\u597d\u5e38\u7528\u7684API\uff0c\u4f46\u662f\u4e00\u4e9b Native \u7684\u4e00\u4e9b\u53e5\u67c4\u5bf9\u8c61\u5982\u679c\u4e0d\u518d\u4f7f\u7528\u7684\u65f6\u5019\u4ecd\u7136\u9700\u8981\u6211\u4eec\u8c03\u7528 release() \u53bb\u91ca\u653e\u5b83\u4eec\u3002</p>"},{"location":"awesome-reverse-main/js/jvm-js-execute-engine/#j2v8nashorn","title":"J2V8\u548cNashorn\u7684\u5bf9\u6bd4","text":"\u5f15\u64ce \u4f18\u70b9 \u7f3a\u70b9 J2V8 \u57fa\u4e8eV8\uff0c\u652f\u6301Node\u73af\u5883\u7684\u8fc1\u79fb \u4e0d\u540c\u7cfb\u7edfLINUX/WINDOWS/MACOS\u6240\u4f9d\u8d56\u7684POM\u7248\u672c\u4e0d\u540c Nashorn JDK\u81ea\u5e26\uff0c\u4e0d\u7528\u5f15\u5165\u5176\u4ed6\u4f9d\u8d56 JS\u89e3\u6790\u6267\u884c\u4e0eV8\u53ef\u80fd\u6709\u5dee\u5f02\uff0c\u9879\u76ee\u4e2d\u9047\u5230\u8fc7\u5728J2V8\u4e2d\u6b63\u5e38\u800cNashorn\u65e0\u6cd5\u6267\u884c\u7684\u95ee\u9898"},{"location":"awesome-reverse-main/js/jvm-js-execute-engine/#j2v8-quick-start","title":"J2V8 Quick Start","text":"<p>\u7531\u4e8eJ2V8\u7684\u76f8\u5173\u6587\u6863\u8f83\u5c11\uff0c\u56e0\u6b64\u8fd9\u91cc\u5217\u51fa\u5728\u9879\u76ee\u4e2d\u5e38\u7528\u7684API\u53ca\u6ce8\u610f\u4e8b\u9879\u3002</p>"},{"location":"awesome-reverse-main/js/jvm-js-execute-engine/#v8","title":"\u521b\u5efaV8\u8fd0\u884c\u65f6","text":"<p>\u8981\u4f7f\u7528J2V8\uff0c\u5fc5\u987b\u9996\u5148\u521b\u5efa\u4e00\u4e2aV8\u8fd0\u884c\u65f6\u73af\u5883\uff0cJ2V8\u4e3a\u6b64\u63d0\u4f9b\u4e86\u4e00\u4e2a\u9759\u6001\u5de5\u5382\u65b9\u6cd5\u3002\u5728\u521b\u5efa\u4e00\u4e2a\u8fd0\u884c\u65f6\u73af\u5883\u65f6\uff0c\u540c\u65f6\u4e5f\u4f1a\u52a0\u8f7dJ2V8\u7684\u672c\u5730\u5e93\u3002 <pre><code>V8 runtime = V8.createV8Runtime();\n</code></pre></p>"},{"location":"awesome-reverse-main/js/jvm-js-execute-engine/#js","title":"\u6267\u884cJS\u811a\u672c","text":"<p>V8\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7684execute*\u65b9\u6cd5\uff0c\u53ef\u4ee5\u8fd4\u56de\u4e0d\u540c\u7c7b\u578b\u7684\u7ed3\u679c\uff0c\u53c2\u6570\u7684\u6838\u5fc3\u662f\u4e00\u4e2aString\u7c7b\u578b\u7684JS\u811a\u672c\u5b57\u7b26\u4e32\u3002</p>"},{"location":"awesome-reverse-main/js/jvm-js-execute-engine/#javajs","title":"\u5728Java\u4e2d\u83b7\u53d6JS\u4e2d\u7684\u5bf9\u8c61\u53e5\u67c4","text":"<p>V8Object\u662f\u5e95\u5c42JS\u4e2d\u7684\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7V8#getObject(String)\u65b9\u6cd5\u6765\u83b7\u53d6\u3002</p>"},{"location":"awesome-reverse-main/js/jvm-js-execute-engine/#javajs_1","title":"\u5728Java\u4e2d\u8c03\u7528JS\u4e2d\u7684\u51fd\u6570","text":"<p>\u8c03\u7528JS\u4e2d\u7684\u51fd\u6570\u4e0e\u83b7\u53d6JS\u4e2d\u7684\u5bf9\u8c61\u7c7b\u4f3c\uff0c\u9996\u5148\u83b7\u53d6\u65b9\u6cd5\u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u5176\u6b21\u901a\u8fc7\u8fd9\u4e2a\u5bf9\u8c61\u53e5\u67c4\u8c03\u7528execteFunction\u7cfb\u5217\u65b9\u6cd5\u6765\u5b8c\u6210\u51fd\u6570\u8c03\u7528\uff0c\u82e5\u9700\u8981\u4f20\u9012\u65b9\u6cd5\u53c2\u6570\uff0c\u5219\u9700\u8981\u4f7f\u7528V8Array\u5bf9\u8c61\u3002\u4f8b\u5982\uff1a <pre><code>    V8Object v8Bridge = v8.getObject(\"bridge\");\n    params = new V8Array(v8).push(canvasData).push(userAgent).push(elevenJs);\n    String res = v8Bridge.executeStringFunction(\"getEleven\", params);\n</code></pre></p>"},{"location":"awesome-reverse-main/js/jvm-js-execute-engine/#jsjava","title":"\u5728JS\u4e2d\u8c03\u7528Java\u4e2d\u7684\u51fd\u6570","text":"<p>\u5728JS\u4e2d\u4e5f\u662f\u540c\u6837\u53ef\u4ee5\u5b9e\u73b0\u8c03\u7528Java\u4e2d\u7684\u51fd\u6570\uff0c\u8fd9\u79cd\u64cd\u4f5c\u5728WebView\u4e2d\u975e\u5e38\u5e38\u89c1\uff0c\u5373JsBridge\u3002\u5728V8\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7V8#registerJavaMethod\u6765\u5411JS\u6ce8\u518cJava\u65b9\u6cd5\uff0c\u5728JS\u4e2d\u5c31\u53ef\u4ee5\u8c03\u7528\u8be5Java\u65b9\u6cd5\u4e86\u3002\u4f8b\u5982\u5728js\u4e2d\u6ce8\u518c\u4e00\u4e2a\u6253\u5370\u65e5\u5fd7\u7684\u65b9\u6cd5\uff1a <pre><code>V8 runtime = V8.createV8Runtime();\n            runtime.executeVoidScript(initJs);\n            runtime.registerJavaMethod((v8Object, parameters) -&gt; {\n                if (parameters.length() &gt; 0) {\n                    Object arg1 = parameters.get(0);\n                    System.out.println(arg1);\n                    if (arg1 instanceof Releasable) {\n                        ((Releasable) arg1).release();\n                    }\n                }\n            }, \"log\");\n</code></pre></p>"},{"location":"awesome-reverse-main/js/jvm-js-execute-engine/#_1","title":"\u591a\u7ebf\u7a0b\u95ee\u9898","text":"<p>J2V8\u4e2d\u662f\u652f\u6301\u591a\u7ebf\u7a0b\u7684\uff0c\u56e0\u6b64\u5728\u8bb8\u591a\u65b9\u6cd5\u4e2d\u90fd\u52a0\u5165\u4e86\u7ebf\u7a0b\u7684\u5224\u65ad\uff0c\u4f46\u8fd9\u4e5f\u5bfc\u81f4\u4e86\u5728\u4e0d\u540c\u7ebf\u7a0b\u65e0\u6cd5\u4e92\u76f8\u8bbf\u95eeV8runtime\uff0c\u56e0\u6b64\u5728Ctrip eleven\u9879\u76ee\u4e2d\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u521b\u5efa\u4e86\u4e00\u4e2aV8\u8fd0\u884c\u65f6\u3002</p>"},{"location":"awesome-reverse-main/qcontainer/device-fingerprint/","title":"\u5e38\u89c1\u7684\u98ce\u63a7\u4f53\u7cfb","text":"<p>\u4e00\u822c\u98ce\u63a7\u4f53\u7cfb\u4f1a\u5206\u4e3a\u4e09\u5c42\u7ed3\u6784\u6765\u8986\u76d6\u548c\u8d2f\u7a7f\u4e1a\u52a1\u5168\u6d41\u7a0b\u7684\u52a8\u6001\u9632\u63a7\u80fd\u529b\uff0c\u5728\u7ec8\u7aef\u8bbe\u5907\u4e0a\uff0c\u901a\u8fc7\u8bbe\u5907\u6307\u7eb9\u4f53\u7cfb\u8fdb\u884c\u8bbe\u5907\u4fe1\u606f\u91c7\u96c6\u3001\u7ec8\u7aef\u667a\u80fd\u8ba1\u7b97\u548c\u4e91\u7aef\u7684\u98ce\u9669\u5206\u6790\uff0c\u4e3a\u6bcf\u4e00\u4e2a\u7528\u6237\u7684\u8bbe\u5907\u751f\u6210\u4e30\u5bcc\u7684\u98ce\u9669\u6807\u7b7e\u4f9b\u4e1a\u52a1\u51b3\u7b56\u4f7f\u7528\u3002\u5728\u7528\u6237\u64cd\u4f5c\u4e1a\u52a1\u8fc7\u7a0b\u4e2d\uff0c\u901a\u8fc7\u51b3\u7b56\u5f15\u64ce\u4e3a\u6bcf\u4e00\u7b14\u4ea4\u6613\u8ba1\u7b97\u98ce\u9669\u7b49\u7ea7\u3002\u4e3a\u4e86\u4fdd\u8bc1\u51b3\u7b56\u5f15\u64ce\u7b56\u7565\u7684\u4e30\u5bcc\u5ea6\u548c\u9ad8\u6548\u7387\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b9e\u65f6\u8ba1\u7b97\u7cfb\u7edf\u505a\u6307\u6807\u8ba1\u7b97\uff0c\u51b3\u7b56\u5f15\u64ce\u53ef\u4ee5\u901a\u8fc7\u5404\u7c7b\u6307\u6807\u5feb\u901f\u5b8c\u6210\u5168\u5c40\u7b56\u7565\u7684\u8ba1\u7b97\u3002\u5f53\u6b3a\u8bc8\u6848\u4ef6\u53d1\u751f\u65f6\uff0c\u6211\u4eec\u4f1a\u5f62\u6210\u5b8c\u6574\u7684\u5206\u6790\u7ed3\u8bba\u5e76\u6574\u7406\u5230\u6848\u4ef6\u5e93\uff0c\u540c\u65f6\u5bf9\u76f8\u5173\u8bc1\u636e\u505a\u6eaf\u6e90\u548c\u5b58\u8bc1\uff0c\u7528\u4e8e\u540e\u7eed\u53ef\u80fd\u7684\u53f8\u6cd5\u6d41\u7a0b\u3002</p> <p>\u98ce\u63a7\u7ed3\u6784\uff1a - \u7ec8\u7aef\u98ce\u63a7   - \u8bbe\u5907\u6307\u7eb9   - \u751f\u7269\u63a2\u9488   - \u667a\u80fd\u9a8c\u8bc1\u7801 - \u5206\u6790\u51b3\u7b56   - \u5b9e\u65f6\u6307\u6807\u8ba1\u7b97   - \u98ce\u9669\u6001\u52bf\u611f\u77e5 - \u6570\u636e\u753b\u50cf/\u60c5\u62a5\u5a01\u80c1   - \u9ed1\u4ea7\u4e8b\u4ef6\u4fe1\u606f   - \u9ed1\u4ea7\u8d44\u6e90\u6570\u636e\u5e93   - IP\u9ed1\u540d\u5355   - \u8bbe\u5907\u753b\u50cf</p>"},{"location":"awesome-reverse-main/qcontainer/device-fingerprint/#_2","title":"\u4e3b\u52a8\u5f0f\u4e0e\u88ab\u52a8\u5f0f\u8bbe\u5907\u6307\u7eb9","text":"<p>\u4e3b\u52a8\u5f0f\u7684\u65b9\u6cd5\u662f\u901a\u8fc7SDK\uff08App\uff09/JS\u4e3b\u52a8\u6536\u96c6\u8bbe\u5907\u7279\u5f81\u4fe1\u606f\uff0c\u6839\u636e\u7b97\u6cd5\u751f\u6210\u552f\u4e00\u7684\u8bbe\u5907\u6307\u7eb9ID\u3002\u8fd9\u79cd\u65b9\u5f0f\u7684\u4f18\u70b9\u662f\u51c6\u786e\u7387\u76f8\u5bf9\u8f83\u9ad8\uff0c\u4f46\u56e0\u9690\u79c1\u548c\u5b89\u5168\u6027\u800c\u53d7\u9650\u5236\uff0c\u800c\u4e14\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\uff0c\u5728\u6570\u636e\u9690\u79c1\u5b89\u5168\u4fdd\u62a4\u8d8a\u6765\u8d8a\u4e25\u683c\u7684\u5927\u8d8b\u52bf\u4e0b\u9650\u5236\u53ef\u80fd\u4f1a\u8d8a\u6765\u8d8a\u591a\u3002\u8be5\u65b9\u5f0f\u7684\u53e6\u4e00\u4e2a\u7f3a\u70b9\u662f\u4e0d\u80fd\u8de8app\u548c\u6d4f\u89c8\u5668\u8bc6\u522b\uff0c\u800c\u4e14\u76f8\u5173\u8bbe\u5907\u6570\u636e\u6613\u88ab\u7be1\u6539\u3002</p> <p>\u88ab\u52a8\u5f0f\u7684\u65b9\u6cd5\u662f\u57fa\u4e8e\u901a\u4fe1OSI\u534f\u8bae\u6808\u3001\u7f51\u7edc\u72b6\u6001\u7279\u5f81\u7b49\u8bc6\u522b\uff08\u6570\u636e\u62a5\u6587\uff09\uff0c\u7ed3\u5408\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u6765\u5bf9\u8bbe\u5907\u8fdb\u884c\u8ddf\u8e2a\u548c\u6807\u8bb0\u3002\u8be5\u65b9\u5f0f\u4ec5\u6536\u96c6\u7528\u6237\u5141\u8bb8\u7684\u516c\u5f00\u4fe1\u606f\uff0c\u5b58\u5728\u6280\u672f\u58c1\u5792\uff0c\u90e8\u5206\u9886\u57df\u51c6\u786e\u7387\u8f83\u9ad8\uff0c\u4f46\u4ece\u4e1a\u754c\u5b9e\u8df5\u6765\u770b\uff0c\u5176\u51c6\u786e\u5ea6\u53d7\u5230\u65f6\u95f4\u7ef4\u5ea6\u9650\u5236\u3002</p> <p>\u6df7\u5408\u5f0f\u7684\u65b9\u6cd5\u5728\u8bc6\u522b\u7387\u3001\u5e94\u7528\u573a\u666f\u548c\u5bf9\u6297\u6027\u4e09\u65b9\u9762\u5e73\u8861\u4e86\u4e3b\u52a8\u5f0f\u548c\u88ab\u52a8\u5f0f\u7684\u65b9\u6cd5\u3002</p> <p>https://sec.zto.com/blog/R23Byx3jEemMXABQVoQXxQ https://blog.51cto.com/12755572/2049360</p>"},{"location":"awesome-reverse-main/qcontainer/device-fingerprint/#_3","title":"\u751f\u7269\u63a2\u9488","text":"<p>\u4e0d\u540c\u4e8e\u8bbe\u5907\u6307\u7eb9\u901a\u8fc7\u91c7\u96c6\u786c\u4ef6\u4fe1\u606f\uff0c\u751f\u7269\u63a2\u9488\u4e3b\u8981\u662f\u641c\u96c6\u7528\u6237\u884c\u4e3a\uff0c\u4f8b\u5982\u91c7\u96c6\u7528\u6237\u4f7f\u7528\u667a\u80fd\u7ec8\u7aef\u8bbe\u5907\uff08\u5982\u624b\u673a\u3001\u7535\u8111\u7b49\uff09\u65f6\u7684\u4f20\u611f\u5668\u6570\u636e\u548c\u5c4f\u5e55\u8f68\u8ff9\u6570\u636e\uff0c\u7136\u540e\u901a\u8fc7\u7279\u5f81\u5de5\u7a0b\u3001\u673a\u5668\u5b66\u4e60\uff0c\u4e3a\u6bcf\u4e00\u4f4d\u7528\u6237\u5efa\u7acb\u591a\u7ef4\u5ea6\u7684\u751f\u7269\u884c\u4e3a\u7279\u5f81\u6a21\u578b\uff0c\u751f\u6210\u7528\u6237\u4e13\u5c5e\u753b\u50cf\u8fdb\u884c\u4eba\u673a\u8bc6\u522b\u3001\u672c\u4eba\u8bc6\u522b\u3002</p> <p>\u56e0\u6b64\u751f\u7269\u63a2\u9488\u7c7b\u578b\u5728\u6a21\u62df\u4e0a\u66f4\u52a0\u590d\u6742\uff0c\u4e3b\u8981\u662f\u4f20\u611f\u5668\u6570\u636e\u7684\u641c\u96c6\uff0c\u7528\u4e8e\u751f\u6210\u7528\u6237\u7684\u4e00\u4e9b\u7528\u673a\u4e60\u60ef\uff0c\u4f8b\u5982\u8bbe\u5907\u4ef0\u89d2\u3001\u6301\u673a\u624b\u52bf\u3001\u89e6\u6478\u529b\u5ea6\u7b49\uff0c\u8fd9\u4e9b\u5bf9\u4e8e\u4e00\u4e9b\u624b\u673a\u5899\u7684\u7fa4\u63a7\u8bbe\u5907\u53ef\u80fd\u662f\u81f4\u547d\u7279\u5f81\u3002</p>"},{"location":"awesome-reverse-main/qcontainer/device-fingerprint/#app","title":"\u4e8c\u3001APP\u4e3b\u52a8\u5f0f\u8bbe\u5907\u6307\u7eb9","text":"<p>\u8fd9\u91cc\u5217\u4e3e\u51e0\u79cdQContainer\u4e2d\u6d89\u53ca\u4f46\u4e0d\u9650\u4e8e\u7684\u5e38\u89c1\u7684\u8bbe\u5907\u6307\u7eb9\uff1a</p> <ul> <li> \u5730\u7406\u4f4d\u7f6e\uff08GPS&amp;\u57fa\u7ad9&amp;WIFI\u5b9a\u4f4d&amp;\u8fd0\u8425\u5546\u63d0\u4f9b\u7684API\u63a5\u53e3\u5b9a\u4f4d\uff09</li> <li> iccSerialNumber subscriberId line1Number imei(imei\u6709\u6821\u9a8c\u89c4\u5219) meid</li> <li> WIFI\u4fe1\u606f\uff08Wifi\u540d\u79f0\u3001BSSID\u3001WIFI\u7f51\u5361MAC\u5730\u5740[wlan0\u3001eth0\u3001/sys/class/net/wlan0/address]\uff09</li> <li> \u4f20\u611f\u5668\u5217\u8868</li> <li> \u5a92\u4f53\u5b58\u50a8\uff08\u56fe\u5e93\u548c\u97f3\u4e50\uff09</li> <li> \u5e94\u7528\u5217\u8868&amp;\u98ce\u9669\u5e94\u7528\u5c4f\u853d</li> <li> \u84dd\u7259</li> <li> SystemProperties#get</li> <li> \u7cfb\u7edf\u4fe1\u606f\uff08build.prop\uff09</li> <li> \u5c4f\u5e55\u4eae\u5ea6</li> <li> \u7535\u6c60\u7535\u91cf&amp;\u5145\u7535\u72b6\u6001</li> <li>APP\u77e9\u9635\uff08ContentProvider\uff09</li> <li> \u5f00\u673a\u65f6\u95f4 &amp;  APP\u5b89\u88c5\u65f6\u95f4</li> <li> VPN\u68c0\u6d4b\uff0c\u5305\u62ecconnectivityManager NetworkCapabilities\u7684\u548cNetworkInterface tun0 pptp0\u548cLinux\u6587\u4ef6/sys/class/net/tun0</li> <li>\u5b58\u50a8\u7a7a\u95f4\u6cc4\u6f0f\uff1a sdcard\u4ea4\u6362\u6587\u4ef6\uff08\u89c1app\u77e9\u9635\u8054\u76df\uff09\uff0csdcard\u5b58\u50a8id,\u5185\u90e8\u6587\u4ef6\u4fee\u6539\u6743\u9650\u4e3a777(\u4f4e\u7248\u672c\u624b\u673aSeLinux\u6ca1\u6709\u9650\u5236)</li> <li>app\u7533\u8bf7android.provider.Settings.System\u5199\u5165\u6743\u9650\u540e\uff0c\u53ef\u4ee5\u5f80android.provider.Settings.System\u5199\u5165ID</li> <li>\u79fb\u52a8\u5b89\u5168\u8054\u76df\u8865\u5145\u8bbe\u5907ID\u5982OAID\u7b49 </li> </ul> <p> * [x] \u624b\u673a\u5e8f\u5217\u53f7 \u4e0d\u540c\u7248\u672c\u7684Android\u5e8f\u5217\u53f7\u83b7\u53d6\u59ff\u52bf\u4e0d\u4e00\u6837\uff0c\u8003\u8651\u591a\u79cd\u7248\u672c\u7684\u5e8f\u5217\u53f7\u62e6\u622a\u65b9\u6848 * app\u77e9\u9635\uff0c\u4e5f\u5373\u591a\u4e2aapp\u76f8\u4e92\u5f00\u653e\u63a5\u53e3\u901a\u4fe1\uff0c\u5b9e\u73b0\u8bbe\u5907\u53f7\u4ea4\u6362\u3002 * \u540c\u4e00\u4e2a\u96c6\u56e2\u7684\u5404\u79cdapp\u8fdb\u884cID\u4ea4\u6362\uff0c\u5982\u5934\u6761\u7cfb * \u7b2c\u4e09\u65b9sdk\u76f8\u4e92\u901a\u4fe1\uff0c\u8fdb\u884cID\u4ea4\u4e92\uff0c\u5982\u53cb\u76df\uff0c\u767e\u5ea6\u5b9a\u4f4d * Android\u5b98\u65b9\u7684accountManager\uff0c\u53ef\u4ee5\u5b58\u50a8\u8d26\u53f7\u6570\u636e\uff0c\u5982\u7cfb\u7edf\u90ae\u4ef6\u8d26\u53f7 * \u547d\u4ee4\u884c\u7ed5\u8fc7\uff0c\u5982linux\u547d\u4ee4,echo \"the_id\" &gt; /sdcard/m_id   \u91cd\u542f\u540e :cat /sdcard/m_id</p>"},{"location":"awesome-reverse-main/qcontainer/qconatiner-scheduler/","title":"QContainer\u5b9a\u65f6\u8c03\u5ea6\u4efb\u52a1","text":"<p>QContainer\u8c03\u5ea6\u4efb\u52a1\u6846\u67b6\u662f\u5bf9\u6807\u5e73\u5934\u54e5\u7684\u8c03\u5ea6\u4efb\u52a1\u529f\u80fd\u7684\u57fa\u7840\u4e0a\u5f00\u53d1\u800c\u6210\uff0c\u4e3a\u4ee3\u7801\u70b9\u51fbUI\u9a71\u52a8\u63d0\u4f9b\u4e86\u8131\u79bb\u7535\u8111USB\u63a7\u5236\u7684\u529f\u80fd\uff0c\u76ee\u524d\u5df2100%\u5b9e\u73b0\u4e86\u5e73\u5934\u54e5\u7684\u8c03\u5ea6\u4efb\u52a1\u529f\u80fd\uff1a</p> <ul> <li>cron\u8868\u8fbe\u5f0f\u914d\u7f6e</li> <li>\u652f\u6301\u8c03\u5ea6\u53c2\u6570\u4f20\u9012</li> <li>\u65e0\u9700root</li> <li>\u65e0\u9700\u5f15\u5165\u5176\u4ed6APK\uff0c\u4e0e\u5e73\u5934\u54e5\u6216QContainer\u5929\u7136\u96c6\u6210</li> <li>\u65e0\u9700\u5176\u4ed6\u8bbe\u5907\u652f\u6301\uff0c\u4ec5\u9700\u8981\u624b\u673a</li> <li>\u5e76\u4e14\u5728\u7ec6\u8282\u4e0a\u8fdb\u884c\u4e86\u5b8c\u5584\uff1a</li> <li>\u8bbe\u8ba1\u4e0a\u652f\u6301\u8fdb\u7a0b\u7c92\u5ea6\u7ea7\u522b\u7684\u5b9a\u65f6\u4efb\u52a1\u914d\u7f6e</li> <li>\u4efb\u52a1\u53d6\u6d88\u903b\u8f91\uff08\u907f\u514d\u5524\u9192APP\uff09</li> <li>\u53ef\u5b9a\u5236\u6e90\u7801</li> </ul>"},{"location":"awesome-reverse-main/qcontainer/qconatiner-scheduler/#_1","title":"\u6846\u67b6\u8bbe\u8ba1","text":"<p>\u8003\u8651\u4efb\u52a1\u957f\u671f\u7a33\u5b9a\u6267\u884c,(app\u4fdd\u6d3b\uff0c\u8fdb\u7a0b\u6c38\u751f)\u3002\u5e26\u6709\u4ee3\u7801\u6ce8\u5165\u7684app\u76f8\u5bf9\u4e8e\u666e\u901aapp\u6765\u8bf4\u91cd\u5f88\u591a\uff0c\u5305\u62ec\u591a\u5957api\u4f7f\u7528\uff0chook\u65b9\u5f0f\u5bfc\u81f4\u7684\u72b6\u6001\u548c\u5bf9\u8c61\u7ef4\u62a4\u7ba1\u7406\u3002hook\u4fb5\u5165\u5bfc\u81f4app\u672c\u8eab\u95ea\u9000\u4e86\u589e\u52a0\u7b49\u3002\u4ee5\u53ca\u53ef\u80fd\u4e0d\u5408\u7406\u7684\u4ee3\u7801\u5bfc\u81f4app\u5361\u6b7b\u3002\u5982\u679c\u53d1\u751fapp\u95ea\u9000\u6216\u8005\u5361\u6b7b\uff0c\u90a3\u4e48\u6211\u4eec\u7684\u6846\u67b6\u540c\u6837\u65e0\u6cd5\u8fd0\u884c\u3002\u6846\u67b6\u65e0\u6cd5\u7a81\u7834Android\u672c\u8eab\u7cfb\u7edf\u6743\u9650\uff0c\u65e0\u6cd5\u81ea\u52a8\u91cd\u542f\u81ea\u8eab\uff0c\u6216\u8005\u68c0\u6d4b\u81ea\u5df1\u5904\u4e8e\u50f5\u6b7b\u72b6\u6001\u7136\u540e\u81ea\u6740\u3002</p> <p>\u56e0\u6b64\u4e3a\u4e86\u80fd\u591f\u5728\u76ee\u6807APP\u672a\u542f\u52a8\u65f6\u5b9e\u73b0\u5b9a\u65f6\u4efb\u52a1\u8c03\u5ea6\u548cAPP\u7684\u5524\u9192\uff0c\u5b9a\u65f6\u8c03\u5ea6\u529f\u80fd\u7684\u5b9e\u73b0\u4f9d\u8d56\u4e8eQContainer-Manager\u548c\u76ee\u6807APP\u4e4b\u95f4\u7684\u5171\u540c\u4ea4\u4e92\u3002</p>"},{"location":"awesome-reverse-main/qcontainer/qconatiner-scheduler/#_2","title":"\u6982\u5ff5\u89e3\u91ca","text":"<p>QContainer-Manager \u7ba1\u7406qcontainer\u63d2\u4ef6\u542f\u7528\u72b6\u6001\u7684\u7ba1\u7406\u7aefapp</p>"},{"location":"awesome-reverse-main/qcontainer/qconatiner-scheduler/#app","title":"\u76ee\u6807APP","text":"<p>qcontainer\u4fb5\u5165\u540e\u7684\u76ee\u6807\u4e1a\u52a1app\uff0c\u4e5f\u662f\u63d2\u4ef6\u6240\u9644\u7740\u7684app</p>"},{"location":"awesome-reverse-main/qcontainer/qconatiner-scheduler/#_3","title":"\u6846\u67b6\u4ea4\u4e92\u6d41\u7a0b","text":"<p>\u4ee5\u9700\u8981\u91cd\u542f\u76ee\u6807APP\u7684\u8c03\u5ea6\u4efb\u52a1\u914d\u7f6e\u7684\u5355\u6b21\u5b9a\u65f6\u4efb\u52a1\u542f\u52a8\u6d41\u7a0b\u4e3a\u4f8b\uff1a</p> <p></p>"},{"location":"awesome-reverse-main/qcontainer/qconatiner-scheduler/#_4","title":"\u6846\u67b6\u4f7f\u7528","text":""},{"location":"awesome-reverse-main/qcontainer/qconatiner-scheduler/#1","title":"1. \u63d2\u4ef6\u914d\u7f6e","text":"<p>\u589e\u52a0assests/camel_scheduler.json\u914d\u7f6e\u6587\u4ef6\uff0c\u8be5\u6587\u4ef6\u7528\u4e8e\u914d\u7f6e\u5b9a\u65f6\u4efb\u52a1\u7684\u76f8\u5173\u53c2\u6570\uff1a</p> <p>[{   //\u4efb\u52a1\u5b9e\u73b0\u7c7b\uff0c\u662fjava\u7684class\uff0c\u662fcom.camel.api.scheduler.RatelTask\u7684\u5b9e\u73b0\u7c7b   \"taskImplementationClassName\": \"com.crack.camel.scheduler.MtTaskScheduler\",   // \u4efb\u52a1\u6267\u884c\u7684\u65f6\u95f4\u89c4\u5219\uff0c\u914d\u7f6e\u4f7f\u7528cron\u8868\u8fbe\u5f0f\u89c4\u5219\uff0c\u6709\u4e00\u4e2a\u7279\u6b8a\u7684\u89c4\u5219\u5c31\u662fratelScheduler\u4e0d\u652f\u6301\u79d2\u7ea7\u8c03\u5ea6\uff0c\u5bf9\u4e8e\u79d2\u7ea7\u914d\u7f6e\u65e0\u6cd5\u8d77\u5230\u6548\u679c\u3002\u8fd9\u662f\u56e0\u4e3a\u6b63\u5e38\u4e00\u4e2aapp\u6253\u5f00\u5c31\u662f\u79d2\u7ea7\u8017\u65f6\u7684   \"cronExpression\": \"* * * * * ?\",   // \u4efb\u52a1\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u79d2\uff0c\u4e5f\u5373\u5f53\u4efb\u52a1\u6267\u884c\u8fbe\u5230\u8d85\u65f6\u65f6\u95f4\u540e\uff0c\u6846\u67b6\u4ecd\u7136\u6ca1\u6709\u6536\u5230\u4efb\u52a1\u7ed3\u675f\u6d88\u606f\uff0c\u90a3\u4e48\u6846\u67b6\u4f1a\u5f3a\u884c\u5e72\u9884\u3002   // \u6846\u67b6\u52a8\u4f5c\u5305\u62ec\u5f3a\u884c\u8fdb\u884c\u4e0b\u4e00\u6b21\u8c03\u5ea6\u3001\u5f3a\u6740\u76ee\u6807app\u8fdb\u7a0b\u7b49\u3002\u8be5\u914d\u7f6e\u4e0d\u662f\u5f3a\u5236\u586b\u5199\uff0c\u9ed8\u8ba4\u503c\u4e3a10\u5206\u949f   \"maxDuration\":600,   // \u4efb\u52a1\u662f\u5426\u9700\u8981\u5f3a\u5236\u91cd\u542fapp\uff0c\u5982\u679c\u4e3atrue\uff0c\u90a3\u4e48\u4efb\u52a1\u8c03\u5ea6\u524d\u4f1a\u6740\u6b7bapp.\u8be5\u914d\u7f6e\u9ed8\u8ba4\u4e3atrue   \"restartApp\": true }] \u5b9a\u65f6\u4efb\u52a1\u652f\u6301\u914d\u7f6e\u591a\u4e2a\uff0c\u5982\u679c\u591a\u4e2a\u5b9a\u65f6\u4efb\u52a1\u65f6\u95f4\u70b9\u5b58\u5728\u51b2\u7a81\uff0c\u7531\u4e8e APP\u65e0\u6cd5\u5e76\u884c\u6267\u884c\uff0c\u6846\u67b6\u4f1a\u968f\u673a\u9009\u62e9\u67d0\u4e2a\u4efb\u52a1\u6267\u884c\u3002</p>"},{"location":"awesome-reverse-main/qcontainer/qconatiner-scheduler/#2","title":"2. \u5b9a\u65f6\u4efb\u52a1\u63a5\u53e3\u5b9e\u73b0","text":"<p>public interface CamelTask {</p> <pre><code>/** * \u6267\u884c\u8c03\u5ea6\u4efb\u52a1 * &lt;br&gt; * \u8be5\u4efb\u52a1\u53d1\u751f\u5728\u76ee\u6807app\u4e2d * * @param params \u8c03\u5ea6\u4efb\u52a1\u53c2\u6570 */\nvoid doTask(Map&lt;String, String&gt; params);\n\n\n/** * \u52a0\u8f7d\u8c03\u5ea6\u4efb\u52a1\u53c2\u6570\uff0c\u6bcf\u6b21\u8c03\u5ea6\u4efb\u52a1\u6267\u884c\u4e4b\u524d\uff0c\u53ef\u80fd\u9700\u8981\u521d\u59cb\u5316\u4efb\u52a1\u76f8\u5173\u53c2\u6570\u3002 * &lt;br&gt; * \u975e\u5e38\u91cd\u8981\u7684\u662f\uff0c\u8fd9\u6b21\u8c03\u7528\u53d1\u751f\u5728manager\u8fdb\u7a0b,\u4f60\u4e0d\u80fd\u5c06\u52a0\u8f7d\u597d\u7684\u6570\u636e\u653e\u5230\u9759\u6001\u53d8\u91cf\u6216\u8005\u5f53\u524d\u8fdb\u7a0b\u5185\u5b58\u4e2d\uff0c\u5426\u5219\u6574\u4e2a\u8c03\u5ea6\u8fc7\u7a0b\u53ef\u80fd\u7531\u4e8eapp\u91cd\u542f\u5bfc\u81f4\u5185\u5b58\u6570\u636e\u4e22\u5931 * &lt;p&gt; * * @return \u4efb\u52a1\u53c2\u6570map, KV\u5747\u4e3a\u5b57\u7b26\u4e32,\u53ef\u4e3a\u7a7a * @throws CamelTaskCancelException \u82e5\u60f3\u8981\u4e2d\u6b62\u672c\u6b21\u4efb\u52a1\u6267\u884c\uff0c\u53ef\u5728\u8be5\u65b9\u6cd5\u4e2d\u629b\u51fa\u8be5\u5f02\u5e38 */\nMap&lt;String, String&gt; loadTaskParams() throws CamelTaskCancelException;\n</code></pre> <p>}</p> <p>\u6bcf\u4e2a\u5b9a\u65f6\u4efb\u52a1\u5bf9\u5e94\u4e00\u4e2aCamelTask\u5b9e\u73b0\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\u867d\u7136\u662f\u5728\u540c\u4e00\u4e2a\u7c7b\u4e2d\u58f0\u660e\uff0c\u4f46\u662fdoTask\u65b9\u6cd5\u548cloadTaskParams\u65b9\u6cd5\u6267\u884c\u65f6\u6240\u5728\u7684\u8fdb\u7a0b\u5e76\u4e0d\u662f\u540c\u4e00\u4e2a\uff0c\u540c\u65f6\u8fd8\u9700\u6ce8\u610fdoTask\u65b9\u6cd5\u6267\u884c\u65f6\u6240\u5728\u7684classLoader\u4e0e\u63d2\u4ef6\u4ee3\u7801\u6240\u5c5e\u7684classLoader\u4e5f\u5e76\u4e0d\u662f\u540c\u4e00\u4e2a\u3002</p>"},{"location":"awesome-reverse-main/qcontainer/qconatiner-scheduler/#3dotask","title":"3.doTask\u751f\u547d\u5468\u671f","text":"<p>doTask\u65b9\u6cd5\u7684\u8c03\u7528\u65f6\u673a\u6709\u4e24\u4e2a\u65f6\u95f4\u70b9\uff1a</p> <p>\u5982\u679c\u662frestartApp=true\uff0c\u4e5f\u5373app\u91cd\u542f\u7c7b\u578b\u4efb\u52a1\uff0cdoTask\u53d1\u751f\u5728app\u542f\u52a8\u540e\uff0capp\u903b\u8f91\u6267\u884c\u4e4b\u524d\u3002\u548cxposed\u6a21\u5757\u4ee3\u7801\u56de\u8c03\u53d1\u751f\u5728\u540c\u4e00\u65f6\u673a\u3002\u4f60\u53ef\u4ee5\u5728doTask\u5b8c\u6210\u4efb\u4f55Xposed\u6a21\u5757\u52a0\u8f7d\u65f6\u7684\u4efb\u52a1\u903b\u8f91(\u5b9e\u9645\u4e0a\u5728\u6846\u67b6\u5c42\u9762doTask\u8c03\u7528\u5c31\u5728Xposed\u6a21\u5757\u52a0\u8f7d\u4e4b\u524d) \u5982\u679c\u662frestartApp=false,\u4e5f\u5373app\u5373\u65f6\u7c7b\u578b\u4efb\u52a1\uff0cdoTask\u53d1\u751f\u5728app\u8fd0\u884c\u7684\u4efb\u4f55\u65f6\u673a\u3002\u6846\u67b6\u4f1a\u901a\u8fc7IPC\u673a\u5236\uff0c\u76f4\u63a5\u8c03\u7528\u76ee\u6807\u8fdb\u7a0b\u7684\u56de\u8c03\u51fd\u6570</p>"},{"location":"awesome-reverse-main/qcontainer/qconatiner-scheduler/#4","title":"4.\u4efb\u52a1\u7ed3\u675f","text":"<p>\u7531\u4e8e\u5b9a\u65f6\u4efb\u52a1\u7684\u6267\u884c\u662f\u5728\u53e6\u4e00\u4e2aAPP\u4e2d\u5f02\u6b65\u6267\u884c\uff0c\u56e0\u6b64\u4efb\u52a1\u7684\u7ed3\u675f\u72b6\u6001\u9700\u8981\u5728\u53e6\u4e00\u4e2a APP\u4e2d\u4e3b\u52a8\u901a\u77e5manager\uff0c\u901a\u77e5\u65b9\u6cd5\u5982\u4e0b \uff1a</p> <p>CamelToolKit.camelSchedulerTaskHandler.finishedTask();</p> <p>\u5982\u679c\u4efb\u52a1\u6267\u884c\u5b8c\u6210\uff0c\u4f46\u662f\u4e1a\u52a1\u5e76\u6ca1\u6709\u4e3b\u52a8\u901a\u77e5\u6846\u67b6\u4efb\u52a1\u6267\u884c\u7ed3\u675f\uff0c\u90a3\u4e48\u6846\u67b6\u5c06\u4f1a\u7b49\u5f85\u5230\u4efb\u52a1\u8d85\u65f6\u3002</p>"},{"location":"awesome-reverse-main/qcontainer/qconatiner-scheduler/#_5","title":"\u6846\u67b6\u5177\u4f53\u8bbe\u8ba1\u5b9e\u73b0","text":"<p>\u5b9a\u65f6\u8c03\u5ea6Server\u7aef QContainer-Manager\u5728\u89d2\u8272\u4e0a\u76f8\u5f53\u4e8e\u8c03\u5ea6\u6846\u67b6\u7684server\u7aef\uff0c\u7528\u4e8e\u7ba1\u7406\u8bbe\u5907\u4e2d\u6240\u6709\u63d2\u4ef6\u914d\u7f6e\u7684\u5b9a\u65f6\u4efb\u52a1\uff0c\u540c\u65f6\u8fd8\u63d0\u4f9b\u4e86\u5524\u9192\u548c\u6740\u6b7bAPP\u7684\u529f\u80fd\u3002</p> <p>\u7c7b\u6bd4QSchedule\u7684\u8c03\u5ea6\u529f\u80fd\uff0c\u9664\u4e86\u80fd\u591f\u5b9a\u65f6\u6267\u884c\uff0c\u8fd8\u53ef\u4ee5\u5728\u6bcf\u6b21\u542f\u52a8\u65f6\u4f20\u9012\u76f8\u5e94\u7684\u53c2\u6570\uff0c\u5bf9\u5e94\u5230\u5728\u4ee3\u7801\u70b9\u51fb\u7684\u4e1a\u52a1\u4e2d\uff0c\u5c31\u662f\u5411\u8c03\u5ea6\u7aef\u62c9\u53d6\u672c\u6b21\u6293\u53d6\u7684\u9152\u5e97\u4fe1\u606f\u3002 \u62c9\u53d6\u4fe1\u606f\u7684\u64cd\u4f5c\u53ef\u4ee5\u8fd0\u884c\u5728manager\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u8fd0\u884c\u5728\u76ee\u6807app\u4f8b\u5982MT\u4e2d\uff0c\u4f46\u662f\u7531\u4e8e\u5e76\u4e0d\u662f\u6bcf\u6b21\u62c9\u53d6\u90fd\u80fd\u83b7\u53d6\u5230\u5f85\u6293\u53d6\u9152\u5e97\u4fe1\u606f\uff0c\u56e0\u6b64\u4e3a\u4e86\u907f\u514d\u5728\u672a\u6210\u529f\u62c9\u53d6\u9152\u5e97\u4fe1\u606f\u65f6\u4ecd\u6253\u5f00APP\u7684\u64cd\u4f5c\uff0c\u5c06\u8c03\u5ea6\u4efb\u52a1\u7684\u53c2\u6570\u83b7\u53d6\u903b\u8f91\u653e\u5728\u4e86manager\u4e2d\u6267\u884c\uff0c\u5728\u786e\u8ba4\u4e86\u53ef\u4ee5\u542f\u52a8APP\u4e4b\u540e\uff0c\u518d\u5c06\u8c03\u5ea6\u53c2\u6570\u4f20\u9012\u7ed9\u76ee\u6807APP\u3002</p> <p>\u6b64\u5916\uff0c\u6740\u6b7bAPP\u529f\u80fd\u672c\u8d28\u4e0a\u4e0a\u7531\u76ee\u6807APP\u6240\u5b9e\u73b0\uff0c\u56e0\u4e3a\u5728\u672a\u7a81\u7834\u7cfb\u7edf\u6743\u9650 \u7684\u60c5\u51b5\u4e0b\uff0c\u5176\u4ed6APP\u8fdb\u7a0b\u65e0\u6cd5\u505a\u5230\u6740\u6b7b\u5176\u4ed6\u8fdb\u7a0b\uff0c\u53ea\u80fd\u4ea4\u7531\u76ee\u6807APP\u81ea\u5df1\u5b8c\u6210\u81ea\u6740\u64cd\u4f5c\u3002</p> <p>\u56e0\u6b64\u5728\u4ea4\u4e92\u4e0a\uff0c\u5c31\u9700\u8981\u81f3\u5c11\u80fd\u591f\u5b9e\u73b0</p> <ul> <li>manager\u7aef\u5411\u76ee\u6807app\u7aef\u4f20\u9012\u8c03\u5ea6\u53c2\u6570\uff08ContentProvider\u5b9e\u73b0 \uff09</li> <li>manager\u7aef\u5411\u76ee\u6807app\u7aef\u4f20\u9012\u81ea\u6740\u547d\u4ee4\uff08\u533f\u540dbinder\u5b9e\u73b0\uff09     \u4e24\u8005\u867d\u7136\u4f20\u9012\u53c2\u6570\u548c\u65b9\u5411\u90fd\u5f88\u76f8\u4f3c\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\u91c7\u7528\u4e86\u4e24\u79cd\u4e0d\u540c\u7684\u5b9e\u73b0\u65b9\u5f0f\u3002</li> <li>manager\u7aef\u5411\u76ee\u6807app\u7aef\u4f20\u9012\u8c03\u5ea6\u53c2\u6570</li> <li>manager\u7aef\u5411\u76ee\u6807app\u7aef\u4f20\u9012\u81ea\u6740\u547d\u4ee4</li> <li>\u5b9a\u65f6\u4efb\u52a1\u72b6\u6001\u5224\u65ad</li> <li>\u5b9a\u65f6\u4efb\u52a1\u8fd0\u884c\u4e2d&amp;&amp;\u76ee\u6807APP\u8fd0\u884c\u4e2d</li> <li>\u4efb\u52a1\u662f\u5426\u8d85\u65f6</li> <li>\u8d85\u65f6\u5219\u91cd\u542fAPP\u5e76\u6267\u884c\u4efb\u52a1</li> <li>\u5b9a\u65f6\u4efb\u52a1\u8fd0\u884c\u4e2d&amp;&amp;\u76ee\u6807APP\u672a\u8fd0\u884c</li> <li>\u542f\u52a8APP\u6267\u884c\u4efb\u52a1</li> <li>\u5b9a\u65f6\u4efb\u52a1\u672a\u8fd0\u884c</li> <li>\u76f4\u63a5\u6267\u884c\u4efb\u52a1\u6216\u91cd\u542fAPP\u518d\u6267\u884c\u4efb\u52a1</li> </ul>"},{"location":"awesome-reverse-main/qcontainer/qcontainer-hotplugin/","title":"\u76ee\u6807","text":"<p>\u5b9e\u73b0Hook\u63d2\u4ef6\u53ef\u4ee5\u53ca\u65f6\u81ea\u52a8\u66f4\u65b0\u81f3\u6700\u65b0\u7248\u672c\uff08\u6216\u7279\u5b9a\u7248\u672c\uff09\u63d2\u4ef6\uff0c\u65e0\u9700\u4eba\u5de5\u8986\u76d6\u5b89\u88c5\u63d2\u4ef6\u3002</p>"},{"location":"awesome-reverse-main/qcontainer/qcontainer-hotplugin/#_2","title":"\u67b6\u6784\u89d2\u8272","text":"<p>\u5ba2\u6237\u7aef\uff08\u611f\u67d3\u5e94\u7528\u548chook\u63d2\u4ef6\uff09</p> <p>\u670d\u52a1\u7aef\uff08\u63d2\u4ef6\u5e02\u573a\uff09</p>"},{"location":"awesome-reverse-main/qcontainer/qcontainer-hotplugin/#_3","title":"\u601d\u8def","text":"<ul> <li>\u4ec0\u4e48\u65f6\u673a\u5224\u65ad\u63d2\u4ef6\u662f\u5426\u9700\u8981\u66f4\u65b0</li> <li>\u63d2\u4ef6\u66f4\u65b0\u662f\u5728\u611f\u67d3\u5e94\u7528\u4e2d\u8fd8\u662f\u5728manager\u4e2d</li> <li>\u80fd\u5426\u505a\u5230\u76f4\u63a5\u6309\u7167\u611f\u67d3app\u76f4\u63a5\u62c9\u53d6\u5bf9\u5e94\u63d2\u4ef6\uff0c\u800c\u65e0\u9700\u672c\u5730\u5b89\u88c5\u63d2\u4ef6</li> <li>\u4e00\u4e2aAPP\u5bf9\u5e94\u591a\u4e2a\u63d2\u4ef6\u5982\u4f55\u5904\u7406</li> <li>\u62c9\u53d6\u63d2\u4ef6\u66f4\u65b0\u65f6\u7f51\u901f\u8fc7\u6162\u662f\u5426\u4f1a\u5f71\u54cdAPP\u542f\u52a8</li> <li>\u63d2\u4ef6\u66f4\u65b0\u7ba1\u7406\u670d\u52a1\u7aef\u5bf9\u63a5\u89c4\u8303</li> </ul>"},{"location":"awesome-reverse-main/qcontainer/qcontainer-hotplugin/#_4","title":"\u63d2\u4ef6\u70ed\u66f4\u65b0\u6d41\u7a0b","text":""},{"location":"awesome-reverse-main/qcontainer/qcontainer-hotplugin/#_5","title":"\u63d2\u4ef6\u66f4\u65b0\u89c4\u8303\u6587\u6863","text":"<p>\u63d2\u4ef6\u53ef\u901a\u8fc7\u914d\u7f6e\u5bf9\u63a5\u7684\u63a5\u53e3\u5730\u5740\u6765\u63a7\u5236\u8bf7\u6c42\u7684\u670d\u52a1\u7aef\u5730\u5740\uff0c\u5b9e\u73b0\u670d\u52a1\u7aef\u7684\u52a8\u6001\u914d\u7f6e\u3002\u4f46\u540c\u65f6\u4e5f\u8981\u6c42\u670d\u52a1\u7aef\u5fc5\u987b\u5b9e\u73b0\u540c\u4e00\u5957\u63a5\u53e3\u89c4\u8303\u3002</p>"},{"location":"awesome-reverse-main/qcontainer/qcontainer-hotplugin/#_6","title":"\u670d\u52a1\u7aef","text":""},{"location":"awesome-reverse-main/qcontainer/qcontainer-hotplugin/#get","title":"\u67e5\u8be2\u63d2\u4ef6\u6700\u65b0\u7248\u672c GET","text":"<p>\u8bf7\u6c42\u53c2\u6570\uff1a</p> \u53c2\u6570\u540d \u662f\u5426\u5fc5\u9700 \u793a\u4f8b \u5907\u6ce8 packageName True com.crack.ctrip <p>\u54cd\u5e94\u683c\u5f0f\uff1a</p> <p>JSON</p> <pre><code>\u793a\u4f8b\uff1a\n{\n    \"packageName\":\"com.crack.ctrip\",\n    \"latestVersion\":\"1.3\",\n    \"downloadUrl\":\"http://xxxxx\"\n}\n</code></pre> \u53c2\u6570\u540d \u7c7b\u578b \u793a\u4f8b \u5907\u6ce8 packageName String com.crack.ctrip latestVersion String 1.3 downloadUrl String"},{"location":"awesome-reverse-main/qcontainer/qcontainer-hotplugin/#_7","title":"\u5ba2\u6237\u7aef\u63d2\u4ef6\u6a21\u5757","text":"<p>\u652f\u6301\u70ed\u53d1\u66f4\u65b0\u7684\u63d2\u4ef6\u6a21\u5757\u4e0e\u666e\u901a\u63d2\u4ef6\u6ca1\u6709\u592a\u5927\u533a\u522b\uff0c\u4f46\u9700\u8981\u901a\u8fc7meta\u6807\u7b7e\u6765\u6807\u8bc6\u548c\u6307\u5b9a\u662f\u5426\u662f\u70ed\u53d1\u63d2\u4ef6\uff0c\u5373\u70ed\u53d1\u63d2\u4ef6\u670d\u52a1\u7aef\u5730\u5740\u3002</p> <pre><code>        &lt;!--\u662f\u5426\u662f\u4e00\u4e2a\u70ed\u53d1\u63d2\u4ef6--&gt;\n        &lt;meta-data\n            android:name=\"isHotModule\"\n            android:value=\"true\" /&gt;\n        &lt;!--\u70ed\u53d1\u63d2\u4ef6\u670d\u52a1\u67e5\u8be2\u7684\u670d\u52a1\u7aef\u5730\u5740--&gt;\n        &lt;meta-data\n            android:name=\"hotModuleServerUrl\"\n            android:value=\"htps://xxx.com/xxx\" /&gt;\n</code></pre>"},{"location":"awesome-reverse-main/qcontainer/qcontainer-hotplugin/#qcontainer","title":"QContainer\u5185\u90e8\u5b9e\u73b0\u539f\u7406","text":"<p>\u4ece\u672c\u8d28\u6765\u770b\uff0c\u5728\u539f\u6765\u7684\u4ece\u5df2\u5b89\u88c5APP\u5217\u8868\u4e2d\u52a0\u8f7d\u63d2\u4ef6\u65f6\u7684\u6d41\u7a0b\u662f\uff0c\u6839\u636e\u63d2\u4ef6\u5b89\u5353\u8def\u5f84\u83b7\u53d6\u63d2\u4ef6APK\uff0c\u7136\u540e\u901a\u8fc7DexClassLoader\u52a8\u6001\u52a0\u8f7d\u63d2\u4ef6\u5165\u53e3\u7c7b\uff0c\u56e0\u6b64\u5bf9\u4e8e\u70ed\u53d1\u63d2\u4ef6\u6765\u8bf4\uff0c\u53ea\u662f\u83b7\u53d6\u63d2\u4ef6APK\u7684\u65b9\u5f0f\u6709\u6240\u53d8\u5316\uff0c\u9700\u8981\u53d8\u66f4\u4e3a\u9996\u5148\u68c0\u67e5\u63d2\u4ef6\u7248\u672c\uff0c\u7136\u540e\u68c0\u67e5\u672c\u5730\u6700\u540e\u5224\u662f\u5426\u8981\u4e0b\u8f7d\u6700\u65b0\u63d2\u4ef6\u3002</p> <p>\u9664\u4e86\u5728runtime\u4e2d\u9700\u8981\u5224\u65ad\u4e0a\u8ff0\u7684\u6d41\u7a0b\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u4e2a\u5730\u65b9\u5bb9\u6613\u88ab\u9057\u6f0f\uff0c\u5373manager\u4e2d\u7684\u5b9a\u65f6\u4efb\u52a1\u3002\u5b9a\u65f6\u4efb\u52a1\u673a\u5236\u4e2d\u4e5f\u4f1a\u89e3\u6790\u63d2\u4ef6\u4e2d\u7684CamelTask\u5e76\u7f13\u5b58\uff0c\u56e0\u6b64\u82e5\u60f3\u8981\u63d2\u4ef6\u505a\u5230\u5b8c\u5168\u66f4\u65b0\uff0c\u8fd8\u9700\u8981\u5728manager\u4e2d\u8fdb\u884c\u4e0a\u8ff0\u7684\u7248\u672c\u5224\u65ad\u548c\u66f4\u65b0\u64cd\u4f5c\u3002</p>"},{"location":"awesome-reverse-main/qcontainer/qcontainer-hotplugin/#_8","title":"\u5c40\u9650\u6027","text":"<ul> <li>\u8054\u7f51 \u7531\u4e8e\u6d89\u53ca\u5230\u8054\u7f51\u4e0b\u8f7d\uff0c\u56e0\u6b64\u9700\u8981\u611f\u67d3APP\u81ea\u5e26\u8054\u7f51\u6743\u9650\u7533\u8bf7\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u63d2\u4ef6\u65e0\u6cd5\u4e0b\u8f7d\u3002</li> <li>\u672c\u5730\u5df2\u5b89\u88c5\u521d\u59cb\u63d2\u4ef6APP</li> </ul>"},{"location":"awesome-reverse-main/qcontainer/qcontainer-native-hook/","title":"Qcontainer native hook","text":"<p>QContainer\u4e2d\u9664\u4e86\u6d89\u53ca\u5230Java\u5c42\u7684Hook\uff0c\u4f8b\u5982\u5728\u8bbe\u5907\u6307\u7eb9\u6a21\u62df\u65f6\uff0c\u4e3a\u4e86\u5bf9\u6297\u5bf9\u65b9\u7684\u91c7\u96c6\u65b9\u5f0f\uff0c\u901a\u5e38\u4f1a\u5728\u5c3d\u53ef\u80fd\u5e95\u5c42\u7684\u5730\u65b9\u8fdb\u884chook\uff0c\u56e0\u6b64QContainer\u8fd8\u7528\u5230\u4e86\u8bb8\u591aNative Inline Hook\uff0cNative Hook\u5728\u4f7f\u7528\u4e0a\u6bd4Java\u5c42\u8981\u66f4\u590d\u6742\u4e00\u4e9b\uff0c\u56e0\u6b64\u989d\u5916\u4ecb\u7ecd\u4e00\u4e0bQContainer\u4e2d\u5982\u4f55\u8fdb\u884cNative Hook\uff0c\u9632\u6b62\u5bf9native\u5c42\u65e0\u4ece\u4e0b\u624b\u3002</p>"},{"location":"awesome-reverse-main/qcontainer/qcontainer-native-hook/#so-hook","title":"SO HOOK\u6280\u672f","text":"<p>\u5b89\u5353\u4e2d\u7684SO\u5c31\u662f\u4e2aELF\u6587\u4ef6\uff0c\u4e14\u5b89\u5353\u4e5f\u57fa\u4e8eLinux\uff0c\u56e0\u6b64\u5b89\u5353\u4e2d\u7684SO\u6280\u672f\u4e0eLinux\u4e2d\u57fa\u672c\u4e00\u81f4\uff0c\u5927\u81f4\u53ef\u5206\u4e3a\uff1a - \u5bfc\u5165\u8868Hook\uff08PLT/GOT\u8868Hook\uff09\u6709\u8f83\u597d\u7684\u6027\u80fd\uff0c\u4e2d\u7b49\u7684\u5b9e\u73b0\u96be\u5ea6\uff0c\u4f46\u5176\u53ea\u80fd Hook \u52a8\u6001\u5e93\u4e4b\u95f4\u7684\u8c03\u7528\u7684\u51fd\u6570\uff0c\u5e76\u4e14\u65e0\u6cd5Hook \u672a\u5bfc\u51fa\u7684\u79c1\u6709\u51fd\u6570\u3002\u975e\u5e38\u5178\u578b\u7684Hook\u6280\u672f\uff0c\u53ef\u4ee5\u5b66\u4e60\u5230ELF\u683c\u5f0f\u3001\u52a8\u6001\u94fe\u63a5\u673a\u5236\u7b49 - Inline Hook \u6709\u5f88\u597d\u7684\u6027\u80fd\uff0c\u5e76\u4e14\u4e5f\u6ca1\u6709 PLT \u4f5c\u7528\u57df\u7684\u9650\u5236\uff0c\u5b9e\u73b0\u96be\u5ea6\u9ad8\uff0c\u4e14\u9700\u8981hook\u7684\u76ee\u6807\u65b9\u6cd5\u7684\u6307\u4ee4\u957f\u5ea6\u5927\u4e8e8\u621612\u5b57\u8282\u7684\u9650\u5236\u3002 - Trap Hook \u901a\u8fc7ptrace()\u548csignal\u4fe1\u53f7\u673a\u5236\u8fdb\u884chook\uff0c\u6d89\u53ca\u5230\u7cfb\u7edf\u6001\u548c\u7528\u6237\u6001\u7684\u5207\u6362\uff0c\u6027\u80fd\u8f83\u5dee\u3002 - \u5f02\u5e38Hook Inline Hook\u7684\u4f18\u5316\u7248\uff0c\u53ea\u97004\u5b57\u8282\u5373\u53ef\u5b8c\u6210hook</p> <p>\u611f\u5174\u8da3\u53ef\u4ee5\u6df1\u5165\u5b66\u4e60\u5176\u4e2dGOT\u8868\u548cinline hook\u7684\u5927\u81f4\u539f\u7406\uff5e</p>"},{"location":"awesome-reverse-main/qcontainer/qcontainer-native-hook/#substrate-hook","title":"Substrate Hook","text":"<p>\u7531\u4e8e\u96c6\u6210\u4e86VA\u4ee3\u7801\uff0c\u56e0\u6b64\u9879\u76ee\u4e2d\u9ed8\u8ba4\u4f7f\u7528\u7684\u662fSubstrate\u5e93\uff0c\u8be5\u5e93\u662f\u4e00\u4e2a\u5178\u578b\u901a\u7528\u7684inline hook\u6280\u672f\u5b9e\u73b0\uff0c\u652f\u6301\u8c03\u7528\u539f\u65b9\u6cd5\uff0c\u4f7f\u7528\u65b9\u5f0f\u8f83\u7b80\u5355\uff0c\u4f8b\u5982\uff1a <pre><code>// \u58f0\u660e\u539f\u59cb\u51fd\u6570\u65b9\u6cd5\u6307\u9488\uff0c\u7528\u4e8e\u4fdd\u5b58\u539f\u59cb\u65b9\u6cd5\nint (*old_system)(const char *__command);\n\n// \u58f0\u660e\u66ff\u6362\u540e\u7684\u65b0\u51fd\u6570\nint new_system(const char *__command) {\n    ALOGI(\"libc.so system func exec command:%s\", __command);\n    return old_system(__command);\n}\n\n// \u5f00\u59cbhook\nvoid FingerPrintFaker::hook_shell_exec() {\n    // \u627e\u5230\u5f85hook\u51fd\u6570\u7684\u7b26\u53f7\n    void *handle = dlopen(\"libc.so\", RTLD_NOW);\n    void *system_symbol = dlsym(handle, \"system\");\n    ALOGI(\"libc.so system function find result:%d,%d\", handle == nullptr, system_symbol == nullptr);\n    // \u5c06\u51fd\u6570\u7b26\u53f7\u3001\u65b0\u51fd\u6570\u5730\u5740\u548c\u539f\u59cb\u51fd\u6570\u5730\u5740\u4f20\u5165\n    MSHookFunction(system_symbol, (void *) &amp;new_system, (void **) &amp;old_system);\n    dlclose(handle);\n}\n</code></pre></p> <p>\u4f7f\u7528\u4e0a\u5f88\u7b80\u5355\uff0c\u58f0\u660e\u539f\u59cb\u51fd\u6570\u548chook\u51fd\u6570\uff0c\u5728hook\u51fd\u6570\u4e2d\u901a\u8fc7\u58f0\u660e\u7684\u539f\u59cb\u51fd\u6570\u8c03\u7528\u539f\u51fd\u6570\u3002</p> <p>\u4f46\u662f\u5728\u5b9e\u9645\u4f7f\u7528\u4e0a\uff0c\u9700\u8981\u6ce8\u610fInline hook\u7684\u9650\u5236\uff0c\u56e0\u4e3ainline hook\u539f\u7406\u662f\u901a\u8fc7\u4fee\u6539\u76ee\u6807\u65b9\u6cd5\u7684\u6c47\u7f16\u6307\u4ee4\u7684\u5f00\u59cb\u5904\u7684\u51e0\u4e2a\u5b57\u8282\u7684\u4ee3\u7801\uff08Substrate\u4e2d\u4e3a12\u4e2a\u5b57\u8282\uff09\uff0c\u7528\u4e00\u6bb5\u8df3\u8f6c\u6307\u4ee4\u6765\u5b8c\u6210\u76ee\u6807\u65b9\u6cd5\u7684hook\u66ff\u6362\uff0c\u56e0\u6b64inline  hook\u7684\u6700\u5927\u7f3a\u70b9\u4e3a\u9700\u8981\u76ee\u6807\u65b9\u6cd5\u8db3\u591f\u5927\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u66ff\u6362\u8df3\u677f\u6307\u4ee4\u540e\u540e\u7eed\u6307\u4ee4\u7d0a\u4e71\u3002</p> <p>\u5982\u679c\u9047\u5230\u8fd9\u79cd\u60c5\u51b5\uff0c\u53ef\u4ee5\u5c06\u76ee\u6807SO\u62c9\u5230\u672c\u5730\uff0c\u4f7f\u7528IDA\u6253\u5f00\uff0c\u627e\u5230\u76ee\u6807\u51fd\u6570\u5224\u65ad\u76ee\u6807\u51fd\u6570\u6307\u4ee4\u957f\u5ea6\u662f\u5426\u8fc7\u77ed\uff0c\u901a\u5e38\u51fa\u73b0\u5728\u7cfb\u7edf\u51fd\u6570\u4e0a\uff0c\u4f8b\u5982__system_property_get\u5728\u5b89\u53539.0\u540e\u7684\u4f18\u5316\uff0c\u5982\u679c\u57284\u5b57\u8282\u4e4b\u4e0a\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528SandHook\u7684\u5f02\u5e38Hook\uff0c\u5426\u5219\u53ea\u80fd\u4f7f\u7528GOT\u8868Hook\u4f8b\u5982XHook\u3002</p>"},{"location":"awesome-reverse-main/qcontainer/qcontainer-native-hook/#sandhook-hook","title":"SandHook \u5f02\u5e38Hook","text":"<p>\u6765\u770b\u4e00\u4e0b\u5f02\u5e38Hook\u7684\u7528\u6cd5\uff0c\u4e0eSubstrate\u5341\u5206\u7c7b\u4f3c\uff0c\u4e0d\u540c\u7684\u5730\u65b9\u5728\u4e8e\u539f\u51fd\u6570\u6307\u9488\u901a\u8fc7\u8fd4\u56de\u503c\u83b7\u53d6\uff0c\u9700\u8981\u81ea\u884c\u5f3a\u8f6c\u3002 <pre><code>int (*origin_system_property_get)(const char *name, char *value);\n\nint new_system_property_get(const char *name, char *value) {\n    int len = origin_system_property_get(name, value);\n    string sname = string(name);\n    if (fakeProperties.find(sname) == fakeProperties.end()) {\n        return len;\n    }\n    // \u66ff\u6362value\u65f6\u957f\u5ea6\u6700\u591a\u4e0d\u4f1a\u8d85\u8fc7\u539fvalue\u957f\u5ea6\n    string fake_value = fakeProperties[sname];\n    if (strlen(value) &gt; 0) {\n        memcpy(value, (char *) fake_value.c_str(), strlen(value));\n    }\n    ALOGI(\"hook native system_property_get, key:%s,fake value:%s,length:%d\", name, value, len);\n    return len;\n}\n\nvoid FingerPrintFaker::hook_system_property_get(map&lt;string, string&gt; fakeProps) {\n    fakeProperties = fakeProps;\n    void *handle = fake_dlopen(\"libc.so\", RTLD_NOW);\n    void *symbol = fake_dlsym(handle, \"__system_property_get\");\n    // \u5b89\u53539.0\u8be5\u51fd\u6570\u6c47\u7f16\u4ee3\u7801\u957f\u5ea6\u8fc7\u77ed\u4e0d\u6ee1\u8db312\u5b57\u8282\u5bfc\u81f4substrate inline hook\u5d29\u6e83\n    // \u56e0\u6b64\u4f7f\u7528SandHook SingleInstHook\uff0c\u53ea\u9700\u89814\u5b57\u8282\n    if (SDK_INT &lt; 28) {\n        MSHookFunction(symbol, (void *) &amp;new_system_property_get,\n                       (void **) &amp;origin_system_property_get);\n    } else {\n        void *origin_back_up_method = SandSingleInstHook(symbol,\n                                                         (void *) &amp;new_system_property_get);\n        ALOGI(\"sand single inst hook libc __system_property_get :%d\",\n              origin_back_up_method == nullptr);\n        if (origin_back_up_method == nullptr) {\n            ALOGE(\"sand single inst hook libc __system_property_get failed!!!\");\n        } else {\n            origin_system_property_get = reinterpret_cast&lt;int (*)(const char *,char *)&gt;(origin_back_up_method);\n        }\n    }\n    fake_dlclose(handle);\n}\n</code></pre></p>"},{"location":"awesome-reverse-main/qcontainer/qcontainer-patch/","title":"Qcontainer patch","text":"<p>\u672c\u7bc7\u4e3b\u8981\u4ecb\u7ecd\u5982\u4f55\u8fdb\u884c\u91cd\u6253\u5305\u6ce8\u5165\u4ee3\u7801\uff0c\u4ee5\u53ca\u91cd\u6253\u5305\u540e\u5982\u4f55\u7ed5\u8fc7\u5927\u591a\u6570\u7684\u7b7e\u540d\u6821\u9a8c\u3002</p> <p>\u5bf9\u4e8e\u60f3\u8981\u5728\u514dRoot\u8bbe\u5907\u4e0a\u5b9e\u73b0\u4e00\u4e2a\u4ee3\u7801\u6ce8\u5165\uff0c\u4e00\u822c\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a - \u7c7b\u4f3cVirtualApp\u7684\u6c99\u76d2\u73af\u5883\uff0c\u7531\u4e8eVA\u5bf9APP\u8fd0\u884c\u65f6\u4f7f\u7528\u5230\u7684\u7cfb\u7edf\u7ec4\u4ef6\u90fd\u8fdb\u884c\u4e86\u52a8\u6001\u4ee3\u7406\uff0c\u6240\u4ee5APP\u76f8\u5f53\u4e8e\u8fd0\u884c\u5728VA\u4e2d\uff0cVA\u5177\u6709\u4e0a\u5e1d\u89c6\u89d2\u548c\u6743\u5229\u3002 - \u8fdb\u7a0b\u5185\u6ce8\u5165\u673a\u5236\u4f8b\u5982\u91cd\u6253\u5305\uff0c\u5982Xpatch\u3001\u592a\u6781</p> <p>QContainer\u91c7\u7528\u7684\u673a\u5236\u5c31\u662f\u91cd\u6253\u5305\u673a\u5236\uff0c\u91cd\u6253\u5305\u662f\u6307\u901a\u8fc7\u4fee\u6539\u5bf9\u65b9\u7684APK\u7136\u540e\u91cd\u65b0\u7b7e\u540d\u7684\u8fc7\u7a0b\uff0c\u5728\u4fee\u6539\u7684\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u4ee5\u5bf9\u5bf9\u65b9\u7684\u6e05\u5355\u6587\u4ef6AndroidManifest.xml\u3001DEX\u6587\u4ef6\u3001SO\u6587\u4ef6\u3001\u8d44\u6e90\u6587\u4ef6\u8fdb\u884c\u4fee\u6539\u3001\u65b0\u589e\u548c\u5220\u9664\u64cd\u4f5c\uff0c\u5e02\u9762\u4e0a\u5f88\u591a\u9006\u5411\u5165\u95e8\u6559\u7a0b\u5c31\u662f\u901a\u8fc7\u5c06DEX\u6587\u4ef6\u53cd\u7f16\u8bd1\u4e3asmali\u3001\u7136\u540e\u901a\u8fc7\u4fee\u6539smali\u5e76\u56de\u7f16\u4f1adex\u6587\u4ef6\u6765\u8fdb\u884c\u903b\u8f91\u4fee\u6539\u548c\u6ce8\u5165\u3002\u5728\u4fee\u6539\u4e4b\u540e\u8fd8\u9700\u8981\u5c06\u6587\u4ef6\u91cd\u6253\u5305\u56deAPK\u5e76\u8fdb\u884c\u4e8c\u6b21\u7b7e\u540d\uff0c\u56e0\u4e3a\u65e0\u6cd5\u83b7\u53d6\u5230\u539fAPK\u7684\u7b7e\u540d\u8bc1\u4e66\uff0c\u6240\u4ee5\u5982\u679c\u5bf9\u65b9APK\u505a\u4e86\u7b7e\u540d\u6821\u9a8c\u6216\u6587\u4ef6\u6821\u9a8c\uff0c\u8fd8\u9700\u8981\u901a\u8fc7hook\u6216\u4ee3\u7406\u7684\u65b9\u5f0f\u7ed5\u8fc7APP\u7684\u6821\u9a8c\u903b\u8f91\u3002</p>"},{"location":"awesome-reverse-main/qcontainer/qcontainer-patch/#apk","title":"APK\u7b7e\u540d\u7ed5\u8fc7","text":"<p>\u5bf9\u4e8eAPK\u7b7e\u540d\u6821\u9a8c\u4e00\u822c\u53ef\u901a\u8fc7hook PMS\u7684\u65b9\u5f0f\u8fdb\u884c\u7ed5\u8fc7\uff0c\u5b9e\u9645\u4e0a\u4f7f\u7528\u52a8\u6001\u4ee3\u7406\u66ff\u6362PMS\u4e5f\u80fd\u5b8c\u6210\uff0c\u4f46\u662f\u5b58\u5728classloader\u75d5\u8ff9\uff0c\u56e0\u6b64\u4f7f\u7528APK\u7b7e\u540d\u6821\u9a8c\u4f1a\u66f4\u5168\u9762\uff1a - android.content.pm.IPackageManager\\(Stub\\)Proxy#getPackageInfo - android.webkit.IWebViewUpdateService\\(Stub\\)Proxy#waitForAndGetProvider</p> <p>\u5177\u4f53\u5982\u4f55\u8fdb\u884c\u7ed5\u8fc7\uff0c\u53ef\u4ee5\u53c2\u8003VirtualApp\u7684\u505a\u6cd5\uff1ahttps://github.com/asLody/VirtualApp/blob/1fdc070f4be8be7272725807b60235beaf2a5717/VirtualApp/lib/src/main/java/com/lody/virtual/server/pm/parser/PackageParserEx.java</p> <p>\u4f46\u662f\uff0c\u8fd9\u79cd\u65b9\u5f0f\u53ea\u80fd\u7ed5\u8fc7\u4e00\u822c\u7684\u7b7e\u540d\u6821\u9a8c\uff0c\u5982\u679c\u5bf9\u65b9\u6821\u9a8c\u6587\u4ef6\u54c8\u5e0c\u7b49\u4e0e\u6587\u4ef6\u6709\u5173\u7684\u64cd\u4f5c\uff0c\u90a3\u4e48\u91cd\u6253\u5305\u7684\u75d5\u8ff9\u5c06\u4f1a\u7acb\u9a6c\u88ab\u53d1\u73b0\uff0c\u56e0\u6b64\u6700\u597d\u53ef\u4ee5\u901a\u8fc7IO\u91cd\u5b9a\u5411\u7684\u65b9\u5f0f\uff0c\u5c06base.apk\u91cd\u5b9a\u5411\u5230\u4e00\u4e2a\u539f\u59cb\u672a\u4fee\u6539\u8fc7\u7684APK\u6587\u4ef6\uff0c\u5982\u6b64\u4e00\u6765\uff0c\u5bf9\u65b9\u901a\u8fc7\u6587\u4ef6\u8fdb\u884c\u7b7e\u540d\u6821\u9a8c\u4fbf\u53ef\u5b8c\u7f8e\u7ed5\u8fc7\u3002\u5177\u4f53IO\u91cd\u5b9a\u5411\u7684\u65b9\u5f0f\u53ef\u53c2\u8003VirtualApp\u4e2d\u505a\u6cd5\u3002</p>"},{"location":"awesome-reverse-main/qcontainer/qcontainer-patch/#_1","title":"\u91cd\u6253\u5305\u673a\u5236","text":"<p>Xposed\u662f\u901a\u8fc7\u4fee\u6539Zygote\u8fdb\u7a0b\uff0c\u7136\u540e\u5728zygote\u8fdb\u7a0b\u4e2dhook ActivityThread#handleBindApplication\u6765\u5728APP\u8fdb\u7a0b\u521d\u59cb\u5316\u4e4b\u524d\u6267\u884chook\u4ee3\u7801\u6765\u5b8c\u6210hook\u64cd\u4f5c\uff0c\u8be5\u65b9\u6cd5\u7684\u4e3b\u8981\u529f\u80fd\u5c31\u662f\u521b\u5efaApplication\uff0c\u5e76\u8c03\u7528\u5176attachBaseContext\u3001onCreate\u7b49\u65b9\u6cd5\uff0c\u56e0\u6b64\uff0c\u5728Application\u521b\u5efa\u4e4b\u524d\u5c31\u5b9e\u73b0Xposed Hook\u3002\u90a3\u91cd\u6253\u5305\u5e94\u8be5\u5728\u54ea\u63d2\u5165\u4ee3\u7801\u624d\u80fd\u83b7\u53d6\u6bd4\u5e94\u7528\u542f\u52a8\u66f4\u65e9\u7684\u65f6\u673a\u5462\uff1f</p> <p>Xpatch\u4e2d\u4e5f\u6709\u63d0\u5230\uff0c\u8fd9\u91cc\u6709\u4e24\u79cd\u65b9\u6848\uff0c\u6bcf\u79cd\u65b9\u6848\u90fd\u6709\u81ea\u5df1\u9002\u7528\u7684\u573a\u666f\uff0c\u539f\u7406\u90fd\u662f\u57fa\u4e8e\u5b89\u5353\u4e2d\u9ed8\u8ba4\u5165\u53e3\u4e3aApplication\uff0c\u53ea\u4e0d\u8fc7\u4e00\u4e2a\u4e3a\u66ff\u6362\uff0c\u4e00\u4e2a\u4e3a\u63d2\u5165\u3002 - AndroidManifest.xml\u4e2dApplication\u5165\u53e3\u66ff\u6362\uff0c\u8fd9\u79cd\u65b9\u5f0f\u7684\u4f18\u52bf\u5728\u4e8e\u672a\u4fee\u6539\u539fapplication\uff0c\u4e14\u9002\u7528\u4e8e\u76ee\u6807APP\u672a\u96c6\u6210Application\u91cd\u5199\u7684\u60c5\u51b5\uff0c\u4f46\u662f\u5bb9\u6613\u901a\u8fc7\u5165\u53e3\u5806\u6808\u68c0\u6d4b\u53d1\u73b0\u75d5\u8ff9 - application\u5b9e\u73b0\u7c7b\u4e2d\u63d2\u5165\u9759\u6001\u4ee3\u7801\u5757\uff0c\u8fd9\u79cd\u65b9\u5f0f\u7684\u4f18\u52bf\u5728\u4e8e\u65e0\u5165\u53e3\u5806\u6808\u68c0\u6d4b\u75d5\u8ff9\uff0c\u4f46\u662f\u5b58\u5728\u6587\u4ef6\u4fee\u6539\u75d5\u8ff9\u3002</p> <p>\u4e24\u79cd\u65b9\u6848\u5404\u6709\u5343\u79cb\uff0c\u5404\u6709\u5404\u7684\u9002\u7528\u573a\u666f\uff0c\u56e0\u6b64\u5b9e\u9645\u60c5\u51b5\u4e2d\u67d0\u79cd\u65b9\u6848\u5931\u8d25\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u53e6\u4e00\u79cd\u60c5\u51b5\u3002</p>"},{"location":"awesome-reverse-main/qcontainer/qcontainer-patch/#application","title":"application\u5b9e\u73b0\u7c7b\u4e2d\u63d2\u5165\u9759\u6001\u4ee3\u7801\u5757","text":"<p>Xposed\u63d2\u4ef6\u52a0\u8f7d\u65f6\u4f1a\u4f7f\u7528\u5230Context\u53c2\u6570\uff0c\u800c\u5728\u9759\u6001\u4ee3\u7801\u5757\u4e2d\uff0c\u5e94\u7528Context\u5c1a\u672a\u521b\u5efa\uff0c\u6b64\u65f6\u6211\u4eec\u5e94\u5982\u4f55\u83b7\u53d6Context\uff1f</p> <p>\u867d\u7136Android SDK\u4e2d\u6ca1\u6709\u63d0\u4f9b\u5e94\u7528\u81ea\u5df1\u521b\u5efacontext\u7684\u65b9\u6cd5\uff0c\u4f46\u662f\u65e2\u7136\u5b89\u5353\u7cfb\u7edf\u53ef\u4ee5\u521b\u5efa\uff0c\u6211\u4eec\u662f\u4e0d\u662f\u4e5f\u53ef\u4ee5\u901a\u8fc7\u53cd\u5c04\u6765\u521b\u5efa\uff0cXpatch\u6b63\u662f\u901a\u8fc7\u9605\u8bfb\u5b89\u5353\u6e90\u7801\u901a\u8fc7\u53cd\u5c04\u8fdb\u884c\u521b\u5efacontext\u3002 <pre><code>\u5f15\u7533\uff1a\u4ec0\u4e48\u662fcontext\uff0c\u4ec0\u4e48\u662fApplication\uff1f\u5b89\u5353\u4e2d\u5982\u4f55\u542f\u52a8\u4e00\u4e2a\u5e94\u7528\uff1f\n\n\u9996\u5148\u4e86\u89e3\u5b89\u5353\u5982\u4f55\u542f\u52a8\u4e00\u4e2aAPP\u8fdb\u7a0b\uff1a\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u6bcf\u4e2aAPP\u8fd0\u884c\u5728\u81ea\u5df1\u7684Linux\u8fdb\u7a0b\u4e2d\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u88ab\u7cfb\u7edf\u5206\u914d\u4e00\u4e2a\u552f\u4e00\u7684userID\u3002\n\u4e0e\u4f17\u591a\u57fa\u4e8eLinux\u5185\u6838\u7684\u7cfb\u7edf\u7c7b\u4f3c\uff0c\u5b89\u5353\u5728\u542f\u52a8\u7cfb\u7edf\u65f6\uff0cbootloader\u542f\u52a8\u5185\u6838\u548cinit\u8fdb\u7a0b\uff0cinit\u8fdb\u7a0b\u5206\u88c2\u51fa\u66f4\u591a\u5e95\u5c42\u7684\u5b88\u62a4\u8fdb\u7a0b\u5982android debug deamo/USB deamon\u7b49\u3002\n\u968f\u540e\uff0cinit\u8fdb\u7a0b\u4f1a\u542f\u52a8\u4e00\u4e2a\u5b89\u5353\u4e2d\u6709\u540d\u7684\u300cZygote\u300d\u8fdb\u7a0b\uff0c\u8be5\u8fdb\u7a0b\u521d\u59cb\u5316\u4e86\u7b2c\u4e00\u4e2aVM\uff0c\u5e76\u4e14\u9884\u52a0\u8f7d\u4e86framework\u7b49\u3002\n\n\u5f53\u542f\u52a8\u4e00\u4e2aAPP\u65f6\uff0c\u4f1a\u4ecezygote\u8fdb\u7a0b\u4e2d\u5b75\u5316\u4e00\u4e2a\u65b0\u7684VM\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8fdb\u7a0b\uff0c\u7136\u540e\u5c06\u8fdb\u7a0b\u548c\u6307\u5b9a\u7684Application\u7ed1\u5b9a\uff0c\u8fd9\u6837\u5c31\u5f97\u5230\u4e86\u4e00\u4e2aAPP\u7684\u8fdb\u7a0b\u3002\n\nApplication\u548cContext\u7684\u542b\u4e49\uff1a\n\u5f53app\u542f\u52a8\u65f6\u7cfb\u7edf\u4f1a\u521b\u5efa\u4e00\u4e2a\u552f\u4e00\u7684Application\u5bf9\u8c61\u7528\u6765\u5b58\u50a8\u4e00\u4e9b\u7cfb\u7edf\u4fe1\u606f\uff0c\u751f\u547d\u5468\u671f\u4e5f\u662f\u4f34\u968f\u7740\u6574\u4e2a\u7a0b\u5e8f\u7684\u751f\u547d\u5468\u671f\uff0c\u7531\u4e8eApplication\u662f\u5168\u5c40\u552f\u4e00\u7684\uff0c\u56e0\u6b64\u6709\u7528\u4e8e\u8fdb\u884c\u4e00\u4e9b\u6570\u636e\u4f20\u9012\u3001\u6570\u636e\u5171\u4eab\u548c\u6570\u636e\u7f13\u5b58\u7b49\u64cd\u4f5c\u3002\nContext\u4ece\u5b57\u9762\u4e0a\u7406\u89e3\u5c31\u662f\u4e0a\u4e0b\u6587\u7684\u610f\u601d \uff0c\u5e76\u4e14\u662fApplication\u7684\u7236\u7c7b\u3002\n</code></pre> \u4ece\u4ee3\u7801\u4e2d\u770bApplication\u521b\u5efa\u7684\u6d41\u7a0b\uff1a 1. ActivityThread#handleBindApplication 2. LoaderApk#makeApplication     * \u521b\u5efa\u4e00\u4e2aContext\u5bf9\u8c61     * \u8c03\u7528Instrumentation\u7684newApplication\u65b9\u6cd5 3. \u8c03\u7528application#onCreate\u65b9\u6cd5</p> <p>\u5728\u7b2c\u4e8c\u6b65\u4e2d\u53ef\u4ee5\u770b\u5230 \u6784\u5efaContext\u7684\u65b9\u6cd5\uff1a <pre><code>ContextImpl appContext = ContextImpl.createAppContext(mActivityThread, this);\n\n// android.app.ContextImpl.java\nstatic ContextImpl createAppContext(ActivityThread mainThread, LoadedApk packageInfo) {\n        if (packageInfo == null) throw new IllegalArgumentException(\"packageInfo\");\n        ContextImpl context = new ContextImpl(null, mainThread, packageInfo, null, null, null, 0,\n                null);\n        context.setResources(packageInfo.getResources());\n        return context;\n    }\n</code></pre> ActivityThread\u5bf9\u8c61\u53ef\u901a\u8fc7ActivityThread#currentActivityThread()\u5feb\u901f\u5f97\u5230\uff0c\u56e0\u4e3a\u4e00\u4e2a\u8fdb\u7a0b\u53ea\u6709\u4e00\u4e2aActivityThread\u5bf9\u8c61\u3002</p> <p>\u53e6\u5916\u4e00\u4e2a\u5bf9\u8c61LoadedApk\u5bf9\u8c61\uff0c\u5219\u662f\u53ef\u4ee5\u901a\u8fc7\u53cd\u5c04\u4ece\u5168\u5c40\u53d8\u91cf\u4e2d\u62ff\u5230\u3002</p> <p>\u5230\u6b64\u5728\u9759\u6001\u4ee3\u7801\u5757\u4e2d\u83b7\u53d6Context\u7684\u95ee\u9898\u4fbf\u53ef\u89e3\u51b3\uff0c\u57fa\u4e8e\u91cd\u6253\u5305\u6ce8\u5165\u4ee3\u7801\u7684\u65b9\u6848\u4e5f\u5f97\u5230\u4e86\u5b9e\u73b0\u3002</p>"},{"location":"awesome-reverse-main/qcontainer/qcontainer-patch/#application_1","title":"application\u5165\u53e3\u66ff\u6362","text":"<p>application\u5165\u53e3\u66ff\u6362\u7684\u65b9\u5f0f\u5219\u6d89\u53ca\u5230\u4e86AndroidManifest.xml\u6587\u4ef6\u7684\u89e3\u6790\uff0c\u9700\u8981\u4ece\u4e2d\u89e3\u6790\u51fa\u6807\u7b7e\uff0c\u5e76\u8bbe\u7f6ename\u4e3a\u6211\u4eec\u5b9e\u73b0\u7684application\uff0c\u5e76\u5728\u6211\u4eec\u7684application\u4e2d\u6267\u884c\u5b8c\u903b\u8f91\u4e4b\u540e\u8c03\u7528\u539fApplication\u7684onCreate\u548cattachBaseContext\u65b9\u6cd5\u3002"},{"location":"awesome-reverse-main/qcontainer/qcontainer-patch/#xposed","title":"\u67e5\u627e\u5e76\u52a0\u8f7dXposed\u63d2\u4ef6","text":"<p>\u6709\u4e86\u5728\u5e94\u7528\u542f\u52a8\u524d\u6ce8\u5165\u4ee3\u7801\u7684\u80fd\u529b\u4e4b\u540e\uff0c\u7531\u4e8e\u6700\u7ec8\u7684\u76ee\u6807\u662f\u80fd\u591f\u52a0\u8f7dXposed\u63d2\u4ef6\u5e76\u63d0\u4f9bhook\u80fd\u529b\uff0c\u56e0\u6b64\u63a5\u4e0b\u6765\u9700\u8981\u505a\u7684\u662f\u5982\u4f55\u5b9a\u4f4d\u5230\u63d2\u4ef6APK\u5e76\u6267\u884c\u5176\u4e2d\u7684\u4ee3\u7801\uff0c\u4e5f\u5c31\u662f\u4e4b\u524d\u6240\u8bf4\u7684Xposed\u52a0\u8f7d\u63d2\u4ef6\u7684\u539f\u7406\u7684\u5b9e\u73b0\u3002</p>"},{"location":"awesome-reverse-main/qcontainer/qcontainer-patch/#_2","title":"\u67e5\u627e\u63d2\u4ef6","text":"<p>\u5728Xpatch\u4e2d\u67e5\u627e\u63d2\u4ef6\u7684\u65b9\u6cd5\u662f\u904d\u5386\u6240\u6709\u5df2\u5b89\u88c5\u7684APK\uff0c\u6839\u636eXposed\u63d2\u4ef6\u7684\u7279\u5f81\uff0c\u627e\u5230\u7b26\u5408\u7684\u63d2\u4ef6\u3002 <pre><code>Xposed\u63d2\u4ef6\u5f00\u53d1\u65f6\u6709\u4e2a\u7ea6\u5b9a\u4fbf\u662f\u5728AndroidManifest.xml\u6587\u4ef6\u4e2d\u4e66\u5199\u4ee5\u4e0b\u7684meta-data\u6807\u7b7e\uff1a\n&lt;application\n        &lt;meta-data\n                android:name=\"xposedmodule\"\n                android:value=\"true\"/&gt;\n&lt;/application&gt;\n</code></pre></p> <p>\u5728QContainer\u4e2d\u4e5f\u662f\u7c7b\u4f3c\uff0c\u4f46\u662f\u67e5\u627e\u7684meta-data\u6807\u7b7e\u66f4\u591a\uff0c\u5373QC\u63d2\u4ef6\u7f16\u5199\u4e2d\u6240\u63d0\u53ca\u7684\u90a3\u4e9b\u6807\u7b7e\u5c5e\u6027\u3002</p>"},{"location":"awesome-reverse-main/qcontainer/qcontainer-patch/#apk_1","title":"\u52a0\u8f7d\u63d2\u4ef6APK","text":"<p>\u627e\u5230\u4e86\u63d2\u4ef6APK\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230APK\u7684\u8def\u5f84(/data/app/\u5305\u540d)\uff0c\u7136\u540e\u6784\u5efaClassLoader\u52a0\u8f7d\u63d2\u4ef6\uff0c\u4e3b\u8981\u6d41\u7a0b\u5982\u4e0b\uff1a <pre><code>1.\u6839\u636e\u63d2\u4ef6Apk\u6587\u4ef6\u8def\u5f84\u6784\u9020DexClassLoader\uff1b\n2.\u8bfb\u53d6Apk asset\u76ee\u5f55\u4e0b''assets/xposed_init'\u6587\u4ef6\u4e2d\u6240\u6709\u7684\u7c7b\u540d\uff1b\n3.\u6839\u636e\u7c7b\u540d\u548cClassloader\u6784\u9020\u5165\u53e3\u7c7b\uff0c\u5e76\u6267\u884c\u7c7b\u7684\u5165\u53e3\u65b9\u6cd5handleLoadPackage\u3002\n</code></pre></p>"},{"location":"awesome-reverse-main/qcontainer/qcontainer-patch/#_3","title":"\u6ce8\u5165\u4ee3\u7801\u7684\u5b9e\u73b0","text":"<p>\u524d\u9762\u867d\u7136\u8bf4\u4e86\u6ce8\u5165\u4ee3\u7801\u7684\u65f6\u673a\u548c\u4f4d\u7f6e\uff0c\u4f46\u662f\u73b0\u5b9e\u4e2dAPK\u89e3\u538b\u540e\u5f97\u5230\u7684\u662f\u7f16\u8bd1\u540e\u5f62\u6210\u7684dex\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0cdex\u6587\u4ef6\u6709\u81ea\u5b9a\u4e49\u7684\u683c\u5f0f\u8fdb\u884c\u89e3\u6790\uff0c\u82e5\u60f3\u8981\u5728dex\u6587\u4ef6\u4e2d\u4fee\u6539\u5185\u5bb9\uff0c\u4e00\u822c\u6765\u8bf4\u6709\u4e24\u79cd\u4e3b\u6d41\u65b9\u6cd5\uff1a 1. apktool\u53cd\u7f16\u8bd1\u4e3asmali\u6587\u4ef6\uff0c\u7136\u540e\u4fee\u6539smali\u6587\u4ef6 2. \u5229\u7528dex2jar\u5c06dex\u8f6c\u6362\u4e3ajar\uff0c\u7136\u540e\u53cd\u7f16\u8bd1\u4e3ajava\u4ee3\u7801\u8fdb\u884c\u4fee\u6539\uff0c\u518d\u4f7f\u7528jar2dex\u8fdb\u884c\u56de\u7f16\u3002</p> <p>Xpatch\u4f7f\u7528\u7684\u5219\u662f\u7b2c\u4e8c\u79cd\u65b9\u6cd5\uff0cdex2jar\u5de5\u5177\u7684\u5927\u81f4\u539f\u7406\u662f\u5148\u6839\u636edex\u6587\u4ef6\u683c\u5f0f\u89c4\u5219\u89e3\u6790dex\u6587\u4ef6\u4e2d\u7684\u6240\u6709\u7c7b\u4fe1\u606f\uff0c\u7136\u540e\u518d\u5229\u7528ASM\u5de5\u5177\u6839\u636e\u8fd9\u4e9b\u4fe1\u606f\u751f\u6210Class\u6587\u4ef6\u3002</p> <p>Xpatch\u5728dex2jar\u7684\u57fa\u7840\u4e0a\u4fee\u6539\u4e86\u4ee3\u7801\uff0c\u5728\u53cd\u7f16\u8bd1\u6210jar\u65f6\u589e\u52a0\u4e00\u6bb5\u7528\u4e8e\u5728Application\u9759\u6001\u4ee3\u7801\u5757\u4e2d\u589e\u52a0XposedModuleEntry.init()\u3002</p> <p>\u4f46\u8fd9\u79cd\u65b9\u5f0f\u6548\u7387\u8f83\u4f4e\uff0c\u9700\u8981\u53cd\u7f16\u8bd1\u6240\u6709DEX\uff0c\u56e0\u6b64QContainer\u91c7\u7528\u4e86baksmali\u5e93\u5373\u7b2c\u4e00\u79cd\u65b9\u5f0f\uff0c\u53ea\u9700\u53cd\u7f16\u8bd1\u51fa\u76ee\u6807APK\u7684Application\u5bf9\u5e94\u7684smali\u6587\u4ef6\uff0c\u7136\u540e\u63d2\u5165\u9884\u5148\u7f16\u8bd1\u597d\u7684smali\u9759\u6001\u4ee3\u7801\u5757\u518d\u56de\u7f16\u5230dex\u4e2d\u5b8c\u6210smali\u66ff\u6362\u64cd\u4f5c\uff0c\u5728\u67e5\u627esmali\u6587\u4ef6\u65f6\u9700\u8981\u6ce8\u610f\u53ef\u80fd\u5b58\u5728\u591a\u5c42\u7236\u7c7b\u7684\u60c5\u51b5\uff0c\u9700\u8981\u9012\u5f52\u5411\u4e0a\u67e5\u627e\u6700\u4e0a\u5c42\u7236\u7c7b\u8fdb\u884c\u63d2\u5165\u3002</p>"},{"location":"awesome-reverse-main/qcontainer/qcontainer-patch/#_4","title":"\u81f4\u8c22","text":"<ul> <li>Xpatch</li> <li>Virjar</li> </ul>"},{"location":"awesome-reverse-main/so/arm-registers/","title":"\u5b89\u5353\u4e2d\u5e38\u7528\u7684ARCH","text":"<ul> <li>arm32 armeabi-v7a</li> <li>arm64 armeabi-v8a</li> <li>x86</li> </ul>"},{"location":"awesome-reverse-main/so/arm-registers/#_1","title":"\u4ec0\u4e48\u662f\u51fd\u6570","text":"<p>\u53ef\u6267\u884c\u7a0b\u5e8f\u662f\u4e3a\u4e86\u5b9e\u73b0\u67d0\u4e2a\u529f\u80fd\u800c\u7531\u4e0d\u540c\u673a\u5668\u6307\u4ee4\u6309\u7279\u5b9a\u89c4\u5219\u8fdb\u884c\u7ec4\u5408\u6392\u5217\u7684\u96c6\u5408\u3002\u65e0\u8bba\u9ad8\u7ea7\u8fd8\u662f\u4f4e\u7ea7\u7a0b\u5e8f\u8bed\u8a00\uff0c\u65e0\u8bba\u662f\u9762\u5411\u5bf9\u8c61\u8fd8\u662f\u9762\u5411\u8fc7\u7a0b\u7684\u8bed\u8a00\u6700\u7ec8\u7684\u4ee3\u7801\u90fd\u4f1a\u8f6c\u5316\u4e3a\u4e00\u6761\u6761\u673a\u5668\u6307\u4ee4\u7684\u5f62\u5f0f\u88ab\u6267\u884c\u3002\u4e3a\u4e86\u7ba1\u7406\u4e0a\u7684\u65b9\u4fbf\u548c\u5bf9\u4ee3\u7801\u7684\u590d\u7528\uff0c\u5f80\u5f80\u9700\u8981\u5c06\u67d0\u4e00\u6bb5\u5b9e\u73b0\u7279\u5b9a\u529f\u80fd\u7684\u6307\u4ee4\u96c6\u5408\u8fdb\u884c\u62bd\u79bb\u548c\u5904\u7406\u4ece\u800c\u5f62\u6210\u4e86\u51fd\u6570\u7684\u6982\u5ff5\uff0c\u51fd\u6570\u4e5f\u53ef\u4ee5\u79f0\u4e4b\u4e3a\u5b50\u7a0b\u5e8f\u6216\u8005\u5b50\u4f8b\u7a0b\u3002\u51fa\u73b0\u51fd\u6570\u7684\u6982\u5ff5\u540e\u53ef\u6267\u884c\u7a0b\u5e8f\u7684\u673a\u5668\u6307\u4ee4\u96c6\u5408\u5c06\u4e0d\u518d\u662f\u5355\u4e00\u7684\u4e00\u5757\u4ee3\u7801\uff0c\u800c\u662f\u7531\u591a\u4e2a\u51fd\u6570\u7ec4\u6210\u7684\u5206\u5757\u4ee3\u7801\uff0c\u8fd9\u6837\u53ef\u6267\u884c\u7a0b\u5e8f\u5c31\u53d8\u6210\u4e86\u7531\u51fd\u6570\u4e4b\u95f4\u76f8\u4e92\u8c03\u7528\u8fd9\u79cd\u65b9\u5f0f\u6765\u6784\u5efa\u548c\u7ec4\u7ec7\u4e86\u3002</p> <p>\u5982\u4f55\u53bb\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff0c\u5982\u4f55\u53bb\u5b9e\u73b0\u4e00\u4e2a\u51fd\u6570\uff0c\u5982\u4f55\u53bb\u8c03\u7528\u4e00\u4e2a\u51fd\u6570\uff0c\u5982\u4f55\u5c06\u53c2\u6570\u4f20\u9012\u7ed9\u88ab\u8c03\u7528\u7684\u51fd\u6570\uff0c\u5982\u4f55\u4f7f\u7528\u88ab\u8c03\u7528\u8005\u51fd\u6570\u7684\u8fd4\u56de\u8fd9\u4e9b\u90fd\u9700\u8981\u6709\u7edf\u4e00\u7684\u6807\u51c6\u89c4\u8303\u6765\u8fdb\u884c\u754c\u5b9a\uff0c\u8fd9\u4e2a\u89c4\u5219\u6709\u4e24\u4e2a\u5c42\u9762\u7684\u6807\u51c6\uff1a\u5728\u9ad8\u7ea7\u8bed\u8a00\u5c42\u9762\u7684\u89c4\u5219\u79f0\u4e4b\u4e3aAPI\u89c4\u5219\uff1b\u800c\u5728\u673a\u5668\u6307\u4ee4\u5c42\u9762\u4e0a\u5219\u7531\u4e8e\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\u4ee5\u53ca\u4e0d\u540c\u7684CPU\u4f53\u7cfb\u7ed3\u6784\u4e0b\u63d0\u4f9b\u7684\u6307\u4ee4\u96c6\u548c\u6784\u9020\u7a0b\u5e8f\u7684\u65b9\u5f0f\u4e0d\u540c\u800c\u4e0d\u540c\uff0c\u6240\u4ee5\u5728\u7cfb\u7edf\u5c42\u9762\u7684\u89c4\u5219\u79f0\u4e4b\u4e3aABI\u89c4\u5219\u3002</p> <p>https://juejin.im/post/6844903847039598600</p>"},{"location":"awesome-reverse-main/so/arm-registers/#arm","title":"ARM\u51fd\u6570\u8c03\u7528\u65f6\u53c2\u6570\u548c\u8fd4\u56de\u503c\u4f20\u9012\u7684\u7b80\u5355\u7ea6\u5b9a","text":""},{"location":"awesome-reverse-main/so/arm-registers/#_2","title":"\u51fd\u6570\u8c03\u7528","text":"<p>ARM\u4e2d\u51fd\u6570\u8c03\u7528\u901a\u8fc7B\u7cfb\u5217\u6307\u4ee4(B\\BL\\BLX\\BLR)\u7b49\u5b8c\u6210\uff0c\u4e4b\u95f4\u7684\u533a\u522b\u4e3b\u8981\u4e3a\u64cd\u4f5c\u6570\u4e3a\u5bc4\u5b58\u5668\u8fd8\u662f\u7acb\u5373\u6570\u3001\u662f\u5426\u652f\u6301\u5207\u6362THUMB\u72b6\u6001\u3001\u662f\u5426\u4fdd\u5b58\u5f53\u524d\u5730\u5740\u81f3LR\u5bc4\u5b58\u5668\u3002</p>"},{"location":"awesome-reverse-main/so/arm-registers/#_3","title":"\u51fd\u6570\u8fd4\u56de","text":"<p>ARM32\u4f4d\u7cfb\u7edf\u6ca1\u6709\u4e13\u95e8\u7528\u4e8e\u8fd4\u56de\u7684ret\u6307\u4ee4\uff0c\u56e0\u4e3a\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539PC\u5bc4\u5b58\u5668\u7684\u503c\uff0c\u56e0\u6b64\u51fd\u6570\u8fd4\u56de\u65f6\u53ef\u4ee5\u76f4\u63a5\u8bbe\u7f6ePC\u5bc4\u5b58\u5668\u7684\u503c\u4e3a\u51fd\u6570\u7684\u8fd4\u56de\u5730\u5740\uff0c\u4e5f\u53ef\u4ee5\u6267\u884cb/bx\u8df3\u8f6c\u6307\u4ee4\u5e76\u6307\u5b9a\u76ee\u6807\u5730\u5740\u4e3aLR\u5bc4\u5b58\u5668\u4e2d\u7684\u503c\u3002</p> <p>ARM64\u51fd\u6570\u8fd4\u56de\u7684\u6307\u4ee4\u662fret\uff0c\u7b49\u4ef7\u4e8e\u5c06LR\u5bc4\u5b58\u5668\u4e2d\u7684\u503c\u8d4b\u503c\u7ed9PC\u5bc4\u5b58\u5668\u3002</p> <p>\u8fd4\u56de\u503c\u5219\u901a\u8fc7R0\u5bc4\u5b58\u5668\u8fdb\u884c\u4fdd\u5b58\u3002</p>"},{"location":"awesome-reverse-main/so/arm-registers/#_4","title":"\u53c2\u6570\u4f20\u9012","text":"<p>\u6574\u4e2aARM32\u4f4d\u4f53\u7cfb\u4e0b\u7684\u53c2\u6570\u4f20\u9012\u548c\u53c2\u6570\u8fd4\u56de\u90fd\u4e0d\u4f1a\u7528\u5230\u6d6e\u70b9\u5bc4\u5b58\u5668\u3002\u5bf9\u4e8e\u5927\u4e8e4\u5b57\u8282\u7684\u57fa\u672c\u7c7b\u578b\u5219\u4f1a\u62c6\u5206\u4e3a\u4e24\u90e8\u5206\u4f9d\u6b21\u4fdd\u5b58\u5230\u8fde\u7eed\u7684\u4e24\u4e2a\u5bc4\u5b58\u5668\u4e2d\u3002\u4f20\u9012\u6839\u636e\u53c2\u6570\u7684\u4e2a\u6570\u4ece\u5de6\u5230\u53f3\u4f9d\u6b21\u4fdd\u5b58\u5230R0-R3\u56db\u4e2a\u5bc4\u5b58\u5668\u4e2d\uff0c\u8d85\u8fc7\u7684\u90e8\u5206\u4ece\u53f3\u5f80\u5de6\u4f9d\u6b21\u4fdd\u5b58\u5230\u6808\u5185\u5b58\u4e2d\u3002ARM64\u4e2d\u5bc4\u5b58\u5668\u4e2a\u6570\u4e3a8\u4e2a\u3002</p>"},{"location":"awesome-reverse-main/so/elf-study/","title":"Elf study","text":"<p>ELF\u6587\u4ef6\uff1a\u53ef\u6267\u884c\u53ef\u94fe\u63a5\u6587\u4ef6 </p> <p>ELF\u6587\u4ef6\u5728\u78c1\u76d8\u4e2d\u548c\u5728\u5185\u5b58\u4e2d\u662f\u4e0d\u540c\u7684\u5f62\u5f0f\u5b58\u5728\uff0c\u5bf9\u5e94\u7740\u94fe\u63a5\u89c6\u56fe\u548c\u6267\u884c\u89c6\u56fe\u3002</p> <p>\u65e0\u8bba\u662f\u54ea\u4e2a\u89c6\u56fe\uff0cELF hader\u90fd\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u90e8\u5206\uff0c\u63a5\u7740\u6839\u636e\u4e0d\u540c\u89c6\u56fe\uff0c\u53ef\u80fd\u4e3a\u4e0d\u540c \u7684Section\u90e8\u5206\u6216Program\u90e8\u5206\u3002ELFHeader\u8bb0\u5f55\u7740Section\u548cProgram\u90e8\u5206\u7684\u4fe1\u606f\u4ee5\u53caELF\u6587\u4ef6\u7684\u5c5e\u6027\uff0c\u56e0\u6b64\u4e0d\u8fc7\u591a\u63cf\u8ff0\u3002</p>"},{"location":"awesome-reverse-main/so/elf-study/#linking-view","title":"linking view \u8fde\u63a5\u8bd5\u56fe","text":"<p>\u4ece\u8fde\u63a5\u89c6\u56fe\u6765\u770b\uff0c\u4e00\u4e2aELF\u6587\u4ef6\u4f1a\u5305\u542b\u6709\u591a\u4e2aSection\uff0c\u4e3a\u4e86\u63cf\u8ff0\u8fd9\u4e9bSection\u7684\u4fe1\u606f\u548c\u65b9\u4fbf\u7d22\u5f15\uff0c\u8fd8\u6709\u4e00\u4e2aSection Header Table\u3002</p>"},{"location":"awesome-reverse-main/so/elf-study/#section-header-table","title":"Section Header Table","text":"<p>SHT\u662f\u4e2a\u7ed3\u6784\u4f53\u6570\u7ec4\uff0c\u6bcf\u4e2a\u7ed3\u6784\u4f53\u5bf9\u5e94\u7740\u4e00\u9879Section * sh_name section\u8868\u540d\uff0c\u4fdd\u5b58\u7684\u662f\u5728.shstrtab\u4e2d\u7684\u504f\u79fb\u91cf * sh_type * sh_flags * sh_addr * sh_offset * sh_size</p>"},{"location":"awesome-reverse-main/so/elf-study/#shstrtab-section","title":".shstrtab section","text":"<p>Section Header String Table\uff0c\u5b58\u50a8Section\u540d\u79f0\u7528\u5230\u7684\u5b57\u7b26\u4e32\u4fe1\u606f\u3002</p> <p>PS\uff1aELF\u6587\u4ef6\u53ef\u80fd\u5305\u542b\u591a\u4e2aString Table Sectino\uff0c\u4f8b\u5982.strtab section\uff08\u5b58\u50a8.symtab\u7b26\u53f7\u8868\u7528\u5230\u7684\u5b57\u7b26\u4e32\uff09\u3001.dynstr section\uff08\u5b58\u50a8.dynsym\u7b26\u53f7\u8868\u7528\u5230\u7684\u5b57\u7b26\u4e32\uff09</p>"},{"location":"awesome-reverse-main/so/elf-study/#textbss-section","title":".text\u548c.bss section","text":"<p>.text section\uff1a\u7528\u4e8e\u5b58\u50a8\u7a0b\u5e8f\u7684\u6307\u4ee4\u3002\u7b80\u5355\u70b9\u8bf4\uff0c\u7a0b\u5e8f\u7684\u673a\u5668\u6307\u4ee4\u5c31\u653e\u5728\u8fd9\u4e2asection\u4e2d\u3002\u3002</p> <p>.bss section\uff1abss\u662fblock storage segment\u7684\u7f29\u5199\u3002ELF\u89c4\u8303\u4e2d\uff0c.bss section\u5305\u542b\u4e86\u4e00\u5757\u5185\u5b58\u533a\u57df\uff0c\u8fd9\u5757\u533a\u57df\u5728ELF\u6587\u4ef6\u88ab\u52a0\u8f7d\u5230\u8fdb\u7a0b\u7a7a\u95f4\u65f6\u4f1a\u7531\u7cfb\u7edf\u521b\u5efa\u5e76\u8bbe\u7f6e\u8fd9\u5757\u5185\u5b58\u7684\u5185\u5bb9\u4e3a0\u3002\u6ce8\u610f\uff0c.bss section\u5728ELF\u6587\u4ef6\u91cc\u4e0d\u5360\u636e\u4efb\u4f55\u6587\u4ef6\u7684\u7a7a\u95f4\uff0c\u6240\u4ee5\u5176sh_type\u4e3aSHF_NOBITS\uff08\u53d6\u503c\u4e3a8\uff09\uff0c\u5b83\u53ea\u662f\u5728ELF\u52a0\u8f7d\u5230\u5185\u5b58\u7684\u65f6\u5019\u4f1a\u5206\u914d\u4e00\u5757\u7531sh_size\u6307\u5b9a\u5927\u5c0f\u7684\u5185\u5b58\u3002\u4e00\u822c\u7528\u4e8e\u5b58\u50a8\u5168\u5c40\u53d8\u91cf\u3002</p>"},{"location":"awesome-reverse-main/so/elf-study/#symtab-section","title":".symtab section","text":"<p>.symtab section\u662fELF\u4e2d\u975e\u5e38\u91cd\u8981\u7684\u4e00\u4e2asection\uff0c\u91cc\u8fb9\u5b58\u50a8\u7684\u662f\u7b26\u53f7\u8868\uff08SymbolTable\uff09\u3002\u5728\u94fe\u63a5\u7684\u8fc7\u7a0b\u4e2d\u9700\u8981\u628a\u591a\u4e2a\u4e0d\u540c\u7684\u76ee\u6807\u6587\u4ef6\u5408\u5e76\u5728\u4e00\u8d77\uff0c\u4e0d\u540c\u7684\u76ee\u6807\u6587\u4ef6\u76f8\u4e92\u4e4b\u95f4\u4f1a\u5f15\u7528\u53d8\u91cf\u548c\u51fd\u6570\u3002\u5728\u94fe\u63a5\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u5c06\u51fd\u6570\u548c\u53d8\u91cf\u7edf\u79f0\u4e3a\u7b26\u53f7\uff0c\u51fd\u6570\u540d\u548c\u53d8\u91cf\u540d\u5c31\u662f\u7b26\u53f7\u540d\u3002.symtab section\u7684\u7c7b\u578b\u4e3aSHT_SYMTAB\u3002\u4e00\u822c\u800c\u8a00\uff0c\u7b26\u53f7\u8868\u4e3b\u8981\u7528\u4e8e\u7f16\u8bd1\u94fe\u63a5\uff0c\u4e5f\u53ef\u4ee5\u53c2\u4e0e\u52a8\u6001\u5e93\u7684\u52a0\u8f7d\u3002</p>"},{"location":"awesome-reverse-main/so/elf-study/#dynsymtab-section","title":".dynsymtab section","text":"<p>.symtab section\u5f80\u5f80\u5305\u542b\u4e86\u5168\u90e8\u7684\u7b26\u53f7\u8868\u4fe1\u606f\uff0c\u4f46\u4e0d\u662f\u5176\u4e2d\u6240\u6709\u7b26\u53f7\u4fe1\u606f\u90fd\u4f1a\u53c2\u4e0e\u52a8\u6001\u94fe\u63a5\uff0c\u6240\u4ee5ELF\u8fd8\u4e13\u95e8\u5b9a\u4e49\u4e00\u4e2a.dynsym section\uff08\u7c7b\u578b\u4e3aSHT_DYNSYM\uff09\uff0c\u8fd9\u4e2asection\u5b58\u50a8\u7684\u4ec5\u662f\u52a8\u6001\u94fe\u63a5\u9700\u8981\u7684\u7b26\u53f7\u4fe1\u606f\u3002</p>"},{"location":"awesome-reverse-main/so/elf-study/#relrela-section","title":".rel\u548c.rela section","text":"<p>\u8bbf\u95ee\u5168\u5c40\u53d8\u91cf\u7684\u64cd\u4f5c\u901a\u5e38\u4f1a\u88ab\u7f16\u8bd1\u5668\u7ffb\u8bd1\u6210\u8bbf\u95ee\u5185\u5b58\u5730\u5740\u7684\u6307\u4ee4\u3002\u7136\u800c\uff0c\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\u4e2d\u7684\u8282\u53ea\u8bb0\u5f55\u4e86\u5b83\u5728\u6587\u4ef6\u4e2d\u7684\u4f4d\u7f6e\uff0c\u800c\u4e0d\u50cf\u6bb5\u4e00\u6837\u8bb0\u5f55\u5b83\u5728\u5185\u5b58\u4e2d\u7684\u4f4d\u7f6e\uff0c\u56e0\u6b64\u6211\u4eec\u5e76\u4e0d\u77e5\u9053\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u5168\u5c40\u53d8\u91cf\u7684\u5185\u5b58\u5730\u5740\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u5982\u679c\u4e00\u4e2a\u6587\u4ef6\u5f15\u7528\u4e86\u53e6\u4e00\u4e2a\u6587\u4ef6\u5b9a\u4e49\u7684\u5168\u5c40\u53d8\u91cf\uff0c\u90a3\u4e48\u76f4\u5230\u5c06\u5b83\u4eec\u94fe\u63a5\u8d77\u6765\u4e4b\u524d\uff0c\u6211\u4eec\u90fd\u4e0d\u53ef\u80fd\u77e5\u9053\u8fd9\u4e2a\u5168\u5c40\u53d8\u91cf\u7684\u5185\u5b58\u5730\u5740\u3002 \u8fdb\u4e00\u6b65\u5730\u8bf4\uff0c\u76f4\u5230\u6700\u7ec8\u94fe\u63a5\u6210\u53ef\u6267\u884c\u6587\u4ef6\u65f6\uff0c\u6211\u4eec\u624d\u80fd\u77e5\u9053\u5168\u5c40\u53d8\u91cf\u548c\u51fd\u6570\u7684\u5185\u5b58\u5730\u5740\uff0c\u5728\u6b64\u4e4b\u524d\u6211\u4eec\u59cb\u7ec8\u65e0\u6cd5\u751f\u6210\u8bbf\u95ee\u5b83\u4eec\u7684\u6307\u4ee4\u3002</p> <p>\u5728\u9759\u6001\u94fe\u63a5\uff08\u52a8\u6001\u94fe\u63a5\u5219\u662fplt\u8868\u548cgot\u8868\uff09\u4e2dELF \u6587\u4ef6\u7684\u505a\u6cd5\u662f\uff1a\u4ecd\u7136\u6309\u7167\u6b63\u5e38\u7684\u6d41\u7a0b\u751f\u6210\u8bbf\u95ee\u8fd9\u4e9b\u5168\u5c40\u53d8\u91cf\u548c\u51fd\u6570\u7684\u6307\u4ee4\uff0c\u4f46\u662f\u5728\u5185\u5b58\u5730\u5740\u90e8\u5206\u586b\u5199 0\uff0c\u5e76\u4e14\u5c06\u8fd9\u4e9b\u5360\u4f4d 0 \u7684\u51fa\u73b0\u7684\u4f4d\u7f6e\u8bb0\u5f55\u5728 ELF \u6587\u4ef6\u4e2d\u3002\u5728\u786e\u5b9a\u4e86\u6240\u6709\u8fd9\u4e9b\u7b26\u53f7\u7684\u5185\u5b58\u5730\u5740\u540e\uff0c\u5c06\u5360\u4f4d 0 \u6539\u6210\u6b63\u786e\u7684\u5185\u5b58\u5730\u5740\u3002</p> <p>\u5982\u679c\u8bbf\u95ee\u7684\u662f\u5168\u5c40\u6570\u7ec4\u4e2d\u7684\u67d0\u4e2a\u5143\u7d20\u6216\u8005\u5168\u5c40\u7ed3\u6784\u7684\u67d0\u4e2a\u6210\u5458\uff0c\u6211\u4eec\u4f1a\u5c06\u5143\u7d20\u6216\u6210\u5458\u7684\u504f\u79fb\u91cf\u5f53\u4f5c\u5360\u4f4d\u7b26\u5199\u5728\u5185\u5b58\u5730\u5740\u51fa\u73b0\u7684\u5730\u65b9\u3002\u5728\u786e\u5b9a\u4e86\u7b26\u53f7\u7684\u5185\u5b58\u5730\u5740\u540e\uff0c\u5c06\u8fd9\u4e24\u8005\u76f8\u52a0\u5c31\u53ef\u4ee5\u5f97\u5230\u6b63\u786e\u7684\u5185\u5b58\u5730\u5740\u3002\u8fd9\u4e2a\u504f\u79fb\u91cf\u88ab\u79f0\u4f5c addon \u3002</p> <p>\u8bb0\u5f55\u8fd9\u4e9b\u5360\u4f4d\u7b26\u7684\u4f4d\u7f6e\u5c31\u662f\u91cd\u5b9a\u4f4d\u8868\uff0c\u91cd\u5b9a\u4f4d\u6700\u4e3b\u8981\u7684\u4f5c\u7528\u5c31\u662f\u5c06\u7b26\u53f7\u7684\u4f7f\u7528\u4e4b\u5904\u548c\u7b26\u53f7\u7684\u5b9a\u4e49\u4e4b\u5904\u5173\u8054\u8d77\u6765\u3002</p> <p>\u94fe\u63a5\u5668Linker\u5728\u5904\u7406\u76ee\u6807\u6587\u4ef6\u65f6\uff0c\u9700\u8981\u5bf9\u4ee3\u7801\u6bb5\u548c\u6570\u636e\u6bb5\u4e2d\u7edd\u5bf9\u5730\u5740\u5f15\u7528\u7684\u4f4d\u7f6e\u8fdb\u884c\u91cd\u5b9a\u4f4d\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u9700\u8981\u91cd\u5b9a\u4f4d\u7684\u4ee3\u7801\u6bb5\u6216\u6570\u636e\u6bb5\uff0c\u90fd\u4f1a\u6709\u4e00\u4e2a\u76f8\u5e94\u7684\u91cd\u5b9a\u4f4d\u8868\u3002\u6bd4\u5982\u201d.rel.text\u201d\u5c31\u662f\u9488\u5bf9\u201d.text\u201d\u7684\u91cd\u5b9a\u4f4d\u8868\uff0c\u201d.rel.data\u201d\u5c31\u662f\u9488\u5bf9\u201d.data\u201d\u7684\u91cd\u5b9a\u4f4d\u8868\u3002\u4f8b\u5982\u4f7f\u7528objdump -r\u89e3\u6790\u65f6\u53ef\u4ee5\u770b\u5230\uff0c\u91cd\u5b9a\u4f4d\u8868\u4e2d\u4f1a\u5305\u542b\uff1a * offset\uff1a\u91cd\u5b9a\u4f4d\u7684\u5165\u53e3\u504f\u79fb\uff0c\u5bf9\u4e8e\u53ef\u91cd\u5b9a\u4f4d\u6587\u4ef6\u6765\u8bf4\uff0c\u8fd9\u4e2a\u503c\u662f\u8be5 \u91cd\u5b9a\u4f4d\u5165\u53e3\u6240\u8981\u4fee\u6b63\u7684\u4f4d\u7f6e\u7684\u7b2c\u4e00\u4e2a \u5b57\u8282\u76f8\u5bf9\u6bb5\u8d77\u59cb\u7684\u504f\u79fb\u3002\u5bf9\u4e8e \u53ef\u6267\u884c\u6587\u4ef6\u6216\u8005\u5171\u4eab\u6587\u4ef6\u6765\u8bf4\uff0c\u8fd9\u4e2a\u503c\u662f\u6240\u6709\u4fee\u6b63\u7684\u4f4d\u7f6e\u7684 \u7b2c\u4e00\u4e2a\u5b57\u8282\u7684\u865a\u62df\u5730\u5740\u3002 * value\uff1a\u8981\u91cd\u5b9a\u4f4d\u7684\u51fd\u6570\u6216\u8005\u53d8\u91cf\u540d\u79f0 * \u91cd\u5b9a\u4f4d\u65f6\u7684\u5730\u5740\u8ba1\u7b97\u65b9\u5f0f * addon</p> <p>\u5e38\u89c1\u7684\u5730\u5740\u8ba1\u7b97\u65b9\u5f0f\u6709\uff1a *  R_386_32 \u7b26\u53f7\u5185\u5b58\u5730\u5740 + Addon *  R_386_PC32 \u7b26\u53f7\u5185\u5b58\u5730\u5740 + Addon -PC</p> <p>\u5982\u4f55\u5c06\u7b26\u53f7\u7684\u4f7f\u7528\u4e4b\u5904\u548c\u5b83\u7684\u5b9a\u4e49\u4e4b\u5904\u5173\u8054\u8d77\u6765\u5462\uff0c\u65b9\u6cd5\u6709\u4e24\u79cd\uff0c</p> <p>\u00b7\u7f16\u8bd1\u94fe\u63a5\u8fc7\u7a0b\u4e2d\uff0c\u6700\u7ec8\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\u6216\u52a8\u6001\u5e93\u6587\u4ef6\u65f6\uff0c\u7f16\u8bd1\u94fe\u63a5\u5668\u5c06\u6839\u636eELF\u6587\u4ef6\u4e2d\u7684\u91cd\u5b9a\u4f4d\u8868\u8ba1\u7b97\u6700\u7ec8\u7684\u7b26\u53f7\u7684\u4f4d\u7f6e\u3002</p> <p>\u00b7\u52a0\u8f7d\u52a8\u6001\u5e93\u65f6\uff0c\u52a0\u8f7d\u5668\u4e5f\u4f1a\u6839\u636e\u91cd\u5b9a\u4f4d\u4fe1\u606f\u4fee\u6539\u5bf9\u5e94\u7684\u7b26\u53f7\u4f7f\u7528\u4e4b\u5904\uff0c\u4f7f\u5f97\u52a8\u6001\u5e93\u80fd\u6b63\u5e38\u5de5\u4f5c\u3002</p> <p>rela\u548crel\u7684\u533a\u522b\u5728\u4e8e.rel \u683c\u5f0f\u7684\u91cd\u5b9a\u4f4d\u8868\u5c06 addon \u5199\u5728\u5185\u5b58\u5730\u5740\u51fa\u73b0\u7684\u4f4d\u7f6e\uff0c\u5f53\u4f5c\u5360\u4f4d\u7b26\uff0c\u5982\u540c\u524d\u9762\u63cf\u8ff0\u7684\u4e00\u6837\uff1b\u800c .rela \u683c\u5f0f\u7684\u91cd\u5b9a\u4f4d\u8868\u5c06 addon \u5199\u5728\u91cd\u5b9a\u4f4d\u8868\u4e2d\uff0c\u800c\u4e0d\u662f\u88ab\u91cd\u5b9a\u4f4d\u7684\u4f4d\u7f6e\u4e0a\u3002\u3002</p>"},{"location":"awesome-reverse-main/so/elf-study/#reldynrelplt","title":".rel.dyn\u548c.rel.plt","text":"<p>\u52a8\u6001\u94fe\u63a5\u7684\u6587\u4ef6\u4e2d\uff0c\u6709\u4e13\u95e8\u7684\u91cd\u5b9a\u4f4d\u8868\u5206\u522b\u53eb\u505a.rel.dyn\u548c.rel.plt\u3002</p> <p>\u524d\u8005\u662f\u5bf9\u6570\u636e\u5f15\u7528\u7684\u4fee\u6b63\uff0c\u6240\u4fee\u6b63\u7684\u4f4d\u7f6e\u4f4d\u4e8e.got\u4ee5\u53ca\u6570\u636e\u6bb5\u3002</p> <p>\u540e\u8005\u662f\u5bf9\u51fd\u6570\u5f15\u7528\u7684\u4fee\u6b63\uff0c\u6240\u4fee\u6b63\u7684\u4f4d\u7f6e\u4f4d\u4e8e.got</p>"},{"location":"awesome-reverse-main/so/elf-study/#execution-view","title":"execution view \u6267\u884c\u89c6\u56fe","text":"<p>Execution View\u4e2dELF\u5fc5\u987b\u5305\u542bProgram Header Table\uff08\u4ee5\u540e\u7b80\u79f0PH Table\uff09\u3002\u548cSection Header Table\u76f8\u5bf9\u5e94\uff0cPH Table\u63cf\u8ff0\u7684\u662fsegment\u7684\u4fe1\u606f\u3002</p> <p>PHT\u4e2d\u51e0\u4e2a\u5173\u952e\u5b57\u6bb5 * p_offset:\u8be5segment\u4f4d\u4e8e\u6587\u4ef6\u7684\u8d77\u59cb\u4f4d\u7f6e * p_filesz:\u8be5segment\u5728\u6587\u4ef6\u4e2d\u5360\u636e\u7684\u5927\u5c0f\uff0c\u53ef\u4ee5\u4e3a0\uff0c\u56e0\u4e3asegment\u662f\u7531section\u7ec4\u6210\u7684\uff0c\u6709\u4e9bsection\u5728\u6587\u4ef6\u4e2d\u4e0d\u5360\u636e\u7a7a\u95f4\uff0c\u6bd4\u5982\u524d\u6587\u63d0\u5230\u7684.bss section\u3002p_offset\u548cp_filesz\u51b3\u5b9a\u4e86Section\u5230Segement\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\uff0c\u533a\u95f4\u843d\u5728[p_offset\uff0cp_offset+p_filesz]\u8303\u56f4\u5185\u7684Section\u5c5e\u4e8e\u540c\u4e00\u4e2aSegment\u3002</p> <p>\u00b7ELF\u6587\u4ef6\u771f\u6b63\u6838\u5fc3\u7684\u5185\u5bb9\u5176\u5b9e\u662f\u5305\u542b\u5728\u4e00\u4e2a\u4e2a\u7684Section\u4e2d\u3002\u4e86\u89e3Section\u7684\u7c7b\u578b\u3001\u5185\u90e8\u5bf9\u5e94\u7684\u6570\u636e\u7ed3\u6784\u53ca\u529f\u80fd\u5bf9\u4e8e\u638c\u63e1ELF\u6709\u7740\u81f3\u5173\u91cd\u8981\u7684\u4f5c\u7528\u3002</p> <p>\u00b7\u5f53ELF\u6587\u4ef6\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u65f6\uff0cELF\u6587\u4ef6\u4e0d\u540c\u7684Section\u4f1a\u6839\u636ePH Table\u7684\u6620\u5c04\u5173\u7cfb\u6620\u5c04\u5230\u8fdb\u7a0b\u7684\u865a\u62df\u5185\u5b58\u7a7a\u95f4\u4e2d\u53bb\u3002\u8fd9\u65f6\u7684Section\u5c31\u4f1a\u4ee5Segment\u7684\u6837\u5b50\u5448\u73b0\u51fa\u6765\u3002</p> <p>\u53e6\u5916\uff0c\u7ed3\u5408Linking View\u548c\u672c\u8282\u7684\u5185\u5bb9\u53ef\u77e5\uff0c\u8981\u5b9e\u73b0\u4e00\u4e2aELF\u6587\u4ef6\u7684\u89e3\u6790\u6709\u4e24\u79cd\u65b9\u5f0f\u3002\u00b7\u57fa\u4e8eLinking View\u7684\u65b9\u5f0f\uff1a\u5373\u6839\u636eSection Header Table\u89e3\u6790Section\u3002\u8fd9\u65f6\u53ea\u8981\u6309\u57fa\u4e8e\u6587\u4ef6\u7684\u504f\u79fb\u91cf\u6765\u8bfb\u53d6\u4e0d\u540cSection\u7684\u5185\u5bb9\uff0c\u518d\u6839\u636eSection\u5bf9\u5e94\u7684\u6570\u636e\u7ed3\u6784\u6765\u89e3\u6790\u5b83\u5c31\u53ef\u4ee5\u3002\u8fd9\u79cd\u65b9\u5f0f\u9002\u7528\u4e8e\u7c7b\u4f3creadelf\u8fd9\u6837\u7684\u5de5\u5177\u3002</p> <p>\u00b7\u57fa\u4e8eExecution View\u7684\u65b9\u5f0f\uff1a\u5373\u5148\u6253\u5f00\u6587\u4ef6\uff0c\u7136\u540e\u9010\u4e2a\u5c06PH Table\uff08ProgramHeader Table\uff09\u4e2d\u7684Segment\u6620\u5c04\u5230\uff08\u5229\u7528mmap\u7cfb\u7edf\u8c03\u7528\uff09\u5bf9\u5e94\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\uff08p_vaddr\uff09\u4e0a\u53bb\u3002\u7136\u540e\u5c31\u53ef\u4ee5\u904d\u5386Segment\u7684\u5185\u5bb9\u3002\u4e0d\u8fc7\uff0c\u7531\u4e8eSegment\u53ef\u7531\u591a\u4e2aSection\u7ec4\u6210\uff0c\u5728\u89e3\u6790\u8fd9\u6837\u7684Segment\u4e4b\u65f6\uff0c\u4e0d\u514d\u8fd8\u662f\u9700\u8981\u501f\u52a9Section HeaderTable\u3002\u8fd9\u79cd\u65b9\u6cd5\u6bd4\u57fa\u4e8eLinking View\u7684\u65b9\u5f0f\u9ebb\u70e6\u4e00\u4e9b\uff0c\u4f46Android\u91cc\u7684oatdump\u5de5\u5177\u5c31\u662f\u7528\u8fd9\u79cd\u65b9\u6cd5\u89e3\u6790oat\u6587\u4ef6\u7684\u3002</p>"},{"location":"awesome-reverse-main/so/elf-study/#global-offset-table","title":"Global Offset Table","text":"<p>\u6e90\u7801\u7f16\u8bd1\u6210ELF\u6587\u4ef6\u540e\uff0c\u4ee3\u7801\u5c31\u88ab\u7ffb\u8bd1\u6210\u4e86\u673a\u5668\u6307\u4ee4\u3002\u800c\u51fd\u6570\u8c03\u7528\u5bf9\u5e94\u7684\u6307\u4ee4\u5c31\u662f\u6307\u793aCPU\u5148\u8df3\u5230\u8be5\u51fd\u6570\u6240\u5728\u7684\u5185\u5b58\u5730\u5740\uff0c\u7136\u540e\u6267\u884c\u540e\u9762\u7684\u6307\u4ee4\u3002\u6240\u4ee5\uff0c\u5bf9\u4e8e\u51fd\u6570\u8c03\u7528\u800c\u8a00\uff0c\u6700\u5173\u952e\u4e4b\u5904\u83ab\u8fc7\u4e8e\u786e\u5b9a\u8be5\u51fd\u6570\u7684\u5165\u53e3\u5728\u5185\u5b58\u4e2d\u7684\u5730\u5740\u4e86\u3002\u90a3\u4e48\uff0c\u5982\u4f55\u786e\u5b9a\u8fd9\u4e2a\u51fd\u6570\u7684\u5730\u5740[\u63d2\u56fe]\u5462\uff1f</p> <p>\u4e00\u79cd\u5f88\u76f4\u89c2\u7684\u65b9\u6cd5\u662f\u7f16\u8bd1\u65f6\u786e\u5b9a\u3002\u5982\u679c\u7f16\u8bd1\u65f6\u5c31\u80fd\u8ba1\u7b97\u51fa\u67d0\u4e2a\u51fd\u6570\u7684\u5730\u5740\uff0c\u8fd9\u4e2a\u95ee\u9898\u5c31\u975e\u5e38\u7b80\u5355\u4e86\u3002\u6bd4\u5982main\u51fd\u6570\u8c03\u7528test\u51fd\u6570\uff0c\u5982\u679ctest\u51fd\u6570\u5728\u7f16\u8bd1\u65f6\u5f97\u5230\u5176\u5165\u53e3\u5730\u5740\u4e3a0x00009000\uff08\u865a\u62df\u5730\u5740\uff09\u7684\u8bdd\u3002\u90a3\u4e48\uff0c\u5bf9\u5e94\u7684\u8c03\u7528\u6307\u4ee4\u53ef\u80fd\u5c31\u662f\"call 0x00009000\"\u3002\u4f46\u73b0\u5b9e\u4e2d\u8fd9\u79cd\u505a\u6cd5\u5f88\u4e0d\u5b9e\u7528\uff0c\u539f\u56e0\u6709\u5f88\u591a\uff0c\u6bd4\u5982\uff1a</p> <ul> <li>\u5982\u679c\u4e00\u4e2a\u7a0b\u5e8f\u4f7f\u7528\u591a\u4e2a\u52a8\u6001\u5e93\uff0c\u7f16\u8bd1\u5668\u5f88\u96be\u4e3a\u6240\u6709\u51fd\u6570\u90fd\u786e\u5b9a\u4e00\u4e2a\u7edd\u5bf9\u5730\u5740\u3002</li> <li>\u51fa\u4e8e\u5b89\u5168\u8003\u8651\uff0c\u64cd\u4f5c\u7cfb\u7edf\u52a0\u8f7d\u52a8\u6001\u5e93\u5230\u5185\u5b58\u7684\u65f6\u5019\u5e76\u4e0d\u4f1a\u4f7f\u7528\u56fa\u5b9a\u7684\u4f4d\u7f6e\uff0c\u800c\u662f\u4f1a\u57fa\u4e8e\u4e00\u4e2a\u968f\u673a\u6570\u6765\u8ba1\u7b97\u6700\u7ec8\u7684\u52a0\u8f7d\u4f4d\u7f6e\u3002\u5982\u6b64\uff0c0x00009000\u8fd9\u4e2a\u5730\u5740\u4e0d\u592a\u53ef\u80fd\u662ftest\u51fd\u6570\u5728\u5185\u5b58\u540e\u7684\u771f\u6b63\u5730\u5740\u3002\u5e76\u4e14\uff0ctest\u7684\u771f\u5b9e\u5730\u5740\u6bcf\u6b21\u968f\u7740\u52a8\u6001\u5e93\u52a0\u8f7d\u90fd\u53ef\u80fd\u4e0d\u4e00\u6837\u3002</li> </ul> <p>ELF\u89c4\u8303\u4e2d\u7684GOT\u8868\u5c31\u662f\u7528\u4e8e\u89e3\u51b3\u6b64\u95ee\u9898\u7684\u3002</p> <p>GOT\u8868\u4e5f\u662f\u4e00\u4e2aSection\uff0cGOT\u8868\u5bf9\u5e94\u7684section\u540d\u4e3a.got\uff0c\u6bcf\u4e00\u9879\u5b58\u50a8\u7684\u662f\u8be5ELF\u6587\u4ef6\u7528\u5230\u7684\u7b26\u53f7\uff08\u51fd\u6570\u6216\u53d8\u91cf\uff09\u7684\u5730\u5740\u3002</p> <p></p> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0cGOT\u7b2c2\u9879\u548c\u7b2c3\u9879\u5185\u5bb9\u7531interpreter\u7a0b\u5e8f\u8bbe\u7f6e\uff0c</p> <p>\u5373GOT[1]\u7531runtime linker\u8bbe\u7f6e\uff0cProgram Header\u4e2d\u7d22\u5f15\u53f7\u4e3a1\u7684\u5143\u7d20\uff0c\u5176\u7c7b\u578b\u4e3aPT_INTERP\uff0c\u503c\u4e3a/linux64/ld-linux-x86-64.so.2\u3002\u8fd9\u4e2a\u4e1c\u897f\u5176\u5b9e\u5c31\u662f\u94fe\u63a5\u5668ld\u3002\u5f53\u53ef\u6267\u884c\u7a0b\u5e8f\u4f7f\u7528\u52a8\u6001\u5e93\u7684\u65f6\u5019\uff0c\u7f16\u8bd1\u5668\u4f1a\u5c06ld\u7684\u4fe1\u606f\u653e\u5230ELF\u5bf9\u5e94\u4f4d\u7f6e\u4e0a\u3002\u5f53\u53ef\u6267\u884c\u7a0b\u5e8f\u88ab\u64cd\u4f5c\u7cfb\u7edf\u52a0\u8f7d\u548c\u51c6\u5907\u6267\u884c\u4e4b\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53d1\u73b0\u8be5\u7a0b\u5e8f\u6709PT_INTERP\u7c7b\u578b\u7684segment\uff0c\u5c31\u4f1a\u5148\u8df3\u8f6c\u5230ld\u7684entry point\u6267\u884c\uff08\u6ce8\u610f\uff0cld\u4e5f\u662f\u4e00\u4e2aELF\u6587\u4ef6\uff09\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5bf9\u4e8e\u4f7f\u7528\u52a8\u6001\u5e93\u7684\u53ef\u6267\u884c\u7a0b\u5e8f\uff0c\u64cd\u4f5c\u7cfb\u7edf\u9996\u5148\u6267\u884c\u7684\u662fld\uff0c\u800c\u4e0d\u662f\u53ef\u6267\u884c\u7a0b\u5e8f\u672c\u8eab\u3002\u5f53\u7136\uff0c\u64cd\u4f5c\u7cfb\u7edf\u8fd8\u4f1a\u628a\u548c\u5f85\u6267\u884c\u7684\u76ee\u6807\u7a0b\u5e8f\u4fe1\u606f\u4e00\u8d77\u544a\u8bc9ld\u3002ld\u5219\u8d1f\u8d23\u52a0\u8f7d\u90a3\u4e9b\u6267\u884c\u65f6\u9700\u8981\u7684\u52a8\u6001\u5e93\uff08\u662f\u6839\u636e\u53ef\u6267\u884c\u7a0b\u5e8fELF\u6587\u4ef6\u91cc\u7684.dynsym\u8868\u7b49\u4fe1\u606f\u6765\u5904\u7406\uff09\uff0c\u8bbe\u7f6e\u597dGOT\u7b49\u5bf9\u5e94\u9879\u3002\u6700\u540e\uff0c\u7cfb\u7edf\u7684\u63a7\u5236\u6743\u5c06\u4ea4\u8fd8\u7ed9\u53ef\u6267\u884c\u7a0b\u5e8f\u3002\u8fd9\u65f6\uff0c\u6211\u4eec\u7684\u7a0b\u5e8f\u624d\u771f\u6b63\u8fd0\u884c\u8d77\u6765\u3002</p> <p>GOT[2]\u4e3aruntime linker\u5bf9\u5e94\u7684\u5904\u7406\u51fd\u6570\u7528\u4e8e\u5904\u7406\u7b26\u53f7\u7684\u89e3\u6790\uff0c\u4e00\u822c\u79f0\u4e4b\u4e3aResolver\u3002</p> <p>GOT\u5176\u4f59\u8868\u9879\u5b58\u50a8\u7b26\u53f7\uff08\u51fd\u6570\u6216\u53d8\u91cf\uff09\u7684\u5730\u5740\u3002\u7279\u522b\u6ce8\u610f\uff1a\u5176\u4f59\u8868\u9879\u4e2d\u7684\u503c\u5c06\u7531Resolver\u52a8\u6001\u586b\u5199\u3002\u5373\uff0c\u5f53\u8c03\u7528\u8005\u7b2c\u4e00\u6b21\u8bbf\u95ee\u8fd9\u4e9b\u7b26\u53f7\u7684\u65f6\u5019\uff0c\u5c06\u89e6\u53d1Interpreter\u7684Resolver\u51fd\u6570\u88ab\u8c03\u7528\uff0c\u8be5\u51fd\u6570\u5c06\u8ba1\u7b97\u7b26\u53f7\u7684\u6700\u7ec8\u5730\u5740\uff0c\u7136\u540e\u586b\u5199\u5230GOT\u5bf9\u5e94\u9879\u4e2d\u3002\u800c\u7b26\u53f7\u5730\u5740\u7684\u8ba1\u7b97\u65b9\u6cd5\u4f9d\u8d56\u4e8eELF\u6587\u4ef6\u4e2d\u91cd\u5b9a\u4f4d\u548c\u7b26\u53f7\u8868\u4e2d\u7684\u4e00\u4e9b\u4fe1\u606f\u3002</p> <p>\u4f46\u662f\u95ee\u9898\u6765\u4e86\uff0cGOT\u8868\u65e2\u7136\u5b58\u50a8\u7684\u662f\u7b26\u53f7\u7684\u7edd\u5bf9\u5730\u5740\uff0c\u4f46\u662f\u8fd9\u4e9b\u5730\u5740\u53c8\u662f\u4ece\u54ea\u513f\u6765\u548c\u4ec0\u4e48\u65f6\u5019\u8ba1\u7b97\u5f97\u6765\u7684\u5462\u3002</p> <p>\u524d\u9762\u8bf4\u5230GOT[1]\u5b58\u50a8\u7740ld\u7684\u5730\u5740\uff0cld\u6765\u8ba1\u7b97\u7b26\u53f7\u7684\u7edd\u5bf9\u5730\u5740\uff0c\u4f46\u662f\u7edd\u5bf9\u5730\u5740\u7684\u8ba1\u7b97\u662f\u4ec0\u4e48\u65f6\u5019\u8ba1\u7b97\u51fa\u6765\u5462\uff0c\u771f\u7684\u662f\u5168\u90fd\u5728ld\u6267\u884c\u65f6\u5c31\u5df2\u7ecf\u8ba1\u7b97\u5b8c\u6bd5\u5417\uff1f</p> <p>\u5176\u5b9e\u4e0d\u662f\uff0c\u4e00\u822c\u800c\u8a00\uff0c\u7b26\u53f7\u5730\u5740\u8ba1\u7b97\u6709\u4e24\u4e2a\u65f6\u673a\uff1a</p> <ul> <li> <p>ld\u5c06\u63a7\u5236\u6743\u4ea4\u7ed9\u53ef\u6267\u884c\u7a0b\u5e8f\u4e4b\u524d\u3002\u6b64\u65f6\uff0cld\u5df2\u7ecf\u52a0\u8f7d\u4e86\u4f9d\u8d56\u7684\u52a8\u6001\u5e93\uff0c\u800c\u4e14\u4e5f\u77e5\u9053\u8fd9\u4e9b\u52a8\u6001\u5e93\u52a0\u8f7d\u5230\u5185\u5b58\u7684\u865a\u62df\u5730\u5740\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u8ba1\u7b97\u51fa\u6240\u6709\u9700\u8981\u7684\u7b26\u53f7\u7684\u5730\u5740\u3002\u5982\u679c\u8981\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5\u7684\u8bdd\uff0c\u9700\u8981\u8bbe\u7f6e\u73af\u5883\u53d8\u91cfLD_BIND_NOW\uff08exportLD_BIND_NOW=1\uff09\u3002\u5bf9\u4e8e\u8fd0\u884c\u4e2d\u8c03\u7528dlopen\u6765\u52a0\u8f7dso\u6587\u4ef6\u7684\u7a0b\u5e8f\u800c\u8a00\uff0c\u5c31\u9700\u8bbe\u7f6edlopen\u7684flag\u53c2\u6570\u4e3aRTLOAD_NOW\u3002\u8fd9\u79cd\u505a\u6cd5\u7684\u4e00\u4e2a\u4e3b\u8981\u7f3a\u70b9\u5728\u4e8e\u5b83\u4f7f\u5f97\u90a3\u4e9b\u5927\u91cf\u4f9d\u8d56\u52a8\u6001\u5e93\u7684\u7a0b\u5e8f\u7684\u52a0\u8f7d\u65f6\u95f4\u53d8\u957f\u3002</p> </li> <li> <p>\u7528\u7684\u65f6\u5019\u518d\u8ba1\u7b97\u3002\u76f8\u6bd4\u4e0a\u9762\u4e00\u79cd\u65b9\u5f0f\u800c\u8a00\uff0c\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u8ba9ld\u5c3d\u5feb\u628a\u63a7\u5236\u6743\u4ea4\u7ed9\u53ef\u6267\u884c\u7a0b\u5e8f\u672c\u8eab\uff0c\u4ece\u800c\u63d0\u5347\u7a0b\u5e8f\u542f\u52a8\u901f\u5ea6\u3002\u5982\u679c\u8981\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\uff0c\u9700\u8981\u8bbe\u7f6e\u73af\u5883\u53d8\u91cfLD_BIND_NOT\uff08ld\u9ed8\u8ba4\u91c7\u7528\u8fd9\u79cd\u7b56\u7565\uff09\u3002\u800c\u5bf9\u4e8edlopen\u6765\u8bf4\uff0c\u8bbe\u7f6eflag\u4e3aRTLOAD_LAZY\u5373\u53ef\u3002</p> </li> </ul> <p>\u4f46\u662f\u7a0b\u5e8f\u672c\u8eab\u662f\u4e0d\u77e5\u9053ld\u5230\u5e95\u4f1a\u4f7f\u7528\u54ea\u79cd\u65b9\u6cd5\u7684\uff0c\u6240\u4ee5\u7f16\u8bd1\u5668\u751f\u6210\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u5fc5\u987b\u540c\u65f6\u652f\u6301\u8fd9\u4e24\u79cd\u65b9\u6cd5\u3002\u8fd9\u662f\u5982\u4f55\u505a\u5230\u7684\u5462\uff1f\u73b0\u5728\u8bf7\u51fa\u7b2c\u4e8c\u4e2a\u8f85\u52a9\u624b\u6bb5\uff0cPLT\u3002</p>"},{"location":"awesome-reverse-main/so/elf-study/#procedure-linkage-table","title":"Procedure Linkage Table","text":"<p>Procedure Linkage  Table\u7b80\u79f0PLT\uff0c\u4e5f\u662f\u4e00\u79cd\u8868\u7ed3\u6784\uff0c\u4e0d\u8fc7\u5176\u8868\u9879\u5b58\u50a8\u7684\u662f\u4e00\u6bb5\u5c0f\u5c0f\u7684\u4ee3\u7801\uff0c\u8fd9\u6bb5\u4ee3\u7801\u80fd\u5e2e\u52a9\u6211\u4eec\u89e6\u53d1\u7b26\u53f7\u5730\u5740\u7684\u8ba1\u7b97\u4ee5\u53ca\u8df3\u8f6c\u5230\u6b63\u786e\u7684\u7b26\u53f7\u5730\u5740\u4e0a\u3002\u7c7b\u4f3c\u8fd9\u79cd\u8df3\u8f6c\u4f5c\u7528\u7684\u51fd\u6570\uff0c\u4e00\u822c\u6bd4\u55bb\u4e3a\u8df3\u677f\u51fd\u6570Trampoline\uff0c\u5728\u4e86\u89e3inline hook\u65f6\u4e5f\u4f1a\u7ecf\u5e38\u63a5\u89e6\u5230\u3002</p> <p> * PLT[0]\u5b58\u50a8\u7684\u662f\u8df3\u8f6c\u5230GOT\u8868Resolver\u7684\u6307\u4ee4\u3002 * PLT[1]\u5b58\u50a8\u7684\u662f\u8df3\u8f6c\u5230\u7b26\u53f7\u5bf9\u5e94GOT\u8868\u4e2d\u7684\u5185\u5bb9\uff0c\u5982\u679c\u8be5\u7b26\u53f7\u7684\u5730\u5740\u8fd8\u672a\u8ba1\u7b97\uff0c\u8be5\u5185\u5bb9\u5b58\u50a8\u7684\u5176\u5b9e\u662f\u4e00\u6761\u7528\u4e8e\u5c06\u8ba1\u7b97 \u8fd9\u4e2a\u7b26\u53f7\u5730\u5740\u6240\u9700\u7684\u53c2\u6570\u538b\u6808\u7684\u6307\u4ee4\u7684\u5730\u5740\uff0c\u7136\u540ePLT[1]\u63a5\u7740\u6267\u884c\u5230PLT[0]\u5373resolver\u3002\u5982\u679c\u8fd9\u4e2a\u7b26\u53f7\u5730\u5740\u5df2\u7ecf\u8ba1\u7b97\u8fc7\uff0c\u90a3\u4e48\u5c31\u76f4\u63a5\u8df3\u5230\u76ee\u6807\u5730\u5740\u4e0a\u4e86\u3002</p> <p></p>"},{"location":"awesome-reverse-main/so/elf-study/#gothook","title":"GOT\u8868Hook\u6d41\u7a0b","text":"<p>GOT\u8868Hook\u7684\u76ee\u6807\u662f\u627e\u5230\u5bf9\u5e94GOT\u9879\u4f4d\u7f6e\uff0c\u66ff\u6362\u76ee\u6807\u5730\u5740\u3002 \u5047\u5982\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u76ee\u6807\u51fd\u6570\u7684\u5185\u5b58\u5730\u5740\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\uff1a 1. \u9996\u5148\u6211\u4eec\u9700\u8981\u627e\u5230GOT\u8868\u5728ELF\u6587\u4ef6\u4e2d\u7684\u504f\u79fb\u4f4d\u7f6e\uff0c\u56e0\u4e3aGOT\u8868\u4e5f\u662f\u4e2aSection\uff0c\u901a\u8fc7ELF Header\u4e2de_shoff\u5373 section header\u504f\u79fb\u8fdb\u5165section header  table\u4e2d\uff0c\u7136\u540e\u904d\u5386\u6bcf\u4e00\u4e2ash_name\uff08\u9700\u8981\u5230.shstrtab\u4e2d\u627e\u5177\u4f53\u7684\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\uff0c.shstrtab\u4e5f\u662f\u4e2asection\uff0c\u901a\u8fc7\u904d\u5386\u5224\u65adsh_type\u662f\u5426\u662fSHT_STRTAB\u627e\u5230\uff09\uff0c\u5224\u65ad\u662f\u5426\u4e3agot\u8868\u3002 2. \u6216\u8005\u76f4\u63a5\u901a\u8fc7Elf Header\u4e2de_shstrndx\u7d22\u5f15\u5230shstrtab\u4f4d\u7f6e\u3002 3. \u8fd9\u6837\u6211\u4eec\u4fbf\u53ef\u4ee5\u627e\u5230.got\u8868\u5728elf\u6587\u4ef6\u4e2d\u7684\u504f\u79fb\u91cf\uff0c\u914d\u5408\u5728maps\u6587\u4ef6\u627e\u5230\u7684\u6a21\u5757\u57fa\u5730\u5740\uff0c\u5c31\u53ef\u4ee5\u5b9a\u4f4d\u5230\u8fdb\u7a0bso\u4e2dGOT\u8868\u7684\u4f4d\u7f6e\u4e86\u3002 4. \u62ff\u5230\u76ee\u6807\u51fd\u6570\u7684\u5730\u5740\uff0c\u904d\u5386.got\u8868\u8fdb\u884c \u5339\u914d\u627e\u5230\u5bf9\u5e94\u8868\u9879\u66ff\u6362\u5373\u53ef\u3002</p> <p>\u8fd8\u6709\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\u662f\u901a\u8fc7.rel.plt\u8868\u6765\u5b9a\u4f4dGOT\u8868\u3002 1. \u627e\u5230.rel(a).plt\uff0c\u904d\u5386\u5bf9\u5e94\u7684\u7b26\u53f7 2. \u4e0a.symtab\u4e2d\u67e5\u627e\u7b26\u53f7\u5bf9\u5e94\u7684\u540d\u5b57\u5728.strtab\u4e2d\u7684\u504f\u79fb  3. \u4e0a.strtab\u4e2d\u67e5\u627e\u7b26\u53f7\u5177\u4f53\u7684\u503c\u3002</p>"},{"location":"awesome-reverse-main/so/elf-study/#_1","title":"\u53c2\u8003","text":"<p>https://zhougy0717.github.io/2020/01/05/%E9%80%9A%E8%BF%87%E4%BF%AE%E6%94%B9GOT%E8%A1%A8%EF%BC%8Chook_glibc%E5%87%BD%E6%95%B0/</p> <p>http://nicephil.blinkenshell.org/my_book/ch07s05.html</p> <p>https://gameinstitute.qq.com/community/detail/101487</p> <p>https://felixzhang00.github.io/2016/12/24/2016-12-24-ELF%E6%96%87%E4%BB%B6%E8%A3%85%E8%BD%BD%E9%93%BE%E6%8E%A5%E8%BF%87%E7%A8%8B%E5%8F%8Ahook%E5%8E%9F%E7%90%86/</p>"},{"location":"awesome-reverse-main/so/ida/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAIDA%E5%B0%8F%E6%8A%80%E5%B7%A7%EF%BC%88%E5%85%AD%EF%BC%89%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A8/","title":"\u6bcf\u5929\u4e00\u4e2aIDA\u5c0f\u6280\u5de7\uff08\u516d\uff09\u4ea4\u53c9\u5f15\u7528","text":"<p>\u5728\u4f7f\u7528IDA\u8fdb\u884c\u9006\u5411\u65f6\uff0c\u7ecf\u5e38\u4f1a\u78b0\u5230\u9700\u8981\u300c\u5b9a\u4f4d\u67d0\u4e2a\u53d8\u91cf\u88ab\u54ea\u4e9b\u51fd\u6570\u8bbf\u95ee\u300d\u6216\u8005\u300c\u67d0\u4e2a\u51fd\u6570\u662f\u4ece\u4ec0\u4e48\u5730\u65b9\u88ab\u8c03\u7528\u7684\u300d\u3002\u8fd9\u79cd\u8ddf\u8e2a\u53d8\u91cf\u6216\u51fd\u6570\u7684\u529f\u80fd\u5728IDA\u4e2d\u88ab\u79f0\u4f5c\u4ea4\u53c9\u5f15\u7528(XREF)\uff0c\u540c\u65f6IDA\u8fd8\u63d0\u4f9b\u4e86\u56fe\u5f62\u751f\u6210\u529f\u80fd\uff0c\u4ee5\u66f4\u76f4\u89c2\u7684\u65b9\u5f0f\u663e\u793a\u4ee3\u7801\u4e0e\u6570\u636e\u4e4b\u95f4\u7684\u5173\u7cfb\u3002</p>"},{"location":"awesome-reverse-main/so/ida/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAIDA%E5%B0%8F%E6%8A%80%E5%B7%A7%EF%BC%88%E5%85%AD%EF%BC%89%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A8/#_1","title":"\u4ea4\u53c9\u5f15\u7528","text":"<p>\u5148\u603b\u7ed3\uff0cIDA\u4e2d\u6709\u4e24\u7c7b\u4ea4\u53c9\u5f15\u7528\uff1a - \u4ee3\u7801\u4ea4\u53c9\u5f15\u7528 CODE XREF     - \u51fd\u6570\u8c03\u7528\u5bfc\u81f4\u7684\u4ea4\u53c9\u5f15\u7528     - \u8df3\u8f6c\u4ea4\u53c9\u5f15\u7528 - \u6570\u636e\u4ea4\u53c9\u5f15\u7528 DATA XREF     - \u8bfb\u53d6\u4ea4\u53c9\u5f15\u7528     - \u5199\u5165\u4ea4\u53c9\u5f15\u7528     - \u504f\u79fb\u91cf\u4ea4\u53c9\u5f15\u7528</p> <p>\u6240\u6709\u7684\u4ea4\u53c9\u5f15\u7528\u90fd\u662f\u5728\u4e00\u4e2a\u5730\u5740\u5f15\u7528\u53e6\u4e00\u4e2a\u5730\u5740\u3002\u8fd9\u4e9b\u5730\u5740\u53ef\u80fd\u662f\u4ee3\u7801\u5730\u5740\u6216\u6570\u636e\u5730\u5740\u3002\u5982\u679c\u5f15\u5165\u6709\u5411\u56fe\u8bba\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u628a\u6bcf\u4e2a\u5730\u5740\u770b\u6210\u662f\u6709\u5411\u56fe\u4e2d\u7684\u8282\u70b9\uff0c\u4ea4\u53c9\u5f15\u7528\u770b\u6210\u4e3a\u8fb9\uff0c\u8fb9\u7684\u65b9\u5411\u5c31\u4ee3\u8868\u7740\u8c01\u5f15\u7528\u4e86\u8c01\u3002</p>"},{"location":"awesome-reverse-main/so/ida/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAIDA%E5%B0%8F%E6%8A%80%E5%B7%A7%EF%BC%88%E5%85%AD%EF%BC%89%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A8/#_2","title":"\u4ee3\u7801\u4ea4\u53c9\u5f15\u7528","text":"<p>\u4ee3\u7801\u4ea4\u53c9\u5f15\u7528\u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u6982\u5ff5\uff0c\u56e0\u4e3a\u5b83\u53ef\u5e2e\u52a9IDA\u751f\u6210\u63a7\u5236\u6d41\u56fe\u5f62\u548c\u51fd\u6570\u8c03\u7528\u56fe\u5f62\uff0c\u8fd9\u4e9b\u56fe\u5f62\u6700\u76f4\u89c2\u7684\u7528\u6cd5\u5c31\u662f\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u8bc6\u522b\u7a0b\u5e8f\u7684\u6d41\u7a0b\uff0c\u4f8b\u5982\u5224\u65ad\u4ee3\u7801\u662f\u5426\u88abOLLVM\u7684\u63a7\u5236\u6d41\u5e73\u5766\u5316\u6df7\u6dc6\u8fc7\u3002</p> <p>\u4e00\u4e2a\u57fa\u672c\u7684\u4ee3\u7801\u4ea4\u53c9\u5f15\u7528\u7c7b\u4f3c\u5982\u4e0b\uff1a</p> <p>.text:00401000 sub_40100 proc near ; CODE XREF: main+2A \u2193p</p> <p>CODE XREF\u4ee3\u8868\u8fd9\u662f\u4e00\u4e2a\u4ee3\u7801\u4ea4\u53c9\u5f15\u7528\uff0c\u540e\u9762\u7684\u5730\u5740\uff08\u8fd9\u91cc\u4e3a_main+2A\uff09\u662f\u4ea4\u53c9\u5f15\u7528\u7684\u6e90\u5934\u5730\u5740\uff0c\u5373_main+2A\u5904\u8c03\u7528\u4e86\u8be5\u65b9\u6cd5\uff0c\u4ea4\u53c9\u5f15\u7528\u4e2d\u4f7f\u7528\u7684\u5730\u5740\u63d0\u4f9b\u4e86\u989d\u5916\u7684\u4fe1\u606f\uff0c\u6307\u51fa\u4ea4\u53c9\u5f15\u7528\u662f\u5728\u4e00\u4e2a\u540d\u4e3a_main\u7684\u51fd\u6570\u4e2d\u63d0\u51fa\u7684\uff0c\u5177\u4f53\u800c\u8a00\u662f_main\u51fd\u6570\u4e2d\u7684\u7b2c0x2A\uff0842\uff09\u5b57\u8282\u3002</p> <p>\u5730\u5740\u540e\u9762\u603b\u662f\u6709\u4e00\u4e2a\u4e0a\u884c\u6216\u4e0b\u884c\u7bad\u5934\uff0c\u8868\u793a\u5f15\u7528\u4f4d\u7f6e\u7684\u76f8\u5bf9\u65b9\u5411\u3002\u9700\u8981\u5411\u4e0b\u6eda\u52a8\u624d\u80fd\u5230\u8fbe\u8be5\u5730\u5740\u3002\u540c\u6837\uff0c\u4e0a\u884c\u7bad\u5934\u8868\u793a\u5f15\u7528\u5730\u5740\u662f\u4e00\u4e2a\u8f83\u4f4e\u7684\u5185\u5b58\u5730\u5740\uff0c\u9700\u8981\u5411\u4e0a\u6eda\u52a8\u624d\u80fd\u5230\u8fbe\u3002</p> <p>\u7bad\u5934\u540e\u8fd8\u5305\u542b\u4e86\u4e00\u4e2a\u5355\u5b57\u7b26\u540e\u7f00\uff0c\u4ee3\u8868\u4ea4\u53c9\u5f15\u7528\u7684\u7c7b\u578b\uff0cp\u4ee3\u8868\u8fd9\u662f\u4e00\u4e2a\u8c03\u7528\u7c7b\u578b\uff0cj\u5219\u4ee3\u8868\u8fd9\u662f\u4e00\u4e2a\u8df3\u8f6c\u7c7b\u578b\u7684\u4ea4\u53c9\u5f15\u7528\u3002</p> <p>\u53ef\u80fd\u5f88\u591a\u4eba\u4f1a\u597d\u5947\u4e3a\u4ec0\u4e48\u5c06\u4f8b\u5982if else\u7684\u4ee3\u7801\u6539\u5199\u6210switch case\u7684\u5f62\u5f0f\u4f1a\u88ab\u6210\u4e3a\u63a7\u5236\u6d41\u5e73\u5766\u5316\uff0c\u5728IDA\u4e2d\uff0c\u6307\u4ee4\u8f6c\u4ea4\u63a7\u5236\u6743\u7684\u65b9\u5f0f\u53eb\u505a\u6d41\uff08flow\uff09\u3002IDA\u4e2d\u67093\u79cd\u57fa\u672c\u6d41\uff1a\u666e\u901a\u6d41\u3001\u8df3\u8f6c\u6d41\u548c\u8c03\u7528\u6d41\u3002</p> <p>\u666e\u901a\u6d41\uff08ordinary flow\uff09\u662f\u4e00\u79cd\u6700\u7b80\u5355\u7684\u6d41\uff0c\u5b83\u8868\u793a\u7531\u4e00\u6761\u6307\u4ee4\u5230\u53e6\u4e00\u6761\u6307\u4ee4\u7684\u987a\u5e8f\u6d41\u3002\u8fd9\u662f\u6240\u6709\u975e\u5206\u652f\u6307\u4ee4\uff08\u5982ADD\uff09\u7684\u9ed8\u8ba4\u6267\u884c\u6d41\u3002\u9664\u4e86\u6307\u4ee4\u5728\u53cd\u6c47\u7f16\u4ee3\u7801\u6e05\u5355\u4e2d\u7684\u663e\u793a\u987a\u5e8f\u5916\uff0c\u6b63\u5e38\u6d41\u6ca1\u6709\u5176\u4ed6\u7279\u6b8a\u7684\u663e\u793a\u6807\u5fd7\u3002</p> <p>\u6bcf\u4e2a\u65e0\u6761\u4ef6\u5206\u652f\u6307\u4ee4\u548c\u6761\u4ef6\u5206\u652f\u6307\u4ee4\u5c06\u5206\u914d\u5230\u4e00\u4e2a\u8df3\u8f6c\u6d41\uff08jump flow\uff09\u3002\u51fd\u6570\u8c03\u7528\u5219\u88ab\u5206\u914d\u5230\u4e00\u4e2a\u8c03\u7528\u6d41\u4f8b\u5982call\u6307\u4ee4\u3002</p> <p>\u901a\u8fc7\u4ea4\u53c9\u5f15\u7528\u6211\u4eec\u53ef\u4ee5\u5feb\u901f\u7684\u8ffd\u6eaf\u5230\u6bcf\u4e2a\u8df3\u8f6c\u6d41\u548c\u8c03\u7528\u6d41\u7684\u5173\u7cfb\u6d41\u7a0b\u3002</p>"},{"location":"awesome-reverse-main/so/ida/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAIDA%E5%B0%8F%E6%8A%80%E5%B7%A7%EF%BC%88%E5%85%AD%EF%BC%89%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A8/#_3","title":"\u6570\u636e\u4ea4\u53c9\u5f15\u7528","text":"<p>\u6570\u636e\u4ea4\u53c9\u5f15\u7528\u7528\u4e8e\u8ddf\u8e2a\u4e8c\u8fdb\u5236\u6587\u4ef6\u8bbf\u95ee\u6570\u636e\u7684\u65b9\u5f0f\u3002IDA\u4e2d\u6700\u5e38\u7528\u76843\u79cd\u6570\u636e\u4ea4\u53c9\u5f15\u7528\u5206\u522b\u7528\u4e8e\u8868\u793a\u67d0\u4e2a\u4f4d\u7f6e\u4f55\u65f6\u88ab\u8bfb\u53d6\u3001\u4f55\u65f6\u88ab\u5199\u5165\u4ee5\u53ca\u4f55\u65f6\u88ab\u5f15\u7528\u3002\u4e0b\u9762\u8fd9\u5f20\u56fe\u5c31\u5c55\u793a\u4e86\u8fd9\u4e09\u79cd\u6570\u636e\u4ea4\u53c9\u5f15\u7528\uff1a</p> <p></p>"},{"location":"awesome-reverse-main/so/ida/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAIDA%E5%B0%8F%E6%8A%80%E5%B7%A7%EF%BC%88%E5%85%AD%EF%BC%89%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A8/#_4","title":"\u8bfb\u53d6\u4ea4\u53c9\u5f15\u7528","text":"<p>\u8bfb\u53d6\u4ea4\u53c9\u5f15\u7528\uff08read cross-reference\uff09\u8868\u793a\u8bbf\u95ee\u7684\u662f\u67d0\u4e2a\u5185\u5b58\u4f4d\u7f6e\u7684\u5185\u5bb9\uff0c\u4f7f\u7528r\u4f5c\u4e3a\u5355\u5b57\u7b26\u540e\u7f00\uff0c\u4f8b\u5982\u4e0a\u9762IDA\u53cd\u6c47\u7f16\u4e2d\u53ef\u4ee5\u5f97\u77e5read_it\u88abmain+E\u5904\u88ab\u8bfb\u53d6\u3002</p> <p>\u540c\u7406write_it\u5904\u7684\u5199\u5165\u4ea4\u53c9\u5f15\u7528\u8868\u793a\u4fee\u6539write_it\u5904\u7684\u503c\uff0c\u4f7f\u7528w\u4f5c\u4e3a\u5355\u5b57\u7b26\u540e\u7f00\uff0c\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0cwrite_it\u4f4d\u7f6e\u663e\u793a\u7684\u4ea4\u53c9\u5f15\u7528\u4ee5\u7701\u7565\u53f7\u5904\u7ed3\u675f\uff0c\u8868\u660e\u5bf9write_it\u7684\u4ea4\u53c9\u5f15\u7528\u6570\u91cf\u8d85\u51fa\u4e86\u5f53\u524d\u7684\u4ea4\u53c9\u5f15\u7528\u663e\u793a\u9650\u5236\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7Options\u25b6General\u5bf9\u8bdd\u6846\u4e2dCross-references\u9009\u9879\u5361\u4e2d\u7684Number of displayed xrefs\uff08\u663e\u793a\u7684\u4ea4\u53c9\u5f15\u7528\u6570\u91cf\uff09\u8bbe\u7f6e\u4fee\u6539\u8fd9\u4e2a\u9650\u5236\u3002</p> <p>\u7b2c\u4e09\u7c7b\u6570\u636e\u4ea4\u53c9\u5f15\u7528\u4e3a\u504f\u79fb\u91cf\u4ea4\u53c9\u5f15\u7528\uff08offset cross-reference\uff09\uff0c\u5b83\u8868\u793a\u5f15\u7528\u7684\u662f\u67d0\u4e2a\u4f4d\u7f6e\u7684\u5730\u5740\uff08\u800c\u975e\u5185\u5bb9\uff09\uff0c\u4f7f\u7528o\u4f5c\u4e3a\u540e\u7f00\u3002\u901a\u5e38\uff0c\u4ee3\u7801\u6216\u6570\u636e\u4e2d\u7684\u6307\u9488\u64cd\u4f5c\u4f1a\u5bfc\u81f4\u504f\u79fb\u91cf\u4ea4\u53c9\u5f15\u7528\u3002\u4f8b\u5982\uff0c\u6570\u7ec4\u8bbf\u95ee\u64cd\u4f5c\u4e00\u822c\u901a\u8fc7\u5728\u6570\u7ec4\u7684\u8d77\u59cb\u5730\u5740\u4e0a\u52a0\u4e0a\u4e00\u4e2a\u504f\u79fb\u91cf\u6765\u5b9e\u73b0\u3002\u56e0\u6b64\uff0c\u8bb8\u591a\u5168\u5c40\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5730\u5740\u901a\u5e38\u53ef\u4ee5\u7531\u504f\u79fb\u91cf\u4ea4\u53c9\u5f15\u7528\u6765\u786e\u5b9a\u3002\u4e3a\u6b64\uff0c\u8bb8\u591a\u5b57\u7b26\u4e32\u6570\u636e\uff08\u5728C/C++\u4e2d\uff0c\u5b57\u7b26\u4e32\u4f5c\u4e3a\u5b57\u7b26\u6570\u7ec4\uff09\u6210\u4e3a\u504f\u79fb\u91cf\u4ea4\u53c9\u5f15\u7528\u7684\u76ee\u6807\u3002</p>"},{"location":"awesome-reverse-main/so/ida/%E6%AF%8F%E5%A4%A9%E4%B8%80%E4%B8%AAIDA%E5%B0%8F%E6%8A%80%E5%B7%A7%EF%BC%88%E5%85%AD%EF%BC%89%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A8/#_5","title":"\u4ea4\u53c9\u5f15\u7528\u5217\u8868\u7a97\u53e3","text":"<p>\u5982\u524d\u6240\u8ff0\uff0c\u5728\u67d0\u4e2a\u4f4d\u7f6e\u663e\u793a\u7684\u4ea4\u53c9\u5f15\u7528\u6ce8\u91ca\u7684\u6570\u91cf\u7531\u4e00\u4e2a\u914d\u7f6e\u63a7\u5236\uff0c\u5176\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a2\u3002\u53ea\u8981\u4e00\u4e2a\u4f4d\u7f6e\u7684\u4ea4\u53c9\u5f15\u7528\u6570\u91cf\u4e0d\u8d85\u51fa\u8fd9\u4e2a\u9650\u5236\uff0c\u4f60\u5c31\u53ef\u4ee5\u76f8\u5f53\u76f4\u63a5\u5730\u8bbf\u95ee\u8fd9\u4e9b\u4ea4\u53c9\u5f15\u7528\u3002</p> <p>\u4f46\u5982\u679c\u60f3\u8981\u67e5\u770b\u67d0\u4e2a\u4f4d\u7f6e\u7684\u4ea4\u53c9\u5f15\u7528\u5b8c\u6574\u5217\u8868\uff0c\u7b2c\u4e00\u79cd\u65b9\u6cd5\u662f\u6253\u5f00\u4e0e\u67d0\u4e00\u7279\u5b9a\u4f4d\u7f6e\u6709\u5173\u7684\u4ea4\u53c9\u5f15\u7528\u5b50\u7a97\u53e3\u3002\u5c06\u5149\u6807\u653e\u5728\u4e00\u4e2a\u6216\u591a\u4e2a\u4ea4\u53c9\u5f15\u7528\u7684\u76ee\u6807\u5730\u5740\u4e0a\uff0c\u5e76\u9009\u62e9View\u25b6OpenSubviews\u25b6Cross-References\uff08\u67e5\u770b\u25b6\u6253\u5f00\u5b50\u7a97\u53e3\u25b6\u4ea4\u53c9\u5f15\u7528\uff09\uff0c\u5373\u53ef\u6253\u5f00\u6307\u5b9a\u4f4d\u7f6e\u7684\u4ea4\u53c9\u5f15\u7528\u5b8c\u6574\u5217\u8868\u3002</p> <p>\u7b2c\u4e8c\u79cd\u8bbf\u95ee\u4ea4\u53c9\u5f15\u7528\u5217\u8868\u7684\u65b9\u6cd5\u662f\u9009\u4e2d\u4e00\u4e2a\u4f60\u611f\u5174\u8da3\u7684\u7b26\u53f7\u540d\u79f0\uff0c\u5728\u83dc\u5355\u4e2d\u9009\u62e9Jump\u25b6Jump to xref\uff08\u4f7f\u7528\u70ed\u952eCTRL+X\uff09\u6253\u5f00\u4e00\u4e2a\u5bf9\u8bdd\u6846\uff0c\u5176\u4e2d\u5217\u51fa\u4e86\u5f15\u7528\u9009\u4e2d\u7b26\u53f7\u7684\u6bcf\u4e2a\u4f4d\u7f6e\u3002</p> <p>\u4ea4\u53c9\u5f15\u7528\u5217\u8868\u53ef\u7528\u4e8e\u8fc5\u901f\u786e\u5b9a\u8c03\u7528\u67d0\u4e2a\u7279\u6b8a\u51fd\u6570\u7684\u4f4d\u7f6e\u3002\u4f8b\u5982\u5982\u679c\u60f3\u8981\u786e\u5b9a\u7a0b\u5e8f\u4e2d\u54ea\u4e9b\u5730\u65b9\u8c03\u7528\u4e86C\u6807\u51c6\u5e93\u4e2d\u7684strcpy\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u4e0a\u8ff0\u65b9\u6cd5\u6253\u5f00\u8be5\u51fd\u6570\u7684\u4ea4\u53c9\u5f15\u7528\u5217\u8868\u7a97\u53e3\uff0c\u751a\u81f3\u53ef\u4ee5\u6dfb\u52a0\u4e00\u6bb5\u5305\u542bstrcpy\u6587\u672c\u7684\u6ce8\u91ca\uff0c\u5e76\u4f7f\u7528\u8be5\u6ce8\u91ca\u6fc0\u6d3b\u201c\u4ea4\u53c9\u5f15\u7528\u201d\u5bf9\u8bdd\u6846\uff0c\u56e0\u4e3aIDA\u4f1a\u8bb2\u6ce8\u91ca\u4e2d\u7684\u7b26\u53f7\u540d\u79f0\u4e5f\u4f5c\u4e3a\u4e00\u4e2a\u64cd\u4f5c\u6570\u5904\u7406\uff0c\u901a\u8fc7\u70b9\u51fb\u6ce8\u91ca\u4e2d\u7684strcpy\u4e5f\u80fd\u5feb\u901f\u6253\u5f00\u4ea4\u53c9\u5f15\u7528\u5217\u8868\u3002</p>"},{"location":"awesome-reverse-main/wechat/appbrand-compile/","title":"\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u53cd\u7f16\u8bd1","text":""},{"location":"awesome-reverse-main/wechat/appbrand-compile/#_2","title":"\u83b7\u53d6\u5c0f\u7a0b\u5e8f\u7684\u6e90\u7801","text":"<p>\u7531\u4e8e\u5c0f\u7a0b\u5e8f\u7684\u6e90\u7801\u5728\u5fae\u4fe1\u7684\u5e94\u7528\u6c99\u76d2\u76ee\u5f55\u4e2d\uff0c\u6240\u4ee5\u9700\u8981\u4e00\u53f0\u5df2root\u7684\u624b\u673a\u6216\u8005 debug\u7248\u672c\u7684\u5fae\u4fe1\uff0c\u624d\u80fd\u5c06\u5c0f\u7a0b\u5e8f \u6e90\u7801\u5305\u62c9\u5230\u672c\u5730\u3002</p>"},{"location":"awesome-reverse-main/wechat/appbrand-compile/#_3","title":"\u7b2c\u4e00\u6b65\uff1a\u8fdb\u5165\u5c0f\u7a0b\u5e8f\u6e90\u7801\u6240\u5728\u76ee\u5f55","text":"<ol> <li>run-as com.tencent.mm //\u5982\u679c\u662f\u672aroot\u7684\u624b\u673a\u4f46\u662f\u5fae\u4fe1\u4e3adebug\u7248\u672c\uff0c\u53ef\u4ee5\u6267\u884c\u8fd9\u6761\u547d\u4ee4\u8fdb\u5165\u5fae\u4fe1data\u76ee\u5f55</li> <li>cd /data/data/com.tencent.mm/MicroMsg/{User}/appbrand/pkg</li> </ol> <p>{User} \u4e3a\u5f53\u524d\u7528\u6237\u7684\u7528\u6237\u540d\uff0c\u7c7b\u4f3c\u4e8e 1ed****c514a18\uff0c\u6bcf\u4e2a\u7528\u6237\u4e0d\u4e00\u6837\uff0c/data/data/com.tencent.mm/MicroMsg/{User}/appbrand/pkg\u8be5\u76ee\u5f55\u4e0b\u5b58\u653e\u7684\u5c31\u662f\u5c0f\u7a0b\u5e8f\u7684\u6e90\u7801\u5305\u4f4d\u7f6e\uff0c\u7531\u4e8e\u65e0\u6cd5\u4ece\u540d\u5b57\u4e0a\u533a\u5206\u51fa\u5c5e\u4e8e\u54ea\u4e2a\u5c0f\u7a0b\u5e8f\uff0c\u4e14\u4e00\u4e2a\u5c0f\u7a0b\u5e8f\u53ef\u4ee5\u6709\u591a\u4e2a\u6253\u5305\u6587\u4ef6.wxapkg\uff0c\u56e0\u6b64\u63a8\u8350\u8fdb\u5165\u8be5\u76ee\u5f55\u524d\u5c06\u6240\u6709\u5c0f\u7a0b\u5e8f\u5220\u9664\uff0c\u7136\u540e \u6e05\u7a7a\u8be5\u76ee\u5f55\uff0c\u7136\u540e\u6253\u5f00\u76ee\u6807\u5c0f\u7a0b\u5e8f\u518d\u8fdb\u5165\u8be5\u76ee\u5f55\u4e2d\uff0c\u8fd9\u6837\u6240\u6709\u6587\u4ef6\u90fd\u662f\u5f53\u524d\u5c0f\u7a0b\u5e8f\u7684\u3002</p> <p>\u5176\u6b21\uff0c\u5c0f\u7a0b\u5e8f\u4e2d\u53ef\u80fd\u5b58\u5728\u6a21\u5757\u5316\u548c\u5ef6\u8fdf\u52a0\u8f7d\uff0c\u56e0\u6b64\u67d0\u4e9b\u6a21\u5757\u7684\u6e90\u4ee3\u7801\u9700\u8981\u8fdb\u5165\u5230\u5bf9\u5e94\u9875\u9762\u4e2d\u624d\u4f1a\u5b9e\u65f6\u4e0b\u8f7d\u81f3\u672c\u5730\uff0c\u4f8b\u5982\u70b9\u8bc4\u9152\u5e97\u3001\u767b\u5f55\u6a21\u5757\u3002</p>"},{"location":"awesome-reverse-main/wechat/appbrand-compile/#wxapkg","title":"\u7b2c\u4e8c\u6b65\uff1a\u53cd\u7f16\u8bd1.wxapkg\u6587\u4ef6","text":"<p>.wxapkg\u6587\u4ef6\u5c31\u662f\u5c0f\u7a0b\u5e8f\u7f16\u8bd1\u540e\u7684\u6587\u4ef6\uff0c\u4e00\u4e2a\u5c0f\u7a0b\u5e8f\u53ef\u4ee5\u5305\u542b\u591a\u4e2awxapkg\u6587\u4ef6\uff0c\u8fd9\u91cc\u63a8\u8350WxappUnpacker\u8fdb\u884c\u53cd\u7f16\u8bd1\uff0c\u57fa\u672c\u4e0d\u5b58\u5728\u53cd\u7f16\u8bd1\u4e0d\u51fa\u7684\u95ee\u9898\u3002</p> <p>\u5f53\u5c0f\u7a0b\u5e8f\u5b58\u5728\u591a\u4e2awxapkg\u6587\u4ef6\u65f6\uff0c\u8fd9\u65f6\u6d89\u53ca\u5230\u4e3b\u5305\u548c\u5b50\u5305\u7684\u95ee\u9898\uff0c\u5b50\u5305\u5728\u53cd\u7f16\u8bd1\u65f6\u9700\u8981\u6307\u5b9a\u4e3b\u5305 \uff0c\u5426\u5219\u4f1a\u53cd\u7f16\u8bd1\u5931\u8d25\uff0c\u56e0\u6b64\u9996\u5148\u901a\u8fc7\u6bcf\u4e2awxapkg\u8fdb\u884c\u53cd\u7f16\u8bd1\uff0c\u627e\u51fa\u4e3b\u5305\uff0c\u7136\u540e\u518d\u5bf9\u5176\u4ed6\u7684wxapkg\u53cd\u7f16\u8bd1\u65f6\u52a0\u4e0a-s=\u6765\u6307\u5b9a\u4e3b\u5305\u8def\u5f84\uff08\u63a8\u8350\u7edd\u5bf9\u8def\u5f84\uff09\uff0c\u6700\u540e\u6574\u4e2a\u5c0f\u7a0b\u5e8f\u53cd\u7f16\u8bd1\u7ed3\u679c\u4f1a\u4fdd\u5b58\u5728\u4e3b\u5305\u76ee\u5f55\u4e0b\u3002</p>"},{"location":"awesome-reverse-main/wechat/appbrand-compile/#_4","title":"\u7b2c\u4e09\u6b65\uff1a\u5728\u5fae\u4fe1\u5f00\u53d1\u8005\u5de5\u5177\u4e2d\u6253\u5f00","text":""},{"location":"awesome-reverse-main/wechat/appbrand-compile/#_5","title":"\u6253\u5f00\u5fae\u4fe1\u5f00\u53d1\u8005\u5de5\u5177\u7684\u63a7\u5236\u53f0","text":"<p>\u5fae\u4fe1\u5f00\u53d1\u8005\u5de5\u5177\u662f\u5c0f\u7a0b\u5e8f\u5f00\u53d1\u6307\u5b9aIDE\uff0c\u901a\u8fc7\u5f00\u53d1\u8005 \u5de5\u5177\u53ef\u4ee5\u5b8c\u6210\u5c0f\u7a0b\u5e8f\u7684\u9884\u89c8\u3001\u8c03\u8bd5\u7b49\u529f\u80fd\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7684\u8ffd\u8e2a\u5c0f\u7a0b\u5e8f\u903b\u8f91\u4ee3\u7801\u3002\u4f46\u662f\u6709\u4e00\u4e2a\u65e0\u6cd5\u6b63\u5e38\u6a21\u62df\uff0c\u90a3\u5c31\u662f\u767b\u9646\uff08\u4f46\u4e5f\u662f\u53ef\u4ee5\u89e3\u51b3\uff0c\u53ef\u4ee5\u53c2\u8003\u903b\u8f91\u5c42/\u6e32\u67d3\u5c42Hook\u4e2d\u7684\u65b9\u6848\uff09\u3002\u672c\u8d28\u4e0a\u5f00\u53d1\u8005\u5de5\u5177\u662f\u4e2a\u7c7b\u4f3cChrome\u7684\u6d4f\u89c8\u5668\uff0c\u867d\u7136\u5f00\u53d1\u8005\u5de5\u5177\u4e5f\u5b58\u5728\u63a7\u5236\u53f0\uff0c\u4f46\u662f\u8be5\u63a7\u5236\u53f0\u4e2d\u53ea\u80fd\u770b\u5230\u903b\u8f91\u5c42JS\u4ee3\u7801\uff0c\u65e0\u6cd5\u770b\u5230\u6e32\u67d3\u5c42\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 \u66f4\u6539\u5f00\u53d1\u8005\u5de5\u5177\u7684\u6e90\u7801\u6765\u8c03\u51fa\u5f00\u53d1\u8005\u5de5\u5177\u7684\u63a7\u5236\u53f0\u3002</p> <p>\u5728Mac\u4e0a\uff0c\u67e5\u770b\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u5f00\u53d1\u8005\u5de5\u5177\u7684\u5305\u5185\u5bb9\uff0c\u7136\u540e\u8fdb\u5165Contents/Resources/app.nw/js/core/index.js\uff0c\u6ce8\u91ca\u6389\u5982\u4e0b\u4ee3\u7801\uff1a <pre><code>if (nw.App.argv.indexOf('inspect') !== -1) {\n    tools.openInspectWin()\n  }\n</code></pre></p>"},{"location":"awesome-reverse-main/wechat/appbrand-compile/#_6","title":"\u5bfc\u5165\u53cd\u7f16\u8bd1\u540e\u7684\u9879\u76ee\u5230\u5f00\u53d1\u8005\u5de5\u5177\u4e2d","text":"<p>\u5bfc\u5165\u9879\u76ee-&gt;\u53ef\u76f4\u63a5\u4f7f\u7528\u6d4b\u8bd5\u53f7</p> <p></p>"},{"location":"awesome-reverse-main/wechat/appbrand-compile/#_7","title":"\u7b2c\u56db\u6b65\uff1a\u4fee\u590d\u5c0f\u7a0b\u5e8f","text":"<p>\u7531\u4e8e\u662f\u53cd\u7f16\u8bd1\u51fa\u7684\u5c0f\u7a0b\u5e8f\uff0c\u56e0\u6b64\u53ef\u80fd\u4f1a\u7f3a\u5931\u90e8\u5206\u63d2\u4ef6\u4ee3\u7801\uff0c\u6216\u8005\u90e8\u5206\u76f8\u5bf9\u8def\u5f84\u65e0\u6cd5\u8bc6\u522b\uff0c\u56e0\u6b64\u9700\u8981\u624b\u52a8\u8fdb\u884c\u4fee\u590d\u3002</p> <p>\u5bf9\u4e8e\u63d2\u4ef6\u4ee3\u7801\uff0c\u4e00\u822c\u6765\u8bf4\u90fd\u662f\u6839\u636e\u63a7\u5236\u53f0\u4e2d\u7684\u5f02\u5e38\uff0c\u627e\u5230\u63d2\u4ef6id\uff0c\u7136\u540e\u5728\u5fae\u4fe1\u63d2\u4ef6\u5e02\u573a\u627e\u5230\u5bf9\u5e94\u63d2\u4ef6\u540d\u79f0 \u7136\u540e\u5728\u5c0f\u7a0b\u5e8fapp.json\u4e2d\u5220\u9664\u8be5\u63d2\u4ef6\u5f15\u7528\u5373\u53ef\u3002</p> <p>\u5bf9\u4e8e\u76f8\u5bf9\u8def\u5f84\u9519\u8bef\uff0c\u4e5f\u662f\u540c\u7406\uff0c\u6839\u636e\u5f02\u5e38\u627e\u5230\u5bf9\u5e94\u6587\u4ef6\u8fdb\u884c\u4fee\u6539\u5373\u53ef\uff0c\u8fd9\u91cc\u53ef\u80fd\u4f1a\u9047\u5230__wuBaseWxss__\u4e2dwxss\u6587\u65e0\u6cd5\u627e\u5230\u7684\u95ee\u9898\uff0c\u4e00\u4e2a\u53ef\u80fd\u539f\u56e0\u662f\u53cd\u7f16\u8bd1\u5206\u5305\u65f6wxss\u6587\u4ef6\u6ca1\u6709\u89e3\u538b\u5230\u4e3b\u5305__wuBaseWxss__\u76ee\u5f55\u4e0b\uff0c\u56e0\u6b64\u53ef\u4ee5\u624b\u52a8\u590d\u5236\u8fc7\u53bb\u3002</p> <p>\u5728\u8fd9\u6b65\u8fc7\u7a0b\u4e2d\u5c31\u4f1a\u7528\u5230\u5c0f\u7a0b\u5e8f\u5f00\u53d1\u8005\u6587\u6863\u4e2d\u6240\u5b66\u5230\u7684\u76ee\u5f55\u7ed3\u6784\u76f8\u5173\u77e5\u8bc6\uff0c\u5bf9\u5404\u6587\u4ef6\u4f5c\u7528\u9700\u8981\u4e00\u5b9a\u4e86\u89e3\u624d\u80fd\u987a\u5229\u4fee\u590d\u3002</p>"},{"location":"awesome-reverse-main/wechat/appbrand-framework-introduce/","title":"\u5b89\u5353\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u9006\u5411","text":""},{"location":"awesome-reverse-main/wechat/appbrand-framework-introduce/#_2","title":"\u9006\u5411\u51c6\u5907","text":"<p>\u5728\u5f00\u59cb\u7834\u89e3\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u4e4b\u524d\uff0c\u6700\u597d\u5148\u6d4f\u89c8\u4e00\u904d\u5fae\u4fe1\u7684\u5c0f\u7a0b\u5e8f\u5f00\u53d1\u8005\u6587\u6863\uff0c\u901a\u8fc7\u5f00\u53d1\u8005\u6587\u6863\u53ef\u4ee5\u4e86\u89e3\u5230\u5c0f\u7a0b\u5e8f\u7684\uff1a - \u7f16\u5199\u8bed\u8a00\u4ecd\u7136\u4e3b\u8981\u662fJS\uff0c\u4f46\u8fd0\u884c\u73af\u5883\u4e0d\u540c\uff0c\u4e0e\u6d4f\u89c8\u5668\u73af\u5883\u548cNode\u73af\u5883\u6709\u6240\u533a\u522b - \u4ee3\u7801\u7ed3\u6784/\u76ee\u5f55/\u6587\u4ef6\uff0c\u4e0eHTML\u7c7b\u4f3c\uff0c\u5c0f\u7a0b\u5e8f\u4e2d\u4e5f\u6709\u7c7b\u4f3cWXML\u3001WXSS\u7b49\u6a21\u7248\u548c\u6837\u5f0f\u6587\u4ef6 - \u5c0f\u7a0b\u5e8f\u5bbf\u4e3b\u73af\u5883\uff08\u5b89\u5353\u903b\u8f91\u5c42\u4f7f\u7528V8\u5185\u6838\uff09\uff0c\u4ee5\u53ca\u6e32\u67d3\u5c42\u548c\u903b\u8f91\u5c42\u7684\u533a\u522b  - \u5c0f\u7a0b\u5e8f\u5e38\u7528API - \u5fae\u4fe1\u5f00\u53d1\u8005\u5de5\u5177\u7684\u4f7f\u7528\uff0c\u901a\u8fc7\u5fae\u4fe1\u5f00\u53d1\u8005\u5de5\u5177\u53ef\u4ee5\u8fd0\u884c\u5c0f\u7a0b\u5e8f\u53cd\u7f16\u8bd1\u7684\u4ee3\u7801\u8fdb\u884c\u8c03\u8bd5</p> <p>\u901a\u8fc7\u8fd9\u4e9b\uff0c\u624d\u80fd\u77e5\u9053\u83b7\u5f97\u5c0f\u7a0b\u5e8f\u7684\u7f16\u8bd1\u4ea7\u51fa\u7269\u5e76\u8fdb\u884c\u53cd\u7f16\u8bd1\u4e4b\u540e\uff0c\u5982\u4f55\u4e0b\u624b\u548c\u8bfb\u61c2\u5c0f\u7a0b\u5e8f\u4ee3\u7801\uff0c\u8fdb\u800c\u8fdb\u4e00\u6b65\u5b9a\u4f4d\u548c\u63d0\u53d6\u5173\u952e\u903b\u8f91\u3002</p>"},{"location":"awesome-reverse-main/wechat/appbrand-framework-introduce/#_3","title":"\u9006\u5411\u6b65\u9aa4","text":"<p>\u5728\u9006\u5411APP\u65f6\uff0c\u4e00\u822c\u5148\u53cd\u7f16\u8bd1\u4ee3\u7801\uff0c\u7136\u540e\u5404\u79cd\u65b9\u5f0f\u5b9a\u4f4d\u5173\u952e\u4ee3\uff0c\u5728\u5c0f\u7a0b\u5e8f\u4e2d\u4e5f\u662f\u5982\u6b64\uff0c\u53ea\u4e0d\u8fc7\u5c0f\u7a0b\u5e8f\u7684\u53cd\u7f16\u8bd1\u65b9\u5f0f\u4e0e\u5b9a\u4f4d\u65b9\u5f0f\u6709\u6240\u4e0d\u540c\uff1a - \u83b7\u53d6\u5c0f\u7a0b\u5e8f\u6e90\u7801\u5e76\u53cd\u7f16\u8bd1 - \u6253\u5f00\u5fae\u4fe1\u5f00\u53d1\u8005\u5de5\u5177\u8fdb\u884c\u4fee\u590d - \u6293\u5305\u3001\u8c03\u8bd5\u3001\u4ee3\u7801\u5ba1\u8ba1</p>"},{"location":"awesome-reverse-main/wechat/appbrand-framework-introduce/#_4","title":"\u5c0f\u7a0b\u5e8f\u67b6\u6784\u6d45\u6790","text":"<p>\u5c0f\u7a0b\u5e8f\u5f00\u53d1\u6587\u6863\u4e2d\u6709\u4e00\u5f20\u975e\u5e38\u91cd\u8981\u7684\u56fe\u63cf\u8ff0\u4e86\u5c0f\u7a0b\u5e8f\u7684\u8fd0\u884c\u73af\u5883\uff0c\u901a\u8fc7\u8fd9\u4e2a\u56fe\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\uff1a - \u5c0f\u7a0b\u5e8f\u4e2d\u9875\u9762\u5c55\u793a\u6e32\u67d3\uff08\u5373\u6e32\u67d3\u5c42\uff09\u4e0e\u6211\u4eec\u6240\u770b\u5230\u7684\u5c0f\u7a0b\u5e8fJS\u6587\u4ef6\uff08\u5373\u903b\u8f91\u5c42\uff09\u5e76\u4e0d\u8fd0\u884c\u5728\u540c\u4e00\u4e2aJS\u73af\u5883 - \u89c6\u56feview\u5c42\u5728webview\u4e2d\u6e32\u67d3\uff0c\u4e00\u4e2a\u9875\u9762\u5bf9\u5e94\u4e00\u4e2awebview - \u5c0f\u7a0b\u5e8f\u4e2d\u6240\u6709\u7684\u7f51\u7edc\u901a\u4fe1\u80fd\u529bHTTP/WebSocket\u6700\u7ec8\u90fd\u662f\u901a\u8fc7\u5fae\u4fe1\u5ba2\u6237\u7aef\u6765\u5b8c\u6210 - \u6e32\u67d3\u5c42\u5b58\u5728\u591a\u4e2aWebView\u7ebf\u7a0b\uff0c\u903b\u8f91\u5c42\u4e0e\u6e32\u67d3\u5c42\u7684\u901a\u4fe1\u4e5f\u4f1a\u7ecf\u7531\u5fae\u4fe1\u5ba2\u6237\u7aef\u505a\u4e2d\u8f6c</p> <p></p> <p>\u6574\u4e2a\u5c0f\u7a0b\u5e8f\u6846\u67b6\u7cfb\u7edf\u5206\u4e3a\u4e24\u90e8\u5206\uff1a\u903b\u8f91\u5c42\uff08App Service\uff09\u548c \u89c6\u56fe\u5c42\uff08View\uff09\u3002\u5c0f\u7a0b\u5e8f\u63d0\u4f9b\u4e86\u81ea\u5df1\u7684\u89c6\u56fe\u5c42\u63cf\u8ff0\u8bed\u8a00 WXML \u548c WXSS\uff0c\u4ee5\u53ca\u57fa\u4e8e JavaScript \u7684\u903b\u8f91\u5c42\u6846\u67b6\uff0c\u5e76\u5728\u89c6\u56fe\u5c42\u4e0e\u903b\u8f91\u5c42\u95f4\u63d0\u4f9b\u4e86\u6570\u636e\u4f20\u8f93\u548c\u4e8b\u4ef6\u7cfb\u7edf\uff0c\u8ba9\u5f00\u53d1\u8005\u80fd\u591f\u4e13\u6ce8\u4e8e\u6570\u636e\u4e0e\u903b\u8f91\u3002</p> <p>\u5c0f\u7a0b\u5e8f\u8fd9\u6837\u8bbe\u8ba1\u7684\u4f18\u70b9\u4e5f\u5728\u4e8e\u89c6\u56fe\u6e32\u67d3\u4e0e\u4e1a\u52a1\u903b\u8f91\u5206\u522b\u5728\u8fd0\u884c\u5728\u4e0d\u540c\u7684\u7ebf\u7a0b\u4e2d\uff0c\u9632\u6b62\u957f\u65f6\u95f4\u7684\u811a\u672c\u8fd0\u884c\u5bfc\u81f4\u6e32\u67d3\u767d\u5c4f\u5361\u6b7b\u7b49\uff0c</p> <p>\u56e0\u6b64\u5728\u903b\u8f91\u5c42\u4e2d\u662f\u4e0d\u5b58\u5728DOM\u7b49\u64cd\u4f5c\uff0c\u4e5f\u65e0\u6cd5\u63a7\u5236\u5c0f\u7a0b\u5e8f\u5c55\u793a\u9875\u9762\uff0c\u6240\u4ee5\u5982\u679c\u5728\u5c0f\u7a0b\u5e8fJS\u6ce8\u5165\u65f6\u9700\u8981\u6ce8\u610f\u8fd9\u70b9\u3002</p>"},{"location":"awesome-reverse-main/wechat/appbrand-framework-introduce/#waservicejswawebviewjs","title":"WAService.js\u548cWAWebview.js","text":"<p>\u5728\u53cd\u7f16\u8bd1\u5c0f\u7a0b\u5e8f\u6e90\u7801\u4e4b\u540e\u53ef\u4ee5\u770b\u5230\u4e24\u4e2a\u4e0e\u4e1a\u52a1\u65e0\u5173\u7684JS\u6587\u4ef6\uff0cWAService.js\u548cWAWebview.js\uff0c\u8fd9\u4fe9\u6587\u4ef6\u5176\u5b9e\u662f\u5fae\u4fe1\u7684\u57fa\u7840\u5f00\u53d1\u5e93\uff0c\u5fae\u4fe1\u5bbf\u4e3b\u73af\u5883\u4f1a\u63d0\u524d\u5185\u7f6e\u57fa\u7840\u5e93\uff0c\u6253\u5f00\u5c0f\u7a0b\u5e8f\u65f6\u4f1a\u81ea\u52a8\u5c06\u57fa\u7840\u5e93\u6ce8\u5165\u5230\u5c0f\u7a0b\u5e8f\u7684\u89c6\u56fe\u5c42\u548c\u4e1a\u52a1\u903b\u8f91\u5c42\u4e2d\uff0c\u5c0f\u7a0b\u5e8f\u5f00\u53d1\u8005\u5de5\u5177\u5219\u662f\u7531\u5e95\u5c42HTTP\u670d\u52a1\u8d1f\u8d23\u6ce8\u5165\u3002</p> <p>WAService\u8d1f\u8d23\u63d0\u4f9b\u903b\u8f91\u5c42 \u57fa\u7840\u529f\u80fd\uff0c\u4f8b\u5982\uff1a - WeixinJSBridge\uff1a\u6d88\u606f\u901a\u4fe1\u7684\u7edf\u4e00\u5c01\u88c5\u6613\u4e8e\u8c03\u7528\uff0c\u4e3b\u8981\u5fae\u4fe1\u73af\u5883\u4e0enative\uff0c\u5f00\u53d1\u73af\u5883\u4e0e\u5f00\u53d1\u8005\u5de5\u5177\u540e\u53f0\u670d\u52a1\u7684\u901a\u4fe1\u3002 - wx: wx\u5bf9\u8c61\u4e0b\u9762\u7684api\u65b9\u6cd5\u5c01\u88c5 - appServiceEngine\uff1a\u5b9a\u4e49\u4e86\u5168\u5c40\u7684\u65b9\u6cd5\u5982define\uff0crequire, App\uff0cPage\uff0cComponent\uff0cgetApp\uff0cgetCurrentPages\u7b49 - virtualDOM: VirtualDOM\uff0cDiff\u548cRender UI\u5b9e\u73b0 - expraser: expraser\u6846\u67b6\u7ec4\u4ef6\u7684\u65b9\u6cd5\u5b9a\u4e49\uff0c\u8fd9\u610f\u5473\u7740\u903b\u8f91\u5c42\u4e5f\u5177\u6709\u4e00\u5b9a\u7684\u7ec4\u4ef6\u6811\u7ec4\u7ec7\u80fd\u529b\u3002 - Reporter: \u5c0f\u7a0b\u5e8f\u65e5\u5fd7\u7ec4\u4ef6</p> <p>WAWebview\u8d1f\u8d23\u63d0\u4f9b\u6e32\u67d3\u5c42\u57fa\u7840\u529f\u80fd \uff0c\u4f8b\u5982\uff1a - \u6d88\u606f\u901a\u4fe1\u5c01\u88c5\u4e3aWeixinJSBridge - \u65e5\u5fd7\u7ec4\u4ef6Reporter\u5c01\u88c5 - wx\u5bf9\u8c61\u4e0b\u7684api\uff0c\u8ddfWAService\u91cc\u7684\u4e0d\u540c\u7684\u662f\u5176\u5927\u90e8\u5206\u90fd\u662f\u5904\u7406UI\u663e\u793a\u76f8\u5173\u7684\u65b9\u6cd5 - \u5c0f\u7a0b\u5e8fExpraser\u7ec4\u4ef6\u6846\u67b6\u7684\u5b9e\u73b0\u548c\u5185\u7f6e\u7ec4\u4ef6\u7684\u6ce8\u518c - VirtualDOM\uff0cDiff\u548cRender UI\u5b9e\u73b0 - \u5b9a\u4e49\u9875\u9762\u76f8\u5173\u4e8b\u4ef6\u89e6\u53d1</p> <p>\u53ef\u4ee5\u53d1\u73b0\uff0c\u4e0eWebView\u7c7b\u4f3c\uff0c\u5728Native\u548cJS\u901a\u4fe1\u65f6\u90fd\u662f\u5229\u7528\u4e86\u4e2d\u95f4\u5c42JsBridge\u6765\u5b8c\u6210\u8fc7\u901a\u4fe1\uff0c\u5728\u5c0f\u7a0b\u5e8f\u542f\u52a8\u65f6\u5fae\u4fe1\u4f1a\u5206\u522b\u5411\u903b\u8f91\u5c42\u548c\u6e32\u67d3\u5c42\u4e2d\u6ce8\u5165\u8be5WeixinJsBridge\uff0cWeixinJsBridge\u63d0\u4f9b\u4e86\u56db\u4e2a\u65b9\u6cd5\uff0c\u8fd9\u56db\u4e2a\u65b9\u6cd5\u5b8c\u6210\u4e86\u53cc\u7ebf\u7a0b\u4e4b\u95f4\u7684\u901a\u4fe1\u673a\u5236\u3002 <pre><code>window.WeixinJSBridge = { \n  on: o,//on: \u7528\u6765\u6536\u96c6\u5c0f\u7a0b\u5e8f\u89e6\u53d1\u7684\u4e8b\u4ef6\u56de\u8c03\n  invoke: a, //invoke\uff1a\u4ee5api\u65b9\u5f0f\u8c03\u7528\u5fae\u4fe1\u5ba2\u6237\u7aef\u7684\u57fa\u7840\u80fd\u529b\uff0c\u5e76\u63d0\u4f9b\u5bf9\u5e94api\u6267\u884c\u540e\u7684\u56de\u8c03\n  publish: c, //publish\uff1a\u7528\u6765\u5411Appservice\u4e1a\u52a1\u5c42\u53d1\u9001\u6d88\u606f\uff0c\u4e5f\u5c31\u662f\u8bf4\u8981\u8c03\u7528Appservice\u5c42\u7684\u4e8b\u4ef6\u65b9\u6cd5\n  subscribe: u //subscribe: \u7528\u6765\u6536\u96c6Appservice\u4e1a\u52a1\u903b\u8f91\u5c42\u89e6\u53d1\u7684\u4e8b\u4ef6\u56de\u8c03\n }\n</code></pre></p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u5728Java\u5c42\u4e2d\u627e\u5230WeixinJsBridge\u6ce8\u518c\u7684\u8fd9\u56db\u4e2a\u65b9\u6cd5\u8fdb\u884cHook\uff0c\u6765\u76d1\u63a7\u6216\u63a7\u5236WeixinJsBridge\uff0c\u6bd4\u5982publish\u65b9\u6cd5\u53ef\u4ee5\u53c2\u8003ratel_qunar_crack\u9879\u76ee\u4e2dcrack-dianping-mini-tx\u63d2\u4ef6\u7684com.alienhe.crack_dianping_mini_tx.wxium.WxJsBridgeHooker\u3002</p>"},{"location":"awesome-reverse-main/wechat/appbrand-logic-webview-hook/","title":"\u5c0f\u7a0b\u5e8f\u903b\u8f91\u5c42Hook","text":"<p>\u5728\u5c0f\u7a0b\u5e8f\u6bcf\u4e2a\u9875\u9762\u52a0\u8f7d\u65f6\uff0c\u5fae\u4fe1\u4f1a\u5c06\u5f53\u524d\u9875\u9762\u7684\u6240\u6709\u903b\u8f91\u5c42JS\u4ee3\u7801\u901a\u8fc7V8\u5f15\u64ce\u8fdb\u884c\u6267\u884c\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 Hook\u8be5\u65b9\u6cd5\u6765\u66f4\u6539\u903b\u8f91\u5c42\u7684JS\u5185\u5bb9\u6765\u5b8c\u6210JS\u6ce8\u5165\u548cHook\u3002 <pre><code>        /**\n         * \u6bcf\u4e2a\u9875\u9762\u521d\u59cb\u5316\u52a0\u8f7d\u65f6\uff0c\u90fd\u4f1a\u5c06\u903b\u8f91\u5c42\u7684js\u4ee3\u7801\u7ec4\u88c5\u7531Native\u5c42\u4f20\u5230\u903b\u8f91\u5c42\u6267\u884c\uff0c\u56e0\u6b64\u53ef\u4ee5Hook\u8fd9\u4e2a\u6b65\u9aa4\u66ff\u6362\u4e00\u4e9b\u5173\u952eJs\u4ee3\u7801\n         */\n        RposedHelpers.findAndHookMethod(WxHookConstants.logicJsEngineClass, loadPackageParam.classLoader, WxHookConstants.logicJsEngineExecuteJsMethod, \"java.lang.String\", \"java.lang.String\", int.class, \"java.lang.String\", \"java.lang.String\", \"com.eclipsesource.v8.ExecuteDetails\", new RC_MethodHook() {\n            @Override\n            protected void beforeHookedMethod(MethodHookParam param) throws Throwable {\n                String js = (String) param.args[0];\n                try {\n                    for (JsHandler jsHandler : jsHandlers) {\n                        if (jsHandler.support(js)) {\n                            param.args[0] = jsHandler.handle(js);\n                            break;\n                        }\n                    }\n                } catch (Throwable e) {\n                    Log.e(TAG, \"hook logic layer js exception\", e);\n                }\n            }\n        });\n</code></pre></p>"},{"location":"awesome-reverse-main/wechat/appbrand-logic-webview-hook/#hook_1","title":"\u6e32\u67d3\u5c42Hook","text":"<p>\u5c0f\u7a0b\u5e8f\u6e32\u67d3\u5c42\u5b9e\u9645\u4e0a\u5c31\u662f\u4e2aWebView\uff0c\u53ea\u4e0d\u8fc7\u5fae\u4fe1\u6709\u81ea\u5b9a\u4e49\u7684WebView\uff0c\u56e0\u6b64hook\u903b\u8f91\u4e0eWebView\u7684Hook\u57fa\u672c\u4e00\u81f4\uff0c\u4f8b\u5982\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7WebViewClient\u6765\u6ce8\u5165\u6211\u4eec\u7684JsBridge\u3002 <pre><code>RposedHelpers.findAndHookMethod(\"com.tencent.xweb.WebView\", SharedObject.loadPackageParam.classLoader, \"setWebViewClient\", \"com.tencent.xweb.aa\", new RC_MethodHook() {\n            @Override\n            protected void beforeHookedMethod(MethodHookParam param) throws Throwable {\n                Log.i(TAG, \"web view hook success\");\n                Object webView = param.thisObject;\n                Object webViewClient = param.args[0];\n\n                if (webViewClient == null) {\n                    Log.i(TAG, \"webViewClient is null\");\n                    return;\n                }\n                Log.i(TAG, \"new webview onFinished\");\n                webViews.add(webView);\n                RposedHelpers.callMethod(webView, \"addJavascriptInterface\", new JavaBridge(SharedObject.context), \"javaBridge\");\n            }\n        });\n</code></pre></p> <p>\u524d\u9762\u63d0\u5230\u5c0f\u7a0b\u5e8f\u5f00\u53d1\u8005\u5de5\u5177\u6ca1\u6709\u529e\u6cd5\u6a21\u62df\u767b\u5f55\uff0c\u901a\u8fc7\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u767b\u5f55 \u7684\u65f6\u5e8f\u56fe\uff0c\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u4e3b\u8981\u662f\u56e0\u4e3a\u5f00\u53d1\u8005\u5de5\u5177\u6ca1\u6709\u529e\u6cd5\u83b7\u53d6\u5230\u6211\u4eec\u7684\u767b\u5f55code\uff0c\u8be5code\u662f\u901a\u8fc7wx.login\u7684api\u6765\u83b7\u53d6\u3002</p> <p></p> <p>\u53ea\u8981\u6211\u4eec\u80fd\u62ff\u5230\u771f\u5b9e\u73af\u5883\u4e2d\u7684wx.login\u6240\u8fd4\u56de\u7684cod\uff0c\u5c31\u53ef\u4ee5\u5728\u5f00\u53d1\u8005\u5de5\u5177\u4e2d\u4fee\u6539\u767b\u5f55\u7684\u4ee3\u7801\uff0c\u5c06wx.login\u6ce8\u91ca\uff0c\u66ff\u6362\u6210\u6211\u4eec\u7684code\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5b8c\u6210\u5f00\u53d1\u8005 \u5de5\u5177\u4e2d \u7684\u767b\u5f55\u5566\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5728\u6e32\u67d3\u5c42\u6ce8\u5165\u6211\u4eec\u7684js\u4ee3\u7801\uff0c\u6765\u4e3b\u52a8\u8c03\u7528wx.login\uff0c\u83b7\u53d6\u767b\u5f55cod\uff0c\u4f8b\u5982\uff1a <pre><code>                // \u5728\u6bcf\u4e2a\u9875\u9762\u521d\u59cb\u5316\u5b8c\u6210\u4e4b\u540e\u6ce8\u5165\n                RposedBridge.hookMethod(onPageFinishedMethod, new RC_MethodHook() {\n                    @TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\n                    @Override\n                    protected void afterHookedMethod(MethodHookParam param) throws Throwable {\n                        if (!isWxLogined.compareAndSet(false, true)) {\n                            return;\n                        }\n                        Object webView = param.args[0];\n                        String url = (String) RposedHelpers.callMethod(webView, \"getUrl\");\n                        Log.i(TAG, \"webview:\" + url);\n                        // \u8c03\u7528wx.login\n                        RposedHelpers.callMethod(webView, \"loadUrl\", \"javascript:\" + \"wx.login({success: function(res){wx.showToast({title:res.code,icon:'none',duration: 2000});javaBridge.log(res.code);},fail:function(e){wx.showToast({title: '\u767b\u5f55\u5931\u8d25', icon: 'none', duration: 2000});javaBridge.log('\u767b\u5f55\u5931\u8d25');}});\");\n                    }\n                });\n</code></pre></p>"},{"location":"awesome-reverse-main/wechat/appbrand-request-hook/","title":"Appbrand request hook","text":"<p>\u5c0f\u7a0b\u5e8f\u4e2d\u4e3b\u8981\u901a\u4fe1\u65b9\u5f0f\u6709\u4e24\u79cd\uff0c\u4e00\u79cd\u4e3a\u6700\u5e38\u89c1\u7684Http\uff0c\u53e6\u4e00\u79cd\u4e3aWebSocket\u3002\u4ece\u5c0f\u7a0b\u5e8f\u67b6\u6784\u4e2d\u53ef\u4ee5\u77e5\u9053\u4e0d\u8bba\u54ea\u79cd\u65b9\u5f0f\u90fd\u662f\u901a\u8fc7\u5fae\u4fe1\u5ba2\u6237\u7aef\u63d0\u4f9b\u7684 \u80fd\u529b\u5b8c\u6210\uff0c\u56e0\u6b64\u662f\u53ef\u4ee5\u5728Java\u5c42\u5bf9\u8fd9\u4e24\u79cd\u65b9\u5f0f\u8fdb\u884cHook\u3002</p> <p>\u4ee5\u4e0b\u7684\u4e24\u79cd\u65b9\u5f0f\u6848\u4f8b\u90fd\u662f\u57fa\u4e8e\u5fae\u4fe17.0.8\u5b8c\u6210\uff0c\u66f4\u9ad8\u7248\u672c\u53ef\u80fd\u5b58\u5728\u6df7\u6dc6\u5bfc\u81f4\u7c7b\u540d\u6709\u6240\u53d8\u5316\uff0c\u53ef\u6839\u636e\u7279\u5f81\u81ea\u884c\u67e5\u627e\u4fee\u6b63\u3002</p>"},{"location":"awesome-reverse-main/wechat/appbrand-request-hook/#http","title":"Http","text":"<p>com.android.okhttp.internal.huc.HttpURLConnectionImpl#getInputStream</p> <p>\u901a\u8fc7HttpURLConnectionImpl#getURL\u65b9\u6cd5\u53ef\u4ee5\u533a\u5206\u51fa\u5f53\u524d\u8bf7\u6c42\u7684\u63a5\u53e3\u5730\u5740\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56de\u503c\u662f\u4e2aIO\u6d41\uff0c\u53ea\u80fd\u88ab\u6d88\u8d39\u4e00\u6b21\uff0c\u56e0\u6b64\u9700\u8981\u6211\u4eec\u989d\u5916\u8fdb\u884c \u62f7\u8d1d\u4e00\u4efd\uff0c\u4ee5\u514d\u5f71\u54cd\u5230\u5c0f\u7a0b\u5e8f\u903b\u8f91\u3002\u5177\u4f53\u4ee3\u7801\u53ef\u53c2\u8003\uff1acom.alienhe.crack_dianping_mini_tx.hook.http.InputStreamHook</p>"},{"location":"awesome-reverse-main/wechat/appbrand-request-hook/#websocket","title":"WebSocket","text":"<p>\u76f4\u63a5\u4e0a\u4ee3\u7801\uff0c\u53ef\u4ee5\u901a\u8fc7DDMS\u65b9\u6cd5\u5806\u6808dump\u8fdb\u884c\u5b9a\u4f4d\u3002 <pre><code>        /**\n        * WebSocket\u76f8\u5173\n        */\n        public static String webSocketInitClass = \"com.tencent.mm.plugin.appbrand.jsapi.websocket.b\";\n        public static String webSocketInitMethod = \"a\";\n        public static String webSocketTaskClass = \"com.tencent.mm.plugin.appbrand.jsapi.websocket.a$1\";\n        public static String webSocketTaskOnMessageMethod = \"Cv\";\n\n\n        /**\n         *\n         * \u7528\u4e8e\u786e\u8ba4\u5c0f\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u7684WebSocket\u7531\u54ea\u4e2a\u7c7b\u5b9e\u73b0SocketTask\u5b57\u8282\u6d41\u7684\u53d1\u9001\u3001\u63a5\u6536\u3001\u8fde\u63a5\u4e8b\u4ef6\n         */\n        RposedHelpers.findAndHookMethod(RposedHelpers.findClass(WxHookConstants.webSocketInitClass,\n                loadPackageParam.classLoader), WxHookConstants.webSocketInitMethod,\n                \"com.tencent.mm.plugin.appbrand.jsapi.websocket.e.a\",\n                new RC_MethodHook() {\n                    @Override\n                    protected void beforeHookedMethod(MethodHookParam param) {\n                        Log.i(TAG, \"handle websocket on message class:\" +\n                                param.args[0].getClass().getName(), new Throwable());\n                    }\n                });\n\n        /**\n         * \u76d1\u542cSocketTask\u6536\u5230\u7684\u6d88\u606f\u4e8b\u4ef6\uff0c\u5e76\u5904\u7406\u9152\u5e97\u62a5\u4ef7\n         * @see \u5c0f\u7a0b\u5e8fAPI\uff1aSocketTask.onMessage(function callback)\n         */\n        RposedHelpers.findAndHookMethod(RposedHelpers.findClass(WxHookConstants.webSocketTaskClass,\n                loadPackageParam.classLoader), WxHookConstants.webSocketTaskOnMessageMethod,\n                \"java.lang.String\", new RC_MethodHook() {\n                    @Override\n                    protected void beforeHookedMethod(MethodHookParam param) {\n                        final Object data = param.args[0];\n                        for (WebSocketDataHandler handler : socketDataHandlerList) {\n                            try {\n                                handler.handle(data);\n                            } catch (Throwable e) {\n                                Log.e(TAG, \"web socket handler handle socket error\", e);\n                            }\n                        }\n                    }\n                });\n</code></pre></p>"},{"location":"other/adb/","title":"\u8fdc\u7a0b\u8fde\u63a5adb\u8bbe\u5907","text":"<ol> <li>\u4f7f\u7528\u6570\u636e\u7ebf\u8fde\u63a5\u624b\u673a\u5e76\u8fdb\u5165adb\u6a21\u5f0f</li> <li> <p>\u6253\u5f00adb\u7aef\u53e3   <code>adb tcpip 5555</code></p> </li> <li> <p>\u65ad\u5f00\u6570\u636e\u7ebf\uff0c\u8fdc\u7a0b\u8fde\u63a5   <code>adb connect 192.168.8.242</code></p> </li> </ol>"},{"location":"other/adb/#_1","title":"\u6839\u636e\u8bbe\u5907\u540d\u5b57\u8fde\u63a5\u6307\u5b9a\u8bbe\u5907","text":"<pre><code>adb -s \u8bbe\u5907\u540d shell\n</code></pre>"},{"location":"other/adb/#_2","title":"\u67e5\u770b\u5b89\u88c5\u4e86\u7684\u5305","text":"<pre><code>pm list packages\n</code></pre>"},{"location":"other/adb/#apk","title":"\u5b89\u88c5apk","text":"<pre><code>adb install ./xxx.apk\n</code></pre>"},{"location":"other/adb/#_3","title":"\u4f20\u8f93\u6587\u4ef6","text":"<pre><code>adb push xxx.xxx /data/local/tmp/\n</code></pre>"},{"location":"other/adb/#_4","title":"\u7aef\u53e3\u8f6c\u53d1","text":"<p>\u8f6c\u53d1\u7535\u8111\u7684\u7aef\u53e3\u5230\u8fdc\u7a0b\u8bbe\u5907\u7684\u7aef\u53e3</p> <pre><code>adb forward tcp:27042 tcp:27042\nadb forward tcp:27043 tcp:27043\n</code></pre>"},{"location":"python/Linux-%E6%A1%86%E6%9E%B6%E8%BF%90%E8%A1%8C%E8%AF%B4%E6%98%8E/","title":"Linux \u6846\u67b6\u8fd0\u884c\u8bf4\u660e","text":"<ul> <li>\u6846\u67b6\u6587\u4ef6\u76ee\u5f55</li> <li>\u811a\u672c\u6587\u4ef6\u8bf4\u660e</li> <li>\u6dfb\u52a0\u548c\u8fd0\u884c\u4e00\u4e2a\u65b0\u7684\u722c\u866b\uff1a<ul> <li>\u5bf9\u4e8e\u9700\u8981\u65e0\u9650\u6dfb\u52a0\u79cd\u5b50\u7684</li> </ul> </li> <li>\u56fd\u5916\u7f51\u7ad9\u7684\u722c\u866b</li> <li>\u670d\u52a1\u5668\u91cd\u542f\u540e\u9700\u8981\u5f00\u542f\u7684\u670d\u52a1</li> <li>\u76ee\u524d\u7684\u722c\u866b\u7f51\u7ad9\u5bf9\u5e94\u7f16\u53f7</li> </ul> <p>\u5206\u522b\u653e\u5728master\uff1a192.168.0.106\u3001 slave1:192.168.0.108\u4e0a\u9762</p>"},{"location":"python/Linux-%E6%A1%86%E6%9E%B6%E8%BF%90%E8%A1%8C%E8%AF%B4%E6%98%8E/#_1","title":"\u6846\u67b6\u6587\u4ef6\u76ee\u5f55","text":"<pre><code>root@master:~/spider/slave/slave# pwd\n/root/spider/slave/slave\n</code></pre>"},{"location":"python/Linux-%E6%A1%86%E6%9E%B6%E8%BF%90%E8%A1%8C%E8%AF%B4%E6%98%8E/#_2","title":"\u811a\u672c\u6587\u4ef6\u8bf4\u660e","text":"<ul> <li> <p><code>crawl-one.sh</code>:  \u8fd0\u884c\u4e00\u4e2a\u722c\u866b</p> </li> <li> <p>\u6bd4\u5982\u8fd0\u884c\u7f16\u53f7\u4e3a100\u7684\u722c\u866b\uff1a <code>./crawl-one.sh 100</code></p> </li> <li> <p><code>crawl-all.sh</code>\uff1a\u8fd0\u884c<code>crawl_num</code>\u4e2d\u9884\u5148\u914d\u7f6e\u7684\u6240\u6709\u7684\u722c\u866b\u722c\u866b\u7f16\u53f7</p> </li> <li> <p></p> </li> <li> <p><code>crawl-time.sh</code>\uff1a  \u6bcf\u5929\u5b9a\u65f6\u8fd0\u884c<code>crawl-all.sh</code>\u8fd9\u4e2a\u811a\u672c\u6587\u4ef6</p> </li> <li> <p>6\u523011\u884c\u4ee3\u7801\uff1a \u8c03\u7528\u81ea\u52a8\u6dfb\u52a0\u722c\u866b\u79cd\u5b50\u7684\u6587\u4ef6\uff0c\u6dfb\u52a0\u79cd\u5b50\u6587\u4ef6\u7684\u76ee\u5f55\u4e3amaster\u4e0a\u7684<code>/root/spider/slave/slave/redis_func</code>\u6587\u4ef6</p> </li> <li> <p>\u81ea\u52a8\u6dfb\u52a0\u79cd\u5b50\u7684\u6587\u4ef6</p> </li> <li> <p></p> </li> <li> <p>18\u884c\u7684<code>num = 60 * 30</code>\u5373sleep60*30\u79d2\uff0c\u5927\u81f4\u534a\u5c0f\u65f6\uff0c\u5982\u679c\u8981\u4fee\u6539\u6dfb\u52a0\u79cd\u5b50\u7684\u9891\u7387\u53ef\u4fee\u6539\u8fd9\u91cc</p> </li> <li> <p></p> </li> <li> <p>\u7b2c21\u884c  <code>if (($hours==00));then</code>  \u4e2d\u95f4\u768400\u5c31\u662f24\u5c0f\u65f6\u5236\u76840\u70b9\uff0c\u53ef\u81ea\u884c\u4fee\u6539</p> </li> <li></li> </ul> <p>\u200b </p> <ul> <li><code>get-crawl-count.sh</code>\uff1a  \u4ece\u65e5\u5fd7\u6587\u4ef6\u4e2d\u83b7\u53d6\u5f53\u5929<code>crawl-all.sh</code>\u4e2d\u7684\u722c\u866b\u722c\u8fc7\u7684\u65b0\u95fb\u6570\u91cf</li> </ul>"},{"location":"python/Linux-%E6%A1%86%E6%9E%B6%E8%BF%90%E8%A1%8C%E8%AF%B4%E6%98%8E/#_3","title":"\u6dfb\u52a0\u548c\u8fd0\u884c\u4e00\u4e2a\u65b0\u7684\u722c\u866b\uff1a","text":"<ol> <li>\u628a\u722c\u866b\u6587\u4ef6\u653e\u5230\u9700\u8981\u8fd0\u884c\u6b64\u722c\u866b\u7684\u670d\u52a1\u5668\u4e0a\u7684\u6539\u76ee\u5f55\u4e0b<code>/root/spider/slave/slave/parse</code></li> <li>\u7f16\u8f91  <code>vi conf/spider.cfg</code>\uff0c\u6dfb\u52a0\u4fe1\u6e90\uff0c\u4f8b\u6dfb\u52a0\u4e00\u4e2a\u5feb\u624b</li> <li></li> <li>\u8fd0\u884c<code>crawl-one.sh \u722c\u866b\u7f16\u53f7</code></li> <li>\u4f8b </li> <li>\u5982\u679c\u9700\u8981\u67e5\u770b\u8fd0\u884c\u8fc7\u7a0b\u53ef\u4ee5\u67e5\u770b\u65e5\u5fd7\u6587\u4ef6\uff0c\u53ef\u4f7f\u7528\u6b64\u547d\u4ee4<code>tail -fc1 logs/slave_100.log.2021-09-10</code> </li> <li>100\u662f\u722c\u866b\u7684\u7f16\u53f7\uff0c\u540e\u9762\u7684\u662f\u5f53\u5929\u7684\u65e5\u671f</li> <li>\u786e\u5b9a\u6ca1bug\u540e\u53ef\u4ee5\u5728<code>crawl-all.sh</code>\u7684shell\u6587\u4ef6\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u7f16\u53f7</li> <li>\u6dfb\u52a0\u4e86\u4e00\u4e2a100</li> <li></li> <li>\u628a\u6dfb\u52a0\u79cd\u5b50\u7684\u6587\u4ef6\u653e\u5230master\u4e0b\u7684<code>~/spider/slave/slave/redis_func</code>\u76ee\u5f55\u4e0b\u5373\u53ef\u6bcf\u534a\u5c0f\u65f6\u81ea\u52a8\u52a0\u4e00\u6b21</li> </ol>"},{"location":"python/Linux-%E6%A1%86%E6%9E%B6%E8%BF%90%E8%A1%8C%E8%AF%B4%E6%98%8E/#_4","title":"\u5bf9\u4e8e\u9700\u8981\u65e0\u9650\u6dfb\u52a0\u79cd\u5b50\u7684","text":"<p>\u5728<code>crawl-all.sh</code>\u6587\u4ef6\u4e2d\u914d\u7f6e</p> <p>\u6309\u4e0b\u9762\u7684\u683c\u5f0f\u6dfb\u52a0\u4e09\u884c\u5373\u53ef</p> <p></p>"},{"location":"python/Linux-%E6%A1%86%E6%9E%B6%E8%BF%90%E8%A1%8C%E8%AF%B4%E6%98%8E/#_5","title":"\u56fd\u5916\u7f51\u7ad9\u7684\u722c\u866b","text":"<p>\u5728192.168.0.40\u4e0a\u9762\u8fd0\u884c\uff0c\u901a\u8fc7cmd\u8fd0\u884c</p>"},{"location":"python/Linux-%E6%A1%86%E6%9E%B6%E8%BF%90%E8%A1%8C%E8%AF%B4%E6%98%8E/#_6","title":"\u670d\u52a1\u5668\u91cd\u542f\u540e\u9700\u8981\u5f00\u542f\u7684\u670d\u52a1","text":"<ol> <li>\u542f\u52a8\u5168\u90e8\u7684\u722c\u866b\uff0c\u5728\u76f8\u5e94\u7684\u8282\u70b9\u4e0a\u6267\u884c<code>crawl-time.sh</code> \u5373\u53ef</li> <li><code>root@master:~/spider/slave/slave# ./crawl-time.sh &amp;</code></li> <li><code>root@slave1:~/spider/slave/slave# ./crawl-time.sh &amp;</code></li> <li> <p><code>root@slave2:~/spider/slave/slave# ./crawl-time.sh &amp;</code></p> </li> <li> <p>\u5f00\u542f\u5feb\u624bdid\u83b7\u53d6\u7a0b\u5e8f\uff0c\u5728192.168.0.40\u4e0a\u9762\u8fd0\u884c</p> </li> <li> <p>\u56e0\u4e3a\u9700\u8981\u7528\u5230selenium\u65e0\u5934\u6a21\u5f0f\u5e76\u4e14\u4f7f\u7528\u4ee3\u7406</p> </li> <li> <p>\u8fdb\u5165\u6587\u4ef6\u4f4d\u7f6e\uff1a <code>cd /root/spider/slave/slave/parse/get_seed</code></p> </li> <li>\u8fd0\u884c\u7a0b\u5e8f\uff1a <code>nohup python3 ks_huakuai.py &gt;&gt; lo.ks.log &amp;</code></li> </ol>"},{"location":"python/Linux-%E6%A1%86%E6%9E%B6%E8%BF%90%E8%A1%8C%E8%AF%B4%E6%98%8E/#_7","title":"\u76ee\u524d\u7684\u722c\u866b\u7f51\u7ad9\u5bf9\u5e94\u7f16\u53f7","text":"<pre><code>100 tengxunnews.py add_prifile_tx.py \u817e\u8baf\u65b0\u95fb\n200 jstv.py add_prifile_jstv.py \u8354\u679d\u65b0\u95fb\n300 tianya.py add_prifile_tianya.py \u5929\u6daf\u8bba\u575b\n400 pengpainews.py add_prifile_pengpainews.py \u6f8e\u6e43\u65b0\u95fb\n500 renmin.py add_prifile_renmin.py \u4eba\u6c11\u65e5\u62a5(\u5730\u65b9)\u3001\u793e\u4f1a\u6cd5\u6cbb\n510 rmw_nj.py add_prifile_rmw_nj.py \u4eba\u6c11\u65e5\u62a5-\u5357\u4eac\n600 xinhuanet.py add_prifile_xinhuanet.py \u65b0\u534e\u7f51-\u6c5f\u82cf\u3001\u4e0a\u6d77\n610 xinhuanetjs.py add_prifile_xinhuanetjs.py \u65b0\u534e\u7f51\n700 cctv.py add_profile_cctv.py \u592e\u89c6\u7f51\n800 jsnews.py add_prifile_jsnews.py \u6c5f\u82cf\u7f51\n900 chinadaily.py add_prifile_chinadaily.py \u4e2d\u56fd\u65e5\u62a5\n1000 newschina.py add_prifile_newschina.py \u4e2d\u56fd\u7f51\n1010 youth.py add_prifile_youth.py \u4e2d\u56fd\u9752\u5e74\u7f51\n1020 gmw.py add_prifile_gmw.py \u5149\u660e\u7f51\n1030 cnr.py add_prifile_cnr.py \u592e\u5e7f\u7f51\n1040 chinanews.py add_prifile_chinanews.py \u4e2d\u56fd\u65b0\u95fb\u7f51\n1050 souhu.py add_prifile_souhu.py \u641c\u72d0\u65b0\u95fb\n1060 \u767e\u5ea6\u65b0\u95fb\n1070 add_prifile_huanqiu.py huangqiu.py \u73af\u7403\u7f51\n1080 add_prifile_ycwb.py ycwb.py \u91d1\u7f8a\u7f51\n1090 add_prifile_yangtse.py yangtse.py \u626c\u5b50\u665a\u62a5\n1100 add_prifile_qs.py qs.py \u6c42\u662f\u7f51\n1110 add_prifilr_wsw.py wsw.py \u6211\u82cf\u7f51\n1120 add_prifile_sinanews.py sina.py \u65b0\u6d6a\u65b0\u95fb\n1130 add_prifile_emer.py emer.py \u4e2d\u56fd\u5e94\u6025\u4fe1\u606f\u7f51\n1140 add_prifile_wangyi.py wangyi.py \u7f51\u6613\u65b0\u95fb\n1150 \u51e4\u51f0\u65b0\u95fb   fenghuang\n1160 \u65b0\u5e7f\u7f51    XGW\n1170 \u767e\u5ea6\u8d34\u5427 \n1180  \u89c2\u5bdf\u7f51           url:https://user.guancha.cn/main/content?id=339546&amp;v=1626231413227\n1190  \u4eca\u65e5\u5934\u6761  toutiao\n1191 \u4eca\u65e5\u5934\u6761\u8bc4\u8bba\n1200 \u89c2\u5bdf\u7f51\u7528\u6237  url:https://user.guancha.cn/main/content?id=339546&amp;v=1626231413227\n1201 \u89c2\u5bdf\u7f51\u8bc4\u8bba\n1210 \u4e0a\u89c2\u65b0\u95fb     shangguan\n1220 \u5fae\u535a weibo\n1221 \u5fae\u535a\u8bc4\u8bba\n1230 \u5357\u65b9\u7f51        nanfangnews\n1240 \u82cf\u5dde\u65b0\u95fb\u7f51  suzhounews\n1250 \u4e2d\u534e\u7f51        zhonghuanews\n1260 \u7ea2\u7f51         shongwang\n1270 \u4e00\u70b9\u8d44\u8baf   yidianzixun \n1280 \u661f\u5c9b\u73af\u7403\u7f51  stnn\n1290 \u53c2\u8003\u6d88\u606f   cankaoxiaoxi\n1300 \u5927\u516c\u7f51    dagong\n1310 \u4e2d\u56fd\u6587\u660e\u7f51  wenming\n1320 \u4e2d\u56fd\u653f\u5e9c\u7f51  chinagovnews\n1330 \u65b0\u534e\u62a5\u4e1a\n1340 \u56fd\u9645\u5728\u7ebf\n1350 bbc                        --192.168.0.40\n1360 \u7ebd\u7ea6\u65f6\u62a5                   --192.168.0.40\n1370 \u4e1c\u4e9a\u65e5\u62a5                   --192.168.0.40\n1380 \u6dee\u5b89\u65b0\u95fb\u7f51\n1390 \u7f51\u6613\u65b0\u95fbapp\n1400 \u535a\u5ba2\u4e2d\u56fd\n1410 \u4eca\u65e5\u516d\u5408app   http://app.luhetv.com/mag/city/v1/info/mediaInfoView?id=1323\n1420 \u5ba3\u8bb2\u5bb6\n1430 \u6d66\u53e3\u53d1\u5e03app    http://app.pukoufabu.com/mag/info/v1/info/infoView?id=10628\n1440 \u4eca\u5434\u6c5f\n1450 \u6700\u6c5f\u9634\n1460 \u4eca\u65e5\u5f20\u5bb6\u6e2f\n1470 \u4eea\u5f81\u53d1\u5e03           status_code: 401  Authorization\n1480 \u4e1c\u592a\u6e56\u8bba\u575b\n1481 \u4e1c\u592a\u6e56\u8bba\u575b\u8bc4\u8bba\n1490 \u4eca\u65e5\u9ad8\u90ae           status_code: 401  Authorization\n1500 \u7b2c\u4e09\u9891\u9053\n1510 \u5b9c\u5174\u7f51\n1520 \u6ea7\u9633\u65f6\u7a7a\u7f51\n1530 \u53e5\u5e7f\u7f51\n1540 \u626c\u4e2d\u65b0\u95fb\u7f51 \n1550 \u6cf0\u5174\u7f51\n1560 \u5982\u4e1c\u65b0\u5a92\u4f53\n1570 \u4e2d\u5171\u5982\u768b\u5e02\u59d4\u65b0\u95fb\u7f51\n1580 \u5982\u4e1c\u65b0\u5a92\u4f53\n1590 \u4e1c\u53f0\u62a5\u4e1a\u7f51\n1600 \u5357\u901a\u5dde\u7f51\n1610 \u5c04\u9633\u65b0\u95fb\u7f51\n1620 \u6d2a\u6cfd\u65b0\u95fb\u7f51\n1630 \u8d63\u6986\u65b0\u95fb\u7f51\n1640 \u540d\u57ce\u626c\u5dde\u7f51\n1650 \u626c\u5dde\u53d1\u5e03\n1660 \u8def\u900f\u65b0\u95fb\u7f51          --192.168.0.40\n1670 \u7f8e\u56fd\u4e4b\u97f3           --192.168.0.40\n1680 \u626c\u5dde\u7f51\n\n\u4e0b\u9762\u7684\u653eslave1\u4e0a\u8dd1\uff0c\u79cd\u5b50\u653emaster\u4e0a\n=============================\n1690 \u5357\u65b9\u5468\u672b\n1700 \u6cd5\u5236\u7f51\n1710  \u77e5\u4e4e\u7528\u6237\n1712 \u77e5\u4e4e\u4e13\u680f\n1720 \u534a\u6708\u8c08\n1730 \u4e2d\u8bc4\u7f51\n1740 \u65b0\u4eac\u62a5  BjNews\n1750 \u534e\u5546\u7f51\n1760 \u5feb\u624b\u63a8\u8350\n1762 \u5feb\u624b\u7528\u6237\n1770 \u5927\u6cb3\u7f51\n1780 \u5357\u98ce\u7a97\n1790 \u5e7f\u897f\u65b0\u95fb\u7f51\n1800 \u6d88\u8d39\u65e5\u62a5\n1810 \u6296\u97f3user\n1820 \u9ed1\u9f99\u6c5f\u4e1c\u5317\u7f51\n1830 \u65b0\u6c82\u878d\u5a92\n1840 \u4e1c\u5357\u7f51\n1850 \u5c71\u897f\u65b0\u95fb\u7f51\n1860 \u5c71\u4e1c\u5927\u4f17\u7f51\n</code></pre>"},{"location":"python/app/","title":"App","text":"<p>\u4e00\u822c\u901a\u8fc7\u6293\u5305\u83b7\u53d6 \u94fe\u63a5\uff0c\u5e26data\u8bf7\u6c42\u7b49\u7b49</p> <p>\u5982\u679c\u9700\u8981token\u5b57\u6bb5\u9a8c\u8bc1\u6216\u8005\u7b7e\u540d\u5b57\u6bb5\uff0c\u53ef\u4f7f\u7528appium\u52a0mitmproxy\u6293\u5305</p> <pre><code>\u53c2\u8003\uff1a\nhttps://www.jianshu.com/p/3170dc562997\n    Android 7.0\u4ee5\u4e0a\u7684\u624b\u673a\u653e\u5f03\uff1amitmproxy\u65e0\u6cd5\u6293\u53d6Android7.0\u53ca\u4ee5\u4e0a\u7cfb\u7edf\u7684https\u5305\uff0c\u56e0\u4e3a\u7cfb\u7edf\u9ed8\u8ba4\u7684\u5b89\u5168\u7b56\u7565\u5df2\u7ecf\u52a0\u56fa\uff0c\u4e0d\u652f\u6301\u7528\u6237\u81ea\u5b9a\u4e49\u7684SSL\u8bc1\u4e66\u3002\n\u9700\u540c\u65f6\u6ee1\u8db3Appium\u548cmitmproxy\u4e24\u8005\u7684\u8981\u6c42\u3002\uff08\u9a8c\u8bc1adb devices -l\uff0c\u786e\u8ba4android\u624b\u673a\u5df2\u7ecf\u6b63\u5e38\u8fde\u63a5\uff0c\u5426\u5219\u9700\u8981\u5728\u624b\u673a\u4e0a\u6253\u5f00\u5f00\u53d1\u8005\u6a21\u5f0f\u3001\u5b89\u88c5Android SDK\u7b49\uff0c\u4e0d\u5728\u6b64\u5c55\u5f00\u8bf4\u660e\u4e86\uff0c\u767e\u5ea6\u5427\u3002\uff09\n</code></pre>"},{"location":"python/chromedriver/","title":"Chromedriver","text":"<ul> <li>(\u6559\u7a0b)\u65e0\u5934\u6d4f\u89c8\u5668Selenium\u7684\u4f7f\u7528\u8981\u70b9<ul> <li>1\u3001\u65e0\u5934\u6d4f\u89c8\u5668\u4ecb\u7ecd<ul> <li>1.1\u3001\u65e0\u5934\u6d4f\u89c8\u5668\u9002\u5408\u7684\u573a\u666f</li> <li>1.2\u3001\u65e0\u5934\u6d4f\u89c8\u5668\u6846\u67b6\u63a8\u8350</li> </ul> </li> <li>2\u3001\u5b89\u88c5\u548c\u4f7f\u7528<ul> <li>2.1\u3001\u4e0b\u8f7dchrome\u5bf9\u5e94\u7248\u672c\u7684chrome deriver</li> <li>2.2\u3001\u8bbe\u7f6e\u8fd0\u884c\u6a21\u5f0f\uff08\u9632\u6b62\u88ab\u7f51\u7ad9\u53cd\u722c\uff09</li> <li>2.3\u3001\u542f\u52a8\u65e0\u5934\u6d4f\u89c8\u5668\u6a21\u5f0f</li> <li>2.4\u3001\u52a0\u5feb\u9875\u9762\u8bbf\u95ee\uff08\u53ef\u80fd\u4f1a\u88ab\u53cd\u722c\uff09</li> <li>2.5\u3001\u968f\u673auser-agent</li> <li>2.6\u3001\u6bcf\u6b21\u8bbf\u95ee\u524d\u505a\u6e05\u7406</li> <li>2.7\u3001\u4fee\u6539\u8bf7\u6c42\u8fc7\u7a0b</li> <li></li> </ul> </li> <li>3\u3001\u914d\u5408\u4f7f\u7528\u722c\u866b\u4ee3\u7406\u52a0\u5f3a\u7248</li> <li>4\u3001\u914d\u5408\u4f7f\u7528API\u4f18\u8d28\u4ee3\u7406</li> </ul> </li> <li>\u65e0\u5934\u6d4f\u89c8\u5668\u53cd\u722c-Linux\u865a\u62df\u5c4f\u5e55Xvfb<ul> <li>\u8fdc\u7a0b\u63a7\u5236\u3001\u76d1\u63a7</li> <li>\u7528\u6237\u7aef</li> </ul> </li> <li>\u65e0\u5934\u6d4f\u89c8\u5668\u53cd\u722c<ul> <li>\u65e0\u5934\u6d4f\u89c8\u5668\uff08chrome headless \u7684\u68c0\u6d4b\u4ee5\u53ca\u53cd\u68c0\u6d4b\uff09\u3002</li> </ul> </li> <li>\u65e0\u5934\u6d4f\u89c8\u5668(PHP-WebDriver-Chrome)<ul> <li>\u5b89\u88c5\u6d4f\u89c8\u5668\uff08Google Chrome \uff09Firefox\u65b0\u7248\u672c\u652f\u6301\u6709\u95ee\u9898\uff0c\u4e0d\u5efa\u8bae\u4f7f\u7528</li> <li>\u5b89\u88c5\u6d4f\u89c8\u5668\u9a71\u52a8\u7a0b\u5e8f\uff08Chromedriver \u6216 Geckodriver\uff09</li> <li>\u5b89\u88c5 Php-webdriver<ul> <li>\u914d\u7f6e\u722c\u866b\u4ee3\u7406</li> </ul> </li> <li>\u4f7f\u7528 Php-webdriver<ul> <li>\u6253\u5f00\u6d4f\u89c8\u5668</li> <li>\u6253\u5f00 URL</li> <li>\u5237\u65b0\u9875\u9762</li> <li>\u67e5\u627e\u5355\u4e2a\u5143\u7d20</li> <li>\u67e5\u627e\u591a\u4e2a\u5143\u7d20</li> <li>\u8f93\u5165\u5185\u5bb9</li> <li>\u70b9\u51fb\u5143\u7d20</li> <li>\u622a\u56fe</li> <li>\u6267\u884c JS</li> </ul> </li> </ul> </li> <li>END</li> </ul>"},{"location":"python/chromedriver/#selenium","title":"(\u6559\u7a0b)\u65e0\u5934\u6d4f\u89c8\u5668Selenium\u7684\u4f7f\u7528\u8981\u70b9","text":""},{"location":"python/chromedriver/#1","title":"1\u3001\u65e0\u5934\u6d4f\u89c8\u5668\u4ecb\u7ecd","text":"<p>\u65e0\u5934\u6d4f\u89c8\u5668\u662f\u6307\u53ef\u4ee5\u5728\u56fe\u5f62\u754c\u9762\u60c5\u51b5\u4e0b\u8fd0\u884c\u7684\uff0c\u53ef\u4ee5\u6a21\u62df\u591a\u79cd\u6d4f\u89c8\u5668\u7684\u8fd0\u884c\u6846\u67b6\u3002\u7814\u53d1\u53ef\u4ee5\u901a\u8fc7\u7f16\u7a0b\u6765\u63a7\u5236\u8be5\u6846\u67b6\u6267\u884c\u5404\u79cd\u4efb\u52a1\uff0c\u6a21\u62df\u771f\u5b9e\u7684\u6d4f\u89c8\u5668\u64cd\u4f5c\u548c\u5404\u79cd\u4efb\u52a1\uff0c\u4f8b\u5982\u767b\u5f55\u3001js\u89e3\u6790\u3001ajax\u52a8\u6001\u751f\u6210\u3001\u83b7\u53d6cookie\u7b49\u3002</p>"},{"location":"python/chromedriver/#11","title":"1.1\u3001\u65e0\u5934\u6d4f\u89c8\u5668\u9002\u5408\u7684\u573a\u666f","text":"<p>\u65e0\u5934\u6d4f\u89c8\u5668\u7684\u6846\u67b6\u9700\u8981\u771f\u5b9e\u8fd0\u884c\u6d4f\u89c8\u5668\uff0c\u56e0\u6b64\u7cfb\u7edf\u5f00\u9500\u5927\uff0c\u91c7\u96c6\u8fd0\u884c\u901f\u5ea6\u6162\uff0c\u76f8\u5bf9\u4e0e\u4e00\u822c\u7684\u722c\u866b\u7a0b\u5e8f\uff0c\u5176\u8fd0\u884c\u73af\u5883\u8981\u6c42\u642d\u5efa\u7684\u5de5\u5177\u548c\u5e93\u8f83\u591a\uff0c\u56e0\u6b64\u5982\u679c\u76ee\u6807\u7f51\u7ad9\u53cd\u722c\u4e0d\u662f\u5f88\u96be\uff0c\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u7b80\u5355\u7684http\u8bf7\u6c42\u8fdb\u884c\u91c7\u96c6\uff0c\u4e0d\u9002\u5408\u4f7f\u7528\u65e0\u5934\u6d4f\u89c8\u5668\u65b9\u6848\u3002</p> <p>\u5f53\u76ee\u6807\u7f51\u7ad9\u6709\u591a\u79cd\u9a8c\u8bc1\u673a\u5236\uff0c\u4f8b\u5982\u9700\u8981\u9a8c\u8bc1\u767b\u5f55\u3001ajax\u52a8\u751f\u6210\u3001js\u53cd\u722c\u7b56\u7565\uff0c\u5982\u679c\u7814\u53d1\u4e0d\u80fd\u8fdb\u884c\u7f51\u7ad9\u884c\u4e3a\u5206\u6790\u7684\u60c5\u51b5\u4e0b\uff0c\u5efa\u8bae\u4f7f\u7528\u65e0\u5934\u6d4f\u89c8\u5668\u4f2a\u88c5\u6b63\u5e38\u7528\u6237\uff0c\u540c\u65f6\u914d\u5408\u4f7f\u7528\u722c\u866b\u4ee3\u7406\u52a0\u5f3a\u7248\u8fdb\u884c\u6570\u636e\u91c7\u96c6\u3002</p>"},{"location":"python/chromedriver/#12","title":"1.2\u3001\u65e0\u5934\u6d4f\u89c8\u5668\u6846\u67b6\u63a8\u8350","text":"<p>\u65e0\u5934\u6d4f\u89c8\u5668\u65b9\u6848\u6709\u5f88\u591a\uff0c\u6211\u4eec\u63a8\u8350\u5982\u4e0b\uff1a</p> <ul> <li>selenium+chrome+chrome driver</li> <li> <p>\u4ebf\u725b\u4e91\u722c\u866b\u4ee3\u7406\u52a0\u5f3a\u7248</p> </li> <li> <p>\u4f7f\u7528mitmproxy\u8fdb\u884c\u4e2d\u7ee7\u4ee3\u7406</p> </li> </ul>"},{"location":"python/chromedriver/#2","title":"2\u3001\u5b89\u88c5\u548c\u4f7f\u7528","text":""},{"location":"python/chromedriver/#21chromechrome-deriver","title":"2.1\u3001\u4e0b\u8f7dchrome\u5bf9\u5e94\u7248\u672c\u7684chrome deriver","text":"<p>\u4e0b\u8f7dchrome https://www.google.com/chrome/</p> <p>\u4e0b\u8f7d\u5bf9\u5e94\u7248\u672c driver https://chromedriver.chromium.org/downloads</p> <p>\u6ce8\u610fchrome\u7248\u672c\u548cdriver\u7248\u672c\u53f7\u9700\u8981\u4e00\u81f4\uff0c\u53ef\u4ee5\u67e5\u770b\u5177\u4f53\u7684\u5e2e\u52a9\u8bf4\u660e\uff0c\u5982\u679c\u4e0d\u4e00\u81f4\uff0c\u5373\u4f7f\u7a0b\u5e8f\u80fd\u591f\u8fd0\u884c\uff0c\u4e5f\u4f1a\u51fa\u73b0\u722c\u866b\u4ee3\u7406\u8ba4\u8bc1\u4fe1\u606f\u5931\u8d25\uff0c\u9700\u8981\u5f39\u7a97\u8981\u6c42\u624b\u52a8\u8f93\u5165\u8ba4\u8bc1\u4fe1\u606f\u7684\u95ee\u9898\u3002</p>"},{"location":"python/chromedriver/#22","title":"2.2\u3001\u8bbe\u7f6e\u8fd0\u884c\u6a21\u5f0f\uff08\u9632\u6b62\u88ab\u7f51\u7ad9\u53cd\u722c\uff09","text":"<p>\u5982\u679c\u6d4f\u89c8\u5668\u6b63\u5e38\u8fd0\u884c\u4e0b\uff0cnavigator.webdriver\u7684\u503c\u5e94\u8be5\u662fundefined\u6216\u8005false\uff0c\u5982\u679c\u4e3atrue\u76ee\u6807\u7f51\u7ad9\u80fd\u68c0\u6d4b\u5230selenium\uff0c\u8bbe\u7f6e\u4e3a\u5f00\u53d1\u8005\u6a21\u5f0f\uff0c\u53ef\u4ee5\u9632\u6b62\u76ee\u6807\u7f51\u7ad9\u8bc6\u522b\u3002</p> <pre><code>from selenium.webdriver import ChromeOptions\noption = ChromeOptions()\noption.add_experimental_option('excludeSwitches', ['enable-automation'])#\u5f00\u542f\u5b9e\u9a8c\u6027\u529f\u80fd\nbrowser=webdriver.Chrome(options=option)\n\n# \u4fee\u6539get\u65b9\u6cd5\nscript = '''\nObject.defineProperty(navigator, 'webdriver', {\nget: () =&gt; undefined\n})\n'''\nbrowser.execute_cdp_cmd(\"Page.addScriptToEvaluateOnNewDocument\", {\"source\": script})\n</code></pre> <p>\u66f4\u591a\u53cd\u722c\u8d44\u6599\u8bf7\u53c2\u8003\uff1a</p> <p>https://16yun.yuque.com/go/doc/23767204</p> <p>https://16yun.yuque.com/zoxdo5/aorluh/adp4it</p>"},{"location":"python/chromedriver/#23","title":"2.3\u3001\u542f\u52a8\u65e0\u5934\u6d4f\u89c8\u5668\u6a21\u5f0f","text":"<pre><code># \u65e0\u5934\u6d4f\u89c8\u5668\uff0c\u9700\u8981\u5173\u95edgpu\uff0c\u542f\u52a8\u9875\u9762\u6700\u5927\u5316\uff0c\u5173\u95ed\u6269\u5c55\noption.add_argument(\"--start-maximized\")\noption.add_argument('--disable-gpu')\noption.add_argument(\"--headless\")  # Runs Chrome in headless mode.\noption.add_argument('--no-sandbox')  # Bypass OS security model\noption.add_argument('--disable-gpu')  # applicable to windows os only\noption.add_argument('start-maximized')  #\noption.add_argument('disable-infobars')\noption.add_argument(\"--disable-extensions\")\n</code></pre>"},{"location":"python/chromedriver/#24","title":"2.4\u3001\u52a0\u5feb\u9875\u9762\u8bbf\u95ee\uff08\u53ef\u80fd\u4f1a\u88ab\u53cd\u722c\uff09","text":"<pre><code>prefs = {\n    'profile.default_content_setting_values': {\n        'images': 2,  # \u5c4f\u853d\u56fe\u7247\n    }\n}\n# \u6dfb\u52a0\u5c4f\u853dchrome\u6d4f\u89c8\u5668\u7981\u7528\u56fe\u7247\u7684\u8bbe\u7f6e\noption.add_experimental_option(\"prefs\", prefs)\n\n# \u7f13\u5b58\u901a\u7528\u6587\u4ef6\nos.makedirs(\"/tmp/wbtest/custom/profile\", exist_ok=True)\noption.add_argument(\"user-data-dir=/tmp/wbtest/custom/profile\")\n\n# \u8fc7\u6ee4\u6389\u4e0d\u9700\u8981\u8bbf\u95ee\u7684\u57df\u540d\ndriver.execute_cdp_cmd(\n        'Network.setBlockedURLs', {\n            \"urls\": [\n                \"m.media-amazon.com\",\n                \"aax-us-east.amazon-adsystem.com\",\n                \"fls-na.amazon.com\"\n            ]\n        }\n)\n</code></pre>"},{"location":"python/chromedriver/#25user-agent","title":"2.5\u3001\u968f\u673auser-agent","text":"<p>\u6ce8\u610f\u4f7f\u7528\u7684UA\u9700\u8981\u548c\u6d4f\u89c8\u5668\u7c7b\u578b\u5339\u914d\uff0c\u4f8b\u5982\uff1aChrome\u6d4f\u89c8\u5668\u8bf7\u4f7f\u7528Chrome PC\u7684UserAgent</p> <pre><code>ua = random.choice(ua_list)\noption.add_argument(\n    \"user-agent={}\".format(ua)\n)\n</code></pre>"},{"location":"python/chromedriver/#26","title":"2.6\u3001\u6bcf\u6b21\u8bbf\u95ee\u524d\u505a\u6e05\u7406","text":"<pre><code># \u6e05\u7406\u6240\u6709\u6570\u636e\uff08\u4f1a\u5bfc\u81f4\u8bbf\u95ee\u53d8\u6162\uff09\ndriver.get('chrome://settings/clearBrowserData')\n\n# \u6e05\u7406\u6240\u6709cookie\ndriver.delete_all_cookies()\n</code></pre>"},{"location":"python/chromedriver/#27","title":"2.7\u3001\u4fee\u6539\u8bf7\u6c42\u8fc7\u7a0b","text":"<p>\u9700\u8981\u4f7f\u7528seleniumwire\u5305\uff0c\u8be6\u7ec6\u53c2\u8003https://github.com/wkeeling/selenium-wire</p> <p>\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u5305\u67e5\u770b\u8bf7\u6c42\u8fc7\u7a0b\uff0c\u5e2e\u52a9\u5b8c\u5584\u722c\u866b\u7a0b\u5e8f</p> <pre><code>from seleniumwire import webdriver  # Import from seleniumwire\nimport json\n\ndef interceptor(request):\n    # Block PNG, JPEG and GIF images\n    if request.path.endswith(('.png', '.jpg', '.gif')):\n        request.abort()\n\n    if request.url == 'https://server.com/some/path':\n        response.headers['New-Header'] = 'Some Value'\n\n    if request.method == 'POST' and request.headers['Content-Type'] == 'application/json':\n        # The body is in bytes so convert to a string\n        body = request.body.decode('utf-8')\n        # Load the JSON\n        data = json.loads(body)\n        # Add a new property\n        data['foo'] = 'bar'\n        # Set the JSON back on the request\n        request.body = json.dumps(data).encode('utf-8')\n        # Update the content length\n        del request.headers['Content-Length']\n        request.headers['Content-Length'] = str(len(request.body))    \n\n# Create a new instance of the Chrome driver\ndriver = webdriver.Chrome()\n\ndriver.request_interceptor = interceptor\n\n# Go to the Google home page\ndriver.get('https://www.baidu.com')\n\n# Access requests via the `requests` attribute\nfor request in driver.requests:\n    if request.response:\n        print(\n            request.url,\n            request.response.status_code,\n            request.response.headers\n        )\n</code></pre>"},{"location":"python/chromedriver/#_1","title":"Chromedriver","text":""},{"location":"python/chromedriver/#3","title":"3\u3001\u914d\u5408\u4f7f\u7528\u722c\u866b\u4ee3\u7406\u52a0\u5f3a\u7248","text":"<p>\u901a\u8fc7\u65e0\u5934\u6d4f\u89c8\u5668\u6a21\u62df\u7528\u6237\u64cd\u4f5c\uff0c\u540c\u65f6\u7ed3\u5408\u722c\u866b\u4ee3\u7406\u52a0\u5f3a\u7248\u5b9e\u73b0IP\u5730\u5740\u81ea\u52a8\u5207\u6362\uff0c\u53ef\u4ee5\u771f\u5b9e\u7684\u5b9e\u73b0\u7528\u6237\u7ec8\u7aef\u8bf7\u6c42\uff0c\u83b7\u53d6\u76f8\u5e94\u7684\u6570\u636e\uff0c\u4e0b\u9762\u662f\u83b7\u53d6cookie\u7684\u4ee3\u7801\uff1a</p> <pre><code>    import os\n    import time\n    import zipfile\n\n    from selenium import webdriver\n    from selenium.common.exceptions import TimeoutException\n    from selenium.webdriver.common.by import By\n    from selenium.webdriver.support import expected_conditions as EC\n    from selenium.webdriver.support.ui import WebDriverWait\n\n\n    class GenCookies(object):\n        # \u968f\u673auseragent\n        USER_AGENT = open('useragents.txt').readlines()\n\n\n        # \u4ee3\u7406\u670d\u52a1\u5668(\u4ea7\u54c1\u5b98\u7f51 www.16yun.cn)\n        PROXY_HOST = 't.16yun.cn'  #  proxy or host\n        PROXY_PORT = 31111  # port\n        PROXY_USER = 'USERNAME'  # username\n        PROXY_PASS = 'PASSWORD'  # password\n\n        @classmethod\n        def get_chromedriver(cls, use_proxy=False, user_agent=None):\n            manifest_json = \"\"\"\n            {\n                \"version\": \"1.0.0\",\n                \"manifest_version\": 2,\n                \"name\": \"Chrome Proxy\",\n                \"permissions\": [\n                    \"proxy\",\n                    \"tabs\",\n                    \"unlimitedStorage\",\n                    \"storage\",\n                    \"&lt;all_urls&gt;\",\n                    \"webRequest\",\n                    \"webRequestBlocking\"\n                ],\n                \"background\": {\n                    \"scripts\": [\"background.js\"]\n                },\n                \"minimum_chrome_version\":\"22.0.0\"\n            }\n            \"\"\"\n\n            background_js = \"\"\"\n            var config = {\n                    mode: \"fixed_servers\",\n                    rules: {\n                    singleProxy: {\n                        scheme: \"http\",\n                        host: \"%s\",\n                        port: parseInt(%s)\n                    },\n                    bypassList: [\"localhost\"]\n                    }\n                };\n\n            chrome.proxy.settings.set({value: config, scope: \"regular\"}, function() {});\n\n            function callbackFn(details) {\n                return {\n                    authCredentials: {\n                        username: \"%s\",\n                        password: \"%s\"\n                    }\n                };\n            }\n\n            chrome.webRequest.onAuthRequired.addListener(\n                        callbackFn,\n                        {urls: [\"&lt;all_urls&gt;\"]},\n                        ['blocking']\n            );\n            \"\"\" % (cls.PROXY_HOST, cls.PROXY_PORT, cls.PROXY_USER, cls.PROXY_PASS)\n            path = os.path.dirname(os.path.abspath(__file__))\n            chrome_options = webdriver.ChromeOptions()\n\n            # \u5173\u95edwebdriver\u7684\u4e00\u4e9b\u6807\u5fd7\n            # chrome_options.add_experimental_option('excludeSwitches', ['enable-automation'])        \n\n\n            if use_proxy:\n                pluginfile = 'proxy_auth_plugin.zip'\n\n                with zipfile.ZipFile(pluginfile, 'w') as zp:\n                    zp.writestr(\"manifest.json\", manifest_json)\n                    zp.writestr(\"background.js\", background_js)\n                chrome_options.add_extension(pluginfile)\n            if user_agent:\n                chrome_options.add_argument('--user-agent=%s' % user_agent)\n            driver = webdriver.Chrome(\n                os.path.join(path, 'chromedriver'),\n                chrome_options=chrome_options)\n\n            # \u4fee\u6539webdriver get\u5c5e\u6027\n            # script = '''\n            # Object.defineProperty(navigator, 'webdriver', {\n            # get: () =&gt; undefined\n            # })\n            # '''\n            # driver.execute_cdp_cmd(\"Page.addScriptToEvaluateOnNewDocument\", {\"source\": script})\n\n            return driver\n\n        def __init__(self, username, password):        \n            # \u767b\u5f55example\u7f51\u7ad9\n            self.url = 'https://passport.test.cn/signin/login?entry=example&amp;r=https://m.test.cn/'\n            self.browser = self.get_chromedriver(use_proxy=True, user_agent=self.USER_AGENT)\n            self.wait = WebDriverWait(self.browser, 20)\n            self.username = username\n            self.password = password\n\n        def open(self):\n            \"\"\"\n            \u6253\u5f00\u7f51\u9875\u8f93\u5165\u7528\u6237\u540d\u5bc6\u7801\u5e76\u70b9\u51fb\n            :return: None\n            \"\"\"\n            self.browser.delete_all_cookies()\n            self.browser.get(self.url)\n            username = self.wait.until(EC.presence_of_element_located((By.ID, 'loginName')))\n            password = self.wait.until(EC.presence_of_element_located((By.ID, 'loginPassword')))\n            submit = self.wait.until(EC.element_to_be_clickable((By.ID, 'loginAction')))\n            username.send_keys(self.username)\n            password.send_keys(self.password)\n            time.sleep(1)\n            submit.click()\n\n        def password_error(self):\n            \"\"\"\n            \u5224\u65ad\u662f\u5426\u5bc6\u7801\u9519\u8bef\n            :return:\n            \"\"\"\n            try:\n                return WebDriverWait(self.browser, 5).until(\n                    EC.text_to_be_present_in_element((By.ID, 'errorMsg'), '\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef'))\n            except TimeoutException:\n                return False\n\n        def get_cookies(self):\n            \"\"\"\n            \u83b7\u53d6Cookies\n            :return:\n            \"\"\"\n            return self.browser.get_cookies()\n\n        def main(self):\n            \"\"\"\n            \u5165\u53e3\n            :return:\n            \"\"\"\n            self.open()\n            if self.password_error():\n                return {\n                    'status': 2,\n                    'content': '\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef'\n                }            \n\n            cookies = self.get_cookies()\n            return {\n                'status': 1,\n                'content': cookies\n            }\n\n\n    if __name__ == '__main__':\n        result = GenCookies(\n            username='180000000',\n            password='16yun',\n        ).main()\n        print(result)\n</code></pre>"},{"location":"python/chromedriver/#4api","title":"4\u3001\u914d\u5408\u4f7f\u7528API\u4f18\u8d28\u4ee3\u7406","text":"<pre><code>import requests\nfrom selenium import webdriver\nfrom selenium.webdriver.chrome.options import Options\nimport os\n\n\ndef get_proxy_list(url, timeout=10):\n    try:\n        resp = requests.get(url, timeout=timeout)\n        print(resp.text)\n        if resp.status_code != 200:\n            print((\"http status code {}\".format(resp.status_code)))\n            return []\n        data = [l.strip() for l in resp.text.split() if len(l.strip()) &gt; 0]\n        return data\n    except Exception as err:\n        print(err)\n        return []\n\ndef get_data(ua, proxy, url):\n    opts = Options()\n    opts.add_experimental_option('excludeSwitches', ['enable-automation'])\n\n    opts.add_argument('--proxy-server=%s' % proxy)\n    opts.add_argument(\n        \"user-agent={}\".format(ua)\n    )\n    prefs = {\n        'profile.default_content_setting_values': {\n            'images': 2,  # \u5c4f\u853d\u56fe\u7247\n        }\n    }\n    # \u6dfb\u52a0\u5c4f\u853dchrome\u6d4f\u89c8\u5668\u7981\u7528\u56fe\u7247\u7684\u8bbe\u7f6e\n    opts.add_experimental_option(\"prefs\", prefs)\n\n\n    # \u7f13\u5b58\u901a\u7528\u6587\u4ef6\n    os.makedirs(\"/tmp/wbtest/custom/profile\", exist_ok=True)\n    opts.add_argument(\"user-data-dir=/tmp/wbtest/custom/profile\")\n\n    # \u5173\u95ed\u663e\u793a\n    opts.add_argument(\"--start-maximized\")\n    opts.add_argument('--disable-gpu')\n    opts.add_argument(\"--headless\")  # Runs Chrome in headless mode.\n    opts.add_argument('--no-sandbox')  # Bypass OS security model\n    opts.add_argument('--disable-gpu')  # applicable to windows os only\n    opts.add_argument('start-maximized')  #\n    opts.add_argument('disable-infobars')\n    opts.add_argument(\"--disable-extensions\")\n\n\n    # \u4fee\u6539webdriver get\u5c5e\u6027\n    script = '''\n    Object.defineProperty(navigator, 'webdriver', {\n    get: () =&gt; undefined\n    })\n    '''\n\n    dr = webdriver.Chrome(executable_path=\"./chromdriver\", options=opts)\n    dr.execute_cdp_cmd(\"Page.addScriptToEvaluateOnNewDocument\", {\"source\": script})\n\n    # \u6e05\u7406\u6240\u6709\u6570\u636e\n    # dr.get('chrome://settings/clearBrowserData')\n\n    # \u6e05\u7406cookie\n    dr.delete_all_cookies()\n\n\n    dr.get(url)\n\n    cookie = dr.get_cookies()\n    html = dr.page_source\n    dr.close()\n    dr.quit()\n\n    return cookie, html\n\nif __name__ == '__main__':    \n    import random\n\n    proxylist = get_proxy_list(\n        \"http://ip.16yun.cn/myip/pl/xxxxxxxx\"\n    )\n\n\n    for i in range(10):\n        proxy = random.choice(proxylist)\n        ua = \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.131 Safari/537.36\"\n\n        cookie, html = get_data(ua=ua, proxy=proxy, url=\"https://www.baidu.com\")        \n        print(html)\n</code></pre>"},{"location":"python/chromedriver/#-linuxxvfb","title":"\u65e0\u5934\u6d4f\u89c8\u5668\u53cd\u722c-Linux\u865a\u62df\u5c4f\u5e55Xvfb","text":"<p>Xvfb\u662f\u6d41\u884c\u7684\u865a\u62df\u73b0\u5b9e\u5e93\uff0c\u53ef\u4ee5\u4f7f\u5f88\u591a\u9700\u8981\u56fe\u5f62\u754c\u9762\u7684\u7a0b\u5e8f\u865a\u62df\u8fd0\u884c\uff1b</p> <p>\u4f7f\u7528\u539f\u56e0 \u6dd8\u5b9d\u5217\u8868\u9875\u722c\u53d6\u7ecf\u5e38\u4f1a\u8df3\u6ed1\u52a8\u9a8c\u8bc1\u7801\uff0c\u9700\u8981\u4f7f\u7528puppeteer\u63a7\u5236\u6d4f\u89c8\u5668\u6a21\u62df\u4eba\u5de5\u6ed1\u52a8\uff0c\u800c\u5728\u65e0\u5934\u6a21\u5f0f\u4e0b\uff0c\u65e0\u8bba\u600e\u4e48\u6ed1\u52a8\u90fd\u65e0\u6cd5\u901a\u8fc7\uff0c\u5fc5\u987b\u4f7f\u7528\u6709\u5934\u6a21\u5f0f\uff0c\u800cCentOS\u670d\u52a1\u5668\u4e0a\u6ca1\u6709\u754c\u9762\uff0c\u6240\u4ee5\u53ea\u80fd\u4f7f\u7528\u865a\u62df\u5c4f\u5e55\uff0c\u4f7f\u6d4f\u89c8\u5668\u8fd0\u884c\u5728\u865a\u62df\u5c4f\u5e55\u4e0a\u3002</p> <p>\u53ef\u4ee5\u4f7f\u7528docker\u7248\u672c\u7684Xvfb\u955c\u50cf https://github.com/joyzoursky/docker-python-chromedriver</p> <p>\u5b89\u88c5\u53ca\u4f7f\u7528</p> <pre><code># \u5b89\u88c5\nyum install Xvfb\n\n# \u542f\u52a8  7:\u865a\u62df\u5c4f\u5e55id\uff0c\u4f7f\u7528\u65f6\u9700\u8981\u7528\u5230\uff1b  1336x768x24:\u5c4f\u5e55\u5206\u8fa8\u7387\uff1b\nXvfb :7 -screen 0 1336x768x24 2&gt;/dev/null &amp;\n\n# \u4f7f\u7528    \u542f\u52a8puppeteer\u7a0b\u5e8f\u524d\u9700\u6307\u5b9a\u8fd0\u884c\u5728\u54ea\u4e2a\u865a\u62df\u5c4f\u5e55\u4e0a\uff0c\u5982\u4e0b\u547d\u4ee4\uff0c\u8fd0\u884c\u5728\u865a\u62df\u5c4f\u5e55id\u4e3a7\u7684\u4e0a\nexport DISPLAY=:7\n</code></pre>"},{"location":"python/chromedriver/#_2","title":"\u8fdc\u7a0b\u63a7\u5236\u3001\u76d1\u63a7","text":"<p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0cXvfb\u90fd\u8fd0\u884c\u5728Linux\u670d\u52a1\u5668\u4e0a\uff0c\u4f60\u65e0\u6cd5\u770b\u5230\u865a\u62df\u5c4f\u5e55\u7684\u8fd0\u884c\u60c5\u51b5\uff0c\u7a0b\u5e8f\u7684\u8c03\u8bd5\u5341\u5206\u9ebb\u70e6\uff0c\u6240\u4ee5\u4f60\u9700\u8981\u5728\u672c\u5730\u8fdc\u7a0b\u8fde\u63a5\u4f60\u670d\u52a1\u5668\u4e0a\u6240\u5728\u7684\u865a\u62df\u5c4f\u5e55\uff0c\u8fdb\u884c\u76d1\u63a7\u63a7\u5236\u3002</p> <p>\u670d\u52a1\u5668\u7aef</p> <p>x11vnc\uff1a\u8fdc\u7a0b\u684c\u9762\uff0c\u53ef\u4ee5\u4f7f\u4eba\u8fdc\u7a0b\u8fde\u63a5\u670d\u52a1\u5668\u4e0a\u7684\u865a\u62df\u5c4f\u5e55\uff1b</p> <pre><code># \u5b89\u88c5 ubuntu\nsudo apt install x11vnc\n\n# \u5b89\u88c5 centos\nyum install -y x11vnc\n\n# \u542f\u52a8  5900:\u8fde\u63a5\u7aef\u53e3  password:\u8fde\u63a5\u5bc6\u7801  7:\u865a\u62df\u5c4f\u5e55id\nx11vnc -listen 0.0.0.0 -rfbport 5900 -noipv6 -passwd password -display :7\n</code></pre>"},{"location":"python/chromedriver/#_3","title":"\u7528\u6237\u7aef","text":"<p>\u53ef\u4ee5\u4f7f\u7528vncviewer\u5de5\u5177\u8fdc\u7a0b\u8fde\u63a5\u3002</p> <p>\u5176\u5b83 python\u6709\u4e00\u4e2a\u7b2c\u4e09\u65b9\u5e93PyVirtualDisplay\uff0c\u8be5\u5e93\u53ef\u4ee5\u5728python\u7a0b\u5e8f\u4e2d\u542f\u52a8\u6307\u5b9a\u8fd0\u884c\u7aef\u53e3xvfb\u7a0b\u5e8f\uff0c\u5e76\u4e14\u53ef\u8fdc\u7a0b\u76d1\u542c\u3002</p>"},{"location":"python/chromedriver/#_4","title":"\u65e0\u5934\u6d4f\u89c8\u5668\u53cd\u722c","text":""},{"location":"python/chromedriver/#chrome-headless","title":"\u65e0\u5934\u6d4f\u89c8\u5668\uff08chrome headless \u7684\u68c0\u6d4b\u4ee5\u53ca\u53cd\u68c0\u6d4b\uff09\u3002","text":"<p>\u65e0\u5934\u6d4f\u89c8\u5668\u7684\u68c0\u6d4b\u5e94\u8be5\u662f\u722c\u866b\u4e2d\u975e\u5e38\u91cd\u8981\u7684\u4e00\u5757\uff0c\u57fa\u7840\u8d44\u6599\u53ef\u4ee5\u53c2\u8003 not-possible-to-block-chrome-headless \u8fd9\u4e2a\u6587\u7ae0\uff0c\u5927\u6982\u662f\u6700\u521d\u7ea7\u7684\u65e0\u5934\u6d4f\u89c8\u5668\u68c0\u6d4b\u65b9\u6848\u3002\u4e0d\u8fc7\u5728\u540e\u7eed\u7684\u722c\u866b\u4e2d\uff0c\u6709\u4e00\u79cd\u9b54\u9ad8\u4e00\u5c3a\uff0c\u9053\u9ad8\u4e00\u4e08\u7684\u611f\u89c9\uff0c\u9646\u7eed\u53d1\u73b0\u5f88\u591a\u7ad9\u70b9\u90fd\u80fd\u901a\u8fc7\u5404\u79cd\u5176\u4ed6\u624b\u6cd5\u68c0\u6d4b\u65e0\u5934\u6d4f\u89c8\u5668\u3002</p> <p>\u518d\u540e\u6765\uff0c\u770b\u4e00\u4e9b\u7f51\u7ad9\u7684js\uff0c\u53d1\u73b0\u4e86\u4ed6\u4eec\u4f1a\u5bf9\u5f88\u591a\u5b57\u6bb5\u8fdb\u884c\u6536\u96c6\uff0c\u90fd\u4e0efingerprintjs2 \u6536\u96c6\u7684\u5dee\u4e0d\u591a\uff0c\u624d\u7b97\u662f\u8c41\u7136\u5f00\u6717\u3002</p> <p>\u6545\u5728\u6b64\u8bb0\u5f55\u4e00\u4e0b\u53ef\u4ee5\u88ab\u7528\u4e8e\u68c0\u6d4b\u65e0\u5934\u6d4f\u89c8\u5668\u7684\u5b57\u6bb5\u5373\u5982\u679c\u7ed5\u8fc7\u53bb\u3002</p> <ul> <li>userAgent   ua\u53ef\u4ee5\u8bf4\u662f\u6700\u57fa\u7840\u7684\u5b57\u6bb5\u4e86\uff0c\u7136\u662f\u65e0\u5934\u6d4f\u89c8\u5668\u4e2d\uff0c\u5355\u7eaf\u4fee\u6539ua\u8fd8\u4e0d\u884c\uff0c\u9700\u8981ua \u548c\u4e00\u4e9b\u5b57\u6bb5\uff08\u5982navigator.platform\uff09\u8ddf\u7740\u4fee\u6539\u624d\u884c\u3002\u5f53\u7136\uff0c\u5355\u7eaf\u7684ua \u8fd8\u662f\u8981\u5c3d\u91cf\u6a21\u4eff\u684c\u9762\u6d4f\u89c8\u5668\u7684   \u8bc6\u522b\uff1a\u901a\u8fc7 navigator.userAgent \u901a\u8fc7ua\u6765\u8bc6\u522b\u662f\u5426\u4e3a\u722c\u866b   \u53cd\u8bc6\u522b\uff1a\u53ef\u4ee5\u4fee\u6539\u5c5e\u6027\u6765\u7ed5\u8fc7</li> </ul> <pre><code>Object.defineProperty(navigator, 'userAgent', {\n    get: () =&gt; 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36'\n});\n</code></pre> <ul> <li>webdriver</li> </ul> <p>The webdriver read-only property of the <code>navigator</code> interface indicates whether the user agent is controlled by automation.</p> <ul> <li>\u8bc6\u522b\uff1a\u684c\u9762chrome \u6d4f\u89c8\u5668navigator.webdriver \u8fd4\u56de\u4e3aundefined\uff0c\u6545\u53ef\u4ee5\u5224\u65ad<code>!!navigator.webdriver</code>   \u53cd\u8bc6\u522b\uff1a</li> </ul> <pre><code>Object.defineProperty(navigator, 'webdriver', {\n    get: () =&gt; false\n});\n</code></pre> <ul> <li>\u6216\u8005:</li> </ul> <pre><code>delete navigator.__proto__.webdriver\n</code></pre> <ul> <li>\u53d1\u73b0\u8fc7\u6709\u7f51\u7ad9\u76d1\u6d4b<code>navigator.webdriver</code> \u662f\u5426\u4e3aundefined\uff0c\u800c\u4e0d\u662f\u7b80\u5355\u7684\u901a\u8fc7<code>!!navigator.webdriver</code>\u8fdb\u884c\u76d1\u6d4b\u7684</li> <li>language   \u4e0d\u540c\u6d4f\u89c8\u5668\u5bf9language \u652f\u6301\u4e0d\u540c\uff0cchrome\u53ea\u6709navigator.language  \u53c2\u8003   \u8bc6\u522b\uff1a navigator.language || navigator.userLanguage || navigator.browserLanguage || navigator.systemLanguage \u662f\u5426\u5b58\u5728   \u53cd\u8bc6\u522b\uff1a</li> </ul> <pre><code>Object.defineProperty(navigator, 'language', {\n    get: () =&gt; \"zh-CN\",\n});\n</code></pre> <ul> <li>colorDepth   window.screen.colorDepth \u5c4f\u5e55\u989c\u8272\u6df1\u5ea6\uff0c\u4e00\u822c\u6536\u96c6\u6307\u7eb9\u7684\u65f6\u5019\u4f1a\u7528\u5230\u3002\u65e0\u5934\u6d4f\u89c8\u5668\u8fd9\u4e2a\u5b57\u6bb5\u4e00\u822c\u4e0e\u684c\u9762\u6d4f\u89c8\u5668\u76f8\u540c</li> <li>deviceMemory   \u53ea\u8bfb\u5c5e\u6027\u8fd4\u56de\u5343\u5146\u5b57\u8282\u4e3a\u5355\u4f4d\u7684\u5927\u6982\u7684\u673a\u5668\u5185\u5b58\u3002\u8fd9\u4e2a\u503c\u662f\u4e00\u4e2a2\u7684\u6b21\u65b9\u6570\u9664\u4ee51024\uff0c\u820d\u53bb\u5c0f\u6570\u70b9\u7684\u8fd1\u4f3c\u503c\u3002\u4e0d\u8fc7\u8fd9\u8fd8\u53ea\u662f\u4e2a\u5b9e\u9a8c\u7279\u6027\uff0c\u4e0d\u4e00\u5b9a\u6240\u6709\u6d4f\u89c8\u5668\u90fd\u6709\u3002\u6307\u7eb9\u6536\u96c6\u7684\u65f6\u5019\u4f1a\u4f7f\u7528\u5230\uff0c\u4ee5\u9632\u4e07\u4e00\u53ef\u4ee5\u8bbe\u4e2a\u503c   navigator.deviceMemory   \u53cd\u8bc6\u522b:</li> </ul> <pre><code>Object.defineProperty(navigator, 'deviceMemory', {\n    get: () =&gt; 8\n});\n</code></pre> <ul> <li>hardwareConcurrency   \u6d4f\u89c8\u5668\u73af\u5883\u6240\u62e5\u6709\u7684CPU\u6838\u5fc3\u6570   navigator.hardwareConcurrency   \u53cd\u8bc6\u522b:</li> </ul> <pre><code>Object.defineProperty(navigator, 'hardwareConcurrency', {\n    get: () =&gt; 8\n});\n</code></pre> <ul> <li>screenResolution   \u4f1a\u88ab\u7528\u4e8e\u6307\u7eb9   [window.screen.width, window.screen.height]</li> <li> <p>availableScreenResolution   \u4f1a\u88ab\u7528\u4e8e\u6307\u7eb9   [window.screen.availHeight, window.screen.availWidth]</p> </li> <li> <p>timezoneOffset   \u8c03\u4e16\u754c\u65f6\uff08UTC\uff09\u76f8\u5bf9\u4e8e\u5f53\u524d\u65f6\u533a\u7684\u65f6\u95f4\u5dee\u503c\uff0c\u5355\u4f4d\u4e3a\u5206\u949f\u3002   new Date().getTimezoneOffset()</p> </li> <li> <p>timezone   new window.Intl.DateTimeFormat().resolvedOptions().timeZone</p> </li> <li> <p>sessionStorage *   \u53ea\u5224\u65ad\u662f\u5426\u6709sessionStorage   !!window.sessionStorage</p> </li> <li> <p>localStorage *   !!window.localStorage</p> </li> <li> <p>indexedDb   !!window.indexedDB</p> </li> <li> <p>addBehavior   \u8be5\u5b57\u6bb5\u4e3aIE\u7279\u6709 \u53c2\u8003   !!(document.body &amp;&amp; document.body.addBehavior)</p> </li> <li> <p>openDatabase *   \u4f1a\u8fd4\u56de\u4e00\u4e2adatabse\uff0c\u53ef\u4ee5\u6267\u884csql\u3002 \u6307\u7eb9\u53ea\u5224\u65ad\u662f\u5426\u6709\u8fd9\u4e2a\u65b9\u6cd5   !!window.openDatabase</p> </li> <li> <p>cpuClass   cpu \u7c7b\u578b\uff0c\u4f3c\u4e4echrome \u6d4f\u89c8\u5668\u8fd4\u56de\u4e3aundefined   navigator.cpuClass</p> </li> <li> <p>platform *   navigator.platform   \u8bc6\u522b\uff1a if (navigator.platform === Linux x86_64) Linux x86_64\u5360\u6709\u7387\u8f83\u5c0f\uff0c\u5982\u679c\u4e3aLinux x86_64\uff0c\u5927\u6982\u7387\u4e3a\u722c\u866b   \u53cd\u8bc6\u522b:</p> </li> </ul> <pre><code>Object.defineProperty(navigator, 'platform', {\n    get: () =&gt; 'MacIntel'\n});\n</code></pre> <ul> <li>plugins   navigator.plugins   plugin\u5bf9\u8c61\u6709name filename description version \u5c5e\u6027\u3002\u53ef\u4ee5\u4f7f\u7528plugin[0] \u7684\u65b9\u5f0f\u83b7\u53d6MimeType\u5bf9\u8c61</li> <li> <p>mimeTypes   navigator.mimeTypes   mimeTypes\u5bf9\u8c61\u9700\u8981\u548cplugin \u5bf9\u8c61\u5bf9\u5e94\uff0c\u6709type, suffixes, description, enabledPlugin \u5c5e\u6027</p> </li> <li> <p>canvas   \u83b7\u53d6canvas \u6307\u7eb9  \u53c2\u8003\uff0c \u901a\u8fc7\u6307\u7eb9\u6765\u5224\u522b\u4e00\u4e2a\u6d4f\u89c8\u5668\uff0c\u5e76\u6839\u636e\u6307\u7eb9\u7684\u4e00\u4e9b\u7279\u5f81\u8bc6\u522b\u662f\u4f55\u79cd\u6d4f\u89c8\u5668\u3002   \u8bc6\u522b:</p> </li> </ul> <pre><code>(function (name, context, definition) {\n        if (typeof module !== 'undefined' &amp;&amp; module.exports) {\n            module.exports = definition();\n        }\n        else if (typeof define === 'function' &amp;&amp; define.amd) {\n            define(definition);\n        }\n        else {\n            context[name] = definition();\n        }\n    })('Fingerprint', this, function () {\n        'use strict';\n\n        var Fingerprint = function (options) {\n            var nativeForEach, nativeMap;\n            nativeForEach = Array.prototype.forEach;\n            nativeMap = Array.prototype.map;\n\n            this.each = function (obj, iterator, context) {\n                if (obj === null) {\n                    return;\n                }\n                if (nativeForEach &amp;&amp; obj.forEach === nativeForEach) {\n                    obj.forEach(iterator, context);\n                } else if (obj.length === +obj.length) {\n                    for (var i = 0, l = obj.length; i &lt; l; i++) {\n                        if (iterator.call(context, obj[i], i, obj) === {}) return;\n                    }\n                } else {\n                    for (var key in obj) {\n                        if (obj.hasOwnProperty(key)) {\n                            if (iterator.call(context, obj[key], key, obj) === {}) return;\n                        }\n                    }\n                }\n            };\n\n            this.map = function (obj, iterator, context) {\n                var results = [];\n                // Not using strict equality so that this acts as a\n                // shortcut to checking for `null` and `undefined`.\n                if (obj == null) return results;\n                if (nativeMap &amp;&amp; obj.map === nativeMap) return obj.map(iterator, context);\n                this.each(obj, function (value, index, list) {\n                    results[results.length] = iterator.call(context, value, index, list);\n                });\n                return results;\n            };\n\n            if (typeof options == 'object') {\n                this.hasher = options.hasher;\n                this.screen_resolution = options.screen_resolution;\n                this.screen_orientation = options.screen_orientation;\n                this.canvas = options.canvas;\n                this.ie_activex = options.ie_activex;\n            } else if (typeof options == 'function') {\n                this.hasher = options;\n            }\n        };\n\n        Fingerprint.prototype = {\n            get: function () {\n                var keys = [];\n                keys.push(navigator.userAgent);\n                keys.push(navigator.language);\n                keys.push(screen.colorDepth);\n                if (this.screen_resolution) {\n                    var resolution = this.getScreenResolution();\n                    if (typeof resolution !== 'undefined') { // headless browsers, such as phantomjs\n                        keys.push(resolution.join('x'));\n                    }\n                }\n                keys.push(new Date().getTimezoneOffset());\n                keys.push(this.hasSessionStorage());\n                keys.push(this.hasLocalStorage());\n                keys.push(this.hasIndexDb());\n                //body might not be defined at this point or removed programmatically\n                if (document.body) {\n                    keys.push(typeof(document.body.addBehavior));\n                } else {\n                    keys.push(typeof undefined);\n                }\n                keys.push(typeof(window.openDatabase));\n                keys.push(navigator.cpuClass);\n                keys.push(navigator.platform);\n                keys.push(navigator.doNotTrack);\n                keys.push(this.getPluginsString());\n                if (this.canvas &amp;&amp; this.isCanvasSupported()) {\n                    keys.push(this.getCanvasFingerprint());\n                }\n                if (this.hasher) {\n                    return this.hasher(keys.join('###'), 31);\n                } else {\n                    return this.murmurhash3_32_gc(keys.join('###'), 31);\n                }\n            },\n\n            /**\n             * JS Implementation of MurmurHash3 (r136) (as of May 20, 2011)\n             *\n             * @author &lt;a href=\"mailto:gary.court@gmail.com\"&gt;Gary Court&lt;/a&gt;\n             * @see http://github.com/garycourt/murmurhash-js\n             * @author &lt;a href=\"mailto:aappleby@gmail.com\"&gt;Austin Appleby&lt;/a&gt;\n             * @see http://sites.google.com/site/murmurhash/\n             *\n             * @param {string} key ASCII only\n             * @param {number} seed Positive integer only\n             * @return {number} 32-bit positive integer hash\n             */\n\n            murmurhash3_32_gc: function (key, seed) {\n                var remainder, bytes, h1, h1b, c1, c2, k1, i;\n\n                remainder = key.length &amp; 3; // key.length % 4\n                bytes = key.length - remainder;\n                h1 = seed;\n                c1 = 0xcc9e2d51;\n                c2 = 0x1b873593;\n                i = 0;\n\n                while (i &lt; bytes) {\n                    k1 =\n                        ((key.charCodeAt(i) &amp; 0xff)) |\n                        ((key.charCodeAt(++i) &amp; 0xff) &lt;&lt; 8) |\n                        ((key.charCodeAt(++i) &amp; 0xff) &lt;&lt; 16) |\n                        ((key.charCodeAt(++i) &amp; 0xff) &lt;&lt; 24);\n                    ++i;\n\n                    k1 = ((((k1 &amp; 0xffff) * c1) + ((((k1 &gt;&gt;&gt; 16) * c1) &amp; 0xffff) &lt;&lt; 16))) &amp; 0xffffffff;\n                    k1 = (k1 &lt;&lt; 15) | (k1 &gt;&gt;&gt; 17);\n                    k1 = ((((k1 &amp; 0xffff) * c2) + ((((k1 &gt;&gt;&gt; 16) * c2) &amp; 0xffff) &lt;&lt; 16))) &amp; 0xffffffff;\n\n                    h1 ^= k1;\n                    h1 = (h1 &lt;&lt; 13) | (h1 &gt;&gt;&gt; 19);\n                    h1b = ((((h1 &amp; 0xffff) * 5) + ((((h1 &gt;&gt;&gt; 16) * 5) &amp; 0xffff) &lt;&lt; 16))) &amp; 0xffffffff;\n                    h1 = (((h1b &amp; 0xffff) + 0x6b64) + ((((h1b &gt;&gt;&gt; 16) + 0xe654) &amp; 0xffff) &lt;&lt; 16));\n                }\n\n                k1 = 0;\n\n                switch (remainder) {\n                    case 3:\n                        k1 ^= (key.charCodeAt(i + 2) &amp; 0xff) &lt;&lt; 16;\n                    case 2:\n                        k1 ^= (key.charCodeAt(i + 1) &amp; 0xff) &lt;&lt; 8;\n                    case 1:\n                        k1 ^= (key.charCodeAt(i) &amp; 0xff);\n\n                        k1 = (((k1 &amp; 0xffff) * c1) + ((((k1 &gt;&gt;&gt; 16) * c1) &amp; 0xffff) &lt;&lt; 16)) &amp; 0xffffffff;\n                        k1 = (k1 &lt;&lt; 15) | (k1 &gt;&gt;&gt; 17);\n                        k1 = (((k1 &amp; 0xffff) * c2) + ((((k1 &gt;&gt;&gt; 16) * c2) &amp; 0xffff) &lt;&lt; 16)) &amp; 0xffffffff;\n                        h1 ^= k1;\n                }\n\n                h1 ^= key.length;\n\n                h1 ^= h1 &gt;&gt;&gt; 16;\n                h1 = (((h1 &amp; 0xffff) * 0x85ebca6b) + ((((h1 &gt;&gt;&gt; 16) * 0x85ebca6b) &amp; 0xffff) &lt;&lt; 16)) &amp; 0xffffffff;\n                h1 ^= h1 &gt;&gt;&gt; 13;\n                h1 = ((((h1 &amp; 0xffff) * 0xc2b2ae35) + ((((h1 &gt;&gt;&gt; 16) * 0xc2b2ae35) &amp; 0xffff) &lt;&lt; 16))) &amp; 0xffffffff;\n                h1 ^= h1 &gt;&gt;&gt; 16;\n\n                return h1 &gt;&gt;&gt; 0;\n            },\n\n            // https://bugzilla.mozilla.org/show_bug.cgi?id=781447\n            hasLocalStorage: function () {\n                try {\n                    return !!window.localStorage;\n                } catch (e) {\n                    return true; // SecurityError when referencing it means it exists\n                }\n            },\n\n            hasSessionStorage: function () {\n                try {\n                    return !!window.sessionStorage;\n                } catch (e) {\n                    return true; // SecurityError when referencing it means it exists\n                }\n            },\n\n            hasIndexDb: function () {\n                try {\n                    return !!window.indexedDB;\n                } catch (e) {\n                    return true; // SecurityError when referencing it means it exists\n                }\n            },\n\n            isCanvasSupported: function () {\n                var elem = document.createElement('canvas');\n                return !!(elem.getContext &amp;&amp; elem.getContext('2d'));\n            },\n\n            isIE: function () {\n                if (navigator.appName === 'Microsoft Internet Explorer') {\n                    return true;\n                } else if (navigator.appName === 'Netscape' &amp;&amp; /Trident/.test(navigator.userAgent)) {// IE 11\n                    return true;\n                }\n                return false;\n            },\n\n            getPluginsString: function () {\n                if (this.isIE() &amp;&amp; this.ie_activex) {\n                    return this.getIEPluginsString();\n                } else {\n                    return this.getRegularPluginsString();\n                }\n            },\n\n            getRegularPluginsString: function () {\n                return this.map(navigator.plugins, function (p) {\n                    var mimeTypes = this.map(p, function (mt) {\n                        return [mt.type, mt.suffixes].join('~');\n                    }).join(',');\n                    return [p.name, p.description, mimeTypes].join('::');\n                }, this).join(';');\n            },\n\n            getIEPluginsString: function () {\n                if (window.ActiveXObject) {\n                    var names = ['ShockwaveFlash.ShockwaveFlash',//flash plugin\n                        'AcroPDF.PDF', // Adobe PDF reader 7+\n                        'PDF.PdfCtrl', // Adobe PDF reader 6 and earlier, brrr\n                        'QuickTime.QuickTime', // QuickTime\n                        // 5 versions of real players\n                        'rmocx.RealPlayer G2 Control',\n                        'rmocx.RealPlayer G2 Control.1',\n                        'RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)',\n                        'RealVideo.RealVideo(tm) ActiveX Control (32-bit)',\n                        'RealPlayer',\n                        'SWCtl.SWCtl', // ShockWave player\n                        'WMPlayer.OCX', // Windows media player\n                        'AgControl.AgControl', // Silverlight\n                        'Skype.Detection'];\n\n                    // starting to detect plugins in IE\n                    return this.map(names, function (name) {\n                        try {\n                            new ActiveXObject(name);\n                            return name;\n                        } catch (e) {\n                            return null;\n                        }\n                    }).join(';');\n                } else {\n                    return \"\"; // behavior prior version 0.5.0, not breaking backwards compat.\n                }\n            },\n\n            getScreenResolution: function () {\n                var resolution;\n                if (this.screen_orientation) {\n                    resolution = (screen.height &gt; screen.width) ? [screen.height, screen.width] : [screen.width, screen.height];\n                } else {\n                    resolution = [screen.height, screen.width];\n                }\n                return resolution;\n            },\n\n            getCanvasFingerprint: function () {\n                var canvas = document.createElement('canvas');\n                var ctx = canvas.getContext('2d');\n                // https://www.browserleaks.com/canvas#how-does-it-work\n                var txt = 'http://valve.github.io';\n                ctx.textBaseline = \"top\";\n                ctx.font = \"14px 'Arial'\";\n                ctx.textBaseline = \"alphabetic\";\n                ctx.fillStyle = \"#f60\";\n                ctx.fillRect(125, 1, 62, 20);\n                ctx.fillStyle = \"#069\";\n                ctx.fillText(txt, 2, 15);\n                ctx.fillStyle = \"rgba(102, 204, 0, 0.7)\";\n                ctx.fillText(txt, 4, 17);\n                return canvas.toDataURL();\n            }\n        };\n        return Fingerprint;\n    });\n\n    new Fingerprint({canvas: true}).get();\n</code></pre> <ul> <li>\u53cd\u8bc6\u522b: \u901a\u8fc7\u91cd\u5199toBlob \u4ee5\u53catoDataURL \u65b9\u6cd5\u6765\u89e3\u51b3</li> </ul> <pre><code>var inject = function () {\n    var overwrite = function (name) {\n      const OLD = HTMLCanvasElement.prototype[name];\n      Object.defineProperty(HTMLCanvasElement.prototype, name, {\n        \"value\": function () {\n          var shift = {\n            'r': Math.floor(Math.random() * 10) - 5,\n            'g': Math.floor(Math.random() * 10) - 5,\n            'b': Math.floor(Math.random() * 10) - 5,\n            'a': Math.floor(Math.random() * 10) - 5\n          };\n          var width = this.width, height = this.height, context = this.getContext(\"2d\");\n          var imageData = context.getImageData(0, 0, width, height);\n          for (var i = 0; i &lt; height; i++) {\n            for (var j = 0; j &lt; width; j++) {\n              var n = ((i * (width * 4)) + (j * 4));\n              imageData.data[n + 0] = imageData.data[n + 0] + shift.r;\n              imageData.data[n + 1] = imageData.data[n + 1] + shift.g;\n              imageData.data[n + 2] = imageData.data[n + 2] + shift.b;\n              imageData.data[n + 3] = imageData.data[n + 3] + shift.a;\n            }\n          }\n          context.putImageData(imageData, 0, 0);\n          return OLD.apply(this, arguments);\n        }\n      });\n    };\n    overwrite('toBlob');\n    overwrite('toDataURL');\n  };\n  inject();\n</code></pre> <ul> <li>webgl   TODO</li> <li> <p>webglVendorAndRenderer   \u8fd4\u4f1a\u663e\u5361\u578b\u53f7\u76f8\u5173\u4fe1\u606f   TODO</p> </li> <li> <p>adBlock   \u68c0\u6d4badBlock \u63d2\u4ef6\u662f\u5426\u5b58\u5728</p> </li> <li> <p>hasLiedLanguages   \u5224\u65adnavigator.language \u662f\u5426\u4e3anavigator.languages\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a</p> </li> <li> <p>hasLiedResolution   window.screen.width &lt; window.screen.availWidth || window.screen.height &lt; window.screen.availHeight</p> </li> <li>hasLiedOs   \u8bc6\u522b: \u5224\u65adua \u548cplatform \u4e4b\u95f4\u7684\u5173\u8054\u3002</li> </ul> <pre><code>var getHasLiedOs = function () {\n    var userAgent = navigator.userAgent.toLowerCase()\n    var oscpu = navigator.oscpu\n    var platform = navigator.platform.toLowerCase()\n    var os\n    // We extract the OS from the user agent (respect the order of the if else if statement)\n    if (userAgent.indexOf('windows phone') &gt;= 0) {\n      os = 'Windows Phone'\n    } else if (userAgent.indexOf('win') &gt;= 0) {\n      os = 'Windows'\n    } else if (userAgent.indexOf('android') &gt;= 0) {\n      os = 'Android'\n    } else if (userAgent.indexOf('linux') &gt;= 0 || userAgent.indexOf('cros') &gt;= 0) {\n      os = 'Linux'\n    } else if (userAgent.indexOf('iphone') &gt;= 0 || userAgent.indexOf('ipad') &gt;= 0) {\n      os = 'iOS'\n    } else if (userAgent.indexOf('mac') &gt;= 0) {\n      os = 'Mac'\n    } else {\n      os = 'Other'\n    }\n    // We detect if the person uses a mobile device\n    var mobileDevice = (('ontouchstart' in window) ||\n      (navigator.maxTouchPoints &gt; 0) ||\n      (navigator.msMaxTouchPoints &gt; 0))\n\n    if (mobileDevice &amp;&amp; os !== 'Windows Phone' &amp;&amp; os !== 'Android' &amp;&amp; os !== 'iOS' &amp;&amp; os !== 'Other') {\n      return true\n    }\n\n    console.log(oscpu);\n    // We compare oscpu with the OS extracted from the UA\n    if (typeof oscpu !== 'undefined') {\n      oscpu = oscpu.toLowerCase()\n      if (oscpu.indexOf('win') &gt;= 0 &amp;&amp; os !== 'Windows' &amp;&amp; os !== 'Windows Phone') {\n        return true\n      } else if (oscpu.indexOf('linux') &gt;= 0 &amp;&amp; os !== 'Linux' &amp;&amp; os !== 'Android') {\n        return true\n      } else if (oscpu.indexOf('mac') &gt;= 0 &amp;&amp; os !== 'Mac' &amp;&amp; os !== 'iOS') {\n        return true\n      } else if ((oscpu.indexOf('win') === -1 &amp;&amp; oscpu.indexOf('linux') === -1 &amp;&amp; oscpu.indexOf('mac') === -1) !== (os === 'Other')) {\n        return true\n      }\n    }\n\n    // We compare platform with the OS extracted from the UA\n    if (platform.indexOf('win') &gt;= 0 &amp;&amp; os !== 'Windows' &amp;&amp; os !== 'Windows Phone') {\n      return true\n    } else if ((platform.indexOf('linux') &gt;= 0 || platform.indexOf('android') &gt;= 0 || platform.indexOf('pike') &gt;= 0) &amp;&amp; os !== 'Linux' &amp;&amp; os !== 'Android') {\n      return true\n    } else if ((platform.indexOf('mac') &gt;= 0 || platform.indexOf('ipad') &gt;= 0 || platform.indexOf('ipod') &gt;= 0 || platform.indexOf('iphone') &gt;= 0) &amp;&amp; os !== 'Mac' &amp;&amp; os !== 'iOS') {\n      return true\n    } else {\n      var platformIsOther = platform.indexOf('win') &lt; 0 &amp;&amp;\n        platform.indexOf('linux') &lt; 0 &amp;&amp;\n        platform.indexOf('mac') &lt; 0 &amp;&amp;\n        platform.indexOf('iphone') &lt; 0 &amp;&amp;\n        platform.indexOf('ipad') &lt; 0\n      if (platformIsOther !== (os === 'Other')) {\n        return true\n      }\n    }\n\n    return typeof navigator.plugins === 'undefined' &amp;&amp; os !== 'Windows' &amp;&amp; os !== 'Windows Phone'\n  }\n</code></pre> <ul> <li>\u53cd\u8bc6\u522b\uff1a \u786e\u4fddua \u4ee5\u53caplatform \u4e4b\u95f4\u7684\u5173\u7cfb</li> <li>hasLiedBrowser   \u8bc6\u522b: \u6839\u636eua \u5224\u65adbrowser\uff0c\u5728\u6839\u636e\u4e00\u4e9b\u795e\u5947\u7684\u7279\u6027\u53bb\u5224\u65ad\u3002\u3002</li> </ul> <pre><code>var getHasLiedBrowser = function () {\n    var userAgent = navigator.userAgent.toLowerCase()\n    var productSub = navigator.productSub\n\n    // we extract the browser from the user agent (respect the order of the tests)\n    var browser\n    if (userAgent.indexOf('firefox') &gt;= 0) {\n      browser = 'Firefox'\n    } else if (userAgent.indexOf('opera') &gt;= 0 || userAgent.indexOf('opr') &gt;= 0) {\n      browser = 'Opera'\n    } else if (userAgent.indexOf('chrome') &gt;= 0) {\n      browser = 'Chrome'\n    } else if (userAgent.indexOf('safari') &gt;= 0) {\n      browser = 'Safari'\n    } else if (userAgent.indexOf('trident') &gt;= 0) {\n      browser = 'Internet Explorer'\n    } else {\n      browser = 'Other'\n    }\n\n    if ((browser === 'Chrome' || browser === 'Safari' || browser === 'Opera') &amp;&amp; productSub !== '20030107') {\n      return true\n    }\n\n    // eslint-disable-next-line no-eval\n    var tempRes = eval.toString().length\n    if (tempRes === 37 &amp;&amp; browser !== 'Safari' &amp;&amp; browser !== 'Firefox' &amp;&amp; browser !== 'Other') {\n      return true\n    } else if (tempRes === 39 &amp;&amp; browser !== 'Internet Explorer' &amp;&amp; browser !== 'Other') {\n      return true\n    } else if (tempRes === 33 &amp;&amp; browser !== 'Chrome' &amp;&amp; browser !== 'Opera' &amp;&amp; browser !== 'Other') {\n      return true\n    }\n\n    // We create an error to see how it is handled\n    var errFirefox\n    try {\n      // eslint-disable-next-line no-throw-literal\n      throw 'a'\n    } catch (err) {\n      try {\n        err.toSource()\n        errFirefox = true\n      } catch (errOfErr) {\n        errFirefox = false\n      }\n    }\n    return errFirefox &amp;&amp; browser !== 'Firefox' &amp;&amp; browser !== 'Other'\n  }\n</code></pre> <ul> <li>touchSupport</li> </ul> <pre><code>var getTouchSupport = function () {\n    var maxTouchPoints = 0\n    var touchEvent\n    if (typeof navigator.maxTouchPoints !== 'undefined') {\n      maxTouchPoints = navigator.maxTouchPoints\n    } else if (typeof navigator.msMaxTouchPoints !== 'undefined') {\n      maxTouchPoints = navigator.msMaxTouchPoints\n    }\n    try {\n      document.createEvent('TouchEvent')\n      touchEvent = true\n    } catch (_) {\n      touchEvent = false\n    }\n    var touchStart = 'ontouchstart' in window\n    // [0, false, false]\n    return [maxTouchPoints, touchEvent, touchStart]\n  }\n</code></pre> <ul> <li>fonts   \u770b\u6709\u591a\u5c11\u4e2afont</li> <li>audio   \u97f3\u9891\u6307\u7eb9 TODO</li> </ul>"},{"location":"python/chromedriver/#php-webdriver-chrome","title":"\u65e0\u5934\u6d4f\u89c8\u5668(PHP-WebDriver-Chrome)","text":"<p>Php-webdriver \u662f Facebook \u5f00\u53d1\u7684\u57fa\u4e8e PHP \u8bed\u8a00\u5b9e\u73b0\u7684 Selenium WebDriver \u5ba2\u6237\u7aef\u7ec4\u4ef6\uff0c\u53ef\u4ee5\u7528\u5b83\u6765\u64cd\u4f5c\u6d4f\u89c8\u5668\u3002\u5e38\u89c1\u7684\u64cd\u4f5c\u5305\u62ec\uff1a\u81ea\u52a8\u5316\u6d4b\u8bd5\u3001\u91c7\u96c6\u6570\u636e\u7b49\u3002</p>"},{"location":"python/chromedriver/#google-chrome-firefox","title":"\u5b89\u88c5\u6d4f\u89c8\u5668\uff08Google Chrome \uff09Firefox\u65b0\u7248\u672c\u652f\u6301\u6709\u95ee\u9898\uff0c\u4e0d\u5efa\u8bae\u4f7f\u7528","text":"<p>\u4ee5 Ubuntu server 16.04 \u5b89\u88c5 Google Chrome \u6d4f\u89c8\u5668\u4e3a\u4f8b\uff08\u53c2\u8003\u94fe\u63a5\uff09\u3002</p> <p>\u4e0b\u8f7d\u6700\u65b0\u7248\u7684 64 \u4f4d Google Chrome\uff1a</p> <pre><code>wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb\n</code></pre> <p>\u5b89\u88c5 Google Chrome \u5e76\u81ea\u52a8\u5b89\u88c5\u4f9d\u8d56\uff1a</p> <pre><code>sudo dpkg -i --force-depends google-chrome-stable_current_amd64.deb\n</code></pre> <p>\u82e5\u63d0\u793a <code>dependency problems</code> \u51fa\u9519\u4fe1\u606f\uff0c\u8868\u793a\u67d0\u4e9b\u4f9d\u8d56\u5e93\u6ca1\u6709\u5b89\u88c5\uff0c\u952e\u5165\u4ee5\u4e0b\u547d\u4ee4\u6765\u81ea\u52a8\u5b89\u88c5\u597d\u4f9d\u8d56\uff1a</p> <pre><code>sudo apt-get install -f\n</code></pre> <p>\u6d4b\u8bd5 Google Chrome\uff1a</p> <pre><code># \u5b89\u88c5\u4e2d\u6587\u5b57\u4f53\nsudo apt-get install fonts-noto-cjk\n# \u8fd0\u884c Google Chrome headless \u5e76\u622a\u56fe\u4fdd\u5b58\nLANGUAGE=ZH-CN.UTF-8 google-chrome --headless https://www.pc6.com --no-sandbox --screenshot --window-size=1400,900\n</code></pre> <p>\u770b\u5230\u5982\u4e0b\u7684\u56fe\u7247\u5c31\u8868\u660e\u5b89\u88c5\u6210\u529f\u4e86\u3002</p> <p></p>"},{"location":"python/chromedriver/#chromedriver-geckodriver","title":"\u5b89\u88c5\u6d4f\u89c8\u5668\u9a71\u52a8\u7a0b\u5e8f\uff08Chromedriver \u6216 Geckodriver\uff09","text":"<p>\u4ee5\u5b89\u88c5 Chromdriver \u4e3a\u4f8b\u3002</p> <p>\u8981\u4fdd\u8bc1 Chromedriver \u548c Google Chrome \u662f\u76f8\u5339\u914d\u7684\u7248\u672c\u3002\u5728 Chromedriver \u7684\u5b98\u65b9\u4e0b\u8f7d\u9875\u9762\u6709\u7248\u672c\u8bf4\u660e\uff0c\u6309\u7167\u9700\u8981\u4e0b\u8f7d\u3002</p> <p>\u5982\u679c\u5b89\u88c5\u7684 Google Chrome \u7684\u7248\u672c\u53f7\u662f 81\uff0c\u90a3\u4e48\u6839\u636e Chromdriver \u5b98\u65b9\u8bf4\u660e\uff0c\u4e5f\u9700\u8981\u4e0b\u8f7d\u5bf9\u5e94\u7684\u7248\u672c\u53f7\u662f 81 \u7684 Chromdriver\u3002</p> <pre><code># \u67e5\u8be2 Google Chrome \u7684\u7248\u672c\u53f7\nroot@aeb9f39e9e04:/tmp# google-chrome --version\nGoogle Chrome 81.0.4044.92\n</code></pre> <p></p> <p>\u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u89e3\u538b\u7f29\u51fa\u4e8c\u8fdb\u5236\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u8fd9\u5c31\u662f\u6211\u4eec\u9700\u8981\u7684\u6d4f\u89c8\u5668\u9a71\u52a8\u7a0b\u5e8f\uff08WebDriver\uff09\u4e86\u3002\u901a\u8fc7 Chromedriver \u53ef\u4ee5\u63a7\u5236 Google Chrome \u7684\u64cd\u4f5c\u3002</p> <p>\u542f\u52a8 Chromedriver \u5e76\u76d1\u542c 4444 \u7aef\u53e3\u3002</p> <pre><code>LANGUAGE=ZH-CN.UTF-8 ./chromedriver --port=4444\n</code></pre>"},{"location":"python/chromedriver/#php-webdriver","title":"\u5b89\u88c5 Php-webdriver","text":"<p>\u5f53\u505a\u5b8c\u524d\u9762\u4e24\u6b65\u51c6\u5907\u5de5\u4f5c\uff0c\u5b89\u88c5\u597d\u4e86\u6d4f\u89c8\u5668\uff08Google Chrome\uff09\u4e0e\u6d4f\u89c8\u5668\u9a71\u52a8\u7a0b\u5e8f\uff08Chromdriver\uff09\u4e4b\u540e\uff0c\u603b\u7b97\u53ef\u4ee5\u8fdb\u5165\u4e3b\u9898\uff0c\u5b89\u88c5\u4e0e\u4f7f\u7528 Php-webdriver \u4e86\u3002</p> <p>\u5b89\u88c5 Php-webdriver</p> <pre><code>composer require php-webdriver/webdriver\n</code></pre>"},{"location":"python/chromedriver/#_5","title":"\u914d\u7f6e\u722c\u866b\u4ee3\u7406","text":"<pre><code>$pluginForProxyLogin = '/tmp/a'.uniqid().'.zip';\n\n$zip = new ZipArchive();\n$res = $zip-&gt;open($pluginForProxyLogin, ZipArchive::CREATE | ZipArchive::OVERWRITE);\n$zip-&gt;addFile('/path/to/Chrome-proxy-helper/manifest.json', 'manifest.json');\n$background = file_get_contents('/path/to/Chrome-proxy-helper/background.js');\n$background = str_replace(['%proxy_host', '%proxy_port', '%username', '%password'], ['t.16yun.cn', '31111', 'username', 'password'], $background);\n$zip-&gt;addFromString('background.js', $background);\n$zip-&gt;close();\n\nputenv(\"webdriver.chrome.driver=/path/to/chromedriver\");\n\n$options = new ChromeOptions();\n$options-&gt;addExtensions([$pluginForProxyLogin]);\n$caps = DesiredCapabilities::chrome();\n$caps-&gt;setCapability(ChromeOptions::CAPABILITY, $options);\n\n$driver = ChromeDriver::start($caps);\n$driver-&gt;get('https://httpbin.org/ip');\n\nheader('Content-Type: image/png');\necho $driver-&gt;takeScreenshot();\n\n\nunlink($pluginForProxyLogin);\n</code></pre>"},{"location":"python/chromedriver/#php-webdriver_1","title":"\u4f7f\u7528 Php-webdriver","text":""},{"location":"python/chromedriver/#_6","title":"\u6253\u5f00\u6d4f\u89c8\u5668","text":"<pre><code>$options = new ChromeOptions();\n$options-&gt;addArguments([\n     '--window-size=1400,900',\n     '--headless',\n]);\n$capabilities = DesiredCapabilities::chrome();\n$capabilities-&gt;setCapability(ChromeOptions::CAPABILITY, $options);\n$host = 'http://localhost:4444';\n$driver = RemoteWebDriver::create($host, $capabilities);\n</code></pre> <p>\u4ee5\u4e0a\u4ee3\u7801\u52a0\u4e0a\u4e86\u6253\u5f00\u6d4f\u89c8\u5668\u7684\u540c\u65f6\u52a0\u4e0a\u4e86\u7a97\u53e3\u5927\u5c0f\u548c\u65e0\u5934\u6d4f\u89c8\u5668\u7684\u53c2\u6570\uff0c\u53ef\u4ee5\u6309\u9700\u589e\u51cf\u3002\u66f4\u591a\u5173\u4e8e ChromeOptions \u7684\u53c2\u6570\u8bf7\u67e5\u770b https://sites.google.com/a/chromium.org/chromedriver/capabilities\u3002</p>"},{"location":"python/chromedriver/#url","title":"\u6253\u5f00 URL","text":"<pre><code>$driver-&gt;get('https://www.baidu.com/');\n$driver-&gt;navigate()-&gt;to('https://www.sogou.com/');\n</code></pre>"},{"location":"python/chromedriver/#_7","title":"\u5237\u65b0\u9875\u9762","text":"<pre><code>$driver-&gt;navigate()-&gt;refresh();\n</code></pre>"},{"location":"python/chromedriver/#_8","title":"\u67e5\u627e\u5355\u4e2a\u5143\u7d20","text":"<pre><code>$element = $driver-&gt;findElement(WebDriverBy::cssSelector('div.header'));\n</code></pre>"},{"location":"python/chromedriver/#_9","title":"\u67e5\u627e\u591a\u4e2a\u5143\u7d20","text":"<pre><code>$elements = $driver-&gt;findElements(WebDriverBy::cssSelector('ul.foo &gt; li'));\n</code></pre> <p>WebDriverBy \u63d0\u4f9b\u4e86\u591a\u79cd\u67e5\u8be2\u65b9\u5f0f\uff1a</p> <p><code>WebDriverBy::id($id)</code> \u6839\u636e ID \u67e5\u627e\u5143\u7d20</p> <p><code>WebDriverBy::className($className)</code> \u6839\u636e class \u67e5\u627e\u5143\u7d20</p> <p><code>WebDriverBy::cssSelector($selctor)</code> \u6839\u636e\u901a\u7528\u7684 css \u9009\u62e9\u5668\u67e5\u8be2</p> <p><code>WebDriverBy::name($name)</code> \u6839\u636e\u5143\u7d20\u7684 name \u5c5e\u6027\u67e5\u8be2</p> <p><code>WebDriverBy::linkText($text)</code> \u6839\u636e\u53ef\u89c1\u5143\u7d20\u7684\u6587\u672c\u951a\u70b9\u67e5\u8be2</p> <p><code>WebDriverBy::tagName($tagName)</code> \u6839\u636e\u5143\u7d20\u6807\u7b7e\u540d\u79f0\u67e5\u8be2</p> <p><code>WebDriverBy::xpath($xpath)</code> \u6839\u636e xpath \u8868\u8fbe\u5f0f\u67e5\u8be2</p>"},{"location":"python/chromedriver/#_10","title":"\u8f93\u5165\u5185\u5bb9","text":"<pre><code>$driver-&gt;findElement(WebDriverBy::cssSelector('input[name=username]'))-&gt;sendKeys('imzhi');\n</code></pre>"},{"location":"python/chromedriver/#_11","title":"\u70b9\u51fb\u5143\u7d20","text":"<pre><code>$driver-&gt;findElement(WebDriverBy::cssSelector('button#login'))-&gt;click();\n</code></pre>"},{"location":"python/chromedriver/#_12","title":"\u622a\u56fe","text":"<pre><code>$driver-&gt;takeScreenshot(__DIR__ . '/screenshot.png');\n</code></pre>"},{"location":"python/chromedriver/#js","title":"\u6267\u884c JS","text":"<p><code>RemoteWebDriver::executeScript($script, $args)</code> \u6267\u884c\u540c\u6b65 JS \u4ee3\u7801</p> <p><code>RemoteWebDriver::executeAsyncScript($script, $args)</code> \u6267\u884c\u5f02\u6b65 JS \u4ee3\u7801</p> <pre><code>$driver-&gt;executeScript(\"document.body.style.backgroundColor = 'red';\");\n</code></pre> <p>\u5173\u4e8e Php-webdriver \u7684\u66f4\u591a\u4f7f\u7528\u8be6\u60c5\u53ef\u4ee5\u53bb\u5b98\u65b9 wiki \u6216\u8005\u53bb\u5b98\u65b9 API \u6587\u6863\u4e0a\u67e5\u9605\u3002</p> <p>\u6700\u540e\u7528\u4e00\u4e2a\u5c0f\u4f8b\u5b50\u7ed3\u675f\u8fd9\u7bc7\u6559\u7a0b\u3002</p>"},{"location":"python/chromedriver/#end","title":"END","text":""},{"location":"python/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/","title":"\u5fae\u4fe1\u5c0f\u7a0b\u5e8f","text":""},{"location":"python/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/#1-post-post","title":"1 \u901a\u8fc7\u6293\u5305\u8f6f\u4ef6\u83b7\u53d6\u8bf7\u6c42\u94fe\u63a5\uff0c\u53ef\u80fd\u9700\u8981post\u53c2\u6570 \uff0c\u643a\u5e26post\u53c2\u6570\u8bf7\u6c42\uff0c\u83b7\u5f97\u54cd\u5e94","text":"<pre><code>\u53c2\u8003\u7f51\u5740\uff1a https://www.cnblogs.com/AllenMi/p/13690336.html\n</code></pre>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/","title":"\u6846\u67b6\u8bf4\u660e","text":"<ul> <li>\u6574\u4f53\u7ed3\u6784<ul> <li>1. items.py</li> <li>2. middlewares.py<ul> <li>ProxyMiddleware</li> <li>TunnelProxyMiddleware</li> <li>AbroadProxyMiddleware</li> <li>BaiduMiddleware</li> </ul> </li> <li>3. pipelines.py</li> <li>4. setting.py</li> <li>5.conf\u6587\u4ef6\u5939</li> <li>6. parse\u6587\u4ef6\u5939</li> <li>7. redis_func\u6587\u4ef6\u5939</li> <li>8. logs\u6587\u4ef6\u5939</li> <li>9. Rotate\u6587\u4ef6\u5939</li> <li>10.spiders\u6587\u4ef6\u5939</li> <li>11.lib\u6587\u4ef6\u5939</li> </ul> </li> <li>\u4f7f\u7528\u4f8b\u5b50<ul> <li>1. \u521b\u5efa\u4e00\u4e2a\u65b0\u722c\u866b\u6587\u4ef6</li> <li>2.\u65b0\u589e\u4e00\u6761\u914d\u7f6e\u4fe1\u606f</li> <li>3. \u4fee\u6539\u914d\u7f6e</li> <li>4. \u722c\u866b\u6587\u4ef6\u89e3\u6790\uff1a</li> <li>5. \u6267\u884c\u547d\u4ee4\u8fd0\u884c\u722c\u866b</li> </ul> </li> <li>END</li> </ul>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#_1","title":"\u6574\u4f53\u7ed3\u6784","text":""},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#1-itemspy","title":"1. items.py","text":"<p><code>items.py</code> \u914d\u7f6e\u6570\u636e\u5b58\u50a8\u5b57\u6bb5 </p> <p>\u5982\u679c\u9700\u8981\u6dfb\u52a0\u65b0\u5b57\u6bb5\u3002\u9700\u8981\u5bf9<code>pipelines.py</code>\u540c\u65f6\u6dfb\u52a0\u5230<code>dict_content_name</code>\uff08\u8bc4\u8bba\u540c\u7406\uff09\u5982\u4e0b</p> <p></p> <p><code>slaveItem</code> \u548c<code>CommentItem</code></p> <p></p> <p></p>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#2-middlewarespy","title":"2. middlewares.py","text":"<p>\u914d\u7f6e\u4e0d\u540c\u7684<code>middlewares</code>\u53ef\u4ee5\u5b9e\u73b0\u4e0d\u540c\u7684\u6548\u679c\u3002\u53ef\u4ee5\u914d\u7f6e\u4ee3\u7406\uff0c\u8bf7\u6c42\u5934\u7b49</p>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#proxymiddleware","title":"<code>ProxyMiddleware</code>","text":"<p>\u4ee3\u7406\u6c60--\u4ee3\u7406<code>ip</code>\u6dfb\u52a0\u5230<code>redis</code>\u4e2d\uff0c\u4ee3\u7406\u771f\u5b9e\u6570\u91cf\u4e0d\u4f4e\u4e8e20\u4e2a</p> <pre><code>redisClient = redis.Redis(host='192.168.0.106', port='6379')\nexcle_path = \"D:\\slave\\slave\\Proxy\\Proxy.xls\"\nexcel_book = xlrd.open_workbook_xls(excle_path)\nsheet1 = excel_book.sheet_by_index(0)\nfor i in range(1, sheet1.nrows):\n    ip = sheet1.cell_value(i, 0)\n    port = sheet1.cell_value(i, 1)\n    # \u683c\u5f0f\uff1a 117.28.246.17,80,2021-05-25,zdaye\n    proxy = str(ip) + ',' + str(int(port)) + ',2021-06-25 15:37:38,proxy'\n    redisClient.lpush('zdyProxy', proxy)\n</code></pre> <p></p>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#tunnelproxymiddleware","title":"<code>TunnelProxyMiddleware</code>","text":"<pre><code># \u96a7\u9053\u4ee3\u7406\uff0c\u6b64\u5904\u4f7f\u7528\u4ebf\u725b\u4e91\u7684\uff0c\u9700\u8981\u914d\u7f6e\u7528\u6237\u540d\u548c\u5bc6\u7801\u7b49\uff0c \u5177\u4f53\u53c2\u8003\uff1ahttps://www.16yun.cn/help/ss_demo/\n# \u5728\u4e0b\u9762\u8fd9\u91cc\u914d\u7f6e\u7528\u6237\u540d\u5bc6\u7801\u7b49\uff1a\nproxyHost = \"u6880.10.tn.16yun.cn\"\nproxyPort = \"6442\"\nproxyUser = \"16IXHCPW\"\nproxyPass = \"281792\"\n</code></pre>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#abroadproxymiddleware","title":"<code>AbroadProxyMiddleware</code>","text":"<p>\u5982\u679c\u672c\u673a\u5f00\u4e86\u4ee3\u7406\uff0c\u65e0\u6cd5\u8fdb\u884c\u722c\u866b\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u4f7f\u7528\u6b64middleware</p> <p></p>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#baidumiddleware","title":"<code>BaiduMiddleware</code>","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u767e\u5ea6\u65cb\u8f6c\u9a8c\u8bc1</p> <p></p>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#3-pipelinespy","title":"3. pipelines.py","text":"<pre><code># \u7528\u4e8e\u5904\u7406\u6570\u636e\uff0c\u5206\u4e3a`CommentPipeline`\u548c`SlavePipeline`\n# CommentPipeline --&gt; \u7528\u4e8e\u8c03\u7528\u8bc4\u8bba\u7684kafka\u63a5\u53e3\n# SlavePipeline   --&gt; \u7528\u4e8e\u8c03\u7528\u6587\u7ae0\u7684kafka\u63a5\u53e3\n</code></pre> <ul> <li> <p><code>SlavePipeline</code></p> </li> <li> <p>\u7528\u4e8e\u5b58\u50a8\u7684\u5b57\u6bb5</p> </li> <li> <p></p> </li> <li> <p>\u5728\u6807\u9898\u548c\u6b63\u6587\u4e2d\u67e5\u627e\u7701\u548c\u5e02\u5b57\u6bb5\uff1a</p> <ul> <li> <p></p> </li> <li> <p></p> </li> </ul> </li> <li> <p>\u91cd\u65b0\u6620\u5c04\u8ba4\u8bc1\u7c7b\u578b\uff08\u7528\u4e8e\u8bc6\u522b\u5fae\u535a\u5934\u6761\u7684\u7528\u6237\u8ba4\u8bc1\uff09</p> <ul> <li></li> <li></li> </ul> </li> <li> <p>\u5bf9\u6570\u636e\u8fdb\u884c\u5904\u7406\uff0c \u53bb\u6389\u6ce8\u91ca script\u6807\u7b7e\u7b49\uff0c\u548c\u89e3\u51b3img\u94fe\u63a5\u4e0d\u5b8c\u6574\u7684\u95ee\u9898</p> </li> <li> <p></p> </li> <li> <p>\u5177\u4f53\u5b9e\u73b0</p> <ul> <li></li> </ul> </li> <li> <p>\u5bf9\u6570\u636e\u8fdb\u884c\u7279\u6b8a\u5b57\u7b26\u5904\u7406\u548c\u7f16\u7801</p> </li> <li></li> <li>\u901a\u8fc7<code>kafka</code>\u53d1\u9001\u6570\u636e</li> <li></li> </ul>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#4-settingpy","title":"4. setting.py","text":"<p><code>setting.py</code>\u5bf9\u6574\u4f53\u6846\u67b6\u7684\u914d\u7f6e\uff0c\u5bf9\u4e8e\u5355\u4e2a\u722c\u866b\u7684\u914d\u7f6e\u53ef\u4ee5\u4f7f\u7528<code>lib</code>\u6587\u4ef6\u5939\u4e0b\u7684<code>customSettings.py</code></p> <p></p>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#5conf","title":"5.<code>conf</code>\u6587\u4ef6\u5939","text":"<p><code>spider.cfg</code>\u6587\u4ef6</p> <ul> <li> <p>redis \u914d\u7f6e</p> </li> <li> <p></p> </li> <li> <p>\u914d\u7f6ekfk\u8bf7\u6c42\u5730\u5740\uff1a</p> </li> <li>kfk\u5907\u7528\u5730\u5740\u5177\u4f53\u5b9e\u73b0\uff1a</li> <li></li> <li>\u914d\u7f6e\u5177\u4f53\u5730\u5740url</li> <li></li> <li>\u5907\u7528\u5730\u5740\u8bf7\u6c42\u5b9e\u73b0\uff08\u5982\u679c\u7b2c\u4e00\u4e2a\u5730\u5740\u4e0d\u53ef\u7528\uff0c\u5219\u8bf7\u6c42\u4e0b\u4e00\u4e2a\u5730\u5740\uff09\uff1a</li> <li></li> <li>kfk\u5907\u7528\u8bf7\u6c42\uff1a</li> <li> <p></p> </li> <li> <p>\u5f53\u524d\u9700\u8981\u8fd0\u884c\u7684\u722c\u914d\u7f6e\uff0c\u722c\u866b\u7f16\u53f7node\u7f16\u53f7\u7b49</p> </li> <li> <p></p> </li> <li> <p>\u914d\u7f6e\u91c7\u96c6\u4fe1\u6e90\u4fe1\u606f \uff0c\u914d\u7f6e\u722c\u866b\u914d\u7f6e\uff0c\u722c\u866b\u6587\u4ef6\u540d\uff0c\u662f\u5426\u5f00\u542f\u4ee3\u7406\uff0c\u65f6\u95f4\u8fc7\u6ee4\u5929\u6570\uff0c\u662f\u5426\u4f7f\u7528cdh\u53bb\u91cd\u7b49</p> </li> <li> <p></p> </li> <li> <p>\u4e00\u4e2a\u722c\u866b\u6587\u4ef6 \u53ef\u4ee5\u5bf9\u5e94\u591a\u4e2a\u57df\u540d\uff0c\u4e0a\u56fe\u4e00\u4e2a\u6587\u4ef6\u5bf9\u5e94\u4e86\u4e09\u4e2a\u4e0d\u540c\u7684\u57df\u540d</p> </li> <li> <p><code>parse_class_name</code> \u4e3a\u722c\u866b\u6587\u4ef6\u540d\u5b57\uff08\u4e5f\u5c31\u662fparse\u6587\u4ef6\u5939\u4e0b\u5bf9\u5e94\u7684\u722c\u866b\u6587\u4ef6\u540d\uff09 </p> </li> <li> <p><code>zdy_proxy</code> True \u8868\u793a\u4f7f\u7528\u4ee3\u7406\uff0cFalse\u4e0d\u4f7f\u7528 </p> </li> <li> <p><code>cdh_filter</code> True \u8868\u793a\u4f7f\u7528 kafka \u63a5\u53e3\u53bb\u91cd\uff0cFalse \u4e0d\u4f7f\u7528 </p> </li> <li> <p>\u6ce8\u610f\uff1a\u57df\u540d\u9700\u8981\u4e0e\u4f60\u6dfb\u52a0\u7684\u722c\u866b\u7684\u79cd\u5b50\u94fe\u63a5\u7684\u57df\u540d\u4e00\u81f4</p> </li> <li> <p>\u6bcf\u65b0\u521b\u5efa\u4e00\u4e2a\u722c\u866b\u6587\u4ef6\uff0c\u5bf9\u5e94\u4e00\u6761\u6216\u591a\u6761\u914d\u7f6e\u4fe1\u606f </p> </li> <li> <p>\u4f8b\uff1a</p> </li> <li> <p><code>py     http://news.fjsen.com/node_163753.htm     http://taihai.fjsen.com/tw_politics.htm     http://www.jianyangnews.com/node_159259.htm     http://www.wysxww.com/node_173.htm</code></p> </li> </ul>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#6-parse","title":"6. <code>parse</code>\u6587\u4ef6\u5939","text":"<p>\u722c\u866b\u5b58\u653e\u76ee\u5f55</p> <ul> <li>\u722c\u866b\u6587\u4ef6\uff1a</li> <li>\u4f8b:\u767e\u5ea6\u65b0\u95fb\uff0cBBC\uff0c\u53c2\u8003\u6d88\u606f\uff0c\u5927\u516c\u7f51\u7b49\u7b49</li> <li> <p></p> </li> <li> <p>\u8bc4\u8bba\u6587\u4ef6\u540d\u683c\u5f0f: <code>\u7f51\u7ad9\u540d_comment.py</code>\uff0ccomment\u7528\u4e8e\u8bc6\u522b\u662f\u5426\u4e3a\u8bc4\u8bba</p> </li> <li></li> </ul>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#7-redis_func","title":"7. <code>redis_func\u6587\u4ef6\u5939</code>","text":"<ul> <li>\u79cd\u5b50\u6587\u4ef6\u5b58\u653e\u5730\u65b9\uff0c\u540d\u5b57\u683c\u5f0f\u4e3a<code>add_prifile_\u722c\u866b\u6587\u4ef6\u540d.py</code></li> <li>add_prifile\u4e0d\u80fd\u6253\u9519\uff0c\u5426\u5219linux\u81ea\u52a8\u52a0\u79cd\u5b50\u7684shell\u811a\u672c\u53ef\u80fd\u8bc6\u522b\u4e0d\u4e86\u662f\u52a0\u79cd\u5b50\u7684\u6587\u4ef6</li> <li>\u8fd0\u884c\u7684\u5730\u65b9\u9700\u8981\u52a0\u4e00\u4e2a\u9650\u5236\uff0c\u4f8b\u5982</li> <li></li> <li>\u4e5f\u53ef\u7528\u4e00\u4e2a\u56fa\u5b9a\u7684\u6570\u5b57</li> <li></li> </ul>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#8-logs","title":"8. <code>logs</code>\u6587\u4ef6\u5939","text":"<ul> <li> <p>\u722c\u866b\u65e5\u5fd7\u5b58\u653e\u5730\u65b9</p> </li> <li> <p>\u6587\u4ef6\u540d\u683c\u5f0f\u548c<code>conf</code>\u6587\u4ef6\u5939\u4e0b\u7684<code>spider.cfg</code>\u76f8\u5173\u8054\uff1a</p> </li> <li> <p></p> </li> <li>\u683c\u5f0f\u4e3a\uff1a <code>master_or_slave \u52a0 _ \u52a0 node_id \u52a0 \u5f53\u5929\u65e5\u671f</code></li> <li>\u4f8b\uff1a<code>slave_0.log.2021-09-07 16</code></li> </ul>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#9-rotate","title":"<code>9. Rotate\u6587\u4ef6\u5939</code>","text":"<ul> <li>\u7528\u4e8e\u901a\u8fc7\u767e\u5ea6\u7684\u65cb\u8f6c\u56fe\u7247\u9a8c\u8bc1</li> </ul>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#10spiders","title":"<code>10.spiders\u6587\u4ef6\u5939</code>","text":"<ul> <li><code>spider.py</code> \u5c01\u88c5\u6574\u4f53\u722c\u866b\u8fd0\u884c\u903b\u8f91\uff0c\u5982\u4e0b</li> <li></li> <li>\u65f6\u95f4\u8fc7\u6ee4\uff0c\u9ed8\u8ba4180\u5929</li> <li>\u6307\u7eb9\u8fc7\u6ee4\uff0c\u4f7f\u7528\u6587\u7ae0\u94fe\u63a5\u8fdb\u884c\u53bb\u91cd\uff08\u6307\u7eb9\u5b58\u5728redis\u4e2d\uff09\uff0c\u914d\u7f6e\u662f\u5426\u5f00\u542f\u6307\u7eb9\u8fc7\u6ee4\u5728parse\u6587\u4ef6\u4e2d\uff0c</li> <li>\u4f8b\uff1a <code>dont_filter</code> : \u662f\u5426\u5f00\u542f\u6307\u7eb9\u8fc7\u6ee4\uff0c\u9ed8\u8ba4\u4e3a\u4e0d\u5f00\u542f</li> <li><code>cdh</code>\u8fc7\u6ee4\uff0c\u901a\u8fc7\u8c03\u7528<code>kafka</code>\u7684\u63a5\u53e3\u5b9e\u73b0\u53bb\u91cd\uff0c\u5224\u65ad\u6587\u7ae0\u94fe\u63a5\u662f\u5426\u5b58\u5728\u548c\u662f\u5426\u9700\u8981\u91cd\u590d\u6293\u53d6</li> <li><code>kafka</code>\u63a5\u53e3\u914d\u7f6e\u548c\u5b9e\u73b0\u5728<code>lib</code>\u6587\u4ef6\u5939\u4e0b\u7684 <code>crawlerApi.py</code>\u7684 <code>api_cdh_exist</code>\u51fd\u6570\u4e2d</li> </ul>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#11lib","title":"<code>11.lib</code>\u6587\u4ef6\u5939","text":"<ul> <li><code>commands</code> \u521b\u5efa\u6a21\u677f\u4f7f\u7528\u7684\u6587\u4ef6</li> <li><code>crawlerApi</code> \u5c01\u88c5\u4e00\u4e9b\u8c03\u7528\u63a5\u53e3\uff0c\u5982\uff1a <code>kafka</code> \u53bb\u91cd\u63a5\u53e3\uff0c <code>kafka</code> \u5b58\u50a8\u63a5\u53e3</li> <li><code>customSettings</code>  \u81ea\u5b9a\u4e49\u914d\u7f6e\u6587\u4ef6\uff0c\u5982\u4e0b\u56fe\uff0c\u914d\u7f6e\u5e76\u53d1\u8bf7\u6c42\u6570</li> <li><code>DateTimeFormat</code> \u5c01\u88c5\u5bf9\u4e8e\u4efb\u4f55\u683c\u5f0f\u7684\u65f6\u95f4\u5904\u7406\uff08\u4f8b\uff1a\u4e09\u5929\u524d\uff0c\u65f6\u95f4\u6233\u7b49\u8f6c\u6362\u4e3a\u6b63\u5e38\u65f6\u95f4\u683c\u5f0f\uff09</li> <li><code>loaders</code> \u5c01\u88c5\u4e00\u4e9b\u5c0f\u529f\u80fd\uff08\u4f8b\uff1a\u5bf9\u8868\u60c5\u6570\u636e\u8fdb\u884c\u8f6c\u6362\uff09</li> <li><code>log</code> \u914d\u7f6e\u65e5\u5fd7\u6587\u4ef6</li> <li><code>spiders_param</code> \u5c01\u88c5\u5bf9\u4ee3\u7406\u5904\u7406\u7684\u65b9\u6cd5</li> <li><code>tools</code> \u5c01\u88c5\u65f6\u95f4\u5904\u7406\u65b9\u6cd5</li> <li> <p><code>useragent</code> \u8bbe\u7f6e\u8bf7\u6c42\u5934 </p> </li> <li> <p><code>utils</code> \u8bfb\u53d6\u722c\u866b\u914d\u7f6e\u6587\u4ef6\uff0c\u5e76\u5904\u7406\uff08\u6587\u4ef6\u4e3a <code>conf</code> \u6587\u4ef6\u5939\u4e0b\uff09 </p> </li> </ul>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#_2","title":"\u4f7f\u7528\u4f8b\u5b50","text":""},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#1","title":"1. \u521b\u5efa\u4e00\u4e2a\u65b0\u722c\u866b\u6587\u4ef6","text":"<ul> <li>\u8fdb\u5165<code>slave\\slave</code>\u76ee\u5f55\u4e0b</li> <li>\u6267\u884c\u547d\u4ee4 <code>scrapy genparse JinRiTouTiao wz parse</code></li> <li><code>JinRiTouTiao</code> \u4e3a\u722c\u866b\u540d\u79f0\uff0c <code>wz</code> \u4e3a\u7f51\u7ad9\u7f29\u5199\uff0c <code>parse</code> \u4ee3\u8868\u521b\u5efa\u5230\u67d0\u76ee\u5f55\u4e0b</li> <li> <p>\u521b\u5efa\u6210\u529f\u5982\u4e0b\u56fe\uff1a</p> </li> <li> <p></p> </li> <li> <p>parse \u6587\u4ef6\u5939\u4e0b\u5c31\u591a\u4e86\u4e00\u4e2a\u722c\u866b\u6587\u4ef6</p> </li> </ul>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#2","title":"2.\u65b0\u589e\u4e00\u6761\u914d\u7f6e\u4fe1\u606f","text":"<ul> <li> <p>\u5199\u5230<code>conf</code>\u6587\u4ef6\u5939\u4e0b\u7684<code>spider.cfg</code>\u4e0b\u9762</p> </li> <li> <p><code>python   toutiao.com = {\"project\": {\"parse_class\": \"True\", \"parse_class_name\": \"JinRiTouTiao\", \"zdy_proxy\": \"True\", \"cdh_filter\": \"False\", \"time_filter\": \"30\"}}</code></p> </li> <li> <p>\u79cd\u5b50\uff1ahttps://www.toutiao.com/api/pc/list/feed?category=pc_profile_article&amp;token=MS4wLjABAAAAaUhxLC10yf766zvPm3RSYweRiaom2ui_ZccXzB1r4vo&amp;max_behot_time=1630138098654</p> </li> <li>\u57df\u540d\uff1a toutiao.com</li> </ul>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#3","title":"3. \u4fee\u6539\u914d\u7f6e","text":"<ul> <li>node_id \u548ccrawler_code\u4e00\u81f4</li> <li></li> </ul>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#4","title":"4. \u722c\u866b\u6587\u4ef6\u89e3\u6790\uff1a","text":"<ul> <li> <p>\u79cd\u5b50\u89e3\u6790\u51fd\u6570\uff0c\u7528\u5904\u7406\u4ece <code>redis</code> \u8bfb\u53d6\u7684\u79cd\u5b50\uff0c\u5904\u7406\u6210\u81ea\u5df1\u9700\u8981\u7684\u683c\u5f0f\uff0c\u4ee5\u5217\u8868\u5f62\u5f0f\u8fd4\u56de </p> </li> <li> <p>\u53ef\u4ee5\u4f7f\u7528\u6b64\u65b9\u6cd5\u91cd\u65b0\u6784\u9020\u79cd\u5b50</p> </li> <li> <p></p> </li> <li> <p>\u79cd\u5b50 <code>url</code> \u8bf7\u6c42\uff0c\u4e5f\u5c31\u662f\u7b2c\u4e00\u6b65\u8bf7\u6c42\uff0c\u83b7\u53d6\u677f\u5757\u4e0b\u9762\u65b0\u95fb\u94fe\u63a5 </p> </li> </ul> <p></p> <ul> <li> <p><code>callback</code> \u56de\u8c03\u51fd\u6570\uff0c\u5177\u4f53\u8c03\u7528\uff0c\u67e5\u770b <code>spider.py</code> \u6587\u4ef6 </p> </li> <li> <p><code>response_handle</code>\u5904\u7406\u7b2c\u4e00\u6b65\u8bf7\u6c42\u54cd\u5e94\u7684\u7ed3\u679c\uff0c\u89e3\u6790\u51fa\u677f\u5757\u4e0b\u65b0\u95fb\u94fe\u63a5</p> </li> </ul> <p></p> <ul> <li>url \u4e3a\u6587\u7ae0\u94fe\u63a5\uff0c\u7528\u6765\u53bb\u91cd </li> <li>published \u4e3a\u6587\u7ae0\u7684\u53d1\u65f6\u95f4\uff0c \u7528\u4e8e\u65f6\u95f4\u8fc7\u6ee4</li> <li> <p>\u6ce8\u610f\uff1a\u8c03\u7528 <code>getDateTime</code> \u5bf9\u65f6\u95f4\u8fdb\u884c\u5904\u7406\uff0c\u8f6c\u6362\u4e3a\u5e38\u89c4\u65f6\u95f4\u683c\u5f0f\uff08 2021-05-26 10:51:57 \uff09 </p> </li> <li> <p>\u8be6\u60c5\u9875\u8bf7\u6c42\uff0c \u5c31\u662f\u5bf9<code>response_handle</code>\u51fd\u6570\u83b7\u53d6\u5230\u7684\u6587\u7ae0\u7684<code>url</code>\u8fdb\u884c\u8bf7\u6c42</p> </li> </ul> <p></p> <ul> <li>\u5982\u679c\u6709\u4e0b\u4e00\u9875\uff0c\u5219\u9700\u8981\u5bf9\u4e0b\u4e00\u9875\u51fd\u6570\u8fdb\u884c\u7f16\u8f91\uff0c\u5728<code>next_page</code>\u51fd\u6570\u4e2d\u6784\u9020\u597d\u4e0b\u4e00\u9875\u94fe\u63a5\u5e76\u8fd4\u56de</li> </ul> <p></p> <ul> <li> <p>\u8bf7\u6c42\u4e0b\u4e00\u9875</p> </li> <li> <p>\u4e0b\u4e00\u9875\u7684\u8bf7\u6c42\u51fd\u6570\uff0c<code>headers</code>\u7b49\u7684\u5904\u7406\uff0c\u8c03\u7528<code>json_parse</code>\u51fd\u6570</p> </li> </ul> <p></p> <ul> <li> <p>\u8be6\u60c5\u9875\u5185\u5bb9\u89e3\u6790\uff0c\u63d0\u53d6\u5b58\u50a8\u5165\u5e93 </p> </li> <li> <p>\u5bf9\u9700\u8981\u63d0\u53d6\u7684\u5b57\u6bb5\uff0c\u4f9d\u6b21\u6dfb\u52a0\u5373\u53ef <code>loader.add_value(key, value)</code></p> </li> </ul> <p></p>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#5","title":"5. \u6267\u884c\u547d\u4ee4\u8fd0\u884c\u722c\u866b","text":"<ul> <li> <p>cmd\u6267\u884c <code>scrapy crawl fpweb_1810</code>,  1810  \u4e3a\u4f60\u7684\u722c\u866b\u6587\u4ef6\u7684\u7f16\u53f7,  \u4e5f\u53ef\u6267\u884c<code>run</code>\u6587\u4ef6</p> </li> <li> <p></p> </li> <li> <p></p> </li> <li> <p>\u4e0a\u8ff0\u6253\u5370\u4e00\u4e9b\u914d\u7f6e\u4fe1\u606f\uff0c\u4ee5\u53ca\u722c\u866b\u7f16\u53f7\uff0c\u79cd\u5b50\u5e93\uff0c\u5e76\u53d1\u6570\u7b49\u7b49 </p> </li> <li> <p>\u6dfb\u52a0\u79cd\u5b50 \u8fd0\u884c\u6587\u4ef6 <code>add_prifile_\u722c\u866b\u540d.py</code>\uff08\u7ebf\u4e0a\u9700\u8981\u72ec\u7acb\u7a0b\u5e8f\uff0c\u4e0d\u65ad\u5f80\u79cd\u5b50\u5e93\u4e2d\u6dfb\u52a0\u79cd\u5b50\uff09 </p> </li> <li> <p>\u79cd\u5b50\u6dfb\u52a0\u6210\u529f\u540e\uff0c\u53ef\u4ee5\u770b\u5230\u5982\u4e0b\u56fe\uff1a </p> </li> <li> <p></p> </li> <li> <p>\u53bb\u91cd\u6548\u679c\uff0c\u5982\u4e0b\u56fe\uff1a </p> <p></p> </li> <li> <p>\u5f53\u6ca1\u6709\u53ef\u6d88\u8017\u7684\u79cd\u5b50\u540e\uff0c\u722c\u866b\u7a0b\u5e8f\u5904\u4e8e\u7b49\u5f85\u4e2d...\uff0c \u5982\u4e0b\u56fe\uff1a </p> <p></p> </li> </ul>"},{"location":"python/%E6%A1%86%E6%9E%B6%E8%AF%B4%E6%98%8E/#end","title":"END","text":""},{"location":"python/%E7%88%AC%E8%99%AB%E8%AE%B0%E5%BD%95/","title":"\u722c\u866b\u8bb0\u5f55","text":""},{"location":"python/%E7%88%AC%E8%99%AB%E8%AE%B0%E5%BD%95/#request","title":"request\u5e93","text":""},{"location":"python/%E7%88%AC%E8%99%AB%E8%AE%B0%E5%BD%95/#_1","title":"\u65b9\u6cd5","text":"<pre><code>responses.content.decode()  # content\uff1a\u83b7\u53d6response\u7684\u4e8c\u8fdb\u5236\u6570\u636e\uff0cdecode\uff1a\u628a\u4e8c\u8fdb\u5236\u6570\u636e\u7f16\u7801\nprint(responses.text)  # \u8f93\u51fatext\u6587\u672c\n\nprint(responses.headers)  # \u83b7\u53d6\u54cd\u5e94\u5934\nprint(responses.request.headers)  # \u83b7\u53d6\u8bf7\u6c42\u5934\n\nprint(type(responses))  # response\u7684\u7f16\u7801\u65b9\u5f0f\nprint(dir(responses))  # \u67e5\u770bresponse\u6709\u54ea\u4e9b\u53ef\u7528\u65b9\u6cd5\nprint(responses.encoding)  # \u67e5\u770b\u5f53\u524d\u7f16\u7801\u65b9\u5f0f\nresponses.encoding = 'uttf-8'  # \u8bbe\u7f6e\u7f16\u7801\u65b9\u5f0f\n</code></pre>"},{"location":"python/%E7%88%AC%E8%99%AB%E8%AE%B0%E5%BD%95/#_2","title":"\u6570\u636e\u63d0\u53d6\u65b9\u6cd5","text":""},{"location":"python/%E7%88%AC%E8%99%AB%E8%AE%B0%E5%BD%95/#1json","title":"1.json\u65b9\u6cd5","text":"<ul> <li>(1). \u5e8f\u5217\u5316(encoding)\u628apython\u5bf9\u8c61\u8f6c\u5316\u4e3ajson\u5b57\u7b26\u4e32(dumps)</li> <li>(2). \u53cd\u5e8f\u5217\u5316(decoding)\u628ajson\u5b57\u7b26\u521b\u8f6c\u5316\u4e3apython\u5bf9\u8c61(loads)</li> <li>(3). load\u548cdump \u628ajson\u6587\u4ef6\u8f6c\u5316\u4e3apython\u5bf9\u8c61/\u628apython\u8f6c\u5316\u4e3ajson\u6587\u4ef6\u5bf9\u8c61</li> </ul> <p>\u5982\u679c\u5728\u6d4f\u89c8\u5668\u4e2d\u80fd\u7528xpath,\u5728\u7a0b\u5e8f\u4e2d\u627e\u4e0d\u5230,\u5c31\u8bf4\u660e\u5f53\u524d\u662f\u7531xpath\u52a8\u6001\u6e32\u67d3\u51fa\u6765\u7684 \u5c31\u9700\u8981\u5728network\u4e2d\u627e\u8bf7\u6c42\u7684json\u6587\u4ef6</p> <ul> <li> <p>\u6570\u636e\u4ea4\u6362\u683c\u5f0f,\u770b\u8d77\u6765\u50cfpython\u7c7b\u578b(\u5217\u8868,\u5b57\u5178 )\u7684\u5b57\u7b26\u4e32</p> <ul> <li>\u4f7f\u7528\u524d\u9700\u8981\u5bfc\u5165json\u5305</li> </ul> </li> <li> <p>\u54ea\u91cc\u4f1a\u8fd4\u56dejson\u7684\u6570\u636e</p> <ul> <li>\u6d4f\u89c8\u5668\u5207\u6362\u6210\u624b\u673a\u7248</li> <li>\u6293\u5305app</li> </ul> </li> <li> <p>(1) json.loads</p> <ul> <li>\u628ajson\u7c7b\u578b\u8f6c\u5316\u6210python\u7c7b\u578b</li> <li><code>json.loads(json\u5b57\u7b26\u4e32)</code></li> </ul> </li> <li> <p>(2) json.dumps</p> <ul> <li>\u628a\u5b57\u5178\u8f6c\u5316\u4e3a\u5b57\u7b26\u4e32</li> <li><code>json.dumps({\"a\":\"1\",\"b\":\"2\")</code></li> <li>\u53ef\u7528\u4e8e\u5199\u5165\u5b57\u5178\u65f6</li> <li>\u5982\u679c\u5f97\u5230\u7684\u662fascii\u7f16\u7801\u7684\u6587\u4ef6,\u5c31\u5728json.dumps\u91cc\u6dfb\u52a0:<ul> <li><code>json.dumps(\"\u8f6c\u6362\u7684\u5185\u5bb9\",ensure_ascii=False,indent=2)</code></li> <li>ensure_ascill=False \u80fd\u4e0d\u4ee5ASCII\u7f16\u7801\u4fdd\u5b58(\u4e2d\u6587\u5c31\u4ee5\u4e2d\u6587\u4fdd\u5b58)</li> <li>indent \u80fd\u8ba9\u4e0b\u4e00\u884c\u5728\u4e0a\u4e00\u884c\u7684\u57fa\u7840\u4e0a\u7a7a\u683c</li> </ul> </li> </ul> </li> </ul>"},{"location":"python/%E7%88%AC%E8%99%AB%E8%AE%B0%E5%BD%95/#_3","title":"\u8c46\u74e3\u6848\u4f8b","text":"<ul> <li>\u7528\u624b\u673a\u7248,\u624b\u673a\u7248\u624d\u662fjs\u7c7b\u578b<ul> <li>\u5728\u627e\u5185\u5bb9\u65f6.\u4e00\u822c\u4e0d\u770bcss\u548cjs\u7684\u6587\u4ef6<ul> <li>\u770bresponse\u6216\u8005preview</li> </ul> </li> </ul> </li> <li>\u63d0\u793a:<ul> <li>\u5728\u8bf7\u6c42\u65f6\u5982\u679c\u62ff\u4e0d\u5230\u6570\u636e\u53ef\u4ee5\u770b\u770b\u662f\u4e0d\u662f\u7f3a\u5c11\u4ec0\u4e48\u53c2\u6570</li> <li>callback\u5b57\u6bb5\u4e00\u822c\u6ca1\u8bbe\u4e48\u7528,\u53ef\u4ee5\u5220\u6389</li> </ul> </li> </ul>"},{"location":"python/%E7%88%AC%E8%99%AB%E8%AE%B0%E5%BD%95/#2xpathlxml","title":"2.xpath\u548clxml","text":"<p>xpath\u7684\u5217\u8868\u53d6\u7b2c0\u4e2a\u5143\u7d20\u5c31\u53ef\u4ee5\u5427\u62ec\u53f7\u53bb\u6389</p> <ul> <li>xpath<ul> <li>\u4e00\u95e8\u4ecehtml\u4e2d\u63d0\u53d6\u7684\u8bed\u8a00</li> </ul> </li> </ul>"},{"location":"python/%E7%88%AC%E8%99%AB%E8%AE%B0%E5%BD%95/#xpath","title":"xpath\u8bed\u6cd5","text":""},{"location":"python/%E7%88%AC%E8%99%AB%E8%AE%B0%E5%BD%95/#xpath_1","title":"xpath\u5de5\u5177:","text":"<ul> <li>XMLQuire : \u5f00\u6e90\u7684XPath\u8868\u8fbe\u5f0f\u7f16\u8f91\u5de5\u5177</li> <li>XPath Helper: \u4f7f\u7528\u4e8eChrome\u6d4f\u89c8\u5668</li> <li>XPath Checker: \u4f7f\u7528\u4e8eFirefox\u6d4f\u89c8\u5668</li> </ul> <ul> <li>xpath helper\u63d2\u4ef6: \u4ece<code>elements</code>\u4e2d\u5b9a\u4f4d\u6570\u636e</li> <li>1.\u9009\u62e9\u8282\u70b9(\u6807\u7b7e)<ul> <li><code>/html/head/meta</code>: \u53ef\u4ee5\u5e2e\u6211\u4eec\u9009\u4e2d<code>html</code>\u4e0b\u9762\u7684\u6240\u6709\u7684<code>meta</code>\u6807\u7b7e</li> </ul> </li> <li>2.<code>//</code>: \u80fd\u4ece\u4efb\u610f\u8282\u70b9\u5f00\u59cb\u9009\u62e9<ul> <li><code>/li</code>: \u53ef\u4ee5\u9009\u4e2d\u5f53\u524d\u9875\u9762\u4e0b\u7684\u6240\u6709\u7684<code>li</code>\u6807\u7b7e</li> <li><code>/html/head/link</code>: \u80fd\u9009\u4e2d<code>head</code>\u4e0b\u9762\u6240\u6709\u7684<code>link</code>\u6807\u7b7e</li> </ul> </li> <li>3.<code>@\u7b26\u53f7\u7684\u7528\u9014</code><ul> <li>\u83b7\u53d6\u5177\u4f53\u67d0\u4e2a\u5143\u7d20: <code>//div[@class='title-box']/a</code><ul> <li>\u9009\u62e9<code>div</code>\u4e0b\u7684<code>class='title-box'</code>\u4e0b\u7684<code>a</code>\u6807\u7b7e</li> </ul> </li> <li><code>a/@href</code>: \u83b7\u53d6\u9009\u62e9<code>a</code>\u7684<code>href</code>\u7684\u503c</li> </ul> </li> <li>4.\u83b7\u53d6\u6587\u672c<ul> <li><code>/a/text()</code>: \u83b7\u53d6<code>a</code>\u4e0b\u7684\u6587\u672c</li> <li><code>/a//text()</code>: \u83b7\u53d6<code>a</code>\u4e0b\u6240\u6709\u7684\u6587\u672c</li> </ul> </li> <li>5.<code>\u4e00\u4e2a\u5c0f\u6570\u70b9/</code>  \u5c31\u662f\u5f53\u524d\u8282\u70b9\\   <code>\u4e24\u4e2a\u5c0f\u6570\u70b9/</code>  \u5c31\u662f\u7236\u7ea7\u8282\u70b9</li> <li>6.<code>//[\u7d22\u5f15]</code> \u7d22\u5f15\u7b5b\u9009 \u4ece1\u5f00\u59cb</li> <li>7.<code>/\u8282\u70b9[\u5185\u7f6e\u51fd\u6570]</code>  \u5185\u7f6e\u51fd\u6570\u7b5b\u9009<ul> <li><code>last</code>  \u6700\u540e\u4e00\u4e2a</li> <li><code>position()</code>  \u4f4d\u7f6e<ul> <li>\u4f8b\u5982<code>//book/[position()&gt;1]</code>\u9009\u62e9\u7d22\u5f15\u5927\u4e8e1\u7684</li> </ul> </li> <li><code>contains()</code> \u5305\u542b\u67d0\u4e00\u4e2a<ul> <li>\u4f8b\u5982<code>//book/[contains(@class,'\u5305\u542b\u7684\u5143\u7d20')]</code></li> </ul> </li> <li><code>start-with</code> \u4ee5\u4ec0\u4e48\u5f00\u59cb\u7684<ul> <li>\u4f8b\u5982<code>//book/[start-with(@class,'\u5305\u542b\u7684\u5143\u7d20')]</code></li> </ul> </li> </ul> </li> <li>8.<code>*</code> \u5339\u914d\u4efb\u4f55\u5143\u7d20\u8282\u70b9<ul> <li><code>@*</code> \u5339\u914d\u4efb\u4f55\u5c5e\u6027\u8282\u70b9</li> <li><code>node</code> \u5339\u914d\u4efb\u4f55\u7c7b\u578b\u8282\u70b9</li> </ul> </li> </ul>"},{"location":"python/%E7%88%AC%E8%99%AB%E8%AE%B0%E5%BD%95/#lxml","title":"lxml","text":"<ul> <li>\u5b89\u88c5 pip install lxml</li> <li>\u4f7f\u7528:</li> </ul> <pre><code>from lxml import etree\n\nelement = etree.HTML(\"html\u5b57\u7b26\u4e32\")\nelement.xpath(\"\u8bed\u6cd5\")\n</code></pre>"},{"location":"python/%E7%88%AC%E8%99%AB%E8%AE%B0%E5%BD%95/#3pyhton-strip","title":"3.pyhton strip\u7528\u6cd5","text":"<ul> <li>strip() \u65b9\u6cd5\u7528\u4e8e\u79fb\u9664\u5b57\u7b26\u4e32\u5934\u5c3e\u6307\u5b9a\u7684\u5b57\u7b26\uff08\u9ed8\u8ba4\u4e3a\u7a7a\u683c\u6216\u6362\u884c\u7b26\uff09\u6216\u5b57\u7b26\u5e8f\u5217\u3002</li> <li> <p>\u6ce8\u610f\uff1a\u8be5\u65b9\u6cd5\u53ea\u80fd\u5220\u9664\u5f00\u5934\u6216\u662f\u7ed3\u5c3e\u7684\u5b57\u7b26\uff0c\u4e0d\u80fd\u5220\u9664\u4e2d\u95f4\u90e8\u5206\u7684\u5b57\u7b26\u3002</p> </li> <li> <p><code>str = \"00000003210Runoob01230000000\";</code>\\    <code>print str.strip( '0' ); # \u53bb\u9664\u9996\u5c3e\u5b57\u7b26 0</code></p> </li> <li> <p><code>str2 = \"     Runoob      \";</code>\\    <code>print str2.strip(); # \u53bb\u9664\u9996\u5c3e\u7a7a\u683c</code></p> </li> <li> <p>\u4f1a\u8f93\u51fa\u4ee5\u4e0b\u7ed3\u679c:</p> </li> <li> <p><code>3210Runoob0123</code></p> </li> <li><code>Runoob</code></li> </ul>"},{"location":"python/%E7%88%AC%E8%99%AB%E8%AE%B0%E5%BD%95/#replace","title":"\u5217\u8868.replace:","text":"<ul> <li>\u66ff\u6362\u5143\u7d20</li> <li>list.replace(\"\u76ee\u6807\u5143\u7d20\",\"\u7ed3\u679c\u5143\u7d20\")</li> </ul>"},{"location":"python/%E7%88%AC%E8%99%AB%E8%AE%B0%E5%BD%95/#_4","title":"\u5217\u8868\u63a8\u5bfc\u5f0f","text":"<ul> <li>\u5e2e\u52a9\u6211\u4eec\u5feb\u901f\u7684\u751f\u6210\u5305\u542b\u4e00\u5806\u6570\u636e\u7684\u5217\u8868   <code>[i+10 for i in range(10)]</code>--&gt;[10,11,12,...19]   <code>[\"10\u6708{}\u65e5\".format(i) for i in range(1,10)]</code> --&gt;[\"10\u67081\u65e5\",\"10\u67082\u65e5\",...\"10\u67089\u65e5\"]</li> </ul>"},{"location":"python/%E7%88%AC%E8%99%AB%E8%AE%B0%E5%BD%95/#_5","title":"\u5b57\u5178\u63a8\u5bfc\u5f0f","text":"<ul> <li>\u5e2e\u52a9\u6211\u4eec\u5feb\u901f\u7684\u751f\u6210\u5305\u542b\u4e00\u5806\u6570\u636e\u7684\u5b57\u5178</li> </ul> <p><code>python {i + 10: i for i in range(10)}  # {10:0,11:1,12:2...19:9} {\"a{}\".format(i): 10 for i in range(3)}  # {\"a0\":10,\"a1\":10,\"a2\":10}</code></p>"},{"location":"python/%E7%88%AC%E8%99%AB%E8%AE%B0%E5%BD%95/#_6","title":"\u4e09\u5143\u8fd0\u7b97\u7b26","text":"<ul> <li>if \u540e\u9762\u7684\u6761\u4ef6\u6210\u7acb,\u5c31\u628aif\u524d\u9762\u7684\u7ed3\u679c\u8d4b\u503c\u7ed9a,\u5426\u5219\u628aelse\u540e\u9762\u7684\u7ed3\u679c\u8d4b\u503c\u7ed9a</li> </ul> <p><code>python a = 10 if 4 &gt; 3 else 20  # a = 10 a = 10 if 4 &lt; 3 else 20  # a =20</code></p>"},{"location":"python/%E7%88%AC%E8%99%AB%E8%AE%B0%E5%BD%95/#3response","title":"3.response\u8bf7\u6c42\u7684\u5e38\u7528\u5c5e\u6027","text":"<ul> <li>\u83b7\u53d6\u54cd\u5e94\u7684\u72b6\u6001\u7801<ul> <li>response.status_code</li> </ul> </li> <li>\u83b7\u53d6\u54cd\u5e94\u5934<ul> <li>response.headers</li> </ul> </li> <li>\u83b7\u53d6\u54cd\u5e94\u5185\u5bb9 -&gt; \u5b57\u7b26\u4e32<ul> <li>response.text</li> </ul> </li> <li>\u83b7\u53d6\u54cd\u5e94\u5185\u5bb9(\u5b57\u8282\u6570\u636e -&gt; \u4e8c\u8fdb\u5236\u6570\u636e)<ul> <li>response.content</li> </ul> </li> </ul>"},{"location":"python/%E9%80%86%E5%90%91-app/","title":"\u9006\u5411 app","text":"<ul> <li>\u5de5\u5177\u4ecb\u7ecd<ul> <li>JADX</li> <li>JEB</li> <li>GDA</li> </ul> </li> <li>Hook<ul> <li>frida<ul> <li>\u5b89\u88c5\uff1a</li> <li>\u4f7f\u7528\uff1a</li> <li>\u7f16\u5199Hook\u811a\u672c</li> </ul> </li> </ul> </li> </ul>"},{"location":"python/%E9%80%86%E5%90%91-app/#_1","title":"\u5de5\u5177\u4ecb\u7ecd","text":"<p>\u53cd\u7f16\u8bd1\u5de5\u5177\u90fd\u9700\u8981 jre\uff0c\u53ef\u4ee5\u9009\u62e9\u76f4\u63a5\u5b89\u88c5jdk(\u5185\u7f6e\u4e86jre)</p>"},{"location":"python/%E9%80%86%E5%90%91-app/#jadx","title":"JADX","text":"<p>\u5c06apk\u5305\u6216\u8005 dex \u6587\u4ef6\u53cd\u7f16\u8bd1\u6210java\u4ee3\u7801</p>"},{"location":"python/%E9%80%86%E5%90%91-app/#jeb","title":"JEB","text":""},{"location":"python/%E9%80%86%E5%90%91-app/#gda","title":"GDA","text":""},{"location":"python/%E9%80%86%E5%90%91-app/#hook","title":"Hook","text":""},{"location":"python/%E9%80%86%E5%90%91-app/#frida","title":"frida","text":"<p>hook \u6846\u67b6\uff0c\u4f7f\u7528python+js\u4ee3\u7801</p>"},{"location":"python/%E9%80%86%E5%90%91-app/#_2","title":"\u5b89\u88c5\uff1a","text":"<ul> <li>PC: frida</li> </ul> <pre><code>pip install frida-16.1.4 frida-tools-12.3.0\n</code></pre> <ul> <li>phone: frida-server 16.1.4\uff08pc\u548cphone\u7684frida\u7248\u672c\u9700\u8981\u4e00\u81f4\uff09</li> </ul> <p>\u67e5\u770b\u7cfb\u7edf\u67b6\u6784\u7c7b\u578b\uff1a<code>adb [-s device_name] shell getprop ro.product.cpu.abi</code></p> <p></p> <pre><code># \u89e3\u538b\u540e\u4f20\u5230\u624b\u673a\u91cc\nadb push .\\frida-server-16.1.4-android-arm64 /data/local/tmp\n# \u4fee\u6539\u4e3a\u53ef\u6267\u884c\u6743\u9650\nadb shell chmod +x /data/local/tmp/frida-server-16.1.4-android-arm64\n</code></pre>"},{"location":"python/%E9%80%86%E5%90%91-app/#_3","title":"\u4f7f\u7528\uff1a","text":"<ul> <li>phone</li> </ul> <p>\u542f\u52a8frida</p> <pre><code>adb shell\nsu -\ncd /data/local/tmp\n./frida-server-16.1.4-android-arm64\n</code></pre> <ul> <li>PC</li> </ul> <p>\u628a\u7535\u8111\u7aeffrida\u7684\u8bf7\u6c42\u8f6c\u53d1\u5230\u624b\u673a\u4e0a</p> <pre><code>adb forward tcp:27042 tcp:27042\nadb forward tcp:27043 tcp:27043\n</code></pre>"},{"location":"python/%E9%80%86%E5%90%91-app/#hook_1","title":"\u7f16\u5199Hook\u811a\u672c","text":"<pre><code>import frida\nimport sys\n\n# \u8fdc\u7a0badb\u8fde\u63a5\u624b\u673a\nrdev = frida.get_remote_device()\n\n# Hook\u624b\u673a\u4e0a\u7684apk\nsession = rdev.attach('com.ss.android.ugc.aweme')\n\nscr = \"\"\"\nJava.perform(function(){\n    // \u8bbe\u7f6eHook\u7684\u7c7b\u540d\n    var UploadContactsApi = Java.use(\"com.ss.android.ugc.aweme.contact.api.UploadContactsApi\")\n\n    // Hook \u66ff\u6362\u7c7b\u540d\u7684\u67d0\u4e00\u4e2a\u65b9\u6cd5\uff0c  implementation \u662f\u56fa\u5b9a\u7684\n    UploadContactsApi.UploadContactsService.implementation = function(arg1, arg2){\n        console.log(arg1, arg2);\n        //\u6267\u884c\u539f\u6765\u7684\u65b9\u6cd5\n        this.UploadContactsService();\n        console.log(666);\n    }\n\n});\n\"\"\"\n\n\ndef on_message(message, data):\n    print(message, data)\n\n\nif __name__ == '__main__':\n    # \u6ce8\u5165\n    scrpit = session.create_script(scr)\n    scrpit.on('message', on_message)\n    # \u52a0\u8f7d\u66ff\u6362\u6ce8\u5165\u7684\u4ee3\u7801\n    scrpit.load()\n    # \u7b49\u5f85\u63a5\u6536\u8f93\u5165\n    sys.stdin.read()\n</code></pre>"},{"location":"python/%E9%80%86%E5%90%91-js/","title":"\u9006\u5411 js","text":"<ul> <li>\u52a0\u5bc6\u65b9\u5f0f</li> <li>\u53cd\u8c03\u8bd5\u57fa\u7840</li> <li>AST<ul> <li>babel<ul> <li>\u5b89\u88c5</li> </ul> </li> </ul> </li> <li>RPC\u901a\u4fe1</li> <li>\u8865\u73af\u5883</li> </ul> <ol> <li>\u8c03\u8bd5</li> </ol> <p>\u641c\u7d22\u76f8\u5173\u5b57\u6bb5\u6216\u8005\u52a0\u5bc6\u56fa\u5b9a\u7684\u6807\u8bc6\u7b26</p> <p>XHR\u8c03\u8bd5</p> <ol> <li> <p>\u6263\u53d6js</p> </li> <li> <p>\u6539\u5199js</p> </li> <li> <p>\u672c\u5730\u8fd0\u884c\u51fa\u503c</p> </li> </ol>"},{"location":"python/%E9%80%86%E5%90%91-js/#_1","title":"\u52a0\u5bc6\u65b9\u5f0f","text":"<p>\u200b   \u53d6\u76d0\u6548\u9a8c\uff0c\u4e0d\u53ef\u9006\uff1a</p> <ul> <li> <p>MD5\u3001MD2\u3001MD4\u3001hmac\uff08\u5e26\u5bc6\u7801\u7684MD5\uff09</p> </li> <li> <p>\u957f\u5ea6\u4e00\u822c\u4e3a16\u4f4d\u300132\u4f4d</p> </li> <li> <p>123456\u7684MD5\uff1a</p> <p>\u200b                      49ba59abbe56e057</p> </li> </ul> <p>\u200b         e10adc3949ba59abbe56e057f20f883e</p> <ul> <li> <p>MD5\u5173\u952e\u8bcd\uff1a123456789</p> </li> <li> <p>sha1\u3001sha256\u3001sha512</p> </li> <li> <p>40\u4f4d\u300164\u4f4d\u3001128\u4f4d</p> </li> <li> <p>123456\u7684sha</p> <p>7c4a8d09ca3762af61e59520943dc26494f8941b</p> </li> </ul> <p>\u5bf9\u79f0\u52a0\u5bc6\uff1a</p> <ul> <li>AES</li> <li>DES</li> <li>3DES</li> </ul> <p>\u975e\u5bf9\u79f0\u52a0\u5bc6\uff1a</p> <p>RSA\uff08\u516c\u94a5\u3001\u79c1\u94a5\uff09\uff0c\u540c\u4e00\u4e2a\u660e\u6587\u53ef\u4ee5\u751f\u6210\u4e0d\u540c\u7684\u5bc6\u6587</p> <p>\u63d2\u6869\uff0c\u5168\u5c40\u5bfc\u51fa\u53d8\u91cf</p> <p></p>"},{"location":"python/%E9%80%86%E5%90%91-js/#_2","title":"\u53cd\u8c03\u8bd5\u57fa\u7840","text":"<ol> <li> <p>\u68c0\u6d4b\u662f\u5426\u5728\u8c03\u8bd5</p> </li> <li> <p>\u952e\u76d8\u76d1\u542c\uff08F12\uff09</p> </li> <li>\u68c0\u6d4b\u6d4f\u89c8\u5668\u5185\u5916\u7684\u9ad8\u5ea6\u5dee\u503c</li> <li>\u68c0\u6d4b\u5f00\u53d1\u8005\u4eba\u5458\u7684\u5de5\u5177\u53d8\u91cf\u662f\u5426\u4e3a true</li> <li>\u5229\u7528console</li> <li>\u5229\u7528\u4ee3\u7801\u65f6\u95f4\u5dee\uff0c\u65f6\u95f4\u5dee\u592a\u5927\u8bf4\u660e\u88ab\u8c03\u8bd5\uff08\u63d2\u88c5\uff09</li> <li>\u5229\u7528toString\u65b9\u6cd5\uff0c\u5728\u4f7f\u7528\u5f00\u53d1\u8005\u5de5\u5177\u65f6\uff0c\u663e\u793a\u7684\u53d8\u91cf\u7684\u5b9e\u9645\u503c\u90fd\u662f\u7528\u4e86toString\u65b9\u6cd5\uff0c\u6765\u5c55\u793a\u7684</li> <li>\u68c0\u6d4b\u6808\u7684\u5c42\u6570 caller</li> <li> <p>\u68c0\u6d4b\u662f\u5426\u4e3a\u975e\u6d4f\u89c8\u5668\u73af\u5883</p> </li> <li> <p>\u663e\u6027\u68c0\u6d4b</p> </li> <li> <p>deggbuer\u8bed\u53e5</p> <ul> <li> <p>\u975e\u865a\u62df\u673a\u68c0\u6d4b</p> </li> <li> <p>\u53ef\u4ee5\u628adebugger\u8bed\u53e5\u53f3\u952e\u8bbe\u7f6e\u4e3afalse</p> </li> <li> <p>\u76f4\u63a5\u66ff\u6362\u4ee3\u7801</p> <p></p> <ul> <li> <p>\u53ef\u4ee5\u4f7f\u7528\u76f4\u63a5\u7f16\u8f91\u6587\u4ef6\u66ff\u6362\uff0c\u6216\u8005\u6d4f\u89c8\u5668\u63d2\u4ef6\u66ff\u6362\uff0c\u6216\u8005\u6cb9\u7334\u63d2\u4ef6</p> </li> <li> <p>\u4ee3\u7406\u66ff\u6362\uff08Fiddler\uff09\uff0c\u6d4f\u89c8\u5668\u8bbe\u7f6e\u4ee3\u7406\u4e3aFiddler</p> </li> </ul> <p></p> </li> <li> <p>\u865a\u62df\u673a\u65b9\u5f0f\u68c0\u6d4b\uff08eval  Function\uff09\u51fd\u6570</p> </li> <li> <p>\u53ef\u4ee5\u901a\u8fc7hook\u65b9\u5f0f\u53bb\u53cd\u8c03</p> <pre><code>// \u5148\u6682\u65f6\u4fdd\u5b58\u539f\u6765\u7684\u53d8\u91cf\uff0c\u7136\u540e\u518dhook\nvar aaa = Function.prototype.constructor\n\nFunction.prototype.constructor = function(x){\n    if (x!='debugger'){  // \u5982\u679c\u4e0d\u662f debugger \u5c31\u8fd4\u56de\u6b63\u5e38\u7684\u903b\u8f91\u51fd\u6570\n        return aaa(x);\n    }\n    return function(){};  // \u5982\u679c\u662f debugger \u5c31\u6267\u884c\u7a7a\u51fd\u6570\n}\n</code></pre> </li> <li> <p>\u4e00\u822c\u7684debugger\u6709\u4ee5\u4e0b\u65b9\u5f0f\uff1a\u6b7b\u5faa\u73af <code>while (true)\u3001 while (1) \u3001while (!false)</code>\u3001for\u5faa\u73af <code>for(;;)</code>\u3001\u65e0\u9650\u9012\u5f52\u3001\u4e24\u4e2a\u65b9\u6cd5\u4e92\u76f8\u8c03\u7528\u3001\u8ba1\u65f6\u5668\uff08\uff09</p> </li> </ul> </li> <li> <p>\u9690\u6027\uff08\u6697\u88c5\uff09</p> </li> </ol> <p>\u5224\u65ad\u662f\u5426\u5728\u8c03\u8bd5\uff0c\u5982\u679c\u5728\u8c03\u8bd5\u5c31\u628a\u4f60\u5f15\u5411\u9519\u8bef \u7684\u903b\u8f91</p>"},{"location":"python/%E9%80%86%E5%90%91-js/#ast","title":"AST","text":""},{"location":"python/%E9%80%86%E5%90%91-js/#babel","title":"babel","text":"<p>\u5b98\u7f51\uff1a https://www.babeljs.cn/docs/</p> <p>\u6587\u6863\uff1ahttps://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/README.md</p>"},{"location":"python/%E9%80%86%E5%90%91-js/#_3","title":"\u5b89\u88c5","text":"<pre><code># -g:\u5168\u5c40\u5b89\u88c5    --save-dev\uff1a\u5b89\u88c5\u5230\u672c\u5730\u8c03\u8bd5\u73af\u5883\nnpm install --save-dev @babel/core @babel/cli @babel/preset-env\n</code></pre> <p>example</p> <pre><code>//\u5c06JS\u6e90\u7801\u8f6c\u6362\u6210\u8bed\u6cd5\u6811\nvar parser = require(\"@babel/parser\");\n//\u4e3aparser\u63d0\u4f9b\u6a21\u677f\u5f15\u64ce\nvar cemplate = require(\"@babel/template\").default;\n//\u8bcd\u5386AST\nvar traverse = require(\"@babel/traverse\").default;\n//\u64cd\u4f5c\u8282\u70b9\uff0c\u6bd4\u5982\u5224\u65ad\u8282\u70b9\u7c7b\u578b,\u751f\u6210\u65b0\u7684\u8282\u70b9\u7b49\nvar t = require(\"@babel/types\");\n\n//\u53ef\u4ee5\u76f4\u63a5\u7528type\u540c\u660e\u2014\u6bb5\u65b0\u7684\u4ee3\u7801//\u5c06\u8bed\u6cd5\u6811\u8f6c\u6362\u4e3a\u6e90\u4ee3\u7801\nvar generator = require(\"@babel/generator\").default;\n\nvar fs = require(\"fs\");\n\nvar jscode = fs.readFileSync(\"read.js\", {\n    encoding: \"utf-8\"\n});\n\nconsole.log(jscode)\n\nvar ast = parser.parse(jscode);\n\nvar traverses = {\n    VariableDeclarator(path){\n        path.node.init = t.stringLiteral(\"\u91cd\u65b0\u8d4b\u503c\")\n    }\n}\n\n// ast\u91cd\u65b0\u8d4b\u503c\ntraverse(ast, traverses)\n\n// \u4eceast\u751f\u6210\u6e90\u4ee3\u7801\nvar new_code = generator(ast);\n\n\nconsole.log(new_code.code)\n</code></pre>"},{"location":"python/%E9%80%86%E5%90%91-js/#rpc","title":"RPC\u901a\u4fe1","text":"<p>\u901a\u8fc7\u5728\u6d4f\u89c8\u5668\u4e2d\u521b\u5efawebsocket\u5bf9\u8c61\uff0c\u4f7f\u7528websocket\u901a\u4fe1\u8c03\u7528\u52a0\u5bc6\u51fd\u6570</p> <p>\u5728\u8c03\u7528\u52a0\u5bc6\u51fd\u6570\u5730\u65b9\u7684\u4e0a\u9762\u63d2\u5165\u4e0b\u9762\u7684\u4ee3\u7801\u5373\u53ef</p> <p>\u4f18\u70b9\uff1a\u4e0d\u7528\u6263 js\u3001\u8865\u73af\u5883\uff0c\u9002\u7528\u4e8e\u590d\u6742\u7684js\u9006\u5411\u4ee3\u7801\u6216\u8005\u6df7\u6dc6\u4ee3\u7801</p> <p>\u7f3a\u70b9\uff1a\u9700\u8981\u4e00\u4e2awin\u7535\u8111\uff0c\u5f00\u4e00\u4e2a\u6d4f\u89c8\u5668\u73af\u5883\u548cwebsocket\u8fdb\u7a0b</p> <pre><code>!(function){\n    window.enc = e;\n\n    var ws = new Websocket(\"ws://127.0.0.1:9999\") // websocket\u670d\u52a1\u7aef\u7684\u5730\u5740\n    ws.onopen = function(evt){\n\n    };\n    ws.onmessage = function(){\n        ws.send(window.enc.RSA.encrypt(evt.data));  // \u8c03\u7528\u52a0\u5bc6\u51fd\u6570\uff0c\u53d1\u9001\u63a5\u6536\u5230\u7684\u52a0\u5bc6\u540e\u7684\u6570\u636e\n    };\n}()\n</code></pre>"},{"location":"python/%E9%80%86%E5%90%91-js/#_4","title":"\u8865\u73af\u5883","text":""},{"location":"python/Py-100Days/","title":"Index","text":""},{"location":"python/Py-100Days/#python-100","title":"Python - 100\u5929\u4ece\u65b0\u624b\u5230\u5927\u5e08","text":"<p>\u4f5c\u8005\uff1a\u9a86\u660a</p> <p>\u8bf4\u660e\uff1a\u6700\u8fd1\u6709\u5f88\u591a\u60f3\u5b66\u4e60Python\u7684\u5c0f\u4f19\u4f34\u7533\u8bf7\u5355\u72ec\u52a0\u6211\u5fae\u4fe1\u548cQQ\uff0c\u56e0\u4e3a\u6211\u81ea\u5df1\u5e73\u65f6\u4e5f\u5f88\u5fd9\uff0c\u6ca1\u529e\u6cd5\u4e00\u4e00\u89e3\u7b54\u5927\u5bb6\u7684\u95ee\u9898\uff0c\u6211\u521b\u5efa\u4e86Python100\u5929\u5b66\u4e60\u4ea4\u6d415\u7fa4\uff08\u4e4b\u524d\u7684\u4e24\u4e2a2000\u4eba\u7fa41\u7fa4\u548c2\u7fa4\u3001\u4e24\u4e2a1000\u4eba\u7fa43\u7fa4\u548c4\u7fa4\u5df2\u7ecf\u5168\u90e8\u6ee1\u5458\uff09\uff0c\u7fa4\u53f7\u4e3a818146347\uff0c\u4e8c\u7ef4\u7801\u5728\u4e0b\u65b9\u3002\u6211\u7684\u540c\u4e8b\u548c\u670b\u53cb\u5f88\u591a\u4e5f\u5728\u8fd9\u4e2a\u7fa4\u91cc\uff0c\u4ed6\u4eec\u90fd\u662f\u4f18\u79c0\u7684Python\u5f00\u53d1\u8005\uff0c\u6709\u4e30\u5bcc\u7684\u5546\u4e1a\u9879\u76ee\u7ecf\u9a8c\uff0c\u6211\u4eec\u5728\u65f6\u95f4\u5145\u8db3\u7684\u65f6\u5019\u4f1a\u53ca\u65f6\u89e3\u7b54\u5927\u5bb6\u7684\u95ee\u9898\uff0c\u800c\u4e14\u4ecePython\u8bed\u8a00\u5165\u95e8\u5230Web\u5e94\u7528\u5f00\u53d1\uff0c\u4ece\u6570\u636e\u5206\u6790\u5230\u673a\u5668\u5b66\u4e60\uff0c\u6bcf\u4e2a\u9886\u57df\u90fd\u6709\u6280\u672f\u5927\u5496\u4e3a\u5927\u5bb6\u89e3\u60d1\u7b54\u7591\u3002\u4ee5\u540e\u6211\u4eec\u4e89\u53d6\u6bcf\u5468\u505a\u4e00\u6b21\u89c6\u9891\u76f4\u64ad\uff0c\u4ee5\u4e13\u9898\u7684\u5f62\u5f0f\u5206\u4eabPython\u5f00\u53d1\u7684\u70b9\u70b9\u6ef4\u6ef4\uff0c\u540c\u65f6\u8fd8\u4f1a\u4e0d\u5b9a\u671f\u7684\u4e3e\u529e\u7ebf\u4e0a\u548c\u7ebf\u4e0b\u7684\u6280\u672f\u4ea4\u6d41\u548c\u5206\u4eab\u6d3b\u52a8\uff0c\u5c0f\u4f19\u4f34\u4eec\u53ef\u4ee5\u52a0\u7fa4\u8fdb\u884c\u4ea4\u6d41\u3002\u611f\u8c22\u5343\u950b\u6559\u80b2Python\u6559\u5b66\u90e8\u5bf9\u672c\u7fa4\u7684\u652f\u6301\u3002</p> <p></p>"},{"location":"python/Py-100Days/#python","title":"Python\u5e94\u7528\u9886\u57df\u548c\u5c31\u4e1a\u5f62\u52bf\u5206\u6790","text":"<p>\u7b80\u5355\u7684\u8bf4\uff0cPython\u662f\u4e00\u4e2a\u201c\u4f18\u96c5\u201d\u3001\u201c\u660e\u786e\u201d\u3001\u201c\u7b80\u5355\u201d\u7684\u7f16\u7a0b\u8bed\u8a00\u3002</p> <ul> <li>\u5b66\u4e60\u66f2\u7ebf\u4f4e\uff0c\u975e\u4e13\u4e1a\u4eba\u58eb\u4e5f\u80fd\u4e0a\u624b</li> <li>\u5f00\u6e90\u7cfb\u7edf\uff0c\u62e5\u6709\u5f3a\u5927\u7684\u751f\u6001\u5708</li> <li>\u89e3\u91ca\u578b\u8bed\u8a00\uff0c\u5b8c\u7f8e\u7684\u5e73\u53f0\u53ef\u79fb\u690d\u6027</li> <li>\u652f\u6301\u9762\u5411\u5bf9\u8c61\u548c\u51fd\u6570\u5f0f\u7f16\u7a0b</li> <li>\u80fd\u591f\u901a\u8fc7\u8c03\u7528C/C++\u4ee3\u7801\u6269\u5c55\u529f\u80fd</li> <li>\u4ee3\u7801\u89c4\u8303\u7a0b\u5ea6\u9ad8\uff0c\u53ef\u8bfb\u6027\u5f3a</li> </ul> <p>\u76ee\u524d\u51e0\u4e2a\u6bd4\u8f83\u6d41\u884c\u7684\u9886\u57df\uff0cPython\u90fd\u6709\u7528\u6b66\u4e4b\u5730\u3002</p> <ul> <li>\u4e91\u57fa\u7840\u8bbe\u65bd - Python / Java / Go</li> <li>DevOps - Python / Shell / Ruby / Go</li> <li>\u7f51\u7edc\u722c\u866b - Python / PHP / C++</li> <li>\u6570\u636e\u5206\u6790\u6316\u6398 - Python / R / Scala / Matlab</li> <li>\u673a\u5668\u5b66\u4e60 - Python / R / Java / Lisp</li> </ul> <p>\u4f5c\u4e3a\u4e00\u540dPython\u5f00\u53d1\u8005\uff0c\u4e3b\u8981\u7684\u5c31\u4e1a\u9886\u57df\u5305\u62ec\uff1a</p> <ul> <li>Python\u670d\u52a1\u5668\u540e\u53f0\u5f00\u53d1 / \u6e38\u620f\u670d\u52a1\u5668\u5f00\u53d1 / \u6570\u636e\u63a5\u53e3\u5f00\u53d1\u5de5\u7a0b\u5e08</li> <li>Python\u81ea\u52a8\u5316\u8fd0\u7ef4\u5de5\u7a0b\u5e08</li> <li>Python\u6570\u636e\u5206\u6790 / \u6570\u636e\u53ef\u89c6\u5316 / \u5927\u6570\u636e\u5de5\u7a0b\u5e08</li> <li>Python\u722c\u866b\u5de5\u7a0b\u5e08</li> <li>Python\u804a\u5929\u673a\u5668\u4eba\u5f00\u53d1 / \u56fe\u50cf\u8bc6\u522b\u548c\u89c6\u89c9\u7b97\u6cd5 / \u6df1\u5ea6\u5b66\u4e60\u5de5\u7a0b\u5e08</li> </ul> <p>\u4e0b\u56fe\u663e\u793a\u4e86\u4e3b\u8981\u57ce\u5e02Python\u62db\u8058\u9700\u6c42\u91cf\u53ca\u85aa\u8d44\u5f85\u9047\u6392\u884c\u699c\uff08\u622a\u6b62\u52302018\u5e745\u6708\uff09\u3002</p> <p></p> <p></p> <p></p> <p>\u7ed9\u521d\u5b66\u8005\u7684\u51e0\u4e2a\u5efa\u8bae\uff1a</p> <ul> <li>Make English as your working language.</li> <li>Practice makes perfect.</li> <li>All experience comes from mistakes.</li> <li>Don't be one of the leeches.</li> <li>Either stand out or kicked out.</li> </ul>"},{"location":"python/Py-100Days/#day0115-python","title":"Day01~15 - Python\u8bed\u8a00\u57fa\u7840","text":""},{"location":"python/Py-100Days/#day01-python","title":"Day01 - \u521d\u8bc6Python","text":"<ul> <li>Python\u7b80\u4ecb - Python\u7684\u5386\u53f2 / Python\u7684\u4f18\u7f3a\u70b9 / Python\u7684\u5e94\u7528\u9886\u57df</li> <li>\u642d\u5efa\u7f16\u7a0b\u73af\u5883 - Windows\u73af\u5883 / Linux\u73af\u5883 / MacOS\u73af\u5883</li> <li>\u4ece\u7ec8\u7aef\u8fd0\u884cPython\u7a0b\u5e8f - DOS\u547d\u4ee4 / Hello, world / print\u51fd\u6570 / \u8fd0\u884c\u7a0b\u5e8f</li> <li>\u4f7f\u7528IDLE - \u4ea4\u4e92\u5f0f\u73af\u5883(REPL) / \u7f16\u5199\u591a\u884c\u4ee3\u7801 / \u8fd0\u884c\u7a0b\u5e8f / \u9000\u51faIDLE</li> <li>\u6ce8\u91ca - \u6ce8\u91ca\u7684\u4f5c\u7528 / \u5355\u884c\u6ce8\u91ca / \u591a\u884c\u6ce8\u91ca</li> </ul>"},{"location":"python/Py-100Days/#day02-","title":"Day02 - \u8bed\u8a00\u5143\u7d20","text":"<ul> <li>\u7a0b\u5e8f\u548c\u8fdb\u5236 - \u6307\u4ee4\u548c\u7a0b\u5e8f / \u51af\u8bfa\u4f9d\u66fc\u673a / \u4e8c\u8fdb\u5236\u548c\u5341\u8fdb\u5236 / \u516b\u8fdb\u5236\u548c\u5341\u516d\u8fdb\u5236</li> <li>\u53d8\u91cf\u548c\u7c7b\u578b - \u53d8\u91cf\u7684\u547d\u540d / \u53d8\u91cf\u7684\u4f7f\u7528 / input\u51fd\u6570 / \u68c0\u67e5\u53d8\u91cf\u7c7b\u578b / \u7c7b\u578b\u8f6c\u6362</li> <li>\u6570\u5b57\u548c\u5b57\u7b26\u4e32 - \u6574\u6570 / \u6d6e\u70b9\u6570 / \u590d\u6570 / \u5b57\u7b26\u4e32 / \u5b57\u7b26\u4e32\u57fa\u672c\u64cd\u4f5c / \u5b57\u7b26\u7f16\u7801</li> <li>\u8fd0\u7b97\u7b26 - \u6570\u5b66\u8fd0\u7b97\u7b26 / \u8d4b\u503c\u8fd0\u7b97\u7b26 / \u6bd4\u8f83\u8fd0\u7b97\u7b26 / \u903b\u8f91\u8fd0\u7b97\u7b26 / \u8eab\u4efd\u8fd0\u7b97\u7b26 / \u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7</li> <li>\u5e94\u7528\u6848\u4f8b - \u534e\u6c0f\u6e29\u5ea6\u8f6c\u6362\u6210\u6444\u6c0f\u6e29\u5ea6 / \u8f93\u5165\u5706\u7684\u534a\u5f84\u8ba1\u7b97\u5468\u957f\u548c\u9762\u79ef / \u8f93\u5165\u5e74\u4efd\u5224\u65ad\u662f\u5426\u662f\u95f0\u5e74</li> </ul>"},{"location":"python/Py-100Days/#day03-","title":"Day03 - \u5206\u652f\u7ed3\u6784","text":"<ul> <li>\u5206\u652f\u7ed3\u6784\u7684\u5e94\u7528\u573a\u666f - \u6761\u4ef6 / \u7f29\u8fdb / \u4ee3\u7801\u5757 / \u6d41\u7a0b\u56fe</li> <li>if\u8bed\u53e5 - \u7b80\u5355\u7684if / if-else\u7ed3\u6784 / if-elif-else\u7ed3\u6784 / \u5d4c\u5957\u7684if</li> <li>\u5e94\u7528\u6848\u4f8b - \u7528\u6237\u8eab\u4efd\u9a8c\u8bc1 / \u82f1\u5236\u5355\u4f4d\u4e0e\u516c\u5236\u5355\u4f4d\u4e92\u6362 / \u63b7\u9ab0\u5b50\u51b3\u5b9a\u505a\u4ec0\u4e48 / \u767e\u5206\u5236\u6210\u7ee9\u8f6c\u7b49\u7ea7\u5236 / \u5206\u6bb5\u51fd\u6570\u6c42\u503c / \u8f93\u5165\u4e09\u6761\u8fb9\u7684\u957f\u5ea6\u5982\u679c\u80fd\u6784\u6210\u4e09\u89d2\u5f62\u5c31\u8ba1\u7b97\u5468\u957f\u548c\u9762\u79ef</li> </ul>"},{"location":"python/Py-100Days/#day04-","title":"Day04 - \u5faa\u73af\u7ed3\u6784","text":"<ul> <li>\u5faa\u73af\u7ed3\u6784\u7684\u5e94\u7528\u573a\u666f - \u6761\u4ef6 / \u7f29\u8fdb / \u4ee3\u7801\u5757 / \u6d41\u7a0b\u56fe</li> <li>while\u5faa\u73af - \u57fa\u672c\u7ed3\u6784 / break\u8bed\u53e5 / continue\u8bed\u53e5</li> <li>for\u5faa\u73af - \u57fa\u672c\u7ed3\u6784 / range\u7c7b\u578b / \u5faa\u73af\u4e2d\u7684\u5206\u652f\u7ed3\u6784 / \u5d4c\u5957\u7684\u5faa\u73af / \u63d0\u524d\u7ed3\u675f\u7a0b\u5e8f </li> <li>\u5e94\u7528\u6848\u4f8b - 1~100\u6c42\u548c / \u5224\u65ad\u7d20\u6570 / \u731c\u6570\u5b57\u6e38\u620f / \u6253\u5370\u4e5d\u4e5d\u8868 / \u6253\u5370\u4e09\u89d2\u5f62\u56fe\u6848 / \u7334\u5b50\u5403\u6843 / \u767e\u94b1\u767e\u9e21</li> </ul>"},{"location":"python/Py-100Days/#day05-","title":"Day05 - \u6784\u9020\u7a0b\u5e8f\u903b\u8f91","text":"<ul> <li>\u57fa\u7840\u7ec3\u4e60 - \u6c34\u4ed9\u82b1\u6570 / \u5b8c\u7f8e\u6570 / \u4e94\u4eba\u5206\u9c7c / Fibonacci\u6570\u5217 / \u56de\u6587\u7d20\u6570 </li> <li>\u7efc\u5408\u7ec3\u4e60 - Craps\u8d4c\u535a\u6e38\u620f</li> </ul>"},{"location":"python/Py-100Days/#day06-","title":"Day06 - \u51fd\u6570\u548c\u6a21\u5757\u7684\u4f7f\u7528","text":"<ul> <li>\u51fd\u6570\u7684\u4f5c\u7528 - \u4ee3\u7801\u7684\u574f\u5473\u9053 / \u7528\u51fd\u6570\u5c01\u88c5\u529f\u80fd\u6a21\u5757</li> <li>\u5b9a\u4e49\u51fd\u6570 - def\u8bed\u53e5 / \u51fd\u6570\u540d / \u53c2\u6570\u5217\u8868 / return\u8bed\u53e5 / \u8c03\u7528\u81ea\u5b9a\u4e49\u51fd\u6570</li> <li>\u8c03\u7528\u51fd\u6570 - Python\u5185\u7f6e\u51fd\u6570 /  \u5bfc\u5165\u6a21\u5757\u548c\u51fd\u6570</li> <li>\u51fd\u6570\u7684\u53c2\u6570 - \u9ed8\u8ba4\u53c2\u6570 / \u53ef\u53d8\u53c2\u6570 / \u5173\u952e\u5b57\u53c2\u6570 / \u547d\u540d\u5173\u952e\u5b57\u53c2\u6570</li> <li>\u51fd\u6570\u7684\u8fd4\u56de\u503c - \u6ca1\u6709\u8fd4\u56de\u503c  / \u8fd4\u56de\u5355\u4e2a\u503c / \u8fd4\u56de\u591a\u4e2a\u503c</li> <li>\u4f5c\u7528\u57df\u95ee\u9898 - \u5c40\u90e8\u4f5c\u7528\u57df / \u5d4c\u5957\u4f5c\u7528\u57df / \u5168\u5c40\u4f5c\u7528\u57df / \u5185\u7f6e\u4f5c\u7528\u57df / \u548c\u4f5c\u7528\u57df\u76f8\u5173\u7684\u5173\u952e\u5b57</li> <li>\u7528\u6a21\u5757\u7ba1\u7406\u51fd\u6570 - \u6a21\u5757\u7684\u6982\u5ff5 / \u7528\u81ea\u5b9a\u4e49\u6a21\u5757\u7ba1\u7406\u51fd\u6570 / \u547d\u540d\u51b2\u7a81\u7684\u65f6\u5019\u4f1a\u600e\u6837\uff08\u540c\u4e00\u4e2a\u6a21\u5757\u548c\u4e0d\u540c\u7684\u6a21\u5757\uff09</li> </ul>"},{"location":"python/Py-100Days/#day07-","title":"Day07 - \u5b57\u7b26\u4e32\u548c\u5e38\u7528\u6570\u636e\u7ed3\u6784","text":"<ul> <li>\u5b57\u7b26\u4e32\u7684\u4f7f\u7528 - \u8ba1\u7b97\u957f\u5ea6 / \u4e0b\u6807\u8fd0\u7b97 / \u5207\u7247 / \u5e38\u7528\u65b9\u6cd5</li> <li>\u5217\u8868\u57fa\u672c\u7528\u6cd5 - \u5b9a\u4e49\u5217\u8868 / \u7528\u4e0b\u8868\u8bbf\u95ee\u5143\u7d20 / \u4e0b\u6807\u8d8a\u754c / \u6dfb\u52a0\u5143\u7d20 / \u5220\u9664\u5143\u7d20 / \u4fee\u6539\u5143\u7d20 / \u5207\u7247 / \u5faa\u73af\u904d\u5386</li> <li>\u5217\u8868\u5e38\u7528\u64cd\u4f5c - \u8fde\u63a5 / \u590d\u5236(\u590d\u5236\u5143\u7d20\u548c\u590d\u5236\u6570\u7ec4) / \u957f\u5ea6 / \u6392\u5e8f / \u5012\u8f6c / \u67e5\u627e</li> <li>\u751f\u6210\u5217\u8868 - \u4f7f\u7528range\u521b\u5efa\u6570\u5b57\u5217\u8868 / \u751f\u6210\u8868\u8fbe\u5f0f / \u751f\u6210\u5668</li> <li>\u5143\u7ec4\u7684\u4f7f\u7528 - \u5b9a\u4e49\u5143\u7ec4 / \u4f7f\u7528\u5143\u7ec4\u4e2d\u7684\u503c / \u4fee\u6539\u5143\u7ec4\u53d8\u91cf / \u5143\u7ec4\u548c\u5217\u8868\u8f6c\u6362</li> <li>\u96c6\u5408\u57fa\u672c\u7528\u6cd5 - \u96c6\u5408\u548c\u5217\u8868\u7684\u533a\u522b /  \u521b\u5efa\u96c6\u5408 / \u6dfb\u52a0\u5143\u7d20 / \u5220\u9664\u5143\u7d20 /  \u6e05\u7a7a</li> <li>\u96c6\u5408\u5e38\u7528\u64cd\u4f5c - \u4ea4\u96c6 / \u5e76\u96c6 / \u5dee\u96c6 / \u5bf9\u79f0\u5dee / \u5b50\u96c6 / \u8d85\u96c6</li> <li>\u5b57\u5178\u7684\u57fa\u672c\u7528\u6cd5 - \u5b57\u5178\u7684\u7279\u70b9 / \u521b\u5efa\u5b57\u5178 / \u6dfb\u52a0\u5143\u7d20 / \u5220\u9664\u5143\u7d20 / \u53d6\u503c / \u6e05\u7a7a</li> <li>\u5b57\u5178\u5e38\u7528\u64cd\u4f5c - keys()\u65b9\u6cd5 / values()\u65b9\u6cd5 / items()\u65b9\u6cd5 / setdefault()\u65b9\u6cd5</li> <li>\u57fa\u7840\u7ec3\u4e60 - \u8dd1\u9a6c\u706f\u6548\u679c / \u5217\u8868\u627e\u6700\u5927\u5143\u7d20 / \u7edf\u8ba1\u8003\u8bd5\u6210\u7ee9\u7684\u5e73\u5747\u5206 / Fibonacci\u6570\u5217 / \u6768\u8f89\u4e09\u89d2</li> <li>\u7efc\u5408\u6848\u4f8b - \u53cc\u8272\u7403\u9009\u53f7 / \u4e95\u5b57\u68cb</li> </ul>"},{"location":"python/Py-100Days/#day08-","title":"Day08 - \u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u57fa\u7840","text":"<ul> <li>\u7c7b\u548c\u5bf9\u8c61 - \u4ec0\u4e48\u662f\u7c7b / \u4ec0\u4e48\u662f\u5bf9\u8c61 / \u9762\u5411\u5bf9\u8c61\u5176\u4ed6\u76f8\u5173\u6982\u5ff5</li> <li>\u5b9a\u4e49\u7c7b - \u57fa\u672c\u7ed3\u6784 / \u5c5e\u6027\u548c\u65b9\u6cd5 / \u6784\u9020\u5668 / \u6790\u6784\u5668 / __str__\u65b9\u6cd5</li> <li>\u4f7f\u7528\u5bf9\u8c61 - \u521b\u5efa\u5bf9\u8c61 / \u7ed9\u5bf9\u8c61\u53d1\u6d88\u606f</li> <li>\u9762\u5411\u5bf9\u8c61\u7684\u56db\u5927\u652f\u67f1 - \u62bd\u8c61 / \u5c01\u88c5 / \u7ee7\u627f / \u591a\u6001</li> <li>\u57fa\u7840\u7ec3\u4e60 - \u5b9a\u4e49\u5b66\u751f\u7c7b / \u5b9a\u4e49\u65f6\u949f\u7c7b / \u5b9a\u4e49\u56fe\u5f62\u7c7b / \u5b9a\u4e49\u6c7d\u8f66\u7c7b</li> </ul>"},{"location":"python/Py-100Days/#day09-","title":"Day09 - \u9762\u5411\u5bf9\u8c61\u8fdb\u9636","text":"<ul> <li>\u5c5e\u6027 - \u7c7b\u5c5e\u6027 / \u5b9e\u4f8b\u5c5e\u6027 / \u5c5e\u6027\u8bbf\u95ee\u5668 / \u5c5e\u6027\u4fee\u6539\u5668 / \u5c5e\u6027\u5220\u9664\u5668 / \u4f7f\u7528__slots__</li> <li>\u7c7b\u4e2d\u7684\u65b9\u6cd5 - \u5b9e\u4f8b\u65b9\u6cd5 / \u7c7b\u65b9\u6cd5 / \u9759\u6001\u65b9\u6cd5</li> <li>\u8fd0\u7b97\u7b26\u91cd\u8f7d - __add__ / __sub__ / __or__ /__getitem__ / __setitem__ / __len__ / __repr__ / __gt__ / __lt__ / __le__ / __ge__ / __eq__ / __ne__ / __contains__ </li> <li>\u7c7b(\u7684\u5bf9\u8c61)\u4e4b\u95f4\u7684\u5173\u7cfb - \u5173\u8054 / \u7ee7\u627f / \u4f9d\u8d56</li> <li>\u7ee7\u627f\u548c\u591a\u6001 - \u4ec0\u4e48\u662f\u7ee7\u627f / \u7ee7\u627f\u7684\u8bed\u6cd5 / \u8c03\u7528\u7236\u7c7b\u65b9\u6cd5 / \u65b9\u6cd5\u91cd\u5199 / \u7c7b\u578b\u5224\u5b9a / \u591a\u91cd\u7ee7\u627f / \u83f1\u5f62\u7ee7\u627f(\u94bb\u77f3\u7ee7\u627f)\u548cC3\u7b97\u6cd5</li> <li>\u7efc\u5408\u6848\u4f8b - \u5de5\u8d44\u7ed3\u7b97\u7cfb\u7edf / \u56fe\u4e66\u81ea\u52a8\u6298\u6263\u7cfb\u7edf / \u81ea\u5b9a\u4e49\u5206\u6570\u7c7b</li> </ul>"},{"location":"python/Py-100Days/#day10-","title":"Day10 - \u56fe\u5f62\u7528\u6237\u754c\u9762\u548c\u6e38\u620f\u5f00\u53d1","text":"<ul> <li>\u4f7f\u7528tkinter\u5f00\u53d1GUI</li> <li>\u4f7f\u7528pygame\u4e09\u65b9\u5e93\u5f00\u53d1\u6e38\u620f\u5e94\u7528</li> <li>\u201c\u5927\u7403\u5403\u5c0f\u7403\u201d\u6e38\u620f</li> </ul>"},{"location":"python/Py-100Days/#day11-","title":"Day11 - \u6587\u4ef6\u548c\u5f02\u5e38","text":"<ul> <li>\u8bfb\u6587\u4ef6 - \u8bfb\u53d6\u6574\u4e2a\u6587\u4ef6 / \u9010\u884c\u8bfb\u53d6 / \u6587\u4ef6\u8def\u5f84</li> <li>\u5199\u6587\u4ef6 - \u8986\u76d6\u5199\u5165 / \u8ffd\u52a0\u5199\u5165 / \u6587\u672c\u6587\u4ef6 / \u4e8c\u8fdb\u5236\u6587\u4ef6</li> <li>\u5f02\u5e38\u5904\u7406 - \u5f02\u5e38\u673a\u5236\u7684\u91cd\u8981\u6027 / try-except\u4ee3\u7801\u5757 / else\u4ee3\u7801\u5757 / finally\u4ee3\u7801\u5757 / \u5185\u7f6e\u5f02\u5e38\u7c7b\u578b / \u5f02\u5e38\u6808 / raise\u8bed\u53e5</li> <li>\u6570\u636e\u6301\u4e45\u5316 - CSV\u6587\u4ef6\u6982\u8ff0 / csv\u6a21\u5757\u7684\u5e94\u7528 / JSON\u6570\u636e\u683c\u5f0f / json\u6a21\u5757\u7684\u5e94\u7528</li> <li>\u7efc\u5408\u6848\u4f8b - \u6b4c\u8bcd\u89e3\u6790</li> </ul>"},{"location":"python/Py-100Days/#day12-","title":"Day12 - \u5b57\u7b26\u4e32\u548c\u6b63\u5219\u8868\u8fbe\u5f0f","text":"<ul> <li>\u5b57\u7b26\u4e32\u9ad8\u7ea7\u64cd\u4f5c - \u8f6c\u4e49\u5b57\u7b26  \u539f\u59cb\u5b57\u7b26\u4e32  \u591a\u884c\u5b57\u7b26\u4e32  in\u548c not in\u8fd0\u7b97\u7b26  is\u5f00\u5934\u7684\u65b9\u6cd5  join\u548csplit\u65b9\u6cd5  strip\u76f8\u5173\u65b9\u6cd5  pyperclip\u6a21\u5757  \u4e0d\u53d8\u5b57\u7b26\u4e32\u548c\u53ef\u53d8\u5b57\u7b26\u4e32  StringIO\u7684\u4f7f\u7528</li> <li>\u6b63\u5219\u8868\u8fbe\u5f0f\u5165\u95e8 - \u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u4f5c\u7528  \u5143\u5b57\u7b26  \u8f6c\u4e49  \u91cf\u8bcd  \u5206\u7ec4  \u96f6\u5bbd\u65ad\u8a00 \\\u8d2a\u5a6a\u5339\u914d\u4e0e\u60f0\u6027\u5339\u914d\u61d2\u60f0  \u4f7f\u7528re\u6a21\u5757\u5b9e\u73b0\u6b63\u5219\u8868\u8fbe\u5f0f\u64cd\u4f5c\uff08\u5339\u914d\u3001\u641c\u7d22\u3001\u66ff\u6362\u3001\u6355\u83b7\uff09</li> <li>\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f - re\u6a21\u5757  compile\u51fd\u6570  group\u548cgroups\u65b9\u6cd5  match\u65b9\u6cd5  search\u65b9\u6cd5  findall\u548cfinditer\u65b9\u6cd5  sub\u548csubn\u65b9\u6cd5  split\u65b9\u6cd5</li> <li>\u5e94\u7528\u6848\u4f8b - \u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u9a8c\u8bc1\u8f93\u5165\u7684\u5b57\u7b26\u4e32</li> </ul>"},{"location":"python/Py-100Days/#day13-","title":"Day13 - \u8fdb\u7a0b\u548c\u7ebf\u7a0b","text":"<ul> <li>\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u6982\u5ff5 - \u4ec0\u4e48\u662f\u8fdb\u7a0b / \u4ec0\u4e48\u662f\u7ebf\u7a0b / \u591a\u7ebf\u7a0b\u7684\u5e94\u7528\u573a\u666f</li> <li>\u4f7f\u7528\u8fdb\u7a0b - fork\u51fd\u6570 / multiprocessing\u6a21\u5757 / \u8fdb\u7a0b\u6c60 / \u8fdb\u7a0b\u95f4\u901a\u4fe1</li> <li>\u4f7f\u7528\u7ebf\u7a0b - thread\u6a21\u5757 / threading\u6a21\u5757 / Thread\u7c7b / Lock\u7c7b / Condition\u7c7b / \u7ebf\u7a0b\u6c60</li> </ul>"},{"location":"python/Py-100Days/#day14-","title":"Day14 - \u7f51\u7edc\u7f16\u7a0b\u5165\u95e8\u548c\u7f51\u7edc\u5e94\u7528\u5f00\u53d1","text":"<ul> <li>\u8ba1\u7b97\u673a\u7f51\u7edc\u57fa\u7840 - \u8ba1\u7b97\u673a\u7f51\u7edc\u53d1\u5c55\u53f2 / \u201cTCP-IP\u201d\u6a21\u578b / IP\u5730\u5740 / \u7aef\u53e3 / \u534f\u8bae / \u5176\u4ed6\u76f8\u5173\u6982\u5ff5</li> <li>\u7f51\u7edc\u5e94\u7528\u67b6\u6784 - \u201c\u5ba2\u6237\u7aef-\u670d\u52a1\u5668\u201d\u67b6\u6784 / \u201c\u6d4f\u89c8\u5668-\u670d\u52a1\u5668\u201d\u67b6\u6784</li> <li> <p>Python\u7f51\u7edc\u7f16\u7a0b - \u5957\u63a5\u5b57\u7684\u6982\u5ff5 / socket\u6a21\u5757 /  socket\u51fd\u6570 / \u521b\u5efaTCP\u670d\u52a1\u5668 / \u521b\u5efaTCP\u5ba2\u6237\u7aef / \u521b\u5efaUDP\u670d\u52a1\u5668 / \u521b\u5efaUDP\u5ba2\u6237\u7aef / SocketServer\u6a21\u5757</p> </li> <li> <p>\u8bbf\u95ee\u7f51\u7edcAPI - \u7f51\u7edcAPI\u6982\u8ff0 / \u8bbf\u95eeURL / requests\u6a21\u5757 / \u89e3\u6790JSON\u683c\u5f0f\u6570\u636e</p> </li> <li>\u6587\u4ef6\u4f20\u8f93 - FTP\u534f\u8bae / ftplib\u6a21\u5757 / \u4ea4\u4e92\u5f0fFTP\u5e94\u7528</li> <li>\u7535\u5b50\u90ae\u4ef6 - SMTP\u534f\u8bae / POP3\u534f\u8bae / IMAP\u534f\u8bae / smtplib\u6a21\u5757 / poplib\u6a21\u5757 / imaplib\u6a21\u5757</li> <li>\u77ed\u4fe1\u670d\u52a1 - twilio\u6a21\u5757 / \u56fd\u5185\u7684\u77ed\u4fe1\u670d\u52a1</li> </ul>"},{"location":"python/Py-100Days/#day15-","title":"Day15 - \u56fe\u50cf\u548c\u6587\u6863\u5904\u7406","text":"<ul> <li>\u7528Pillow\u5904\u7406\u56fe\u7247 - \u56fe\u7247\u8bfb\u5199 / \u56fe\u7247\u5408\u6210 / \u51e0\u4f55\u53d8\u6362 / \u8272\u5f69\u8f6c\u6362 / \u6ee4\u955c\u6548\u679c</li> <li>\u8bfb\u5199Word\u6587\u6863 - \u6587\u672c\u5185\u5bb9\u7684\u5904\u7406 / \u6bb5\u843d / \u9875\u7709\u548c\u9875\u811a / \u6837\u5f0f\u7684\u5904\u7406</li> <li>\u8bfb\u5199Excel\u6587\u4ef6 - xlrd\u6a21\u5757 / xlwt\u6a21\u5757</li> <li>\u751f\u6210PDF\u6587\u4ef6 - pypdf2\u6a21\u5757 / reportlab\u6a21\u5757</li> </ul>"},{"location":"python/Py-100Days/#day16day20-python","title":"Day16~Day20 - Python\u8bed\u8a00\u8fdb\u9636","text":"<ul> <li>\u5e38\u7528\u6570\u636e\u7ed3\u6784</li> <li>\u51fd\u6570\u7684\u9ad8\u7ea7\u7528\u6cd5 - \u201c\u4e00\u7b49\u516c\u6c11\u201d / \u9ad8\u9636\u51fd\u6570 / Lambda\u51fd\u6570 / \u4f5c\u7528\u57df\u548c\u95ed\u5305 / \u88c5\u9970\u5668</li> <li>\u9762\u5411\u5bf9\u8c61\u9ad8\u7ea7\u77e5\u8bc6 - \u201c\u4e09\u5927\u652f\u67f1\u201d / \u7c7b\u4e0e\u7c7b\u4e4b\u95f4\u7684\u5173\u7cfb / \u5783\u573e\u56de\u6536 / \u9b54\u672f\u5c5e\u6027\u548c\u65b9\u6cd5 / \u6df7\u5165 / \u5143\u7c7b / \u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u539f\u5219 / GoF\u8bbe\u8ba1\u6a21\u5f0f</li> <li>\u8fed\u4ee3\u5668\u548c\u751f\u6210\u5668 - \u76f8\u5173\u9b54\u672f\u65b9\u6cd5 / \u521b\u5efa\u751f\u6210\u5668\u7684\u4e24\u79cd\u65b9\u5f0f / </li> <li>\u5e76\u53d1\u548c\u5f02\u6b65\u7f16\u7a0b - \u591a\u7ebf\u7a0b / \u591a\u8fdb\u7a0b / \u5f02\u6b65IO / async\u548cawait</li> </ul>"},{"location":"python/Py-100Days/#day2130-web","title":"Day21~30 - Web\u524d\u7aef\u5165\u95e8","text":"<ul> <li>\u7528HTML\u6807\u7b7e\u627f\u8f7d\u9875\u9762\u5185\u5bb9</li> <li>\u7528CSS\u6e32\u67d3\u9875\u9762</li> <li>\u7528JavaScript\u5904\u7406\u4ea4\u4e92\u5f0f\u884c\u4e3a</li> <li>jQuery\u5165\u95e8\u548c\u63d0\u9ad8</li> <li>Vue.js\u5165\u95e8</li> <li>Element\u7684\u4f7f\u7528</li> <li>Bootstrap\u7684\u4f7f\u7528</li> </ul>"},{"location":"python/Py-100Days/#day3135-linux","title":"Day31~35 - \u73a9\u8f6cLinux\u64cd\u4f5c\u7cfb\u7edf","text":"<ul> <li>\u64cd\u4f5c\u7cfb\u7edf\u53d1\u5c55\u53f2\u548cLinux\u6982\u8ff0</li> <li>Linux\u57fa\u7840\u547d\u4ee4</li> <li>Linux\u4e2d\u7684\u5b9e\u7528\u7a0b\u5e8f</li> <li>Linux\u7684\u6587\u4ef6\u7cfb\u7edf</li> <li>Vim\u7f16\u8f91\u5668\u7684\u5e94\u7528</li> <li>\u73af\u5883\u53d8\u91cf\u548cShell\u7f16\u7a0b</li> <li>\u8f6f\u4ef6\u7684\u5b89\u88c5\u548c\u670d\u52a1\u7684\u914d\u7f6e</li> <li>\u7f51\u7edc\u8bbf\u95ee\u548c\u7ba1\u7406</li> <li>\u5176\u4ed6\u76f8\u5173\u5185\u5bb9</li> </ul>"},{"location":"python/Py-100Days/#day3640-","title":"Day36~40 - \u6570\u636e\u5e93\u57fa\u7840\u548c\u8fdb\u9636","text":"<ul> <li>\u5173\u7cfb\u578b\u6570\u636e\u5e93MySQL</li> <li>\u5173\u7cfb\u578b\u6570\u636e\u5e93\u6982\u8ff0</li> <li>MySQL\u7684\u5b89\u88c5\u548c\u4f7f\u7528</li> <li>SQL\u7684\u4f7f\u7528<ul> <li>DDL - \u6570\u636e\u5b9a\u4e49\u8bed\u8a00 - create / drop / alter</li> <li>DML - \u6570\u636e\u64cd\u4f5c\u8bed\u8a00 - insert / delete / update / select</li> <li>DCL - \u6570\u636e\u63a7\u5236\u8bed\u8a00 - grant / revoke</li> </ul> </li> <li>\u76f8\u5173\u77e5\u8bc6<ul> <li>\u8303\u5f0f\u7406\u8bba - \u8bbe\u8ba1\u4e8c\u7ef4\u8868\u7684\u6307\u5bfc\u601d\u60f3</li> <li>\u6570\u636e\u5b8c\u6574\u6027</li> <li>\u6570\u636e\u4e00\u81f4\u6027</li> </ul> </li> <li>\u5728Python\u4e2d\u64cd\u4f5cMySQL</li> <li>NoSQL\u5165\u95e8</li> <li>NoSQL\u6982\u8ff0</li> <li>Redis\u6982\u8ff0</li> <li>Mongo\u6982\u8ff0</li> </ul>"},{"location":"python/Py-100Days/#day4155-django","title":"Day41~55 - \u5b9e\u6218Django","text":""},{"location":"python/Py-100Days/#day41-","title":"Day41 - \u5feb\u901f\u4e0a\u624b","text":"<ul> <li>Web\u5e94\u7528\u5de5\u4f5c\u539f\u7406\u548cHTTP\u534f\u8bae</li> <li>Django\u6846\u67b6\u6982\u8ff0</li> <li>5\u5206\u949f\u5feb\u901f\u4e0a\u624b</li> <li>\u4f7f\u7528\u89c6\u56fe\u6a21\u677f</li> </ul>"},{"location":"python/Py-100Days/#day42-","title":"Day42 - \u6df1\u5165\u6a21\u578b","text":"<ul> <li>\u5173\u7cfb\u578b\u6570\u636e\u5e93\u914d\u7f6e</li> <li>\u7ba1\u7406\u540e\u53f0\u7684\u4f7f\u7528</li> <li>\u4f7f\u7528ORM\u5b8c\u6210\u5bf9\u6a21\u578b\u7684CRUD\u64cd\u4f5c</li> <li>Django\u6a21\u578b\u6700\u4f73\u5b9e\u8df5</li> <li>\u6a21\u578b\u5b9a\u4e49\u53c2\u8003</li> </ul>"},{"location":"python/Py-100Days/#day43-ajax","title":"Day43 - \u9759\u6001\u8d44\u6e90\u548cAjax\u8bf7\u6c42","text":"<ul> <li>\u52a0\u8f7d\u9759\u6001\u8d44\u6e90</li> <li>\u7528Ajax\u8bf7\u6c42\u83b7\u53d6\u6570\u636e</li> </ul>"},{"location":"python/Py-100Days/#day44-","title":"Day44 - \u8868\u5355\u7684\u5e94\u7528","text":"<ul> <li>\u8868\u5355\u548c\u8868\u5355\u63a7\u4ef6</li> <li>\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\u548cCSRF\u4ee4\u724c</li> <li>Form\u548cModelForm</li> <li>\u8868\u5355\u9a8c\u8bc1</li> </ul>"},{"location":"python/Py-100Days/#day45-cookiesession","title":"Day45 - Cookie\u548cSession","text":"<ul> <li>\u5b9e\u73b0\u7528\u6237\u8ddf\u8e2a</li> <li>cookie\u548csession\u7684\u5173\u7cfb</li> <li>Django\u6846\u67b6\u5bf9session\u7684\u652f\u6301</li> <li>\u89c6\u56fe\u51fd\u6570\u4e2d\u7684cookie\u8bfb\u5199\u64cd\u4f5c</li> </ul>"},{"location":"python/Py-100Days/#day46-","title":"Day46 - \u4e2d\u95f4\u4ef6\u7684\u5e94\u7528","text":"<ul> <li>\u4ec0\u4e48\u662f\u4e2d\u95f4\u4ef6</li> <li>Django\u6846\u67b6\u5185\u7f6e\u7684\u4e2d\u95f4\u4ef6</li> <li>\u81ea\u5b9a\u4e49\u4e2d\u95f4\u4ef6\u53ca\u5176\u5e94\u7528\u573a\u666f</li> </ul>"},{"location":"python/Py-100Days/#day47-","title":"Day47 - \u65e5\u5fd7\u548c\u8c03\u8bd5","text":"<ul> <li>\u914d\u7f6e\u65e5\u5fd7</li> <li>\u914d\u7f6e\u548c\u4f7f\u7528Django-Debug-Toolbar</li> </ul>"},{"location":"python/Py-100Days/#day48-","title":"Day48 - \u6587\u4ef6\u4e0a\u4f20\u548c\u5bcc\u6587\u672c\u7f16\u8f91","text":"<ul> <li>\u6587\u4ef6\u4e0a\u4f20\u8868\u5355\u63a7\u4ef6\u548c\u56fe\u7247\u6587\u4ef6\u9884\u89c8</li> <li>\u670d\u52a1\u5668\u7aef\u5982\u4f55\u5904\u7406\u4e0a\u4f20\u7684\u6587\u4ef6</li> <li>\u5bcc\u6587\u672c\u7f16\u8f91\u5668\u6982\u8ff0</li> <li>wangEditor\u7684\u4f7f\u7528</li> </ul>"},{"location":"python/Py-100Days/#day49-","title":"Day49 - \u6587\u4ef6\u4e0b\u8f7d\u548c\u62a5\u8868","text":"<ul> <li>\u901a\u8fc7HttpResponse\u4fee\u6539\u54cd\u5e94\u5934</li> <li>\u4f7f\u7528StreamingHttpResponse\u5904\u7406\u5927\u6587\u4ef6</li> <li>\u4f7f\u7528xlwt\u751f\u6210Excel\u62a5\u8868</li> <li>\u4f7f\u7528reportlab\u751f\u6210PDF\u62a5\u8868</li> <li>\u4f7f\u7528ECharts\u751f\u6210\u524d\u7aef\u56fe\u8868</li> </ul>"},{"location":"python/Py-100Days/#day50-restfuldrf","title":"Day50 - RESTful\u67b6\u6784\u548cDRF\u5165\u95e8","text":""},{"location":"python/Py-100Days/#day51-restfuldrf","title":"Day51 - RESTful\u67b6\u6784\u548cDRF\u8fdb\u9636","text":""},{"location":"python/Py-100Days/#day52-","title":"Day52 - \u4f7f\u7528\u7f13\u5b58","text":"<ul> <li> <p>\u7f51\u7ad9\u4f18\u5316\u7b2c\u4e00\u5b9a\u5f8b</p> </li> <li> <p>\u5728Django\u9879\u76ee\u4e2d\u4f7f\u7528Redis\u63d0\u4f9b\u7f13\u5b58\u670d\u52a1</p> </li> <li>\u5728\u89c6\u56fe\u51fd\u6570\u4e2d\u8bfb\u5199\u7f13\u5b58</li> <li>\u4f7f\u7528\u88c5\u9970\u5668\u5b9e\u73b0\u9875\u9762\u7f13\u5b58</li> <li>\u4e3a\u6570\u636e\u63a5\u53e3\u63d0\u4f9b\u7f13\u5b58\u670d\u52a1</li> </ul>"},{"location":"python/Py-100Days/#day53-","title":"Day53 - \u77ed\u4fe1\u548c\u90ae\u4ef6","text":"<ul> <li>\u5e38\u7528\u77ed\u4fe1\u7f51\u5173\u5e73\u53f0\u4ecb\u7ecd</li> <li>\u4f7f\u7528\u87ba\u4e1d\u5e3d\u53d1\u9001\u77ed\u4fe1</li> <li>Django\u6846\u67b6\u5bf9\u90ae\u4ef6\u670d\u52a1\u7684\u652f\u6301</li> </ul>"},{"location":"python/Py-100Days/#day54-","title":"Day54 - \u5f02\u6b65\u4efb\u52a1\u548c\u5b9a\u65f6\u4efb\u52a1","text":"<ul> <li>\u7f51\u7ad9\u4f18\u5316\u7b2c\u4e8c\u5b9a\u5f8b</li> <li>\u914d\u7f6e\u6d88\u606f\u961f\u5217\u670d\u52a1</li> <li>\u5728\u9879\u76ee\u4e2d\u4f7f\u7528celery\u5b9e\u73b0\u4efb\u52a1\u5f02\u6b65\u5316</li> <li>\u5728\u9879\u76ee\u4e2d\u4f7f\u7528celery\u5b9e\u73b0\u5b9a\u65f6\u4efb\u52a1</li> </ul>"},{"location":"python/Py-100Days/#day55-","title":"Day55 - \u5355\u5143\u6d4b\u8bd5\u548c\u9879\u76ee\u4e0a\u7ebf","text":"<ul> <li>Python\u4e2d\u7684\u5355\u5143\u6d4b\u8bd5</li> <li>Django\u6846\u67b6\u5bf9\u5355\u5143\u6d4b\u8bd5\u7684\u652f\u6301</li> <li>\u4f7f\u7528\u7248\u672c\u63a7\u5236\u7cfb\u7edf</li> <li>\u914d\u7f6e\u548c\u4f7f\u7528uWSGI</li> <li>\u52a8\u9759\u5206\u79bb\u548cNginx\u914d\u7f6e</li> <li>\u914d\u7f6eHTTPS</li> </ul>"},{"location":"python/Py-100Days/#day5660-flask","title":"Day56~60 - \u5b9e\u6218Flask","text":""},{"location":"python/Py-100Days/#day56-flask","title":"Day56 - Flask\u5165\u95e8","text":""},{"location":"python/Py-100Days/#day57-","title":"Day57 - \u6a21\u677f\u7684\u4f7f\u7528","text":""},{"location":"python/Py-100Days/#day58-","title":"Day58 - \u8868\u5355\u7684\u5904\u7406","text":""},{"location":"python/Py-100Days/#day59-","title":"Day59 - \u6570\u636e\u5e93\u64cd\u4f5c","text":""},{"location":"python/Py-100Days/#day60-","title":"Day60 - \u9879\u76ee\u5b9e\u6218","text":""},{"location":"python/Py-100Days/#day6165-tornado","title":"Day61~65 - \u5b9e\u6218Tornado","text":""},{"location":"python/Py-100Days/#day61-","title":"Day61 - \u9884\u5907\u77e5\u8bc6","text":"<ul> <li>\u5e76\u53d1\u7f16\u7a0b</li> <li>I/O\u6a21\u5f0f\u548c\u4e8b\u4ef6\u9a71\u52a8</li> </ul>"},{"location":"python/Py-100Days/#day62-tornado","title":"Day62 - Tornado\u5165\u95e8","text":"<ul> <li>Tornado\u6982\u8ff0</li> <li>5\u5206\u949f\u4e0a\u624bTornado</li> <li>\u8def\u7531\u89e3\u6790</li> <li>\u8bf7\u6c42\u5904\u7406\u5668</li> </ul>"},{"location":"python/Py-100Days/#day63-","title":"Day63 - \u5f02\u6b65\u5316","text":"<ul> <li>aiomysql\u548caioredis\u7684\u4f7f\u7528</li> </ul>"},{"location":"python/Py-100Days/#day64-websocket","title":"Day64 - WebSocket\u7684\u5e94\u7528","text":"<ul> <li>WebSocket\u7b80\u4ecb</li> <li>WebSocket\u670d\u52a1\u5668\u7aef\u7f16\u7a0b</li> <li>WebSocket\u5ba2\u6237\u7aef\u7f16\u7a0b</li> <li>\u9879\u76ee\uff1aWeb\u804a\u5929\u5ba4</li> </ul>"},{"location":"python/Py-100Days/#day65-","title":"Day65 - \u9879\u76ee\u5b9e\u6218","text":"<ul> <li>\u524d\u540e\u7aef\u5206\u79bb\u5f00\u53d1\u548c\u63a5\u53e3\u6587\u6863\u7684\u64b0\u5199</li> <li>\u4f7f\u7528Vue.js\u5b9e\u73b0\u524d\u7aef\u6e32\u67d3</li> <li>\u4f7f\u7528ECharts\u5b9e\u73b0\u62a5\u8868\u529f\u80fd</li> <li>\u4f7f\u7528WebSocket\u5b9e\u73b0\u63a8\u9001\u670d\u52a1</li> </ul>"},{"location":"python/Py-100Days/#day6675-","title":"Day66~75 - \u722c\u866b\u5f00\u53d1","text":""},{"location":"python/Py-100Days/#day66-","title":"Day66 - \u7f51\u7edc\u722c\u866b\u548c\u76f8\u5173\u5de5\u5177","text":""},{"location":"python/Py-100Days/#day67-","title":"Day67 - \u6570\u636e\u91c7\u96c6\u548c\u89e3\u6790","text":""},{"location":"python/Py-100Days/#day68-","title":"Day68 - \u5b58\u50a8\u6570\u636e","text":""},{"location":"python/Py-100Days/#day69-","title":"Day69 - \u5e76\u53d1\u4e0b\u8f7d","text":""},{"location":"python/Py-100Days/#day70-","title":"Day70 - \u89e3\u6790\u52a8\u6001\u5185\u5bb9","text":""},{"location":"python/Py-100Days/#day71-","title":"Day71 - \u8868\u5355\u4ea4\u4e92\u548c\u9a8c\u8bc1\u7801\u5904\u7406","text":""},{"location":"python/Py-100Days/#day72-scrapy","title":"Day72 - Scrapy\u5165\u95e8","text":""},{"location":"python/Py-100Days/#day73-scrapy","title":"Day73 - Scrapy\u9ad8\u7ea7\u5e94\u7528","text":""},{"location":"python/Py-100Days/#day74-scrapy","title":"Day74 - Scrapy\u5206\u5e03\u5f0f\u5b9e\u73b0","text":""},{"location":"python/Py-100Days/#day75-","title":"Day75 - \u722c\u866b\u9879\u76ee\u5b9e\u6218","text":""},{"location":"python/Py-100Days/#day7690-","title":"Day76~90 - \u6570\u636e\u5904\u7406\u548c\u673a\u5668\u5b66\u4e60","text":""},{"location":"python/Py-100Days/#day76-","title":"Day76 - \u673a\u5668\u5b66\u4e60\u57fa\u7840","text":""},{"location":"python/Py-100Days/#day77-pandas","title":"Day77 - Pandas\u7684\u5e94\u7528","text":""},{"location":"python/Py-100Days/#day78-numpyscipy","title":"Day78 - NumPy\u548cSciPy\u7684\u5e94\u7528","text":""},{"location":"python/Py-100Days/#day79-matplotlib","title":"Day79 - Matplotlib\u548c\u6570\u636e\u53ef\u89c6\u5316","text":""},{"location":"python/Py-100Days/#day80-kknn","title":"Day80 - k\u6700\u8fd1\u90bb(KNN)\u5206\u7c7b","text":""},{"location":"python/Py-100Days/#day81-","title":"Day81 - \u51b3\u7b56\u6811","text":""},{"location":"python/Py-100Days/#day82-","title":"Day82 - \u8d1d\u53f6\u65af\u5206\u7c7b","text":""},{"location":"python/Py-100Days/#day83-svm","title":"Day83 - \u652f\u6301\u5411\u91cf\u673a(SVM)","text":""},{"location":"python/Py-100Days/#day84-k-","title":"Day84 - K-\u5747\u503c\u805a\u7c7b","text":""},{"location":"python/Py-100Days/#day85-","title":"Day85 - \u56de\u5f52\u5206\u6790","text":""},{"location":"python/Py-100Days/#day86-","title":"Day86 - \u5927\u6570\u636e\u5206\u6790\u5165\u95e8","text":""},{"location":"python/Py-100Days/#day87-","title":"Day87 - \u5927\u6570\u636e\u5206\u6790\u8fdb\u9636","text":""},{"location":"python/Py-100Days/#day88-tensorflow","title":"Day88 - Tensorflow\u5165\u95e8","text":""},{"location":"python/Py-100Days/#day89-tensorflow","title":"Day89 - Tensorflow\u5b9e\u6218","text":""},{"location":"python/Py-100Days/#day90-","title":"Day90 - \u63a8\u8350\u7cfb\u7edf","text":""},{"location":"python/Py-100Days/#day91100-","title":"Day91~100 - \u56e2\u961f\u9879\u76ee\u5f00\u53d1","text":""},{"location":"python/Py-100Days/#91","title":"\u7b2c91\u5929\uff1a\u56e2\u961f\u9879\u76ee\u5f00\u53d1\u51c6\u5907","text":"<ol> <li>\u8f6f\u4ef6\u8fc7\u7a0b\u6a21\u578b</li> <li>\u7ecf\u5178\u8fc7\u7a0b\u6a21\u578b\uff08\u7011\u5e03\u6a21\u578b\uff09<ul> <li>\u53ef\u884c\u6027\u5206\u6790\uff08\u7814\u7a76\u505a\u8fd8\u662f\u4e0d\u505a\uff09\uff0c\u8f93\u51fa\u300a\u53ef\u884c\u6027\u5206\u6790\u62a5\u544a\u300b\u3002</li> <li>\u9700\u6c42\u5206\u6790\uff08\u7814\u7a76\u505a\u4ec0\u4e48\uff09\uff0c\u8f93\u51fa\u300a\u9700\u6c42\u89c4\u683c\u8bf4\u660e\u4e66\u300b\u548c\u4ea7\u54c1\u754c\u9762\u539f\u578b\u56fe\u3002</li> <li>\u6982\u8981\u8bbe\u8ba1\u548c\u8be6\u7ec6\u8bbe\u8ba1\uff0c\u8f93\u51fa\u6982\u5ff5\u6a21\u578b\u56fe\u3001\u7269\u7406\u6a21\u578b\u56fe\u3001\u7c7b\u56fe\u3001\u65f6\u5e8f\u56fe\u7b49\u3002</li> <li>\u7f16\u7801 / \u6d4b\u8bd5\u3002</li> <li>\u4e0a\u7ebf / \u7ef4\u62a4\u3002</li> </ul> </li> <li> <p>\u654f\u6377\u5f00\u53d1\uff08Scrum\uff09- \u4ea7\u54c1\u6240\u6709\u8005\u3001Scrum Master\u3001\u7814\u53d1\u4eba\u5458 - Sprint</p> <ul> <li>\u4ea7\u54c1\u7684Backlog\uff08\u7528\u6237\u6545\u4e8b\u3001\u4ea7\u54c1\u539f\u578b\uff09\u3002</li> <li>\u8ba1\u5212\u4f1a\u8bae\uff08\u8bc4\u4f30\u548c\u9884\u7b97\uff09\u3002</li> <li>\u65e5\u5e38\u5f00\u53d1\uff08\u7ad9\u7acb\u4f1a\u8bae\u3001\u756a\u8304\u5de5\u4f5c\u6cd5\u3001\u7ed3\u5bf9\u7f16\u7a0b\u3001\u6d4b\u8bd5\u5148\u884c\u3001\u4ee3\u7801\u91cd\u6784\u2026\u2026\uff09\u3002</li> <li>\u4fee\u590dbug\uff08\u95ee\u9898\u63cf\u8ff0\u3001\u91cd\u73b0\u6b65\u9aa4\u3001\u6d4b\u8bd5\u4eba\u5458\u3001\u88ab\u6307\u6d3e\u4eba\uff09\u3002</li> <li>\u8bc4\u5ba1\u4f1a\u8bae\uff08Showcase\uff09\u3002</li> <li>\u56de\u987e\u4f1a\u8bae\uff08\u5f53\u524d\u5468\u671f\u505a\u5f97\u597d\u548c\u4e0d\u597d\u7684\u5730\u65b9\uff09\u3002</li> </ul> <p>\u8865\u5145\uff1a\u654f\u6377\u8f6f\u4ef6\u5f00\u53d1\u5ba3\u8a00</p> <ul> <li>\u4e2a\u4f53\u548c\u4e92\u52a8 \u9ad8\u4e8e \u6d41\u7a0b\u548c\u5de5\u5177</li> <li>\u5de5\u4f5c\u7684\u8f6f\u4ef6 \u9ad8\u4e8e \u8be6\u5c3d\u7684\u6587\u6863</li> <li>\u5ba2\u6237\u5408\u4f5c \u9ad8\u4e8e \u5408\u540c\u8c08\u5224</li> <li>\u54cd\u5e94\u53d8\u5316 \u9ad8\u4e8e \u9075\u5faa\u8ba1\u5212</li> </ul> <p></p> <p>\u89d2\u8272\uff1a\u4ea7\u54c1\u6240\u6709\u8005\uff08\u51b3\u5b9a\u505a\u4ec0\u4e48\uff0c\u80fd\u5bf9\u9700\u6c42\u62cd\u677f\u7684\u4eba\uff09\u3001\u56e2\u961f\u8d1f\u8d23\u4eba\uff08\u89e3\u51b3\u5404\u79cd\u95ee\u9898\uff0c\u4e13\u6ce8\u5982\u4f55\u66f4\u597d\u7684\u5de5\u4f5c\uff0c\u5c4f\u853d\u5916\u90e8\u5bf9\u5f00\u53d1\u56e2\u961f\u7684\u5f71\u54cd\uff09\u3001\u5f00\u53d1\u56e2\u961f\uff08\u9879\u76ee\u6267\u884c\u4eba\u5458\uff0c\u5177\u4f53\u6307\u5f00\u53d1\u4eba\u5458\u548c\u6d4b\u8bd5\u4eba\u5458\uff09\u3002</p> <p>\u51c6\u5907\u5de5\u4f5c\uff1a\u5546\u4e1a\u6848\u4f8b\u548c\u8d44\u91d1\u3001\u5408\u540c\u3001\u61a7\u61ac\u3001\u521d\u59cb\u4ea7\u54c1\u9700\u6c42\u3001\u521d\u59cb\u53d1\u5e03\u8ba1\u5212\u3001\u5165\u80a1\u3001\u7ec4\u5efa\u56e2\u961f\u3002</p> <p>\u654f\u6377\u56e2\u961f\u901a\u5e38\u4eba\u6570\u4e3a8-10\u4eba\u3002</p> <p>\u5de5\u4f5c\u91cf\u4f30\u7b97\uff1a\u5c06\u5f00\u53d1\u4efb\u52a1\u91cf\u5316\uff0c\u5305\u62ec\u539f\u578b\u3001Logo\u8bbe\u8ba1\u3001UI\u8bbe\u8ba1\u3001\u524d\u7aef\u5f00\u53d1\u7b49\uff0c\u5c3d\u91cf\u628a\u6bcf\u4e2a\u5de5\u4f5c\u5206\u89e3\u5230\u6700\u5c0f\u4efb\u52a1\u91cf\uff0c\u6700\u5c0f\u4efb\u52a1\u91cf\u6807\u51c6\u4e3a\u5de5\u4f5c\u65f6\u95f4\u4e0d\u80fd\u8d85\u8fc7\u4e24\u5929\uff0c\u7136\u540e\u4f30\u7b97\u603b\u4f53\u9879\u76ee\u65f6\u95f4\u3002\u628a\u6bcf\u4e2a\u4efb\u52a1\u90fd\u8d34\u5728\u767d\u677f\u4e0a\u9762\uff0c\u767d\u677f\u4e0a\u5206\u4e09\u90e8\u5206\uff1ato do\uff08\u5f85\u5b8c\u6210\uff09\u3001in progress\uff08\u8fdb\u884c\u4e2d\uff09\u548cdone\uff08\u5df2\u5b8c\u6210\uff09\u3002</p> </li> <li> <p>\u9879\u76ee\u56e2\u961f\u7ec4\u5efa</p> </li> <li> <p>\u56e2\u961f\u7684\u6784\u6210\u548c\u89d2\u8272</p> <p>\u8bf4\u660e\uff1a\u8c22\u8c22\u4ed8\u7965\u82f1\u5973\u58eb\u7ed8\u5236\u4e86\u4e0b\u9762\u8fd9\u5f20\u7cbe\u7f8e\u7684\u516c\u53f8\u7ec4\u7ec7\u67b6\u6784\u56fe\u3002</p> <p></p> </li> <li> <p>\u7f16\u7a0b\u89c4\u8303\u548c\u4ee3\u7801\u5ba1\u67e5\uff08flake8\u3001pylint\uff09</p> <p></p> </li> <li> <p>Python\u4e2d\u7684\u4e00\u4e9b\u201c\u60ef\u4f8b\u201d\uff08\u8bf7\u53c2\u8003\u300aPython\u60ef\u4f8b-\u5982\u4f55\u7f16\u5199Pythonic\u7684\u4ee3\u7801\u300b\uff09</p> </li> <li> <p>\u5f71\u54cd\u4ee3\u7801\u53ef\u8bfb\u6027\u7684\u539f\u56e0\uff1a</p> <ul> <li>\u4ee3\u7801\u6ce8\u91ca\u592a\u5c11\u6216\u8005\u6ca1\u6709\u6ce8\u91ca</li> <li>\u4ee3\u7801\u7834\u574f\u4e86\u8bed\u8a00\u7684\u6700\u4f73\u5b9e\u8df5</li> <li>\u53cd\u6a21\u5f0f\u7f16\u7a0b\uff08\u610f\u5927\u5229\u9762\u4ee3\u7801\u3001\u590d\u5236-\u9ecf\u8d34\u7f16\u7a0b\u3001\u81ea\u8d1f\u7f16\u7a0b\u3001\u2026\u2026\uff09</li> </ul> </li> <li> <p>\u56e2\u961f\u5f00\u53d1\u5de5\u5177\u4ecb\u7ecd</p> </li> <li>\u7248\u672c\u63a7\u5236\uff1aGit\u3001Mercury</li> <li>\u7f3a\u9677\u7ba1\u7406\uff1aGitlab\u3001Redmine</li> <li>\u654f\u6377\u95ed\u73af\u5de5\u5177\uff1a\u7985\u9053\u3001JIRA</li> <li>\u6301\u7eed\u96c6\u6210\uff1aJenkins\u3001Travis-CI</li> </ol> <p>\u8bf7\u53c2\u8003\u300a\u56e2\u961f\u9879\u76ee\u5f00\u53d1\u300b\u3002</p>"},{"location":"python/Py-100Days/#_1","title":"\u9879\u76ee\u9009\u9898\u548c\u7406\u89e3\u4e1a\u52a1","text":"<ol> <li> <p>\u9009\u9898\u8303\u56f4\u8bbe\u5b9a</p> </li> <li> <p>CMS\uff08\u7528\u6237\u7aef\uff09\uff1a\u65b0\u95fb\u805a\u5408\u7f51\u7ad9\u3001\u95ee\u7b54/\u5206\u4eab\u793e\u533a\u3001\u5f71\u8bc4/\u4e66\u8bc4\u7f51\u7ad9\u7b49\u3002</p> </li> <li> <p>MIS\uff08\u7528\u6237\u7aef+\u7ba1\u7406\u7aef\uff09\uff1aKMS\u3001KPI\u8003\u6838\u7cfb\u7edf\u3001HRS\u3001CRM\u7cfb\u7edf\u3001\u4f9b\u5e94\u94fe\u7cfb\u7edf\u3001\u4ed3\u50a8\u7ba1\u7406\u7cfb\u7edf\u7b49\u3002</p> </li> <li> <p>App\u540e\u53f0\uff08\u7ba1\u7406\u7aef+\u6570\u636e\u63a5\u53e3\uff09\uff1a\u4e8c\u624b\u4ea4\u6613\u7c7b\u3001\u62a5\u520a\u6742\u5fd7\u7c7b\u3001\u5c0f\u4f17\u7535\u5546\u7c7b\u3001\u65b0\u95fb\u8d44\u8baf\u7c7b\u3001\u65c5\u6e38\u7c7b\u3001\u793e\u4ea4\u7c7b\u3001\u9605\u8bfb\u7c7b\u7b49\u3002</p> </li> <li> <p>\u5176\u4ed6\u7c7b\u578b\uff1a\u81ea\u8eab\u884c\u4e1a\u80cc\u666f\u548c\u5de5\u4f5c\u7ecf\u9a8c\u3001\u4e1a\u52a1\u5bb9\u6613\u7406\u89e3\u548c\u628a\u63a7\u3002</p> </li> <li> <p>\u9700\u6c42\u7406\u89e3\u3001\u6a21\u5757\u5212\u5206\u548c\u4efb\u52a1\u5206\u914d</p> </li> <li> <p>\u9700\u6c42\u7406\u89e3\uff1a\u5934\u8111\u98ce\u66b4\u548c\u7ade\u54c1\u5206\u6790\u3002</p> </li> <li>\u6a21\u5757\u5212\u5206\uff1a\u753b\u601d\u7ef4\u5bfc\u56fe\uff08XMind\uff09\uff0c\u6bcf\u4e2a\u6a21\u5757\u662f\u4e00\u4e2a\u679d\u8282\u70b9\uff0c\u6bcf\u4e2a\u5177\u4f53\u7684\u529f\u80fd\u662f\u4e00\u4e2a\u53f6\u8282\u70b9\uff08\u7528\u52a8\u8bcd\u8868\u8ff0\uff09\uff0c\u9700\u8981\u786e\u4fdd\u6bcf\u4e2a\u53f6\u8282\u70b9\u65e0\u6cd5\u518d\u751f\u51fa\u65b0\u8282\u70b9\uff0c\u786e\u5b9a\u6bcf\u4e2a\u53f6\u5b50\u8282\u70b9\u7684\u91cd\u8981\u6027\u3001\u4f18\u5148\u7ea7\u548c\u5de5\u4f5c\u91cf\u3002</li> <li>\u4efb\u52a1\u5206\u914d\uff1a\u7531\u9879\u76ee\u8d1f\u8d23\u4eba\u6839\u636e\u4e0a\u9762\u7684\u6307\u6807\u4e3a\u6bcf\u4e2a\u56e2\u961f\u6210\u5458\u5206\u914d\u4efb\u52a1\u3002</li> </ol> <p></p> <ol> <li>\u5236\u5b9a\u9879\u76ee\u8fdb\u5ea6\u8868\uff08\u6bcf\u65e5\u66f4\u65b0\uff09</li> </ol> \u6a21\u5757 \u529f\u80fd \u4eba\u5458 \u72b6\u6001 \u5b8c\u6210 \u5de5\u65f6 \u8ba1\u5212\u5f00\u59cb \u5b9e\u9645\u5f00\u59cb \u8ba1\u5212\u7ed3\u675f \u5b9e\u9645\u7ed3\u675f \u5907\u6ce8 \u8bc4\u8bba \u6dfb\u52a0\u8bc4\u8bba \u738b\u5927\u9524 \u6b63\u5728\u8fdb\u884c 50% 4 2018/8/7 2018/8/7 \u5220\u9664\u8bc4\u8bba \u738b\u5927\u9524 \u7b49\u5f85 0% 2 2018/8/7 2018/8/7 \u67e5\u770b\u8bc4\u8bba \u767d\u5143\u82b3 \u6b63\u5728\u8fdb\u884c 20% 4 2018/8/7 2018/8/7 \u9700\u8981\u8fdb\u884c\u4ee3\u7801\u5ba1\u67e5 \u8bc4\u8bba\u6295\u7968 \u767d\u5143\u82b3 \u7b49\u5f85 0% 4 2018/8/8 2018/8/8"},{"location":"python/Py-100Days/#92docker","title":"\u7b2c92\u5929\uff1aDocker\u7684\u4f7f\u7528","text":""},{"location":"python/Py-100Days/#93ooad","title":"\u7b2c93\u5929\uff1a\u6570\u636e\u5e93\u8bbe\u8ba1\u548cOOAD","text":""},{"location":"python/Py-100Days/#_2","title":"\u6982\u5ff5\u6a21\u578b\u548c\u6b63\u5411\u5de5\u7a0b","text":"<ol> <li>UML\uff08\u7edf\u4e00\u5efa\u6a21\u8bed\u8a00\uff09\u7684\u7c7b\u56fe</li> </ol> <ol> <li>\u901a\u8fc7\u6a21\u578b\u521b\u5efa\u8868\uff08\u6b63\u5411\u5de5\u7a0b\uff09</li> </ol> <pre><code>python manage.py makemigrations app\npython manage.py migrate\n</code></pre>"},{"location":"python/Py-100Days/#_3","title":"\u7269\u7406\u6a21\u578b\u548c\u53cd\u5411\u5de5\u7a0b","text":"<ol> <li>PowerDesigner</li> </ol> <ol> <li>\u901a\u8fc7\u6570\u636e\u8868\u521b\u5efa\u6a21\u578b\uff08\u53cd\u5411\u5de5\u7a0b\uff09</li> </ol> <pre><code>python manage.py inspectdb &gt; app/models.py\n</code></pre>"},{"location":"python/Py-100Days/#94api","title":"\u7b2c94\u5929\uff1a\u7f51\u7edcAPI\u63a5\u53e3\u8bbe\u8ba1","text":""},{"location":"python/Py-100Days/#95django","title":"\u7b2c95\u5929\uff1a\u4f7f\u7528Django\u5f00\u53d1\u9879\u76ee","text":""},{"location":"python/Py-100Days/#_4","title":"\u9879\u76ee\u5f00\u53d1\u4e2d\u7684\u516c\u5171\u95ee\u9898","text":"<ol> <li>\u6570\u636e\u5e93\u7684\u914d\u7f6e\uff08\u591a\u6570\u636e\u5e93\u3001\u4e3b\u4ece\u590d\u5236\u3001\u6570\u636e\u5e93\u8def\u7531\uff09</li> <li>\u7f13\u5b58\u7684\u914d\u7f6e\uff08\u5206\u533a\u7f13\u5b58\u3001\u952e\u8bbe\u7f6e\u3001\u8d85\u65f6\u8bbe\u7f6e\u3001\u4e3b\u4ece\u590d\u5236\u3001\u6545\u969c\u6062\u590d\uff08\u54e8\u5175\uff09\uff09</li> <li>\u65e5\u5fd7\u7684\u914d\u7f6e</li> <li>\u5206\u6790\u548c\u8c03\u8bd5\uff08Django-Debug-ToolBar\uff09</li> <li>\u597d\u7528\u7684Python\u6a21\u5757\uff08\u65e5\u671f\u8ba1\u7b97\u3001\u56fe\u50cf\u5904\u7406\u3001\u6570\u636e\u52a0\u5bc6\u3001\u4e09\u65b9API\uff09</li> </ol>"},{"location":"python/Py-100Days/#rest-api","title":"REST API\u8bbe\u8ba1","text":"<ol> <li>RESTful\u67b6\u6784</li> <li>\u7406\u89e3RESTful\u67b6\u6784</li> <li>RESTful API\u8bbe\u8ba1\u6307\u5357</li> <li>RESTful API\u6700\u4f73\u5b9e\u8df5</li> <li>API\u63a5\u53e3\u6587\u6863\u7684\u64b0\u5199</li> <li>RAP2</li> <li>YAPI</li> <li>django-REST-framework\u7684\u5e94\u7528</li> </ol>"},{"location":"python/Py-100Days/#_5","title":"\u9879\u76ee\u4e2d\u7684\u91cd\u70b9\u96be\u70b9\u5256\u6790","text":"<ol> <li>\u4f7f\u7528\u7f13\u5b58\u7f13\u89e3\u6570\u636e\u5e93\u538b\u529b - Redis</li> <li>\u4f7f\u7528\u6d88\u606f\u961f\u5217\u505a\u89e3\u8026\u5408\u548c\u524a\u5cf0 - Celery + RabbitMQ</li> </ol>"},{"location":"python/Py-100Days/#96","title":"\u7b2c96\u5929\uff1a\u8f6f\u4ef6\u6d4b\u8bd5\u548c\u81ea\u52a8\u5316\u6d4b\u8bd5","text":""},{"location":"python/Py-100Days/#_6","title":"\u5355\u5143\u6d4b\u8bd5","text":"<ol> <li>\u6d4b\u8bd5\u7684\u79cd\u7c7b</li> <li>\u7f16\u5199\u5355\u5143\u6d4b\u8bd5\uff08unittest\u3001pytest\u3001nose2\u3001tox\u3001ddt\u3001\u2026\u2026\uff09</li> <li>\u6d4b\u8bd5\u8986\u76d6\u7387\uff08coverage\uff09</li> </ol>"},{"location":"python/Py-100Days/#_7","title":"\u9879\u76ee\u90e8\u7f72","text":"<ol> <li>\u90e8\u7f72\u524d\u7684\u51c6\u5907\u5de5\u4f5c</li> <li>\u5173\u952e\u8bbe\u7f6e\uff08SECRET_KEY / DEBUG / ALLOWED_HOSTS / \u7f13\u5b58 / \u6570\u636e\u5e93\uff09</li> <li>HTTPS / CSRF_COOKIE_SECUR  / SESSION_COOKIE_SECURE  </li> <li>\u65e5\u5fd7\u76f8\u5173\u914d\u7f6e</li> <li>Linux\u5e38\u7528\u547d\u4ee4\u56de\u987e</li> <li>Linux\u5e38\u7528\u670d\u52a1\u7684\u5b89\u88c5\u548c\u914d\u7f6e</li> <li>uWSGI/Gunicorn\u548cNginx\u7684\u4f7f\u7528</li> <li>Gunicorn\u548cuWSGI\u7684\u6bd4\u8f83<ul> <li>\u5bf9\u4e8e\u4e0d\u9700\u8981\u5927\u91cf\u5b9a\u5236\u5316\u7684\u7b80\u5355\u5e94\u7528\u7a0b\u5e8f\uff0cGunicorn\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u9009\u62e9\uff0cuWSGI\u7684\u5b66\u4e60\u66f2\u7ebf\u6bd4Gunicorn\u8981\u9661\u5ced\u5f97\u591a\uff0cGunicorn\u7684\u9ed8\u8ba4\u53c2\u6570\u5c31\u5df2\u7ecf\u80fd\u591f\u9002\u5e94\u5927\u591a\u6570\u5e94\u7528\u7a0b\u5e8f\u3002</li> <li>uWSGI\u652f\u6301\u5f02\u6784\u90e8\u7f72\u3002</li> <li>\u7531\u4e8eNginx\u672c\u8eab\u652f\u6301uWSGI\uff0c\u5728\u7ebf\u4e0a\u4e00\u822c\u90fd\u5c06Nginx\u548cuWSGI\u6346\u7ed1\u5728\u4e00\u8d77\u90e8\u7f72\uff0c\u800c\u4e14uWSGI\u5c5e\u4e8e\u529f\u80fd\u9f50\u5168\u4e14\u9ad8\u5ea6\u5b9a\u5236\u7684WSGI\u4e2d\u95f4\u4ef6\u3002</li> <li>\u5728\u6027\u80fd\u4e0a\uff0cGunicorn\u548cuWSGI\u5176\u5b9e\u8868\u73b0\u76f8\u5f53\u3002</li> </ul> </li> <li>\u865a\u62df\u5316\u6280\u672f\uff08Docker\uff09</li> </ol>"},{"location":"python/Py-100Days/#_8","title":"\u6027\u80fd\u6d4b\u8bd5","text":"<ol> <li>AB\u7684\u4f7f\u7528</li> <li>SQLslap\u7684\u4f7f\u7528</li> <li>sysbench\u7684\u4f7f\u7528</li> </ol>"},{"location":"python/Py-100Days/#_9","title":"\u81ea\u52a8\u5316\u6d4b\u8bd5","text":"<ol> <li>\u4f7f\u7528Shell\u548cPython\u8fdb\u884c\u81ea\u52a8\u5316\u6d4b\u8bd5</li> <li>\u4f7f\u7528Selenium\u5b9e\u73b0\u81ea\u52a8\u5316\u6d4b\u8bd5</li> <li>Selenium IDE</li> <li>Selenium WebDriver</li> <li>Selenium Remote Control</li> <li>\u6d4b\u8bd5\u5de5\u5177Robot Framework\u4ecb\u7ecd</li> </ol>"},{"location":"python/Py-100Days/#97","title":"\u7b2c97\u5929\uff1a\u7535\u5546\u7f51\u7ad9\u6280\u672f\u8981\u70b9\u5256\u6790","text":""},{"location":"python/Py-100Days/#98","title":"\u7b2c98\u5929\uff1a\u9879\u76ee\u90e8\u7f72\u4e0a\u7ebf\u548c\u6027\u80fd\u8c03\u4f18","text":"<ol> <li>MySQL\u6570\u636e\u5e93\u8c03\u4f18</li> <li>Web\u670d\u52a1\u5668\u6027\u80fd\u4f18\u5316</li> <li>Nginx\u8d1f\u8f7d\u5747\u8861\u914d\u7f6e</li> <li>Keepalived\u5b9e\u73b0\u9ad8\u53ef\u7528</li> <li>\u4ee3\u7801\u6027\u80fd\u8c03\u4f18</li> <li>\u591a\u7ebf\u7a0b</li> <li>\u5f02\u6b65\u5316</li> <li>\u9759\u6001\u8d44\u6e90\u8bbf\u95ee\u4f18\u5316</li> <li>\u4e91\u5b58\u50a8</li> <li>CDN</li> </ol>"},{"location":"python/Py-100Days/#99","title":"\u7b2c99\u5929\uff1a\u9762\u8bd5\u4e2d\u7684\u516c\u5171\u95ee\u9898","text":""},{"location":"python/Py-100Days/#100","title":"\u7b2c100\u5929\uff1a\u82f1\u8bed\u9762\u8bd5","text":"<p>\u81f4\u8c22\uff1a\u611f\u8c22\u7684\u6211\u7684\u540c\u4e8b\u53e4\u6654\u3001\u5f20\u65ed\u3001\u8096\u4e16\u8363\u3001\u738b\u6d77\u98de\u3001\u8363\u4f73\u4f1f\u3001\u8def\u4e30\u5764\u7b49\u5728\u6280\u672f\u4e0a\u7ed9\u4e88\u7684\u6307\u5bfc\u548c\u5e2e\u52a9\u3002</p>"},{"location":"python/Py-100Days/PEP%208%E9%A3%8E%E6%A0%BC%E6%8C%87%E5%8D%97/","title":"PEP 8\u98ce\u683c\u6307\u5357","text":""},{"location":"python/Py-100Days/PEP%208%E9%A3%8E%E6%A0%BC%E6%8C%87%E5%8D%97/#pep-8","title":"PEP 8\u98ce\u683c\u6307\u5357","text":"<p>PEP\u662fPython Enhancement Proposal\u7684\u7f29\u5199\uff0c\u901a\u5e38\u7ffb\u8bd1\u4e3a\u201cPython\u589e\u5f3a\u63d0\u6848\u201d\u3002\u6bcf\u4e2aPEP\u90fd\u662f\u4e00\u4efd\u4e3aPython\u793e\u533a\u63d0\u4f9b\u7684\u6307\u5bfcPython\u5f80\u66f4\u597d\u7684\u65b9\u5411\u53d1\u5c55\u7684\u6280\u672f\u6587\u6863\uff0c\u5176\u4e2d\u7684\u7b2c8\u53f7\u589e\u5f3a\u63d0\u6848\uff08PEP 8\uff09\u662f\u9488\u5bf9Python\u8bed\u8a00\u7f16\u8ba2\u7684\u4ee3\u7801\u98ce\u683c\u6307\u5357\u3002\u5c3d\u7ba1\u6211\u4eec\u53ef\u4ee5\u5728\u4fdd\u8bc1\u8bed\u6cd5\u6ca1\u6709\u95ee\u9898\u7684\u524d\u63d0\u4e0b\u968f\u610f\u4e66\u5199Python\u4ee3\u7801\uff0c\u4f46\u662f\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u91c7\u7528\u4e00\u81f4\u7684\u98ce\u683c\u4e66\u5199\u51fa\u53ef\u8bfb\u6027\u5f3a\u7684\u4ee3\u7801\u662f\u6bcf\u4e2a\u4e13\u4e1a\u7684\u7a0b\u5e8f\u5458\u5e94\u8be5\u505a\u5230\u7684\u4e8b\u60c5\uff0c\u4e5f\u662f\u6bcf\u4e2a\u516c\u53f8\u7684\u7f16\u7a0b\u89c4\u8303\u4e2d\u4f1a\u63d0\u51fa\u7684\u8981\u6c42\uff0c\u8fd9\u4e9b\u5728\u591a\u4eba\u534f\u4f5c\u5f00\u53d1\u4e00\u4e2a\u9879\u76ee\uff08\u56e2\u961f\u5f00\u53d1\uff09\u7684\u65f6\u5019\u663e\u5f97\u5c24\u4e3a\u91cd\u8981\u3002\u6211\u4eec\u53ef\u4ee5\u4ecePython\u5b98\u65b9\u7f51\u7ad9\u7684PEP 8\u94fe\u63a5\u4e2d\u627e\u5230\u8be5\u6587\u6863\uff0c\u4e0b\u9762\u6211\u4eec\u5bf9\u8be5\u6587\u6863\u7684\u5173\u952e\u90e8\u5206\u505a\u4e00\u4e2a\u7b80\u5355\u7684\u603b\u7ed3\u3002</p>"},{"location":"python/Py-100Days/PEP%208%E9%A3%8E%E6%A0%BC%E6%8C%87%E5%8D%97/#_1","title":"\u7a7a\u683c\u7684\u4f7f\u7528","text":"<ol> <li>\u4f7f\u7528\u7a7a\u683c\u6765\u8868\u793a\u7f29\u8fdb\u800c\u4e0d\u8981\u7528\u5236\u8868\u7b26\uff08Tab\uff09\u3002\u8fd9\u4e00\u70b9\u5bf9\u4e60\u60ef\u4e86\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u7684\u4eba\u6765\u8bf4\u7b80\u76f4\u89c9\u5f97\u4e0d\u53ef\u7406\u55bb\uff0c\u56e0\u4e3a\u7edd\u5927\u591a\u6570\u7684\u7a0b\u5e8f\u5458\u90fd\u4f1a\u7528Tab\u6765\u8868\u793a\u7f29\u8fdb\uff0c\u4f46\u662f\u8981\u77e5\u9053Python\u5e76\u6ca1\u6709\u50cfC/C++\u6216Java\u90a3\u6837\u7684\u7528\u82b1\u62ec\u53f7\u6765\u6784\u9020\u4e00\u4e2a\u4ee3\u7801\u5757\u7684\u8bed\u6cd5\uff0c\u5728Python\u4e2d\u5206\u652f\u548c\u5faa\u73af\u7ed3\u6784\u90fd\u4f7f\u7528\u7f29\u8fdb\u6765\u8868\u793a\u54ea\u4e9b\u4ee3\u7801\u5c5e\u4e8e\u540c\u4e00\u4e2a\u7ea7\u522b\uff0c\u9274\u4e8e\u6b64Python\u4ee3\u7801\u5bf9\u7f29\u8fdb\u4ee5\u53ca\u7f29\u8fdb\u5bbd\u5ea6\u7684\u4f9d\u8d56\u6bd4\u5176\u4ed6\u5f88\u591a\u8bed\u8a00\u90fd\u5f3a\u5f97\u591a\u3002\u5728\u4e0d\u540c\u7684\u7f16\u8f91\u5668\u4e2d\uff0cTab\u7684\u5bbd\u5ea6\u53ef\u80fd\u662f2\u30014\u62168\u4e2a\u5b57\u7b26\uff0c\u751a\u81f3\u662f\u5176\u4ed6\u66f4\u79bb\u8c31\u7684\u503c\uff0c\u7528Tab\u6765\u8868\u793a\u7f29\u8fdb\u5bf9Python\u4ee3\u7801\u6765\u8bf4\u53ef\u80fd\u662f\u4e00\u573a\u707e\u96be\u3002</li> <li>\u548c\u8bed\u6cd5\u76f8\u5173\u7684\u6bcf\u4e00\u5c42\u7f29\u8fdb\u90fd\u75284\u4e2a\u7a7a\u683c\u6765\u8868\u793a\u3002</li> <li>\u6bcf\u884c\u7684\u5b57\u7b26\u6570\u4e0d\u8981\u8d85\u8fc779\u4e2a\u5b57\u7b26\uff0c\u5982\u679c\u8868\u8fbe\u5f0f\u56e0\u592a\u957f\u800c\u5360\u636e\u4e86\u591a\u884c\uff0c\u9664\u4e86\u9996\u884c\u4e4b\u5916\u7684\u5176\u4f59\u5404\u884c\u90fd\u5e94\u8be5\u5728\u6b63\u5e38\u7684\u7f29\u8fdb\u5bbd\u5ea6\u4e0a\u518d\u52a0\u4e0a4\u4e2a\u7a7a\u683c\u3002</li> <li>\u51fd\u6570\u548c\u7c7b\u7684\u5b9a\u4e49\uff0c\u4ee3\u7801\u524d\u540e\u90fd\u8981\u7528\u4e24\u4e2a\u7a7a\u884c\u8fdb\u884c\u5206\u9694\u3002</li> <li>\u5728\u540c\u4e00\u4e2a\u7c7b\u4e2d\uff0c\u5404\u4e2a\u65b9\u6cd5\u4e4b\u95f4\u5e94\u8be5\u7528\u4e00\u4e2a\u7a7a\u884c\u8fdb\u884c\u5206\u9694\u3002</li> <li>\u4e8c\u5143\u8fd0\u7b97\u7b26\u7684\u5de6\u53f3\u4e24\u4fa7\u5e94\u8be5\u4fdd\u7559\u4e00\u4e2a\u7a7a\u683c\uff0c\u800c\u4e14\u53ea\u8981\u4e00\u4e2a\u7a7a\u683c\u5c31\u597d\u3002</li> </ol>"},{"location":"python/Py-100Days/PEP%208%E9%A3%8E%E6%A0%BC%E6%8C%87%E5%8D%97/#_2","title":"\u6807\u8bc6\u7b26\u547d\u540d","text":"<p>PEP 8\u5021\u5bfc\u7528\u4e0d\u540c\u7684\u547d\u540d\u98ce\u683c\u6765\u547d\u540dPython\u4e2d\u4e0d\u540c\u7684\u6807\u8bc6\u7b26\uff0c\u4ee5\u4fbf\u5728\u9605\u8bfb\u4ee3\u7801\u65f6\u80fd\u591f\u901a\u8fc7\u6807\u8bc6\u7b26\u7684\u540d\u79f0\u6765\u786e\u5b9a\u8be5\u6807\u8bc6\u7b26\u5728Python\u4e2d\u626e\u6f14\u4e86\u600e\u6837\u7684\u89d2\u8272\uff08\u5728\u8fd9\u4e00\u70b9\u4e0a\uff0cPython\u81ea\u5df1\u7684\u5185\u7f6e\u6a21\u5757\u4ee5\u53ca\u67d0\u4e9b\u7b2c\u4e09\u65b9\u6a21\u5757\u90fd\u505a\u5f97\u5e76\u4e0d\u662f\u5f88\u597d\uff09\u3002</p> <ol> <li>\u53d8\u91cf\u3001\u51fd\u6570\u548c\u5c5e\u6027\u5e94\u8be5\u4f7f\u7528\u5c0f\u5199\u5b57\u6bcd\u6765\u62fc\u5199\uff0c\u5982\u679c\u6709\u591a\u4e2a\u5355\u8bcd\u5c31\u4f7f\u7528\u4e0b\u5212\u7ebf\u8fdb\u884c\u8fde\u63a5\u3002</li> <li>\u7c7b\u4e2d\u53d7\u4fdd\u62a4\u7684\u5b9e\u4f8b\u5c5e\u6027\uff0c\u5e94\u8be5\u4ee5\u4e00\u4e2a\u4e0b\u5212\u7ebf\u5f00\u5934\u3002</li> <li>\u7c7b\u4e2d\u79c1\u6709\u7684\u5b9e\u4f8b\u5c5e\u6027\uff0c\u5e94\u8be5\u4ee5\u4e24\u4e2a\u4e0b\u5212\u7ebf\u5f00\u5934\u3002</li> <li>\u7c7b\u548c\u5f02\u5e38\u7684\u547d\u540d\uff0c\u5e94\u8be5\u6bcf\u4e2a\u5355\u8bcd\u9996\u5b57\u6bcd\u5927\u5199\u3002</li> <li>\u6a21\u5757\u7ea7\u522b\u7684\u5e38\u91cf\uff0c\u5e94\u8be5\u91c7\u7528\u5168\u5927\u5199\u5b57\u6bcd\uff0c\u5982\u679c\u6709\u591a\u4e2a\u5355\u8bcd\u5c31\u7528\u4e0b\u5212\u7ebf\u8fdb\u884c\u8fde\u63a5\u3002</li> <li>\u7c7b\u7684\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u5e94\u8be5\u628a\u7b2c\u4e00\u4e2a\u53c2\u6570\u547d\u540d\u4e3a<code>self</code>\u4ee5\u8868\u793a\u5bf9\u8c61\u81ea\u8eab\u3002</li> <li>\u7c7b\u7684\u7c7b\u65b9\u6cd5\uff0c\u5e94\u8be5\u628a\u7b2c\u4e00\u4e2a\u53c2\u6570\u547d\u540d\u4e3a<code>cls</code>\u4ee5\u8868\u793a\u8be5\u7c7b\u81ea\u8eab\u3002</li> </ol>"},{"location":"python/Py-100Days/PEP%208%E9%A3%8E%E6%A0%BC%E6%8C%87%E5%8D%97/#_3","title":"\u8868\u8fbe\u5f0f\u548c\u8bed\u53e5","text":"<p>\u5728Python\u4e4b\u7985\uff08\u53ef\u4ee5\u4f7f\u7528<code>import this</code>\u67e5\u770b\uff09\u4e2d\u6709\u8fd9\u4e48\u4e00\u53e5\u540d\u8a00\uff1a\u201cThere should be one-- and preferably only one --obvious way to do it.\u201d\uff0c\u7ffb\u8bd1\u6210\u4e2d\u6587\u662f\u201c\u505a\u4e00\u4ef6\u4e8b\u5e94\u8be5\u6709\u800c\u4e14\u6700\u597d\u53ea\u6709\u4e00\u79cd\u786e\u5207\u7684\u505a\u6cd5\u201d\uff0c\u8fd9\u53e5\u8bdd\u4f20\u8fbe\u7684\u601d\u60f3\u5728PEP 8\u4e2d\u4e5f\u662f\u65e0\u5904\u4e0d\u5728\u7684\u3002</p> <ol> <li>\u91c7\u7528\u5185\u8054\u5f62\u5f0f\u7684\u5426\u5b9a\u8bcd\uff0c\u800c\u4e0d\u8981\u628a\u5426\u5b9a\u8bcd\u653e\u5728\u6574\u4e2a\u8868\u8fbe\u5f0f\u7684\u524d\u9762\u3002\u4f8b\u5982<code>if a is not b</code>\u5c31\u6bd4<code>if not a is b</code>\u66f4\u5bb9\u6613\u8ba9\u4eba\u7406\u89e3\u3002</li> <li>\u4e0d\u8981\u7528\u68c0\u67e5\u957f\u5ea6\u7684\u65b9\u5f0f\u6765\u5224\u65ad\u5b57\u7b26\u4e32\u3001\u5217\u8868\u7b49\u662f\u5426\u4e3a<code>None</code>\u6216\u8005\u6ca1\u6709\u5143\u7d20\uff0c\u5e94\u8be5\u7528<code>if not x</code>\u8fd9\u6837\u7684\u5199\u6cd5\u6765\u68c0\u67e5\u5b83\u3002</li> <li>\u5c31\u7b97<code>if</code>\u5206\u652f\u3001<code>for</code>\u5faa\u73af\u3001<code>except</code>\u5f02\u5e38\u6355\u83b7\u7b49\u4e2d\u53ea\u6709\u4e00\u884c\u4ee3\u7801\uff0c\u4e5f\u4e0d\u8981\u5c06\u4ee3\u7801\u548c<code>if</code>\u3001<code>for</code>\u3001<code>except</code>\u7b49\u5199\u5728\u4e00\u8d77\uff0c\u5206\u5f00\u5199\u624d\u4f1a\u8ba9\u4ee3\u7801\u66f4\u6e05\u6670\u3002</li> <li><code>import</code>\u8bed\u53e5\u603b\u662f\u653e\u5728\u6587\u4ef6\u5f00\u5934\u7684\u5730\u65b9\u3002</li> <li>\u5f15\u5165\u6a21\u5757\u7684\u65f6\u5019\uff0c<code>from math import sqrt</code>\u6bd4<code>import math</code>\u66f4\u597d\u3002</li> <li>\u5982\u679c\u6709\u591a\u4e2a<code>import</code>\u8bed\u53e5\uff0c\u5e94\u8be5\u5c06\u5176\u5206\u4e3a\u4e09\u90e8\u5206\uff0c\u4ece\u4e0a\u5230\u4e0b\u5206\u522b\u662fPython\u6807\u51c6\u6a21\u5757\u3001\u7b2c\u4e09\u65b9\u6a21\u5757\u548c\u81ea\u5b9a\u4e49\u6a21\u5757\uff0c\u6bcf\u4e2a\u90e8\u5206\u5185\u90e8\u5e94\u8be5\u6309\u7167\u6a21\u5757\u540d\u79f0\u7684\u5b57\u6bcd\u8868\u987a\u5e8f\u6765\u6392\u5217\u3002</li> </ol>"},{"location":"python/Py-100Days/Python%E5%8F%82%E8%80%83%E4%B9%A6%E7%B1%8D/","title":"Python\u53c2\u8003\u4e66\u7c4d","text":""},{"location":"python/Py-100Days/Python%E5%8F%82%E8%80%83%E4%B9%A6%E7%B1%8D/#python","title":"Python\u53c2\u8003\u4e66\u7c4d","text":""},{"location":"python/Py-100Days/Python%E5%8F%82%E8%80%83%E4%B9%A6%E7%B1%8D/#_1","title":"\u5165\u95e8\u8bfb\u7269","text":"<ol> <li>\u300aPython\u57fa\u7840\u6559\u7a0b\u300b\uff08Beginning Python From Novice to Professional\uff09</li> <li>\u300aPython\u5b66\u4e60\u624b\u518c\u300b\uff08Learning Python\uff09</li> <li>\u300aPython\u7f16\u7a0b\u300b\uff08Programming Python\uff09</li> <li>\u300aPython Cookbook\u300b</li> <li>\u300aPython\u7a0b\u5e8f\u8bbe\u8ba1\u300b\uff08Python Programming: An Introduction to Computer Science\uff09</li> <li>\u300aModern Python Cookbook\u300b</li> </ol>"},{"location":"python/Py-100Days/Python%E5%8F%82%E8%80%83%E4%B9%A6%E7%B1%8D/#_2","title":"\u8fdb\u9636\u8bfb\u7269","text":"<ol> <li>\u300aPython\u6838\u5fc3\u7f16\u7a0b\u300b\uff08Core Python Applications Programming\uff09</li> <li>\u300a\u6d41\u7545\u7684Python\u300b\uff08Fluent Python\uff09</li> <li>\u300aEffective Python\uff1a\u7f16\u5199\u9ad8\u8d28\u91cfPython\u4ee3\u7801\u768459\u4e2a\u6709\u6548\u65b9\u6cd5\u300b\uff08Effective Python 59 Specific Ways to Write Better Python\uff09</li> <li>\u300aPython\u8bbe\u8ba1\u6a21\u5f0f\u300b\uff08Learning Python Design Patterns\uff09</li> <li>\u300aPython\u9ad8\u7ea7\u7f16\u7a0b\u300b\uff08Expert Python Programming\uff09</li> <li>\u300aPython\u6027\u80fd\u5206\u6790\u4e0e\u4f18\u5316\u300b\uff08Mastering Python High Performance\uff09</li> </ol>"},{"location":"python/Py-100Days/Python%E5%8F%82%E8%80%83%E4%B9%A6%E7%B1%8D/#web","title":"Web\u6846\u67b6","text":"<ol> <li>\u300aDjango\u57fa\u7840\u6559\u7a0b\u300b\uff08Tango with Django\uff09</li> <li>\u300a\u8f7b\u91cf\u7ea7Django\u300b\uff08Lightweight Django\uff09</li> <li>\u300aPython Web\u5f00\u53d1\uff1a\u6d4b\u8bd5\u9a71\u52a8\u65b9\u6cd5\u300b\uff08Test-Driven Development with Python\uff09</li> <li>\u300aWeb Development with Django Cookbook\u300b</li> <li>\u300aTest-Driven Development with Django\u300b</li> <li>\u300aDjango Project Blueprints \u300b</li> <li>\u300aFlask Web\u5f00\u53d1\uff1a\u57fa\u4e8ePython\u7684Web\u5e94\u7528\u5f00\u53d1\u5b9e\u6218\u300b\uff08Flask Web Development: Developing Web Applications with Python\uff09</li> <li>\u300a\u6df1\u5165\u7406\u89e3Flask\u300b\uff08Mastering Flask\uff09</li> </ol>"},{"location":"python/Py-100Days/Python%E5%8F%82%E8%80%83%E4%B9%A6%E7%B1%8D/#_3","title":"\u722c\u866b\u5f00\u53d1","text":"<ol> <li>\u300a\u7528Python\u5199\u7f51\u7edc\u722c\u866b\u300b\uff08Web Scraping with Python\uff09</li> <li>\u300a\u7cbe\u901aPython\u722c\u866b\u6846\u67b6Scrapy\u300b\uff08Learning Scrapy\uff09</li> <li>\u300aPython\u7f51\u7edc\u6570\u636e\u91c7\u96c6\u300b\uff08Web Scraping with Python\uff09</li> <li>\u300aPython\u722c\u866b\u5f00\u53d1\u4e0e\u9879\u76ee\u5b9e\u6218\u300b</li> <li>\u300aPython 3\u7f51\u7edc\u722c\u866b\u5f00\u53d1\u5b9e\u6218\u300b</li> </ol>"},{"location":"python/Py-100Days/Python%E5%8F%82%E8%80%83%E4%B9%A6%E7%B1%8D/#_4","title":"\u6570\u636e\u5206\u6790","text":"<ol> <li>\u300a\u5229\u7528Python\u8fdb\u884c\u6570\u636e\u5206\u6790\u300b\uff08Python for Data Analysis\uff09</li> <li>\u300aPython\u6570\u636e\u79d1\u5b66\u624b\u518c\u300b\uff08Python Data Science Handbook\uff09</li> <li>\u300aPython\u91d1\u878d\u5927\u6570\u636e\u5206\u6790\u300b\uff08Python for Finance\uff09</li> <li>\u300aPython\u6570\u636e\u53ef\u89c6\u5316\u7f16\u7a0b\u5b9e\u6218\u300b\uff08Python Data Visualization Cookbook\uff09</li> <li>\u300aPython\u6570\u636e\u5904\u7406\u300b\uff08Data Wrangling with Python\uff09</li> </ol>"},{"location":"python/Py-100Days/Python%E5%8F%82%E8%80%83%E4%B9%A6%E7%B1%8D/#_5","title":"\u673a\u5668\u5b66\u4e60","text":"<ol> <li>\u300aPython\u673a\u5668\u5b66\u4e60\u57fa\u7840\u6559\u7a0b\u300b\uff08Introduction to Machine Learning with Python\uff09</li> <li>\u300aPython\u673a\u5668\u5b66\u4e60\u5b9e\u8df5\u6307\u5357\u300b\uff08Python Machine Learning Blueprints\uff09</li> <li>\u300aPython Machine Learning Case Studies\u300b</li> <li>\u300aPython\u673a\u5668\u5b66\u4e60\u5b9e\u8df5\uff1a\u6d4b\u8bd5\u9a71\u52a8\u7684\u5f00\u53d1\u65b9\u6cd5\u300b\uff08Thoughtful Machine Learning with Python A Test Driven Approach\uff09</li> <li>\u300aPython\u673a\u5668\u5b66\u4e60\u7ecf\u5178\u5b9e\u4f8b\u300b\uff08Python Machine Learning Cookbook\uff09</li> <li>\u300aTensorFlow\uff1a\u5b9e\u6218Google\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\u300b</li> </ol>"},{"location":"python/Py-100Days/Python%E6%83%AF%E4%BE%8B/","title":"Python\u60ef\u4f8b","text":""},{"location":"python/Py-100Days/Python%E6%83%AF%E4%BE%8B/#python","title":"Python\u60ef\u4f8b","text":"<p>\u201c\u60ef\u4f8b\u201d\u8fd9\u4e2a\u8bcd\u6307\u7684\u662f\u201c\u4e60\u60ef\u7684\u505a\u6cd5\uff0c\u5e38\u89c4\u7684\u529e\u6cd5\uff0c\u4e00\u8d2f\u7684\u505a\u6cd5\u201d\uff0c\u4e0e\u8fd9\u4e2a\u8bcd\u5bf9\u5e94\u7684\u82f1\u6587\u5355\u8bcd\u53eb\u201cidiom\u201d\u3002\u7531\u4e8ePython\u8ddf\u5176\u4ed6\u5f88\u591a\u7f16\u7a0b\u8bed\u8a00\u5728\u8bed\u6cd5\u548c\u4f7f\u7528\u4e0a\u8fd8\u662f\u6709\u6bd4\u8f83\u663e\u8457\u7684\u5dee\u522b\uff0c\u56e0\u6b64\u4f5c\u4e3a\u4e00\u4e2aPython\u5f00\u53d1\u8005\u5982\u679c\u4e0d\u80fd\u638c\u63e1\u8fd9\u4e9b\u60ef\u4f8b\uff0c\u5c31\u65e0\u6cd5\u5199\u51fa\u201cPythonic\u201d\u7684\u4ee3\u7801\u3002\u4e0b\u9762\u6211\u4eec\u603b\u7ed3\u4e86\u4e00\u4e9b\u5728Python\u5f00\u53d1\u4e2d\u7684\u60ef\u7528\u7684\u4ee3\u7801\u3002</p> <ol> <li>\u8ba9\u4ee3\u7801\u65e2\u53ef\u4ee5\u88ab\u5bfc\u5165\u53c8\u53ef\u4ee5\u88ab\u6267\u884c\u3002</li> </ol> <pre><code>if __name__ == '__main__':\n</code></pre> <ol> <li>\u7528\u4e0b\u9762\u7684\u65b9\u5f0f\u5224\u65ad\u903b\u8f91\u201c\u771f\u201d\u6216\u201c\u5047\u201d\u3002</li> </ol> <pre><code>if x:\nif not x:\n</code></pre> <p>\u597d\u7684\u4ee3\u7801\uff1a</p> <pre><code>name = 'jackfrued'\nfruits = ['apple', 'orange', 'grape']\nowners = {'1001': '\u9a86\u660a', '1002': '\u738b\u5927\u9524'}\nif name and fruits and owners:\n    print('I love fruits!')\n</code></pre> <p>\u4e0d\u597d\u7684\u4ee3\u7801\uff1a</p> <pre><code>name = 'jackfrued'\nfruits = ['apple', 'orange', 'grape']\nowners = {'1001': '\u9a86\u660a', '1002': '\u738b\u5927\u9524'}\nif name != '' and len(fruits) &gt; 0 and owners != {}:\n    print('I love fruits!')\n</code></pre> <ol> <li>\u5584\u4e8e\u4f7f\u7528in\u8fd0\u7b97\u7b26\u3002</li> </ol> <pre><code>if x in items: # \u5305\u542b\nfor x in items: # \u8fed\u4ee3\n</code></pre> <p>\u597d\u7684\u4ee3\u7801\uff1a</p> <pre><code>name = 'Hao LUO'\nif 'L' in name:\n    print('The name has an L in it.')\n</code></pre> <p>\u4e0d\u597d\u7684\u4ee3\u7801\uff1a</p> <pre><code>name = 'Hao LUO'\nif name.find('L') != -1:\n    print('This name has an L in it!')\n</code></pre> <ol> <li>\u4e0d\u4f7f\u7528\u4e34\u65f6\u53d8\u91cf\u4ea4\u6362\u4e24\u4e2a\u503c\u3002</li> </ol> <pre><code>a, b = b, a\n</code></pre> <ol> <li>\u7528\u5e8f\u5217\u6784\u5efa\u5b57\u7b26\u4e32\u3002</li> </ol> <p>\u597d\u7684\u4ee3\u7801\uff1a</p> <pre><code>chars = ['j', 'a', 'c', 'k', 'f', 'r', 'u', 'e', 'd']\nname = ''.join(chars)\nprint(name)  # jackfrued\n</code></pre> <p>\u4e0d\u597d\u7684\u4ee3\u7801\uff1a</p> <pre><code>chars = ['j', 'a', 'c', 'k', 'f', 'r', 'u', 'e', 'd']\nname = ''\nfor char in chars:\n    name += char\nprint(name)  # jackfrued\n</code></pre> <ol> <li>EAFP\u4f18\u4e8eLBYL\u3002</li> </ol> <p>EAFP - Easier to Ask Forgiveness than Permission.</p> <p>LBYL - Look Before You Leap.</p> <p>\u597d\u7684\u4ee3\u7801\uff1a</p> <pre><code>d = {'x': '5'}\ntry:\n    value = int(d['x'])\n    print(value)\nexcept (KeyError, TypeError, ValueError):\n    value = None\n</code></pre> <p>\u4e0d\u597d\u7684\u4ee3\u7801\uff1a</p> <pre><code>d = {'x': '5'}\nif 'x' in d and isinstance(d['x'], str) \\\n     and d['x'].isdigit():\n    value = int(d['x'])\n    print(value)\nelse:\n    value = None\n</code></pre> <ol> <li>\u4f7f\u7528enumerate\u8fdb\u884c\u8fed\u4ee3\u3002</li> </ol> <p>\u597d\u7684\u4ee3\u7801\uff1a</p> <pre><code>fruits = ['orange', 'grape', 'pitaya', 'blueberry']\nfor index, fruit in enumerate(fruits):\n print(index, ':', fruit)\n</code></pre> <p>\u4e0d\u597d\u7684\u4ee3\u7801\uff1a</p> <pre><code>fruits = ['orange', 'grape', 'pitaya', 'blueberry']\nindex = 0\nfor fruit in fruits:\n    print(index, ':', fruit)\n    index += 1\n</code></pre> <ol> <li>\u7528\u751f\u6210\u5f0f\u751f\u6210\u5217\u8868\u3002</li> </ol> <p>\u597d\u7684\u4ee3\u7801\uff1a</p> <pre><code>data = [7, 20, 3, 15, 11]\nresult = [num * 3 for num in data if num &gt; 10]\nprint(result)  # [60, 45, 33]\n</code></pre> <p>\u4e0d\u597d\u7684\u4ee3\u7801\uff1a</p> <pre><code>data = [7, 20, 3, 15, 11]\nresult = []\nfor i in data:\n    if i &gt; 10:\n        result.append(i * 3)\nprint(result)  # [60, 45, 33]\n</code></pre> <ol> <li>\u7528zip\u7ec4\u5408\u952e\u548c\u503c\u6765\u521b\u5efa\u5b57\u5178\u3002</li> </ol> <p>\u597d\u7684\u4ee3\u7801\uff1a</p> <pre><code>keys = ['1001', '1002', '1003']\nvalues = ['\u9a86\u660a', '\u738b\u5927\u9524', '\u767d\u5143\u82b3']\nd = dict(zip(keys, values))\nprint(d)\n</code></pre> <p>\u4e0d\u597d\u7684\u4ee3\u7801\uff1a</p> <pre><code>keys = ['1001', '1002', '1003']\nvalues = ['\u9a86\u660a', '\u738b\u5927\u9524', '\u767d\u5143\u82b3']\nd = {}\nfor i, key in enumerate(keys):\n    d[key] = values[i]\nprint(d)\n</code></pre> <p>\u8bf4\u660e\uff1a\u8fd9\u7bc7\u6587\u7ae0\u7684\u5185\u5bb9\u6765\u81ea\u4e8e\u7f51\u7edc\uff0c\u6709\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u9605\u8bfb\u539f\u6587\u3002</p>"},{"location":"python/Py-100Days/%E5%B8%B8%E8%A7%81%E5%8F%8D%E7%88%AC%E7%AD%96%E7%95%A5%E5%8F%8A%E5%BA%94%E5%AF%B9%E6%96%B9%E6%A1%88/","title":"\u5e38\u89c1\u53cd\u722c\u7b56\u7565\u53ca\u5e94\u5bf9\u65b9\u6848","text":""},{"location":"python/Py-100Days/%E5%B8%B8%E8%A7%81%E5%8F%8D%E7%88%AC%E7%AD%96%E7%95%A5%E5%8F%8A%E5%BA%94%E5%AF%B9%E6%96%B9%E6%A1%88/#_1","title":"\u5e38\u89c1\u53cd\u722c\u7b56\u7565\u53ca\u5e94\u5bf9\u65b9\u6848","text":"<ol> <li>\u6784\u9020\u5408\u7406\u7684HTTP\u8bf7\u6c42\u5934\u3002</li> <li> <p>Accept</p> </li> <li> <p>User-Agent - \u4e09\u65b9\u5e93fake-useragent</p> <pre><code>from fake_useragent import UserAgent\nua = UserAgent()\n\nua.ie\n# Mozilla/5.0 (Windows; U; MSIE 9.0; Windows NT 9.0; en-US);\nua.msie\n# Mozilla/5.0 (compatible; MSIE 10.0; Macintosh; Intel Mac OS X 10_7_3; Trident/6.0)'\nua['Internet Explorer']\n# Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0; GTB7.4; InfoPath.2; SV1; .NET CLR 3.3.69573; WOW64; en-US)\nua.opera\n# Opera/9.80 (X11; Linux i686; U; ru) Presto/2.8.131 Version/11.11\nua.chrome\n# Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.2 (KHTML, like Gecko) Chrome/22.0.1216.0 Safari/537.2'\nua.google\n# Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_4) AppleWebKit/537.13 (KHTML, like Gecko) Chrome/24.0.1290.1 Safari/537.13\nua['google chrome']\n# Mozilla/5.0 (X11; CrOS i686 2268.111.0) AppleWebKit/536.11 (KHTML, like Gecko) Chrome/20.0.1132.57 Safari/536.11\nua.firefox\n# Mozilla/5.0 (Windows NT 6.2; Win64; x64; rv:16.0.1) Gecko/20121011 Firefox/16.0.1\nua.ff\n# Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:15.0) Gecko/20100101 Firefox/15.0.1\nua.safari\n# Mozilla/5.0 (iPad; CPU OS 6_0 like Mac OS X) AppleWebKit/536.26 (KHTML, like Gecko) Version/6.0 Mobile/10A5355d Safari/8536.25\n\n# and the best one, random via real world browser usage statistic\nua.random\n</code></pre> </li> <li> <p>Referer</p> </li> <li> <p>Accept-Encoding</p> </li> <li> <p>Accept-Language</p> </li> <li>\u68c0\u67e5\u7f51\u7ad9\u751f\u6210\u7684Cookie\u3002</li> <li>\u6709\u7528\u7684\u63d2\u4ef6\uff1aEditThisCookie</li> <li>\u5982\u4f55\u5904\u7406\u811a\u672c\u52a8\u6001\u751f\u6210\u7684Cookie</li> <li>\u6293\u53d6\u52a8\u6001\u5185\u5bb9\u3002</li> <li>Selenium + WebDriver</li> <li>Chrome / Firefox - Driver</li> <li>\u9650\u5236\u722c\u53d6\u7684\u901f\u5ea6\u3002</li> <li>\u5904\u7406\u8868\u5355\u4e2d\u7684\u9690\u85cf\u57df\u3002</li> <li>\u5728\u8bfb\u53d6\u5230\u9690\u85cf\u57df\u4e4b\u524d\u4e0d\u8981\u63d0\u4ea4\u8868\u5355</li> <li>\u7528RoboBrowser\u8fd9\u6837\u7684\u5de5\u5177\u8f85\u52a9\u63d0\u4ea4\u8868\u5355</li> <li>\u5904\u7406\u8868\u5355\u4e2d\u7684\u9a8c\u8bc1\u7801\u3002</li> <li> <p>OCR\uff08Tesseract\uff09 - \u5546\u4e1a\u9879\u76ee\u4e00\u822c\u4e0d\u8003\u8651 </p> </li> <li> <p>\u4e13\u4e1a\u8bc6\u522b\u5e73\u53f0 - \u8d85\u7ea7\u9e70 / \u4e91\u6253\u7801</p> <pre><code>from hashlib import md5\n\nclass ChaoClient(object):\n\n    def __init__(self, username, password, soft_id):\n        self.username = username\n        password =  password.encode('utf-8')\n        self.password = md5(password).hexdigest()\n        self.soft_id = soft_id\n        self.base_params = {\n            'user': self.username,\n            'pass2': self.password,\n            'softid': self.soft_id,\n        }\n        self.headers = {\n            'Connection': 'Keep-Alive',\n            'User-Agent': 'Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0)',\n        }\n\n    def post_pic(self, im, codetype):\n        params = {\n            'codetype': codetype,\n        }\n        params.update(self.base_params)\n        files = {'userfile': ('captcha.jpg', im)}\n        r = requests.post('http://upload.chaojiying.net/Upload/Processing.php', data=params, files=files, headers=self.headers)\n        return r.json()\n\n\nif __name__ == '__main__':\n    client = ChaoClient('\u7528\u6237\u540d', '\u5bc6\u7801', '\u8f6f\u4ef6ID')\n    with open('captcha.jpg', 'rb') as file:                                                \n        print(client.post_pic(file, 1902))                                          \n</code></pre> </li> <li> <p>\u7ed5\u5f00\u201c\u9677\u9631\u201d\u3002</p> </li> <li>\u7f51\u9875\u4e0a\u6709\u8bf1\u4f7f\u722c\u866b\u722c\u53d6\u7684\u722c\u53d6\u7684\u9690\u85cf\u94fe\u63a5\uff08\u9677\u9631\u6216\u871c\u7f50\uff09</li> <li>\u901a\u8fc7Selenium+WebDriver+Chrome\u5224\u65ad\u94fe\u63a5\u662f\u5426\u53ef\u89c1\u6216\u5728\u53ef\u89c6\u533a\u57df</li> <li>\u9690\u85cf\u8eab\u4efd\u3002</li> <li> <p>\u4ee3\u7406\u670d\u52a1 -  \u5feb\u4ee3\u7406 / \u8baf\u4ee3\u7406 / \u829d\u9ebb\u4ee3\u7406 / \u8611\u83c7\u4ee3\u7406 / \u4e91\u4ee3\u7406</p> <p>\u300a\u722c\u866b\u4ee3\u7406\u54ea\u5bb6\u5f3a\uff1f\u5341\u5927\u4ed8\u8d39\u4ee3\u7406\u8be6\u7ec6\u5bf9\u6bd4\u8bc4\u6d4b\u51fa\u7089\uff01\u300b</p> </li> <li> <p>\u6d0b\u8471\u8def\u7531 - \u56fd\u5185\u9700\u8981\u7ffb\u5899\u624d\u80fd\u4f7f\u7528</p> <pre><code>yum -y install tor\nuseradd admin -d /home/admin\npasswd admin\nchown -R admin:admin /home/admin\nchown -R admin:admin /var/run/tor\ntor\n</code></pre> </li> </ol>"},{"location":"python/Py-100Days/%E7%8E%A9%E8%BD%ACPyCharm/","title":"\u73a9\u8f6cPyCharm","text":""},{"location":"python/Py-100Days/%E7%8E%A9%E8%BD%ACPyCharm/#pycharm","title":"\u73a9\u8f6cPyCharm","text":"<p>PyCharm\u662f\u7531JetBrains\u516c\u53f8\u5f00\u53d1\u7684\u63d0\u4f9b\u7ed9Python\u4e13\u4e1a\u7684\u5f00\u53d1\u8005\u7684\u4e00\u4e2a\u96c6\u6210\u5f00\u53d1\u73af\u5883\uff0c\u5b83\u6700\u5927\u7684\u4f18\u70b9\u662f\u80fd\u591f\u5927\u5927\u63d0\u5347Python\u5f00\u53d1\u8005\u7684\u5de5\u4f5c\u6548\u7387\uff0c\u4e3a\u5f00\u53d1\u8005\u96c6\u6210\u4e86\u5f88\u591a\u7528\u8d77\u6765\u975e\u5e38\u987a\u624b\u7684\u529f\u80fd\uff0c\u5305\u62ec\u4ee3\u7801\u8c03\u8bd5\u3001\u9ad8\u4eae\u8bed\u6cd5\u3001\u4ee3\u7801\u8df3\u8f6c\u3001\u667a\u80fd\u63d0\u793a\u3001\u81ea\u52a8\u8865\u5168\u3001\u5355\u5143\u6d4b\u8bd5\u3001\u7248\u672c\u63a7\u5236\u7b49\u7b49\u3002\u6b64\u5916\uff0cPyCharm\u8fd8\u63d0\u4f9b\u4e86\u5bf9\u4e00\u4e9b\u9ad8\u7ea7\u529f\u80fd\u7684\u652f\u6301\uff0c\u5305\u62ec\u652f\u6301\u57fa\u4e8eDjango\u6846\u67b6\u7684Web\u5f00\u53d1\u3001\u3002</p>"},{"location":"python/Py-100Days/%E7%8E%A9%E8%BD%ACPyCharm/#pycharm_1","title":"PyCharm\u7684\u5b89\u88c5","text":"<p>\u53ef\u4ee5\u5728JetBrains\u516c\u53f8\u7684\u5b98\u65b9\u7f51\u7ad9\u627e\u5230PyCharm\u7684\u4e0b\u8f7d\u94fe\u63a5\uff0c\u6709\u4e24\u4e2a\u53ef\u4f9b\u4e0b\u8f7d\u7684\u7248\u672c\u4e00\u4e2a\u662f\u793e\u533a\u7248\u4e00\u4e2a\u662f\u4e13\u4e1a\u7248\uff0c\u793e\u533a\u7248\u5728Apache\u8bb8\u53ef\u8bc1\u4e0b\u53d1\u5e03\uff0c\u4e13\u4e1a\u7248\u5728\u4e13\u7528\u8bb8\u53ef\u8bc1\u4e0b\u53d1\u5e03\uff08\u9700\u8981\u8d2d\u4e70\u6388\u6743\u4e0b\u8f7d\u540e\u53ef\u8bd5\u752830\u5929\uff09\uff0c\u5176\u62e5\u6709\u8bb8\u591a\u989d\u5916\u529f\u80fd\u3002\u5b89\u88c5PyCharm\u9700\u8981\u6709JRE\uff08Java\u8fd0\u884c\u65f6\u73af\u5883\uff09\u7684\u652f\u6301\uff0c\u5982\u679c\u6ca1\u6709\u53ef\u4ee5\u5728\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u9009\u62e9\u5728\u7ebf\u4e0b\u8f7d\u5b89\u88c5\u3002</p> <p>\u8bf4\u660e\uff1a\u5982\u679c\u4f60\u662f\u4e00\u540d\u5b66\u751f\uff0c\u5e0c\u671b\u8d2d\u4e70PyCharm\u6765\u4f7f\u7528\uff0c\u53ef\u4ee5\u770b\u770b\u6559\u80b2\u4f18\u60e0\u5b98\u65b9\u7533\u8bf7\u6307\u5357\u3002</p>"},{"location":"python/Py-100Days/%E7%8E%A9%E8%BD%ACPyCharm/#_1","title":"\u9996\u6b21\u4f7f\u7528\u7684\u8bbe\u7f6e","text":"<p>\u7b2c\u4e00\u6b21\u4f7f\u7528PyCharm\u65f6\uff0c\u4f1a\u6709\u4e00\u4e2a\u5bfc\u5165\u8bbe\u7f6e\u7684\u5411\u5bfc\uff0c\u5982\u679c\u4e4b\u524d\u6ca1\u6709\u4f7f\u7528PyCharm\u6216\u8005\u6ca1\u6709\u4fdd\u5b58\u8fc7\u8bbe\u7f6e\u7684\u5c31\u76f4\u63a5\u9009\u62e9\u201cDo not import settings\u201d\u8fdb\u5165\u4e0b\u4e00\u6b65\u5373\u53ef\u3002</p> <p></p> <p>\u4e13\u4e1a\u7248\u7684PyCharm\u662f\u9700\u8981\u6fc0\u6d3b\u7684\uff0c\u5f3a\u70c8\u5efa\u8bae\u4e3a\u4f18\u79c0\u7684\u8f6f\u4ef6\u652f\u4ed8\u8d39\u7528\uff0c\u5982\u679c\u4e0d\u7528\u505a\u5546\u4e1a\u7528\u9014\uff0c\u6211\u4eec\u53ef\u4ee5\u6682\u65f6\u9009\u62e9\u8bd5\u752830\u5929\u6216\u8005\u4f7f\u7528\u793e\u533a\u7248\u7684PyCharm\u3002</p> <p></p> <p>\u63a5\u4e0b\u6765\u662f\u9009\u62e9UI\u4e3b\u9898\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u6839\u636e\u4e2a\u4eba\u559c\u597d\u8fdb\u884c\u9009\u62e9\u3002</p> <p></p> <p>\u518d\u63a5\u4e0b\u6765\u662f\u521b\u5efa\u53ef\u4ee5\u5728\u7ec8\u7aef\uff08\u547d\u4ee4\u884c\uff09\u4e2d\u4f7f\u7528PyCharm\u9879\u76ee\u7684\u542f\u52a8\u811a\u672c\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u76f4\u63a5\u8df3\u8fc7\u8fd9\u4e00\u6b65\u3002</p> <p></p> <p>\u7136\u540e\u53ef\u4ee5\u9009\u62e9\u9700\u8981\u5b89\u88c5\u54ea\u4e9b\u63d2\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u6682\u65f6\u4ec0\u4e48\u90fd\u4e0d\u5b89\u88c5\u7b49\u9700\u8981\u7684\u65f6\u5019\u518d\u6765\u51b3\u5b9a\u3002</p> <p></p>"},{"location":"python/Py-100Days/%E7%8E%A9%E8%BD%ACPyCharm/#pycharm_2","title":"\u7528PyCharm\u521b\u5efa\u9879\u76ee","text":"<p>\u70b9\u51fb\u4e0a\u56fe\u4e2d\u7684\u201cStart using PyCharm\u201d\u6309\u94ae\u5c31\u53ef\u4ee5\u5f00\u59cb\u4f7f\u7528PyCharm\u5566\uff0c\u9996\u5148\u6765\u5230\u7684\u662f\u4e00\u4e2a\u6b22\u8fce\u9875\uff0c\u5728\u6b22\u8fce\u9875\u4e0a\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u201c\u521b\u5efa\u65b0\u9879\u76ee\u201d\u3001\u201c\u6253\u5f00\u5df2\u6709\u9879\u76ee\u201d\u548c\u201c\u4ece\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u4e2d\u68c0\u51fa\u9879\u76ee\u201d\u3002</p> <p></p> <p>\u5982\u679c\u9009\u62e9\u4e86\u201cCreate New Project\u201d\u6765\u521b\u5efa\u65b0\u9879\u76ee\u5c31\u4f1a\u6253\u4e00\u4e2a\u521b\u5efa\u9879\u76ee\u7684\u5411\u5bfc\u9875\u3002</p> <p></p> <p>\u5728\u5982\u4e0a\u56fe\u6240\u793a\u7684\u754c\u9762\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u521b\u5efa\u9879\u76ee\u7684\u6a21\u677f\uff0c\u5305\u62ec\u4e86\u7eafPython\u9879\u76ee\u3001\u57fa\u4e8e\u5404\u79cd\u4e0d\u540c\u6846\u67b6\u7684Web\u9879\u76ee\u3001Web\u524d\u7aef\u9879\u76ee\u3001\u8de8\u5e73\u53f0\u9879\u76ee\u7b49\u5404\u79cd\u4e0d\u540c\u7684\u9879\u76ee\u6a21\u677f\u3002\u5982\u679c\u9009\u62e9Python\u7684\u9879\u76ee\uff0c\u90a3\u4e48\u6709\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u8bbe\u5b9a\u662f\u9009\u62e9\u201cNew environment\u2026\u201d\uff08\u521b\u5efa\u65b0\u7684\u865a\u62df\u73af\u5883\uff09\u8fd8\u662f\u4f7f\u7528\u201cExisting Interpreter\u201d\uff08\u5df2\u7ecf\u5b58\u5728\u7684\u89e3\u91ca\u5668\uff09\u3002\u524d\u8005\u80af\u5b9a\u662f\u66f4\u597d\u7684\u9009\u62e9\uff0c\u56e0\u4e3a\u65b0\u7684\u865a\u62df\u73af\u5883\u4e0d\u4f1a\u5bf9\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u4e2d\u914d\u7f6e\u7684Python\u73af\u5883\u9020\u6210\u5f71\u54cd\uff0c\u7b80\u5355\u4e3e\u4e2a\u4f8b\u5b50\u5c31\u662f\u4f60\u5728\u865a\u62df\u73af\u5883\u4e0b\u5b89\u88c5\u6216\u8005\u66f4\u65b0\u4e86\u4efb\u4f55\u4e09\u65b9\u5e93\uff0c\u5b83\u5e76\u4e0d\u4f1a\u5bf9\u7cfb\u7edf\u539f\u6709\u7684Python\u89e3\u91ca\u5668\u9020\u6210\u4efb\u4f55\u7684\u5f71\u54cd\uff0c\u4f46\u4ee3\u4ef7\u662f\u9700\u8981\u989d\u5916\u7684\u5b58\u50a8\u7a7a\u95f4\u6765\u5efa\u7acb\u8fd9\u4e2a\u865a\u62df\u73af\u5883\u3002</p> <p>\u9879\u76ee\u521b\u5efa\u5b8c\u6210\u540e\u5c31\u53ef\u4ee5\u5f00\u59cb\u65b0\u5efa\u5404\u79cd\u6587\u4ef6\u6765\u4e66\u5199Python\u4ee3\u7801\u4e86\u3002</p> <p></p> <p>\u5728\u5de5\u4f5c\u7a97\u53e3\u7684\u53f3\u952e\u83dc\u5355\u4e2d\u53ef\u4ee5\u627e\u5230\u201cRun ...\u201d\u548c\u201cDebug ...\u201d\u83dc\u5355\u9879\uff0c\u901a\u8fc7\u8fd9\u4e24\u4e2a\u83dc\u5355\u9879\u6211\u4eec\u5c31\u53ef\u4ee5\u8fd0\u884c\u548c\u8c03\u8bd5\u6211\u4eec\u7684\u4ee3\u7801\u5566\u3002\u5efa\u8bae\u5173\u6ce8\u4e00\u4e0b\u83dc\u5355\u680f\u4e2d\u7684\u201cCode\u201d\u3001\u201cRefactor\u201d\u548c\u201cTools\u201d\u83dc\u5355\uff0c\u8fd9\u91cc\u9762\u4e3a\u7f16\u5199Python\u4ee3\u7801\u63d0\u4f9b\u4e86\u5f88\u591a\u6709\u7528\u7684\u5e2e\u52a9\u3002</p>"},{"location":"python/Py-100Days/%E7%8E%A9%E8%BD%ACPyCharm/#django","title":"\u521b\u5efaDjango\u9879\u76ee","text":""},{"location":"python/Py-100Days/%E7%8E%A9%E8%BD%ACPyCharm/#_2","title":"\u4e13\u4e1a\u7248","text":"<p>PyCharm\u4e13\u4e1a\u7248\u63d0\u4f9b\u4e86\u5bf9Django\u3001Flask\u3001Google App Engine\u3001web2py\u7b49Python Web\u6846\u67b6\u4ee5\u53caSQL\u3001UML\u3001\u524d\u7aef\u8bed\u8a00\u548c\u6846\u67b6\u3001\u8fdc\u7a0b\u8c03\u8bd5\u3001\u865a\u62df\u5316\u90e8\u7f72\u7b49\u529f\u80fd\u7684\u652f\u6301\uff0c\u5982\u679c\u4f7f\u7528PyCharm\u4e13\u4e1a\u7248\uff0c\u5728\u521b\u5efa\u9879\u76ee\u65f6\u53ef\u4ee5\u76f4\u63a5\u9009\u62e9\u521b\u5efaDjango\u9879\u76ee\u5e76\u8bbe\u7f6e\u6a21\u677f\u8bed\u8a00\u4ee5\u53ca\u653e\u7f6e\u6a21\u677f\u9875\u7684\u6587\u4ef6\u5939\u3002</p> <p></p> <p>\u521b\u5efa\u597d\u9879\u76ee\u4e4b\u540e\uff0c\u6253\u5f00\u7ec8\u7aef\u8f93\u5165<code>pip list</code>\u547d\u4ee4\uff0c\u53ef\u4ee5\u770b\u5230\u9879\u76ee\u6240\u9700\u7684\u4f9d\u8d56\u9879\u5df2\u7ecf\u5b89\u88c5\u597d\u4e86\uff0c\u800c\u4e14\u53ef\u4ee5\u76f4\u63a5\u70b9\u51fb\u5c4f\u5e55\u53f3\u4e0a\u65b9\u7684\u8fd0\u884c\u6216\u8c03\u8bd5\u6309\u94ae\u6765\u76f4\u63a5\u8fd0\u884cDjango\u9879\u76ee\u3002</p> <p></p>"},{"location":"python/Py-100Days/%E7%8E%A9%E8%BD%ACPyCharm/#_3","title":"\u793e\u533a\u7248","text":"<p>PyCharm\u793e\u533a\u7248\u53ea\u80fd\u521b\u5efaPython\u9879\u76ee\uff0c\u5982\u679c\u9879\u76ee\u4e2d\u9700\u8981Django\u7684\u652f\u6301\uff0c\u53ef\u4ee5\u81ea\u884c\u5b89\u88c5\u4f9d\u8d56\u5e93\u5e76\u521b\u5efaDjango\u9879\u76ee\u3002</p> <p></p> <p>\u521b\u5efa\u597dPython\u9879\u76ee\u4e4b\u540e\uff0c\u53ef\u4ee5\u6253\u5f00\u5c4f\u5e55\u4e0b\u65b9\u7684\u7ec8\u7aef\uff08Terminal\uff09\uff0c\u5e76\u901a\u8fc7<code>pip install</code>\u5b89\u88c5Django\u9879\u76ee\u7684\u4f9d\u8d56\u9879\u3002</p> <p></p> <p>\u5f53\u7136\u4e5f\u53ef\u4ee5\u5728\u9879\u76ee\u7684\u8bbe\u7f6e\u83dc\u5355\u4e2d\u627e\u5230\u89e3\u91ca\u5668\u914d\u7f6e\uff0c\u5e76\u9009\u62e9\u8981\u6dfb\u52a0\u7684\u4f9d\u8d56\u9879\u3002</p> <p></p> <p></p> <p>\u63a5\u4e0b\u6765\u53ef\u4ee5\u5728\u7ec8\u7aef\u4e2d\u8f93\u5165<code>django-amdin startproject</code>\u6307\u4ee4\u6765\u521b\u5efa\u9879\u76ee\u3002</p> <p></p> <p>\u5982\u679c\u8981\u8fd0\u884c\u9879\u76ee\uff0c\u53ef\u4ee5\u5728\u7ec8\u7aef\u4e2d\u8f93\u5165<code>python manage.py runserver</code>\u542f\u52a8\u6d4b\u8bd5\u670d\u52a1\u5668\u3002\u5f53\u7136\uff0c\u4e5f\u53ef\u4ee5\u70b9\u51fb\u5c4f\u5e55\u53f3\u4e0a\u65b9\u7684\u201cAdd Configuration\u201d\u6309\u94ae\uff0c\u8fdb\u5165\u5982\u4e0b\u6240\u793a\u7684\u914d\u7f6e\u754c\u9762\uff0c\u5e76\u70b9\u51fb\u7a97\u53e3\u5de6\u4e0a\u89d2\u7684\u201c+\u201d\u6765\u6dfb\u52a0\u4e00\u4e2a\u8fd0\u884c\u914d\u7f6e\u3002</p> <p></p> <p>\u5728\u914d\u7f6e\u7a97\u53e3\u7684\u53f3\u4fa7\uff0c\u6307\u5b9a\u8981\u6267\u884c\u7684\u811a\u672c\u8def\u5f84\uff08Django\u9879\u76ee\u7684manage.py\u6587\u4ef6\u7684\u4f4d\u7f6e\uff09\u548c\u8fd0\u884c\u53c2\u6570\uff08runserver\uff09\u3002</p> <p></p> <p>\u6ce8\u610f\u5230\u7a97\u53e3\u7684\u53f3\u4e0a\u89d2\u4e86\u5417\uff1f\u73b0\u5728\u53ef\u4ee5\u70b9\u51fb\u8fd0\u884c\u6216\u8c03\u8bd5\u6309\u94ae\u6765\u542f\u52a8\u6d4b\u8bd5\u670d\u52a1\u5668\u8fd0\u884c\u9879\u76ee\u4e86\u3002</p> <p></p>"},{"location":"python/Py-100Days/%E7%94%A8%E5%87%BD%E6%95%B0%E8%BF%98%E6%98%AF%E7%94%A8%E5%A4%8D%E6%9D%82%E7%9A%84%E8%A1%A8%E8%BE%BE%E5%BC%8F/","title":"\u7528\u51fd\u6570\u8fd8\u662f\u7528\u590d\u6742\u7684\u8868\u8fbe\u5f0f","text":""},{"location":"python/Py-100Days/%E7%94%A8%E5%87%BD%E6%95%B0%E8%BF%98%E6%98%AF%E7%94%A8%E5%A4%8D%E6%9D%82%E7%9A%84%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_1","title":"\u8981\u4e0d\u8981\u4f7f\u7528\u590d\u6742\u8868\u8fbe\u5f0f","text":"<p>Perl\u8bed\u8a00\u7684\u539f\u4f5c\u8005Larry Wall\u66fe\u7ecf\u8bf4\u8fc7\uff0c\u4f1f\u5927\u7684\u7a0b\u5e8f\u5458\u90fd\u6709\u4e09\u4e2a\u4f18\u70b9\uff1a\u61d2\u60f0\u3001\u66b4\u8e81\u548c\u81ea\u8d1f\u3002\u4e4d\u4e00\u770b\u8fd9\u4e09\u4e2a\u8bcd\u8bed\u6ca1\u6709\u4e00\u4e2a\u662f\u8912\u4e49\u8bcd\uff0c\u4f46\u5728\u7a0b\u5e8f\u5458\u7684\u4e16\u754c\u91cc\uff0c\u8fd9\u4e09\u4e2a\u8bcd\u6709\u4e0d\u540c\u7684\u610f\u4e49\u3002\u9996\u5148\uff0c\u61d2\u60f0\u4f1a\u4fc3\u4f7f\u7a0b\u5e8f\u5458\u53bb\u5199\u4e00\u4e9b\u7701\u4e8b\u513f\u7684\u7a0b\u5e8f\u6765\u8f85\u52a9\u81ea\u5df1\u6216\u522b\u4eba\u66f4\u597d\u7684\u5b8c\u6210\u5de5\u4f5c\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u65e0\u9700\u505a\u90a3\u4e9b\u91cd\u590d\u548c\u7e41\u7410\u7684\u52b3\u52a8\uff1b\u540c\u7406\u80fd\u591f\u75283\u884c\u4ee3\u7801\u89e3\u51b3\u7684\u4e8b\u60c5\uff0c\u6211\u4eec\u4e5f\u7edd\u4e0d\u4f1a\u5199\u51fa10\u884c\u4ee3\u7801\u6765\u3002\u5176\u6b21\uff0c\u66b4\u8e81\u4f1a\u8ba9\u7a0b\u5e8f\u5458\u4e3b\u52a8\u7684\u53bb\u5b8c\u6210\u4e00\u4e9b\u4f60\u8fd8\u6ca1\u6709\u63d0\u51fa\u7684\u5de5\u4f5c\uff0c\u53bb\u4f18\u5316\u81ea\u5df1\u7684\u4ee3\u7801\u8ba9\u5b83\u66f4\u6709\u6548\u7387\uff0c\u80fd\u591f3\u79d2\u949f\u5b8c\u6210\u7684\u4efb\u52a1\uff0c\u6211\u4eec\u7edd\u4e0d\u80fd\u5bb9\u5fcd1\u5206\u949f\u7684\u7b49\u5f85\u3002\u6700\u540e\uff0c\u81ea\u8d1f\u4f1a\u4fc3\u4f7f\u7a0b\u5e8f\u5458\u5199\u51fa\u53ef\u9760\u65e0\u8bef\u7684\u4ee3\u7801\uff0c\u6211\u4eec\u5199\u4ee3\u7801\u4e0d\u662f\u4e3a\u4e86\u63a5\u53d7\u6279\u8bc4\u548c\u6307\u8d23\uff0c\u800c\u662f\u4e3a\u4e86\u8ba9\u5176\u4ed6\u4eba\u6765\u819c\u62dc\u3002</p> <p>\u90a3\u4e48\u63a5\u4e0b\u6765\u5c31\u6709\u4e00\u4e2a\u5f88\u6709\u610f\u601d\u7684\u95ee\u9898\u503c\u5f97\u63a2\u8ba8\u4e00\u4e0b\uff0c\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u7a0b\u5e8f\u4ece\u8f93\u5165\u7684\u4e09\u4e2a\u6570\u4e2d\u627e\u51fa\u6700\u5927\u7684\u90a3\u4e2a\u6570\u3002\u8fd9\u4e2a\u7a0b\u5e8f\u5bf9\u4efb\u4f55\u4f1a\u7f16\u7a0b\u7684\u4eba\u6765\u8bf4\u90fd\u662f\u5c0f\u83dc\u4e00\u789f\uff0c\u751a\u81f3\u4e0d\u4f1a\u7f16\u7a0b\u7684\u4eba\u7ecf\u8fc710\u5206\u949f\u7684\u5b66\u4e60\u4e5f\u80fd\u641e\u5b9a\u3002\u4e0b\u9762\u662f\u7528\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684Python\u4ee3\u7801\u3002</p> <pre><code>a = int(input('a = '))\nb = int(input('b = '))\nc = int(input('c = '))\nif a &gt; b:\n    the_max = a\nelse:\n    the_max = b\nif c &gt; the_max:\n    the_max = c\nprint('The max is:', the_max)\n</code></pre> <p>\u4f46\u662f\u6211\u4eec\u521a\u624d\u8bf4\u4e86\uff0c\u7a0b\u5e8f\u5458\u90fd\u662f\u61d2\u60f0\u7684\uff0c\u5f88\u591a\u7a0b\u5e8f\u5458\u90fd\u4f1a\u4f7f\u7528\u4e09\u5143\u6761\u4ef6\u8fd0\u7b97\u7b26\u6765\u6539\u5199\u4e0a\u9762\u7684\u4ee3\u7801\u3002</p> <pre><code>a = int(input('a = '))\nb = int(input('b = '))\nc = int(input('c = '))\nthe_max = a if a &gt; b else b\nthe_max = c if c &gt; the_max else the_max\nprint('The max is:', the_max)\n</code></pre> <p>\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0cPython\u57282.5\u7248\u672c\u4ee5\u524d\u662f\u6ca1\u6709\u4e0a\u9762\u4ee3\u7801\u7b2c4\u884c\u548c\u7b2c5\u884c\u4e2d\u4f7f\u7528\u7684\u4e09\u5143\u6761\u4ef6\u8fd0\u7b97\u7b26\u7684\uff0c\u7a76\u5176\u539f\u56e0\u662fGuido van Rossum\uff08Python\u4e4b\u7236\uff09\u8ba4\u4e3a\u4e09\u5143\u6761\u4ef6\u8fd0\u7b97\u7b26\u5e76\u4e0d\u80fd\u5e2e\u52a9 Python\u53d8\u5f97\u66f4\u52a0\u7b80\u6d01\uff0c\u4e8e\u662f\u90a3\u4e9b\u4e60\u60ef\u4e86\u5728C/C++\u6216Java\u4e2d\u4f7f\u7528\u4e09\u5143\u6761\u4ef6\u8fd0\u7b97\u7b26\uff08\u5728\u8fd9\u4e9b\u8bed\u8a00\u4e2d\uff0c\u4e09\u5143\u6761\u4ef6\u8fd0\u7b97\u7b26\u4e5f\u79f0\u4e3a\u201cElvis\u8fd0\u7b97\u7b26\u201d\uff0c\u56e0\u4e3a<code>?:</code>\u653e\u5728\u4e00\u8d77\u5f88\u50cf\u8457\u540d\u6447\u6eda\u6b4c\u624b\u732b\u738bElvis\u7684\u5927\u80cc\u5934\uff09\u7684\u7a0b\u5e8f\u5458\u8bd5\u7740\u7528<code>and</code>\u548c<code>or</code>\u8fd0\u7b97\u7b26\u7684\u77ed\u8def\u7279\u6027\u6765\u6a21\u62df\u51fa\u4e09\u5143\u64cd\u4f5c\u7b26\uff0c\u4e8e\u662f\u5728\u90a3\u4e2a\u5e74\u4ee3\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u662f\u8fd9\u6837\u5199\u7684\u3002</p> <pre><code>a = int(input('a = '))\nb = int(input('b = '))\nc = int(input('c = '))\nthe_max = a &gt; b and a or b\nthe_max = c &gt; the_max and c or the_max\nprint('The max is:', the_max)\n</code></pre> <p>\u4f46\u662f\u8fd9\u79cd\u505a\u6cd5\u5728\u67d0\u4e9b\u573a\u666f\u4e0b\u662f\u4e0d\u80fd\u6210\u7acb\u7684\uff0c\u4e14\u770b\u4e0b\u9762\u7684\u4ee3\u7801\u3002</p> <pre><code>a = 0\nb = -100\n# \u4e0b\u9762\u7684\u4ee3\u7801\u672c\u6765\u9884\u671f\u8f93\u51faa\u7684\u503c\uff0c\u7ed3\u679c\u5374\u5f97\u5230\u4e86b\u7684\u503c\n# \u56e0\u4e3aa\u7684\u503c0\u5728\u8fdb\u884c\u903b\u8f91\u8fd0\u7b97\u65f6\u4f1a\u88ab\u89c6\u4e3aFalse\u6765\u5904\u7406\nprint(True and a or b)\n# print(a if True else b)\n</code></pre> <p>\u6240\u4ee5\u5728Python 2.5\u4ee5\u540e\u5f15\u5165\u4e86\u4e09\u5143\u6761\u4ef6\u8fd0\u7b97\u7b26\u6765\u907f\u514d\u4e0a\u9762\u7684\u98ce\u9669\uff08\u4e0a\u9762\u4ee3\u7801\u88ab\u6ce8\u91ca\u6389\u7684\u6700\u540e\u4e00\u53e5\u8bdd\uff09\u3002\u90a3\u4e48\uff0c\u95ee\u9898\u53c8\u6765\u4e86\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u8fd8\u53ef\u4ee5\u5199\u5f97\u66f4\u7b80\u77ed\u5417\uff1f\u7b54\u6848\u662f\u80af\u5b9a\u7684\u3002</p> <pre><code>a = int(input('a = '))\nb = int(input('b = '))\nc = int(input('c = '))\nprint('The max is:', (a if a &gt; b else b) if (a if a &gt; b else b) &gt; c else c)\n</code></pre> <p>\u4f46\u662f\uff0c\u8fd9\u6837\u505a\u771f\u7684\u597d\u5417\uff1f\u5982\u6b64\u590d\u6742\u7684\u8868\u8fbe\u5f0f\u662f\u4e0d\u662f\u8ba9\u4ee3\u7801\u53d8\u5f97\u6666\u6da9\u4e86\u5f88\u591a\u5462\uff1f\u6211\u4eec\u53d1\u73b0\uff0c\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\u5f88\u591a\u5f00\u53d1\u8005\u90fd\u559c\u6b22\u8fc7\u5ea6\u7684\u4f7f\u7528\u67d0\u79cd\u8bed\u8a00\u7684\u7279\u6027\u6216\u8bed\u6cd5\u7cd6\uff0c\u4e8e\u662f\u7b80\u5355\u7684\u591a\u884c\u4ee3\u7801\u53d8\u6210\u4e86\u590d\u6742\u7684\u5355\u884c\u8868\u8fbe\u5f0f\uff0c\u8fd9\u6837\u505a\u771f\u7684\u597d\u5417\uff1f\u8fd9\u4e2a\u95ee\u9898\u6211\u4e5f\u4e0d\u6b62\u4e00\u6b21\u7684\u95ee\u8fc7\u81ea\u5df1\uff0c\u73b0\u5728\u6211\u80fd\u7ed9\u51fa\u7684\u7b54\u6848\u662f\u4e0b\u9762\u7684\u4ee3\u7801\uff0c\u4f7f\u7528\u8f85\u52a9\u51fd\u6570\u3002</p> <pre><code>def the_max(x, y):\n    return x if x &gt; y else y\n\n\na = int(input('a = '))\nb = int(input('b = '))\nc = int(input('c = '))\nprint('The max is:', the_max(the_max(a, b), c))\n</code></pre> <p>\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u5b9a\u4e49\u4e86\u4e00\u4e2a\u8f85\u52a9\u51fd\u6570<code>the_max</code>\u7528\u6765\u627e\u51fa\u53c2\u6570\u4f20\u5165\u7684\u4e24\u4e2a\u503c\u4e2d\u8f83\u5927\u7684\u90a3\u4e00\u4e2a\uff0c\u4e8e\u662f\u4e0b\u9762\u7684\u8f93\u51fa\u8bed\u53e5\u53ef\u4ee5\u901a\u8fc7\u4e24\u6b21\u8c03\u7528<code>the_max</code>\u51fd\u6570\u6765\u627e\u51fa\u4e09\u4e2a\u6570\u4e2d\u7684\u6700\u5927\u503c\uff0c\u73b0\u5728\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u662f\u4e0d\u662f\u597d\u4e86\u5f88\u591a\u3002\u7528\u8f85\u52a9\u51fd\u6570\u6765\u66ff\u4ee3\u590d\u6742\u7684\u8868\u8fbe\u5f0f\u771f\u7684\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u9009\u62e9\uff0c\u5173\u952e\u662f\u6bd4\u8f83\u5927\u5c0f\u7684\u903b\u8f91\u8f6c\u79fb\u5230\u8fd9\u4e2a\u8f85\u52a9\u51fd\u6570\u540e\u4e0d\u4ec5\u53ef\u4ee5\u53cd\u590d\u8c03\u7528\u5b83\uff0c\u800c\u4e14\u8fd8\u53ef\u4ee5\u8fdb\u884c\u7ea7\u8054\u64cd\u4f5c\u3002</p> <p>\u5f53\u7136\uff0c\u5f88\u591a\u8bed\u8a00\u4e2d\u6bd4\u8f83\u5927\u5c0f\u7684\u51fd\u6570\u6839\u672c\u6ca1\u6709\u5fc5\u8981\u81ea\u5df1\u6765\u5b9e\u73b0\uff08\u901a\u5e38\u90fd\u662f\u5185\u7f6e\u51fd\u6570\uff09\uff0cPython\u4e5f\u662f\u5982\u6b64\u3002Python\u5185\u7f6e\u7684max\u51fd\u6570\u5229\u7528\u4e86Python\u5bf9\u53ef\u53d8\u53c2\u6570\u7684\u652f\u6301\uff0c\u5141\u8bb8\u4e00\u6b21\u6027\u4f20\u5165\u591a\u4e2a\u503c\u6216\u8005\u4e00\u4e2a\u8fed\u4ee3\u5668\u5e76\u627e\u51fa\u90a3\u4e2a\u6700\u5927\u503c\uff0c\u6240\u4ee5\u4e0a\u9762\u8ba8\u8bba\u7684\u95ee\u9898\u5728Python\u4e2d\u4e5f\u5c31\u662f\u4e00\u53e5\u8bdd\u7684\u4e8b\uff0c\u4f46\u662f\u4ece\u590d\u6742\u8868\u8fbe\u5f0f\u5230\u4f7f\u7528\u8f85\u52a9\u51fd\u6570\u7b80\u5316\u590d\u6742\u8868\u8fbe\u5f0f\u8fd9\u4e2a\u601d\u60f3\u662f\u975e\u5e38\u503c\u5f97\u73a9\u5473\u7684\uff0c\u6240\u4ee5\u5206\u4eab\u51fa\u6765\u8ddf\u5927\u5bb6\u505a\u4e00\u4e2a\u4ea4\u6d41\u3002</p> <pre><code>a = int(input('a = '))\nb = int(input('b = '))\nc = int(input('c = '))\nprint('The max is:', max(a, b, c))\n</code></pre>"},{"location":"python/Py-100Days/%E7%9F%A5%E4%B9%8E%E9%97%AE%E9%A2%98%E5%9B%9E%E7%AD%94/","title":"\u77e5\u4e4e\u95ee\u9898\u56de\u7b54","text":""},{"location":"python/Py-100Days/%E7%9F%A5%E4%B9%8E%E9%97%AE%E9%A2%98%E5%9B%9E%E7%AD%94/#_1","title":"\u77e5\u4e4e\u95ee\u9898\u56de\u7b54","text":""},{"location":"python/Py-100Days/%E7%9F%A5%E4%B9%8E%E9%97%AE%E9%A2%98%E5%9B%9E%E7%AD%94/#python","title":"Python\u5b66\u4e60\u5b8c\u57fa\u7840\u8bed\u6cd5\u77e5\u8bc6\u540e\uff0c\u5982\u4f55\u8fdb\u4e00\u6b65\u63d0\u9ad8\uff1f","text":"<p>\u5982\u679c\u4f60\u5df2\u7ecf\u5b8c\u6210\u4e86Python\u57fa\u7840\u8bed\u6cd5\u7684\u5b66\u4e60\uff0c\u60f3\u8981\u77e5\u9053\u63a5\u4e0b\u6765\u5982\u4f55\u63d0\u9ad8\uff0c\u90a3\u4e48\u4f60\u5f97\u5148\u95ee\u95ee\u81ea\u5df1\u4f60\u8981\u7528Python\u6765\u505a\u4ec0\u4e48\uff1f\u76ee\u524d\u5b66\u4e60Python\u540e\u53ef\u80fd\u7684\u5c31\u4e1a\u65b9\u5411\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u9886\u57df\uff0c\u6211\u628a\u6bcf\u4e2a\u9886\u57df\u9700\u8981\u7684\u6280\u672f\u4f5c\u4e3a\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u5173\u952e\u8bcd\u6458\u8981\u3002</p> <p>\u8bf4\u660e\uff1a\u4ee5\u4e0b\u6570\u636e\u53c2\u8003\u4e86\u4e3b\u8981\u7684\u62db\u8058\u95e8\u6237\u7f51\u7ad9\u4ee5\u53ca\u804c\u53cb\u96c6\u3002</p> \u804c\u4f4d \u6240\u9700\u6280\u80fd \u62db\u8058\u9700\u6c42\u91cf Python\u540e\u7aef\u5f00\u53d1\u5de5\u7a0b\u5e08 Python\u57fa\u7840Django / Flask / Tornado / SanicRESTful / \u63a5\u53e3\u6587\u6863\u64b0\u5199MySQL / Redis / MongoDB / ElasticSearchLinux / Git / Scrum / PyCharm \u5927 Python\u722c\u866b\u5f00\u53d1\u5de5\u7a0b\u5e08 Python\u57fa\u7840\u5e38\u7528\u6807\u51c6\u5e93\u548c\u4e09\u65b9\u5e93Scrapy / PySpiderSelenium / AppniumRedis / MongoDB / MySQL\u524d\u7aef / HTTP(S) / \u6293\u5305\u5de5\u5177 \u8f83\u5c11 Python\u91cf\u5316\u4ea4\u6613\u5f00\u53d1\u5de5\u7a0b\u5e08 Python\u57fa\u7840\u6570\u636e\u7ed3\u6784 / \u7b97\u6cd5 / \u8bbe\u8ba1\u6a21\u5f0fNoSQL\uff08KV\u6570\u636e\u5e93\uff09\u91d1\u878d\u5b66\uff08\u4e24\u878d\u3001\u671f\u6743\u3001\u671f\u8d27\u3001\u80a1\u7968\uff09 / \u6570\u5b57\u8d27\u5e01 \u8f83\u5927\uff08\u4e00\u7ebf\u57ce\u5e02\uff09 Python\u6570\u636e\u5206\u6790\u5de5\u7a0b\u5e08 /Python\u673a\u5668\u5b66\u4e60\u5de5\u7a0b\u5e08 \u7edf\u8ba1\u5b66\u4e13\u4e1a / \u6570\u5b66\u4e13\u4e1a / \u8ba1\u7b97\u673a\u4e13\u4e1aPython\u57fa\u7840 / \u7b97\u6cd5\u8bbe\u8ba1SQL / NoSQL / Hive / Hadoop / SparkNumPy / Scikit-Learn / Pandas / SeabornPyTorch / Tensorflow / OpenCV \u8f83\u5927\uff08\u4e00\u7ebf\u57ce\u5e02\uff09 Python\u81ea\u52a8\u5316\u6d4b\u8bd5\u5de5\u7a0b\u5e08 Python\u57fa\u7840 / \u5355\u5143\u6d4b\u8bd5 / \u8f6f\u4ef6\u6d4b\u8bd5\u57fa\u7840Linux / Shell / JIRA / \u7985\u9053 / Jenkins / CI / CDSelenium / Robot Framework / Appniumab / sysbench / JMeter / LoadRunner / QTP \u5927 Python\u81ea\u52a8\u5316\u8fd0\u7ef4\u5de5\u7a0b\u5e08 Python\u57fa\u7840 / Linux / Shell Fabric / Ansible / PlaybookZabbix / Saltstack / PuppetDocker / paramiko \u8f83\u5927\uff08\u4e00\u7ebf\u57ce\u5e02\uff09 Python\u4e91\u5e73\u53f0\u5f00\u53d1\u5de5\u7a0b\u5e08 Python\u57fa\u7840OpenStack / CloudStackOvirt / KVMDocker / K8S \u8f83\u5c11\uff08\u4e00\u7ebf\u57ce\u5e02\uff09 <p>\u5982\u679c\u5f04\u6e05\u4e86\u81ea\u5df1\u5c06\u6765\u8981\u505a\u7684\u65b9\u5411\uff0c\u5c31\u53ef\u4ee5\u5f00\u59cb\u6709\u9488\u5bf9\u6027\u7684\u5b66\u4e60\u4e86\uff0c\u4e0b\u9762\u7ed9\u5927\u5bb6\u4e00\u4e2a\u63a8\u8350\u4e66\u7c4d\u7684\u6e05\u5355\u3002</p> <ol> <li>\u5165\u95e8\u8bfb\u7269</li> <li>\u300aPython\u57fa\u7840\u6559\u7a0b\u300b\uff08Beginning Python From Novice to Professional\uff09</li> <li>\u300aPython\u5b66\u4e60\u624b\u518c\u300b\uff08Learning Python\uff09</li> <li>\u300aPython\u7f16\u7a0b\u300b\uff08Programming Python\uff09</li> <li>\u300aPython\u7f16\u7a0b\u4ece\u5165\u95e8\u5230\u5b9e\u8df5\u300b\uff08Python Crash Course\uff09</li> <li>\u300aPython Cookbook\u300b</li> <li>\u8fdb\u9636\u8bfb\u7269</li> <li>\u300a\u8f6f\u4ef6\u67b6\u6784 - Python\u8bed\u8a00\u5b9e\u73b0\u300b\uff08Software Architecture with Python\uff09</li> <li>\u300a\u6d41\u7545\u7684Python\u300b\uff08Fluent Python\uff09</li> <li>\u300aPython\u8bbe\u8ba1\u6a21\u5f0f\u300b\uff08Learning Python Design Patterns\uff09</li> <li>\u300aPython\u9ad8\u7ea7\u7f16\u7a0b\u300b\uff08Expert Python Programming\uff09</li> <li>\u300aPython\u6027\u80fd\u5206\u6790\u4e0e\u4f18\u5316\u300b\uff08Mastering Python High Performance\uff09</li> <li>\u6570\u636e\u5e93\u76f8\u5173</li> <li>\u300aMySQL\u5fc5\u77e5\u5fc5\u4f1a\u300b\uff08MySQL Crash Course\uff09</li> <li>\u300a\u6df1\u5165\u6d45\u51faMySQL - \u6570\u636e\u5e93\u5f00\u53d1\u3001\u4f18\u5316\u4e0e\u7ba1\u7406\u7ef4\u62a4\u300b</li> <li>\u300aMongoDB\u6743\u5a01\u6307\u5357\u300b\uff08MongoDB: The Definitive Guide\uff09</li> <li>\u300aRedis\u5b9e\u6218\u300b\uff08Redis in Action\uff09</li> <li>\u300aRedis\u5f00\u53d1\u4e0e\u8fd0\u7ef4\u300b</li> <li>Linux / Shell / Docker / \u8fd0\u7ef4</li> <li>\u300a\u9e1f\u54e5\u7684Linux\u79c1\u623f\u83dc\u300b</li> <li>\u300aLinux\u547d\u4ee4\u884c\u4e0eshell\u811a\u672c\u7f16\u7a0b\u5927\u5168\u300b\uff08Linux Command Line and Shell Scripting Bible\uff09</li> <li>\u300aPython\u81ea\u52a8\u5316\u8fd0\u7ef4:\u6280\u672f\u4e0e\u6700\u4f73\u5b9e\u8df5\u300b</li> <li>\u300a\u7b2c\u4e00\u672cDocker\u4e66\u300b\uff08The Docker Book\uff09</li> <li>\u300aDocker\u7ecf\u5178\u5b9e\u4f8b\u300b\uff08Docker Cookbook\uff09</li> <li>Django / Flask / Tornado</li> <li> <p>\u300aDjango\u57fa\u7840\u6559\u7a0b\u300b\uff08Tango with Django\uff09</p> </li> <li> <p>\u300a\u8f7b\u91cf\u7ea7Django\u300b\uff08Lightweight Django\uff09</p> </li> <li> <p>\u300a\u7cbe\u901aDjango\u300b\uff08Mastering Django: Core\uff09</p> </li> <li> <p>\u300aPython Web\u5f00\u53d1\uff1a\u6d4b\u8bd5\u9a71\u52a8\u65b9\u6cd5\u300b\uff08Test-Driven Development with Python\uff09</p> </li> <li> <p>\u300aTwo Scoops of Django: Best Practice of Django 1.8\u300b</p> </li> <li> <p>\u300aFlask Web\u5f00\u53d1\uff1a\u57fa\u4e8ePython\u7684Web\u5e94\u7528\u5f00\u53d1\u5b9e\u6218\u300b\uff08Flask Web Development: Developing Web Applications with Python\uff09</p> </li> <li> <p>\u300a\u6df1\u5165\u7406\u89e3Flask\u300b\uff08Mastering Flask\uff09</p> </li> <li> <p>\u300aIntroduction to Tornado\u300b</p> </li> <li> <p>\u722c\u866b\u5f00\u53d1</p> </li> <li> <p>\u300a\u7528Python\u5199\u7f51\u7edc\u722c\u866b\u300b\uff08Web Scraping with Python\uff09</p> </li> <li> <p>\u300a\u7cbe\u901aPython\u722c\u866b\u6846\u67b6Scrapy\u300b\uff08Learning Scrapy\uff09</p> </li> <li> <p>\u300aPython\u7f51\u7edc\u6570\u636e\u91c7\u96c6\u300b\uff08Web Scraping with Python\uff09</p> </li> <li> <p>\u300aPython\u722c\u866b\u5f00\u53d1\u4e0e\u9879\u76ee\u5b9e\u6218\u300b</p> </li> <li> <p>\u300aPython 3\u7f51\u7edc\u722c\u866b\u5f00\u53d1\u5b9e\u6218\u300b</p> </li> <li> <p>\u6570\u636e\u5206\u6790</p> </li> <li> <p>\u300a\u5229\u7528Python\u8fdb\u884c\u6570\u636e\u5206\u6790\u300b\uff08Python for Data Analysis\uff09</p> </li> <li>\u300aPython\u6570\u636e\u79d1\u5b66\u624b\u518c\u300b\uff08Python Data Science Handbook\uff09</li> <li>\u300aPython\u91d1\u878d\u5927\u6570\u636e\u5206\u6790\u300b\uff08Python for Finance\uff09</li> <li>\u300aPython\u6570\u636e\u53ef\u89c6\u5316\u7f16\u7a0b\u5b9e\u6218\u300b\uff08Python Data Visualization Cookbook\uff09</li> <li> <p>\u300aPython\u6570\u636e\u5904\u7406\u300b\uff08Data Wrangling with Python\uff09</p> </li> <li> <p>\u673a\u5668\u5b66\u4e60</p> </li> <li> <p>\u300aPython\u673a\u5668\u5b66\u4e60\u57fa\u7840\u6559\u7a0b\u300b\uff08Introduction to Machine Learning with Python\uff09</p> </li> <li> <p>\u300aPython\u673a\u5668\u5b66\u4e60\u5b9e\u8df5\u6307\u5357\u300b\uff08Python Machine Learning Blueprints\uff09</p> </li> <li> <p>\u300aPython\u673a\u5668\u5b66\u4e60\u5b9e\u8df5\uff1a\u6d4b\u8bd5\u9a71\u52a8\u7684\u5f00\u53d1\u65b9\u6cd5\u300b\uff08Thoughtful Machine Learning with Python A Test Driven Approach\uff09</p> </li> <li>\u300aPython\u673a\u5668\u5b66\u4e60\u7ecf\u5178\u5b9e\u4f8b\u300b\uff08Python Machine Learning Cookbook\uff09</li> <li> <p>\u300aTensorFlow\uff1a\u5b9e\u6218Google\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\u300b</p> </li> <li> <p>\u5176\u4ed6\u4e66\u7c4d</p> </li> <li> <p>\u300aPro Git\u300b</p> </li> <li>\u300aSelenium\u81ea\u52a8\u5316\u6d4b\u8bd5 - \u57fa\u4e8ePython\u8bed\u8a00\u300b\uff08Learning Selenium Testing Tools with Python\uff09</li> <li>\u300aSelenium\u81ea\u52a8\u5316\u6d4b\u8bd5\u4e4b\u9053\u300b</li> <li>\u300aScrum\u654f\u6377\u8f6f\u4ef6\u5f00\u53d1\u300b\uff08Software Development using Scrum\uff09</li> <li>\u300a\u9ad8\u6548\u56e2\u961f\u5f00\u53d1 - \u5de5\u5177\u4e0e\u65b9\u6cd5\u300b</li> </ol> <p>\u5f53\u7136\u5b66\u4e60\u7f16\u7a0b\uff0c\u6700\u91cd\u8981\u7684\u901a\u8fc7\u9879\u76ee\u5b9e\u6218\u6765\u63d0\u5347\u81ea\u5df1\u7684\u7efc\u5408\u80fd\u529b\uff0cGithub\u4e0a\u6709\u5927\u91cf\u7684\u4f18\u8d28\u5f00\u6e90\u9879\u76ee\uff0c\u5176\u4e2d\u4e0d\u4e4f\u4f18\u8d28\u7684Python\u9879\u76ee\u3002\u6709\u4e00\u4e2a\u540d\u4e3a\u201cawesome-python-applications\u201d\u7684\u9879\u76ee\u5bf9\u8fd9\u4e9b\u4f18\u8d28\u7684\u8d44\u6e90\u8fdb\u884c\u4e86\u5f52\u7c7b\u5e76\u63d0\u4f9b\u4e86\u4f20\u9001\u95e8\uff0c\u5927\u5bb6\u53ef\u4ee5\u4e86\u89e3\u4e0b\u3002\u5982\u679c\u81ea\u5b66\u80fd\u529b\u4e0d\u662f\u90a3\u4e48\u5f3a\uff0c\u53ef\u4ee5\u901a\u8fc7\u7f51\u7edc\u4e0a\u514d\u8d39\u6216\u8005\u4ed8\u8d39\u7684\u89c6\u9891\u8bfe\u7a0b\u6765\u5b66\u4e60\u5bf9\u5e94\u7684\u77e5\u8bc6\uff1b\u5982\u679c\u81ea\u5f8b\u6027\u6ca1\u6709\u90a3\u4e48\u5f3a\uff0c\u90a3\u5c31\u53ea\u80fd\u5efa\u8bae\u82b1\u94b1\u53c2\u52a0\u57f9\u8bad\u73ed\u4e86\uff0c\u56e0\u4e3a\u82b1\u94b1\u5728\u6709\u4eba\u76d1\u7763\u7684\u73af\u5883\u4e0b\u5b66\u4e60\u5bf9\u5f88\u591a\u4eba\u6765\u8bf4\u786e\u5b9e\u662f\u4e00\u4e2a\u6377\u5f84\uff0c\u4f46\u662f\u8981\u8bb0\u5f97\uff1a\u201c\u5e08\u5085\u9886\u8fdb\u95e8\uff0c\u4fee\u884c\u9760\u5404\u4eba\u201d\u3002\u9009\u62e9\u81ea\u5df1\u70ed\u7231\u7684\u4e1c\u897f\u5e76\u5168\u529b\u4ee5\u8d74\uff0c\u4e0d\u8981\u76f2\u76ee\u7684\u8ddf\u98ce\u5b66\u4e60\uff0c\u8fd9\u4e00\u70b9\u7b97\u662f\u8fc7\u6765\u4eba\u7684\u5fe0\u544a\u5427\u3002\u8bb0\u5f97\u6211\u81ea\u5df1\u521a\u5f00\u59cb\u8fdb\u5165\u8f6f\u4ef6\u5f00\u53d1\u8fd9\u4e2a\u884c\u4e1a\u65f6\uff0c\u6709\u4eba\u8ddf\u6211\u8bf4\u8fc7\u8fd9\u4e48\u4e00\u53e5\u8bdd\uff0c\u73b0\u5728\u4e5f\u5206\u4eab\u51fa\u6765\u4e0e\u8bf8\u541b\u5171\u52c9\uff1a\u201c\u6d6e\u8e81\u7684\u4eba\u6709\u4e24\u79cd\uff1a\u53ea\u89c2\u671b\u800c\u4e0d\u5b66\u4e60\u7684\u4eba\uff0c\u53ea\u5b66\u4e60\u800c\u4e0d\u575a\u6301\u7684\u4eba\uff1b\u6d6e\u8e81\u7684\u4eba\u90fd\u4e0d\u662f\u9ad8\u624b\u3002\u201d</p>"},{"location":"python/Py-100Days/%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E4%BB%AC%E8%B8%A9%E8%BF%87%E7%9A%84%E9%82%A3%E4%BA%9B%E5%9D%91/","title":"\u90a3\u4e9b\u5e74\u6211\u4eec\u8e29\u8fc7\u7684\u90a3\u4e9b\u5751","text":""},{"location":"python/Py-100Days/%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E4%BB%AC%E8%B8%A9%E8%BF%87%E7%9A%84%E9%82%A3%E4%BA%9B%E5%9D%91/#_1","title":"\u90a3\u4e9b\u5e74\u6211\u4eec\u8e29\u8fc7\u7684\u90a3\u4e9b\u5751","text":""},{"location":"python/Py-100Days/%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E4%BB%AC%E8%B8%A9%E8%BF%87%E7%9A%84%E9%82%A3%E4%BA%9B%E5%9D%91/#1-","title":"\u57511 - \u6574\u6570\u6bd4\u8f83\u7684\u5751","text":"<p>\u5728 Python \u4e2d\u4e00\u5207\u90fd\u662f\u5bf9\u8c61\uff0c\u6574\u6570\u4e5f\u662f\u5bf9\u8c61\uff0c\u5728\u6bd4\u8f83\u4e24\u4e2a\u6574\u6570\u65f6\u6709\u4e24\u4e2a\u8fd0\u7b97\u7b26<code>==</code>\u548c<code>is</code>\uff0c\u5b83\u4eec\u7684\u533a\u522b\u662f\uff1a</p> <ul> <li><code>is</code>\u6bd4\u8f83\u7684\u662f\u4e24\u4e2a\u6574\u6570\u5bf9\u8c61\u7684id\u503c\u662f\u5426\u76f8\u7b49\uff0c\u4e5f\u5c31\u662f\u6bd4\u8f83\u4e24\u4e2a\u5f15\u7528\u662f\u5426\u4ee3\u8868\u4e86\u5185\u5b58\u4e2d\u540c\u4e00\u4e2a\u5730\u5740\u3002</li> <li><code>==</code>\u6bd4\u8f83\u7684\u662f\u4e24\u4e2a\u6574\u6570\u5bf9\u8c61\u7684\u5185\u5bb9\u662f\u5426\u76f8\u7b49\uff0c\u4f7f\u7528<code>==</code>\u65f6\u5176\u5b9e\u662f\u8c03\u7528\u4e86\u5bf9\u8c61\u7684<code>__eq__()</code>\u65b9\u6cd5\u3002</li> </ul> <p>\u77e5\u9053\u4e86<code>is</code>\u548c<code>==</code>\u7684\u533a\u522b\u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u6765\u770b\u770b\u4e0b\u9762\u7684\u4ee3\u7801\uff0c\u4e86\u89e3Python\u4e2d\u6574\u6570\u6bd4\u8f83\u6709\u54ea\u4e9b\u5751\uff1a</p> <pre><code>def main():\n    x = y = -1\n    while True:\n        x += 1\n        y += 1\n        if x is y:\n            print('%d is %d' % (x, y))\n        else:\n            print('Attention! %d is not %d' % (x, y))\n            break\n\n    x = y = 0\n    while True:\n        x -= 1\n        y -= 1\n        if x is y:\n            print('%d is %d' % (x, y))\n        else:\n            print('Attention! %d is not %d' % (x, y))\n            break\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u7684\u90e8\u5206\u8fd0\u884c\u7ed3\u679c\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u51fa\u73b0\u8fd9\u4e2a\u7ed3\u679c\u7684\u539f\u56e0\u662fPython\u51fa\u4e8e\u5bf9\u6027\u80fd\u7684\u8003\u8651\u6240\u505a\u7684\u4e00\u9879\u4f18\u5316\u3002\u5bf9\u4e8e\u6574\u6570\u5bf9\u8c61\uff0cPython\u628a\u4e00\u4e9b\u9891\u7e41\u4f7f\u7528\u7684\u6574\u6570\u5bf9\u8c61\u7f13\u5b58\u8d77\u6765\uff0c\u4fdd\u5b58\u5230\u4e00\u4e2a\u53eb<code>small_ints</code>\u7684\u94fe\u8868\u4e2d\uff0c\u5728Python\u7684\u6574\u4e2a\u751f\u547d\u5468\u671f\u5185\uff0c\u4efb\u4f55\u9700\u8981\u5f15\u7528\u8fd9\u4e9b\u6574\u6570\u5bf9\u8c61\u7684\u5730\u65b9\uff0c\u90fd\u4e0d\u518d\u91cd\u65b0\u521b\u5efa\u65b0\u7684\u5bf9\u8c61\uff0c\u800c\u662f\u76f4\u63a5\u5f15\u7528\u7f13\u5b58\u4e2d\u7684\u5bf9\u8c61\u3002Python\u628a\u9891\u7e41\u4f7f\u7528\u7684\u6574\u6570\u5bf9\u8c61\u7684\u503c\u5b9a\u5728[-5, 256]\u8fd9\u4e2a\u533a\u95f4\uff0c\u5982\u679c\u9700\u8981\u8fd9\u4e2a\u8303\u56f4\u7684\u6574\u6570\uff0c\u5c31\u76f4\u63a5\u4ece<code>small_ints</code>\u4e2d\u83b7\u53d6\u5f15\u7528\u800c\u4e0d\u662f\u4e34\u65f6\u521b\u5efa\u65b0\u7684\u5bf9\u8c61\u3002\u56e0\u4e3a\u5927\u4e8e256\u6216\u5c0f\u4e8e-5\u7684\u6574\u6570\u4e0d\u5728\u8be5\u8303\u56f4\u4e4b\u5185\uff0c\u6240\u4ee5\u5c31\u7b97\u4e24\u4e2a\u6574\u6570\u7684\u503c\u662f\u4e00\u6837\uff0c\u4f46\u5b83\u4eec\u662f\u4e0d\u540c\u7684\u5bf9\u8c61\u3002</p> <p></p> <p>\u5f53\u7136\u4ec5\u4ec5\u5982\u6b64\u8fd9\u4e2a\u5751\u5c31\u4e0d\u503c\u4e00\u63d0\u4e86\uff0c\u5982\u679c\u4f60\u7406\u89e3\u4e86\u4e0a\u9762\u7684\u89c4\u5219\uff0c\u6211\u4eec\u5c31\u518d\u770b\u770b\u4e0b\u9762\u7684\u4ee3\u7801\u3002</p> <pre><code>import dis\na = 257\n\n\ndef main():\n    b = 257  # \u7b2c6\u884c\n    c = 257  # \u7b2c7\u884c\n    print(b is c)  # True\n    print(a is b)  # False\n    print(a is c)  # False\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre> <p>\u7a0b\u5e8f\u7684\u6267\u884c\u7ed3\u679c\u5df2\u7ecf\u7528\u6ce8\u91ca\u5199\u5728\u4ee3\u7801\u4e0a\u4e86\u3002\u591f\u5751\u5427\uff01\u770b\u4e0a\u53bb<code>a</code>\u3001<code>b</code>\u548c<code>c</code>\u7684\u503c\u90fd\u662f\u4e00\u6837\u7684\uff0c\u4f46\u662f<code>is</code>\u8fd0\u7b97\u7684\u7ed3\u679c\u5374\u4e0d\u4e00\u6837\u3002\u4e3a\u4ec0\u4e48\u4f1a\u51fa\u73b0\u8fd9\u6837\u7684\u7ed3\u679c\uff0c\u9996\u5148\u6211\u4eec\u6765\u8bf4\u8bf4Python\u7a0b\u5e8f\u4e2d\u7684\u4ee3\u7801\u5757\u3002\u6240\u8c13\u4ee3\u7801\u5757\u662f\u7a0b\u5e8f\u7684\u4e00\u4e2a\u6700\u5c0f\u7684\u57fa\u672c\u6267\u884c\u5355\u4f4d\uff0c\u4e00\u4e2a\u6a21\u5757\u6587\u4ef6\u3001\u4e00\u4e2a\u51fd\u6570\u4f53\u3001\u4e00\u4e2a\u7c7b\u3001\u4ea4\u4e92\u5f0f\u547d\u4ee4\u4e2d\u7684\u5355\u884c\u4ee3\u7801\u90fd\u53eb\u505a\u4e00\u4e2a\u4ee3\u7801\u5757\u3002\u4e0a\u9762\u7684\u4ee3\u7801\u7531\u4e24\u4e2a\u4ee3\u7801\u5757\u6784\u6210\uff0c<code>a = 257</code>\u662f\u4e00\u4e2a\u4ee3\u7801\u5757\uff0c<code>main</code>\u51fd\u6570\u662f\u53e6\u5916\u4e00\u4e2a\u4ee3\u7801\u5757\u3002Python\u5185\u90e8\u4e3a\u4e86\u8fdb\u4e00\u6b65\u63d0\u9ad8\u6027\u80fd\uff0c\u51e1\u662f\u5728\u4e00\u4e2a\u4ee3\u7801\u5757\u4e2d\u521b\u5efa\u7684\u6574\u6570\u5bf9\u8c61\uff0c\u5982\u679c\u503c\u4e0d\u5728<code>small_ints</code>\u7f13\u5b58\u8303\u56f4\u4e4b\u5185\uff0c\u4f46\u5728\u540c\u4e00\u4e2a\u4ee3\u7801\u5757\u4e2d\u5df2\u7ecf\u5b58\u5728\u4e00\u4e2a\u503c\u4e0e\u5176\u76f8\u540c\u7684\u6574\u6570\u5bf9\u8c61\u4e86\uff0c\u90a3\u4e48\u5c31\u76f4\u63a5\u5f15\u7528\u8be5\u5bf9\u8c61\uff0c\u5426\u5219\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u51fa\u6765\uff0c\u8fd9\u6761\u89c4\u5219\u5bf9\u4e0d\u5728<code>small_ints</code>\u8303\u56f4\u7684\u8d1f\u6570\u5e76\u4e0d\u9002\u7528\uff0c\u5bf9\u8d1f\u6570\u503c\u6d6e\u70b9\u6570\u4e5f\u4e0d\u9002\u7528\uff0c\u4f46\u5bf9\u975e\u8d1f\u6d6e\u70b9\u6570\u548c\u5b57\u7b26\u4e32\u90fd\u662f\u9002\u7528\u7684\uff0c\u8fd9\u4e00\u70b9\u8bfb\u8005\u53ef\u4ee5\u81ea\u884c\u8bc1\u660e\u3002\u6240\u4ee5 <code>b is c</code>\u8fd4\u56de\u4e86<code>True</code>\uff0c\u800c<code>a</code>\u548c<code>b</code>\u4e0d\u5728\u540c\u4e00\u4e2a\u4ee3\u7801\u5757\u4e2d\uff0c\u867d\u7136\u503c\u90fd\u662f257\uff0c\u4f46\u5374\u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u5bf9\u8c61\uff0c<code>is</code>\u8fd0\u7b97\u7684\u7ed3\u679c\u81ea\u7136\u662f<code>False</code>\u4e86\u3002 \u4e3a\u4e86\u9a8c\u8bc1\u521a\u521a\u7684\u7ed3\u8bba\uff0c\u6211\u4eec\u53ef\u4ee5\u501f\u7528<code>dis</code>\u6a21\u5757\uff08\u542c\u540d\u5b57\u5c31\u77e5\u9053\u662f\u8fdb\u884c\u53cd\u6c47\u7f16\u7684\u6a21\u5757\uff09\u4ece\u5b57\u8282\u7801\u7684\u89d2\u5ea6\u6765\u770b\u770b\u8fd9\u6bb5\u4ee3\u7801\u3002\u5982\u679c\u4e0d\u7406\u89e3\u4ec0\u4e48\u662f\u5b57\u8282\u7801\uff0c\u53ef\u4ee5\u5148\u770b\u770b\u300a\u8c08\u8c08 Python \u7a0b\u5e8f\u7684\u8fd0\u884c\u539f\u7406\u300b\u8fd9\u7bc7\u6587\u7ae0\u3002\u53ef\u4ee5\u5148\u7528<code>import dis</code>\u5bfc\u5165<code>dis</code>\u6a21\u5757\u5e76\u6309\u7167\u5982\u4e0b\u6240\u793a\u7684\u65b9\u5f0f\u4fee\u6539\u4ee3\u7801\u3002</p> <pre><code>if __name__ == \"__main__\":\n    main()\n    dis.dis(main)\n</code></pre> <p>\u4ee3\u7801\u7684\u6267\u884c\u7ed3\u679c\u5982\u4e0b\u56fe\u6240\u793a\u3002\u53ef\u4ee5\u770b\u51fa\u4ee3\u7801\u7b2c6\u884c\u548c\u7b2c7\u884c\uff0c\u4e5f\u5c31\u662f<code>main</code>\u51fd\u6570\u4e2d\u7684257\u662f\u4ece\u540c\u4e00\u4e2a\u4f4d\u7f6e\u52a0\u8f7d\u7684\uff0c\u56e0\u6b64\u662f\u540c\u4e00\u4e2a\u5bf9\u8c61\uff1b\u800c\u4ee3\u7801\u7b2c9\u884c\u7684<code>a</code>\u660e\u663e\u662f\u4ece\u4e0d\u540c\u7684\u5730\u65b9\u52a0\u8f7d\u7684\uff0c\u56e0\u6b64\u5f15\u7528\u7684\u662f\u4e0d\u540c\u7684\u5bf9\u8c61\u3002</p> <p></p> <p>\u5982\u679c\u8fd8\u60f3\u5bf9\u8fd9\u4e2a\u95ee\u9898\u8fdb\u884c\u8fdb\u4e00\u6b65\u6df1\u6316\uff0c\u63a8\u8350\u5927\u5bb6\u9605\u8bfb\u300aPython\u6574\u6570\u5bf9\u8c61\u5b9e\u73b0\u539f\u7406\u300b\u8fd9\u7bc7\u6587\u7ae0\u3002</p>"},{"location":"python/Py-100Days/%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E4%BB%AC%E8%B8%A9%E8%BF%87%E7%9A%84%E9%82%A3%E4%BA%9B%E5%9D%91/#2-","title":"\u57512 - \u5d4c\u5957\u5217\u8868\u7684\u5751","text":"<p>Python\u4e2d\u6709\u4e00\u79cd\u5185\u7f6e\u7684\u6570\u636e\u7c7b\u578b\u53eb\u5217\u8868\uff0c\u5b83\u662f\u4e00\u79cd\u5bb9\u5668\uff0c\u53ef\u4ee5\u7528\u6765\u627f\u8f7d\u5176\u4ed6\u7684\u5bf9\u8c61\uff08\u51c6\u786e\u7684\u8bf4\u662f\u5176\u4ed6\u5bf9\u8c61\u7684\u5f15\u7528\uff09\uff0c\u5217\u8868\u4e2d\u7684\u5bf9\u8c61\u53ef\u4ee5\u79f0\u4e3a\u5217\u8868\u7684\u5143\u7d20\uff0c\u5f88\u660e\u663e\u6211\u4eec\u53ef\u4ee5\u628a\u5217\u8868\u4f5c\u4e3a\u5217\u8868\u4e2d\u7684\u5143\u7d20\uff0c\u8fd9\u5c31\u662f\u6240\u8c13\u7684\u5d4c\u5957\u5217\u8868\u3002\u5d4c\u5957\u5217\u8868\u53ef\u4ee5\u6a21\u62df\u51fa\u73b0\u5b9e\u4e2d\u7684\u8868\u683c\u3001\u77e9\u9635\u30012D\u6e38\u620f\u7684\u5730\u56fe\uff08\u5982\u690d\u7269\u5927\u6218\u50f5\u5c38\u7684\u82b1\u56ed\uff09\u3001\u68cb\u76d8\uff08\u5982\u56fd\u9645\u8c61\u68cb\u3001\u9ed1\u767d\u68cb\uff09\u7b49\u3002\u4f46\u662f\u5728\u4f7f\u7528\u5d4c\u5957\u7684\u5217\u8868\u65f6\u8981\u5c0f\u5fc3\uff0c\u5426\u5219\u5f88\u53ef\u80fd\u906d\u9047\u975e\u5e38\u5c34\u5c2c\u7684\u60c5\u51b5\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u5c0f\u4f8b\u5b50\u3002</p> <pre><code>def main():\n    names = ['\u5173\u7fbd', '\u5f20\u98de', '\u8d75\u4e91', '\u9a6c\u8d85', '\u9ec4\u5fe0']\n    subjs = ['\u8bed\u6587', '\u6570\u5b66', '\u82f1\u8bed']\n    scores = [[0] * 3] * 5\n    for row, name in enumerate(names):\n        print('\u8bf7\u8f93\u5165%s\u7684\u6210\u7ee9' % name)\n        for col, subj in enumerate(subjs):\n            scores[row][col] = float(input(subj + ': '))\n    print(scores)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u6211\u4eec\u5e0c\u671b\u5f55\u51655\u4e2a\u5b66\u751f3\u95e8\u8bfe\u7a0b\u7684\u6210\u7ee9\uff0c\u4e8e\u662f\u5b9a\u4e49\u4e86\u4e00\u4e2a\u67095\u4e2a\u5143\u7d20\u7684\u5217\u8868\uff0c\u800c\u5217\u8868\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u53c8\u662f\u4e00\u4e2a\u75313\u4e2a\u5143\u7d20\u6784\u6210\u7684\u5217\u8868\uff0c\u8fd9\u6837\u4e00\u4e2a\u5217\u8868\u7684\u5217\u8868\u521a\u597d\u8ddf\u4e00\u4e2a\u8868\u683c\u662f\u4e00\u81f4\u7684\uff0c\u76f8\u5f53\u4e8e\u67095\u884c3\u5217\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u901a\u8fc7\u5d4c\u5957\u7684for-in\u5faa\u73af\u8f93\u5165\u6bcf\u4e2a\u5b66\u751f3\u95e8\u8bfe\u7a0b\u7684\u6210\u7ee9\u3002\u7a0b\u5e8f\u6267\u884c\u5b8c\u6210\u540e\u6211\u4eec\u53d1\u73b0\uff0c\u6bcf\u4e2a\u5b66\u751f3\u95e8\u8bfe\u7a0b\u7684\u6210\u7ee9\u662f\u4e00\u6a21\u4e00\u6837\u7684\uff0c\u800c\u4e14\u5c31\u662f\u6700\u540e\u5f55\u5165\u7684\u90a3\u4e2a\u5b66\u751f\u7684\u6210\u7ee9\u3002</p> <p>\u8981\u60f3\u628a\u8fd9\u4e2a\u5751\u586b\u5e73\uff0c\u6211\u4eec\u9996\u5148\u8981\u533a\u5206\u5bf9\u8c61\u548c\u5bf9\u8c61\u7684\u5f15\u7528\u8fd9\u4e24\u4e2a\u6982\u5ff5\uff0c\u800c\u8981\u533a\u5206\u8fd9\u4e24\u4e2a\u6982\u5ff5\uff0c\u8fd8\u5f97\u5148\u8bf4\u8bf4\u5185\u5b58\u4e2d\u7684\u6808\u548c\u5806\u3002\u6211\u4eec\u7ecf\u5e38\u4f1a\u542c\u4eba\u8bf4\u8d77\u201c\u5806\u6808\u201d\u8fd9\u4e2a\u8bcd\uff0c\u4f46\u5b9e\u9645\u4e0a\u201c\u5806\u201d\u548c\u201c\u6808\u201d\u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u6982\u5ff5\u3002\u4f17\u6240\u5468\u77e5\uff0c\u4e00\u4e2a\u7a0b\u5e8f\u8fd0\u884c\u65f6\u9700\u8981\u5360\u7528\u4e00\u4e9b\u5185\u5b58\u7a7a\u95f4\u6765\u5b58\u50a8\u6570\u636e\u548c\u4ee3\u7801\uff0c\u90a3\u4e48\u8fd9\u4e9b\u5185\u5b58\u4ece\u903b\u8f91\u4e0a\u53c8\u53ef\u4ee5\u505a\u8fdb\u4e00\u6b65\u7684\u5212\u5206\u3002\u5bf9\u5e95\u5c42\u8bed\u8a00\uff08\u5982C\u8bed\u8a00\uff09\u6709\u6240\u4e86\u89e3\u7684\u7a0b\u5e8f\u5458\u5927\u90fd\u77e5\u9053\uff0c\u7a0b\u5e8f\u4e2d\u53ef\u4ee5\u4f7f\u7528\u7684\u5185\u5b58\u4ece\u903b\u8f91\u4e0a\u53ef\u4ee5\u4e3a\u4e94\u4e2a\u90e8\u5206\uff0c\u6309\u7167\u5730\u5740\u4ece\u9ad8\u5230\u4f4e\u4f9d\u6b21\u662f\uff1a\u6808\uff08stack\uff09\u3001\u5806\uff08heap\uff09\u3001\u6570\u636e\u6bb5\uff08data segment\uff09\u3001\u53ea\u8bfb\u6570\u636e\u6bb5\uff08static area\uff09\u548c\u4ee3\u7801\u6bb5\uff08code segment\uff09\u3002\u5176\u4e2d\uff0c\u6808\u7528\u6765\u5b58\u50a8\u5c40\u90e8\u3001\u4e34\u65f6\u53d8\u91cf\uff0c\u4ee5\u53ca\u51fd\u6570\u8c03\u7528\u65f6\u4fdd\u5b58\u73b0\u573a\u548c\u6062\u590d\u73b0\u573a\u9700\u8981\u7528\u5230\u7684\u6570\u636e\uff0c\u8fd9\u90e8\u5206\u5185\u5b58\u5728\u4ee3\u7801\u5757\u5f00\u59cb\u6267\u884c\u65f6\u81ea\u52a8\u5206\u914d\uff0c\u4ee3\u7801\u5757\u6267\u884c\u7ed3\u675f\u65f6\u81ea\u52a8\u91ca\u653e\uff0c\u901a\u5e38\u7531\u7f16\u8bd1\u5668\u81ea\u52a8\u7ba1\u7406\uff1b\u5806\u7684\u5927\u5c0f\u4e0d\u56fa\u5b9a\uff0c\u53ef\u4ee5\u52a8\u6001\u7684\u5206\u914d\u548c\u56de\u6536\uff0c\u56e0\u6b64\u5982\u679c\u7a0b\u5e8f\u4e2d\u6709\u5927\u91cf\u7684\u6570\u636e\u9700\u8981\u5904\u7406\uff0c\u8fd9\u4e9b\u6570\u636e\u901a\u5e38\u90fd\u653e\u5728\u5806\u4e0a\uff0c\u5982\u679c\u5806\u7a7a\u95f4\u6ca1\u6709\u6b63\u786e\u7684\u88ab\u91ca\u653e\u4f1a\u5f15\u53d1\u5185\u5b58\u6cc4\u9732\u7684\u95ee\u9898\uff0c\u800c\u50cfPython\u3001Java\u7b49\u7f16\u7a0b\u8bed\u8a00\u90fd\u4f7f\u7528\u4e86\u5783\u573e\u56de\u6536\u673a\u5236\u6765\u5b9e\u73b0\u81ea\u52a8\u5316\u7684\u5185\u5b58\u7ba1\u7406\uff08\u81ea\u52a8\u56de\u6536\u4e0d\u518d\u4f7f\u7528\u7684\u5806\u7a7a\u95f4\uff09\u3002\u6240\u4ee5\u4e0b\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf<code>a</code>\u5e76\u4e0d\u662f\u771f\u6b63\u7684\u5bf9\u8c61\uff0c\u5b83\u662f\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u76f8\u5f53\u4e8e\u8bb0\u5f55\u4e86\u5bf9\u8c61\u5728\u5806\u7a7a\u95f4\u7684\u5730\u5740\uff0c\u901a\u8fc7\u8fd9\u4e2a\u5730\u5740\u6211\u4eec\u53ef\u4ee5\u8bbf\u95ee\u5230\u5bf9\u5e94\u7684\u5bf9\u8c61\uff1b\u540c\u7406\uff0c\u53d8\u91cf<code>b</code>\u662f\u5217\u8868\u5bb9\u5668\u7684\u5f15\u7528\uff0c\u5b83\u5f15\u7528\u4e86\u5806\u7a7a\u95f4\u4e0a\u7684\u5217\u8868\u5bb9\u5668\uff0c\u800c\u5217\u8868\u5bb9\u5668\u4e2d\u5e76\u6ca1\u6709\u4fdd\u5b58\u771f\u6b63\u7684\u5bf9\u8c61\uff0c\u5b83\u4fdd\u5b58\u7684\u4e5f\u4ec5\u4ec5\u662f\u5bf9\u8c61\u7684\u5f15\u7528\u3002</p> <p><code>Python a = object() b = ['apple', 'pitaya', 'grape']</code></p> <p>\u77e5\u9053\u4e86\u8fd9\u4e00\u70b9\uff0c\u6211\u4eec\u53ef\u4ee5\u56de\u8fc7\u5934\u770b\u770b\u521a\u624d\u7684\u7a0b\u5e8f\uff0c\u6211\u4eec\u5bf9\u5217\u8868\u8fdb\u884c<code>[[0] * 3] * 5</code>\u64cd\u4f5c\u65f6\uff0c\u4ec5\u4ec5\u662f\u5c06<code>[0, 0, 0]</code>\u8fd9\u4e2a\u5217\u8868\u7684\u5730\u5740\u8fdb\u884c\u4e86\u590d\u5236\uff0c\u5e76\u6ca1\u6709\u521b\u5efa\u65b0\u7684\u5217\u8868\u5bf9\u8c61\uff0c\u6240\u4ee5\u5bb9\u5668\u4e2d\u867d\u7136\u67095\u4e2a\u5143\u7d20\uff0c\u4f46\u662f\u8fd95\u4e2a\u5143\u7d20\u5f15\u7528\u4e86\u540c\u4e00\u4e2a\u5217\u8868\u5bf9\u8c61\uff0c\u8fd9\u4e00\u70b9\u53ef\u4ee5\u901a\u8fc7<code>id</code>\u51fd\u6570\u68c0\u67e5<code>scores[0]</code>\u548c<code>scores[1]</code>\u7684\u5730\u5740\u5f97\u5230\u8bc1\u5b9e\u3002\u6240\u4ee5\u6b63\u786e\u7684\u4ee3\u7801\u5e94\u8be5\u6309\u7167\u5982\u4e0b\u7684\u65b9\u5f0f\u8fdb\u884c\u4fee\u6539\u3002</p> <pre><code>def main():\n    names = ['\u5173\u7fbd', '\u5f20\u98de', '\u8d75\u4e91', '\u9a6c\u8d85', '\u9ec4\u5fe0']\n    subjs = ['\u8bed\u6587', '\u6570\u5b66', '\u82f1\u8bed']\n    scores = [[]] * 5\n    for row, name in enumerate(names):\n        print('\u8bf7\u8f93\u5165%s\u7684\u6210\u7ee9' % name)\n        scores[row] = [0] * 3\n        for col, subj in enumerate(subjs):\n            scores[row][col] = float(input(subj + ': '))\n    print(scores)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u6216\u8005</p> <pre><code>def main():\n    names = ['\u5173\u7fbd', '\u5f20\u98de', '\u8d75\u4e91', '\u9a6c\u8d85', '\u9ec4\u5fe0']\n    subjs = ['\u8bed\u6587', '\u6570\u5b66', '\u82f1\u8bed']\n    scores = [[0] * 3 for _ in range(5)]\n    for row, name in enumerate(names):\n        print('\u8bf7\u8f93\u5165%s\u7684\u6210\u7ee9' % name)\n        scores[row] = [0] * 3\n        for col, subj in enumerate(subjs):\n            scores[row][col] = float(input(subj + ': '))\n    print(scores)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u5982\u679c\u5bf9\u5185\u5b58\u7684\u4f7f\u7528\u4e0d\u662f\u5f88\u7406\u89e3\uff0c\u53ef\u4ee5\u770b\u770bPythonTutor\u7f51\u7ad9\u4e0a\u63d0\u4f9b\u7684\u4ee3\u7801\u53ef\u89c6\u5316\u6267\u884c\u529f\u80fd\uff0c\u901a\u8fc7\u53ef\u89c6\u5316\u6267\u884c\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u5185\u5b58\u662f\u5982\u4f55\u5206\u914d\u7684\uff0c\u4ece\u800c\u907f\u514d\u5728\u4f7f\u7528\u5d4c\u5957\u5217\u8868\u6216\u8005\u590d\u5236\u5bf9\u8c61\u65f6\u53ef\u80fd\u9047\u5230\u7684\u5751\u3002</p> <p></p> <p></p>"},{"location":"python/Py-100Days/%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E4%BB%AC%E8%B8%A9%E8%BF%87%E7%9A%84%E9%82%A3%E4%BA%9B%E5%9D%91/#3-","title":"\u57513 - \u8bbf\u95ee\u4fee\u9970\u7b26\u7684\u5751","text":"<p>\u7528Python\u505a\u8fc7\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u4eba\u90fd\u77e5\u9053\uff0cPython\u7684\u7c7b\u63d0\u4f9b\u4e86\u4e24\u79cd\u8bbf\u95ee\u63a7\u5236\u6743\u9650\uff0c\u4e00\u79cd\u662f\u516c\u5f00\uff0c\u4e00\u79cd\u662f\u79c1\u6709\uff08\u5728\u5c5e\u6027\u6216\u65b9\u6cd5\u524d\u52a0\u4e0a\u53cc\u4e0b\u5212\u7ebf\uff09\u3002\u800c\u7528\u60ef\u4e86Java\u6216C#\u8fd9\u7c7b\u7f16\u7a0b\u8bed\u8a00\u7684\u4eba\u90fd\u77e5\u9053\uff0c\u7c7b\u4e2d\u7684\u5c5e\u6027\uff08\u6570\u636e\u62bd\u8c61\uff09\u901a\u5e38\u90fd\u662f\u79c1\u6709\u7684\uff0c\u5176\u76ee\u7684\u662f\u4e3a\u4e86\u5c06\u6570\u636e\u4fdd\u62a4\u8d77\u6765\uff1b\u800c\u7c7b\u4e2d\u7684\u65b9\u6cd5\uff08\u884c\u4e3a\u62bd\u8c61\uff09\u901a\u5e38\u90fd\u662f\u516c\u5f00\u7684\uff0c\u56e0\u4e3a\u65b9\u6cd5\u662f\u5bf9\u8c61\u5411\u5916\u754c\u63d0\u4f9b\u7684\u670d\u52a1\u3002\u4f46\u662fPython\u5e76\u6ca1\u6709\u4ece\u8bed\u6cd5\u5c42\u9762\u786e\u4fdd\u79c1\u6709\u6210\u5458\u7684\u79c1\u5bc6\u6027\uff0c\u56e0\u4e3a\u5b83\u53ea\u662f\u5bf9\u7c7b\u4e2d\u6240\u8c13\u7684\u79c1\u6709\u6210\u5458\u8fdb\u884c\u4e86\u547d\u540d\u7684\u53d8\u6362\uff0c\u5982\u679c\u77e5\u9053\u547d\u540d\u7684\u89c4\u5219\u7167\u6837\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u79c1\u6709\u6210\u5458\uff0c\u8bf7\u770b\u4e0b\u9762\u7684\u4ee3\u7801\u3002</p> <pre><code>class Student(object):\n\n    def __init__(self, name, age):\n        self.__name = name\n        self.__age = age\n\n    def __str__(self):\n        return self.__name + ': ' + str(self.__age)\n\n\ndef main():\n    stu = Student('\u9a86\u660a', 38)\n    # 'Student' object has no attribute '__name'\n    # print(stu.__name)\n    # \u7528\u4e0b\u9762\u7684\u65b9\u5f0f\u7167\u6837\u53ef\u4ee5\u8bbf\u95ee\u7c7b\u4e2d\u7684\u79c1\u6709\u6210\u5458\n    print(stu._Student__name)\n    print(stu._Student__age)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>Python\u4e3a\u4ec0\u4e48\u8981\u505a\u51fa\u8fd9\u6837\u7684\u8bbe\u5b9a\u5462\uff1f\u7528\u4e00\u53e5\u5e7f\u4e3a\u6d41\u4f20\u7684\u683c\u8a00\u6765\u89e3\u91ca\u8fd9\u4e2a\u95ee\u9898\uff1a\u201cWe are all consenting adults here\u201d\uff08\u6211\u4eec\u90fd\u662f\u6210\u5e74\u4eba\uff09\u3002\u8fd9\u53e5\u8bdd\u8868\u8fbe\u4e86\u5f88\u591aPython\u7a0b\u5e8f\u5458\u7684\u4e00\u4e2a\u5171\u540c\u89c2\u70b9\uff0c\u90a3\u5c31\u662f\u5f00\u653e\u6bd4\u5c01\u95ed\u8981\u597d\uff0c\u6211\u4eec\u5e94\u8be5\u81ea\u5df1\u5bf9\u81ea\u5df1\u7684\u884c\u4e3a\u8d1f\u8d23\u800c\u4e0d\u662f\u4ece\u8bed\u8a00\u5c42\u9762\u6765\u9650\u5236\u5bf9\u6570\u636e\u6216\u65b9\u6cd5\u7684\u8bbf\u95ee\u3002</p> <p>\u6240\u4ee5\u5728Python\u4e2d\u6211\u4eec\u5b9e\u5728\u6ca1\u6709\u5fc5\u8981\u5c06\u7c7b\u4e2d\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\u7528\u53cc\u4e0b\u5212\u7ebf\u5f00\u5934\u7684\u547d\u540d\u5904\u7406\u6210\u79c1\u6709\u7684\u6210\u5458\uff0c\u56e0\u4e3a\u8fd9\u5e76\u6ca1\u6709\u4efb\u4f55\u5b9e\u9645\u7684\u610f\u4e49\u3002\u5982\u679c\u60f3\u5bf9\u5c5e\u6027\u6216\u65b9\u6cd5\u8fdb\u884c\u4fdd\u62a4\uff0c\u6211\u4eec\u5efa\u8bae\u7528\u5355\u4e0b\u5212\u7ebf\u5f00\u5934\u7684\u53d7\u4fdd\u62a4\u6210\u5458\uff0c\u867d\u7136\u5b83\u4e5f\u4e0d\u80fd\u771f\u6b63\u4fdd\u62a4\u8fd9\u4e9b\u5c5e\u6027\u6216\u65b9\u6cd5\uff0c\u4f46\u662f\u5b83\u76f8\u5f53\u4e8e\u7ed9\u8c03\u7528\u8005\u4e00\u4e2a\u6697\u793a\uff0c\u8ba9\u8c03\u7528\u8005\u77e5\u9053\u8fd9\u662f\u4e0d\u5e94\u8be5\u76f4\u63a5\u8bbf\u95ee\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\uff0c\u800c\u4e14\u8fd9\u6837\u505a\u5e76\u4e0d\u5f71\u54cd\u5b50\u7c7b\u53bb\u7ee7\u627f\u8fd9\u4e9b\u4e1c\u897f\u3002</p> <p>\u9700\u8981\u63d0\u9192\u5927\u5bb6\u6ce8\u610f\u7684\u662f\uff0cPython\u7c7b\u4e2d\u7684\u90a3\u4e9b\u9b54\u6cd5\u65b9\u6cd5\uff0c\u5982<code>__str__</code>\u3001<code>__repr__</code>\u7b49\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u5e76\u4e0d\u662f\u79c1\u6709\u6210\u5458\u54e6\uff0c\u867d\u7136\u5b83\u4eec\u4ee5\u53cc\u4e0b\u5212\u7ebf\u5f00\u5934\uff0c\u4f46\u662f\u4ed6\u4eec\u4e5f\u662f\u4ee5\u53cc\u4e0b\u5212\u7ebf\u7ed3\u5c3e\u7684\uff0c\u8fd9\u79cd\u547d\u540d\u5e76\u4e0d\u662f\u79c1\u6709\u6210\u5458\u7684\u547d\u540d\uff0c\u8fd9\u4e00\u70b9\u5bf9\u521d\u5b66\u8005\u6765\u8bf4\u771f\u7684\u5f88\u5751\u3002</p>"},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/","title":"01.\u521d\u8bc6Python","text":""},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/#python","title":"\u521d\u8bc6Python","text":""},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/#python_1","title":"Python\u7b80\u4ecb","text":""},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/#python_2","title":"Python\u7684\u5386\u53f2","text":"<ol> <li>1989\u5e74\u5723\u8bde\u8282\uff1aGuido von Rossum\u5f00\u59cb\u5199Python\u8bed\u8a00\u7684\u7f16\u8bd1\u5668\u3002</li> <li>1991\u5e742\u6708\uff1a\u7b2c\u4e00\u4e2aPython\u7f16\u8bd1\u5668\uff08\u540c\u65f6\u4e5f\u662f\u89e3\u91ca\u5668\uff09\u8bde\u751f\uff0c\u5b83\u662f\u7528C\u8bed\u8a00\u5b9e\u73b0\u7684\uff08\u540e\u9762\u53c8\u51fa\u73b0\u4e86Java\u548cC#\u5b9e\u73b0\u7684\u7248\u672cJython\u548cIronPython\uff0c\u4ee5\u53caPyPy\u3001Brython\u3001Pyston\u7b49\u5176\u4ed6\u5b9e\u73b0\uff09\uff0c\u53ef\u4ee5\u8c03\u7528C\u8bed\u8a00\u7684\u5e93\u51fd\u6570\u3002\u5728\u6700\u65e9\u7684\u7248\u672c\u4e2d\uff0cPython\u5df2\u7ecf\u63d0\u4f9b\u4e86\u5bf9\u201c\u7c7b\u201d\uff0c\u201c\u51fd\u6570\u201d\uff0c\u201c\u5f02\u5e38\u5904\u7406\u201d\u7b49\u6784\u9020\u5757\u7684\u652f\u6301\uff0c\u540c\u65f6\u63d0\u4f9b\u4e86\u201c\u5217\u8868\u201d\u548c\u201c\u5b57\u5178\u201d\u7b49\u6838\u5fc3\u6570\u636e\u7c7b\u578b\uff0c\u540c\u65f6\u652f\u6301\u4ee5\u6a21\u5757\u4e3a\u57fa\u7840\u6765\u6784\u9020\u5e94\u7528\u7a0b\u5e8f\u3002</li> <li>1994\u5e741\u6708\uff1aPython 1.0\u6b63\u5f0f\u53d1\u5e03\u3002</li> <li>2000\u5e7410\u670816\u65e5\uff1aPython 2.0\u53d1\u5e03\uff0c\u589e\u52a0\u4e86\u5b9e\u73b0\u5b8c\u6574\u7684\u5783\u573e\u56de\u6536\uff0c\u63d0\u4f9b\u4e86\u5bf9Unicode\u7684\u652f\u6301\u3002\u4e0e\u6b64\u540c\u65f6\uff0cPython\u7684\u6574\u4e2a\u5f00\u53d1\u8fc7\u7a0b\u66f4\u52a0\u900f\u660e\uff0c\u793e\u533a\u5bf9\u5f00\u53d1\u8fdb\u5ea6\u7684\u5f71\u54cd\u9010\u6e10\u6269\u5927\uff0c\u751f\u6001\u5708\u5f00\u59cb\u6162\u6162\u5f62\u6210\u3002</li> <li>2008\u5e7412\u67083\u65e5\uff1aPython 3.0\u53d1\u5e03\uff0c\u5b83\u5e76\u4e0d\u5b8c\u5168\u517c\u5bb9\u4e4b\u524d\u7684Python\u4ee3\u7801\uff0c\u4e0d\u8fc7\u56e0\u4e3a\u76ee\u524d\u8fd8\u6709\u4e0d\u5c11\u516c\u53f8\u5728\u9879\u76ee\u548c\u8fd0\u7ef4\u4e2d\u4f7f\u7528Python 2.x\u7248\u672c\uff0c\u6240\u4ee5Python 3.x\u7684\u5f88\u591a\u65b0\u7279\u6027\u540e\u6765\u4e5f\u88ab\u79fb\u690d\u5230Python 2.6/2.7\u7248\u672c\u4e2d\u3002</li> </ol> <p>\u76ee\u524d\u6211\u4eec\u4f7f\u7528\u7684Python 3.7.x\u7684\u7248\u672c\u662f\u57282018\u5e74\u53d1\u5e03\u7684\uff0cPython\u7684\u7248\u672c\u53f7\u5206\u4e3a\u4e09\u6bb5\uff0c\u5f62\u5982A.B.C\u3002\u5176\u4e2dA\u8868\u793a\u5927\u7248\u672c\u53f7\uff0c\u4e00\u822c\u5f53\u6574\u4f53\u91cd\u5199\uff0c\u6216\u51fa\u73b0\u4e0d\u5411\u540e\u517c\u5bb9\u7684\u6539\u53d8\u65f6\uff0c\u589e\u52a0A\uff1bB\u8868\u793a\u529f\u80fd\u66f4\u65b0\uff0c\u51fa\u73b0\u65b0\u529f\u80fd\u65f6\u589e\u52a0B\uff1bC\u8868\u793a\u5c0f\u7684\u6539\u52a8\uff08\u5982\u4fee\u590d\u4e86\u67d0\u4e2aBug\uff09\uff0c\u53ea\u8981\u6709\u4fee\u6539\u5c31\u589e\u52a0C\u3002\u5982\u679c\u5bf9Python\u7684\u5386\u53f2\u611f\u5174\u8da3\uff0c\u53ef\u4ee5\u67e5\u770b\u4e00\u7bc7\u540d\u4e3a\u300aPython\u7b80\u53f2\u300b\u7684\u535a\u6587\u3002</p>"},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/#python_3","title":"Python\u7684\u4f18\u7f3a\u70b9","text":"<p>Python\u7684\u4f18\u70b9\u5f88\u591a\uff0c\u7b80\u5355\u7684\u53ef\u4ee5\u603b\u7ed3\u4e3a\u4ee5\u4e0b\u51e0\u70b9\u3002</p> <ol> <li>\u7b80\u5355\u548c\u660e\u786e\uff0c\u505a\u4e00\u4ef6\u4e8b\u53ea\u6709\u4e00\u79cd\u65b9\u6cd5\u3002</li> <li>\u5b66\u4e60\u66f2\u7ebf\u4f4e\uff0c\u8ddf\u5176\u4ed6\u5f88\u591a\u8bed\u8a00\u76f8\u6bd4\uff0cPython\u66f4\u5bb9\u6613\u4e0a\u624b\u3002</li> <li>\u5f00\u653e\u6e90\u4ee3\u7801\uff0c\u62e5\u6709\u5f3a\u5927\u7684\u793e\u533a\u548c\u751f\u6001\u5708\u3002</li> <li>\u89e3\u91ca\u578b\u8bed\u8a00\uff0c\u5929\u751f\u5177\u6709\u5e73\u53f0\u53ef\u79fb\u690d\u6027\u3002</li> <li>\u652f\u6301\u4e24\u79cd\u4e3b\u6d41\u7684\u7f16\u7a0b\u8303\u5f0f\uff08\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u548c\u51fd\u6570\u5f0f\u7f16\u7a0b\uff09\u90fd\u63d0\u4f9b\u4e86\u652f\u6301\u3002</li> <li>\u53ef\u6269\u5c55\u6027\u548c\u53ef\u5d4c\u5165\u6027\uff0c\u53ef\u4ee5\u8c03\u7528C/C++\u4ee3\u7801\uff0c\u4e5f\u53ef\u4ee5\u5728C/C++\u4e2d\u8c03\u7528Python\u3002</li> <li>\u4ee3\u7801\u89c4\u8303\u7a0b\u5ea6\u9ad8\uff0c\u53ef\u8bfb\u6027\u5f3a\uff0c\u9002\u5408\u6709\u4ee3\u7801\u6d01\u7656\u548c\u5f3a\u8feb\u75c7\u7684\u4eba\u7fa4\u3002</li> </ol> <p>Python\u7684\u7f3a\u70b9\u4e3b\u8981\u96c6\u4e2d\u5728\u4ee5\u4e0b\u51e0\u70b9\u3002</p> <ol> <li>\u6267\u884c\u6548\u7387\u7a0d\u4f4e\uff0c\u56e0\u6b64\u8ba1\u7b97\u5bc6\u96c6\u578b\u4efb\u52a1\u53ef\u4ee5\u7531C/C++\u7f16\u5199\u3002</li> <li>\u4ee3\u7801\u65e0\u6cd5\u52a0\u5bc6\uff0c\u4f46\u662f\u73b0\u5728\u5f88\u591a\u516c\u53f8\u90fd\u4e0d\u9500\u552e\u5356\u8f6f\u4ef6\u800c\u662f\u9500\u552e\u670d\u52a1\uff0c\u8fd9\u4e2a\u95ee\u9898\u4f1a\u88ab\u6de1\u5316\u3002</li> <li>\u5728\u5f00\u53d1\u65f6\u53ef\u4ee5\u9009\u62e9\u7684\u6846\u67b6\u592a\u591a\uff08\u5982Web\u6846\u67b6\u5c31\u6709100\u591a\u4e2a\uff09\uff0c\u6709\u9009\u62e9\u7684\u5730\u65b9\u5c31\u6709\u9519\u8bef\u3002</li> </ol>"},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/#python_4","title":"Python\u7684\u5e94\u7528\u9886\u57df","text":"<p>\u76ee\u524dPython\u5728Web\u5e94\u7528\u5f00\u53d1\u3001\u4e91\u57fa\u7840\u8bbe\u65bd\u3001DevOps\u3001\u7f51\u7edc\u722c\u866b\u5f00\u53d1\u3001\u6570\u636e\u5206\u6790\u6316\u6398\u3001\u673a\u5668\u5b66\u4e60\u7b49\u9886\u57df\u90fd\u6709\u7740\u5e7f\u6cdb\u7684\u5e94\u7528\uff0c\u56e0\u6b64\u4e5f\u4ea7\u751f\u4e86Web\u540e\u7aef\u5f00\u53d1\u3001\u6570\u636e\u63a5\u53e3\u5f00\u53d1\u3001\u81ea\u52a8\u5316\u8fd0\u7ef4\u3001\u81ea\u52a8\u5316\u6d4b\u8bd5\u3001\u79d1\u5b66\u8ba1\u7b97\u548c\u53ef\u89c6\u5316\u3001\u6570\u636e\u5206\u6790\u3001\u91cf\u5316\u4ea4\u6613\u3001\u673a\u5668\u4eba\u5f00\u53d1\u3001\u56fe\u50cf\u8bc6\u522b\u548c\u5904\u7406\u7b49\u4e00\u7cfb\u5217\u7684\u804c\u4f4d\u3002</p>"},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/#_1","title":"\u642d\u5efa\u7f16\u7a0b\u73af\u5883","text":""},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/#windows","title":"Windows\u73af\u5883","text":"<p>\u53ef\u4ee5\u5728Python\u5b98\u65b9\u7f51\u7ad9\u4e0b\u8f7d\u5230Python\u7684Windows\u5b89\u88c5\u7a0b\u5e8f\uff08exe\u6587\u4ef6\uff09\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\u5982\u679c\u5728Windows 7\u73af\u5883\u4e0b\u5b89\u88c5Python 3.x\uff0c\u9700\u8981\u5148\u5b89\u88c5Service Pack 1\u8865\u4e01\u5305\uff08\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u5de5\u5177\u8f6f\u4ef6\u81ea\u52a8\u5b89\u88c5\u7cfb\u7edf\u8865\u4e01\u7684\u529f\u80fd\u6765\u5b89\u88c5\uff09\uff0c\u5b89\u88c5\u8fc7\u7a0b\u5efa\u8bae\u52fe\u9009\u201cAdd Python 3.6 to PATH\u201d\uff08\u5c06Python 3.6\u6dfb\u52a0\u5230PATH\u73af\u5883\u53d8\u91cf\uff09\u5e76\u9009\u62e9\u81ea\u5b9a\u4e49\u5b89\u88c5\uff0c\u5728\u8bbe\u7f6e\u201cOptional Features\u201d\u754c\u9762\u6700\u597d\u5c06\u201cpip\u201d\u3001\u201ctcl/tk\u201d\u3001\u201cPython test suite\u201d\u7b49\u9879\u5168\u90e8\u52fe\u9009\u4e0a\u3002\u5f3a\u70c8\u5efa\u8bae\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u5b89\u88c5\u8def\u5f84\u5e76\u4fdd\u8bc1\u8def\u5f84\u4e2d\u6ca1\u6709\u4e2d\u6587\u3002\u5b89\u88c5\u5b8c\u6210\u4f1a\u770b\u5230\u201cSetup was successful\u201d\u7684\u63d0\u793a\u3002\u5982\u679c\u7a0d\u540e\u8fd0\u884cPython\u7a0b\u5e8f\u65f6\uff0c\u51fa\u73b0\u56e0\u4e3a\u7f3a\u5931\u4e00\u4e9b\u52a8\u6001\u94fe\u63a5\u5e93\u6587\u4ef6\u800c\u5bfc\u81f4Python\u89e3\u91ca\u5668\u65e0\u6cd5\u5de5\u4f5c\u7684\u95ee\u9898\uff0c\u53ef\u4ee5\u6309\u7167\u540e\u9762\u8bf4\u7684\u65b9\u6cd5\u52a0\u4ee5\u89e3\u51b3\u3002\u5982\u679c\u7cfb\u7edf\u663e\u793aapi-ms-win-crt*.dll\u6587\u4ef6\u7f3a\u5931\uff0c\u53ef\u4ee5\u53c2\u7167\u300aapi-ms-win-crt*.dll\u7f3a\u5931\u539f\u56e0\u5206\u6790\u548c\u89e3\u51b3\u65b9\u6cd5\u300b\u4e00\u6587\u8bb2\u89e3\u7684\u65b9\u6cd5\u8fdb\u884c\u5904\u7406\u6216\u8005\u76f4\u63a5\u5728\u5fae\u8f6f\u5b98\u7f51\u4e0b\u8f7dVisual C++ Redistributable for Visual Studio 2015\u6587\u4ef6\u8fdb\u884c\u4fee\u590d\uff1b\u5982\u679c\u662f\u56e0\u4e3a\u66f4\u65b0Windows\u7684DirectX\u4e4b\u540e\u5bfc\u81f4\u67d0\u4e9b\u52a8\u6001\u94fe\u63a5\u5e93\u6587\u4ef6\u7f3a\u5931\u95ee\u9898\uff0c\u53ef\u4ee5\u4e0b\u8f7d\u4e00\u4e2aDirectX\u4fee\u590d\u5de5\u5177\u8fdb\u884c\u4fee\u590d\u3002</p>"},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/#linux","title":"Linux\u73af\u5883","text":"<p>Linux\u73af\u5883\u81ea\u5e26\u4e86Python 2.x\u7248\u672c\uff0c\u4f46\u662f\u5982\u679c\u8981\u66f4\u65b0\u52303.x\u7684\u7248\u672c\uff0c\u53ef\u4ee5\u5728Python\u7684\u5b98\u65b9\u7f51\u7ad9\u4e0b\u8f7dPython\u7684\u6e90\u4ee3\u7801\u5e76\u901a\u8fc7\u6e90\u4ee3\u7801\u6784\u5efa\u5b89\u88c5\u7684\u65b9\u5f0f\u8fdb\u884c\u5b89\u88c5\uff0c\u5177\u4f53\u7684\u6b65\u9aa4\u5982\u4e0b\u6240\u793a\u3002</p> <p>\u5b89\u88c5\u4f9d\u8d56\u5e93\uff08\u56e0\u4e3a\u6ca1\u6709\u8fd9\u4e9b\u4f9d\u8d56\u5e93\u53ef\u80fd\u5728\u6e90\u4ee3\u7801\u6784\u4ef6\u5b89\u88c5\u65f6\u56e0\u4e3a\u7f3a\u5931\u5e95\u5c42\u4f9d\u8d56\u5e93\u800c\u5931\u8d25\uff09\u3002</p> <pre><code>yum -y install wget gcc zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel libffi-devel\n</code></pre> <p>\u4e0b\u8f7dPython\u6e90\u4ee3\u7801\u5e76\u89e3\u538b\u7f29\u5230\u6307\u5b9a\u76ee\u5f55\u3002</p> <pre><code>wget https://www.python.org/ftp/python/3.7.3/Python-3.7.3.tgz\nxz -d Python-3.7.3.tar.xz\ntar -xvf Python-3.7.3.tar\n</code></pre> <p>\u5207\u6362\u81f3Python\u6e90\u4ee3\u7801\u76ee\u5f55\u5e76\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u8fdb\u884c\u914d\u7f6e\u548c\u5b89\u88c5\u3002</p> <pre><code>cd Python-3.7.3\n./configure --prefix=/usr/local/python37 --enable-optimizations\nmake &amp;&amp; make install\n</code></pre> <p>\u4fee\u6539\u7528\u6237\u4e3b\u76ee\u5f55\u4e0b\u540d\u4e3a.bash_profile\u7684\u6587\u4ef6\uff0c\u914d\u7f6ePATH\u73af\u5883\u53d8\u91cf\u5e76\u4f7f\u5176\u751f\u6548\u3002</p> <pre><code>cd ~\nvim .bash_profile\n</code></pre> <pre><code># ... \u6b64\u5904\u7701\u7565\u4e0a\u9762\u7684\u4ee3\u7801 ...\n\nexport PATH=$PATH:/usr/local/python37/bin\n\n# ... \u6b64\u5904\u7701\u7565\u4e0b\u9762\u7684\u4ee3\u7801 ...\n</code></pre> <pre><code>source .bash_profile\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/#macos","title":"macOS\u73af\u5883","text":"<p>macOS\u4e5f\u81ea\u5e26\u4e86Python 2.x\u7248\u672c\uff0c\u53ef\u4ee5\u901a\u8fc7Python\u7684\u5b98\u65b9\u7f51\u7ad9\u63d0\u4f9b\u7684\u5b89\u88c5\u6587\u4ef6\uff08pkg\u6587\u4ef6\uff09\u5b89\u88c5Python 3.x\u7684\u7248\u672c\u3002\u9ed8\u8ba4\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u5728\u7ec8\u7aef\u6267\u884cpython\u547d\u4ee4\u6765\u542f\u52a82.x\u7248\u672c\u7684Python\u89e3\u91ca\u5668\uff0c\u53ef\u4ee5\u901a\u8fc7\u6267\u884cpython3\u547d\u4ee4\u6765\u542f\u52a83.x\u7248\u672c\u7684Python\u89e3\u91ca\u5668\u3002</p>"},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/#python_5","title":"\u4ece\u7ec8\u7aef\u8fd0\u884cPython\u7a0b\u5e8f","text":""},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/#python_6","title":"\u786e\u8ba4Python\u7684\u7248\u672c","text":"<p>\u53ef\u4ee5Windows\u7684\u547d\u4ee4\u884c\u63d0\u793a\u7b26\u4e2d\u952e\u5165\u4e0b\u9762\u7684\u547d\u4ee4\u3002</p> <p><pre><code>python --version\n</code></pre> \u6216\u8005\u662f\u5728Linux\u6216macOS\u7cfb\u7edf\u7684\u7ec8\u7aef\u4e2d\u952e\u5165\u4e0b\u9762\u7684\u547d\u4ee4\u3002</p> <pre><code>python3 --version\n</code></pre> <p>\u5f53\u7136\u4e5f\u53ef\u4ee5\u5148\u8f93\u5165python\u6216python3\u8fdb\u5165\u4ea4\u4e92\u5f0f\u73af\u5883\uff0c\u518d\u6267\u884c\u4ee5\u4e0b\u7684\u4ee3\u7801\u68c0\u67e5Python\u7684\u7248\u672c\u3002</p> <pre><code>import sys\n\nprint(sys.version_info)\nprint(sys.version)\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/#python_7","title":"\u7f16\u5199Python\u6e90\u4ee3\u7801","text":"<p>\u53ef\u4ee5\u7528\u6587\u672c\u7f16\u8f91\u5de5\u5177\uff08\u63a8\u8350\u4f7f\u7528Sublime\u3001TextMate\u3001Visual Studio Code\u7b49\u9ad8\u7ea7\u6587\u672c\u7f16\u8f91\u5de5\u5177\uff09\u7f16\u5199Python\u6e90\u4ee3\u7801\u5e76\u7528py\u4f5c\u4e3a\u540e\u7f00\u540d\u4fdd\u5b58\u8be5\u6587\u4ef6\uff0c\u4ee3\u7801\u5185\u5bb9\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>print('hello, world!')\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/#_2","title":"\u8fd0\u884c\u7a0b\u5e8f","text":"<p>\u5207\u6362\u5230\u6e90\u4ee3\u7801\u6240\u5728\u7684\u76ee\u5f55\u5e76\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff0c\u770b\u770b\u5c4f\u5e55\u4e0a\u662f\u5426\u8f93\u51fa\u4e86\"hello, world!\"\u3002</p> <pre><code>python hello.py\n</code></pre> <p>\u6216</p> <pre><code>python3 hello.py\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/#_3","title":"\u4ee3\u7801\u4e2d\u7684\u6ce8\u91ca","text":"<p>\u6ce8\u91ca\u662f\u7f16\u7a0b\u8bed\u8a00\u7684\u4e00\u4e2a\u91cd\u8981\u7ec4\u6210\u90e8\u5206\uff0c\u7528\u4e8e\u5728\u6e90\u4ee3\u7801\u4e2d\u89e3\u91ca\u4ee3\u7801\u7684\u4f5c\u7528\u4ece\u800c\u589e\u5f3a\u7a0b\u5e8f\u7684\u53ef\u8bfb\u6027\u548c\u53ef\u7ef4\u62a4\u6027\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u5c06\u6e90\u4ee3\u7801\u4e2d\u4e0d\u9700\u8981\u53c2\u4e0e\u8fd0\u884c\u7684\u4ee3\u7801\u6bb5\u901a\u8fc7\u6ce8\u91ca\u6765\u53bb\u6389\uff0c\u8fd9\u4e00\u70b9\u5728\u8c03\u8bd5\u7a0b\u5e8f\u7684\u65f6\u5019\u7ecf\u5e38\u7528\u5230\u3002\u6ce8\u91ca\u5728\u968f\u6e90\u4ee3\u7801\u8fdb\u5165\u9884\u5904\u7406\u5668\u6216\u7f16\u8bd1\u65f6\u4f1a\u88ab\u79fb\u9664\uff0c\u4e0d\u4f1a\u5728\u76ee\u6807\u4ee3\u7801\u4e2d\u4fdd\u7559\u4e5f\u4e0d\u4f1a\u5f71\u54cd\u7a0b\u5e8f\u7684\u6267\u884c\u7ed3\u679c\u3002</p> <ol> <li>\u5355\u884c\u6ce8\u91ca - \u4ee5#\u548c\u7a7a\u683c\u5f00\u5934\u7684\u90e8\u5206</li> <li>\u591a\u884c\u6ce8\u91ca - \u4e09\u4e2a\u5f15\u53f7\u5f00\u5934\uff0c\u4e09\u4e2a\u5f15\u53f7\u7ed3\u5c3e</li> </ol> <pre><code>\"\"\"\n\u7b2c\u4e00\u4e2aPython\u7a0b\u5e8f - hello, world!\n\u5411\u4f1f\u5927\u7684Dennis M. Ritchie\u5148\u751f\u81f4\u656c\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\nprint('hello, world!')\n# print(\"\u4f60\u597d,\u4e16\u754c\uff01\")\nprint('\u4f60\u597d', '\u4e16\u754c')\nprint('hello', 'world', sep=', ', end='!')\nprint('goodbye, world', end='!\\n')\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/#_4","title":"\u5176\u4ed6\u5de5\u5177\u4ecb\u7ecd","text":""},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/#idle-","title":"IDLE - \u81ea\u5e26\u7684\u96c6\u6210\u5f00\u53d1\u5de5\u5177","text":"<p>IDLE\u662f\u5b89\u88c5Python\u73af\u5883\u65f6\u81ea\u5e26\u7684\u96c6\u6210\u5f00\u53d1\u5de5\u5177\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002\u4f46\u662f\u7531\u4e8eIDLE\u7684\u7528\u6237\u4f53\u9a8c\u5e76\u4e0d\u662f\u90a3\u4e48\u597d\u6240\u4ee5\u5f88\u5c11\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\u88ab\u91c7\u7528\u3002</p> <p></p>"},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/#ipython-","title":"IPython - \u66f4\u597d\u7684\u4ea4\u4e92\u5f0f\u7f16\u7a0b\u5de5\u5177","text":"<p>IPython\u662f\u4e00\u79cd\u57fa\u4e8ePython\u7684\u4ea4\u4e92\u5f0f\u89e3\u91ca\u5668\u3002\u76f8\u8f83\u4e8e\u539f\u751f\u7684Python\u4ea4\u4e92\u5f0f\u73af\u5883\uff0cIPython\u63d0\u4f9b\u4e86\u66f4\u4e3a\u5f3a\u5927\u7684\u7f16\u8f91\u548c\u4ea4\u4e92\u529f\u80fd\u3002\u53ef\u4ee5\u901a\u8fc7Python\u7684\u5305\u7ba1\u7406\u5de5\u5177pip\u5b89\u88c5IPython\u548cJupyter\uff0c\u5177\u4f53\u7684\u64cd\u4f5c\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>pip install ipython\n</code></pre> <p>\u6216</p> <pre><code>pip3 install ipython\n</code></pre> <p>\u5b89\u88c5\u6210\u529f\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684ipython\u547d\u4ee4\u542f\u52a8IPython\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p> <p>\u5f53\u7136\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5b89\u88c5Jupyter\u5de5\u5177\u5e76\u8fd0\u884c\u540d\u4e3anotebook\u7684\u7a0b\u5e8f\u5728\u6d4f\u89c8\u5668\u7a97\u53e3\u4e2d\u8fdb\u884c\u4ea4\u4e92\u5f0f\u4ee3\u7801\u7f16\u5199\u64cd\u4f5c\u3002</p> <pre><code>pip install jupyter\n</code></pre> <p>\u6216</p> <pre><code>pip3 intall jupyter\n</code></pre> <p>\u7136\u540e\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a</p> <pre><code>jupyter notebook\n</code></pre> <p></p>"},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/#sublime-","title":"Sublime - \u6587\u672c\u7f16\u8f91\u795e\u5668","text":"<ul> <li> <p>\u9996\u5148\u53ef\u4ee5\u901a\u8fc7\u5b98\u65b9\u7f51\u7ad9\u4e0b\u8f7d\u5b89\u88c5\u7a0b\u5e8f\u5b89\u88c5Sublime 3\u6216Sublime 2\u3002</p> </li> <li> <p>\u5b89\u88c5\u5305\u7ba1\u7406\u5de5\u5177\u3002</p> </li> <li> <p>\u901a\u8fc7\u5feb\u6377\u952eCtrl+`\u6216\u8005\u5728View\u83dc\u5355\u4e2d\u9009\u62e9Show Console\u6253\u5f00\u63a7\u5236\u53f0\uff0c\u8f93\u5165\u4e0b\u9762\u7684\u4ee3\u7801\u3002</p> </li> <li> <p>Sublime 3</p> </li> </ul> <p><pre><code>import  urllib.request,os;pf='Package Control.sublime-package';ipp=sublime.installed_packages_path();urllib.request.install_opener(urllib.request.build_opener(urllib.request.ProxyHandler()));open(os.path.join(ipp,pf),'wb').write(urllib.request.urlopen('http://sublime.wbond.net/'+pf.replace(' ','%20')).read())\n</code></pre>   - Sublime 2</p> <p><pre><code>import  urllib2,os;pf='Package Control.sublime-package';ipp=sublime.installed_packages_path();os.makedirs(ipp)ifnotos.path.exists(ipp)elseNone;urllib2.install_opener(urllib2.build_opener(urllib2.ProxyHandler()));open(os.path.join(ipp,pf),'wb').write(urllib2.urlopen('http://sublime.wbond.net/'+pf.replace(' ','%20')).read());print('Please restart Sublime Text to finish installation')\n</code></pre>   2. \u624b\u52a8\u5b89\u88c5\u6d4f\u89c8\u5668\u8f93\u5165  https://sublime.wbond.net/Package%20Control.sublime-package \u4e0b\u8f7d\u8fd9\u4e2a\u6587\u4ef6   \u4e0b\u8f7d\u597d\u4ee5\u540e\uff0c\u6253\u5f00sublime text\uff0c\u9009\u62e9\u83dc\u5355Preferences-&gt;Browse Packages... \u6253\u5f00\u5b89\u88c5\u76ee\u5f55   \u6b64\u65f6\u4f1a\u8fdb\u5165\u5230\u4e00\u4e2a\u53eb\u505aPackages\u7684\u76ee\u5f55\u4e0b\uff0c\u70b9\u51fb\u8fdb\u5165\u4e0a\u4e00\u5c42\u76ee\u5f55Sublime Text3\uff0c\u5728\u6b64\u76ee\u5f55\u4e0b\u6709\u4e00\u4e2a\u6587\u4ef6\u5939\u53eb\u505aInstalled Packages\uff0c\u628a\u521a\u624d\u4e0b\u8f7d\u7684\u6587\u4ef6\u653e\u5230\u8fd9\u91cc\u5c31\u53ef\u4ee5\u4e86\u3002\u7136\u540e\u91cd\u542fsublime text3\uff0c\u89c2\u5bdfPreferences\u83dc\u5355\u6700\u4e0b\u8fb9\u662f\u5426\u6709Package Settings \u548cPackage Control\u4e24\u4e2a\u9009\u9879\uff0c\u5982\u679c\u6709\uff0c\u5219\u4ee3\u8868\u5b89\u88c5\u6210\u529f\u4e86\u3002</p> <ul> <li> <p>\u5b89\u88c5\u63d2\u4ef6\u3002\u901a\u8fc7Preference\u83dc\u5355\u7684Package Control\u6216\u5feb\u6377\u952eCtrl+Shift+P\u6253\u5f00\u547d\u4ee4\u9762\u677f\uff0c\u5728\u9762\u677f\u4e2d\u8f93\u5165Install Package\u5c31\u53ef\u4ee5\u627e\u5230\u5b89\u88c5\u63d2\u4ef6\u7684\u5de5\u5177\uff0c\u7136\u540e\u518d\u67e5\u627e\u9700\u8981\u7684\u63d2\u4ef6\u3002\u6211\u4eec\u63a8\u8350\u5927\u5bb6\u5b89\u88c5\u4ee5\u4e0b\u51e0\u4e2a\u63d2\u4ef6\uff1a</p> </li> <li> <p>SublimeCodeIntel - \u4ee3\u7801\u81ea\u52a8\u8865\u5168\u5de5\u5177\u63d2\u4ef6\u3002</p> </li> <li>Emmet - \u524d\u7aef\u5f00\u53d1\u4ee3\u7801\u6a21\u677f\u63d2\u4ef6\u3002</li> <li>Git - \u7248\u672c\u63a7\u5236\u5de5\u5177\u63d2\u4ef6\u3002</li> <li>Python PEP8 Autoformat - PEP8\u89c4\u8303\u81ea\u52a8\u683c\u5f0f\u5316\u63d2\u4ef6\u3002</li> <li>ConvertToUTF8 - \u5c06\u672c\u5730\u7f16\u7801\u8f6c\u6362\u4e3aUTF-8\u3002</li> </ul> <p>\u8bf4\u660e\uff1a\u4e8b\u5b9e\u4e0aVisual Studio Code\u53ef\u80fd\u662f\u66f4\u597d\u7684\u9009\u62e9\uff0c\u5b83\u4e0d\u7528\u82b1\u94b1\u5e76\u63d0\u4f9b\u4e86\u66f4\u4e3a\u5b8c\u6574\u548c\u5f3a\u5927\u7684\u529f\u80fd\u3002</p>"},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/#pycharm-python","title":"PyCharm - Python\u5f00\u53d1\u795e\u5668","text":"<p>PyCharm\u7684\u5b89\u88c5\u3001\u914d\u7f6e\u548c\u4f7f\u7528\u5728\u300a\u73a9\u8f6cPyCharm\u300b\u8fdb\u884c\u4e86\u4ecb\u7ecd\uff0c\u6709\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u9009\u62e9\u9605\u8bfb\u3002</p> <p></p>"},{"location":"python/Py-100Days/Day01-15/01.%E5%88%9D%E8%AF%86Python/#_5","title":"\u7ec3\u4e60","text":"<ol> <li> <p>\u5728Python\u4ea4\u4e92\u73af\u5883\u4e2d\u67e5\u770b\u4e0b\u9762\u7684\u4ee3\u7801\u7ed3\u679c\uff0c\u5e76\u8bd5\u7740\u5c06\u8fd9\u4e9b\u5185\u5bb9\u7ffb\u8bd1\u6210\u4e2d\u6587\u3002</p> <pre><code>import this\n</code></pre> <p>\u8bf4\u660e\uff1a\u5f53\u524d\u952e\u5165\u4e0a\u9762\u7684\u547d\u4ee4\u540e\u4f1a\u5728\u4ea4\u4e92\u5f0f\u73af\u5883\u4e2d\u770b\u5230\u5982\u4e0b\u6240\u793a\u7684\u8f93\u51fa\uff0c\u8fd9\u6bb5\u5185\u5bb9\u88ab\u79f0\u4e3a\u201cPython\u4e4b\u7985\u201d\uff0c\u91cc\u9762\u8bb2\u8ff0\u7684\u9053\u7406\u4e0d\u4ec5\u4ec5\u9002\u7528\u4e8ePython\uff0c\u4e5f\u9002\u7528\u4e8e\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u3002</p> <p>Beautiful is better than ugly. Explicit is better than implicit. Simple is better than complex. Complex is better than complicated. Flat is better than nested. Sparse is better than dense. Readability counts. Special cases aren't special enough to break the rules. Although practicality beats purity. Errors should never pass silently. Unless explicitly silenced. In the face of ambiguity, refuse the temptation to guess. There should be one-- and preferably only one --obvious way to do it. Although that way may not be obvious at first unless you're Dutch. Now is better than never. Although never is often better than *right* now. If the implementation is hard to explain, it's a bad idea. If the implementation is easy to explain, it may be a good idea. Namespaces are one honking great idea -- let's do more of those!</p> </li> <li> <p>\u5b66\u4e60\u4f7f\u7528turtle\u5728\u5c4f\u5e55\u4e0a\u7ed8\u5236\u56fe\u5f62\u3002</p> <p>\u8bf4\u660e\uff1aturtle\u662fPython\u5185\u7f6e\u7684\u4e00\u4e2a\u975e\u5e38\u6709\u8da3\u7684\u6a21\u5757\uff0c\u7279\u522b\u9002\u7528\u4e8e\u8ba9\u5c0f\u670b\u53cb\u4f53\u4f1a\u4ec0\u4e48\u662f\u7f16\u7a0b\uff0c\u5b83\u6700\u65e9\u662fLogo\u8bed\u8a00\u7684\u4e00\u90e8\u5206\uff0cLogo\u8bed\u8a00\u662fWally Feurzig\u548cSeymour Papert\u57281966\u53d1\u660e\u7684\u7f16\u7a0b\u8bed\u8a00.</p> <pre><code>import turtle\n\nturtle.pensize(4)\nturtle.pencolor('red')\nturtle.forward(100)\nturtle.right(90)\nturtle.forward(100)\nturtle.right(90)\nturtle.forward(100)\nturtle.right(90)\nturtle.forward(100)\nturtle.mainloop()\n</code></pre> </li> </ol>"},{"location":"python/Py-100Days/Day01-15/02.%E8%AF%AD%E8%A8%80%E5%85%83%E7%B4%A0/","title":"02.\u8bed\u8a00\u5143\u7d20","text":""},{"location":"python/Py-100Days/Day01-15/02.%E8%AF%AD%E8%A8%80%E5%85%83%E7%B4%A0/#_1","title":"\u8bed\u8a00\u5143\u7d20","text":""},{"location":"python/Py-100Days/Day01-15/02.%E8%AF%AD%E8%A8%80%E5%85%83%E7%B4%A0/#_2","title":"\u6307\u4ee4\u548c\u7a0b\u5e8f","text":"<p>\u8ba1\u7b97\u673a\u7684\u786c\u4ef6\u7cfb\u7edf\u901a\u5e38\u7531\u4e94\u5927\u90e8\u4ef6\u6784\u6210\uff0c\u5305\u62ec\uff1a\u8fd0\u7b97\u5668\u3001\u63a7\u5236\u5668\u3001\u5b58\u50a8\u5668\u3001\u8f93\u5165\u8bbe\u5907\u548c\u8f93\u51fa\u8bbe\u5907\u3002\u5176\u4e2d\uff0c\u8fd0\u7b97\u5668\u548c\u63a7\u5236\u5668\u653e\u5728\u4e00\u8d77\u5c31\u662f\u6211\u4eec\u901a\u5e38\u6240\u8bf4\u7684\u4e2d\u592e\u5904\u7406\u5668\uff0c\u5b83\u7684\u529f\u80fd\u662f\u6267\u884c\u5404\u79cd\u8fd0\u7b97\u548c\u63a7\u5236\u6307\u4ee4\u4ee5\u53ca\u5904\u7406\u8ba1\u7b97\u673a\u8f6f\u4ef6\u4e2d\u7684\u6570\u636e\u3002\u6211\u4eec\u901a\u5e38\u6240\u8bf4\u7684\u7a0b\u5e8f\u5b9e\u9645\u4e0a\u5c31\u662f\u6307\u4ee4\u7684\u96c6\u5408\uff0c\u6211\u4eec\u7a0b\u5e8f\u5c31\u662f\u5c06\u4e00\u7cfb\u5217\u7684\u6307\u4ee4\u6309\u7167\u67d0\u79cd\u65b9\u5f0f\u7ec4\u7ec7\u5230\u4e00\u8d77\uff0c\u7136\u540e\u901a\u8fc7\u8fd9\u4e9b\u6307\u4ee4\u53bb\u63a7\u5236\u8ba1\u7b97\u673a\u505a\u6211\u4eec\u60f3\u8ba9\u5b83\u505a\u7684\u4e8b\u60c5\u3002\u4eca\u5929\u6211\u4eec\u4f7f\u7528\u7684\u8ba1\u7b97\u673a\u867d\u7136\u5668\u4ef6\u505a\u5de5\u8d8a\u6765\u8d8a\u7cbe\u5bc6\uff0c\u5904\u7406\u80fd\u529b\u8d8a\u6765\u8d8a\u5f3a\u5927\uff0c\u4f46\u7a76\u5176\u672c\u8d28\u6765\u8bf4\u4ecd\u7136\u5c5e\u4e8e\u201c\u51af\u00b7\u8bfa\u4f9d\u66fc\u7ed3\u6784\u201d\u7684\u8ba1\u7b97\u673a\u3002\u201c\u51af\u00b7\u8bfa\u4f9d\u66fc\u7ed3\u6784\u201d\u6709\u4e24\u4e2a\u5173\u952e\u70b9\uff0c\u4e00\u662f\u6307\u51fa\u8981\u5c06\u5b58\u50a8\u8bbe\u5907\u4e0e\u4e2d\u592e\u5904\u7406\u5668\u5206\u5f00\uff0c\u4e8c\u662f\u63d0\u51fa\u4e86\u5c06\u6570\u636e\u4ee5\u4e8c\u8fdb\u5236\u65b9\u5f0f\u7f16\u7801\u3002\u4e8c\u8fdb\u5236\u662f\u4e00\u79cd\u201c\u9022\u4e8c\u8fdb\u4e00\u201d\u7684\u8ba1\u6570\u6cd5\uff0c\u8ddf\u6211\u4eec\u4eba\u7c7b\u4f7f\u7528\u7684\u201c\u9022\u5341\u8fdb\u4e00\u201d\u7684\u8ba1\u6570\u6cd5\u6ca1\u6709\u5b9e\u8d28\u6027\u7684\u533a\u522b\uff0c\u4eba\u7c7b\u56e0\u4e3a\u6709\u5341\u6839\u624b\u6307\u6240\u4ee5\u4f7f\u7528\u4e86\u5341\u8fdb\u5236\uff08\u56e0\u4e3a\u5728\u6570\u6570\u65f6\u5341\u6839\u624b\u6307\u7528\u5b8c\u4e4b\u540e\u5c31\u53ea\u80fd\u8fdb\u4f4d\u4e86\uff0c\u5f53\u7136\u51e1\u4e8b\u90fd\u6709\u4f8b\u5916\uff0c\u739b\u96c5\u4eba\u53ef\u80fd\u662f\u56e0\u4e3a\u957f\u5e74\u5149\u7740\u811a\u7684\u539f\u56e0\u628a\u811a\u8dbe\u5934\u4e5f\u7b97\u4e0a\u4e86\uff0c\u4e8e\u662f\u4ed6\u4eec\u4f7f\u7528\u4e86\u4e8c\u5341\u8fdb\u5236\u7684\u8ba1\u6570\u6cd5\uff0c\u5728\u8fd9\u79cd\u8ba1\u6570\u6cd5\u7684\u6307\u5bfc\u4e0b\u739b\u96c5\u4eba\u7684\u5386\u6cd5\u5c31\u4e0e\u6211\u4eec\u5e73\u5e38\u4f7f\u7528\u7684\u5386\u6cd5\u4e0d\u4e00\u6837\uff0c\u800c\u6309\u7167\u739b\u96c5\u4eba\u7684\u5386\u6cd5\uff0c2012\u5e74\u662f\u4e0a\u4e00\u4e2a\u6240\u8c13\u7684\u201c\u592a\u9633\u7eaa\u201d\u7684\u6700\u540e\u4e00\u5e74\uff0c\u800c2013\u5e74\u5219\u662f\u65b0\u7684\u201c\u592a\u9633\u7eaa\u201d\u7684\u5f00\u59cb\uff0c\u540e\u6765\u8fd9\u4ef6\u4e8b\u60c5\u88ab\u4ee5\u8bb9\u4f20\u8bb9\u7684\u65b9\u5f0f\u8bef\u4f20\u4e3a\u201d2012\u5e74\u662f\u739b\u96c5\u4eba\u9884\u8a00\u7684\u4e16\u754c\u672b\u65e5\u201c\u8fd9\u79cd\u8352\u8bde\u7684\u8bf4\u6cd5\uff0c\u4eca\u5929\u6211\u4eec\u53ef\u4ee5\u5927\u80c6\u7684\u731c\u6d4b\uff0c\u739b\u96c5\u6587\u660e\u4e4b\u6240\u4ee5\u53d1\u5c55\u7f13\u6162\u4f30\u8ba1\u4e5f\u4e0e\u4f7f\u7528\u4e86\u4e8c\u5341\u8fdb\u5236\u6709\u5173\uff09\u3002\u5bf9\u4e8e\u8ba1\u7b97\u673a\u6765\u8bf4\uff0c\u4e8c\u8fdb\u5236\u5728\u7269\u7406\u5668\u4ef6\u4e0a\u6765\u8bf4\u662f\u6700\u5bb9\u6613\u5b9e\u73b0\u7684\uff08\u9ad8\u7535\u538b\u8868\u793a1\uff0c\u4f4e\u7535\u538b\u8868\u793a0\uff09\uff0c\u4e8e\u662f\u5728\u201c\u51af\u00b7\u8bfa\u4f9d\u66fc\u7ed3\u6784\u201d\u7684\u8ba1\u7b97\u673a\u90fd\u4f7f\u7528\u4e86\u4e8c\u8fdb\u5236\u3002\u867d\u7136\u6211\u4eec\u5e76\u4e0d\u9700\u8981\u6bcf\u4e2a\u7a0b\u5e8f\u5458\u90fd\u80fd\u591f\u4f7f\u7528\u4e8c\u8fdb\u5236\u7684\u601d\u7ef4\u65b9\u5f0f\u6765\u5de5\u4f5c\uff0c\u4f46\u662f\u4e86\u89e3\u4e8c\u8fdb\u5236\u4ee5\u53ca\u5b83\u4e0e\u6211\u4eec\u751f\u6d3b\u4e2d\u7684\u5341\u8fdb\u5236\u4e4b\u95f4\u7684\u8f6c\u6362\u5173\u7cfb\uff0c\u4ee5\u53ca\u4e8c\u8fdb\u5236\u4e0e\u516b\u8fdb\u5236\u548c\u5341\u516d\u8fdb\u5236\u7684\u8f6c\u6362\u5173\u7cfb\u8fd8\u662f\u6709\u5fc5\u8981\u7684\u3002\u5982\u679c\u4f60\u5bf9\u8fd9\u4e00\u70b9\u4e0d\u719f\u6089\uff0c\u53ef\u4ee5\u81ea\u884c\u4f7f\u7528\u7ef4\u57fa\u767e\u79d1\u6216\u8005\u767e\u5ea6\u767e\u79d1\u79d1\u666e\u4e00\u4e0b\u3002</p>"},{"location":"python/Py-100Days/Day01-15/02.%E8%AF%AD%E8%A8%80%E5%85%83%E7%B4%A0/#_3","title":"\u53d8\u91cf\u548c\u7c7b\u578b","text":"<p>\u5728\u7a0b\u5e8f\u8bbe\u8ba1\u4e2d\uff0c\u53d8\u91cf\u662f\u4e00\u79cd\u5b58\u50a8\u6570\u636e\u7684\u8f7d\u4f53\u3002\u8ba1\u7b97\u673a\u4e2d\u7684\u53d8\u91cf\u662f\u5b9e\u9645\u5b58\u5728\u7684\u6570\u636e\u6216\u8005\u8bf4\u662f\u5b58\u50a8\u5668\u4e2d\u5b58\u50a8\u6570\u636e\u7684\u4e00\u5757\u5185\u5b58\u7a7a\u95f4\uff0c\u53d8\u91cf\u7684\u503c\u53ef\u4ee5\u88ab\u8bfb\u53d6\u548c\u4fee\u6539\uff0c\u8fd9\u662f\u6240\u6709\u8ba1\u7b97\u548c\u63a7\u5236\u7684\u57fa\u7840\u3002\u8ba1\u7b97\u673a\u80fd\u5904\u7406\u7684\u6570\u636e\u6709\u5f88\u591a\u79cd\u7c7b\u578b\uff0c\u9664\u4e86\u6570\u503c\u4e4b\u5916\u8fd8\u53ef\u4ee5\u5904\u7406\u6587\u672c\u3001\u56fe\u5f62\u3001\u97f3\u9891\u3001\u89c6\u9891\u7b49\u5404\u79cd\u5404\u6837\u7684\u6570\u636e\uff0c\u90a3\u4e48\u4e0d\u540c\u7684\u6570\u636e\u5c31\u9700\u8981\u5b9a\u4e49\u4e0d\u540c\u7684\u5b58\u50a8\u7c7b\u578b\u3002Python\u4e2d\u7684\u6570\u636e\u7c7b\u578b\u5f88\u591a\uff0c\u800c\u4e14\u4e5f\u5141\u8bb8\u6211\u4eec\u81ea\u5b9a\u4e49\u65b0\u7684\u6570\u636e\u7c7b\u578b\uff08\u8fd9\u4e00\u70b9\u5728\u540e\u9762\u4f1a\u8bb2\u5230\uff09\uff0c\u6211\u4eec\u5148\u4ecb\u7ecd\u51e0\u79cd\u5e38\u7528\u7684\u6570\u636e\u7c7b\u578b\u3002</p> <ul> <li>\u6574\u578b\uff1aPython\u4e2d\u53ef\u4ee5\u5904\u7406\u4efb\u610f\u5927\u5c0f\u7684\u6574\u6570\uff08Python 2.x\u4e2d\u6709int\u548clong\u4e24\u79cd\u7c7b\u578b\u7684\u6574\u6570\uff0c\u4f46\u8fd9\u79cd\u533a\u5206\u5bf9Python\u6765\u8bf4\u610f\u4e49\u4e0d\u5927\uff0c\u56e0\u6b64\u5728Python 3.x\u4e2d\u6574\u6570\u53ea\u6709int\u8fd9\u4e00\u79cd\u4e86\uff09\uff0c\u800c\u4e14\u652f\u6301\u4e8c\u8fdb\u5236\uff08\u5982<code>0b100</code>\uff0c\u6362\u7b97\u6210\u5341\u8fdb\u5236\u662f4\uff09\u3001\u516b\u8fdb\u5236\uff08\u5982<code>0o100</code>\uff0c\u6362\u7b97\u6210\u5341\u8fdb\u5236\u662f64\uff09\u3001\u5341\u8fdb\u5236\uff08<code>100</code>\uff09\u548c\u5341\u516d\u8fdb\u5236\uff08<code>0x100</code>\uff0c\u6362\u7b97\u6210\u5341\u8fdb\u5236\u662f256\uff09\u7684\u8868\u793a\u6cd5\u3002</li> <li>\u6d6e\u70b9\u578b\uff1a\u6d6e\u70b9\u6570\u4e5f\u5c31\u662f\u5c0f\u6570\uff0c\u4e4b\u6240\u4ee5\u79f0\u4e3a\u6d6e\u70b9\u6570\uff0c\u662f\u56e0\u4e3a\u6309\u7167\u79d1\u5b66\u8bb0\u6570\u6cd5\u8868\u793a\u65f6\uff0c\u4e00\u4e2a\u6d6e\u70b9\u6570\u7684\u5c0f\u6570\u70b9\u4f4d\u7f6e\u662f\u53ef\u53d8\u7684\uff0c\u6d6e\u70b9\u6570\u9664\u4e86\u6570\u5b66\u5199\u6cd5\uff08\u5982<code>123.456</code>\uff09\u4e4b\u5916\u8fd8\u652f\u6301\u79d1\u5b66\u8ba1\u6570\u6cd5\uff08\u5982<code>1.23456e2</code>\uff09\u3002</li> <li>\u5b57\u7b26\u4e32\u578b\uff1a\u5b57\u7b26\u4e32\u662f\u4ee5\u5355\u5f15\u53f7\u6216\u53cc\u5f15\u53f7\u62ec\u8d77\u6765\u7684\u4efb\u610f\u6587\u672c\uff0c\u6bd4\u5982<code>'hello'</code>\u548c<code>\"hello\"</code>,\u5b57\u7b26\u4e32\u8fd8\u6709\u539f\u59cb\u5b57\u7b26\u4e32\u8868\u793a\u6cd5\u3001\u5b57\u8282\u5b57\u7b26\u4e32\u8868\u793a\u6cd5\u3001Unicode\u5b57\u7b26\u4e32\u8868\u793a\u6cd5\uff0c\u800c\u4e14\u53ef\u4ee5\u4e66\u5199\u6210\u591a\u884c\u7684\u5f62\u5f0f\uff08\u7528\u4e09\u4e2a\u5355\u5f15\u53f7\u6216\u4e09\u4e2a\u53cc\u5f15\u53f7\u5f00\u5934\uff0c\u4e09\u4e2a\u5355\u5f15\u53f7\u6216\u4e09\u4e2a\u53cc\u5f15\u53f7\u7ed3\u5c3e\uff09\u3002</li> <li>\u5e03\u5c14\u578b\uff1a\u5e03\u5c14\u503c\u53ea\u6709<code>True</code>\u3001<code>False</code>\u4e24\u79cd\u503c\uff0c\u8981\u4e48\u662f<code>True</code>\uff0c\u8981\u4e48\u662f<code>False</code>\uff0c\u5728Python\u4e2d\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528<code>True</code>\u3001<code>False</code>\u8868\u793a\u5e03\u5c14\u503c\uff08\u8bf7\u6ce8\u610f\u5927\u5c0f\u5199\uff09\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5e03\u5c14\u8fd0\u7b97\u8ba1\u7b97\u51fa\u6765\uff08\u4f8b\u5982<code>3 &lt; 5</code>\u4f1a\u4ea7\u751f\u5e03\u5c14\u503c<code>True</code>\uff0c\u800c<code>2 == 1</code>\u4f1a\u4ea7\u751f\u5e03\u5c14\u503c<code>False</code>\uff09\u3002</li> <li>\u590d\u6570\u578b\uff1a\u5f62\u5982<code>3+5j</code>\uff0c\u8ddf\u6570\u5b66\u4e0a\u7684\u590d\u6570\u8868\u793a\u4e00\u6837\uff0c\u552f\u4e00\u4e0d\u540c\u7684\u662f\u865a\u90e8\u7684<code>i</code>\u6362\u6210\u4e86<code>j</code>\u3002</li> </ul>"},{"location":"python/Py-100Days/Day01-15/02.%E8%AF%AD%E8%A8%80%E5%85%83%E7%B4%A0/#_4","title":"\u53d8\u91cf\u547d\u540d","text":"<p>\u5bf9\u4e8e\u6bcf\u4e2a\u53d8\u91cf\u6211\u4eec\u9700\u8981\u7ed9\u5b83\u53d6\u4e00\u4e2a\u540d\u5b57\uff0c\u5c31\u5982\u540c\u6211\u4eec\u6bcf\u4e2a\u4eba\u90fd\u6709\u5c5e\u4e8e\u81ea\u5df1\u7684\u54cd\u4eae\u7684\u540d\u5b57\u4e00\u6837\u3002\u5728Python\u4e2d\uff0c\u53d8\u91cf\u547d\u540d\u9700\u8981\u9075\u5faa\u4ee5\u4e0b\u8fd9\u4e9b\u5fc5\u987b\u9075\u5b88\u786c\u6027\u89c4\u5219\u548c\u5f3a\u70c8\u5efa\u8bae\u9075\u5b88\u7684\u975e\u786c\u6027\u89c4\u5219\u3002</p> <ul> <li>\u786c\u6027\u89c4\u5219\uff1a</li> <li>\u53d8\u91cf\u540d\u7531\u5b57\u6bcd\uff08\u5e7f\u4e49\u7684Unicode\u5b57\u7b26\uff0c\u4e0d\u5305\u62ec\u7279\u6b8a\u5b57\u7b26\uff09\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\u6784\u6210\uff0c\u6570\u5b57\u4e0d\u80fd\u5f00\u5934\u3002</li> <li>\u5927\u5c0f\u5199\u654f\u611f\uff08\u5927\u5199\u7684<code>a</code>\u548c\u5c0f\u5199\u7684<code>A</code>\u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u53d8\u91cf\uff09\u3002</li> <li>\u4e0d\u8981\u8ddf\u5173\u952e\u5b57\uff08\u6709\u7279\u6b8a\u542b\u4e49\u7684\u5355\u8bcd\uff0c\u540e\u9762\u4f1a\u8bb2\u5230\uff09\u548c\u7cfb\u7edf\u4fdd\u7559\u5b57\uff08\u5982\u51fd\u6570\u3001\u6a21\u5757\u7b49\u7684\u540d\u5b57\uff09\u51b2\u7a81\u3002</li> <li>PEP 8\u8981\u6c42\uff1a</li> <li>\u7528\u5c0f\u5199\u5b57\u6bcd\u62fc\u5199\uff0c\u591a\u4e2a\u5355\u8bcd\u7528\u4e0b\u5212\u7ebf\u8fde\u63a5\u3002</li> <li>\u53d7\u4fdd\u62a4\u7684\u5b9e\u4f8b\u5c5e\u6027\u7528\u5355\u4e2a\u4e0b\u5212\u7ebf\u5f00\u5934\uff08\u540e\u9762\u4f1a\u8bb2\u5230\uff09\u3002</li> <li>\u79c1\u6709\u7684\u5b9e\u4f8b\u5c5e\u6027\u7528\u4e24\u4e2a\u4e0b\u5212\u7ebf\u5f00\u5934\uff08\u540e\u9762\u4f1a\u8bb2\u5230\uff09\u3002</li> </ul> <p>\u5f53\u7136\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u4e13\u4e1a\u7684\u7a0b\u5e8f\u5458\uff0c\u7ed9\u53d8\u91cf\uff08\u4e8b\u5b9e\u4e0a\u5e94\u8be5\u662f\u6240\u6709\u7684\u6807\u8bc6\u7b26\uff09\u547d\u540d\u65f6\u505a\u5230\u89c1\u540d\u77e5\u610f\u4e5f\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002</p>"},{"location":"python/Py-100Days/Day01-15/02.%E8%AF%AD%E8%A8%80%E5%85%83%E7%B4%A0/#_5","title":"\u53d8\u91cf\u7684\u4f7f\u7528","text":"<p>\u4e0b\u9762\u901a\u8fc7\u51e0\u4e2a\u4f8b\u5b50\u6765\u8bf4\u660e\u53d8\u91cf\u7684\u7c7b\u578b\u548c\u53d8\u91cf\u4f7f\u7528\u3002</p> <pre><code>\"\"\"\n\u4f7f\u7528\u53d8\u91cf\u4fdd\u5b58\u6570\u636e\u5e76\u8fdb\u884c\u7b97\u672f\u8fd0\u7b97\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\na = 321\nb = 123\nprint(a + b)\nprint(a - b)\nprint(a * b)\nprint(a / b)\nprint(a // b)\nprint(a % b)\nprint(a ** b)\n</code></pre> <pre><code>\"\"\"\n\u4f7f\u7528input\u51fd\u6570\u8f93\u5165\n\u4f7f\u7528int()\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\n\u7528\u5360\u4f4d\u7b26\u683c\u5f0f\u5316\u8f93\u51fa\u7684\u5b57\u7b26\u4e32\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\na = int(input('a = '))\nb = int(input('b = '))\nprint('%d + %d = %d' % (a, b, a + b))\nprint('%d - %d = %d' % (a, b, a - b))\nprint('%d * %d = %d' % (a, b, a * b))\nprint('%d / %d = %f' % (a, b, a / b))\nprint('%d // %d = %d' % (a, b, a // b))\nprint('%d %% %d = %d' % (a, b, a % b))\nprint('%d ** %d = %d' % (a, b, a ** b))\n</code></pre> <pre><code>\"\"\"\n\u4f7f\u7528type()\u68c0\u67e5\u53d8\u91cf\u7684\u7c7b\u578b\n\nVersion: 0.1\nAuthor: \u9a86\u660a\nDate: 2018-02-27\n\"\"\"\n\na = 100\nb = 12.345\nc = 1 + 5j\nd = 'hello, world'\ne = True\nprint(type(a))\nprint(type(b))\nprint(type(c))\nprint(type(d))\nprint(type(e))\n</code></pre> <p>\u5728\u5bf9\u53d8\u91cf\u7c7b\u578b\u8fdb\u884c\u8f6c\u6362\u65f6\u53ef\u4ee5\u4f7f\u7528Python\u7684\u5185\u7f6e\u51fd\u6570\uff08\u51c6\u786e\u7684\u8bf4\u4e0b\u9762\u5217\u51fa\u7684\u5e76\u4e0d\u662f\u771f\u6b63\u610f\u4e49\u4e0a\u7684\u51fd\u6570\uff0c\u800c\u662f\u540e\u9762\u6211\u4eec\u8981\u8bb2\u5230\u7684\u521b\u5efa\u5bf9\u8c61\u7684\u6784\u9020\u65b9\u6cd5\uff09\u3002</p> <ul> <li><code>int()</code>\uff1a\u5c06\u4e00\u4e2a\u6570\u503c\u6216\u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u6574\u6570\uff0c\u53ef\u4ee5\u6307\u5b9a\u8fdb\u5236\u3002</li> <li><code>float()</code>\uff1a\u5c06\u4e00\u4e2a\u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u6d6e\u70b9\u6570\u3002</li> <li><code>str()</code>\uff1a\u5c06\u6307\u5b9a\u7684\u5bf9\u8c61\u8f6c\u6362\u6210\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u53ef\u4ee5\u6307\u5b9a\u7f16\u7801\u3002</li> <li><code>chr()</code>\uff1a\u5c06\u6574\u6570\u8f6c\u6362\u6210\u8be5\u7f16\u7801\u5bf9\u5e94\u7684\u5b57\u7b26\u4e32\uff08\u4e00\u4e2a\u5b57\u7b26\uff09\u3002</li> <li><code>ord()</code>\uff1a\u5c06\u5b57\u7b26\u4e32\uff08\u4e00\u4e2a\u5b57\u7b26\uff09\u8f6c\u6362\u6210\u5bf9\u5e94\u7684\u7f16\u7801\uff08\u6574\u6570\uff09\u3002</li> </ul>"},{"location":"python/Py-100Days/Day01-15/02.%E8%AF%AD%E8%A8%80%E5%85%83%E7%B4%A0/#_6","title":"\u8fd0\u7b97\u7b26","text":"<p>Python\u652f\u6301\u591a\u79cd\u8fd0\u7b97\u7b26\uff0c\u4e0b\u8868\u5927\u81f4\u6309\u7167\u4f18\u5148\u7ea7\u4ece\u9ad8\u5230\u4f4e\u7684\u987a\u5e8f\u5217\u51fa\u4e86\u6240\u6709\u7684\u8fd0\u7b97\u7b26\uff0c\u6211\u4eec\u4f1a\u9646\u7eed\u4f7f\u7528\u5230\u5b83\u4eec\u3002</p> \u8fd0\u7b97\u7b26 \u63cf\u8ff0 <code>[]</code> <code>[:]</code> \u4e0b\u6807\uff0c\u5207\u7247 <code>**</code> \u6307\u6570 <code>~</code> <code>+</code> <code>-</code> \u6309\u4f4d\u53d6\u53cd, \u6b63\u8d1f\u53f7 <code>*</code> <code>/</code> <code>%</code> <code>//</code> \u4e58\uff0c\u9664\uff0c\u6a21\uff0c\u6574\u9664 <code>+</code> <code>-</code> \u52a0\uff0c\u51cf <code>&gt;&gt;</code> <code>&lt;&lt;</code> \u53f3\u79fb\uff0c\u5de6\u79fb <code>&amp;</code> \u6309\u4f4d\u4e0e <code>^</code> <code>\\|</code> \u6309\u4f4d\u5f02\u6216\uff0c\u6309\u4f4d\u6216 <code>&lt;=</code> <code>&lt;</code> <code>&gt;</code> <code>&gt;=</code> \u5c0f\u4e8e\u7b49\u4e8e\uff0c\u5c0f\u4e8e\uff0c\u5927\u4e8e\uff0c\u5927\u4e8e\u7b49\u4e8e <code>==</code> <code>!=</code> \u7b49\u4e8e\uff0c\u4e0d\u7b49\u4e8e <code>is</code> <code>is not</code> \u8eab\u4efd\u8fd0\u7b97\u7b26 <code>in</code> <code>not in</code> \u6210\u5458\u8fd0\u7b97\u7b26 <code>not</code> <code>or</code> <code>and</code> \u903b\u8f91\u8fd0\u7b97\u7b26 <code>=</code> <code>+=</code> <code>-=</code> <code>*=</code> <code>/=</code> <code>%=</code> <code>//=</code> <code>**=</code> <code>&amp;=</code> <code>\\|=</code> <code>^=</code> <code>&gt;&gt;=</code> <code>&lt;&lt;=</code> \uff08\u590d\u5408\uff09\u8d4b\u503c\u8fd0\u7b97\u7b26 <p>\u8bf4\u660e\uff1a \u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u5982\u679c\u641e\u4e0d\u6e05\u695a\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\uff0c\u53ef\u4ee5\u4f7f\u7528\u62ec\u53f7\u6765\u786e\u4fdd\u8fd0\u7b97\u7684\u6267\u884c\u987a\u5e8f\u3002</p> <p>\u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u4e86\u8fd0\u7b97\u7b26\u7684\u4f7f\u7528\u3002</p> <pre><code>\"\"\"\n\u8fd0\u7b97\u7b26\u7684\u4f7f\u7528\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\na = 5\nb = 10\nc = 3\nd = 4\ne = 5\na += b\na -= c\na *= d\na /= e\nprint(\"a = \", a)\n\nflag1 = 3 &gt; 2\nflag2 = 2 &lt; 1\nflag3 = flag1 and flag2\nflag4 = flag1 or flag2\nflag5 = not flag1\nprint(\"flag1 = \", flag1)\nprint(\"flag2 = \", flag2)\nprint(\"flag3 = \", flag3)\nprint(\"flag4 = \", flag4)\nprint(\"flag5 = \", flag5)\nprint(flag1 is True)\nprint(flag2 is not False)\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/02.%E8%AF%AD%E8%A8%80%E5%85%83%E7%B4%A0/#_7","title":"\u7ec3\u4e60","text":""},{"location":"python/Py-100Days/Day01-15/02.%E8%AF%AD%E8%A8%80%E5%85%83%E7%B4%A0/#1","title":"\u7ec3\u4e601\uff1a\u534e\u6c0f\u6e29\u5ea6\u8f6c\u6444\u6c0f\u6e29\u5ea6\u3002","text":"<pre><code>\"\"\"\n\u5c06\u534e\u6c0f\u6e29\u5ea6\u8f6c\u6362\u4e3a\u6444\u6c0f\u6e29\u5ea6\nF = 1.8C + 32\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\nf = float(input('\u8bf7\u8f93\u5165\u534e\u6c0f\u6e29\u5ea6: '))\nc = (f - 32) / 1.8\nprint('%.1f\u534e\u6c0f\u5ea6 = %.1f\u6444\u6c0f\u5ea6' % (f, c))\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/02.%E8%AF%AD%E8%A8%80%E5%85%83%E7%B4%A0/#2","title":"\u7ec3\u4e602\uff1a\u8f93\u5165\u5706\u7684\u534a\u5f84\u8ba1\u7b97\u8ba1\u7b97\u5468\u957f\u548c\u9762\u79ef\u3002","text":"<pre><code>\"\"\"\n\u8f93\u5165\u534a\u5f84\u8ba1\u7b97\u5706\u7684\u5468\u957f\u548c\u9762\u79ef\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\nimport math\n\nradius = float(input('\u8bf7\u8f93\u5165\u5706\u7684\u534a\u5f84: '))\nperimeter = 2 * math.pi * radius\narea = math.pi * radius * radius\nprint('\u5468\u957f: %.2f' % perimeter)\nprint('\u9762\u79ef: %.2f' % area)\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/02.%E8%AF%AD%E8%A8%80%E5%85%83%E7%B4%A0/#3","title":"\u7ec3\u4e603\uff1a\u8f93\u5165\u5e74\u4efd\u5224\u65ad\u662f\u4e0d\u662f\u95f0\u5e74\u3002","text":"<pre><code>\"\"\"\n\u8f93\u5165\u5e74\u4efd \u5982\u679c\u662f\u95f0\u5e74\u8f93\u51faTrue \u5426\u5219\u8f93\u51faFalse\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\nyear = int(input('\u8bf7\u8f93\u5165\u5e74\u4efd: '))\n# \u5982\u679c\u4ee3\u7801\u592a\u957f\u5199\u6210\u4e00\u884c\u4e0d\u4fbf\u4e8e\u9605\u8bfb \u53ef\u4ee5\u4f7f\u7528\\\u6216()\u6298\u884c\nis_leap = (year % 4 == 0 and year % 100 != 0 or\n           year % 400 == 0)\nprint(is_leap)\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/03.%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84/","title":"03.\u5206\u652f\u7ed3\u6784","text":""},{"location":"python/Py-100Days/Day01-15/03.%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84/#_1","title":"\u5206\u652f\u7ed3\u6784","text":""},{"location":"python/Py-100Days/Day01-15/03.%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84/#_2","title":"\u5206\u652f\u7ed3\u6784\u7684\u5e94\u7528\u573a\u666f","text":"<p>\u8fc4\u4eca\u4e3a\u6b62\uff0c\u6211\u4eec\u5199\u7684Python\u4ee3\u7801\u90fd\u662f\u4e00\u6761\u4e00\u6761\u8bed\u53e5\u987a\u5e8f\u6267\u884c\uff0c\u8fd9\u79cd\u7ed3\u6784\u7684\u4ee3\u7801\u6211\u4eec\u79f0\u4e4b\u4e3a\u987a\u5e8f\u7ed3\u6784\u3002\u7136\u800c\u4ec5\u6709\u987a\u5e8f\u7ed3\u6784\u5e76\u4e0d\u80fd\u89e3\u51b3\u6240\u6709\u7684\u95ee\u9898\uff0c\u6bd4\u5982\u6211\u4eec\u8bbe\u8ba1\u4e00\u4e2a\u6e38\u620f\uff0c\u6e38\u620f\u7b2c\u4e00\u5173\u7684\u901a\u5173\u6761\u4ef6\u662f\u73a9\u5bb6\u83b7\u5f971000\u5206\uff0c\u90a3\u4e48\u5728\u5b8c\u6210\u672c\u5c40\u6e38\u620f\u540e\u6211\u4eec\u8981\u6839\u636e\u73a9\u5bb6\u5f97\u5230\u5206\u6570\u6765\u51b3\u5b9a\u7a76\u7adf\u662f\u8fdb\u5165\u7b2c\u4e8c\u5173\u8fd8\u662f\u544a\u8bc9\u73a9\u5bb6\u201cGame Over\u201d\uff0c\u8fd9\u91cc\u5c31\u4f1a\u4ea7\u751f\u4e24\u4e2a\u5206\u652f\uff0c\u800c\u4e14\u8fd9\u4e24\u4e2a\u5206\u652f\u53ea\u6709\u4e00\u4e2a\u4f1a\u88ab\u6267\u884c\uff0c\u8fd9\u5c31\u662f\u7a0b\u5e8f\u4e2d\u5206\u652f\u7ed3\u6784\u3002\u7c7b\u4f3c\u7684\u573a\u666f\u8fd8\u6709\u5f88\u591a\uff0c\u7ed9\u5927\u5bb6\u4e00\u5206\u949f\u7684\u65f6\u95f4\uff0c\u4f60\u5e94\u8be5\u53ef\u4ee5\u60f3\u5230\u81f3\u5c115\u4e2a\u4ee5\u4e0a\u8fd9\u6837\u7684\u4f8b\u5b50\uff0c\u8d76\u7d27\u8bd5\u4e00\u8bd5\u3002</p>"},{"location":"python/Py-100Days/Day01-15/03.%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84/#if","title":"if\u8bed\u53e5\u7684\u4f7f\u7528","text":"<p>\u5728Python\u4e2d\uff0c\u8981\u6784\u9020\u5206\u652f\u7ed3\u6784\u53ef\u4ee5\u4f7f\u7528<code>if</code>\u3001<code>elif</code>\u548c<code>else</code>\u5173\u952e\u5b57\u3002\u6240\u8c13\u5173\u952e\u5b57\u5c31\u662f\u6709\u7279\u6b8a\u542b\u4e49\u7684\u5355\u8bcd\uff0c\u50cf<code>if</code>\u548c<code>else</code>\u5c31\u662f\u4e13\u95e8\u7528\u4e8e\u6784\u9020\u5206\u652f\u7ed3\u6784\u7684\u5173\u952e\u5b57\uff0c\u5f88\u663e\u7136\u4f60\u4e0d\u80fd\u591f\u4f7f\u7528\u5b83\u4f5c\u4e3a\u53d8\u91cf\u540d\uff08\u4e8b\u5b9e\u4e0a\uff0c\u7528\u4f5c\u5176\u4ed6\u7684\u6807\u8bc6\u7b26\u4e5f\u662f\u4e0d\u53ef\u4ee5\uff09\u3002\u4e0b\u9762\u7684\u4f8b\u5b50\u4e2d\u6f14\u793a\u4e86\u5982\u4f55\u6784\u9020\u4e00\u4e2a\u5206\u652f\u7ed3\u6784\u3002</p> <pre><code>\"\"\"\n\u7528\u6237\u8eab\u4efd\u9a8c\u8bc1\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\nusername = input('\u8bf7\u8f93\u5165\u7528\u6237\u540d: ')\npassword = input('\u8bf7\u8f93\u5165\u53e3\u4ee4: ')\n# \u5982\u679c\u5e0c\u671b\u8f93\u5165\u53e3\u4ee4\u65f6 \u7ec8\u7aef\u4e2d\u6ca1\u6709\u56de\u663e \u53ef\u4ee5\u4f7f\u7528getpass\u6a21\u5757\u7684getpass\u51fd\u6570\n# import getpass\n# password = getpass.getpass('\u8bf7\u8f93\u5165\u53e3\u4ee4: ')\nif username == 'admin' and password == '123456':\n    print('\u8eab\u4efd\u9a8c\u8bc1\u6210\u529f!')\nelse:\n    print('\u8eab\u4efd\u9a8c\u8bc1\u5931\u8d25!')\n</code></pre> <p>\u552f\u4e00\u9700\u8981\u8bf4\u660e\u7684\u662f\u548cC/C++\u3001Java\u7b49\u8bed\u8a00\u4e0d\u540c\uff0cPython\u4e2d\u6ca1\u6709\u7528\u82b1\u62ec\u53f7\u6765\u6784\u9020\u4ee3\u7801\u5757\u800c\u662f\u4f7f\u7528\u4e86\u7f29\u8fdb\u7684\u65b9\u5f0f\u6765\u8bbe\u7f6e\u4ee3\u7801\u7684\u5c42\u6b21\u7ed3\u6784\uff0c\u5982\u679c<code>if</code>\u6761\u4ef6\u6210\u7acb\u7684\u60c5\u51b5\u4e0b\u9700\u8981\u6267\u884c\u591a\u6761\u8bed\u53e5\uff0c\u53ea\u8981\u4fdd\u6301\u591a\u6761\u8bed\u53e5\u5177\u6709\u76f8\u540c\u7684\u7f29\u8fdb\u5c31\u53ef\u4ee5\u4e86\uff0c\u6362\u53e5\u8bdd\u8bf4\u8fde\u7eed\u7684\u4ee3\u7801\u5982\u679c\u53c8\u4fdd\u6301\u4e86\u76f8\u540c\u7684\u7f29\u8fdb\u90a3\u4e48\u5b83\u4eec\u5c5e\u4e8e\u540c\u4e00\u4e2a\u4ee3\u7801\u5757\uff0c\u76f8\u5f53\u4e8e\u662f\u4e00\u4e2a\u6267\u884c\u7684\u6574\u4f53\u3002</p> <p>\u5f53\u7136\u5982\u679c\u8981\u6784\u9020\u51fa\u66f4\u591a\u7684\u5206\u652f\uff0c\u53ef\u4ee5\u4f7f\u7528<code>if\u2026elif\u2026else\u2026</code>\u7ed3\u6784\uff0c\u4f8b\u5982\u4e0b\u9762\u7684\u5206\u6bb5\u51fd\u6570\u6c42\u503c\u3002</p> <p></p> <pre><code>\"\"\"\n\u5206\u6bb5\u51fd\u6570\u6c42\u503c\n\n        3x - 5  (x &gt; 1)\nf(x) =  x + 2   (-1 &lt;= x &lt;= 1)\n        5x + 3  (x &lt; -1)\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\nx = float(input('x = '))\nif x &gt; 1:\n    y = 3 * x - 5\nelif x &gt;= -1:\n    y = x + 2\nelse:\n    y = 5 * x + 3\nprint('f(%.2f) = %.2f' % (x, y))\n</code></pre> <p>\u5f53\u7136\u6839\u636e\u5b9e\u9645\u5f00\u53d1\u7684\u9700\u8981\uff0c\u5206\u652f\u7ed3\u6784\u662f\u53ef\u4ee5\u5d4c\u5957\u7684\uff0c\u4f8b\u5982\u5224\u65ad\u662f\u5426\u901a\u5173\u4ee5\u540e\u8fd8\u8981\u6839\u636e\u4f60\u83b7\u5f97\u7684\u5b9d\u7269\u6216\u8005\u9053\u5177\u7684\u6570\u91cf\u5bf9\u4f60\u7684\u8868\u73b0\u7ed9\u51fa\u7b49\u7ea7\uff08\u6bd4\u5982\u70b9\u4eae\u4e24\u9897\u6216\u4e09\u9897\u661f\u661f\uff09\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u9700\u8981\u5728<code>if</code>\u7684\u5185\u90e8\u6784\u9020\u51fa\u4e00\u4e2a\u65b0\u7684\u5206\u652f\u7ed3\u6784\uff0c\u540c\u7406<code>elif</code>\u548c<code>else</code>\u4e2d\u4e5f\u53ef\u4ee5\u518d\u6784\u9020\u65b0\u7684\u5206\u652f\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u5d4c\u5957\u7684\u5206\u652f\u7ed3\u6784\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e0a\u9762\u7684\u4ee3\u7801\u4e5f\u53ef\u4ee5\u5199\u6210\u4e0b\u9762\u7684\u6837\u5b50\u3002</p> <pre><code>\"\"\"\n\u5206\u6bb5\u51fd\u6570\u6c42\u503c\n        3x - 5  (x &gt; 1)\nf(x) =  x + 2   (-1 &lt;= x &lt;= 1)\n        5x + 3  (x &lt; -1)\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\nx = float(input('x = '))\nif x &gt; 1:\n    y = 3 * x - 5\nelse:\n    if x &gt;= -1:\n        y = x + 2\n    else:\n        y = 5 * x + 3\nprint('f(%.2f) = %.2f' % (x, y))\n</code></pre> <p>\u8bf4\u660e\uff1a \u5927\u5bb6\u53ef\u4ee5\u81ea\u5df1\u611f\u53d7\u4e00\u4e0b\u8fd9\u4e24\u79cd\u5199\u6cd5\u5230\u5e95\u662f\u54ea\u4e00\u79cd\u66f4\u597d\u3002\u5728\u4e4b\u524d\u6211\u4eec\u63d0\u5230\u7684Python\u4e4b\u7985\u4e2d\u6709\u8fd9\u4e48\u4e00\u53e5\u8bdd\u201cFlat is better than nested.\u201d\uff0c\u4e4b\u6240\u4ee5\u63d0\u51fa\u8fd9\u4e2a\u89c2\u70b9\u662f\u56e0\u4e3a\u5d4c\u5957\u7ed3\u6784\u7684\u5d4c\u5957\u5c42\u6b21\u591a\u4e86\u4e4b\u540e\u4f1a\u4e25\u91cd\u7684\u5f71\u54cd\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\uff0c\u5982\u679c\u53ef\u4ee5\u4f7f\u7528\u6241\u5e73\u5316\u7684\u7ed3\u6784\u5c31\u4e0d\u8981\u53bb\u7528\u5d4c\u5957\uff0c\u56e0\u6b64\u4e4b\u524d\u7684\u5199\u6cd5\u662f\u66f4\u597d\u7684\u505a\u6cd5\u3002</p>"},{"location":"python/Py-100Days/Day01-15/03.%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84/#_3","title":"\u7ec3\u4e60","text":""},{"location":"python/Py-100Days/Day01-15/03.%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84/#1","title":"\u7ec3\u4e601\uff1a\u82f1\u5236\u5355\u4f4d\u4e0e\u516c\u5236\u5355\u4f4d\u4e92\u6362","text":"<pre><code>\"\"\"\n\u82f1\u5236\u5355\u4f4d\u82f1\u5bf8\u548c\u516c\u5236\u5355\u4f4d\u5398\u7c73\u4e92\u6362\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\nvalue = float(input('\u8bf7\u8f93\u5165\u957f\u5ea6: '))\nunit = input('\u8bf7\u8f93\u5165\u5355\u4f4d: ')\nif unit == 'in' or unit == '\u82f1\u5bf8':\n    print('%f\u82f1\u5bf8 = %f\u5398\u7c73' % (value, value * 2.54))\nelif unit == 'cm' or unit == '\u5398\u7c73':\n    print('%f\u5398\u7c73 = %f\u82f1\u5bf8' % (value, value / 2.54))\nelse:\n    print('\u8bf7\u8f93\u5165\u6709\u6548\u7684\u5355\u4f4d')\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/03.%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84/#2","title":"\u7ec3\u4e602\uff1a\u63b7\u9ab0\u5b50\u51b3\u5b9a\u505a\u4ec0\u4e48","text":"<pre><code>\"\"\"\n\u63b7\u9ab0\u5b50\u51b3\u5b9a\u505a\u4ec0\u4e48\u4e8b\u60c5\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\nfrom random import randint\n\nface = randint(1, 6)\nif face == 1:\n    result = '\u5531\u9996\u6b4c'\nelif face == 2:\n    result = '\u8df3\u4e2a\u821e'\nelif face == 3:\n    result = '\u5b66\u72d7\u53eb'\nelif face == 4:\n    result = '\u505a\u4fef\u5367\u6491'\nelif face == 5:\n    result = '\u5ff5\u7ed5\u53e3\u4ee4'\nelse:\n    result = '\u8bb2\u51b7\u7b11\u8bdd'\nprint(result)\n</code></pre> <p>\u8bf4\u660e\uff1a \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\u4f7f\u7528\u4e86random\u6a21\u5757\u7684randint\u51fd\u6570\u751f\u6210\u6307\u5b9a\u8303\u56f4\u7684\u968f\u673a\u6570\u6765\u6a21\u62df\u63b7\u9ab0\u5b50\u3002</p>"},{"location":"python/Py-100Days/Day01-15/03.%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84/#3","title":"\u7ec3\u4e603\uff1a\u767e\u5206\u5236\u6210\u7ee9\u8f6c\u7b49\u7ea7\u5236","text":"<pre><code>\"\"\"\n\u767e\u5206\u5236\u6210\u7ee9\u8f6c\u7b49\u7ea7\u5236\u6210\u7ee9\n90\u5206\u4ee5\u4e0a    --&gt; A\n80\u5206~89\u5206    --&gt; B\n70\u5206~79\u5206    --&gt; C\n60\u5206~69\u5206    --&gt; D\n60\u5206\u4ee5\u4e0b    --&gt; E\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\nscore = float(input('\u8bf7\u8f93\u5165\u6210\u7ee9: '))\nif score &gt;= 90:\n    grade = 'A'\nelif score &gt;= 80:\n    grade = 'B'\nelif score &gt;= 70:\n    grade = 'C'\nelif score &gt;= 60:\n    grade = 'D'\nelse:\n    grade = 'E'\nprint('\u5bf9\u5e94\u7684\u7b49\u7ea7\u662f:', grade)\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/03.%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84/#4","title":"\u7ec3\u4e604\uff1a\u8f93\u5165\u4e09\u6761\u8fb9\u957f\u5982\u679c\u80fd\u6784\u6210\u4e09\u89d2\u5f62\u5c31\u8ba1\u7b97\u5468\u957f\u548c\u9762\u79ef","text":"<pre><code>\"\"\"\n\u5224\u65ad\u8f93\u5165\u7684\u8fb9\u957f\u80fd\u5426\u6784\u6210\u4e09\u89d2\u5f62\n\u5982\u679c\u80fd\u5219\u8ba1\u7b97\u51fa\u4e09\u89d2\u5f62\u7684\u5468\u957f\u548c\u9762\u79ef\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\nimport math\n\na = float(input('a = '))\nb = float(input('b = '))\nc = float(input('c = '))\nif a + b &gt; c and a + c &gt; b and b + c &gt; a:\n    print('\u5468\u957f: %f' % (a + b + c))\n    p = (a + b + c) / 2\n    area = math.sqrt(p * (p - a) * (p - b) * (p - c))\n    print('\u9762\u79ef: %f' % (area))\nelse:\n    print('\u4e0d\u80fd\u6784\u6210\u4e09\u89d2\u5f62')\n</code></pre> <p>\u8bf4\u660e\uff1a \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\u4f7f\u7528\u4e86<code>math</code>\u6a21\u5757\u7684<code>sqrt</code>\u51fd\u6570\u6765\u8ba1\u7b97\u5e73\u65b9\u6839\u3002\u7528\u8fb9\u957f\u8ba1\u7b97\u4e09\u89d2\u5f62\u9762\u79ef\u7684\u516c\u5f0f\u53eb\u505a\u6d77\u4f26\u516c\u5f0f\u3002</p>"},{"location":"python/Py-100Days/Day01-15/03.%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84/#5","title":"\u7ec3\u4e605\uff1a\u4e2a\u4eba\u6240\u5f97\u7a0e\u8ba1\u7b97\u5668\u3002","text":"<pre><code>\"\"\"\n\u8f93\u5165\u6708\u6536\u5165\u548c\u4e94\u9669\u4e00\u91d1\u8ba1\u7b97\u4e2a\u4eba\u6240\u5f97\u7a0e\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\nsalary = float(input('\u672c\u6708\u6536\u5165: '))\ninsurance = float(input('\u4e94\u9669\u4e00\u91d1: '))\ndiff = salary - insurance - 3500\nif diff &lt;= 0:\n    rate = 0\n    deduction = 0\nelif diff &lt; 1500:\n    rate = 0.03\n    deduction = 0\nelif diff &lt; 4500:\n    rate = 0.1\n    deduction = 105\nelif diff &lt; 9000:\n    rate = 0.2\n    deduction = 555\nelif diff &lt; 35000:\n    rate = 0.25\n    deduction = 1005\nelif diff &lt; 55000:\n    rate = 0.3\n    deduction = 2755\nelif diff &lt; 80000:\n    rate = 0.35\n    deduction = 5505\nelse:\n    rate = 0.45\n    deduction = 13505\ntax = abs(diff * rate - deduction)\nprint('\u4e2a\u4eba\u6240\u5f97\u7a0e: \uffe5%.2f\u5143' % tax)\nprint('\u5b9e\u9645\u5230\u624b\u6536\u5165: \uffe5%.2f\u5143' % (diff + 3500 - tax))\n</code></pre> <p>\u8bf4\u660e\uff1a \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\u4f7f\u7528\u4e86Python\u5185\u7f6e\u7684<code>abs()</code>\u51fd\u6570\u53d6\u7edd\u5bf9\u503c\u6765\u5904\u7406<code>-0</code>\u7684\u95ee\u9898\u3002</p>"},{"location":"python/Py-100Days/Day01-15/04.%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84/","title":"04.\u5faa\u73af\u7ed3\u6784","text":""},{"location":"python/Py-100Days/Day01-15/04.%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84/#_1","title":"\u5faa\u73af\u7ed3\u6784","text":""},{"location":"python/Py-100Days/Day01-15/04.%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84/#_2","title":"\u5faa\u73af\u7ed3\u6784\u7684\u5e94\u7528\u573a\u666f","text":"<p>\u5982\u679c\u5728\u7a0b\u5e8f\u4e2d\u6211\u4eec\u9700\u8981\u91cd\u590d\u7684\u6267\u884c\u67d0\u6761\u6216\u67d0\u4e9b\u6307\u4ee4\uff0c\u4f8b\u5982\u7528\u7a0b\u5e8f\u63a7\u5236\u673a\u5668\u4eba\u8e22\u8db3\u7403\uff0c\u5982\u679c\u673a\u5668\u4eba\u6301\u7403\u800c\u4e14\u8fd8\u6ca1\u6709\u8fdb\u5165\u5c04\u95e8\u8303\u56f4\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u8981\u4e00\u76f4\u53d1\u51fa\u8ba9\u673a\u5668\u4eba\u5411\u7403\u95e8\u65b9\u5411\u5954\u8dd1\u7684\u6307\u4ee4\u3002\u5f53\u7136\u4f60\u53ef\u80fd\u5df2\u7ecf\u6ce8\u610f\u5230\u4e86\uff0c\u521a\u624d\u7684\u63cf\u8ff0\u4e2d\u5176\u5b9e\u4e0d\u4ec5\u4ec5\u6709\u9700\u8981\u91cd\u590d\u7684\u52a8\u4f5c\uff0c\u8fd8\u6709\u6211\u4eec\u4e0a\u4e00\u4e2a\u7ae0\u8282\u8bb2\u5230\u7684\u5206\u652f\u7ed3\u6784\u3002\u518d\u4e3e\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff0c\u6bd4\u5982\u5728\u6211\u4eec\u7684\u7a0b\u5e8f\u4e2d\u8981\u5b9e\u73b0\u6bcf\u96941\u79d2\u4e2d\u5728\u5c4f\u5e55\u4e0a\u6253\u5370\u4e00\u4e2a\"hello, world\"\u8fd9\u6837\u7684\u5b57\u7b26\u4e32\u5e76\u6301\u7eed\u4e00\u4e2a\u5c0f\u65f6\uff0c\u6211\u4eec\u80af\u5b9a\u4e0d\u80fd\u591f\u5c06<code>print('hello, world')</code>\u8fd9\u53e5\u4ee3\u7801\u5199\u4e0a3600\u904d\uff0c\u5982\u679c\u771f\u7684\u9700\u8981\u8fd9\u6837\u505a\u90a3\u4e48\u7f16\u7a0b\u7684\u5de5\u4f5c\u5c31\u592a\u65e0\u804a\u4e86\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u4e86\u89e3\u4e00\u4e0b\u5faa\u73af\u7ed3\u6784\uff0c\u6709\u4e86\u5faa\u73af\u7ed3\u6784\u6211\u4eec\u5c31\u53ef\u4ee5\u8f7b\u677e\u7684\u63a7\u5236\u67d0\u4ef6\u4e8b\u6216\u8005\u67d0\u4e9b\u4e8b\u91cd\u590d\u3001\u91cd\u590d\u3001\u518d\u91cd\u590d\u7684\u53d1\u751f\u3002\u5728Python\u4e2d\u6784\u9020\u5faa\u73af\u7ed3\u6784\u6709\u4e24\u79cd\u505a\u6cd5\uff0c\u4e00\u79cd\u662f<code>for-in</code>\u5faa\u73af\uff0c\u4e00\u79cd\u662f<code>while</code>\u5faa\u73af\u3002</p>"},{"location":"python/Py-100Days/Day01-15/04.%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84/#for-in","title":"for-in\u5faa\u73af","text":"<p>\u5982\u679c\u660e\u786e\u7684\u77e5\u9053\u5faa\u73af\u6267\u884c\u7684\u6b21\u6570\u6216\u8005\u662f\u8981\u5bf9\u4e00\u4e2a\u5bb9\u5668\u8fdb\u884c\u8fed\u4ee3\uff08\u540e\u9762\u4f1a\u8bb2\u5230\uff09\uff0c\u90a3\u4e48\u6211\u4eec\u63a8\u8350\u4f7f\u7528<code>for-in</code>\u5faa\u73af\uff0c\u4f8b\u5982\u4e0b\u9762\u4ee3\u7801\u4e2d\u8ba1\u7b97\u3002</p> <pre><code>\"\"\"\n\u7528for\u5faa\u73af\u5b9e\u73b01~100\u6c42\u548c\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\nsum = 0\nfor x in range(101):\n    sum += x\nprint(sum)\n</code></pre> <p>\u9700\u8981\u8bf4\u660e\u7684\u662f\u4e0a\u9762\u4ee3\u7801\u4e2d\u7684<code>range</code>\u7c7b\u578b\uff0c<code>range</code>\u53ef\u4ee5\u7528\u6765\u4ea7\u751f\u4e00\u4e2a\u4e0d\u53d8\u7684\u6570\u503c\u5e8f\u5217\uff0c\u800c\u4e14\u8fd9\u4e2a\u5e8f\u5217\u901a\u5e38\u90fd\u662f\u7528\u5728\u5faa\u73af\u4e2d\u7684\uff0c\u4f8b\u5982\uff1a</p> <ul> <li><code>range(101)</code>\u53ef\u4ee5\u4ea7\u751f\u4e00\u4e2a0\u5230100\u7684\u6574\u6570\u5e8f\u5217\u3002</li> <li><code>range(1, 100)</code>\u53ef\u4ee5\u4ea7\u751f\u4e00\u4e2a1\u523099\u7684\u6574\u6570\u5e8f\u5217\u3002</li> <li><code>range(1, 100, 2)</code>\u53ef\u4ee5\u4ea7\u751f\u4e00\u4e2a1\u523099\u7684\u5947\u6570\u5e8f\u5217\uff0c\u5176\u4e2d\u76842\u662f\u6b65\u957f\uff0c\u5373\u6570\u503c\u5e8f\u5217\u7684\u589e\u91cf\u3002</li> </ul> <p>\u77e5\u9053\u4e86\u8fd9\u4e00\u70b9\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u4ee3\u7801\u6765\u5b9e\u73b01~100\u4e4b\u95f4\u7684\u5076\u6570\u6c42\u548c\u3002</p> <pre><code>\"\"\"\n\u7528for\u5faa\u73af\u5b9e\u73b01~100\u4e4b\u95f4\u7684\u5076\u6570\u6c42\u548c\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\nsum = 0\nfor x in range(2, 101, 2):\n    sum += x\nprint(sum)\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5728\u5faa\u73af\u4e2d\u4f7f\u7528\u5206\u652f\u7ed3\u6784\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u76f8\u540c\u7684\u529f\u80fd\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>\"\"\"\n\u7528for\u5faa\u73af\u5b9e\u73b01~100\u4e4b\u95f4\u7684\u5076\u6570\u6c42\u548c\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\nsum = 0\nfor x in range(1, 101):\n    if x % 2 == 0:\n        sum += x\nprint(sum)\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/04.%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84/#while","title":"while\u5faa\u73af","text":"<p>\u5982\u679c\u8981\u6784\u9020\u4e0d\u77e5\u9053\u5177\u4f53\u5faa\u73af\u6b21\u6570\u7684\u5faa\u73af\u7ed3\u6784\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528<code>while</code>\u5faa\u73af\uff0c<code>while</code>\u5faa\u73af\u901a\u8fc7\u4e00\u4e2a\u80fd\u591f\u4ea7\u751f\u6216\u8f6c\u6362\u51fa<code>bool</code>\u503c\u7684\u8868\u8fbe\u5f0f\u6765\u63a7\u5236\u5faa\u73af\uff0c\u8868\u8fbe\u5f0f\u7684\u503c\u4e3a<code>True</code>\u5faa\u73af\u7ee7\u7eed\uff0c\u8868\u8fbe\u5f0f\u7684\u503c\u4e3a<code>False</code>\u5faa\u73af\u7ed3\u675f\u3002\u4e0b\u9762\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u201c\u731c\u6570\u5b57\u201d\u7684\u5c0f\u6e38\u620f\uff08\u8ba1\u7b97\u673a\u51fa\u4e00\u4e2a1~100\u4e4b\u95f4\u7684\u968f\u673a\u6570\uff0c\u4eba\u8f93\u5165\u81ea\u5df1\u731c\u7684\u6570\u5b57\uff0c\u8ba1\u7b97\u673a\u7ed9\u51fa\u5bf9\u5e94\u7684\u63d0\u793a\u4fe1\u606f\uff0c\u76f4\u5230\u4eba\u731c\u51fa\u8ba1\u7b97\u673a\u51fa\u7684\u6570\u5b57\uff09\u6765\u770b\u770b\u5982\u4f55\u4f7f\u7528<code>while</code>\u5faa\u73af\u3002</p> <pre><code>\"\"\"\n\u731c\u6570\u5b57\u6e38\u620f\n\u8ba1\u7b97\u673a\u51fa\u4e00\u4e2a1~100\u4e4b\u95f4\u7684\u968f\u673a\u6570\u7531\u4eba\u6765\u731c\n\u8ba1\u7b97\u673a\u6839\u636e\u4eba\u731c\u7684\u6570\u5b57\u5206\u522b\u7ed9\u51fa\u63d0\u793a\u5927\u4e00\u70b9/\u5c0f\u4e00\u70b9/\u731c\u5bf9\u4e86\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\nimport random\n\nanswer = random.randint(1, 100)\ncounter = 0\nwhile True:\n    counter += 1\n    number = int(input('\u8bf7\u8f93\u5165: '))\n    if number &lt; answer:\n        print('\u5927\u4e00\u70b9')\n    elif number &gt; answer:\n        print('\u5c0f\u4e00\u70b9')\n    else:\n        print('\u606d\u559c\u4f60\u731c\u5bf9\u4e86!')\n        break\nprint('\u4f60\u603b\u5171\u731c\u4e86%d\u6b21' % counter)\nif counter &gt; 7:\n    print('\u4f60\u7684\u667a\u5546\u4f59\u989d\u660e\u663e\u4e0d\u8db3')\n</code></pre> <p>\u8bf4\u660e\uff1a \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\u4f7f\u7528\u4e86<code>break</code>\u5173\u952e\u5b57\u6765\u63d0\u524d\u7ec8\u6b62\u5faa\u73af\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f<code>break</code>\u53ea\u80fd\u7ec8\u6b62\u5b83\u6240\u5728\u7684\u90a3\u4e2a\u5faa\u73af\uff0c\u8fd9\u4e00\u70b9\u5728\u4f7f\u7528\u5d4c\u5957\u7684\u5faa\u73af\u7ed3\u6784\uff08\u4e0b\u9762\u4f1a\u8bb2\u5230\uff09\u9700\u8981\u5f15\u8d77\u6ce8\u610f\u3002\u9664\u4e86<code>break</code>\u4e4b\u5916\uff0c\u8fd8\u6709\u53e6\u4e00\u4e2a\u5173\u952e\u5b57\u662f<code>continue</code>\uff0c\u5b83\u53ef\u4ee5\u7528\u6765\u653e\u5f03\u672c\u6b21\u5faa\u73af\u540e\u7eed\u7684\u4ee3\u7801\u76f4\u63a5\u8ba9\u5faa\u73af\u8fdb\u5165\u4e0b\u4e00\u8f6e\u3002</p> <p>\u548c\u5206\u652f\u7ed3\u6784\u4e00\u6837\uff0c\u5faa\u73af\u7ed3\u6784\u4e5f\u662f\u53ef\u4ee5\u5d4c\u5957\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u5728\u5faa\u73af\u4e2d\u8fd8\u53ef\u4ee5\u6784\u9020\u5faa\u73af\u7ed3\u6784\u3002\u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u4e86\u5982\u4f55\u901a\u8fc7\u5d4c\u5957\u7684\u5faa\u73af\u6765\u8f93\u51fa\u4e00\u4e2a\u4e5d\u4e5d\u4e58\u6cd5\u8868\u3002</p> <pre><code>\"\"\"\n\u8f93\u51fa\u4e58\u6cd5\u53e3\u8bc0\u8868(\u4e5d\u4e5d\u8868)\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\nfor i in range(1, 10):\n    for j in range(1, i + 1):\n        print('%d*%d=%d' % (i, j, i * j), end='\\t')\n    print()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/04.%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84/#_3","title":"\u7ec3\u4e60","text":""},{"location":"python/Py-100Days/Day01-15/04.%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84/#1","title":"\u7ec3\u4e601\uff1a\u8f93\u5165\u4e00\u4e2a\u6570\u5224\u65ad\u662f\u4e0d\u662f\u7d20\u6570\u3002","text":"<pre><code>\"\"\"\n\u8f93\u5165\u4e00\u4e2a\u6b63\u6574\u6570\u5224\u65ad\u5b83\u662f\u4e0d\u662f\u7d20\u6570\n\nVersion: 0.1\nAuthor: \u9a86\u660a\nDate: 2018-03-01\n\"\"\"\nfrom math import sqrt\n\nnum = int(input('\u8bf7\u8f93\u5165\u4e00\u4e2a\u6b63\u6574\u6570: '))\nend = int(sqrt(num))\nis_prime = True\nfor x in range(2, end + 1):\n    if num % x == 0:\n        is_prime = False\n        break\nif is_prime and num != 1:\n    print('%d\u662f\u7d20\u6570' % num)\nelse:\n    print('%d\u4e0d\u662f\u7d20\u6570' % num)\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/04.%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84/#2","title":"\u7ec3\u4e602\uff1a\u8f93\u5165\u4e24\u4e2a\u6b63\u6574\u6570\uff0c\u8ba1\u7b97\u6700\u5927\u516c\u7ea6\u6570\u548c\u6700\u5c0f\u516c\u500d\u6570\u3002","text":"<pre><code>\"\"\"\n\u8f93\u5165\u4e24\u4e2a\u6b63\u6574\u6570\u8ba1\u7b97\u6700\u5927\u516c\u7ea6\u6570\u548c\u6700\u5c0f\u516c\u500d\u6570\n\nVersion: 0.1\nAuthor: \u9a86\u660a\nDate: 2018-03-01\n\"\"\"\n\nx = int(input('x = '))\ny = int(input('y = '))\nif x &gt; y:\n    x, y = y, x\nfor factor in range(x, 0, -1):\n    if x % factor == 0 and y % factor == 0:\n        print('%d\u548c%d\u7684\u6700\u5927\u516c\u7ea6\u6570\u662f%d' % (x, y, factor))\n        print('%d\u548c%d\u7684\u6700\u5c0f\u516c\u500d\u6570\u662f%d' % (x, y, x * y // factor))\n        break\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/04.%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84/#3","title":"\u7ec3\u4e603\uff1a\u6253\u5370\u4e09\u89d2\u5f62\u56fe\u6848\u3002","text":"<pre><code>\"\"\"\n\u6253\u5370\u5404\u79cd\u4e09\u89d2\u5f62\u56fe\u6848\n\n*\n**\n***\n****\n*****\n\n    *\n   **\n  ***\n ****\n*****\n\n    *\n   ***\n  *****\n *******\n*********\n\nVersion: 0.1\nAuthor: \u9a86\u660a\n\"\"\"\n\nrow = int(input('\u8bf7\u8f93\u5165\u884c\u6570: '))\nfor i in range(row):\n    for _ in range(i + 1):\n        print('*', end='')\n    print()\n\n\nfor i in range(row):\n    for j in range(row):\n        if j &lt; row - i - 1:\n            print(' ', end='')\n        else:\n            print('*', end='')\n    print()\n\nfor i in range(row):\n    for _ in range(row - i - 1):\n        print(' ', end='')\n    for _ in range(2 * i + 1):\n        print('*', end='')\n    print()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/05.%E6%9E%84%E9%80%A0%E7%A8%8B%E5%BA%8F%E9%80%BB%E8%BE%91/","title":"05.\u6784\u9020\u7a0b\u5e8f\u903b\u8f91","text":""},{"location":"python/Py-100Days/Day01-15/05.%E6%9E%84%E9%80%A0%E7%A8%8B%E5%BA%8F%E9%80%BB%E8%BE%91/#_1","title":"\u6784\u9020\u7a0b\u5e8f\u903b\u8f91","text":""},{"location":"python/Py-100Days/Day01-15/05.%E6%9E%84%E9%80%A0%E7%A8%8B%E5%BA%8F%E9%80%BB%E8%BE%91/#_2","title":"\u7ec3\u4e60\u6e05\u5355","text":"<ol> <li>\u5bfb\u627e\u201c\u6c34\u4ed9\u82b1\u6570\u201d\u3002</li> <li>\u5bfb\u627e\u201c\u5b8c\u7f8e\u6570\u201d\u3002</li> <li>\u201c\u767e\u94b1\u767e\u9e21\u201d\u95ee\u9898\u3002</li> <li>\u751f\u6210\u201c\u6590\u6ce2\u62c9\u5207\u6570\u5217\u201d\u3002</li> <li>Craps\u8d4c\u535a\u6e38\u620f\u3002</li> </ol>"},{"location":"python/Py-100Days/Day01-15/06.%E5%87%BD%E6%95%B0%E5%92%8C%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/","title":"06.\u51fd\u6570\u548c\u6a21\u5757\u7684\u4f7f\u7528","text":""},{"location":"python/Py-100Days/Day01-15/06.%E5%87%BD%E6%95%B0%E5%92%8C%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/#_1","title":"\u51fd\u6570\u548c\u6a21\u5757\u7684\u4f7f\u7528","text":"<p>\u5728\u8bb2\u89e3\u672c\u7ae0\u8282\u7684\u5185\u5bb9\u4e4b\u524d\uff0c\u6211\u4eec\u5148\u6765\u7814\u7a76\u4e00\u9053\u6570\u5b66\u9898\uff0c\u8bf7\u8bf4\u51fa\u4e0b\u9762\u7684\u65b9\u7a0b\u6709\u591a\u5c11\u7ec4\u6b63\u6574\u6570\u89e3\u3002</p> <p></p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u4e0a\u9762\u7684\u95ee\u9898\u7b49\u540c\u4e8e\u5c068\u4e2a\u82f9\u679c\u5206\u6210\u56db\u7ec4\u6bcf\u7ec4\u81f3\u5c11\u4e00\u4e2a\u82f9\u679c\u6709\u591a\u5c11\u79cd\u65b9\u6848\u3002\u60f3\u5230\u8fd9\u4e00\u70b9\u95ee\u9898\u7684\u7b54\u6848\u5c31\u547c\u4e4b\u6b32\u51fa\u4e86\u3002</p> <p></p> <p>\u53ef\u4ee5\u7528Python\u7684\u7a0b\u5e8f\u6765\u8ba1\u7b97\u51fa\u8fd9\u4e2a\u503c\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>\"\"\"\n\u8f93\u5165M\u548cN\u8ba1\u7b97C(M,N)\n\"\"\"\n\nm = int(input('m = '))\nn = int(input('n = '))\nfm = 1\nfor num in range(1, m + 1):\n    fm *= num\nfn = 1\nfor num in range(1, n + 1):\n    fn *= num\nfmn = 1\nfor num in range(1, m - n + 1):\n    fmn *= num\nprint(fm // fn // fmn)\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/06.%E5%87%BD%E6%95%B0%E5%92%8C%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/#_2","title":"\u51fd\u6570\u7684\u4f5c\u7528","text":"<p>\u4e0d\u77e5\u9053\u5927\u5bb6\u662f\u5426\u6ce8\u610f\u5230\uff0c\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u505a\u4e863\u6b21\u6c42\u9636\u4e58\uff0c\u8fd9\u6837\u7684\u4ee3\u7801\u5b9e\u9645\u4e0a\u5c31\u662f\u91cd\u590d\u4ee3\u7801\u3002\u7f16\u7a0b\u5927\u5e08Martin Fowler\u5148\u751f\u66fe\u7ecf\u8bf4\u8fc7\uff1a\u201c\u4ee3\u7801\u6709\u5f88\u591a\u79cd\u574f\u5473\u9053\uff0c\u91cd\u590d\u662f\u6700\u574f\u7684\u4e00\u79cd\uff01\u201d\uff0c\u8981\u5199\u51fa\u9ad8\u8d28\u91cf\u7684\u4ee3\u7801\u9996\u5148\u8981\u89e3\u51b3\u7684\u5c31\u662f\u91cd\u590d\u4ee3\u7801\u7684\u95ee\u9898\u3002\u5bf9\u4e8e\u4e0a\u9762\u7684\u4ee3\u7801\u6765\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u8ba1\u7b97\u9636\u4e58\u7684\u529f\u80fd\u5c01\u88c5\u5230\u4e00\u4e2a\u79f0\u4e4b\u4e3a\u201c\u51fd\u6570\u201d\u7684\u529f\u80fd\u6a21\u5757\u4e2d\uff0c\u5728\u9700\u8981\u8ba1\u7b97\u9636\u4e58\u7684\u5730\u65b9\uff0c\u6211\u4eec\u53ea\u9700\u8981\u201c\u8c03\u7528\u201d\u8fd9\u4e2a\u201c\u51fd\u6570\u201d\u5c31\u53ef\u4ee5\u4e86\u3002</p>"},{"location":"python/Py-100Days/Day01-15/06.%E5%87%BD%E6%95%B0%E5%92%8C%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/#_3","title":"\u5b9a\u4e49\u51fd\u6570","text":"<p>\u5728Python\u4e2d\u53ef\u4ee5\u4f7f\u7528<code>def</code>\u5173\u952e\u5b57\u6765\u5b9a\u4e49\u51fd\u6570\uff0c\u548c\u53d8\u91cf\u4e00\u6837\u6bcf\u4e2a\u51fd\u6570\u4e5f\u6709\u4e00\u4e2a\u54cd\u4eae\u7684\u540d\u5b57\uff0c\u800c\u4e14\u547d\u540d\u89c4\u5219\u8ddf\u53d8\u91cf\u7684\u547d\u540d\u89c4\u5219\u662f\u4e00\u81f4\u7684\u3002\u5728\u51fd\u6570\u540d\u540e\u9762\u7684\u5706\u62ec\u53f7\u4e2d\u53ef\u4ee5\u653e\u7f6e\u4f20\u9012\u7ed9\u51fd\u6570\u7684\u53c2\u6570\uff0c\u8fd9\u4e00\u70b9\u548c\u6570\u5b66\u4e0a\u7684\u51fd\u6570\u975e\u5e38\u76f8\u4f3c\uff0c\u7a0b\u5e8f\u4e2d\u51fd\u6570\u7684\u53c2\u6570\u5c31\u76f8\u5f53\u4e8e\u662f\u6570\u5b66\u4e0a\u8bf4\u7684\u51fd\u6570\u7684\u81ea\u53d8\u91cf\uff0c\u800c\u51fd\u6570\u6267\u884c\u5b8c\u6210\u540e\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7<code>return</code>\u5173\u952e\u5b57\u6765\u8fd4\u56de\u4e00\u4e2a\u503c\uff0c\u8fd9\u76f8\u5f53\u4e8e\u6570\u5b66\u4e0a\u8bf4\u7684\u51fd\u6570\u7684\u56e0\u53d8\u91cf\u3002</p> <p>\u5728\u4e86\u89e3\u4e86\u5982\u4f55\u5b9a\u4e49\u51fd\u6570\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u4e0a\u9762\u7684\u4ee3\u7801\u8fdb\u884c\u91cd\u6784\uff0c\u6240\u8c13\u91cd\u6784\u5c31\u662f\u5728\u4e0d\u5f71\u54cd\u4ee3\u7801\u6267\u884c\u7ed3\u679c\u7684\u524d\u63d0\u4e0b\u5bf9\u4ee3\u7801\u7684\u7ed3\u6784\u8fdb\u884c\u8c03\u6574\uff0c\u91cd\u6784\u4e4b\u540e\u7684\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>def factorial(num):\n    \"\"\"\n    \u6c42\u9636\u4e58\n\n    :param num: \u975e\u8d1f\u6574\u6570\n    :return: num\u7684\u9636\u4e58\n    \"\"\"\n    result = 1\n    for n in range(1, num + 1):\n        result *= n\n    return result\n\n\nm = int(input('m = '))\nn = int(input('n = '))\n# \u5f53\u9700\u8981\u8ba1\u7b97\u9636\u4e58\u7684\u65f6\u5019\u4e0d\u7528\u518d\u5199\u5faa\u73af\u6c42\u9636\u4e58\u800c\u662f\u76f4\u63a5\u8c03\u7528\u5df2\u7ecf\u5b9a\u4e49\u597d\u7684\u51fd\u6570\nprint(factorial(m) // factorial(n) // factorial(m - n))\n</code></pre> <p>\u8bf4\u660e\uff1a Python\u7684math\u6a21\u5757\u4e2d\u5176\u5b9e\u5df2\u7ecf\u6709\u4e00\u4e2afactorial\u51fd\u6570\u4e86\uff0c\u4e8b\u5b9e\u4e0a\u8981\u8ba1\u7b97\u9636\u4e58\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u8fd9\u4e2a\u73b0\u6210\u7684\u51fd\u6570\u800c\u4e0d\u7528\u81ea\u5df1\u5b9a\u4e49\u3002\u4e0b\u9762\u4f8b\u5b50\u4e2d\u7684\u67d0\u4e9b\u51fd\u6570\u5176\u5b9ePython\u4e2d\u4e5f\u662f\u5185\u7f6e\u4e86\uff0c\u6211\u4eec\u8fd9\u91cc\u662f\u4e3a\u4e86\u8bb2\u89e3\u51fd\u6570\u7684\u5b9a\u4e49\u548c\u4f7f\u7528\u624d\u628a\u5b83\u4eec\u53c8\u5b9e\u73b0\u4e86\u4e00\u904d\uff0c\u5b9e\u9645\u5f00\u53d1\u4e2d\u4e0d\u5efa\u8bae\u505a\u8fd9\u79cd\u4f4e\u7ea7\u7684\u91cd\u590d\u6027\u7684\u5de5\u4f5c\u3002</p>"},{"location":"python/Py-100Days/Day01-15/06.%E5%87%BD%E6%95%B0%E5%92%8C%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/#_4","title":"\u51fd\u6570\u7684\u53c2\u6570","text":"<p>\u51fd\u6570\u662f\u7edd\u5927\u591a\u6570\u7f16\u7a0b\u8bed\u8a00\u4e2d\u90fd\u652f\u6301\u7684\u4e00\u4e2a\u4ee3\u7801\u7684\u201c\u6784\u5efa\u5757\u201d\uff0c\u4f46\u662fPython\u4e2d\u7684\u51fd\u6570\u4e0e\u5176\u4ed6\u8bed\u8a00\u4e2d\u7684\u51fd\u6570\u8fd8\u662f\u6709\u5f88\u591a\u4e0d\u592a\u76f8\u540c\u7684\u5730\u65b9\uff0c\u5176\u4e2d\u4e00\u4e2a\u663e\u8457\u7684\u533a\u522b\u5c31\u662fPython\u5bf9\u51fd\u6570\u53c2\u6570\u7684\u5904\u7406\u3002\u5728Python\u4e2d\uff0c\u51fd\u6570\u7684\u53c2\u6570\u53ef\u4ee5\u6709\u9ed8\u8ba4\u503c\uff0c\u4e5f\u652f\u6301\u4f7f\u7528\u53ef\u53d8\u53c2\u6570\uff0c\u6240\u4ee5Python\u5e76\u4e0d\u9700\u8981\u50cf\u5176\u4ed6\u8bed\u8a00\u4e00\u6837\u652f\u6301\u51fd\u6570\u7684\u91cd\u8f7d\uff0c\u56e0\u4e3a\u6211\u4eec\u5728\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\u7684\u65f6\u5019\u53ef\u4ee5\u8ba9\u5b83\u6709\u591a\u79cd\u4e0d\u540c\u7684\u4f7f\u7528\u65b9\u5f0f\uff0c\u4e0b\u9762\u662f\u4e24\u4e2a\u5c0f\u4f8b\u5b50\u3002</p> <pre><code>from random import randint\n\n\ndef roll_dice(n=2):\n    \"\"\"\n    \u6447\u8272\u5b50\n\n    :param n: \u8272\u5b50\u7684\u4e2a\u6570\n    :return: n\u9897\u8272\u5b50\u70b9\u6570\u4e4b\u548c\n    \"\"\"\n    total = 0\n    for _ in range(n):\n        total += randint(1, 6)\n    return total\n\n\ndef add(a=0, b=0, c=0):\n    return a + b + c\n\n\n# \u5982\u679c\u6ca1\u6709\u6307\u5b9a\u53c2\u6570\u90a3\u4e48\u4f7f\u7528\u9ed8\u8ba4\u503c\u6447\u4e24\u9897\u8272\u5b50\nprint(roll_dice())\n# \u6447\u4e09\u9897\u8272\u5b50\nprint(roll_dice(3))\nprint(add())\nprint(add(1))\nprint(add(1, 2))\nprint(add(1, 2, 3))\n# \u4f20\u9012\u53c2\u6570\u65f6\u53ef\u4ee5\u4e0d\u6309\u7167\u8bbe\u5b9a\u7684\u987a\u5e8f\u8fdb\u884c\u4f20\u9012\nprint(add(c=50, a=100, b=200))\n</code></pre> <p>\u6211\u4eec\u7ed9\u4e0a\u9762\u4e24\u4e2a\u51fd\u6570\u7684\u53c2\u6570\u90fd\u8bbe\u5b9a\u4e86\u9ed8\u8ba4\u503c\uff0c\u8fd9\u4e5f\u5c31\u610f\u5473\u7740\u5982\u679c\u5728\u8c03\u7528\u51fd\u6570\u7684\u65f6\u5019\u5982\u679c\u6ca1\u6709\u4f20\u5165\u5bf9\u5e94\u53c2\u6570\u7684\u503c\u65f6\u5c06\u4f7f\u7528\u8be5\u53c2\u6570\u7684\u9ed8\u8ba4\u503c\uff0c\u6240\u4ee5\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\u6211\u4eec\u53ef\u4ee5\u7528\u5404\u79cd\u4e0d\u540c\u7684\u65b9\u5f0f\u53bb\u8c03\u7528<code>add</code>\u51fd\u6570\uff0c\u8fd9\u8ddf\u5176\u4ed6\u5f88\u591a\u8bed\u8a00\u4e2d\u51fd\u6570\u91cd\u8f7d\u7684\u6548\u679c\u662f\u4e00\u81f4\u7684\u3002</p> <p>\u5176\u5b9e\u4e0a\u9762\u7684<code>add</code>\u51fd\u6570\u8fd8\u6709\u66f4\u597d\u7684\u5b9e\u73b0\u65b9\u6848\uff0c\u56e0\u4e3a\u6211\u4eec\u53ef\u80fd\u4f1a\u5bf90\u4e2a\u6216\u591a\u4e2a\u53c2\u6570\u8fdb\u884c\u52a0\u6cd5\u8fd0\u7b97\uff0c\u800c\u5177\u4f53\u6709\u591a\u5c11\u4e2a\u53c2\u6570\u662f\u7531\u8c03\u7528\u8005\u6765\u51b3\u5b9a\uff0c\u6211\u4eec\u4f5c\u4e3a\u51fd\u6570\u7684\u8bbe\u8ba1\u8005\u5bf9\u8fd9\u4e00\u70b9\u662f\u4e00\u65e0\u6240\u77e5\u7684\uff0c\u56e0\u6b64\u5728\u4e0d\u786e\u5b9a\u53c2\u6570\u4e2a\u6570\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u53ef\u53d8\u53c2\u6570\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code># \u5728\u53c2\u6570\u540d\u524d\u9762\u7684*\u8868\u793aargs\u662f\u4e00\u4e2a\u53ef\u53d8\u53c2\u6570\n# \u5373\u5728\u8c03\u7528add\u51fd\u6570\u65f6\u53ef\u4ee5\u4f20\u51650\u4e2a\u6216\u591a\u4e2a\u53c2\u6570\ndef add(*args):\n    total = 0\n    for val in args:\n        total += val\n    return total\n\n\nprint(add())\nprint(add(1))\nprint(add(1, 2))\nprint(add(1, 2, 3))\nprint(add(1, 3, 5, 7, 9))\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/06.%E5%87%BD%E6%95%B0%E5%92%8C%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/#_5","title":"\u7528\u6a21\u5757\u7ba1\u7406\u51fd\u6570","text":"<p>\u5bf9\u4e8e\u4efb\u4f55\u4e00\u79cd\u7f16\u7a0b\u8bed\u8a00\u6765\u8bf4\uff0c\u7ed9\u53d8\u91cf\u3001\u51fd\u6570\u8fd9\u6837\u7684\u6807\u8bc6\u7b26\u8d77\u540d\u5b57\u90fd\u662f\u4e00\u4e2a\u8ba9\u4eba\u5934\u75bc\u7684\u95ee\u9898\uff0c\u56e0\u4e3a\u6211\u4eec\u4f1a\u9047\u5230\u547d\u540d\u51b2\u7a81\u8fd9\u79cd\u5c34\u5c2c\u7684\u60c5\u51b5\u3002\u6700\u7b80\u5355\u7684\u573a\u666f\u5c31\u662f\u5728\u540c\u4e00\u4e2a.py\u6587\u4ef6\u4e2d\u5b9a\u4e49\u4e86\u4e24\u4e2a\u540c\u540d\u51fd\u6570\uff0c\u7531\u4e8ePython\u6ca1\u6709\u51fd\u6570\u91cd\u8f7d\u7684\u6982\u5ff5\uff0c\u90a3\u4e48\u540e\u9762\u7684\u5b9a\u4e49\u4f1a\u8986\u76d6\u4e4b\u524d\u7684\u5b9a\u4e49\uff0c\u4e5f\u5c31\u610f\u5473\u7740\u4e24\u4e2a\u51fd\u6570\u540c\u540d\u51fd\u6570\u5b9e\u9645\u4e0a\u53ea\u6709\u4e00\u4e2a\u662f\u5b58\u5728\u7684\u3002</p> <pre><code>def foo():\n    print('hello, world!')\n\n\ndef foo():\n    print('goodbye, world!')\n\n\n# \u4e0b\u9762\u7684\u4ee3\u7801\u4f1a\u8f93\u51fa\u4ec0\u4e48\u5462\uff1f\nfoo()\n</code></pre> <p>\u5f53\u7136\u4e0a\u9762\u7684\u8fd9\u79cd\u60c5\u51b5\u6211\u4eec\u5f88\u5bb9\u6613\u5c31\u80fd\u907f\u514d\uff0c\u4f46\u662f\u5982\u679c\u9879\u76ee\u662f\u7531\u591a\u4eba\u534f\u4f5c\u8fdb\u884c\u56e2\u961f\u5f00\u53d1\u7684\u65f6\u5019\uff0c\u56e2\u961f\u4e2d\u53ef\u80fd\u6709\u591a\u4e2a\u7a0b\u5e8f\u5458\u90fd\u5b9a\u4e49\u4e86\u540d\u4e3a<code>foo</code>\u7684\u51fd\u6570\uff0c\u90a3\u4e48\u600e\u4e48\u89e3\u51b3\u8fd9\u79cd\u547d\u540d\u51b2\u7a81\u5462\uff1f\u7b54\u6848\u5176\u5b9e\u5f88\u7b80\u5355\uff0cPython\u4e2d\u6bcf\u4e2a\u6587\u4ef6\u5c31\u4ee3\u8868\u4e86\u4e00\u4e2a\u6a21\u5757\uff08module\uff09\uff0c\u6211\u4eec\u5728\u4e0d\u540c\u7684\u6a21\u5757\u4e2d\u53ef\u4ee5\u6709\u540c\u540d\u7684\u51fd\u6570\uff0c\u5728\u4f7f\u7528\u51fd\u6570\u7684\u65f6\u5019\u6211\u4eec\u901a\u8fc7<code>import</code>\u5173\u952e\u5b57\u5bfc\u5165\u6307\u5b9a\u7684\u6a21\u5757\u5c31\u53ef\u4ee5\u533a\u5206\u5230\u5e95\u8981\u4f7f\u7528\u7684\u662f\u54ea\u4e2a\u6a21\u5757\u4e2d\u7684<code>foo</code>\u51fd\u6570\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <p>module1.py</p> <pre><code>def foo():\n    print('hello, world!')\n</code></pre> <p>module2.py</p> <pre><code>def foo():\n    print('goodbye, world!')\n</code></pre> <p>test.py</p> <pre><code>from module1 import foo\n\n# \u8f93\u51fahello, world!\nfoo()\n\nfrom module2 import foo\n\n# \u8f93\u51fagoodbye, world!\nfoo()\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u6309\u7167\u5982\u4e0b\u6240\u793a\u7684\u65b9\u5f0f\u6765\u533a\u5206\u5230\u5e95\u8981\u4f7f\u7528\u54ea\u4e00\u4e2a<code>foo</code>\u51fd\u6570\u3002</p> <p>test.py</p> <pre><code>import module1 as m1\nimport module2 as m2\n\nm1.foo()\nm2.foo()\n</code></pre> <p>\u4f46\u662f\u5982\u679c\u5c06\u4ee3\u7801\u5199\u6210\u4e86\u4e0b\u9762\u7684\u6837\u5b50\uff0c\u90a3\u4e48\u7a0b\u5e8f\u4e2d\u8c03\u7528\u7684\u662f\u6700\u540e\u5bfc\u5165\u7684\u90a3\u4e2a<code>foo</code>\uff0c\u56e0\u4e3a\u540e\u5bfc\u5165\u7684foo\u8986\u76d6\u4e86\u4e4b\u524d\u5bfc\u5165\u7684<code>foo</code>\u3002</p> <p>test.py</p> <pre><code>from module1 import foo\nfrom module2 import foo\n\n# \u8f93\u51fagoodbye, world!\nfoo()\n</code></pre> <p>test.py</p> <pre><code>from module2 import foo\nfrom module1 import foo\n\n# \u8f93\u51fahello, world!\nfoo()\n</code></pre> <p>\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u5982\u679c\u6211\u4eec\u5bfc\u5165\u7684\u6a21\u5757\u9664\u4e86\u5b9a\u4e49\u51fd\u6570\u4e4b\u5916\u8fd8\u4e2d\u6709\u53ef\u4ee5\u6267\u884c\u4ee3\u7801\uff0c\u90a3\u4e48Python\u89e3\u91ca\u5668\u5728\u5bfc\u5165\u8fd9\u4e2a\u6a21\u5757\u65f6\u5c31\u4f1a\u6267\u884c\u8fd9\u4e9b\u4ee3\u7801\uff0c\u4e8b\u5b9e\u4e0a\u6211\u4eec\u53ef\u80fd\u5e76\u4e0d\u5e0c\u671b\u5982\u6b64\uff0c\u56e0\u6b64\u5982\u679c\u6211\u4eec\u5728\u6a21\u5757\u4e2d\u7f16\u5199\u4e86\u6267\u884c\u4ee3\u7801\uff0c\u6700\u597d\u662f\u5c06\u8fd9\u4e9b\u6267\u884c\u4ee3\u7801\u653e\u5165\u5982\u4e0b\u6240\u793a\u7684\u6761\u4ef6\u4e2d\uff0c\u8fd9\u6837\u7684\u8bdd\u9664\u975e\u76f4\u63a5\u8fd0\u884c\u8be5\u6a21\u5757\uff0cif\u6761\u4ef6\u4e0b\u7684\u8fd9\u4e9b\u4ee3\u7801\u662f\u4e0d\u4f1a\u6267\u884c\u7684\uff0c\u56e0\u4e3a\u53ea\u6709\u76f4\u63a5\u6267\u884c\u7684\u6a21\u5757\u7684\u540d\u5b57\u624d\u662f\u201c__main__\u201d\u3002</p> <p>module3.py</p> <pre><code>def foo():\n    pass\n\n\ndef bar():\n    pass\n\n\n# __name__\u662fPython\u4e2d\u4e00\u4e2a\u9690\u542b\u7684\u53d8\u91cf\u5b83\u4ee3\u8868\u4e86\u6a21\u5757\u7684\u540d\u5b57\n# \u53ea\u6709\u88abPython\u89e3\u91ca\u5668\u76f4\u63a5\u6267\u884c\u7684\u6a21\u5757\u7684\u540d\u5b57\u624d\u662f__main__\nif __name__ == '__main__':\n    print('call foo()')\n    foo()\n    print('call bar()')\n    bar()\n</code></pre> <p>test.py</p> <pre><code>import module3\n\n# \u5bfc\u5165module3\u65f6 \u4e0d\u4f1a\u6267\u884c\u6a21\u5757\u4e2dif\u6761\u4ef6\u6210\u7acb\u65f6\u7684\u4ee3\u7801 \u56e0\u4e3a\u6a21\u5757\u7684\u540d\u5b57\u662fmodule3\u800c\u4e0d\u662f__main__\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/06.%E5%87%BD%E6%95%B0%E5%92%8C%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/#_6","title":"\u7ec3\u4e60","text":""},{"location":"python/Py-100Days/Day01-15/06.%E5%87%BD%E6%95%B0%E5%92%8C%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/#1","title":"\u7ec3\u4e601\uff1a\u5b9e\u73b0\u8ba1\u7b97\u6c42\u6700\u5927\u516c\u7ea6\u6570\u548c\u6700\u5c0f\u516c\u500d\u6570\u7684\u51fd\u6570\u3002","text":"<pre><code>def gcd(x, y):\n    (x, y) = (y, x) if x &gt; y else (x, y)\n    for factor in range(x, 0, -1):\n        if x % factor == 0 and y % factor == 0:\n            return factor\n\n\ndef lcm(x, y):\n    return x * y // gcd(x, y)\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/06.%E5%87%BD%E6%95%B0%E5%92%8C%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/#2","title":"\u7ec3\u4e602\uff1a\u5b9e\u73b0\u5224\u65ad\u4e00\u4e2a\u6570\u662f\u4e0d\u662f\u56de\u6587\u6570\u7684\u51fd\u6570\u3002","text":"<pre><code>def is_palindrome(num):\n    temp = num\n    total = 0\n    while temp &gt; 0:\n        total = total * 10 + temp % 10\n        temp //= 10\n    return total == num\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/06.%E5%87%BD%E6%95%B0%E5%92%8C%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/#3","title":"\u7ec3\u4e603\uff1a\u5b9e\u73b0\u5224\u65ad\u4e00\u4e2a\u6570\u662f\u4e0d\u662f\u7d20\u6570\u7684\u51fd\u6570\u3002","text":"<pre><code>def is_prime(num):\n    for factor in range(2, num):\n        if num % factor == 0:\n            return False\n    return True if num != 1 else False\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/06.%E5%87%BD%E6%95%B0%E5%92%8C%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/#4","title":"\u7ec3\u4e604\uff1a\u5199\u4e00\u4e2a\u7a0b\u5e8f\u5224\u65ad\u8f93\u5165\u7684\u6b63\u6574\u6570\u662f\u4e0d\u662f\u56de\u6587\u7d20\u6570\u3002","text":"<pre><code>if __name__ == '__main__':\n    num = int(input('\u8bf7\u8f93\u5165\u6b63\u6574\u6570: '))\n    if is_palindrome(num) and is_prime(num):\n        print('%d\u662f\u56de\u6587\u7d20\u6570' % num)\n</code></pre> <p>\u901a\u8fc7\u4e0a\u9762\u7684\u7a0b\u5e8f\u53ef\u4ee5\u770b\u51fa\uff0c\u5f53\u6211\u4eec\u5c06\u4ee3\u7801\u4e2d\u91cd\u590d\u51fa\u73b0\u7684\u548c\u76f8\u5bf9\u72ec\u7acb\u7684\u529f\u80fd\u62bd\u53d6\u6210\u51fd\u6570\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u7ec4\u5408\u4f7f\u7528\u8fd9\u4e9b\u51fd\u6570\u6765\u89e3\u51b3\u66f4\u4e3a\u590d\u6742\u7684\u95ee\u9898\uff0c\u8fd9\u4e5f\u662f\u6211\u4eec\u4e3a\u4ec0\u4e48\u8981\u5b9a\u4e49\u548c\u4f7f\u7528\u51fd\u6570\u7684\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u539f\u56e0\u3002</p> <p>\u6700\u540e\uff0c\u6211\u4eec\u6765\u8ba8\u8bba\u4e00\u4e0bPython\u4e2d\u6709\u5173\u53d8\u91cf\u4f5c\u7528\u57df\u7684\u95ee\u9898\u3002</p> <pre><code>def foo():\n    b = 'hello'\n\n    def bar():  # Python\u4e2d\u53ef\u4ee5\u5728\u51fd\u6570\u5185\u90e8\u518d\u5b9a\u4e49\u51fd\u6570\n        c = True\n        print(a)\n        print(b)\n        print(c)\n\n    bar()\n    # print(c)  # NameError: name 'c' is not defined\n\n\nif __name__ == '__main__':\n    a = 100\n    # print(b)  # NameError: name 'b' is not defined\n    foo()\n</code></pre> <p>\u4e0a\u9762\u7684\u4ee3\u7801\u80fd\u591f\u987a\u5229\u7684\u6267\u884c\u5e76\u4e14\u6253\u5370\u51fa100\u548c\u201chello\u201d\uff0c\u4f46\u6211\u4eec\u6ce8\u610f\u5230\u4e86\uff0c\u5728<code>bar</code>\u51fd\u6570\u7684\u5185\u90e8\u5e76\u6ca1\u6709\u5b9a\u4e49<code>a</code>\u548c<code>b</code>\u4e24\u4e2a\u53d8\u91cf\uff0c\u90a3\u4e48<code>a</code>\u548c<code>b</code>\u662f\u4ece\u54ea\u91cc\u6765\u7684\u3002\u6211\u4eec\u5728\u4e0a\u9762\u4ee3\u7801\u7684<code>if</code>\u5206\u652f\u4e2d\u5b9a\u4e49\u4e86\u4e00\u4e2a\u53d8\u91cf<code>a</code>\uff0c\u8fd9\u662f\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\uff08global variable\uff09\uff0c\u5c5e\u4e8e\u5168\u5c40\u4f5c\u7528\u57df\uff0c\u56e0\u4e3a\u5b83\u6ca1\u6709\u5b9a\u4e49\u5728\u4efb\u4f55\u4e00\u4e2a\u51fd\u6570\u4e2d\u3002\u5728\u4e0a\u9762\u7684<code>foo</code>\u51fd\u6570\u4e2d\u6211\u4eec\u5b9a\u4e49\u4e86\u53d8\u91cf<code>b</code>\uff0c\u8fd9\u662f\u4e00\u4e2a\u5b9a\u4e49\u5728\u51fd\u6570\u4e2d\u7684\u5c40\u90e8\u53d8\u91cf\uff08local variable\uff09\uff0c\u5c5e\u4e8e\u5c40\u90e8\u4f5c\u7528\u57df\uff0c\u5728<code>foo</code>\u51fd\u6570\u7684\u5916\u90e8\u5e76\u4e0d\u80fd\u8bbf\u95ee\u5230\u5b83\uff1b\u4f46\u5bf9\u4e8e<code>foo</code>\u51fd\u6570\u5185\u90e8\u7684<code>bar</code>\u51fd\u6570\u6765\u8bf4\uff0c\u53d8\u91cf<code>b</code>\u5c5e\u4e8e\u5d4c\u5957\u4f5c\u7528\u57df\uff0c\u5728<code>bar</code>\u51fd\u6570\u4e2d\u6211\u4eec\u662f\u53ef\u4ee5\u8bbf\u95ee\u5230\u5b83\u7684\u3002<code>bar</code>\u51fd\u6570\u4e2d\u7684\u53d8\u91cf<code>c</code>\u5c5e\u4e8e\u5c40\u90e8\u4f5c\u7528\u57df\uff0c\u5728<code>bar</code>\u51fd\u6570\u4e4b\u5916\u662f\u65e0\u6cd5\u8bbf\u95ee\u7684\u3002\u4e8b\u5b9e\u4e0a\uff0cPython\u67e5\u627e\u4e00\u4e2a\u53d8\u91cf\u65f6\u4f1a\u6309\u7167\u201c\u5c40\u90e8\u4f5c\u7528\u57df\u201d\u3001\u201c\u5d4c\u5957\u4f5c\u7528\u57df\u201d\u3001\u201c\u5168\u5c40\u4f5c\u7528\u57df\u201d\u548c\u201c\u5185\u7f6e\u4f5c\u7528\u57df\u201d\u7684\u987a\u5e8f\u8fdb\u884c\u641c\u7d22\uff0c\u524d\u4e09\u8005\u6211\u4eec\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\u5df2\u7ecf\u770b\u5230\u4e86\uff0c\u6240\u8c13\u7684\u201c\u5185\u7f6e\u4f5c\u7528\u57df\u201d\u5c31\u662fPython\u5185\u7f6e\u7684\u90a3\u4e9b\u9690\u542b\u6807\u8bc6\u7b26<code>min</code>\u3001<code>len</code>\u7b49\u90fd\u5c5e\u4e8e\u5185\u7f6e\u4f5c\u7528\u57df\uff09\u3002</p> <p>\u518d\u770b\u770b\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801\uff0c\u6211\u4eec\u5e0c\u671b\u901a\u8fc7\u51fd\u6570\u8c03\u7528\u4fee\u6539\u5168\u5c40\u53d8\u91cf<code>a</code>\u7684\u503c\uff0c\u4f46\u5b9e\u9645\u4e0a\u4e0b\u9762\u7684\u4ee3\u7801\u662f\u505a\u4e0d\u5230\u7684\u3002</p> <pre><code>def foo():\n    a = 200\n    print(a)  # 200\n\n\nif __name__ == '__main__':\n    a = 100\n    foo()\n    print(a)  # 100\n</code></pre> <p>\u5728\u8c03\u7528<code>foo</code>\u51fd\u6570\u540e\uff0c\u6211\u4eec\u53d1\u73b0<code>a</code>\u7684\u503c\u4ecd\u7136\u662f100\uff0c\u8fd9\u662f\u56e0\u4e3a\u5f53\u6211\u4eec\u5728\u51fd\u6570<code>foo</code>\u4e2d\u5199<code>a = 200</code>\u7684\u65f6\u5019\uff0c\u662f\u91cd\u65b0\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u5b57\u4e3a<code>a</code>\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u5b83\u8ddf\u5168\u5c40\u4f5c\u7528\u57df\u7684<code>a</code>\u5e76\u4e0d\u662f\u540c\u4e00\u4e2a\u53d8\u91cf\uff0c\u56e0\u4e3a\u5c40\u90e8\u4f5c\u7528\u57df\u4e2d\u6709\u4e86\u81ea\u5df1\u7684\u53d8\u91cf<code>a</code>\uff0c\u56e0\u6b64<code>foo</code>\u51fd\u6570\u4e0d\u518d\u641c\u7d22\u5168\u5c40\u4f5c\u7528\u57df\u4e2d\u7684<code>a</code>\u3002\u5982\u679c\u6211\u4eec\u5e0c\u671b\u5728<code>foo</code>\u51fd\u6570\u4e2d\u4fee\u6539\u5168\u5c40\u4f5c\u7528\u57df\u4e2d\u7684<code>a</code>\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>def foo():\n    global a\n    a = 200\n    print(a)  # 200\n\n\nif __name__ == '__main__':\n    a = 100\n    foo()\n    print(a)  # 200\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>global</code>\u5173\u952e\u5b57\u6765\u6307\u793a<code>foo</code>\u51fd\u6570\u4e2d\u7684\u53d8\u91cf<code>a</code>\u6765\u81ea\u4e8e\u5168\u5c40\u4f5c\u7528\u57df\uff0c\u5982\u679c\u5168\u5c40\u4f5c\u7528\u57df\u4e2d\u6ca1\u6709<code>a</code>\uff0c\u90a3\u4e48\u4e0b\u9762\u4e00\u884c\u7684\u4ee3\u7801\u5c31\u4f1a\u5b9a\u4e49\u53d8\u91cf<code>a</code>\u5e76\u5c06\u5176\u7f6e\u4e8e\u5168\u5c40\u4f5c\u7528\u57df\u3002\u540c\u7406\uff0c\u5982\u679c\u6211\u4eec\u5e0c\u671b\u51fd\u6570\u5185\u90e8\u7684\u51fd\u6570\u80fd\u591f\u4fee\u6539\u5d4c\u5957\u4f5c\u7528\u57df\u4e2d\u7684\u53d8\u91cf\uff0c\u53ef\u4ee5\u4f7f\u7528<code>nonlocal</code>\u5173\u952e\u5b57\u6765\u6307\u793a\u53d8\u91cf\u6765\u81ea\u4e8e\u5d4c\u5957\u4f5c\u7528\u57df\uff0c\u8bf7\u5927\u5bb6\u81ea\u884c\u8bd5\u9a8c\u3002</p> <p>\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u5e94\u8be5\u5c3d\u91cf\u51cf\u5c11\u5bf9\u5168\u5c40\u53d8\u91cf\u7684\u4f7f\u7528\uff0c\u56e0\u4e3a\u5168\u5c40\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u548c\u5f71\u54cd\u8fc7\u4e8e\u5e7f\u6cdb\uff0c\u53ef\u80fd\u4f1a\u53d1\u751f\u610f\u6599\u4e4b\u5916\u7684\u4fee\u6539\u548c\u4f7f\u7528\uff0c\u9664\u6b64\u4e4b\u5916\u5168\u5c40\u53d8\u91cf\u6bd4\u5c40\u90e8\u53d8\u91cf\u62e5\u6709\u66f4\u957f\u7684\u751f\u547d\u5468\u671f\uff0c\u53ef\u80fd\u5bfc\u81f4\u5bf9\u8c61\u5360\u7528\u7684\u5185\u5b58\u957f\u65f6\u95f4\u65e0\u6cd5\u88ab\u5783\u573e\u56de\u6536\u3002\u4e8b\u5b9e\u4e0a\uff0c\u51cf\u5c11\u5bf9\u5168\u5c40\u53d8\u91cf\u7684\u4f7f\u7528\uff0c\u4e5f\u662f\u964d\u4f4e\u4ee3\u7801\u4e4b\u95f4\u8026\u5408\u5ea6\u7684\u4e00\u4e2a\u91cd\u8981\u4e3e\u63aa\uff0c\u540c\u65f6\u4e5f\u662f\u5bf9\u8fea\u7c73\u7279\u6cd5\u5219\u7684\u8df5\u884c\u3002\u51cf\u5c11\u5168\u5c40\u53d8\u91cf\u7684\u4f7f\u7528\u5c31\u610f\u5473\u7740\u6211\u4eec\u5e94\u8be5\u5c3d\u91cf\u8ba9\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u5728\u51fd\u6570\u7684\u5185\u90e8\uff0c\u4f46\u662f\u5982\u679c\u6211\u4eec\u5e0c\u671b\u5c06\u4e00\u4e2a\u5c40\u90e8\u53d8\u91cf\u7684\u751f\u547d\u5468\u671f\u5ef6\u957f\uff0c\u4f7f\u5176\u5728\u51fd\u6570\u8c03\u7528\u7ed3\u675f\u540e\u4f9d\u7136\u53ef\u4ee5\u8bbf\u95ee\uff0c\u8fd9\u65f6\u5019\u5c31\u9700\u8981\u4f7f\u7528\u95ed\u5305\uff0c\u8fd9\u4e2a\u6211\u4eec\u5728\u540e\u7eed\u7684\u5185\u5bb9\u4e2d\u8fdb\u884c\u8bb2\u89e3\u3002</p> <p>\u8bf4\u660e\uff1a \u5f88\u591a\u4eba\u7ecf\u5e38\u4f1a\u5c06\u201c\u95ed\u5305\u201d\u4e00\u8bcd\u548c\u201c\u533f\u540d\u51fd\u6570\u201d\u6df7\u4e3a\u4e00\u8c08\uff0c\u4f46\u5b9e\u9645\u4e0a\u5b83\u4eec\u662f\u4e0d\u540c\u7684\u6982\u5ff5\uff0c\u5982\u679c\u60f3\u63d0\u524d\u4e86\u89e3\u8fd9\u4e2a\u6982\u5ff5\uff0c\u63a8\u8350\u770b\u770b\u7ef4\u57fa\u767e\u79d1\u6216\u8005\u77e5\u4e4e\u4e0a\u5bf9\u8fd9\u4e2a\u6982\u5ff5\u7684\u8ba8\u8bba\u3002</p> <p>\u8bf4\u4e86\u90a3\u4e48\u591a\uff0c\u5176\u5b9e\u7ed3\u8bba\u5f88\u7b80\u5355\uff0c\u4ece\u73b0\u5728\u5f00\u59cb\u6211\u4eec\u53ef\u4ee5\u5c06Python\u4ee3\u7801\u6309\u7167\u4e0b\u9762\u7684\u683c\u5f0f\u8fdb\u884c\u4e66\u5199\uff0c\u8fd9\u4e00\u70b9\u70b9\u7684\u6539\u8fdb\u5176\u5b9e\u5c31\u662f\u5728\u6211\u4eec\u7406\u89e3\u4e86\u51fd\u6570\u548c\u4f5c\u7528\u57df\u7684\u57fa\u7840\u4e0a\u8de8\u51fa\u7684\u5de8\u5927\u7684\u4e00\u6b65\u3002</p> <pre><code>def main():\n    # Todo: Add your code here\n    pass\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/07.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/","title":"07.\u5b57\u7b26\u4e32\u548c\u5e38\u7528\u6570\u636e\u7ed3\u6784","text":""},{"location":"python/Py-100Days/Day01-15/07.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_1","title":"\u5b57\u7b26\u4e32\u548c\u5e38\u7528\u6570\u636e\u7ed3\u6784","text":""},{"location":"python/Py-100Days/Day01-15/07.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_2","title":"\u4f7f\u7528\u5b57\u7b26\u4e32","text":"<p>\u7b2c\u4e8c\u6b21\u4e16\u754c\u5927\u6218\u4fc3\u4f7f\u4e86\u73b0\u4ee3\u7535\u5b50\u8ba1\u7b97\u673a\u7684\u8bde\u751f\uff0c\u5f53\u521d\u7684\u60f3\u6cd5\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u7528\u8ba1\u7b97\u673a\u6765\u8ba1\u7b97\u5bfc\u5f39\u7684\u5f39\u9053\uff0c\u56e0\u6b64\u5728\u8ba1\u7b97\u673a\u521a\u521a\u8bde\u751f\u7684\u90a3\u4e2a\u5e74\u4ee3\uff0c\u8ba1\u7b97\u673a\u5904\u7406\u7684\u4fe1\u606f\u4e3b\u8981\u662f\u6570\u503c\uff0c\u800c\u4e16\u754c\u4e0a\u7684\u7b2c\u4e00\u53f0\u7535\u5b50\u8ba1\u7b97\u673aENIAC\u6bcf\u79d2\u949f\u80fd\u591f\u5b8c\u6210\u7ea65000\u6b21\u6d6e\u70b9\u8fd0\u7b97\u3002\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\uff0c\u867d\u7136\u5bf9\u6570\u503c\u8fd0\u7b97\u4ecd\u7136\u662f\u8ba1\u7b97\u673a\u65e5\u5e38\u5de5\u4f5c\u4e2d\u6700\u4e3a\u91cd\u8981\u7684\u4e8b\u60c5\u4e4b\u4e00\uff0c\u4f46\u662f\u4eca\u5929\u7684\u8ba1\u7b97\u673a\u5904\u7406\u5f97\u66f4\u591a\u7684\u6570\u636e\u90fd\u662f\u4ee5\u6587\u672c\u4fe1\u606f\u7684\u65b9\u5f0f\u5b58\u5728\u7684\uff0c\u800cPython\u8868\u793a\u6587\u672c\u4fe1\u606f\u7684\u65b9\u5f0f\u6211\u4eec\u5728\u5f88\u65e9\u4ee5\u524d\u5c31\u8bf4\u8fc7\u4e86\uff0c\u90a3\u5c31\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\u3002\u6240\u8c13\u5b57\u7b26\u4e32\uff0c\u5c31\u662f\u7531\u96f6\u4e2a\u6216\u591a\u4e2a\u5b57\u7b26\u7ec4\u6210\u7684\u6709\u9650\u5e8f\u5217\uff0c\u4e00\u822c\u8bb0\u4e3a\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u4ee3\u7801\u6765\u4e86\u89e3\u5b57\u7b26\u4e32\u7684\u4f7f\u7528\u3002</p> <pre><code>def main():\n    str1 = 'hello, world!'\n    # \u901a\u8fc7len\u51fd\u6570\u8ba1\u7b97\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\n    print(len(str1))  # 13\n    # \u83b7\u5f97\u5b57\u7b26\u4e32\u9996\u5b57\u6bcd\u5927\u5199\u7684\u62f7\u8d1d\n    print(str1.capitalize())  # Hello, world!\n    # \u83b7\u5f97\u5b57\u7b26\u4e32\u53d8\u5927\u5199\u540e\u7684\u62f7\u8d1d\n    print(str1.upper())  # HELLO, WORLD!\n    # \u4ece\u5b57\u7b26\u4e32\u4e2d\u67e5\u627e\u5b50\u4e32\u6240\u5728\u4f4d\u7f6e\n    print(str1.find('or'))  # 8\n    print(str1.find('shit'))  # -1\n    # \u4e0efind\u7c7b\u4f3c\u4f46\u627e\u4e0d\u5230\u5b50\u4e32\u65f6\u4f1a\u5f15\u53d1\u5f02\u5e38\n    # print(str1.index('or'))\n    # print(str1.index('shit'))\n    # \u68c0\u67e5\u5b57\u7b26\u4e32\u662f\u5426\u4ee5\u6307\u5b9a\u7684\u5b57\u7b26\u4e32\u5f00\u5934\n    print(str1.startswith('He'))  # False\n    print(str1.startswith('hel'))  # True\n    # \u68c0\u67e5\u5b57\u7b26\u4e32\u662f\u5426\u4ee5\u6307\u5b9a\u7684\u5b57\u7b26\u4e32\u7ed3\u5c3e\n    print(str1.endswith('!'))  # True\n    # \u5c06\u5b57\u7b26\u4e32\u4ee5\u6307\u5b9a\u7684\u5bbd\u5ea6\u5c45\u4e2d\u5e76\u5728\u4e24\u4fa7\u586b\u5145\u6307\u5b9a\u7684\u5b57\u7b26\n    print(str1.center(50, '*'))\n    # \u5c06\u5b57\u7b26\u4e32\u4ee5\u6307\u5b9a\u7684\u5bbd\u5ea6\u9760\u53f3\u653e\u7f6e\u5de6\u4fa7\u586b\u5145\u6307\u5b9a\u7684\u5b57\u7b26\n    print(str1.rjust(50, ' '))\n    str2 = 'abc123456'\n    # \u4ece\u5b57\u7b26\u4e32\u4e2d\u53d6\u51fa\u6307\u5b9a\u4f4d\u7f6e\u7684\u5b57\u7b26(\u4e0b\u6807\u8fd0\u7b97)\n    print(str2[2])  # c\n    # \u5b57\u7b26\u4e32\u5207\u7247(\u4ece\u6307\u5b9a\u7684\u5f00\u59cb\u7d22\u5f15\u5230\u6307\u5b9a\u7684\u7ed3\u675f\u7d22\u5f15)\n    print(str2[2:5])  # c12\n    print(str2[2:])  # c123456\n    print(str2[2::2])  # c246\n    print(str2[::2])  # ac246\n    print(str2[::-1])  # 654321cba\n    print(str2[-3:-1])  # 45\n    # \u68c0\u67e5\u5b57\u7b26\u4e32\u662f\u5426\u7531\u6570\u5b57\u6784\u6210\n    print(str2.isdigit())  # False\n    # \u68c0\u67e5\u5b57\u7b26\u4e32\u662f\u5426\u4ee5\u5b57\u6bcd\u6784\u6210\n    print(str2.isalpha())  # False\n    # \u68c0\u67e5\u5b57\u7b26\u4e32\u662f\u5426\u4ee5\u6570\u5b57\u548c\u5b57\u6bcd\u6784\u6210\n    print(str2.isalnum())  # True\n    str3 = '  jackfrued@126.com '\n    print(str3)\n    # \u83b7\u5f97\u5b57\u7b26\u4e32\u4fee\u526a\u5de6\u53f3\u4e24\u4fa7\u7a7a\u683c\u7684\u62f7\u8d1d\n    print(str3.strip())\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u9664\u4e86\u5b57\u7b26\u4e32\uff0cPython\u8fd8\u5185\u7f6e\u4e86\u591a\u79cd\u7c7b\u578b\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5982\u679c\u8981\u5728\u7a0b\u5e8f\u4e2d\u4fdd\u5b58\u548c\u64cd\u4f5c\u6570\u636e\uff0c\u7edd\u5927\u591a\u6570\u65f6\u5019\u53ef\u4ee5\u5229\u7528\u73b0\u6709\u7684\u6570\u636e\u7ed3\u6784\u6765\u5b9e\u73b0\uff0c\u6700\u5e38\u7528\u7684\u5305\u62ec\u5217\u8868\u3001\u5143\u7ec4\u3001\u96c6\u5408\u548c\u5b57\u5178\u3002</p>"},{"location":"python/Py-100Days/Day01-15/07.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_3","title":"\u4f7f\u7528\u5217\u8868","text":"<p>\u4e0b\u9762\u7684\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u5b9a\u4e49\u5217\u8868\u3001\u4f7f\u7528\u4e0b\u6807\u8bbf\u95ee\u5217\u8868\u5143\u7d20\u4ee5\u53ca\u6dfb\u52a0\u548c\u5220\u9664\u5143\u7d20\u7684\u64cd\u4f5c\u3002</p> <pre><code>def main():\n    list1 = [1, 3, 5, 7, 100]\n    print(list1)\n    list2 = ['hello'] * 5\n    print(list2)\n    # \u8ba1\u7b97\u5217\u8868\u957f\u5ea6(\u5143\u7d20\u4e2a\u6570)\n    print(len(list1))\n    # \u4e0b\u6807(\u7d22\u5f15)\u8fd0\u7b97\n    print(list1[0])\n    print(list1[4])\n    # print(list1[5])  # IndexError: list index out of range\n    print(list1[-1])\n    print(list1[-3])\n    list1[2] = 300\n    print(list1)\n    # \u6dfb\u52a0\u5143\u7d20\n    list1.append(200)\n    list1.insert(1, 400)\n    list1 += [1000, 2000]\n    print(list1)\n    print(len(list1))\n    # \u5220\u9664\u5143\u7d20\n    list1.remove(3)\n    if 1234 in list1:\n        list1.remove(1234)\n    del list1[0]\n    print(list1)\n    # \u6e05\u7a7a\u5217\u8868\u5143\u7d20\n    list1.clear()\n    print(list1)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u548c\u5b57\u7b26\u4e32\u4e00\u6837\uff0c\u5217\u8868\u4e5f\u53ef\u4ee5\u505a\u5207\u7247\u64cd\u4f5c\uff0c\u901a\u8fc7\u5207\u7247\u64cd\u4f5c\u6211\u4eec\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u5217\u8868\u7684\u590d\u5236\u6216\u8005\u5c06\u5217\u8868\u4e2d\u7684\u4e00\u90e8\u5206\u53d6\u51fa\u6765\u521b\u5efa\u51fa\u65b0\u7684\u5217\u8868\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>def main():\n    fruits = ['grape', 'apple', 'strawberry', 'waxberry']\n    fruits += ['pitaya', 'pear', 'mango']\n    # \u5faa\u73af\u904d\u5386\u5217\u8868\u5143\u7d20\n    for fruit in fruits:\n        print(fruit.title(), end=' ')\n    print()\n    # \u5217\u8868\u5207\u7247\n    fruits2 = fruits[1:4]\n    print(fruits2)\n    # fruit3 = fruits  # \u6ca1\u6709\u590d\u5236\u5217\u8868\u53ea\u521b\u5efa\u4e86\u65b0\u7684\u5f15\u7528\n    # \u53ef\u4ee5\u901a\u8fc7\u5b8c\u6574\u5207\u7247\u64cd\u4f5c\u6765\u590d\u5236\u5217\u8868\n    fruits3 = fruits[:]\n    print(fruits3)\n    fruits4 = fruits[-3:-1]\n    print(fruits4)\n    # \u53ef\u4ee5\u901a\u8fc7\u53cd\u5411\u5207\u7247\u64cd\u4f5c\u6765\u83b7\u5f97\u5012\u8f6c\u540e\u7684\u5217\u8868\u7684\u62f7\u8d1d\n    fruits5 = fruits[::-1]\n    print(fruits5)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u4e0b\u9762\u7684\u4ee3\u7801\u5b9e\u73b0\u4e86\u5bf9\u5217\u8868\u7684\u6392\u5e8f\u64cd\u4f5c\u3002</p> <pre><code>def main():\n    list1 = ['orange', 'apple', 'zoo', 'internationalization', 'blueberry']\n    list2 = sorted(list1)\n    # sorted\u51fd\u6570\u8fd4\u56de\u5217\u8868\u6392\u5e8f\u540e\u7684\u62f7\u8d1d\u4e0d\u4f1a\u4fee\u6539\u4f20\u5165\u7684\u5217\u8868\n    # \u51fd\u6570\u7684\u8bbe\u8ba1\u5c31\u5e94\u8be5\u50cfsorted\u51fd\u6570\u4e00\u6837\u5c3d\u53ef\u80fd\u4e0d\u4ea7\u751f\u526f\u4f5c\u7528\n    list3 = sorted(list1, reverse=True)\n    # \u901a\u8fc7key\u5173\u952e\u5b57\u53c2\u6570\u6307\u5b9a\u6839\u636e\u5b57\u7b26\u4e32\u957f\u5ea6\u8fdb\u884c\u6392\u5e8f\u800c\u4e0d\u662f\u9ed8\u8ba4\u7684\u5b57\u6bcd\u8868\u987a\u5e8f\n    list4 = sorted(list1, key=len)\n    print(list1)\n    print(list2)\n    print(list3)\n    print(list4)\n    # \u7ed9\u5217\u8868\u5bf9\u8c61\u53d1\u51fa\u6392\u5e8f\u6d88\u606f\u76f4\u63a5\u5728\u5217\u8868\u5bf9\u8c61\u4e0a\u8fdb\u884c\u6392\u5e8f\n    list1.sort(reverse=True)\n    print(list1)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528\u5217\u8868\u7684\u751f\u6210\u5f0f\u8bed\u6cd5\u6765\u521b\u5efa\u5217\u8868\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>import sys\n\n\ndef main():\n    f = [x for x in range(1, 10)]\n    print(f)\n    f = [x + y for x in 'ABCDE' for y in '1234567']\n    print(f)\n    # \u7528\u5217\u8868\u7684\u751f\u6210\u8868\u8fbe\u5f0f\u8bed\u6cd5\u521b\u5efa\u5217\u8868\u5bb9\u5668\n    # \u7528\u8fd9\u79cd\u8bed\u6cd5\u521b\u5efa\u5217\u8868\u4e4b\u540e\u5143\u7d20\u5df2\u7ecf\u51c6\u5907\u5c31\u7eea\u6240\u4ee5\u9700\u8981\u8017\u8d39\u8f83\u591a\u7684\u5185\u5b58\u7a7a\u95f4\n    f = [x ** 2 for x in range(1, 1000)]\n    print(sys.getsizeof(f))  # \u67e5\u770b\u5bf9\u8c61\u5360\u7528\u5185\u5b58\u7684\u5b57\u8282\u6570\n    print(f)\n    # \u8bf7\u6ce8\u610f\u4e0b\u9762\u7684\u4ee3\u7801\u521b\u5efa\u7684\u4e0d\u662f\u4e00\u4e2a\u5217\u8868\u800c\u662f\u4e00\u4e2a\u751f\u6210\u5668\u5bf9\u8c61\n    # \u901a\u8fc7\u751f\u6210\u5668\u53ef\u4ee5\u83b7\u53d6\u5230\u6570\u636e\u4f46\u5b83\u4e0d\u5360\u7528\u989d\u5916\u7684\u7a7a\u95f4\u5b58\u50a8\u6570\u636e\n    # \u6bcf\u6b21\u9700\u8981\u6570\u636e\u7684\u65f6\u5019\u5c31\u901a\u8fc7\u5185\u90e8\u7684\u8fd0\u7b97\u5f97\u5230\u6570\u636e(\u9700\u8981\u82b1\u8d39\u989d\u5916\u7684\u65f6\u95f4)\n    f = (x ** 2 for x in range(1, 1000))\n    print(sys.getsizeof(f))  # \u76f8\u6bd4\u751f\u6210\u5f0f\u751f\u6210\u5668\u4e0d\u5360\u7528\u5b58\u50a8\u6570\u636e\u7684\u7a7a\u95f4\n    print(f)\n    for val in f:\n        print(val)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u9664\u4e86\u4e0a\u9762\u63d0\u5230\u7684\u751f\u6210\u5668\u8bed\u6cd5\uff0cPython\u4e2d\u8fd8\u6709\u53e6\u5916\u4e00\u79cd\u5b9a\u4e49\u751f\u6210\u5668\u7684\u65b9\u5f0f\uff0c\u5c31\u662f\u901a\u8fc7<code>yield</code>\u5173\u952e\u5b57\u5c06\u4e00\u4e2a\u666e\u901a\u51fd\u6570\u6539\u9020\u6210\u751f\u6210\u5668\u51fd\u6570\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u5b9e\u73b0\u4e00\u4e2a\u751f\u6210\u6590\u6ce2\u62c9\u5207\u6570\u5217\u7684\u751f\u6210\u5668\u3002\u6240\u8c13\u6590\u6ce2\u62c9\u5207\u6570\u5217\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u9012\u5f52\u7684\u65b9\u6cd5\u6765\u8fdb\u884c\u5b9a\u4e49\uff1a</p> <p></p> <p></p> <p></p> <p></p> <pre><code>def fib(n):\n    a, b = 0, 1\n    for _ in range(n):\n        a, b = b, a + b\n        yield a\n\n\ndef main():\n    for val in fib(20):\n        print(val)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/07.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_4","title":"\u4f7f\u7528\u5143\u7ec4","text":"<p>Python \u7684\u5143\u7ec4\u4e0e\u5217\u8868\u7c7b\u4f3c\uff0c\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u5143\u7ec4\u7684\u5143\u7d20\u4e0d\u80fd\u4fee\u6539\uff0c\u5728\u524d\u9762\u7684\u4ee3\u7801\u4e2d\u6211\u4eec\u5df2\u7ecf\u4e0d\u6b62\u4e00\u6b21\u4f7f\u7528\u8fc7\u5143\u7ec4\u4e86\u3002\u987e\u540d\u601d\u4e49\uff0c\u6211\u4eec\u628a\u591a\u4e2a\u5143\u7d20\u7ec4\u5408\u5230\u4e00\u8d77\u5c31\u5f62\u6210\u4e86\u4e00\u4e2a\u5143\u7ec4\uff0c\u6240\u4ee5\u5b83\u548c\u5217\u8868\u4e00\u6837\u53ef\u4ee5\u4fdd\u5b58\u591a\u6761\u6570\u636e\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u5b9a\u4e49\u548c\u4f7f\u7528\u5143\u7ec4\u3002</p> <pre><code>def main():\n    # \u5b9a\u4e49\u5143\u7ec4\n    t = ('\u9a86\u660a', 38, True, '\u56db\u5ddd\u6210\u90fd')\n    print(t)\n    # \u83b7\u53d6\u5143\u7ec4\u4e2d\u7684\u5143\u7d20\n    print(t[0])\n    print(t[3])\n    # \u904d\u5386\u5143\u7ec4\u4e2d\u7684\u503c\n    for member in t:\n        print(member)\n    # \u91cd\u65b0\u7ed9\u5143\u7ec4\u8d4b\u503c\n    # t[0] = '\u738b\u5927\u9524'  # TypeError\n    # \u53d8\u91cft\u91cd\u65b0\u5f15\u7528\u4e86\u65b0\u7684\u5143\u7ec4\u539f\u6765\u7684\u5143\u7ec4\u5c06\u88ab\u5783\u573e\u56de\u6536\n    t = ('\u738b\u5927\u9524', 20, True, '\u4e91\u5357\u6606\u660e')\n    print(t)\n    # \u5c06\u5143\u7ec4\u8f6c\u6362\u6210\u5217\u8868\n    person = list(t)\n    print(person)\n    # \u5217\u8868\u662f\u53ef\u4ee5\u4fee\u6539\u5b83\u7684\u5143\u7d20\u7684\n    person[0] = '\u674e\u5c0f\u9f99'\n    person[1] = 25\n    print(person)\n    # \u5c06\u5217\u8868\u8f6c\u6362\u6210\u5143\u7ec4\n    fruits_list = ['apple', 'banana', 'orange']\n    fruits_tuple = tuple(fruits_list)\n    print(fruits_tuple)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8fd9\u91cc\u6709\u4e00\u4e2a\u975e\u5e38\u503c\u5f97\u63a2\u8ba8\u7684\u95ee\u9898\uff0c\u6211\u4eec\u5df2\u7ecf\u6709\u4e86\u5217\u8868\u8fd9\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u9700\u8981\u5143\u7ec4\u8fd9\u6837\u7684\u7c7b\u578b\u5462\uff1f</p> <ol> <li>\u5143\u7ec4\u4e2d\u7684\u5143\u7d20\u662f\u65e0\u6cd5\u4fee\u6539\u7684\uff0c\u4e8b\u5b9e\u4e0a\u6211\u4eec\u5728\u9879\u76ee\u4e2d\u5c24\u5176\u662f\u591a\u7ebf\u7a0b\u73af\u5883\uff08\u540e\u9762\u4f1a\u8bb2\u5230\uff09\u4e2d\u53ef\u80fd\u66f4\u559c\u6b22\u4f7f\u7528\u7684\u662f\u90a3\u4e9b\u4e0d\u53d8\u5bf9\u8c61\uff08\u4e00\u65b9\u9762\u56e0\u4e3a\u5bf9\u8c61\u72b6\u6001\u4e0d\u80fd\u4fee\u6539\uff0c\u6240\u4ee5\u53ef\u4ee5\u907f\u514d\u7531\u6b64\u5f15\u8d77\u7684\u4e0d\u5fc5\u8981\u7684\u7a0b\u5e8f\u9519\u8bef\uff0c\u7b80\u5355\u7684\u8bf4\u5c31\u662f\u4e00\u4e2a\u4e0d\u53d8\u7684\u5bf9\u8c61\u8981\u6bd4\u53ef\u53d8\u7684\u5bf9\u8c61\u66f4\u52a0\u5bb9\u6613\u7ef4\u62a4\uff1b\u53e6\u4e00\u65b9\u9762\u56e0\u4e3a\u6ca1\u6709\u4efb\u4f55\u4e00\u4e2a\u7ebf\u7a0b\u80fd\u591f\u4fee\u6539\u4e0d\u53d8\u5bf9\u8c61\u7684\u5185\u90e8\u72b6\u6001\uff0c\u4e00\u4e2a\u4e0d\u53d8\u5bf9\u8c61\u81ea\u52a8\u5c31\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u7701\u6389\u5904\u7406\u540c\u6b65\u5316\u7684\u5f00\u9500\u3002\u4e00\u4e2a\u4e0d\u53d8\u5bf9\u8c61\u53ef\u4ee5\u65b9\u4fbf\u7684\u88ab\u5171\u4eab\u8bbf\u95ee\uff09\u3002\u6240\u4ee5\u7ed3\u8bba\u5c31\u662f\uff1a\u5982\u679c\u4e0d\u9700\u8981\u5bf9\u5143\u7d20\u8fdb\u884c\u6dfb\u52a0\u3001\u5220\u9664\u3001\u4fee\u6539\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u5143\u7ec4\uff0c\u5f53\u7136\u5982\u679c\u4e00\u4e2a\u65b9\u6cd5\u8981\u8fd4\u56de\u591a\u4e2a\u503c\uff0c\u4f7f\u7528\u5143\u7ec4\u4e5f\u662f\u4e0d\u9519\u7684\u9009\u62e9\u3002</li> <li>\u5143\u7ec4\u5728\u521b\u5efa\u65f6\u95f4\u548c\u5360\u7528\u7684\u7a7a\u95f4\u4e0a\u9762\u90fd\u4f18\u4e8e\u5217\u8868\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528sys\u6a21\u5757\u7684getsizeof\u51fd\u6570\u6765\u68c0\u67e5\u5b58\u50a8\u540c\u6837\u7684\u5143\u7d20\u7684\u5143\u7ec4\u548c\u5217\u8868\u5404\u81ea\u5360\u7528\u4e86\u591a\u5c11\u5185\u5b58\u7a7a\u95f4\uff0c\u8fd9\u4e2a\u5f88\u5bb9\u6613\u505a\u5230\u3002\u6211\u4eec\u4e5f\u53ef\u4ee5\u5728ipython\u4e2d\u4f7f\u7528\u9b54\u6cd5\u6307\u4ee4%timeit\u6765\u5206\u6790\u521b\u5efa\u540c\u6837\u5185\u5bb9\u7684\u5143\u7ec4\u548c\u5217\u8868\u6240\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u4e0b\u56fe\u662f\u6211\u7684macOS\u7cfb\u7edf\u4e0a\u6d4b\u8bd5\u7684\u7ed3\u679c\u3002</li> </ol> <p></p>"},{"location":"python/Py-100Days/Day01-15/07.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_5","title":"\u4f7f\u7528\u96c6\u5408","text":"<p>Python\u4e2d\u7684\u96c6\u5408\u8ddf\u6570\u5b66\u4e0a\u7684\u96c6\u5408\u662f\u4e00\u81f4\u7684\uff0c\u4e0d\u5141\u8bb8\u6709\u91cd\u590d\u5143\u7d20\uff0c\u800c\u4e14\u53ef\u4ee5\u8fdb\u884c\u4ea4\u96c6\u3001\u5e76\u96c6\u3001\u5dee\u96c6\u7b49\u8fd0\u7b97\u3002</p> <p></p> <pre><code>def main():\n    set1 = {1, 2, 3, 3, 3, 2}\n    print(set1)\n    print('Length =', len(set1))\n    set2 = set(range(1, 10))\n    print(set2)\n    set1.add(4)\n    set1.add(5)\n    set2.update([11, 12])\n    print(set1)\n    print(set2)\n    set2.discard(5)\n    # remove\u7684\u5143\u7d20\u5982\u679c\u4e0d\u5b58\u5728\u4f1a\u5f15\u53d1KeyError\n    if 4 in set2:\n        set2.remove(4)\n    print(set2)\n    # \u904d\u5386\u96c6\u5408\u5bb9\u5668\n    for elem in set2:\n        print(elem ** 2, end=' ')\n    print()\n    # \u5c06\u5143\u7ec4\u8f6c\u6362\u6210\u96c6\u5408\n    set3 = set((1, 2, 3, 3, 2, 1))\n    print(set3.pop())\n    print(set3)\n    # \u96c6\u5408\u7684\u4ea4\u96c6\u3001\u5e76\u96c6\u3001\u5dee\u96c6\u3001\u5bf9\u79f0\u5dee\u8fd0\u7b97\n    print(set1 &amp; set2)\n    # print(set1.intersection(set2))\n    print(set1 | set2)\n    # print(set1.union(set2))\n    print(set1 - set2)\n    # print(set1.difference(set2))\n    print(set1 ^ set2)\n    # print(set1.symmetric_difference(set2))\n    # \u5224\u65ad\u5b50\u96c6\u548c\u8d85\u96c6\n    print(set2 &lt;= set1)\n    # print(set2.issubset(set1))\n    print(set3 &lt;= set1)\n    # print(set3.issubset(set1))\n    print(set1 &gt;= set2)\n    # print(set1.issuperset(set2))\n    print(set1 &gt;= set3)\n    # print(set1.issuperset(set3))\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8bf4\u660e\uff1a Python\u4e2d\u5141\u8bb8\u901a\u8fc7\u4e00\u4e9b\u7279\u6b8a\u7684\u65b9\u6cd5\u6765\u4e3a\u67d0\u79cd\u7c7b\u578b\u6216\u6570\u636e\u7ed3\u6784\u81ea\u5b9a\u4e49\u8fd0\u7b97\u7b26\uff08\u540e\u9762\u7684\u7ae0\u8282\u4e2d\u4f1a\u8bb2\u5230\uff09\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\u6211\u4eec\u5bf9\u96c6\u5408\u8fdb\u884c\u8fd0\u7b97\u7684\u65f6\u5019\u53ef\u4ee5\u8c03\u7528\u96c6\u5408\u5bf9\u8c61\u7684\u65b9\u6cd5\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u5bf9\u5e94\u7684\u8fd0\u7b97\u7b26\uff0c\u4f8b\u5982<code>&amp;</code>\u8fd0\u7b97\u7b26\u8ddfintersection\u65b9\u6cd5\u7684\u4f5c\u7528\u5c31\u662f\u4e00\u6837\u7684\uff0c\u4f46\u662f\u4f7f\u7528\u8fd0\u7b97\u7b26\u8ba9\u4ee3\u7801\u66f4\u52a0\u76f4\u89c2\u3002</p>"},{"location":"python/Py-100Days/Day01-15/07.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_6","title":"\u4f7f\u7528\u5b57\u5178","text":"<p>\u5b57\u5178\u662f\u53e6\u4e00\u79cd\u53ef\u53d8\u5bb9\u5668\u6a21\u578b\uff0c\u7c7b\u4f3c\u4e8e\u6211\u4eec\u751f\u6d3b\u4e2d\u4f7f\u7528\u7684\u5b57\u5178\uff0c\u5b83\u53ef\u4ee5\u5b58\u50a8\u4efb\u610f\u7c7b\u578b\u5bf9\u8c61\uff0c\u4e0e\u5217\u8868\u3001\u96c6\u5408\u4e0d\u540c\u7684\u662f\uff0c\u5b57\u5178\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u7531\u4e00\u4e2a\u952e\u548c\u4e00\u4e2a\u503c\u7ec4\u6210\u7684\u201c\u952e\u503c\u5bf9\u201d\uff0c\u952e\u548c\u503c\u901a\u8fc7\u5192\u53f7\u5206\u5f00\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u5b9a\u4e49\u548c\u4f7f\u7528\u5b57\u5178\u3002</p> <pre><code>def main():\n    scores = {'\u9a86\u660a': 95, '\u767d\u5143\u82b3': 78, '\u72c4\u4ec1\u6770': 82}\n    # \u901a\u8fc7\u952e\u53ef\u4ee5\u83b7\u53d6\u5b57\u5178\u4e2d\u5bf9\u5e94\u7684\u503c\n    print(scores['\u9a86\u660a'])\n    print(scores['\u72c4\u4ec1\u6770'])\n    # \u5bf9\u5b57\u5178\u8fdb\u884c\u904d\u5386(\u904d\u5386\u7684\u5176\u5b9e\u662f\u952e\u518d\u901a\u8fc7\u952e\u53d6\u5bf9\u5e94\u7684\u503c)\n    for elem in scores:\n        print('%s\\t---&gt;\\t%d' % (elem, scores[elem]))\n    # \u66f4\u65b0\u5b57\u5178\u4e2d\u7684\u5143\u7d20\n    scores['\u767d\u5143\u82b3'] = 65\n    scores['\u8bf8\u845b\u738b\u6717'] = 71\n    scores.update(\u51b7\u9762=67, \u65b9\u542f\u9e64=85)\n    print(scores)\n    if '\u6b66\u5219\u5929' in scores:\n        print(scores['\u6b66\u5219\u5929'])\n    print(scores.get('\u6b66\u5219\u5929'))\n    # get\u65b9\u6cd5\u4e5f\u662f\u901a\u8fc7\u952e\u83b7\u53d6\u5bf9\u5e94\u7684\u503c\u4f46\u662f\u53ef\u4ee5\u8bbe\u7f6e\u9ed8\u8ba4\u503c\n    print(scores.get('\u6b66\u5219\u5929', 60))\n    # \u5220\u9664\u5b57\u5178\u4e2d\u7684\u5143\u7d20\n    print(scores.popitem())\n    print(scores.popitem())\n    print(scores.pop('\u9a86\u660a', 100))\n    # \u6e05\u7a7a\u5b57\u5178\n    scores.clear()\n    print(scores)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/07.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_7","title":"\u7ec3\u4e60","text":""},{"location":"python/Py-100Days/Day01-15/07.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#1","title":"\u7ec3\u4e601\uff1a\u5728\u5c4f\u5e55\u4e0a\u663e\u793a\u8dd1\u9a6c\u706f\u6587\u5b57","text":"<pre><code>import os\nimport time\n\n\ndef main():\n    content = '\u5317\u4eac\u6b22\u8fce\u4f60\u4e3a\u4f60\u5f00\u5929\u8f9f\u5730\u2026\u2026\u2026\u2026'\n    while True:\n        # \u6e05\u7406\u5c4f\u5e55\u4e0a\u7684\u8f93\u51fa\n        os.system('cls')  # os.system('clear')\n        print(content)\n        # \u4f11\u7720200\u6beb\u79d2\n        time.sleep(0.2)\n        content = content[1:] + content[0]\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/07.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#2","title":"\u7ec3\u4e602\uff1a\u8bbe\u8ba1\u4e00\u4e2a\u51fd\u6570\u4ea7\u751f\u6307\u5b9a\u957f\u5ea6\u7684\u9a8c\u8bc1\u7801\uff0c\u9a8c\u8bc1\u7801\u7531\u5927\u5c0f\u5199\u5b57\u6bcd\u548c\u6570\u5b57\u6784\u6210\u3002","text":"<pre><code>import random\n\n\ndef generate_code(code_len=4):\n    \"\"\"\n    \u751f\u6210\u6307\u5b9a\u957f\u5ea6\u7684\u9a8c\u8bc1\u7801\n\n    :param code_len: \u9a8c\u8bc1\u7801\u7684\u957f\u5ea6(\u9ed8\u8ba44\u4e2a\u5b57\u7b26)\n\n    :return: \u7531\u5927\u5c0f\u5199\u82f1\u6587\u5b57\u6bcd\u548c\u6570\u5b57\u6784\u6210\u7684\u968f\u673a\u9a8c\u8bc1\u7801\n    \"\"\"\n    all_chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'\n    last_pos = len(all_chars) - 1\n    code = ''\n    for _ in range(code_len):\n        index = random.randint(0, last_pos)\n        code += all_chars[index]\n    return code\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/07.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#3","title":"\u7ec3\u4e603\uff1a\u8bbe\u8ba1\u4e00\u4e2a\u51fd\u6570\u8fd4\u56de\u7ed9\u5b9a\u6587\u4ef6\u540d\u7684\u540e\u7f00\u540d\u3002","text":"<pre><code>def get_suffix(filename, has_dot=False):\n    \"\"\"\n    \u83b7\u53d6\u6587\u4ef6\u540d\u7684\u540e\u7f00\u540d\n\n    :param filename: \u6587\u4ef6\u540d\n    :param has_dot: \u8fd4\u56de\u7684\u540e\u7f00\u540d\u662f\u5426\u9700\u8981\u5e26\u70b9\n    :return: \u6587\u4ef6\u7684\u540e\u7f00\u540d\n    \"\"\"\n    pos = filename.rfind('.')\n    if 0 &lt; pos &lt; len(filename) - 1:\n        index = pos if has_dot else pos + 1\n        return filename[index:]\n    else:\n        return ''\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/07.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#4","title":"\u7ec3\u4e604\uff1a\u8bbe\u8ba1\u4e00\u4e2a\u51fd\u6570\u8fd4\u56de\u4f20\u5165\u7684\u5217\u8868\u4e2d\u6700\u5927\u548c\u7b2c\u4e8c\u5927\u7684\u5143\u7d20\u7684\u503c\u3002","text":"<pre><code>def max2(x):\n    m1, m2 = (x[0], x[1]) if x[0] &gt; x[1] else (x[1], x[0])\n    for index in range(2, len(x)):\n        if x[index] &gt; m1:\n            m2 = m1\n            m1 = x[index]\n        elif x[index] &gt; m2:\n            m2 = x[index]\n    return m1, m2\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/07.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#5","title":"\u7ec3\u4e605\uff1a\u8ba1\u7b97\u6307\u5b9a\u7684\u5e74\u6708\u65e5\u662f\u8fd9\u4e00\u5e74\u7684\u7b2c\u51e0\u5929","text":"<pre><code>def is_leap_year(year):\n    \"\"\"\n    \u5224\u65ad\u6307\u5b9a\u7684\u5e74\u4efd\u662f\u4e0d\u662f\u95f0\u5e74\n\n    :param year: \u5e74\u4efd\n    :return: \u95f0\u5e74\u8fd4\u56deTrue\u5e73\u5e74\u8fd4\u56deFalse\n    \"\"\"\n    return year % 4 == 0 and year % 100 != 0 or year % 400 == 0\n\n\ndef which_day(year, month, date):\n    \"\"\"\n    \u8ba1\u7b97\u4f20\u5165\u7684\u65e5\u671f\u662f\u8fd9\u4e00\u5e74\u7684\u7b2c\u51e0\u5929\n\n    :param year: \u5e74\n    :param month: \u6708\n    :param date: \u65e5\n    :return: \u7b2c\u51e0\u5929\n    \"\"\"\n    days_of_month = [\n        [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n        [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n    ][is_leap_year(year)]\n    total = 0\n    for index in range(month - 1):\n        total += days_of_month[index]\n    return total + date\n\n\ndef main():\n    print(which_day(1980, 11, 28))\n    print(which_day(1981, 12, 31))\n    print(which_day(2018, 1, 1))\n    print(which_day(2016, 3, 1))\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/07.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#6","title":"\u7ec3\u4e606\uff1a\u6253\u5370\u6768\u8f89\u4e09\u89d2\u3002","text":"<pre><code>def main():\n    num = int(input('Number of rows: '))\n    yh = [[]] * num\n    for row in range(len(yh)):\n        yh[row] = [None] * (row + 1)\n        for col in range(len(yh[row])):\n            if col == 0 or col == row:\n                yh[row][col] = 1\n            else:\n                yh[row][col] = yh[row - 1][col] + yh[row - 1][col - 1]\n            print(yh[row][col], end='\\t')\n        print()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/07.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_8","title":"\u7efc\u5408\u6848\u4f8b","text":""},{"location":"python/Py-100Days/Day01-15/07.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#1_1","title":"\u6848\u4f8b1\uff1a\u53cc\u8272\u7403\u9009\u53f7","text":"<pre><code>from random import randrange, randint, sample\n\n\ndef display(balls):\n    \"\"\"\n    \u8f93\u51fa\u5217\u8868\u4e2d\u7684\u53cc\u8272\u7403\u53f7\u7801\n    \"\"\"\n    for index, ball in enumerate(balls):\n        if index == len(balls) - 1:\n            print('|', end=' ')\n        print('%02d' % ball, end=' ')\n    print()\n\n\ndef random_select():\n    \"\"\"\n    \u968f\u673a\u9009\u62e9\u4e00\u7ec4\u53f7\u7801\n    \"\"\"\n    red_balls = [x for x in range(1, 34)]\n    selected_balls = []\n    selected_balls = sample(red_balls, 6)\n    selected_balls.sort()\n    selected_balls.append(randint(1, 16))\n    return selected_balls\n\n\ndef main():\n    n = int(input('\u673a\u9009\u51e0\u6ce8: '))\n    for _ in range(n):\n        display(random_select())\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8bf4\u660e\uff1a \u4e0a\u9762\u4f7f\u7528random\u6a21\u5757\u7684sample\u51fd\u6570\u6765\u5b9e\u73b0\u4ece\u5217\u8868\u4e2d\u9009\u62e9\u4e0d\u91cd\u590d\u7684n\u4e2a\u5143\u7d20\u3002</p>"},{"location":"python/Py-100Days/Day01-15/07.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#2_1","title":"\u7efc\u5408\u6848\u4f8b2\uff1a\u7ea6\u745f\u592b\u73af\u95ee\u9898","text":"<pre><code>\"\"\"\n\u300a\u5e78\u8fd0\u7684\u57fa\u7763\u5f92\u300b\n\u670915\u4e2a\u57fa\u7763\u5f92\u548c15\u4e2a\u975e\u57fa\u7763\u5f92\u5728\u6d77\u4e0a\u9047\u9669\uff0c\u4e3a\u4e86\u80fd\u8ba9\u4e00\u90e8\u5206\u4eba\u6d3b\u4e0b\u6765\u4e0d\u5f97\u4e0d\u5c06\u5176\u4e2d15\u4e2a\u4eba\u6254\u5230\u6d77\u91cc\u9762\u53bb\uff0c\u6709\u4e2a\u4eba\u60f3\u4e86\u4e2a\u529e\u6cd5\u5c31\u662f\u5927\u5bb6\u56f4\u6210\u4e00\u4e2a\u5708\uff0c\u7531\u67d0\u4e2a\u4eba\u5f00\u59cb\u4ece1\u62a5\u6570\uff0c\u62a5\u52309\u7684\u4eba\u5c31\u6254\u5230\u6d77\u91cc\u9762\uff0c\u4ed6\u540e\u9762\u7684\u4eba\u63a5\u7740\u4ece1\u5f00\u59cb\u62a5\u6570\uff0c\u62a5\u52309\u7684\u4eba\u7ee7\u7eed\u6254\u5230\u6d77\u91cc\u9762\uff0c\u76f4\u5230\u6254\u638915\u4e2a\u4eba\u3002\u7531\u4e8e\u4e0a\u5e1d\u7684\u4fdd\u4f51\uff0c15\u4e2a\u57fa\u7763\u5f92\u90fd\u5e78\u514d\u4e8e\u96be\uff0c\u95ee\u8fd9\u4e9b\u4eba\u6700\u5f00\u59cb\u662f\u600e\u4e48\u7ad9\u7684\uff0c\u54ea\u4e9b\u4f4d\u7f6e\u662f\u57fa\u7763\u5f92\u54ea\u4e9b\u4f4d\u7f6e\u662f\u975e\u57fa\u7763\u5f92\u3002\n\"\"\"\n\n\ndef main():\n    persons = [True] * 30\n    counter, index, number = 0, 0, 0\n    while counter &lt; 15:\n        if persons[index]:\n            number += 1\n            if number == 9:\n                persons[index] = False\n                counter += 1\n                number = 0\n        index += 1\n        index %= 30\n    for person in persons:\n        print('\u57fa' if person else '\u975e', end='')\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/07.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#3_1","title":"\u7efc\u5408\u6848\u4f8b3\uff1a\u4e95\u5b57\u68cb\u6e38\u620f","text":"<pre><code>import os\n\n\ndef print_board(board):\n    print(board['TL'] + '|' + board['TM'] + '|' + board['TR'])\n    print('-+-+-')\n    print(board['ML'] + '|' + board['MM'] + '|' + board['MR'])\n    print('-+-+-')\n    print(board['BL'] + '|' + board['BM'] + '|' + board['BR'])\n\n\ndef main():\n    init_board = {\n        'TL': ' ', 'TM': ' ', 'TR': ' ',\n        'ML': ' ', 'MM': ' ', 'MR': ' ',\n        'BL': ' ', 'BM': ' ', 'BR': ' '\n    }\n    begin = True\n    while begin:\n        curr_board = init_board.copy()\n        begin = False\n        turn = 'x'\n        counter = 0\n        os.system('clear')\n        print_board(curr_board)\n        while counter &lt; 9:\n            move = input('\u8f6e\u5230%s\u8d70\u68cb, \u8bf7\u8f93\u5165\u4f4d\u7f6e: ' % turn)\n            if curr_board[move] == ' ':\n                counter += 1\n                curr_board[move] = turn\n                if turn == 'x':\n                    turn = 'o'\n                else:\n                    turn = 'x'\n            os.system('clear')\n            print_board(curr_board)\n        choice = input('\u518d\u73a9\u4e00\u5c40?(yes|no)')\n        begin = choice == 'yes'\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8bf4\u660e\uff1a \u6700\u540e\u8fd9\u4e2a\u6848\u4f8b\u6765\u81ea\u300aPython\u7f16\u7a0b\u5feb\u901f\u4e0a\u624b:\u8ba9\u7e41\u7410\u5de5\u4f5c\u81ea\u52a8\u5316\u300b\u4e00\u4e66\uff08\u8fd9\u672c\u4e66\u5bf9\u6709\u7f16\u7a0b\u57fa\u7840\u60f3\u8fc5\u901f\u4f7f\u7528Python\u5c06\u65e5\u5e38\u5de5\u4f5c\u81ea\u52a8\u5316\u7684\u4eba\u6765\u8bf4\u8fd8\u662f\u4e0d\u9519\u7684\u9009\u62e9\uff09\uff0c\u5bf9\u4ee3\u7801\u505a\u4e86\u4e00\u70b9\u70b9\u7684\u8c03\u6574\u3002</p>"},{"location":"python/Py-100Days/Day01-15/08.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/","title":"08.\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u57fa\u7840","text":""},{"location":"python/Py-100Days/Day01-15/08.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/#_1","title":"\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u57fa\u7840","text":"<p>\u6d3b\u5728\u5f53\u4e0b\u7684\u7a0b\u5e8f\u5458\u5e94\u8be5\u90fd\u542c\u8fc7\u201c\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u201d\u4e00\u8bcd\uff0c\u4e5f\u7ecf\u5e38\u6709\u4eba\u95ee\u80fd\u4e0d\u80fd\u7528\u4e00\u53e5\u8bdd\u89e3\u91ca\u4e0b\u4ec0\u4e48\u662f\u201c\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u201d\uff0c\u6211\u4eec\u5148\u6765\u770b\u770b\u6bd4\u8f83\u6b63\u5f0f\u7684\u8bf4\u6cd5\u3002</p> <p>\u628a\u4e00\u7ec4\u6570\u636e\u7ed3\u6784\u548c\u5904\u7406\u5b83\u4eec\u7684\u65b9\u6cd5\u7ec4\u6210\u5bf9\u8c61\uff08object\uff09\uff0c\u628a\u76f8\u540c\u884c\u4e3a\u7684\u5bf9\u8c61\u5f52\u7eb3\u4e3a\u7c7b\uff08class\uff09\uff0c\u901a\u8fc7\u7c7b\u7684\u5c01\u88c5\uff08encapsulation\uff09\u9690\u85cf\u5185\u90e8\u7ec6\u8282\uff0c\u901a\u8fc7\u7ee7\u627f\uff08inheritance\uff09\u5b9e\u73b0\u7c7b\u7684\u7279\u5316\uff08specialization\uff09\u548c\u6cdb\u5316\uff08generalization\uff09\uff0c\u901a\u8fc7\u591a\u6001\uff08polymorphism\uff09\u5b9e\u73b0\u57fa\u4e8e\u5bf9\u8c61\u7c7b\u578b\u7684\u52a8\u6001\u5206\u6d3e\u3002</p> <p>\u8fd9\u6837\u4e00\u8bf4\u662f\u4e0d\u662f\u66f4\u4e0d\u660e\u767d\u4e86\u3002\u6240\u4ee5\u6211\u4eec\u8fd8\u662f\u770b\u770b\u66f4\u901a\u4fd7\u6613\u61c2\u7684\u8bf4\u6cd5\uff0c\u4e0b\u9762\u8fd9\u6bb5\u5185\u5bb9\u6765\u81ea\u4e8e\u77e5\u4e4e\u3002</p> <p></p> <p>\u8bf4\u660e\uff1a \u4ee5\u4e0a\u7684\u5185\u5bb9\u6765\u81ea\u4e8e\u7f51\u7edc\uff0c\u4e0d\u4ee3\u8868\u4f5c\u8005\u672c\u4eba\u7684\u89c2\u70b9\u548c\u770b\u6cd5\uff0c\u4e0e\u4f5c\u8005\u672c\u4eba\u7acb\u573a\u65e0\u5173\uff0c\u76f8\u5173\u8d23\u4efb\u4e0d\u7531\u4f5c\u8005\u627f\u62c5\u3002</p> <p>\u4e4b\u524d\u6211\u4eec\u8bf4\u8fc7\u201c\u7a0b\u5e8f\u662f\u6307\u4ee4\u7684\u96c6\u5408\u201d\uff0c\u6211\u4eec\u5728\u7a0b\u5e8f\u4e2d\u4e66\u5199\u7684\u8bed\u53e5\u5728\u6267\u884c\u65f6\u4f1a\u53d8\u6210\u4e00\u6761\u6216\u591a\u6761\u6307\u4ee4\u7136\u540e\u7531CPU\u53bb\u6267\u884c\u3002\u5f53\u7136\u4e3a\u4e86\u7b80\u5316\u7a0b\u5e8f\u7684\u8bbe\u8ba1\uff0c\u6211\u4eec\u5f15\u5165\u4e86\u51fd\u6570\u7684\u6982\u5ff5\uff0c\u628a\u76f8\u5bf9\u72ec\u7acb\u4e14\u7ecf\u5e38\u91cd\u590d\u4f7f\u7528\u7684\u4ee3\u7801\u653e\u7f6e\u5230\u51fd\u6570\u4e2d\uff0c\u5728\u9700\u8981\u4f7f\u7528\u8fd9\u4e9b\u529f\u80fd\u7684\u65f6\u5019\u53ea\u8981\u8c03\u7528\u51fd\u6570\u5373\u53ef\uff1b\u5982\u679c\u4e00\u4e2a\u51fd\u6570\u7684\u529f\u80fd\u8fc7\u4e8e\u590d\u6742\u548c\u81c3\u80bf\uff0c\u6211\u4eec\u53c8\u53ef\u4ee5\u8fdb\u4e00\u6b65\u5c06\u51fd\u6570\u7ee7\u7eed\u5207\u5206\u4e3a\u5b50\u51fd\u6570\u6765\u964d\u4f4e\u7cfb\u7edf\u7684\u590d\u6742\u6027\u3002\u4f46\u662f\u8bf4\u4e86\u8fd9\u4e48\u591a\uff0c\u4e0d\u77e5\u9053\u5927\u5bb6\u662f\u5426\u53d1\u73b0\uff0c\u6240\u8c13\u7f16\u7a0b\u5c31\u662f\u7a0b\u5e8f\u5458\u6309\u7167\u8ba1\u7b97\u673a\u7684\u5de5\u4f5c\u65b9\u5f0f\u63a7\u5236\u8ba1\u7b97\u673a\u5b8c\u6210\u5404\u79cd\u4efb\u52a1\u3002\u4f46\u662f\uff0c\u8ba1\u7b97\u673a\u7684\u5de5\u4f5c\u65b9\u5f0f\u4e0e\u6b63\u5e38\u4eba\u7c7b\u7684\u601d\u7ef4\u6a21\u5f0f\u662f\u4e0d\u540c\u7684\uff0c\u5982\u679c\u7f16\u7a0b\u5c31\u5fc5\u987b\u5f97\u629b\u5f03\u4eba\u7c7b\u6b63\u5e38\u7684\u601d\u7ef4\u65b9\u5f0f\u53bb\u8fce\u5408\u8ba1\u7b97\u673a\uff0c\u7f16\u7a0b\u7684\u4e50\u8da3\u5c31\u5c11\u4e86\u5f88\u591a\uff0c\u201c\u6bcf\u4e2a\u4eba\u90fd\u5e94\u8be5\u5b66\u4e60\u7f16\u7a0b\u201d\u8fd9\u6837\u7684\u8c6a\u8a00\u58ee\u8bed\u5c31\u53ea\u80fd\u8bf4\u8bf4\u800c\u5df2\u3002\u5f53\u7136\uff0c\u8fd9\u4e9b\u8fd8\u4e0d\u662f\u6700\u91cd\u8981\u7684\uff0c\u6700\u91cd\u8981\u7684\u662f\u5f53\u6211\u4eec\u9700\u8981\u5f00\u53d1\u4e00\u4e2a\u590d\u6742\u7684\u7cfb\u7edf\u65f6\uff0c\u4ee3\u7801\u7684\u590d\u6742\u6027\u4f1a\u8ba9\u5f00\u53d1\u548c\u7ef4\u62a4\u5de5\u4f5c\u90fd\u53d8\u5f97\u4e3e\u6b65\u7ef4\u8270\uff0c\u6240\u4ee5\u5728\u4e0a\u4e16\u7eaa60\u5e74\u4ee3\u672b\u671f\uff0c\u201c\u8f6f\u4ef6\u5371\u673a\u201d\u3001\u201c\u8f6f\u4ef6\u5de5\u7a0b\u201d\u7b49\u4e00\u7cfb\u5217\u7684\u6982\u5ff5\u5f00\u59cb\u5728\u884c\u4e1a\u4e2d\u51fa\u73b0\u3002</p> <p>\u5f53\u7136\uff0c\u7a0b\u5e8f\u5458\u5708\u5b50\u5185\u7684\u4eba\u90fd\u77e5\u9053\uff0c\u73b0\u5b9e\u4e2d\u5e76\u6ca1\u6709\u89e3\u51b3\u4e0a\u9762\u6240\u8bf4\u7684\u8fd9\u4e9b\u95ee\u9898\u7684\u201c\u94f6\u5f39\u201d\uff0c\u771f\u6b63\u8ba9\u8f6f\u4ef6\u5f00\u53d1\u8005\u770b\u5230\u5e0c\u671b\u7684\u662f\u4e0a\u4e16\u7eaa70\u5e74\u4ee3\u8bde\u751f\u7684Smalltalk\u7f16\u7a0b\u8bed\u8a00\u4e2d\u5f15\u5165\u7684\u9762\u5411\u5bf9\u8c61\u7684\u7f16\u7a0b\u601d\u60f3\uff08\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u96cf\u5f62\u53ef\u4ee5\u8ffd\u6eaf\u5230\u66f4\u65e9\u671f\u7684Simula\u8bed\u8a00\uff09\u3002\u6309\u7167\u8fd9\u79cd\u7f16\u7a0b\u7406\u5ff5\uff0c\u7a0b\u5e8f\u4e2d\u7684\u6570\u636e\u548c\u64cd\u4f5c\u6570\u636e\u7684\u51fd\u6570\u662f\u4e00\u4e2a\u903b\u8f91\u4e0a\u7684\u6574\u4f53\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u201c\u5bf9\u8c61\u201d\uff0c\u800c\u6211\u4eec\u89e3\u51b3\u95ee\u9898\u7684\u65b9\u5f0f\u5c31\u662f\u521b\u5efa\u51fa\u9700\u8981\u7684\u5bf9\u8c61\u5e76\u5411\u5bf9\u8c61\u53d1\u51fa\u5404\u79cd\u5404\u6837\u7684\u6d88\u606f\uff0c\u591a\u4e2a\u5bf9\u8c61\u7684\u534f\u540c\u5de5\u4f5c\u6700\u7ec8\u53ef\u4ee5\u8ba9\u6211\u4eec\u6784\u9020\u51fa\u590d\u6742\u7684\u7cfb\u7edf\u6765\u89e3\u51b3\u73b0\u5b9e\u4e2d\u7684\u95ee\u9898\u3002</p> <p>\u8bf4\u660e\uff1a \u5f53\u7136\u9762\u5411\u5bf9\u8c61\u4e5f\u4e0d\u662f\u89e3\u51b3\u8f6f\u4ef6\u5f00\u53d1\u4e2d\u6240\u6709\u95ee\u9898\u7684\u6700\u540e\u7684\u201c\u94f6\u5f39\u201d\uff0c\u6240\u4ee5\u4eca\u5929\u7684\u9ad8\u7ea7\u7a0b\u5e8f\u8bbe\u8ba1\u8bed\u8a00\u51e0\u4e4e\u90fd\u63d0\u4f9b\u4e86\u5bf9\u591a\u79cd\u7f16\u7a0b\u8303\u5f0f\u7684\u652f\u6301\uff0cPython\u4e5f\u4e0d\u4f8b\u5916\u3002</p>"},{"location":"python/Py-100Days/Day01-15/08.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/#_2","title":"\u7c7b\u548c\u5bf9\u8c61","text":"<p>\u7b80\u5355\u7684\u8bf4\uff0c\u7c7b\u662f\u5bf9\u8c61\u7684\u84dd\u56fe\u548c\u6a21\u677f\uff0c\u800c\u5bf9\u8c61\u662f\u7c7b\u7684\u5b9e\u4f8b\u3002\u8fd9\u4e2a\u89e3\u91ca\u867d\u7136\u6709\u70b9\u50cf\u7528\u6982\u5ff5\u5728\u89e3\u91ca\u6982\u5ff5\uff0c\u4f46\u662f\u4ece\u8fd9\u53e5\u8bdd\u6211\u4eec\u81f3\u5c11\u53ef\u4ee5\u770b\u51fa\uff0c\u7c7b\u662f\u62bd\u8c61\u7684\u6982\u5ff5\uff0c\u800c\u5bf9\u8c61\u662f\u5177\u4f53\u7684\u4e1c\u897f\u3002\u5728\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u4e16\u754c\u4e2d\uff0c\u4e00\u5207\u7686\u4e3a\u5bf9\u8c61\uff0c\u5bf9\u8c61\u90fd\u6709\u5c5e\u6027\u548c\u884c\u4e3a\uff0c\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u662f\u72ec\u4e00\u65e0\u4e8c\u7684\uff0c\u800c\u4e14\u5bf9\u8c61\u4e00\u5b9a\u5c5e\u4e8e\u67d0\u4e2a\u7c7b\uff08\u578b\uff09\u3002\u5f53\u6211\u4eec\u628a\u4e00\u5927\u5806\u62e5\u6709\u5171\u540c\u7279\u5f81\u7684\u5bf9\u8c61\u7684\u9759\u6001\u7279\u5f81\uff08\u5c5e\u6027\uff09\u548c\u52a8\u6001\u7279\u5f81\uff08\u884c\u4e3a\uff09\u90fd\u62bd\u53d6\u51fa\u6765\u540e\uff0c\u5c31\u53ef\u4ee5\u5b9a\u4e49\u51fa\u4e00\u4e2a\u53eb\u505a\u201c\u7c7b\u201d\u7684\u4e1c\u897f\u3002</p> <p></p>"},{"location":"python/Py-100Days/Day01-15/08.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/#_3","title":"\u5b9a\u4e49\u7c7b","text":"<p>\u5728Python\u4e2d\u53ef\u4ee5\u4f7f\u7528<code>class</code>\u5173\u952e\u5b57\u5b9a\u4e49\u7c7b\uff0c\u7136\u540e\u5728\u7c7b\u4e2d\u901a\u8fc7\u4e4b\u524d\u5b66\u4e60\u8fc7\u7684\u51fd\u6570\u6765\u5b9a\u4e49\u65b9\u6cd5\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5c06\u5bf9\u8c61\u7684\u52a8\u6001\u7279\u5f81\u63cf\u8ff0\u51fa\u6765\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>class Student(object):\n\n    # __init__\u662f\u4e00\u4e2a\u7279\u6b8a\u65b9\u6cd5\u7528\u4e8e\u5728\u521b\u5efa\u5bf9\u8c61\u65f6\u8fdb\u884c\u521d\u59cb\u5316\u64cd\u4f5c\n    # \u901a\u8fc7\u8fd9\u4e2a\u65b9\u6cd5\u6211\u4eec\u53ef\u4ee5\u4e3a\u5b66\u751f\u5bf9\u8c61\u7ed1\u5b9aname\u548cage\u4e24\u4e2a\u5c5e\u6027\n    def __init__(self, name, age):\n        self.name = name\n        self.age = age\n\n    def study(self, course_name):\n        print('%s\u6b63\u5728\u5b66\u4e60%s.' % (self.name, course_name))\n\n    # PEP 8\u8981\u6c42\u6807\u8bc6\u7b26\u7684\u540d\u5b57\u7528\u5168\u5c0f\u5199\u591a\u4e2a\u5355\u8bcd\u7528\u4e0b\u5212\u7ebf\u8fde\u63a5\n    # \u4f46\u662f\u90e8\u5206\u7a0b\u5e8f\u5458\u548c\u516c\u53f8\u66f4\u503e\u5411\u4e8e\u4f7f\u7528\u9a7c\u5cf0\u547d\u540d\u6cd5(\u9a7c\u5cf0\u6807\u8bc6)\n    def watch_movie(self):\n        if self.age &lt; 18:\n            print('%s\u53ea\u80fd\u89c2\u770b\u300a\u718a\u51fa\u6ca1\u300b.' % self.name)\n        else:\n            print('%s\u6b63\u5728\u89c2\u770b\u5c9b\u56fd\u7231\u60c5\u5927\u7535\u5f71.' % self.name)\n</code></pre> <p>\u8bf4\u660e\uff1a \u5199\u5728\u7c7b\u4e2d\u7684\u51fd\u6570\uff0c\u6211\u4eec\u901a\u5e38\u79f0\u4e4b\u4e3a\uff08\u5bf9\u8c61\u7684\uff09\u65b9\u6cd5\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u5c31\u662f\u5bf9\u8c61\u53ef\u4ee5\u63a5\u6536\u7684\u6d88\u606f\u3002</p>"},{"location":"python/Py-100Days/Day01-15/08.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/#_4","title":"\u521b\u5efa\u548c\u4f7f\u7528\u5bf9\u8c61","text":"<p>\u5f53\u6211\u4eec\u5b9a\u4e49\u597d\u4e00\u4e2a\u7c7b\u4e4b\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u65b9\u5f0f\u6765\u521b\u5efa\u5bf9\u8c61\u5e76\u7ed9\u5bf9\u8c61\u53d1\u6d88\u606f\u3002</p> <pre><code>def main():\n    # \u521b\u5efa\u5b66\u751f\u5bf9\u8c61\u5e76\u6307\u5b9a\u59d3\u540d\u548c\u5e74\u9f84\n    stu1 = Student('\u9a86\u660a', 38)\n    # \u7ed9\u5bf9\u8c61\u53d1study\u6d88\u606f\n    stu1.study('Python\u7a0b\u5e8f\u8bbe\u8ba1')\n    # \u7ed9\u5bf9\u8c61\u53d1watch_av\u6d88\u606f\n    stu1.watch_movie()\n    stu2 = Student('\u738b\u5927\u9524', 15)\n    stu2.study('\u601d\u60f3\u54c1\u5fb7')\n    stu2.watch_movie()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/08.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/#_5","title":"\u8bbf\u95ee\u53ef\u89c1\u6027\u95ee\u9898","text":"<p>\u5bf9\u4e8e\u4e0a\u9762\u7684\u4ee3\u7801\uff0c\u6709C++\u3001Java\u3001C#\u7b49\u7f16\u7a0b\u7ecf\u9a8c\u7684\u7a0b\u5e8f\u5458\u53ef\u80fd\u4f1a\u95ee\uff0c\u6211\u4eec\u7ed9<code>Student</code>\u5bf9\u8c61\u7ed1\u5b9a\u7684<code>name</code>\u548c<code>age</code>\u5c5e\u6027\u5230\u5e95\u5177\u6709\u600e\u6837\u7684\u8bbf\u95ee\u6743\u9650\uff08\u4e5f\u79f0\u4e3a\u53ef\u89c1\u6027\uff09\u3002\u56e0\u4e3a\u5728\u5f88\u591a\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u8bed\u8a00\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u4f1a\u5c06\u5bf9\u8c61\u7684\u5c5e\u6027\u8bbe\u7f6e\u4e3a\u79c1\u6709\u7684\uff08private\uff09\u6216\u53d7\u4fdd\u62a4\u7684\uff08protected\uff09\uff0c\u7b80\u5355\u7684\u8bf4\u5c31\u662f\u4e0d\u5141\u8bb8\u5916\u754c\u8bbf\u95ee\uff0c\u800c\u5bf9\u8c61\u7684\u65b9\u6cd5\u901a\u5e38\u90fd\u662f\u516c\u5f00\u7684\uff08public\uff09\uff0c\u56e0\u4e3a\u516c\u5f00\u7684\u65b9\u6cd5\u5c31\u662f\u5bf9\u8c61\u80fd\u591f\u63a5\u53d7\u7684\u6d88\u606f\u3002\u5728Python\u4e2d\uff0c\u5c5e\u6027\u548c\u65b9\u6cd5\u7684\u8bbf\u95ee\u6743\u9650\u53ea\u6709\u4e24\u79cd\uff0c\u4e5f\u5c31\u662f\u516c\u5f00\u7684\u548c\u79c1\u6709\u7684\uff0c\u5982\u679c\u5e0c\u671b\u5c5e\u6027\u662f\u79c1\u6709\u7684\uff0c\u5728\u7ed9\u5c5e\u6027\u547d\u540d\u65f6\u53ef\u4ee5\u7528\u4e24\u4e2a\u4e0b\u5212\u7ebf\u4f5c\u4e3a\u5f00\u5934\uff0c\u4e0b\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u9a8c\u8bc1\u8fd9\u4e00\u70b9\u3002</p> <pre><code>class Test:\n\n    def __init__(self, foo):\n        self.__foo = foo\n\n    def __bar(self):\n        print(self.__foo)\n        print('__bar')\n\n\ndef main():\n    test = Test('hello')\n    # AttributeError: 'Test' object has no attribute '__bar'\n    test.__bar()\n    # AttributeError: 'Test' object has no attribute '__foo'\n    print(test.__foo)\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre> <p>\u4f46\u662f\uff0cPython\u5e76\u6ca1\u6709\u4ece\u8bed\u6cd5\u4e0a\u4e25\u683c\u4fdd\u8bc1\u79c1\u6709\u5c5e\u6027\u6216\u65b9\u6cd5\u7684\u79c1\u5bc6\u6027\uff0c\u5b83\u53ea\u662f\u7ed9\u79c1\u6709\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u6362\u4e86\u4e00\u4e2a\u540d\u5b57\u6765\u201c\u59a8\u788d\u201d\u5bf9\u5b83\u4eec\u7684\u8bbf\u95ee\uff0c\u4e8b\u5b9e\u4e0a\u5982\u679c\u4f60\u77e5\u9053\u66f4\u6362\u540d\u5b57\u7684\u89c4\u5219\u4ecd\u7136\u53ef\u4ee5\u8bbf\u95ee\u5230\u5b83\u4eec\uff0c\u4e0b\u9762\u7684\u4ee3\u7801\u5c31\u53ef\u4ee5\u9a8c\u8bc1\u8fd9\u4e00\u70b9\u3002\u4e4b\u6240\u4ee5\u8fd9\u6837\u8bbe\u5b9a\uff0c\u53ef\u4ee5\u7528\u8fd9\u6837\u4e00\u53e5\u540d\u8a00\u52a0\u4ee5\u89e3\u91ca\uff0c\u5c31\u662f\u201cWe are all consenting adults here\u201d\u3002\u56e0\u4e3a\u7edd\u5927\u591a\u6570\u7a0b\u5e8f\u5458\u90fd\u8ba4\u4e3a\u5f00\u653e\u6bd4\u5c01\u95ed\u8981\u597d\uff0c\u800c\u4e14\u7a0b\u5e8f\u5458\u8981\u81ea\u5df1\u4e3a\u81ea\u5df1\u7684\u884c\u4e3a\u8d1f\u8d23\u3002</p> <pre><code>class Test:\n\n    def __init__(self, foo):\n        self.__foo = foo\n\n    def __bar(self):\n        print(self.__foo)\n        print('__bar')\n\n\ndef main():\n    test = Test('hello')\n    test._Test__bar()\n    print(test._Test__foo)\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre> <p>\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u5e76\u4e0d\u5efa\u8bae\u5c06\u5c5e\u6027\u8bbe\u7f6e\u4e3a\u79c1\u6709\u7684\uff0c\u56e0\u4e3a\u8fd9\u4f1a\u5bfc\u81f4\u5b50\u7c7b\u65e0\u6cd5\u8bbf\u95ee\uff08\u540e\u9762\u4f1a\u8bb2\u5230\uff09\u3002\u6240\u4ee5\u5927\u591a\u6570Python\u7a0b\u5e8f\u5458\u4f1a\u9075\u5faa\u4e00\u79cd\u547d\u540d\u60ef\u4f8b\u5c31\u662f\u8ba9\u5c5e\u6027\u540d\u4ee5\u5355\u4e0b\u5212\u7ebf\u5f00\u5934\u6765\u8868\u793a\u5c5e\u6027\u662f\u53d7\u4fdd\u62a4\u7684\uff0c\u672c\u7c7b\u4e4b\u5916\u7684\u4ee3\u7801\u5728\u8bbf\u95ee\u8fd9\u6837\u7684\u5c5e\u6027\u65f6\u5e94\u8be5\u8981\u4fdd\u6301\u614e\u91cd\u3002\u8fd9\u79cd\u505a\u6cd5\u5e76\u4e0d\u662f\u8bed\u6cd5\u4e0a\u7684\u89c4\u5219\uff0c\u5355\u4e0b\u5212\u7ebf\u5f00\u5934\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u5916\u754c\u4ecd\u7136\u662f\u53ef\u4ee5\u8bbf\u95ee\u7684\uff0c\u6240\u4ee5\u66f4\u591a\u7684\u65f6\u5019\u5b83\u662f\u4e00\u79cd\u6697\u793a\u6216\u9690\u55bb\uff0c\u5173\u4e8e\u8fd9\u4e00\u70b9\u53ef\u4ee5\u770b\u770b\u6211\u7684\u300aPython - \u90a3\u4e9b\u5e74\u6211\u4eec\u8e29\u8fc7\u7684\u90a3\u4e9b\u5751\u300b\u6587\u7ae0\u4e2d\u7684\u8bb2\u89e3\u3002</p>"},{"location":"python/Py-100Days/Day01-15/08.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/#_6","title":"\u9762\u5411\u5bf9\u8c61\u7684\u652f\u67f1","text":"<p>\u9762\u5411\u5bf9\u8c61\u6709\u4e09\u5927\u652f\u67f1\uff1a\u5c01\u88c5\u3001\u7ee7\u627f\u548c\u591a\u6001\u3002\u540e\u9762\u4e24\u4e2a\u6982\u5ff5\u5728\u4e0b\u4e00\u4e2a\u7ae0\u8282\u4e2d\u8fdb\u884c\u8be6\u7ec6\u7684\u8bf4\u660e\uff0c\u8fd9\u91cc\u6211\u4eec\u5148\u8bf4\u4e00\u4e0b\u4ec0\u4e48\u662f\u5c01\u88c5\u3002\u6211\u81ea\u5df1\u5bf9\u5c01\u88c5\u7684\u7406\u89e3\u662f\u201c\u9690\u85cf\u4e00\u5207\u53ef\u4ee5\u9690\u85cf\u7684\u5b9e\u73b0\u7ec6\u8282\uff0c\u53ea\u5411\u5916\u754c\u66b4\u9732\uff08\u63d0\u4f9b\uff09\u7b80\u5355\u7684\u7f16\u7a0b\u63a5\u53e3\u201d\u3002\u6211\u4eec\u5728\u7c7b\u4e2d\u5b9a\u4e49\u7684\u65b9\u6cd5\u5176\u5b9e\u5c31\u662f\u628a\u6570\u636e\u548c\u5bf9\u6570\u636e\u7684\u64cd\u4f5c\u5c01\u88c5\u8d77\u6765\u4e86\uff0c\u5728\u6211\u4eec\u521b\u5efa\u4e86\u5bf9\u8c61\u4e4b\u540e\uff0c\u53ea\u9700\u8981\u7ed9\u5bf9\u8c61\u53d1\u9001\u4e00\u4e2a\u6d88\u606f\uff08\u8c03\u7528\u65b9\u6cd5\uff09\u5c31\u53ef\u4ee5\u6267\u884c\u65b9\u6cd5\u4e2d\u7684\u4ee3\u7801\uff0c\u4e5f\u5c31\u662f\u8bf4\u6211\u4eec\u53ea\u9700\u8981\u77e5\u9053\u65b9\u6cd5\u7684\u540d\u5b57\u548c\u4f20\u5165\u7684\u53c2\u6570\uff08\u65b9\u6cd5\u7684\u5916\u90e8\u89c6\u56fe\uff09\uff0c\u800c\u4e0d\u9700\u8981\u77e5\u9053\u65b9\u6cd5\u5185\u90e8\u7684\u5b9e\u73b0\u7ec6\u8282\uff08\u65b9\u6cd5\u7684\u5185\u90e8\u89c6\u56fe\uff09\u3002</p>"},{"location":"python/Py-100Days/Day01-15/08.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/#_7","title":"\u7ec3\u4e60","text":""},{"location":"python/Py-100Days/Day01-15/08.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/#1","title":"\u7ec3\u4e601\uff1a\u5b9a\u4e49\u4e00\u4e2a\u7c7b\u63cf\u8ff0\u6570\u5b57\u65f6\u949f","text":"<pre><code>class Clock(object):\n    \"\"\"\u6570\u5b57\u65f6\u949f\"\"\"\n\n    def __init__(self, hour=0, minute=0, second=0):\n        \"\"\"\u521d\u59cb\u5316\u65b9\u6cd5\n\n        :param hour: \u65f6\n        :param minute: \u5206\n        :param second: \u79d2\n        \"\"\"\n        self._hour = hour\n        self._minute = minute\n        self._second = second\n\n    def run(self):\n        \"\"\"\u8d70\u5b57\"\"\"\n        self._second += 1\n        if self._second == 60:\n            self._second = 0\n            self._minute += 1\n            if self._minute == 60:\n                self._minute = 0\n                self._hour += 1\n                if self._hour == 24:\n                    self._hour = 0\n\n    def show(self):\n        \"\"\"\u663e\u793a\u65f6\u95f4\"\"\"\n        return '%02d:%02d:%02d' % \\\n               (self._hour, self._minute, self._second)\n\n\ndef main():\n    clock = Clock(23, 59, 58)\n    while True:\n        print(clock.show())\n        sleep(1)\n        clock.run()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/08.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/#2","title":"\u7ec3\u4e602\uff1a\u5b9a\u4e49\u4e00\u4e2a\u7c7b\u63cf\u8ff0\u5e73\u9762\u4e0a\u7684\u70b9\u5e76\u63d0\u4f9b\u79fb\u52a8\u70b9\u548c\u8ba1\u7b97\u5230\u53e6\u4e00\u4e2a\u70b9\u8ddd\u79bb\u7684\u65b9\u6cd5\u3002","text":"<pre><code>from math import sqrt\n\n\nclass Point(object):\n\n    def __init__(self, x=0, y=0):\n        \"\"\"\u521d\u59cb\u5316\u65b9\u6cd5\n\n        :param x: \u6a2a\u5750\u6807\n        :param y: \u7eb5\u5750\u6807\n        \"\"\"\n        self.x = x\n        self.y = y\n\n    def move_to(self, x, y):\n        \"\"\"\u79fb\u52a8\u5230\u6307\u5b9a\u4f4d\u7f6e\n\n        :param x: \u65b0\u7684\u6a2a\u5750\u6807\n        \"param y: \u65b0\u7684\u7eb5\u5750\u6807\n        \"\"\"\n        self.x = x\n        self.y = y\n\n    def move_by(self, dx, dy):\n        \"\"\"\u79fb\u52a8\u6307\u5b9a\u7684\u589e\u91cf\n\n        :param dx: \u6a2a\u5750\u6807\u7684\u589e\u91cf\n        \"param dy: \u7eb5\u5750\u6807\u7684\u589e\u91cf\n        \"\"\"\n        self.x += dx\n        self.y += dy\n\n    def distance_to(self, other):\n        \"\"\"\u8ba1\u7b97\u4e0e\u53e6\u4e00\u4e2a\u70b9\u7684\u8ddd\u79bb\n\n        :param other: \u53e6\u4e00\u4e2a\u70b9\n        \"\"\"\n        dx = self.x - other.x\n        dy = self.y - other.y\n        return sqrt(dx ** 2 + dy ** 2)\n\n    def __str__(self):\n        return '(%s, %s)' % (str(self.x), str(self.y))\n\n\ndef main():\n    p1 = Point(3, 5)\n    p2 = Point()\n    print(p1)\n    print(p2)\n    p2.move_by(-1, 2)\n    print(p2)\n    print(p1.distance_to(p2))\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8bf4\u660e\uff1a \u672c\u7ae0\u4e2d\u7684\u63d2\u56fe\u6765\u81ea\u4e8eGrady Booch\u7b49\u8457\u4f5c\u7684\u300a\u9762\u5411\u5bf9\u8c61\u5206\u6790\u4e0e\u8bbe\u8ba1\u300b\u4e00\u4e66\uff0c\u8be5\u4e66\u662f\u8bb2\u89e3\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u7ecf\u5178\u8457\u4f5c\uff0c\u6709\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u8d2d\u4e70\u548c\u9605\u8bfb\u8fd9\u672c\u4e66\u6765\u4e86\u89e3\u66f4\u591a\u7684\u9762\u5411\u5bf9\u8c61\u7684\u76f8\u5173\u77e5\u8bc6\u3002</p>"},{"location":"python/Py-100Days/Day01-15/09.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6/","title":"09.\u9762\u5411\u5bf9\u8c61\u8fdb\u9636","text":""},{"location":"python/Py-100Days/Day01-15/09.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6/#_1","title":"\u9762\u5411\u5bf9\u8c61\u8fdb\u9636","text":"<p>\u5728\u524d\u9762\u7684\u7ae0\u8282\u6211\u4eec\u5df2\u7ecf\u4e86\u89e3\u4e86\u9762\u5411\u5bf9\u8c61\u7684\u5165\u95e8\u77e5\u8bc6\uff0c\u77e5\u9053\u4e86\u5982\u4f55\u5b9a\u4e49\u7c7b\uff0c\u5982\u4f55\u521b\u5efa\u5bf9\u8c61\u4ee5\u53ca\u5982\u4f55\u7ed9\u5bf9\u8c61\u53d1\u6d88\u606f\u3002\u4e3a\u4e86\u80fd\u591f\u66f4\u597d\u7684\u4f7f\u7528\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u601d\u60f3\u8fdb\u884c\u7a0b\u5e8f\u5f00\u53d1\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u5bf9Python\u4e2d\u7684\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u8fdb\u884c\u66f4\u4e3a\u6df1\u5165\u7684\u4e86\u89e3\u3002</p>"},{"location":"python/Py-100Days/Day01-15/09.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6/#property","title":"@property\u88c5\u9970\u5668","text":"<p>\u4e4b\u524d\u6211\u4eec\u8ba8\u8bba\u8fc7Python\u4e2d\u5c5e\u6027\u548c\u65b9\u6cd5\u8bbf\u95ee\u6743\u9650\u7684\u95ee\u9898\uff0c\u867d\u7136\u6211\u4eec\u4e0d\u5efa\u8bae\u5c06\u5c5e\u6027\u8bbe\u7f6e\u4e3a\u79c1\u6709\u7684\uff0c\u4f46\u662f\u5982\u679c\u76f4\u63a5\u5c06\u5c5e\u6027\u66b4\u9732\u7ed9\u5916\u754c\u4e5f\u662f\u6709\u95ee\u9898\u7684\uff0c\u6bd4\u5982\u6211\u4eec\u6ca1\u6709\u529e\u6cd5\u68c0\u67e5\u8d4b\u7ed9\u5c5e\u6027\u7684\u503c\u662f\u5426\u6709\u6548\u3002\u6211\u4eec\u4e4b\u524d\u7684\u5efa\u8bae\u662f\u5c06\u5c5e\u6027\u547d\u540d\u4ee5\u5355\u4e0b\u5212\u7ebf\u5f00\u5934\uff0c\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u6765\u6697\u793a\u5c5e\u6027\u662f\u53d7\u4fdd\u62a4\u7684\uff0c\u4e0d\u5efa\u8bae\u5916\u754c\u76f4\u63a5\u8bbf\u95ee\uff0c\u90a3\u4e48\u5982\u679c\u60f3\u8bbf\u95ee\u5c5e\u6027\u53ef\u4ee5\u901a\u8fc7\u5c5e\u6027\u7684getter\uff08\u8bbf\u95ee\u5668\uff09\u548csetter\uff08\u4fee\u6539\u5668\uff09\u65b9\u6cd5\u8fdb\u884c\u5bf9\u5e94\u7684\u64cd\u4f5c\u3002\u5982\u679c\u8981\u505a\u5230\u8fd9\u70b9\uff0c\u5c31\u53ef\u4ee5\u8003\u8651\u4f7f\u7528@property\u5305\u88c5\u5668\u6765\u5305\u88c5getter\u548csetter\u65b9\u6cd5\uff0c\u4f7f\u5f97\u5bf9\u5c5e\u6027\u7684\u8bbf\u95ee\u65e2\u5b89\u5168\u53c8\u65b9\u4fbf\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>class Person(object):\n\n    def __init__(self, name, age):\n        self._name = name\n        self._age = age\n\n    # \u8bbf\u95ee\u5668 - getter\u65b9\u6cd5\n    @property\n    def name(self):\n        return self._name\n\n    # \u8bbf\u95ee\u5668 - getter\u65b9\u6cd5\n    @property\n    def age(self):\n        return self._age\n\n    # \u4fee\u6539\u5668 - setter\u65b9\u6cd5\n    @age.setter\n    def age(self, age):\n        self._age = age\n\n    def play(self):\n        if self._age &lt;= 16:\n            print('%s\u6b63\u5728\u73a9\u98de\u884c\u68cb.' % self._name)\n        else:\n            print('%s\u6b63\u5728\u73a9\u6597\u5730\u4e3b.' % self._name)\n\n\ndef main():\n    person = Person('\u738b\u5927\u9524', 12)\n    person.play()\n    person.age = 22\n    person.play()\n    # person.name = '\u767d\u5143\u82b3'  # AttributeError: can't set attribute\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/09.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6/#__slots__","title":"__slots__\u9b54\u6cd5","text":"<p>\u6211\u4eec\u8bb2\u5230\u8fd9\u91cc\uff0c\u4e0d\u77e5\u9053\u5927\u5bb6\u662f\u5426\u5df2\u7ecf\u610f\u8bc6\u5230\uff0cPython\u662f\u4e00\u95e8\u52a8\u6001\u8bed\u8a00\u3002\u901a\u5e38\uff0c\u52a8\u6001\u8bed\u8a00\u5141\u8bb8\u6211\u4eec\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7ed9\u5bf9\u8c61\u7ed1\u5b9a\u65b0\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u5bf9\u5df2\u7ecf\u7ed1\u5b9a\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u8fdb\u884c\u89e3\u7ed1\u5b9a\u3002\u4f46\u662f\u5982\u679c\u6211\u4eec\u9700\u8981\u9650\u5b9a\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u5bf9\u8c61\u53ea\u80fd\u7ed1\u5b9a\u67d0\u4e9b\u5c5e\u6027\uff0c\u53ef\u4ee5\u901a\u8fc7\u5728\u7c7b\u4e2d\u5b9a\u4e49__slots__\u53d8\u91cf\u6765\u8fdb\u884c\u9650\u5b9a\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f__slots__\u7684\u9650\u5b9a\u53ea\u5bf9\u5f53\u524d\u7c7b\u7684\u5bf9\u8c61\u751f\u6548\uff0c\u5bf9\u5b50\u7c7b\u5e76\u4e0d\u8d77\u4efb\u4f55\u4f5c\u7528\u3002</p> <pre><code>class Person(object):\n\n    # \u9650\u5b9aPerson\u5bf9\u8c61\u53ea\u80fd\u7ed1\u5b9a_name, _age\u548c_gender\u5c5e\u6027\n    __slots__ = ('_name', '_age', '_gender')\n\n    def __init__(self, name, age):\n        self._name = name\n        self._age = age\n\n    @property\n    def name(self):\n        return self._name\n\n    @property\n    def age(self):\n        return self._age\n\n    @age.setter\n    def age(self, age):\n        self._age = age\n\n    def play(self):\n        if self._age &lt;= 16:\n            print('%s\u6b63\u5728\u73a9\u98de\u884c\u68cb.' % self._name)\n        else:\n            print('%s\u6b63\u5728\u73a9\u6597\u5730\u4e3b.' % self._name)\n\n\ndef main():\n    person = Person('\u738b\u5927\u9524', 22)\n    person.play()\n    person._gender = '\u7537'\n    # AttributeError: 'Person' object has no attribute '_is_gay'\n    # person._is_gay = True\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/09.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6/#_2","title":"\u9759\u6001\u65b9\u6cd5\u548c\u7c7b\u65b9\u6cd5","text":"<p>\u4e4b\u524d\uff0c\u6211\u4eec\u5728\u7c7b\u4e2d\u5b9a\u4e49\u7684\u65b9\u6cd5\u90fd\u662f\u5bf9\u8c61\u65b9\u6cd5\uff0c\u4e5f\u5c31\u662f\u8bf4\u8fd9\u4e9b\u65b9\u6cd5\u90fd\u662f\u53d1\u9001\u7ed9\u5bf9\u8c61\u7684\u6d88\u606f\u3002\u5b9e\u9645\u4e0a\uff0c\u6211\u4eec\u5199\u5728\u7c7b\u4e2d\u7684\u65b9\u6cd5\u5e76\u4e0d\u9700\u8981\u90fd\u662f\u5bf9\u8c61\u65b9\u6cd5\uff0c\u4f8b\u5982\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u201c\u4e09\u89d2\u5f62\u201d\u7c7b\uff0c\u901a\u8fc7\u4f20\u5165\u4e09\u6761\u8fb9\u957f\u6765\u6784\u9020\u4e09\u89d2\u5f62\uff0c\u5e76\u63d0\u4f9b\u8ba1\u7b97\u5468\u957f\u548c\u9762\u79ef\u7684\u65b9\u6cd5\uff0c\u4f46\u662f\u4f20\u5165\u7684\u4e09\u6761\u8fb9\u957f\u672a\u5fc5\u80fd\u6784\u9020\u51fa\u4e09\u89d2\u5f62\u5bf9\u8c61\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5148\u5199\u4e00\u4e2a\u65b9\u6cd5\u6765\u9a8c\u8bc1\u4e09\u6761\u8fb9\u957f\u662f\u5426\u53ef\u4ee5\u6784\u6210\u4e09\u89d2\u5f62\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u5f88\u663e\u7136\u5c31\u4e0d\u662f\u5bf9\u8c61\u65b9\u6cd5\uff0c\u56e0\u4e3a\u5728\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u65f6\u4e09\u89d2\u5f62\u5bf9\u8c61\u5c1a\u672a\u521b\u5efa\u51fa\u6765\uff08\u56e0\u4e3a\u90fd\u4e0d\u77e5\u9053\u4e09\u6761\u8fb9\u80fd\u4e0d\u80fd\u6784\u6210\u4e09\u89d2\u5f62\uff09\uff0c\u6240\u4ee5\u8fd9\u4e2a\u65b9\u6cd5\u662f\u5c5e\u4e8e\u4e09\u89d2\u5f62\u7c7b\u800c\u5e76\u4e0d\u5c5e\u4e8e\u4e09\u89d2\u5f62\u5bf9\u8c61\u7684\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u9759\u6001\u65b9\u6cd5\u6765\u89e3\u51b3\u8fd9\u7c7b\u95ee\u9898\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>from math import sqrt\n\n\nclass Triangle(object):\n\n    def __init__(self, a, b, c):\n        self._a = a\n        self._b = b\n        self._c = c\n\n    @staticmethod\n    def is_valid(a, b, c):\n        return a + b &gt; c and b + c &gt; a and a + c &gt; b\n\n    def perimeter(self):\n        return self._a + self._b + self._c\n\n    def area(self):\n        half = self.perimeter() / 2\n        return sqrt(half * (half - self._a) *\n                    (half - self._b) * (half - self._c))\n\n\ndef main():\n    a, b, c = 3, 4, 5\n    # \u9759\u6001\u65b9\u6cd5\u548c\u7c7b\u65b9\u6cd5\u90fd\u662f\u901a\u8fc7\u7ed9\u7c7b\u53d1\u6d88\u606f\u6765\u8c03\u7528\u7684\n    if Triangle.is_valid(a, b, c):\n        t = Triangle(a, b, c)\n        print(t.perimeter())\n        # \u4e5f\u53ef\u4ee5\u901a\u8fc7\u7ed9\u7c7b\u53d1\u6d88\u606f\u6765\u8c03\u7528\u5bf9\u8c61\u65b9\u6cd5\u4f46\u662f\u8981\u4f20\u5165\u63a5\u6536\u6d88\u606f\u7684\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\n        # print(Triangle.perimeter(t))\n        print(t.area())\n        # print(Triangle.area(t))\n    else:\n        print('\u65e0\u6cd5\u6784\u6210\u4e09\u89d2\u5f62.')\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u548c\u9759\u6001\u65b9\u6cd5\u6bd4\u8f83\u7c7b\u4f3c\uff0cPython\u8fd8\u53ef\u4ee5\u5728\u7c7b\u4e2d\u5b9a\u4e49\u7c7b\u65b9\u6cd5\uff0c\u7c7b\u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u7ea6\u5b9a\u540d\u4e3acls\uff0c\u5b83\u4ee3\u8868\u7684\u662f\u5f53\u524d\u7c7b\u76f8\u5173\u7684\u4fe1\u606f\u7684\u5bf9\u8c61\uff08\u7c7b\u672c\u8eab\u4e5f\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u6709\u7684\u5730\u65b9\u4e5f\u79f0\u4e4b\u4e3a\u7c7b\u7684\u5143\u6570\u636e\u5bf9\u8c61\uff09\uff0c\u901a\u8fc7\u8fd9\u4e2a\u53c2\u6570\u6211\u4eec\u53ef\u4ee5\u83b7\u53d6\u548c\u7c7b\u76f8\u5173\u7684\u4fe1\u606f\u5e76\u4e14\u53ef\u4ee5\u521b\u5efa\u51fa\u7c7b\u7684\u5bf9\u8c61\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>from time import time, localtime, sleep\n\n\nclass Clock(object):\n    \"\"\"\u6570\u5b57\u65f6\u949f\"\"\"\n\n    def __init__(self, hour=0, minute=0, second=0):\n        self._hour = hour\n        self._minute = minute\n        self._second = second\n\n    @classmethod\n    def now(cls):\n        ctime = localtime(time())\n        return cls(ctime.tm_hour, ctime.tm_min, ctime.tm_sec)\n\n    def run(self):\n        \"\"\"\u8d70\u5b57\"\"\"\n        self._second += 1\n        if self._second == 60:\n            self._second = 0\n            self._minute += 1\n            if self._minute == 60:\n                self._minute = 0\n                self._hour += 1\n                if self._hour == 24:\n                    self._hour = 0\n\n    def show(self):\n        \"\"\"\u663e\u793a\u65f6\u95f4\"\"\"\n        return '%02d:%02d:%02d' % \\\n               (self._hour, self._minute, self._second)\n\n\ndef main():\n    # \u901a\u8fc7\u7c7b\u65b9\u6cd5\u521b\u5efa\u5bf9\u8c61\u5e76\u83b7\u53d6\u7cfb\u7edf\u65f6\u95f4\n    clock = Clock.now()\n    while True:\n        print(clock.show())\n        sleep(1)\n        clock.run()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/09.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6/#_3","title":"\u7c7b\u4e4b\u95f4\u7684\u5173\u7cfb","text":"<p>\u7b80\u5355\u7684\u8bf4\uff0c\u7c7b\u548c\u7c7b\u4e4b\u95f4\u7684\u5173\u7cfb\u6709\u4e09\u79cd\uff1ais-a\u3001has-a\u548cuse-a\u5173\u7cfb\u3002</p> <ul> <li>is-a\u5173\u7cfb\u4e5f\u53eb\u7ee7\u627f\u6216\u6cdb\u5316\uff0c\u6bd4\u5982\u5b66\u751f\u548c\u4eba\u7684\u5173\u7cfb\u3001\u624b\u673a\u548c\u7535\u5b50\u4ea7\u54c1\u7684\u5173\u7cfb\u90fd\u5c5e\u4e8e\u7ee7\u627f\u5173\u7cfb\u3002</li> <li>has-a\u5173\u7cfb\u901a\u5e38\u79f0\u4e4b\u4e3a\u5173\u8054\uff0c\u6bd4\u5982\u90e8\u95e8\u548c\u5458\u5de5\u7684\u5173\u7cfb\uff0c\u6c7d\u8f66\u548c\u5f15\u64ce\u7684\u5173\u7cfb\u90fd\u5c5e\u4e8e\u5173\u8054\u5173\u7cfb\uff1b\u5173\u8054\u5173\u7cfb\u5982\u679c\u662f\u6574\u4f53\u548c\u90e8\u5206\u7684\u5173\u8054\uff0c\u90a3\u4e48\u6211\u4eec\u79f0\u4e4b\u4e3a\u805a\u5408\u5173\u7cfb\uff1b\u5982\u679c\u6574\u4f53\u8fdb\u4e00\u6b65\u8d1f\u8d23\u4e86\u90e8\u5206\u7684\u751f\u547d\u5468\u671f\uff08\u6574\u4f53\u548c\u90e8\u5206\u662f\u4e0d\u53ef\u5206\u5272\u7684\uff0c\u540c\u65f6\u540c\u5728\u4e5f\u540c\u65f6\u6d88\u4ea1\uff09\uff0c\u90a3\u4e48\u8fd9\u79cd\u5c31\u662f\u6700\u5f3a\u7684\u5173\u8054\u5173\u7cfb\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u5408\u6210\u5173\u7cfb\u3002</li> <li>use-a\u5173\u7cfb\u901a\u5e38\u79f0\u4e4b\u4e3a\u4f9d\u8d56\uff0c\u6bd4\u5982\u53f8\u673a\u6709\u4e00\u4e2a\u9a7e\u9a76\u7684\u884c\u4e3a\uff08\u65b9\u6cd5\uff09\uff0c\u5176\u4e2d\uff08\u7684\u53c2\u6570\uff09\u4f7f\u7528\u5230\u4e86\u6c7d\u8f66\uff0c\u90a3\u4e48\u53f8\u673a\u548c\u6c7d\u8f66\u7684\u5173\u7cfb\u5c31\u662f\u4f9d\u8d56\u5173\u7cfb\u3002</li> </ul> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e00\u79cd\u53eb\u505aUML\uff08\u7edf\u4e00\u5efa\u6a21\u8bed\u8a00\uff09\u7684\u4e1c\u897f\u6765\u8fdb\u884c\u9762\u5411\u5bf9\u8c61\u5efa\u6a21\uff0c\u5176\u4e2d\u4e00\u9879\u91cd\u8981\u7684\u5de5\u4f5c\u5c31\u662f\u628a\u7c7b\u548c\u7c7b\u4e4b\u95f4\u7684\u5173\u7cfb\u7528\u6807\u51c6\u5316\u7684\u56fe\u5f62\u7b26\u53f7\u63cf\u8ff0\u51fa\u6765\u3002\u5173\u4e8eUML\u6211\u4eec\u5728\u8fd9\u91cc\u4e0d\u505a\u8be6\u7ec6\u7684\u4ecb\u7ecd\uff0c\u6709\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u81ea\u884c\u9605\u8bfb\u300aUML\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u57fa\u7840\u300b\u4e00\u4e66\u3002</p> <p></p> <p></p> <p>\u5229\u7528\u7c7b\u4e4b\u95f4\u7684\u8fd9\u4e9b\u5173\u7cfb\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u5df2\u6709\u7c7b\u7684\u57fa\u7840\u4e0a\u6765\u5b8c\u6210\u67d0\u4e9b\u64cd\u4f5c\uff0c\u4e5f\u53ef\u4ee5\u5728\u5df2\u6709\u7c7b\u7684\u57fa\u7840\u4e0a\u521b\u5efa\u65b0\u7684\u7c7b\uff0c\u8fd9\u4e9b\u90fd\u662f\u5b9e\u73b0\u4ee3\u7801\u590d\u7528\u7684\u91cd\u8981\u624b\u6bb5\u3002\u590d\u7528\u73b0\u6709\u7684\u4ee3\u7801\u4e0d\u4ec5\u53ef\u4ee5\u51cf\u5c11\u5f00\u53d1\u7684\u5de5\u4f5c\u91cf\uff0c\u4e5f\u6709\u5229\u4e8e\u4ee3\u7801\u7684\u7ba1\u7406\u548c\u7ef4\u62a4\uff0c\u8fd9\u662f\u6211\u4eec\u5728\u65e5\u5e38\u5de5\u4f5c\u4e2d\u90fd\u4f1a\u4f7f\u7528\u5230\u7684\u6280\u672f\u624b\u6bb5\u3002</p>"},{"location":"python/Py-100Days/Day01-15/09.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6/#_4","title":"\u7ee7\u627f\u548c\u591a\u6001","text":"<p>\u521a\u624d\u6211\u4eec\u63d0\u5230\u4e86\uff0c\u53ef\u4ee5\u5728\u5df2\u6709\u7c7b\u7684\u57fa\u7840\u4e0a\u521b\u5efa\u65b0\u7c7b\uff0c\u8fd9\u5176\u4e2d\u7684\u4e00\u79cd\u505a\u6cd5\u5c31\u662f\u8ba9\u4e00\u4e2a\u7c7b\u4ece\u53e6\u4e00\u4e2a\u7c7b\u90a3\u91cc\u5c06\u5c5e\u6027\u548c\u65b9\u6cd5\u76f4\u63a5\u7ee7\u627f\u4e0b\u6765\uff0c\u4ece\u800c\u51cf\u5c11\u91cd\u590d\u4ee3\u7801\u7684\u7f16\u5199\u3002\u63d0\u4f9b\u7ee7\u627f\u4fe1\u606f\u7684\u6211\u4eec\u79f0\u4e4b\u4e3a\u7236\u7c7b\uff0c\u4e5f\u53eb\u8d85\u7c7b\u6216\u57fa\u7c7b\uff1b\u5f97\u5230\u7ee7\u627f\u4fe1\u606f\u7684\u6211\u4eec\u79f0\u4e4b\u4e3a\u5b50\u7c7b\uff0c\u4e5f\u53eb\u6d3e\u751f\u7c7b\u6216\u884d\u751f\u7c7b\u3002\u5b50\u7c7b\u9664\u4e86\u7ee7\u627f\u7236\u7c7b\u63d0\u4f9b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u8fd8\u53ef\u4ee5\u5b9a\u4e49\u81ea\u5df1\u7279\u6709\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u6240\u4ee5\u5b50\u7c7b\u6bd4\u7236\u7c7b\u62e5\u6709\u7684\u66f4\u591a\u7684\u80fd\u529b\uff0c\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u7ecf\u5e38\u4f1a\u7528\u5b50\u7c7b\u5bf9\u8c61\u53bb\u66ff\u6362\u6389\u4e00\u4e2a\u7236\u7c7b\u5bf9\u8c61\uff0c\u8fd9\u662f\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u4e2d\u4e00\u4e2a\u5e38\u89c1\u7684\u884c\u4e3a\uff0c\u5bf9\u5e94\u7684\u539f\u5219\u79f0\u4e4b\u4e3a\u91cc\u6c0f\u66ff\u6362\u539f\u5219\u3002\u4e0b\u9762\u6211\u4eec\u5148\u770b\u4e00\u4e2a\u7ee7\u627f\u7684\u4f8b\u5b50\u3002</p> <pre><code>class Person(object):\n    \"\"\"\u4eba\"\"\"\n\n    def __init__(self, name, age):\n        self._name = name\n        self._age = age\n\n    @property\n    def name(self):\n        return self._name\n\n    @property\n    def age(self):\n        return self._age\n\n    @age.setter\n    def age(self, age):\n        self._age = age\n\n    def play(self):\n        print('%s\u6b63\u5728\u6109\u5feb\u7684\u73a9\u800d.' % self._name)\n\n    def watch_av(self):\n        if self._age &gt;= 18:\n            print('%s\u6b63\u5728\u89c2\u770b\u7231\u60c5\u52a8\u4f5c\u7247.' % self._name)\n        else:\n            print('%s\u53ea\u80fd\u89c2\u770b\u300a\u718a\u51fa\u6ca1\u300b.' % self._name)\n\n\nclass Student(Person):\n    \"\"\"\u5b66\u751f\"\"\"\n\n    def __init__(self, name, age, grade):\n        super().__init__(name, age)\n        self._grade = grade\n\n    @property\n    def grade(self):\n        return self._grade\n\n    @grade.setter\n    def grade(self, grade):\n        self._grade = grade\n\n    def study(self, course):\n        print('%s\u7684%s\u6b63\u5728\u5b66\u4e60%s.' % (self._grade, self._name, course))\n\n\nclass Teacher(Person):\n    \"\"\"\u8001\u5e08\"\"\"\n\n    def __init__(self, name, age, title):\n        super().__init__(name, age)\n        self._title = title\n\n    @property\n    def title(self):\n        return self._title\n\n    @title.setter\n    def title(self, title):\n        self._title = title\n\n    def teach(self, course):\n        print('%s%s\u6b63\u5728\u8bb2%s.' % (self._name, self._title, course))\n\n\ndef main():\n    stu = Student('\u738b\u5927\u9524', 15, '\u521d\u4e09')\n    stu.study('\u6570\u5b66')\n    stu.watch_av()\n    t = Teacher('\u9a86\u660a', 38, '\u8001\u53eb\u517d')\n    t.teach('Python\u7a0b\u5e8f\u8bbe\u8ba1')\n    t.watch_av()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u5b50\u7c7b\u5728\u7ee7\u627f\u4e86\u7236\u7c7b\u7684\u65b9\u6cd5\u540e\uff0c\u53ef\u4ee5\u5bf9\u7236\u7c7b\u5df2\u6709\u7684\u65b9\u6cd5\u7ed9\u51fa\u65b0\u7684\u5b9e\u73b0\u7248\u672c\uff0c\u8fd9\u4e2a\u52a8\u4f5c\u79f0\u4e4b\u4e3a\u65b9\u6cd5\u91cd\u5199\uff08override\uff09\u3002\u901a\u8fc7\u65b9\u6cd5\u91cd\u5199\u6211\u4eec\u53ef\u4ee5\u8ba9\u7236\u7c7b\u7684\u540c\u4e00\u4e2a\u884c\u4e3a\u5728\u5b50\u7c7b\u4e2d\u62e5\u6709\u4e0d\u540c\u7684\u5b9e\u73b0\u7248\u672c\uff0c\u5f53\u6211\u4eec\u8c03\u7528\u8fd9\u4e2a\u7ecf\u8fc7\u5b50\u7c7b\u91cd\u5199\u7684\u65b9\u6cd5\u65f6\uff0c\u4e0d\u540c\u7684\u5b50\u7c7b\u5bf9\u8c61\u4f1a\u8868\u73b0\u51fa\u4e0d\u540c\u7684\u884c\u4e3a\uff0c\u8fd9\u4e2a\u5c31\u662f\u591a\u6001\uff08poly-morphism\uff09\u3002</p> <pre><code>from abc import ABCMeta, abstractmethod\n\n\nclass Pet(object, metaclass=ABCMeta):\n    \"\"\"\u5ba0\u7269\"\"\"\n\n    def __init__(self, nickname):\n        self._nickname = nickname\n\n    @abstractmethod\n    def make_voice(self):\n        \"\"\"\u53d1\u51fa\u58f0\u97f3\"\"\"\n        pass\n\n\nclass Dog(Pet):\n    \"\"\"\u72d7\"\"\"\n\n    def make_voice(self):\n        print('%s: \u6c6a\u6c6a\u6c6a...' % self._nickname)\n\n\nclass Cat(Pet):\n    \"\"\"\u732b\"\"\"\n\n    def make_voice(self):\n        print('%s: \u55b5...\u55b5...' % self._nickname)\n\n\ndef main():\n    pets = [Dog('\u65fa\u8d22'), Cat('\u51ef\u8482'), Dog('\u5927\u9ec4')]\n    for pet in pets:\n        pet.make_voice()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u5c06<code>Pet</code>\u7c7b\u5904\u7406\u6210\u4e86\u4e00\u4e2a\u62bd\u8c61\u7c7b\uff0c\u6240\u8c13\u62bd\u8c61\u7c7b\u5c31\u662f\u4e0d\u80fd\u591f\u521b\u5efa\u5bf9\u8c61\u7684\u7c7b\uff0c\u8fd9\u79cd\u7c7b\u7684\u5b58\u5728\u5c31\u662f\u4e13\u95e8\u4e3a\u4e86\u8ba9\u5176\u4ed6\u7c7b\u53bb\u7ee7\u627f\u5b83\u3002Python\u4ece\u8bed\u6cd5\u5c42\u9762\u5e76\u6ca1\u6709\u50cfJava\u6216C#\u90a3\u6837\u63d0\u4f9b\u5bf9\u62bd\u8c61\u7c7b\u7684\u652f\u6301\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7<code>abc</code>\u6a21\u5757\u7684<code>ABCMeta</code>\u5143\u7c7b\u548c<code>abstractmethod</code>\u5305\u88c5\u5668\u6765\u8fbe\u5230\u62bd\u8c61\u7c7b\u7684\u6548\u679c\uff0c\u5982\u679c\u4e00\u4e2a\u7c7b\u4e2d\u5b58\u5728\u62bd\u8c61\u65b9\u6cd5\u90a3\u4e48\u8fd9\u4e2a\u7c7b\u5c31\u4e0d\u80fd\u591f\u5b9e\u4f8b\u5316\uff08\u521b\u5efa\u5bf9\u8c61\uff09\u3002\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c<code>Dog</code>\u548c<code>Cat</code>\u4e24\u4e2a\u5b50\u7c7b\u5206\u522b\u5bf9<code>Pet</code>\u7c7b\u4e2d\u7684<code>make_voice</code>\u62bd\u8c61\u65b9\u6cd5\u8fdb\u884c\u4e86\u91cd\u5199\u5e76\u7ed9\u51fa\u4e86\u4e0d\u540c\u7684\u5b9e\u73b0\u7248\u672c\uff0c\u5f53\u6211\u4eec\u5728<code>main</code>\u51fd\u6570\u4e2d\u8c03\u7528\u8be5\u65b9\u6cd5\u65f6\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u5c31\u8868\u73b0\u51fa\u4e86\u591a\u6001\u884c\u4e3a\uff08\u540c\u6837\u7684\u65b9\u6cd5\u505a\u4e86\u4e0d\u540c\u7684\u4e8b\u60c5\uff09\u3002</p>"},{"location":"python/Py-100Days/Day01-15/09.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6/#_5","title":"\u7efc\u5408\u6848\u4f8b","text":""},{"location":"python/Py-100Days/Day01-15/09.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6/#1","title":"\u6848\u4f8b1\uff1a\u5965\u7279\u66fc\u6253\u5c0f\u602a\u517d","text":"<pre><code>from abc import ABCMeta, abstractmethod\nfrom random import randint, randrange\n\n\nclass Fighter(object, metaclass=ABCMeta):\n    \"\"\"\u6218\u6597\u8005\"\"\"\n\n    # \u901a\u8fc7__slots__\u9b54\u6cd5\u9650\u5b9a\u5bf9\u8c61\u53ef\u4ee5\u7ed1\u5b9a\u7684\u6210\u5458\u53d8\u91cf\n    __slots__ = ('_name', '_hp')\n\n    def __init__(self, name, hp):\n        \"\"\"\u521d\u59cb\u5316\u65b9\u6cd5\n\n        :param name: \u540d\u5b57\n        :param hp: \u751f\u547d\u503c\n        \"\"\"\n        self._name = name\n        self._hp = hp\n\n    @property\n    def name(self):\n        return self._name\n\n    @property\n    def hp(self):\n        return self._hp\n\n    @hp.setter\n    def hp(self, hp):\n        self._hp = hp if hp &gt;= 0 else 0\n\n    @property\n    def alive(self):\n        return self._hp &gt; 0\n\n    @abstractmethod\n    def attack(self, other):\n        \"\"\"\u653b\u51fb\n\n        :param other: \u88ab\u653b\u51fb\u7684\u5bf9\u8c61\n        \"\"\"\n        pass\n\n\nclass Ultraman(Fighter):\n    \"\"\"\u5965\u7279\u66fc\"\"\"\n\n    __slots__ = ('_name', '_hp', '_mp')\n\n    def __init__(self, name, hp, mp):\n        \"\"\"\u521d\u59cb\u5316\u65b9\u6cd5\n\n        :param name: \u540d\u5b57\n        :param hp: \u751f\u547d\u503c\n        :param mp: \u9b54\u6cd5\u503c\n        \"\"\"\n        super().__init__(name, hp)\n        self._mp = mp\n\n    def attack(self, other):\n        other.hp -= randint(15, 25)\n\n    def huge_attack(self, other):\n        \"\"\"\u7a76\u6781\u5fc5\u6740\u6280(\u6253\u6389\u5bf9\u65b9\u81f3\u5c1150\u70b9\u6216\u56db\u5206\u4e4b\u4e09\u7684\u8840)\n\n        :param other: \u88ab\u653b\u51fb\u7684\u5bf9\u8c61\n\n        :return: \u4f7f\u7528\u6210\u529f\u8fd4\u56deTrue\u5426\u5219\u8fd4\u56deFalse\n        \"\"\"\n        if self._mp &gt;= 50:\n            self._mp -= 50\n            injury = other.hp * 3 // 4\n            injury = injury if injury &gt;= 50 else 50\n            other.hp -= injury\n            return True\n        else:\n            self.attack(other)\n            return False\n\n    def magic_attack(self, others):\n        \"\"\"\u9b54\u6cd5\u653b\u51fb\n\n        :param others: \u88ab\u653b\u51fb\u7684\u7fa4\u4f53\n\n        :return: \u4f7f\u7528\u9b54\u6cd5\u6210\u529f\u8fd4\u56deTrue\u5426\u5219\u8fd4\u56deFalse\n        \"\"\"\n        if self._mp &gt;= 20:\n            self._mp -= 20\n            for temp in others:\n                if temp.alive:\n                    temp.hp -= randint(10, 15)\n            return True\n        else:\n            return False\n\n    def resume(self):\n        \"\"\"\u6062\u590d\u9b54\u6cd5\u503c\"\"\"\n        incr_point = randint(1, 10)\n        self._mp += incr_point\n        return incr_point\n\n    def __str__(self):\n        return '~~~%s\u5965\u7279\u66fc~~~\\n' % self._name + \\\n            '\u751f\u547d\u503c: %d\\n' % self._hp + \\\n            '\u9b54\u6cd5\u503c: %d\\n' % self._mp\n\n\nclass Monster(Fighter):\n    \"\"\"\u5c0f\u602a\u517d\"\"\"\n\n    __slots__ = ('_name', '_hp')\n\n    def attack(self, other):\n        other.hp -= randint(10, 20)\n\n    def __str__(self):\n        return '~~~%s\u5c0f\u602a\u517d~~~\\n' % self._name + \\\n            '\u751f\u547d\u503c: %d\\n' % self._hp\n\n\ndef is_any_alive(monsters):\n    \"\"\"\u5224\u65ad\u6709\u6ca1\u6709\u5c0f\u602a\u517d\u662f\u6d3b\u7740\u7684\"\"\"\n    for monster in monsters:\n        if monster.alive &gt; 0:\n            return True\n    return False\n\n\ndef select_alive_one(monsters):\n    \"\"\"\u9009\u4e2d\u4e00\u53ea\u6d3b\u7740\u7684\u5c0f\u602a\u517d\"\"\"\n    monsters_len = len(monsters)\n    while True:\n        index = randrange(monsters_len)\n        monster = monsters[index]\n        if monster.alive &gt; 0:\n            return monster\n\n\ndef display_info(ultraman, monsters):\n    \"\"\"\u663e\u793a\u5965\u7279\u66fc\u548c\u5c0f\u602a\u517d\u7684\u4fe1\u606f\"\"\"\n    print(ultraman)\n    for monster in monsters:\n        print(monster, end='')\n\n\ndef main():\n    u = Ultraman('\u9a86\u660a', 1000, 120)\n    m1 = Monster('\u72c4\u4ec1\u6770', 250)\n    m2 = Monster('\u767d\u5143\u82b3', 500)\n    m3 = Monster('\u738b\u5927\u9524', 750)\n    ms = [m1, m2, m3]\n    fight_round = 1\n    while u.alive and is_any_alive(ms):\n        print('========\u7b2c%02d\u56de\u5408========' % fight_round)\n        m = select_alive_one(ms)  # \u9009\u4e2d\u4e00\u53ea\u5c0f\u602a\u517d\n        skill = randint(1, 10)   # \u901a\u8fc7\u968f\u673a\u6570\u9009\u62e9\u4f7f\u7528\u54ea\u79cd\u6280\u80fd\n        if skill &lt;= 6:  # 60%\u7684\u6982\u7387\u4f7f\u7528\u666e\u901a\u653b\u51fb\n            print('%s\u4f7f\u7528\u666e\u901a\u653b\u51fb\u6253\u4e86%s.' % (u.name, m.name))\n            u.attack(m)\n            print('%s\u7684\u9b54\u6cd5\u503c\u6062\u590d\u4e86%d\u70b9.' % (u.name, u.resume()))\n        elif skill &lt;= 9:  # 30%\u7684\u6982\u7387\u4f7f\u7528\u9b54\u6cd5\u653b\u51fb(\u53ef\u80fd\u56e0\u9b54\u6cd5\u503c\u4e0d\u8db3\u800c\u5931\u8d25)\n            if u.magic_attack(ms):\n                print('%s\u4f7f\u7528\u4e86\u9b54\u6cd5\u653b\u51fb.' % u.name)\n            else:\n                print('%s\u4f7f\u7528\u9b54\u6cd5\u5931\u8d25.' % u.name)\n        else:  # 10%\u7684\u6982\u7387\u4f7f\u7528\u7a76\u6781\u5fc5\u6740\u6280(\u5982\u679c\u9b54\u6cd5\u503c\u4e0d\u8db3\u5219\u4f7f\u7528\u666e\u901a\u653b\u51fb)\n            if u.huge_attack(m):\n                print('%s\u4f7f\u7528\u7a76\u6781\u5fc5\u6740\u6280\u8650\u4e86%s.' % (u.name, m.name))\n            else:\n                print('%s\u4f7f\u7528\u666e\u901a\u653b\u51fb\u6253\u4e86%s.' % (u.name, m.name))\n                print('%s\u7684\u9b54\u6cd5\u503c\u6062\u590d\u4e86%d\u70b9.' % (u.name, u.resume()))\n        if m.alive &gt; 0:  # \u5982\u679c\u9009\u4e2d\u7684\u5c0f\u602a\u517d\u6ca1\u6709\u6b7b\u5c31\u56de\u51fb\u5965\u7279\u66fc\n            print('%s\u56de\u51fb\u4e86%s.' % (m.name, u.name))\n            m.attack(u)\n        display_info(u, ms)  # \u6bcf\u4e2a\u56de\u5408\u7ed3\u675f\u540e\u663e\u793a\u5965\u7279\u66fc\u548c\u5c0f\u602a\u517d\u7684\u4fe1\u606f\n        fight_round += 1\n    print('\\n========\u6218\u6597\u7ed3\u675f!========\\n')\n    if u.alive &gt; 0:\n        print('%s\u5965\u7279\u66fc\u80dc\u5229!' % u.name)\n    else:\n        print('\u5c0f\u602a\u517d\u80dc\u5229!')\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/09.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6/#2","title":"\u6848\u4f8b2\uff1a\u6251\u514b\u6e38\u620f","text":"<pre><code>import random\n\n\nclass Card(object):\n    \"\"\"\u4e00\u5f20\u724c\"\"\"\n\n    def __init__(self, suite, face):\n        self._suite = suite\n        self._face = face\n\n    @property\n    def face(self):\n        return self._face\n\n    @property\n    def suite(self):\n        return self._suite\n\n    def __str__(self):\n        if self._face == 1:\n            face_str = 'A'\n        elif self._face == 11:\n            face_str = 'J'\n        elif self._face == 12:\n            face_str = 'Q'\n        elif self._face == 13:\n            face_str = 'K'\n        else:\n            face_str = str(self._face)\n        return '%s%s' % (self._suite, face_str)\n\n    def __repr__(self):\n        return self.__str__()\n\n\nclass Poker(object):\n    \"\"\"\u4e00\u526f\u724c\"\"\"\n\n    def __init__(self):\n        self._cards = [Card(suite, face) \n                       for suite in '\u2660\u2665\u2663\u2666'\n                       for face in range(1, 14)]\n        self._current = 0\n\n    @property\n    def cards(self):\n        return self._cards\n\n    def shuffle(self):\n        \"\"\"\u6d17\u724c(\u968f\u673a\u4e71\u5e8f)\"\"\"\n        self._current = 0\n        random.shuffle(self._cards)\n\n    @property\n    def next(self):\n        \"\"\"\u53d1\u724c\"\"\"\n        card = self._cards[self._current]\n        self._current += 1\n        return card\n\n    @property\n    def has_next(self):\n        \"\"\"\u8fd8\u6709\u6ca1\u6709\u724c\"\"\"\n        return self._current &lt; len(self._cards)\n\n\nclass Player(object):\n    \"\"\"\u73a9\u5bb6\"\"\"\n\n    def __init__(self, name):\n        self._name = name\n        self._cards_on_hand = []\n\n    @property\n    def name(self):\n        return self._name\n\n    @property\n    def cards_on_hand(self):\n        return self._cards_on_hand\n\n    def get(self, card):\n        \"\"\"\u6478\u724c\"\"\"\n        self._cards_on_hand.append(card)\n\n    def arrange(self, card_key):\n        \"\"\"\u73a9\u5bb6\u6574\u7406\u624b\u4e0a\u7684\u724c\"\"\"\n        self._cards_on_hand.sort(key=card_key)\n\n\n# \u6392\u5e8f\u89c4\u5219-\u5148\u6839\u636e\u82b1\u8272\u518d\u6839\u636e\u70b9\u6570\u6392\u5e8f\ndef get_key(card):\n    return (card.suite, card.face)\n\n\ndef main():\n    p = Poker()\n    p.shuffle()\n    players = [Player('\u4e1c\u90aa'), Player('\u897f\u6bd2'), Player('\u5357\u5e1d'), Player('\u5317\u4e10')]\n    for _ in range(13):\n        for player in players:\n            player.get(p.next)\n    for player in players:\n        print(player.name + ':', end=' ')\n        player.arrange(get_key)\n        print(player.cards_on_hand)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8bf4\u660e\uff1a \u5927\u5bb6\u53ef\u4ee5\u81ea\u5df1\u5c1d\u8bd5\u5728\u4e0a\u9762\u4ee3\u7801\u7684\u57fa\u7840\u4e0a\u5199\u4e00\u4e2a\u7b80\u5355\u7684\u6251\u514b\u6e38\u620f\uff0c\u4f8b\u598221\u70b9(Black Jack)\uff0c\u6e38\u620f\u7684\u89c4\u5219\u53ef\u4ee5\u81ea\u5df1\u5728\u7f51\u4e0a\u627e\u4e00\u627e\u3002</p>"},{"location":"python/Py-100Days/Day01-15/09.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6/#3","title":"\u6848\u4f8b3\uff1a\u5de5\u8d44\u7ed3\u7b97\u7cfb\u7edf","text":"<pre><code>\"\"\"\n\u67d0\u516c\u53f8\u6709\u4e09\u79cd\u7c7b\u578b\u7684\u5458\u5de5 \u5206\u522b\u662f\u90e8\u95e8\u7ecf\u7406\u3001\u7a0b\u5e8f\u5458\u548c\u9500\u552e\u5458\n\u9700\u8981\u8bbe\u8ba1\u4e00\u4e2a\u5de5\u8d44\u7ed3\u7b97\u7cfb\u7edf \u6839\u636e\u63d0\u4f9b\u7684\u5458\u5de5\u4fe1\u606f\u6765\u8ba1\u7b97\u6708\u85aa\n\u90e8\u95e8\u7ecf\u7406\u7684\u6708\u85aa\u662f\u6bcf\u6708\u56fa\u5b9a15000\u5143\n\u7a0b\u5e8f\u5458\u7684\u6708\u85aa\u6309\u672c\u6708\u5de5\u4f5c\u65f6\u95f4\u8ba1\u7b97 \u6bcf\u5c0f\u65f6150\u5143\n\u9500\u552e\u5458\u7684\u6708\u85aa\u662f1200\u5143\u7684\u5e95\u85aa\u52a0\u4e0a\u9500\u552e\u989d5%\u7684\u63d0\u6210\n\"\"\"\nfrom abc import ABCMeta, abstractmethod\n\n\nclass Employee(object, metaclass=ABCMeta):\n    \"\"\"\u5458\u5de5\"\"\"\n\n    def __init__(self, name):\n        \"\"\"\n        \u521d\u59cb\u5316\u65b9\u6cd5\n\n        :param name: \u59d3\u540d\n        \"\"\"\n        self._name = name\n\n    @property\n    def name(self):\n        return self._name\n\n    @abstractmethod\n    def get_salary(self):\n        \"\"\"\n        \u83b7\u5f97\u6708\u85aa\n\n        :return: \u6708\u85aa\n        \"\"\"\n        pass\n\n\nclass Manager(Employee):\n    \"\"\"\u90e8\u95e8\u7ecf\u7406\"\"\"\n\n    def get_salary(self):\n        return 15000.0\n\n\nclass Programmer(Employee):\n    \"\"\"\u7a0b\u5e8f\u5458\"\"\"\n\n    def __init__(self, name, working_hour=0):\n        super().__init__(name)\n        self._working_hour = working_hour\n\n    @property\n    def working_hour(self):\n        return self._working_hour\n\n    @working_hour.setter\n    def working_hour(self, working_hour):\n        self._working_hour = working_hour if working_hour &gt; 0 else 0\n\n    def get_salary(self):\n        return 150.0 * self._working_hour\n\n\nclass Salesman(Employee):\n    \"\"\"\u9500\u552e\u5458\"\"\"\n\n    def __init__(self, name, sales=0):\n        super().__init__(name)\n        self._sales = sales\n\n    @property\n    def sales(self):\n        return self._sales\n\n    @sales.setter\n    def sales(self, sales):\n        self._sales = sales if sales &gt; 0 else 0\n\n    def get_salary(self):\n        return 1200.0 + self._sales * 0.05\n\n\ndef main():\n    emps = [\n        Manager('\u5218\u5907'), Programmer('\u8bf8\u845b\u4eae'),\n        Manager('\u66f9\u64cd'), Salesman('\u8340\u5f67'),\n        Salesman('\u5415\u5e03'), Programmer('\u5f20\u8fbd'),\n        Programmer('\u8d75\u4e91')\n    ]\n    for emp in emps:\n        if isinstance(emp, Programmer):\n            emp.working_hour = int(input('\u8bf7\u8f93\u5165%s\u672c\u6708\u5de5\u4f5c\u65f6\u95f4: ' % emp.name))\n        elif isinstance(emp, Salesman):\n            emp.sales = float(input('\u8bf7\u8f93\u5165%s\u672c\u6708\u9500\u552e\u989d: ' % emp.name))\n        # \u540c\u6837\u662f\u63a5\u6536get_salary\u8fd9\u4e2a\u6d88\u606f\u4f46\u662f\u4e0d\u540c\u7684\u5458\u5de5\u8868\u73b0\u51fa\u4e86\u4e0d\u540c\u7684\u884c\u4e3a(\u591a\u6001)\n        print('%s\u672c\u6708\u5de5\u8d44\u4e3a: \uffe5%s\u5143' %\n              (emp.name, emp.get_salary()))\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/10.%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E5%92%8C%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/","title":"10.\u56fe\u5f62\u7528\u6237\u754c\u9762\u548c\u6e38\u620f\u5f00\u53d1","text":""},{"location":"python/Py-100Days/Day01-15/10.%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E5%92%8C%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/#_1","title":"\u56fe\u5f62\u7528\u6237\u754c\u9762\u548c\u6e38\u620f\u5f00\u53d1","text":""},{"location":"python/Py-100Days/Day01-15/10.%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E5%92%8C%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/#tkintergui","title":"\u57fa\u4e8etkinter\u6a21\u5757\u7684GUI","text":"<p>GUI\u662f\u56fe\u5f62\u7528\u6237\u754c\u9762\u7684\u7f29\u5199\uff0c\u56fe\u5f62\u5316\u7684\u7528\u6237\u754c\u9762\u5bf9\u4f7f\u7528\u8fc7\u8ba1\u7b97\u673a\u7684\u4eba\u6765\u8bf4\u5e94\u8be5\u90fd\u4e0d\u964c\u751f\uff0c\u5728\u6b64\u4e5f\u65e0\u9700\u8fdb\u884c\u8d58\u8ff0\u3002Python\u9ed8\u8ba4\u7684GUI\u5f00\u53d1\u6a21\u5757\u662ftkinter\uff08\u5728Python 3\u4ee5\u524d\u7684\u7248\u672c\u4e2d\u540d\u4e3aTkinter\uff09\uff0c\u4ece\u8fd9\u4e2a\u540d\u5b57\u5c31\u53ef\u4ee5\u770b\u51fa\u5b83\u662f\u57fa\u4e8eTk\u7684\uff0cTk\u662f\u4e00\u4e2a\u5de5\u5177\u5305\uff0c\u6700\u521d\u662f\u4e3aTcl\u8bbe\u8ba1\u7684\uff0c\u540e\u6765\u88ab\u79fb\u690d\u5230\u5f88\u591a\u5176\u4ed6\u7684\u811a\u672c\u8bed\u8a00\u4e2d\uff0c\u5b83\u63d0\u4f9b\u4e86\u8de8\u5e73\u53f0\u7684GUI\u63a7\u4ef6\u3002\u5f53\u7136Tk\u5e76\u4e0d\u662f\u6700\u65b0\u548c\u6700\u597d\u7684\u9009\u62e9\uff0c\u4e5f\u6ca1\u6709\u529f\u80fd\u7279\u522b\u5f3a\u5927\u7684GUI\u63a7\u4ef6\uff0c\u4e8b\u5b9e\u4e0a\uff0c\u5f00\u53d1GUI\u5e94\u7528\u5e76\u4e0d\u662fPython\u6700\u64c5\u957f\u7684\u5de5\u4f5c\uff0c\u5982\u679c\u771f\u7684\u9700\u8981\u4f7f\u7528Python\u5f00\u53d1GUI\u5e94\u7528\uff0cwxPython\u3001PyQt\u3001PyGTK\u7b49\u6a21\u5757\u90fd\u662f\u4e0d\u9519\u7684\u9009\u62e9\u3002</p> <p>\u57fa\u672c\u4e0a\u4f7f\u7528tkinter\u6765\u5f00\u53d1GUI\u5e94\u7528\u9700\u8981\u4ee5\u4e0b5\u4e2a\u6b65\u9aa4\uff1a</p> <ol> <li>\u5bfc\u5165tkinter\u6a21\u5757\u4e2d\u6211\u4eec\u9700\u8981\u7684\u4e1c\u897f\u3002</li> <li>\u521b\u5efa\u4e00\u4e2a\u9876\u5c42\u7a97\u53e3\u5bf9\u8c61\u5e76\u7528\u5b83\u6765\u627f\u8f7d\u6574\u4e2aGUI\u5e94\u7528\u3002</li> <li>\u5728\u9876\u5c42\u7a97\u53e3\u5bf9\u8c61\u4e0a\u6dfb\u52a0GUI\u7ec4\u4ef6\u3002</li> <li>\u901a\u8fc7\u4ee3\u7801\u5c06\u8fd9\u4e9bGUI\u7ec4\u4ef6\u7684\u529f\u80fd\u7ec4\u7ec7\u8d77\u6765\u3002</li> <li>\u8fdb\u5165\u4e3b\u4e8b\u4ef6\u5faa\u73af(main loop)\u3002</li> </ol> <p>\u4e0b\u9762\u7684\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u4f7f\u7528tkinter\u505a\u4e00\u4e2a\u7b80\u5355\u7684GUI\u5e94\u7528\u3002</p> <pre><code>import tkinter\nimport tkinter.messagebox\n\n\ndef main():\n    flag = True\n\n    # \u4fee\u6539\u6807\u7b7e\u4e0a\u7684\u6587\u5b57\n    def change_label_text():\n        nonlocal flag\n        flag = not flag\n        color, msg = ('red', 'Hello, world!')\\\n            if flag else ('blue', 'Goodbye, world!')\n        label.config(text=msg, fg=color)\n\n    # \u786e\u8ba4\u9000\u51fa\n    def confirm_to_quit():\n        if tkinter.messagebox.askokcancel('\u6e29\u99a8\u63d0\u793a', '\u786e\u5b9a\u8981\u9000\u51fa\u5417?'):\n            top.quit()\n\n    # \u521b\u5efa\u9876\u5c42\u7a97\u53e3\n    top = tkinter.Tk()\n    # \u8bbe\u7f6e\u7a97\u53e3\u5927\u5c0f\n    top.geometry('240x160')\n    # \u8bbe\u7f6e\u7a97\u53e3\u6807\u9898\n    top.title('\u5c0f\u6e38\u620f')\n    # \u521b\u5efa\u6807\u7b7e\u5bf9\u8c61\u5e76\u6dfb\u52a0\u5230\u9876\u5c42\u7a97\u53e3\n    label = tkinter.Label(top, text='Hello, world!', font='Arial -32', fg='red')\n    label.pack(expand=1)\n    # \u521b\u5efa\u4e00\u4e2a\u88c5\u6309\u94ae\u7684\u5bb9\u5668\n    panel = tkinter.Frame(top)\n    # \u521b\u5efa\u6309\u94ae\u5bf9\u8c61 \u6307\u5b9a\u6dfb\u52a0\u5230\u54ea\u4e2a\u5bb9\u5668\u4e2d \u901a\u8fc7command\u53c2\u6570\u7ed1\u5b9a\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\n    button1 = tkinter.Button(panel, text='\u4fee\u6539', command=change_label_text)\n    button1.pack(side='left')\n    button2 = tkinter.Button(panel, text='\u9000\u51fa', command=confirm_to_quit)\n    button2.pack(side='right')\n    panel.pack(side='bottom')\n    # \u5f00\u542f\u4e3b\u4e8b\u4ef6\u5faa\u73af\n    tkinter.mainloop()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0cGUI\u5e94\u7528\u901a\u5e38\u662f\u4e8b\u4ef6\u9a71\u52a8\u5f0f\u7684\uff0c\u4e4b\u6240\u4ee5\u8981\u8fdb\u5165\u4e3b\u4e8b\u4ef6\u5faa\u73af\u5c31\u662f\u8981\u76d1\u542c\u9f20\u6807\u3001\u952e\u76d8\u7b49\u5404\u79cd\u4e8b\u4ef6\u7684\u53d1\u751f\u5e76\u6267\u884c\u5bf9\u5e94\u7684\u4ee3\u7801\u5bf9\u4e8b\u4ef6\u8fdb\u884c\u5904\u7406\uff0c\u56e0\u4e3a\u4e8b\u4ef6\u4f1a\u6301\u7eed\u7684\u53d1\u751f\uff0c\u6240\u4ee5\u9700\u8981\u8fd9\u6837\u7684\u4e00\u4e2a\u5faa\u73af\u4e00\u76f4\u8fd0\u884c\u7740\u7b49\u5f85\u4e0b\u4e00\u4e2a\u4e8b\u4ef6\u7684\u53d1\u751f\u3002\u53e6\u4e00\u65b9\u9762\uff0cTk\u4e3a\u63a7\u4ef6\u7684\u6446\u653e\u63d0\u4f9b\u4e86\u4e09\u79cd\u5e03\u5c40\u7ba1\u7406\u5668\uff0c\u901a\u8fc7\u5e03\u5c40\u7ba1\u7406\u5668\u53ef\u4ee5\u5bf9\u63a7\u4ef6\u8fdb\u884c\u5b9a\u4f4d\uff0c\u8fd9\u4e09\u79cd\u5e03\u5c40\u7ba1\u7406\u5668\u5206\u522b\u662f\uff1aPlacer\uff08\u5f00\u53d1\u8005\u63d0\u4f9b\u63a7\u4ef6\u7684\u5927\u5c0f\u548c\u6446\u653e\u4f4d\u7f6e\uff09\u3001Packer\uff08\u81ea\u52a8\u5c06\u63a7\u4ef6\u586b\u5145\u5230\u5408\u9002\u7684\u4f4d\u7f6e\uff09\u548cGrid\uff08\u57fa\u4e8e\u7f51\u683c\u5750\u6807\u6765\u6446\u653e\u63a7\u4ef6\uff09\uff0c\u6b64\u5904\u4e0d\u8fdb\u884c\u8d58\u8ff0\u3002</p>"},{"location":"python/Py-100Days/Day01-15/10.%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E5%92%8C%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/#pygame","title":"\u4f7f\u7528Pygame\u8fdb\u884c\u6e38\u620f\u5f00\u53d1","text":"<p>Pygame\u662f\u4e00\u4e2a\u5f00\u6e90\u7684Python\u6a21\u5757\uff0c\u4e13\u95e8\u7528\u4e8e\u591a\u5a92\u4f53\u5e94\u7528\uff08\u5982\u7535\u5b50\u6e38\u620f\uff09\u7684\u5f00\u53d1\uff0c\u5176\u4e2d\u5305\u542b\u5bf9\u56fe\u50cf\u3001\u58f0\u97f3\u3001\u89c6\u9891\u3001\u4e8b\u4ef6\u3001\u78b0\u649e\u7b49\u7684\u652f\u6301\u3002Pygame\u5efa\u7acb\u5728SDL\u7684\u57fa\u7840\u4e0a\uff0cSDL\u662f\u4e00\u5957\u8de8\u5e73\u53f0\u7684\u591a\u5a92\u4f53\u5f00\u53d1\u5e93\uff0c\u7528C\u8bed\u8a00\u5b9e\u73b0\uff0c\u88ab\u5e7f\u6cdb\u7684\u5e94\u7528\u4e8e\u6e38\u620f\u3001\u6a21\u62df\u5668\u3001\u64ad\u653e\u5668\u7b49\u7684\u5f00\u53d1\u3002\u800cPygame\u8ba9\u6e38\u620f\u5f00\u53d1\u8005\u4e0d\u518d\u88ab\u5e95\u5c42\u8bed\u8a00\u675f\u7f1a\uff0c\u53ef\u4ee5\u66f4\u591a\u7684\u5173\u6ce8\u6e38\u620f\u7684\u529f\u80fd\u548c\u903b\u8f91\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u6765\u5b8c\u6210\u4e00\u4e2a\u7b80\u5355\u7684\u5c0f\u6e38\u620f\uff0c\u6e38\u620f\u7684\u540d\u5b57\u53eb\u201c\u5927\u7403\u5403\u5c0f\u7403\u201d\uff0c\u5f53\u7136\u5b8c\u6210\u8fd9\u4e2a\u6e38\u620f\u5e76\u4e0d\u662f\u91cd\u70b9\uff0c\u5b66\u4f1a\u4f7f\u7528Pygame\u4e5f\u4e0d\u662f\u91cd\u70b9\uff0c\u6700\u91cd\u8981\u7684\u6211\u4eec\u8981\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u4f53\u4f1a\u5982\u4f55\u4f7f\u7528\u524d\u9762\u8bb2\u89e3\u7684\u9762\u5411\u5bf9\u8c61\u7a0b\u5e8f\u8bbe\u8ba1\uff0c\u5b66\u4f1a\u7528\u8fd9\u79cd\u7f16\u7a0b\u601d\u60f3\u53bb\u89e3\u51b3\u73b0\u5b9e\u4e2d\u7684\u95ee\u9898\u3002</p>"},{"location":"python/Py-100Days/Day01-15/10.%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E5%92%8C%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/#_2","title":"\u5236\u4f5c\u6e38\u620f\u7a97\u53e3","text":"<pre><code>import pygame\n\n\ndef main():\n    # \u521d\u59cb\u5316\u5bfc\u5165\u7684pygame\u4e2d\u7684\u6a21\u5757\n    pygame.init()\n    # \u521d\u59cb\u5316\u7528\u4e8e\u663e\u793a\u7684\u7a97\u53e3\u5e76\u8bbe\u7f6e\u7a97\u53e3\u5c3a\u5bf8\n    screen = pygame.display.set_mode((800, 600))\n    # \u8bbe\u7f6e\u5f53\u524d\u7a97\u53e3\u7684\u6807\u9898\n    pygame.display.set_caption('\u5927\u7403\u5403\u5c0f\u7403')\n    running = True\n    # \u5f00\u542f\u4e00\u4e2a\u4e8b\u4ef6\u5faa\u73af\u5904\u7406\u53d1\u751f\u7684\u4e8b\u4ef6\n    while running:\n        # \u4ece\u6d88\u606f\u961f\u5217\u4e2d\u83b7\u53d6\u4e8b\u4ef6\u5e76\u5bf9\u4e8b\u4ef6\u8fdb\u884c\u5904\u7406\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                running = False\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/10.%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E5%92%8C%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/#_3","title":"\u5728\u7a97\u53e3\u4e2d\u7ed8\u56fe","text":"<p>\u53ef\u4ee5\u901a\u8fc7pygame\u4e2ddraw\u6a21\u5757\u7684\u51fd\u6570\u5728\u7a97\u53e3\u4e0a\u7ed8\u56fe\uff0c\u53ef\u4ee5\u7ed8\u5236\u7684\u56fe\u5f62\u5305\u62ec\uff1a\u7ebf\u6761\u3001\u77e9\u5f62\u3001\u591a\u8fb9\u5f62\u3001\u5706\u3001\u692d\u5706\u3001\u5706\u5f27\u7b49\u3002\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u5c4f\u5e55\u5750\u6807\u7cfb\u662f\u5c06\u5c4f\u5e55\u5de6\u4e0a\u89d2\u8bbe\u7f6e\u4e3a\u5750\u6807\u539f\u70b9<code>(0, 0)</code>\uff0c\u5411\u53f3\u662fx\u8f74\u7684\u6b63\u5411\uff0c\u5411\u4e0b\u662fy\u8f74\u7684\u6b63\u5411\uff0c\u5728\u8868\u793a\u4f4d\u7f6e\u6216\u8005\u8bbe\u7f6e\u5c3a\u5bf8\u7684\u65f6\u5019\uff0c\u6211\u4eec\u9ed8\u8ba4\u7684\u5355\u4f4d\u90fd\u662f\u50cf\u7d20\u3002\u6240\u8c13\u50cf\u7d20\u5c31\u662f\u5c4f\u5e55\u4e0a\u7684\u4e00\u4e2a\u70b9\uff0c\u4f60\u53ef\u4ee5\u7528\u6d4f\u89c8\u56fe\u7247\u7684\u8f6f\u4ef6\u8bd5\u7740\u5c06\u4e00\u5f20\u56fe\u7247\u653e\u5927\u82e5\u5e72\u500d\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u8fd9\u4e9b\u70b9\u3002pygame\u4e2d\u8868\u793a\u989c\u8272\u7528\u7684\u662f\u8272\u5149\u4e09\u539f\u8272\u8868\u793a\u6cd5\uff0c\u5373\u901a\u8fc7\u4e00\u4e2a\u5143\u7ec4\u6216\u5217\u8868\u6765\u6307\u5b9a\u989c\u8272\u7684RGB\u503c\uff0c\u6bcf\u4e2a\u503c\u90fd\u57280~255\u4e4b\u95f4\uff0c\u56e0\u4e3a\u662f\u6bcf\u79cd\u539f\u8272\u90fd\u7528\u4e00\u4e2a8\u4f4d\uff08bit\uff09\u7684\u503c\u6765\u8868\u793a\uff0c\u4e09\u79cd\u989c\u8272\u76f8\u5f53\u4e8e\u4e00\u5171\u753124\u4f4d\u6784\u6210\uff0c\u8fd9\u4e5f\u5c31\u662f\u5e38\u8bf4\u7684\u201c24\u4f4d\u989c\u8272\u8868\u793a\u6cd5\u201d\u3002</p> <pre><code>import pygame\n\n\ndef main():\n    # \u521d\u59cb\u5316\u5bfc\u5165\u7684pygame\u4e2d\u7684\u6a21\u5757\n    pygame.init()\n    # \u521d\u59cb\u5316\u7528\u4e8e\u663e\u793a\u7684\u7a97\u53e3\u5e76\u8bbe\u7f6e\u7a97\u53e3\u5c3a\u5bf8\n    screen = pygame.display.set_mode((800, 600))\n    # \u8bbe\u7f6e\u5f53\u524d\u7a97\u53e3\u7684\u6807\u9898\n    pygame.display.set_caption('\u5927\u7403\u5403\u5c0f\u7403')\n    # \u8bbe\u7f6e\u7a97\u53e3\u7684\u80cc\u666f\u8272(\u989c\u8272\u662f\u7531\u7ea2\u7eff\u84dd\u4e09\u539f\u8272\u6784\u6210\u7684\u5143\u7ec4)\n    screen.fill((242, 242, 242))\n    # \u7ed8\u5236\u4e00\u4e2a\u5706(\u53c2\u6570\u5206\u522b\u662f: \u5c4f\u5e55, \u989c\u8272, \u5706\u5fc3\u4f4d\u7f6e, \u534a\u5f84, 0\u8868\u793a\u586b\u5145\u5706)\n    pygame.draw.circle(screen, (255, 0, 0,), (100, 100), 30, 0)\n    # \u5237\u65b0\u5f53\u524d\u7a97\u53e3(\u6e32\u67d3\u7a97\u53e3\u5c06\u7ed8\u5236\u7684\u56fe\u50cf\u5448\u73b0\u51fa\u6765)\n    pygame.display.flip()\n    running = True\n    # \u5f00\u542f\u4e00\u4e2a\u4e8b\u4ef6\u5faa\u73af\u5904\u7406\u53d1\u751f\u7684\u4e8b\u4ef6\n    while running:\n        # \u4ece\u6d88\u606f\u961f\u5217\u4e2d\u83b7\u53d6\u4e8b\u4ef6\u5e76\u5bf9\u4e8b\u4ef6\u8fdb\u884c\u5904\u7406\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                running = False\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/10.%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E5%92%8C%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/#_4","title":"\u52a0\u8f7d\u56fe\u50cf","text":"<p>\u5982\u679c\u9700\u8981\u76f4\u63a5\u52a0\u8f7d\u56fe\u50cf\u5230\u7a97\u53e3\u4e0a\uff0c\u53ef\u4ee5\u4f7f\u7528pygame\u4e2dimage\u6a21\u5757\u7684\u51fd\u6570\u6765\u52a0\u8f7d\u56fe\u50cf\uff0c\u518d\u901a\u8fc7\u4e4b\u524d\u83b7\u5f97\u7684\u7a97\u53e3\u5bf9\u8c61\u7684<code>blit</code>\u65b9\u6cd5\u6e32\u67d3\u56fe\u50cf\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>import pygame\n\n\ndef main():\n    # \u521d\u59cb\u5316\u5bfc\u5165\u7684pygame\u4e2d\u7684\u6a21\u5757\n    pygame.init()\n    # \u521d\u59cb\u5316\u7528\u4e8e\u663e\u793a\u7684\u7a97\u53e3\u5e76\u8bbe\u7f6e\u7a97\u53e3\u5c3a\u5bf8\n    screen = pygame.display.set_mode((800, 600))\n    # \u8bbe\u7f6e\u5f53\u524d\u7a97\u53e3\u7684\u6807\u9898\n    pygame.display.set_caption('\u5927\u7403\u5403\u5c0f\u7403')\n    # \u8bbe\u7f6e\u7a97\u53e3\u7684\u80cc\u666f\u8272(\u989c\u8272\u662f\u7531\u7ea2\u7eff\u84dd\u4e09\u539f\u8272\u6784\u6210\u7684\u5143\u7ec4)\n    screen.fill((255, 255, 255))\n    # \u901a\u8fc7\u6307\u5b9a\u7684\u6587\u4ef6\u540d\u52a0\u8f7d\u56fe\u50cf\n    ball_image = pygame.image.load('./res/ball.png')\n    # \u5728\u7a97\u53e3\u4e0a\u6e32\u67d3\u56fe\u50cf\n    screen.blit(ball_image, (50, 50))\n    # \u5237\u65b0\u5f53\u524d\u7a97\u53e3(\u6e32\u67d3\u7a97\u53e3\u5c06\u7ed8\u5236\u7684\u56fe\u50cf\u5448\u73b0\u51fa\u6765)\n    pygame.display.flip()\n    running = True\n    # \u5f00\u542f\u4e00\u4e2a\u4e8b\u4ef6\u5faa\u73af\u5904\u7406\u53d1\u751f\u7684\u4e8b\u4ef6\n    while running:\n        # \u4ece\u6d88\u606f\u961f\u5217\u4e2d\u83b7\u53d6\u4e8b\u4ef6\u5e76\u5bf9\u4e8b\u4ef6\u8fdb\u884c\u5904\u7406\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                running = False\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/10.%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E5%92%8C%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/#_5","title":"\u5b9e\u73b0\u52a8\u753b\u6548\u679c","text":"<p>\u8bf4\u5230\u52a8\u753b\u8fd9\u4e2a\u8bcd\u5927\u5bb6\u90fd\u4e0d\u4f1a\u964c\u751f\uff0c\u4e8b\u5b9e\u4e0a\u8981\u5b9e\u73b0\u52a8\u753b\u6548\u679c\uff0c\u672c\u8eab\u7684\u539f\u7406\u4e5f\u975e\u5e38\u7b80\u5355\uff0c\u5c31\u662f\u5c06\u4e0d\u8fde\u7eed\u7684\u56fe\u7247\u8fde\u7eed\u7684\u64ad\u653e\uff0c\u53ea\u8981\u6bcf\u79d2\u949f\u8fbe\u5230\u4e86\u4e00\u5b9a\u7684\u5e27\u6570\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u505a\u51fa\u6bd4\u8f83\u6d41\u7545\u7684\u52a8\u753b\u6548\u679c\u3002\u5982\u679c\u8981\u8ba9\u4e0a\u9762\u4ee3\u7801\u4e2d\u7684\u5c0f\u7403\u52a8\u8d77\u6765\uff0c\u53ef\u4ee5\u5c06\u5c0f\u7403\u7684\u4f4d\u7f6e\u7528\u53d8\u91cf\u6765\u8868\u793a\uff0c\u5e76\u5728\u5faa\u73af\u4e2d\u4fee\u6539\u5c0f\u7403\u7684\u4f4d\u7f6e\u518d\u5237\u65b0\u6574\u4e2a\u7a97\u53e3\u5373\u53ef\u3002</p> <pre><code>import pygame\n\n\ndef main():\n    # \u521d\u59cb\u5316\u5bfc\u5165\u7684pygame\u4e2d\u7684\u6a21\u5757\n    pygame.init()\n    # \u521d\u59cb\u5316\u7528\u4e8e\u663e\u793a\u7684\u7a97\u53e3\u5e76\u8bbe\u7f6e\u7a97\u53e3\u5c3a\u5bf8\n    screen = pygame.display.set_mode((800, 600))\n    # \u8bbe\u7f6e\u5f53\u524d\u7a97\u53e3\u7684\u6807\u9898\n    pygame.display.set_caption('\u5927\u7403\u5403\u5c0f\u7403')\n    # \u5b9a\u4e49\u53d8\u91cf\u6765\u8868\u793a\u5c0f\u7403\u5728\u5c4f\u5e55\u4e0a\u7684\u4f4d\u7f6e\n    x, y = 50, 50\n    running = True\n    # \u5f00\u542f\u4e00\u4e2a\u4e8b\u4ef6\u5faa\u73af\u5904\u7406\u53d1\u751f\u7684\u4e8b\u4ef6\n    while running:\n        # \u4ece\u6d88\u606f\u961f\u5217\u4e2d\u83b7\u53d6\u4e8b\u4ef6\u5e76\u5bf9\u4e8b\u4ef6\u8fdb\u884c\u5904\u7406\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                running = False\n        screen.fill((255, 255, 255))\n        pygame.draw.circle(screen, (255, 0, 0,), (x, y), 30, 0)\n        pygame.display.flip()\n        # \u6bcf\u969450\u6beb\u79d2\u5c31\u6539\u53d8\u5c0f\u7403\u7684\u4f4d\u7f6e\u518d\u5237\u65b0\u7a97\u53e3\n        pygame.time.delay(50)\n        x, y = x + 5, y + 5\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/10.%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E5%92%8C%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/#_6","title":"\u78b0\u649e\u68c0\u6d4b","text":"<p>\u901a\u5e38\u4e00\u4e2a\u6e38\u620f\u4e2d\u4f1a\u6709\u5f88\u591a\u5bf9\u8c61\u51fa\u73b0\uff0c\u800c\u8fd9\u4e9b\u5bf9\u8c61\u4e4b\u95f4\u7684\u201c\u78b0\u649e\u201d\u5728\u6240\u96be\u514d\uff0c\u6bd4\u5982\u70ae\u5f39\u51fb\u4e2d\u4e86\u98de\u673a\u3001\u7bb1\u5b50\u649e\u5230\u4e86\u5730\u9762\u7b49\u3002\u78b0\u649e\u68c0\u6d4b\u5728\u7edd\u5927\u591a\u6570\u7684\u6e38\u620f\u4e2d\u90fd\u662f\u4e00\u4e2a\u5fc5\u987b\u5f97\u5904\u7406\u7684\u81f3\u5173\u91cd\u8981\u7684\u95ee\u9898\uff0cpygame\u7684sprite\uff08\u52a8\u753b\u7cbe\u7075\uff09\u6a21\u5757\u5c31\u63d0\u4f9b\u4e86\u5bf9\u78b0\u649e\u68c0\u6d4b\u7684\u652f\u6301\uff0c\u8fd9\u91cc\u6211\u4eec\u6682\u65f6\u4e0d\u4ecb\u7ecdsprite\u6a21\u5757\u63d0\u4f9b\u7684\u529f\u80fd\uff0c\u56e0\u4e3a\u8981\u68c0\u6d4b\u4e24\u4e2a\u5c0f\u7403\u6709\u6ca1\u6709\u78b0\u649e\u5176\u5b9e\u975e\u5e38\u7b80\u5355\uff0c\u53ea\u9700\u8981\u68c0\u67e5\u7403\u5fc3\u7684\u8ddd\u79bb\u6709\u6ca1\u6709\u5c0f\u4e8e\u4e24\u4e2a\u7403\u7684\u534a\u5f84\u4e4b\u548c\u3002\u4e3a\u4e86\u5236\u9020\u51fa\u66f4\u591a\u7684\u5c0f\u7403\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5bf9\u9f20\u6807\u4e8b\u4ef6\u7684\u5904\u7406\uff0c\u5728\u70b9\u51fb\u9f20\u6807\u7684\u4f4d\u7f6e\u521b\u5efa\u989c\u8272\u3001\u5927\u5c0f\u548c\u79fb\u52a8\u901f\u5ea6\u90fd\u968f\u673a\u7684\u5c0f\u7403\uff0c\u5f53\u7136\u8981\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u4e4b\u524d\u5b66\u4e60\u5230\u7684\u9762\u5411\u5bf9\u8c61\u7684\u77e5\u8bc6\u5e94\u7528\u8d77\u6765\u3002</p> <pre><code>from enum import Enum, unique\nfrom math import sqrt\nfrom random import randint\n\nimport pygame\n\n\n@unique\nclass Color(Enum):\n    \"\"\"\u989c\u8272\"\"\"\n\n    RED = (255, 0, 0)\n    GREEN = (0, 255, 0)\n    BLUE = (0, 0, 255)\n    BLACK = (0, 0, 0)\n    WHITE = (255, 255, 255)\n    GRAY = (242, 242, 242)\n\n    @staticmethod\n    def random_color():\n        \"\"\"\u83b7\u5f97\u968f\u673a\u989c\u8272\"\"\"\n        r = randint(0, 255)\n        g = randint(0, 255)\n        b = randint(0, 255)\n        return (r, g, b)\n\n\nclass Ball(object):\n    \"\"\"\u7403\"\"\"\n\n    def __init__(self, x, y, radius, sx, sy, color=Color.RED):\n        \"\"\"\u521d\u59cb\u5316\u65b9\u6cd5\"\"\"\n        self.x = x\n        self.y = y\n        self.radius = radius\n        self.sx = sx\n        self.sy = sy\n        self.color = color\n        self.alive = True\n\n    def move(self, screen):\n        \"\"\"\u79fb\u52a8\"\"\"\n        self.x += self.sx\n        self.y += self.sy\n        if self.x - self.radius &lt;= 0 or \\\n                self.x + self.radius &gt;= screen.get_width():\n            self.sx = -self.sx\n        if self.y - self.radius &lt;= 0 or \\\n                self.y + self.radius &gt;= screen.get_height():\n            self.sy = -self.sy\n\n    def eat(self, other):\n        \"\"\"\u5403\u5176\u4ed6\u7403\"\"\"\n        if self.alive and other.alive and self != other:\n            dx, dy = self.x - other.x, self.y - other.y\n            distance = sqrt(dx ** 2 + dy ** 2)\n            if distance &lt; self.radius + other.radius \\\n                    and self.radius &gt; other.radius:\n                other.alive = False\n                self.radius = self.radius + int(other.radius * 0.146)\n\n    def draw(self, screen):\n        \"\"\"\u5728\u7a97\u53e3\u4e0a\u7ed8\u5236\u7403\"\"\"\n        pygame.draw.circle(screen, self.color,\n                           (self.x, self.y), self.radius, 0)\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/10.%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E5%92%8C%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/#_7","title":"\u4e8b\u4ef6\u5904\u7406","text":"<p>\u53ef\u4ee5\u5728\u4e8b\u4ef6\u5faa\u73af\u4e2d\u5bf9\u9f20\u6807\u4e8b\u4ef6\u8fdb\u884c\u5904\u7406\uff0c\u901a\u8fc7\u4e8b\u4ef6\u5bf9\u8c61\u7684<code>type</code>\u5c5e\u6027\u53ef\u4ee5\u5224\u5b9a\u4e8b\u4ef6\u7c7b\u578b\uff0c\u518d\u901a\u8fc7<code>pos</code>\u5c5e\u6027\u5c31\u53ef\u4ee5\u83b7\u5f97\u9f20\u6807\u70b9\u51fb\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u8981\u5904\u7406\u952e\u76d8\u4e8b\u4ef6\u4e5f\u662f\u5728\u8fd9\u4e2a\u5730\u65b9\uff0c\u505a\u6cd5\u4e0e\u5904\u7406\u9f20\u6807\u4e8b\u4ef6\u7c7b\u4f3c\u3002</p> <pre><code>def main():\n    # \u5b9a\u4e49\u7528\u6765\u88c5\u6240\u6709\u7403\u7684\u5bb9\u5668\n    balls = []\n    # \u521d\u59cb\u5316\u5bfc\u5165\u7684pygame\u4e2d\u7684\u6a21\u5757\n    pygame.init()\n    # \u521d\u59cb\u5316\u7528\u4e8e\u663e\u793a\u7684\u7a97\u53e3\u5e76\u8bbe\u7f6e\u7a97\u53e3\u5c3a\u5bf8\n    screen = pygame.display.set_mode((800, 600))\n    # \u8bbe\u7f6e\u5f53\u524d\u7a97\u53e3\u7684\u6807\u9898\n    pygame.display.set_caption('\u5927\u7403\u5403\u5c0f\u7403')\n    running = True\n    # \u5f00\u542f\u4e00\u4e2a\u4e8b\u4ef6\u5faa\u73af\u5904\u7406\u53d1\u751f\u7684\u4e8b\u4ef6\n    while running:\n        # \u4ece\u6d88\u606f\u961f\u5217\u4e2d\u83b7\u53d6\u4e8b\u4ef6\u5e76\u5bf9\u4e8b\u4ef6\u8fdb\u884c\u5904\u7406\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                running = False\n            # \u5904\u7406\u9f20\u6807\u4e8b\u4ef6\u7684\u4ee3\u7801\n            if event.type == pygame.MOUSEBUTTONDOWN and event.button == 1:\n                # \u83b7\u5f97\u70b9\u51fb\u9f20\u6807\u7684\u4f4d\u7f6e\n                x, y = event.pos\n                radius = randint(10, 100)\n                sx, sy = randint(-10, 10), randint(-10, 10)\n                color = Color.random_color()\n                # \u5728\u70b9\u51fb\u9f20\u6807\u7684\u4f4d\u7f6e\u521b\u5efa\u4e00\u4e2a\u7403(\u5927\u5c0f\u3001\u901f\u5ea6\u548c\u989c\u8272\u968f\u673a)\n                ball = Ball(x, y, radius, sx, sy, color)\n                # \u5c06\u7403\u6dfb\u52a0\u5230\u5217\u8868\u5bb9\u5668\u4e2d\n                balls.append(ball)\n        screen.fill((255, 255, 255))\n        # \u53d6\u51fa\u5bb9\u5668\u4e2d\u7684\u7403 \u5982\u679c\u6ca1\u88ab\u5403\u6389\u5c31\u7ed8\u5236 \u88ab\u5403\u6389\u4e86\u5c31\u79fb\u9664\n        for ball in balls:\n            if ball.alive:\n                ball.draw(screen)\n            else:\n                balls.remove(ball)\n        pygame.display.flip()\n        # \u6bcf\u969450\u6beb\u79d2\u5c31\u6539\u53d8\u7403\u7684\u4f4d\u7f6e\u518d\u5237\u65b0\u7a97\u53e3\n        pygame.time.delay(50)\n        for ball in balls:\n            ball.move(screen)\n            # \u68c0\u67e5\u7403\u6709\u6ca1\u6709\u5403\u5230\u5176\u4ed6\u7684\u7403\n            for other in balls:\n                ball.eat(other)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u4e0a\u9762\u7684\u4e24\u6bb5\u4ee3\u7801\u5408\u5728\u4e00\u8d77\uff0c\u6211\u4eec\u5c31\u5b8c\u6210\u4e86\u201c\u5927\u7403\u5403\u5c0f\u7403\u201d\u7684\u6e38\u620f\uff08\u5982\u4e0b\u56fe\u6240\u793a\uff09\uff0c\u51c6\u786e\u7684\u8bf4\u5b83\u7b97\u4e0d\u4e0a\u4e00\u4e2a\u6e38\u620f\uff0c\u4f46\u662f\u505a\u4e00\u4e2a\u5c0f\u6e38\u620f\u7684\u57fa\u672c\u77e5\u8bc6\u6211\u4eec\u5df2\u7ecf\u901a\u8fc7\u8fd9\u4e2a\u4f8b\u5b50\u544a\u8bc9\u5927\u5bb6\u4e86\uff0c\u6709\u4e86\u8fd9\u4e9b\u77e5\u8bc6\u5df2\u7ecf\u53ef\u4ee5\u5f00\u59cb\u4f60\u7684\u5c0f\u6e38\u620f\u5f00\u53d1\u4e4b\u65c5\u4e86\u3002\u5176\u5b9e\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\u8fd8\u6709\u5f88\u591a\u503c\u5f97\u6539\u8fdb\u7684\u5730\u65b9\uff0c\u6bd4\u5982\u5237\u65b0\u7a97\u53e3\u4ee5\u53ca\u8ba9\u7403\u79fb\u52a8\u8d77\u6765\u7684\u4ee3\u7801\u5e76\u4e0d\u5e94\u8be5\u653e\u5728\u4e8b\u4ef6\u5faa\u73af\u4e2d\uff0c\u7b49\u5b66\u4e60\u4e86\u591a\u7ebf\u7a0b\u7684\u77e5\u8bc6\u540e\uff0c\u7528\u4e00\u4e2a\u540e\u53f0\u7ebf\u7a0b\u6765\u5904\u7406\u8fd9\u4e9b\u4e8b\u53ef\u80fd\u662f\u66f4\u597d\u7684\u9009\u62e9\u3002\u5982\u679c\u5e0c\u671b\u83b7\u5f97\u66f4\u597d\u7684\u7528\u6237\u4f53\u9a8c\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u5728\u6e38\u620f\u4e2d\u52a0\u5165\u80cc\u666f\u97f3\u4e50\u4ee5\u53ca\u5728\u7403\u4e0e\u7403\u53d1\u751f\u78b0\u649e\u65f6\u64ad\u653e\u97f3\u6548\uff0c\u5229\u7528pygame\u7684mixer\u548cmusic\u6a21\u5757\uff0c\u6211\u4eec\u53ef\u4ee5\u5f88\u5bb9\u6613\u7684\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u5927\u5bb6\u53ef\u4ee5\u81ea\u884c\u4e86\u89e3\u8fd9\u65b9\u9762\u7684\u77e5\u8bc6\u3002\u4e8b\u5b9e\u4e0a\uff0c\u60f3\u4e86\u89e3\u66f4\u591a\u7684\u5173\u4e8epygame\u7684\u77e5\u8bc6\uff0c\u6700\u597d\u7684\u6559\u7a0b\u662fpygame\u7684\u5b98\u65b9\u7f51\u7ad9\uff0c\u5982\u679c\u82f1\u8bed\u6ca1\u6bdb\u75c5\u5c31\u53ef\u4ee5\u8d76\u7d27\u53bb\u770b\u770b\u5566\u3002 \u5982\u679c\u60f3\u5f00\u53d13D\u6e38\u620f\uff0cpygame\u5c31\u663e\u5f97\u529b\u4e0d\u4ece\u5fc3\u4e86\uff0c\u5bf93D\u6e38\u620f\u5f00\u53d1\u5982\u679c\u6709\u5174\u8da3\u7684\u8bfb\u8005\u4e0d\u59a8\u770b\u770bPanda3D\u3002</p>"},{"location":"python/Py-100Days/Day01-15/11.%E6%96%87%E4%BB%B6%E5%92%8C%E5%BC%82%E5%B8%B8/","title":"11.\u6587\u4ef6\u548c\u5f02\u5e38","text":""},{"location":"python/Py-100Days/Day01-15/11.%E6%96%87%E4%BB%B6%E5%92%8C%E5%BC%82%E5%B8%B8/#_1","title":"\u6587\u4ef6\u548c\u5f02\u5e38","text":"<p>\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u5e38\u5e38\u9700\u8981\u5bf9\u7a0b\u5e8f\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u6301\u4e45\u5316\u64cd\u4f5c\uff0c\u800c\u5b9e\u73b0\u6570\u636e\u6301\u4e45\u5316\u6700\u76f4\u63a5\u7b80\u5355\u7684\u65b9\u5f0f\u5c31\u662f\u5c06\u6570\u636e\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d\u3002\u8bf4\u5230\u201c\u6587\u4ef6\u201d\u8fd9\u4e2a\u8bcd\uff0c\u53ef\u80fd\u9700\u8981\u5148\u79d1\u666e\u4e00\u4e0b\u5173\u4e8e\u6587\u4ef6\u7cfb\u7edf\u7684\u77e5\u8bc6\uff0c\u5bf9\u4e8e\u8fd9\u4e2a\u6982\u5ff5\uff0c\u7ef4\u57fa\u767e\u79d1\u4e0a\u7ed9\u51fa\u4e86\u5f88\u597d\u7684\u8be0\u91ca\uff0c\u8fd9\u91cc\u4e0d\u518d\u6d6a\u8d39\u7b14\u58a8\u3002</p> <p>\u5728Python\u4e2d\u5b9e\u73b0\u6587\u4ef6\u7684\u8bfb\u5199\u64cd\u4f5c\u5176\u5b9e\u975e\u5e38\u7b80\u5355\uff0c\u901a\u8fc7Python\u5185\u7f6e\u7684<code>open</code>\u51fd\u6570\uff0c\u6211\u4eec\u53ef\u4ee5\u6307\u5b9a\u6587\u4ef6\u540d\u3001\u64cd\u4f5c\u6a21\u5f0f\u3001\u7f16\u7801\u4fe1\u606f\u7b49\u6765\u83b7\u5f97\u64cd\u4f5c\u6587\u4ef6\u7684\u5bf9\u8c61\uff0c\u63a5\u4e0b\u6765\u5c31\u53ef\u4ee5\u5bf9\u6587\u4ef6\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u4e86\u3002\u8fd9\u91cc\u6240\u8bf4\u7684\u64cd\u4f5c\u6a21\u5f0f\u662f\u6307\u8981\u6253\u5f00\u4ec0\u4e48\u6837\u7684\u6587\u4ef6\uff08\u5b57\u7b26\u6587\u4ef6\u8fd8\u662f\u4e8c\u8fdb\u5236\u6587\u4ef6\uff09\u4ee5\u53ca\u505a\u4ec0\u4e48\u6837\u7684\u64cd\u4f5c\uff08\u8bfb\u3001\u5199\u8fd8\u662f\u8ffd\u52a0\uff09\uff0c\u5177\u4f53\u7684\u5982\u4e0b\u8868\u6240\u793a\u3002</p> \u64cd\u4f5c\u6a21\u5f0f \u5177\u4f53\u542b\u4e49 <code>'r'</code> \u8bfb\u53d6 \uff08\u9ed8\u8ba4\uff09 <code>'w'</code> \u5199\u5165\uff08\u4f1a\u5148\u622a\u65ad\u4e4b\u524d\u7684\u5185\u5bb9\uff09 <code>'x'</code> \u5199\u5165\uff0c\u5982\u679c\u6587\u4ef6\u5df2\u7ecf\u5b58\u5728\u4f1a\u4ea7\u751f\u5f02\u5e38 <code>'a'</code> \u8ffd\u52a0\uff0c\u5c06\u5185\u5bb9\u5199\u5165\u5230\u5df2\u6709\u6587\u4ef6\u7684\u672b\u5c3e <code>'b'</code> \u4e8c\u8fdb\u5236\u6a21\u5f0f <code>'t'</code> \u6587\u672c\u6a21\u5f0f\uff08\u9ed8\u8ba4\uff09 <code>'+'</code> \u66f4\u65b0\uff08\u65e2\u53ef\u4ee5\u8bfb\u53c8\u53ef\u4ee5\u5199\uff09 <p>\u4e0b\u9762\u8fd9\u5f20\u56fe\u6765\u81ea\u4e8e\u83dc\u9e1f\u6559\u7a0b\u7f51\u7ad9\uff0c\u5b83\u5c55\u793a\u4e86\u5982\u679c\u6839\u636e\u5e94\u7528\u7a0b\u5e8f\u7684\u9700\u8981\u6765\u8bbe\u7f6e\u64cd\u4f5c\u6a21\u5f0f\u3002</p> <p></p>"},{"location":"python/Py-100Days/Day01-15/11.%E6%96%87%E4%BB%B6%E5%92%8C%E5%BC%82%E5%B8%B8/#_2","title":"\u8bfb\u5199\u6587\u672c\u6587\u4ef6","text":"<p>\u8bfb\u53d6\u6587\u672c\u6587\u4ef6\u65f6\uff0c\u9700\u8981\u5728\u4f7f\u7528<code>open</code>\u51fd\u6570\u65f6\u6307\u5b9a\u597d\u5e26\u8def\u5f84\u7684\u6587\u4ef6\u540d\uff08\u53ef\u4ee5\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\u6216\u7edd\u5bf9\u8def\u5f84\uff09\u5e76\u5c06\u6587\u4ef6\u6a21\u5f0f\u8bbe\u7f6e\u4e3a<code>'r'</code>\uff08\u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u9ed8\u8ba4\u503c\u4e5f\u662f<code>'r'</code>\uff09\uff0c\u7136\u540e\u901a\u8fc7<code>encoding</code>\u53c2\u6570\u6307\u5b9a\u7f16\u7801\uff08\u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u9ed8\u8ba4\u503c\u662fNone\uff0c\u90a3\u4e48\u5728\u8bfb\u53d6\u6587\u4ef6\u65f6\u4f7f\u7528\u7684\u662f\u64cd\u4f5c\u7cfb\u7edf\u9ed8\u8ba4\u7684\u7f16\u7801\uff09\uff0c\u5982\u679c\u4e0d\u80fd\u4fdd\u8bc1\u4fdd\u5b58\u6587\u4ef6\u65f6\u4f7f\u7528\u7684\u7f16\u7801\u65b9\u5f0f\u4e0eencoding\u53c2\u6570\u6307\u5b9a\u7684\u7f16\u7801\u65b9\u5f0f\u662f\u4e00\u81f4\u7684\uff0c\u90a3\u4e48\u5c31\u53ef\u80fd\u56e0\u65e0\u6cd5\u89e3\u7801\u5b57\u7b26\u800c\u5bfc\u81f4\u8bfb\u53d6\u5931\u8d25\u3002\u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u4e86\u5982\u4f55\u8bfb\u53d6\u4e00\u4e2a\u7eaf\u6587\u672c\u6587\u4ef6\u3002</p> <pre><code>def main():\n    f = open('\u81f4\u6a61\u6811.txt', 'r', encoding='utf-8')\n    print(f.read())\n    f.close()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8bf7\u6ce8\u610f\u4e0a\u9762\u7684\u4ee3\u7801\uff0c\u5982\u679c<code>open</code>\u51fd\u6570\u6307\u5b9a\u7684\u6587\u4ef6\u5e76\u4e0d\u5b58\u5728\u6216\u8005\u65e0\u6cd5\u6253\u5f00\uff0c\u90a3\u4e48\u5c06\u5f15\u53d1\u5f02\u5e38\u72b6\u51b5\u5bfc\u81f4\u7a0b\u5e8f\u5d29\u6e83\u3002\u4e3a\u4e86\u8ba9\u4ee3\u7801\u6709\u4e00\u5b9a\u7684\u5065\u58ee\u6027\u548c\u5bb9\u9519\u6027\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528Python\u7684\u5f02\u5e38\u673a\u5236\u5bf9\u53ef\u80fd\u5728\u8fd0\u884c\u65f6\u53d1\u751f\u72b6\u51b5\u7684\u4ee3\u7801\u8fdb\u884c\u9002\u5f53\u7684\u5904\u7406\uff0c\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>def main():\n    f = None\n    try:\n        f = open('\u81f4\u6a61\u6811.txt', 'r', encoding='utf-8')\n        print(f.read())\n    except FileNotFoundError:\n        print('\u65e0\u6cd5\u6253\u5f00\u6307\u5b9a\u7684\u6587\u4ef6!')\n    except LookupError:\n        print('\u6307\u5b9a\u4e86\u672a\u77e5\u7684\u7f16\u7801!')\n    except UnicodeDecodeError:\n        print('\u8bfb\u53d6\u6587\u4ef6\u65f6\u89e3\u7801\u9519\u8bef!')\n    finally:\n        if f:\n            f.close()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u5728Python\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u90a3\u4e9b\u5728\u8fd0\u884c\u65f6\u53ef\u80fd\u4f1a\u51fa\u73b0\u72b6\u51b5\u7684\u4ee3\u7801\u653e\u5728<code>try</code>\u4ee3\u7801\u5757\u4e2d\uff0c\u5728<code>try</code>\u4ee3\u7801\u5757\u7684\u540e\u9762\u53ef\u4ee5\u8ddf\u4e0a\u4e00\u4e2a\u6216\u591a\u4e2a<code>except</code>\u6765\u6355\u83b7\u53ef\u80fd\u51fa\u73b0\u7684\u5f02\u5e38\u72b6\u51b5\u3002\u4f8b\u5982\u5728\u4e0a\u9762\u8bfb\u53d6\u6587\u4ef6\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6587\u4ef6\u627e\u4e0d\u5230\u4f1a\u5f15\u53d1<code>FileNotFoundError</code>\uff0c\u6307\u5b9a\u4e86\u672a\u77e5\u7684\u7f16\u7801\u4f1a\u5f15\u53d1<code>LookupError</code>\uff0c\u800c\u5982\u679c\u8bfb\u53d6\u6587\u4ef6\u65f6\u65e0\u6cd5\u6309\u6307\u5b9a\u65b9\u5f0f\u89e3\u7801\u4f1a\u5f15\u53d1<code>UnicodeDecodeError</code>\uff0c\u6211\u4eec\u5728<code>try</code>\u540e\u9762\u8ddf\u4e0a\u4e86\u4e09\u4e2a<code>except</code>\u5206\u522b\u5904\u7406\u8fd9\u4e09\u79cd\u4e0d\u540c\u7684\u5f02\u5e38\u72b6\u51b5\u3002\u6700\u540e\u6211\u4eec\u4f7f\u7528<code>finally</code>\u4ee3\u7801\u5757\u6765\u5173\u95ed\u6253\u5f00\u7684\u6587\u4ef6\uff0c\u91ca\u653e\u6389\u7a0b\u5e8f\u4e2d\u83b7\u53d6\u7684\u5916\u90e8\u8d44\u6e90\uff0c\u7531\u4e8e<code>finally</code>\u5757\u7684\u4ee3\u7801\u4e0d\u8bba\u7a0b\u5e8f\u6b63\u5e38\u8fd8\u662f\u5f02\u5e38\u90fd\u4f1a\u6267\u884c\u5230\uff08\u751a\u81f3\u662f\u8c03\u7528\u4e86<code>sys</code>\u6a21\u5757\u7684<code>exit</code>\u51fd\u6570\u9000\u51faPython\u73af\u5883\uff0c<code>finally</code>\u5757\u90fd\u4f1a\u88ab\u6267\u884c\uff0c\u56e0\u4e3a<code>exit</code>\u51fd\u6570\u5b9e\u8d28\u4e0a\u662f\u5f15\u53d1\u4e86<code>SystemExit</code>\u5f02\u5e38\uff09\uff0c\u56e0\u6b64\u6211\u4eec\u901a\u5e38\u628a<code>finally</code>\u5757\u79f0\u4e3a\u201c\u603b\u662f\u6267\u884c\u4ee3\u7801\u5757\u201d\uff0c\u5b83\u6700\u9002\u5408\u7528\u6765\u505a\u91ca\u653e\u5916\u90e8\u8d44\u6e90\u7684\u64cd\u4f5c\u3002\u5982\u679c\u4e0d\u613f\u610f\u5728<code>finally</code>\u4ee3\u7801\u5757\u4e2d\u5173\u95ed\u6587\u4ef6\u5bf9\u8c61\u91ca\u653e\u8d44\u6e90\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e0a\u4e0b\u6587\u8bed\u6cd5\uff0c\u901a\u8fc7<code>with</code>\u5173\u952e\u5b57\u6307\u5b9a\u6587\u4ef6\u5bf9\u8c61\u7684\u4e0a\u4e0b\u6587\u73af\u5883\u5e76\u5728\u79bb\u5f00\u4e0a\u4e0b\u6587\u73af\u5883\u65f6\u81ea\u52a8\u91ca\u653e\u6587\u4ef6\u8d44\u6e90\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>def main():\n    try:\n        with open('\u81f4\u6a61\u6811.txt', 'r', encoding='utf-8') as f:\n            print(f.read())\n    except FileNotFoundError:\n        print('\u65e0\u6cd5\u6253\u5f00\u6307\u5b9a\u7684\u6587\u4ef6!')\n    except LookupError:\n        print('\u6307\u5b9a\u4e86\u672a\u77e5\u7684\u7f16\u7801!')\n    except UnicodeDecodeError:\n        print('\u8bfb\u53d6\u6587\u4ef6\u65f6\u89e3\u7801\u9519\u8bef!')\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u9664\u4e86\u4f7f\u7528\u6587\u4ef6\u5bf9\u8c61\u7684<code>read</code>\u65b9\u6cd5\u8bfb\u53d6\u6587\u4ef6\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528<code>for-in</code>\u5faa\u73af\u9010\u884c\u8bfb\u53d6\u6216\u8005\u7528<code>readlines</code>\u65b9\u6cd5\u5c06\u6587\u4ef6\u6309\u884c\u8bfb\u53d6\u5230\u4e00\u4e2a\u5217\u8868\u5bb9\u5668\u4e2d\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>import time\n\n\ndef main():\n    # \u4e00\u6b21\u6027\u8bfb\u53d6\u6574\u4e2a\u6587\u4ef6\u5185\u5bb9\n    with open('\u81f4\u6a61\u6811.txt', 'r', encoding='utf-8') as f:\n        print(f.read())\n\n    # \u901a\u8fc7for-in\u5faa\u73af\u9010\u884c\u8bfb\u53d6\n    with open('\u81f4\u6a61\u6811.txt', mode='r') as f:\n        for line in f:\n            print(line, end='')\n            time.sleep(0.5)\n    print()\n\n    # \u8bfb\u53d6\u6587\u4ef6\u6309\u884c\u8bfb\u53d6\u5230\u5217\u8868\u4e2d\n    with open('\u81f4\u6a61\u6811.txt') as f:\n        lines = f.readlines()\n    print(lines)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8981\u5c06\u6587\u672c\u4fe1\u606f\u5199\u5165\u6587\u4ef6\u6587\u4ef6\u4e5f\u975e\u5e38\u7b80\u5355\uff0c\u5728\u4f7f\u7528<code>open</code>\u51fd\u6570\u65f6\u6307\u5b9a\u597d\u6587\u4ef6\u540d\u5e76\u5c06\u6587\u4ef6\u6a21\u5f0f\u8bbe\u7f6e\u4e3a<code>'w'</code>\u5373\u53ef\u3002\u6ce8\u610f\u5982\u679c\u9700\u8981\u5bf9\u6587\u4ef6\u5185\u5bb9\u8fdb\u884c\u8ffd\u52a0\u5f0f\u5199\u5165\uff0c\u5e94\u8be5\u5c06\u6a21\u5f0f\u8bbe\u7f6e\u4e3a<code>'a'</code>\u3002\u5982\u679c\u8981\u5199\u5165\u7684\u6587\u4ef6\u4e0d\u5b58\u5728\u4f1a\u81ea\u52a8\u521b\u5efa\u6587\u4ef6\u800c\u4e0d\u662f\u5f15\u53d1\u5f02\u5e38\u3002\u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u4e86\u5982\u4f55\u5c061-9999\u4e4b\u95f4\u7684\u7d20\u6570\u5206\u522b\u5199\u5165\u4e09\u4e2a\u6587\u4ef6\u4e2d\uff081-99\u4e4b\u95f4\u7684\u7d20\u6570\u4fdd\u5b58\u5728a.txt\u4e2d\uff0c100-999\u4e4b\u95f4\u7684\u7d20\u6570\u4fdd\u5b58\u5728b.txt\u4e2d\uff0c1000-9999\u4e4b\u95f4\u7684\u7d20\u6570\u4fdd\u5b58\u5728c.txt\u4e2d\uff09\u3002</p> <pre><code>from math import sqrt\n\n\ndef is_prime(n):\n    \"\"\"\u5224\u65ad\u7d20\u6570\u7684\u51fd\u6570\"\"\"\n    assert n &gt; 0\n    for factor in range(2, int(sqrt(n)) + 1):\n        if n % factor == 0:\n            return False\n    return True if n != 1 else False\n\n\ndef main():\n    filenames = ('a.txt', 'b.txt', 'c.txt')\n    fs_list = []\n    try:\n        for filename in filenames:\n            fs_list.append(open(filename, 'w', encoding='utf-8'))\n        for number in range(1, 10000):\n            if is_prime(number):\n                if number &lt; 100:\n                    fs_list[0].write(str(number) + '\\n')\n                elif number &lt; 1000:\n                    fs_list[1].write(str(number) + '\\n')\n                else:\n                    fs_list[2].write(str(number) + '\\n')\n    except IOError as ex:\n        print(ex)\n        print('\u5199\u6587\u4ef6\u65f6\u53d1\u751f\u9519\u8bef!')\n    finally:\n        for fs in fs_list:\n            fs.close()\n    print('\u64cd\u4f5c\u5b8c\u6210!')\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/11.%E6%96%87%E4%BB%B6%E5%92%8C%E5%BC%82%E5%B8%B8/#_3","title":"\u8bfb\u5199\u4e8c\u8fdb\u5236\u6587\u4ef6","text":"<p>\u77e5\u9053\u4e86\u5982\u4f55\u8bfb\u5199\u6587\u672c\u6587\u4ef6\u8981\u8bfb\u5199\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e5f\u5c31\u5f88\u7b80\u5355\u4e86\uff0c\u4e0b\u9762\u7684\u4ee3\u7801\u5b9e\u73b0\u4e86\u590d\u5236\u56fe\u7247\u6587\u4ef6\u7684\u529f\u80fd\u3002</p> <pre><code>def main():\n    try:\n        with open('guido.jpg', 'rb') as fs1:\n            data = fs1.read()\n            print(type(data))  # &lt;class 'bytes'&gt;\n        with open('\u5409\u591a.jpg', 'wb') as fs2:\n            fs2.write(data)\n    except FileNotFoundError as e:\n        print('\u6307\u5b9a\u7684\u6587\u4ef6\u65e0\u6cd5\u6253\u5f00.')\n    except IOError as e:\n        print('\u8bfb\u5199\u6587\u4ef6\u65f6\u51fa\u73b0\u9519\u8bef.')\n    print('\u7a0b\u5e8f\u6267\u884c\u7ed3\u675f.')\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/11.%E6%96%87%E4%BB%B6%E5%92%8C%E5%BC%82%E5%B8%B8/#json","title":"\u8bfb\u5199JSON\u6587\u4ef6","text":"<p>\u901a\u8fc7\u4e0a\u9762\u7684\u8bb2\u89e3\uff0c\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u5982\u4f55\u5c06\u6587\u672c\u6570\u636e\u548c\u4e8c\u8fdb\u5236\u6570\u636e\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d\uff0c\u90a3\u4e48\u8fd9\u91cc\u8fd8\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u5982\u679c\u5e0c\u671b\u628a\u4e00\u4e2a\u5217\u8868\u6216\u8005\u4e00\u4e2a\u5b57\u5178\u4e2d\u7684\u6570\u636e\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d\u53c8\u8be5\u600e\u4e48\u505a\u5462\uff1f\u7b54\u6848\u662f\u5c06\u6570\u636e\u4ee5JSON\u683c\u5f0f\u8fdb\u884c\u4fdd\u5b58\u3002JSON\u662f\u201cJavaScript Object Notation\u201d\u7684\u7f29\u5199\uff0c\u5b83\u672c\u6765\u662fJavaScript\u8bed\u8a00\u4e2d\u521b\u5efa\u5bf9\u8c61\u7684\u4e00\u79cd\u5b57\u9762\u91cf\u8bed\u6cd5\uff0c\u73b0\u5728\u5df2\u7ecf\u88ab\u5e7f\u6cdb\u7684\u5e94\u7528\u4e8e\u8de8\u5e73\u53f0\u8de8\u8bed\u8a00\u7684\u6570\u636e\u4ea4\u6362\uff0c\u539f\u56e0\u5f88\u7b80\u5355\uff0c\u56e0\u4e3aJSON\u4e5f\u662f\u7eaf\u6587\u672c\uff0c\u4efb\u4f55\u7cfb\u7edf\u4efb\u4f55\u7f16\u7a0b\u8bed\u8a00\u5904\u7406\u7eaf\u6587\u672c\u90fd\u662f\u6ca1\u6709\u95ee\u9898\u7684\u3002\u76ee\u524dJSON\u57fa\u672c\u4e0a\u5df2\u7ecf\u53d6\u4ee3\u4e86XML\u4f5c\u4e3a\u5f02\u6784\u7cfb\u7edf\u95f4\u4ea4\u6362\u6570\u636e\u7684\u4e8b\u5b9e\u6807\u51c6\u3002\u5173\u4e8eJSON\u7684\u77e5\u8bc6\uff0c\u66f4\u591a\u7684\u53ef\u4ee5\u53c2\u8003JSON\u7684\u5b98\u65b9\u7f51\u7ad9\uff0c\u4ece\u8fd9\u4e2a\u7f51\u7ad9\u4e5f\u53ef\u4ee5\u4e86\u89e3\u5230\u6bcf\u79cd\u8bed\u8a00\u5904\u7406JSON\u6570\u636e\u683c\u5f0f\u53ef\u4ee5\u4f7f\u7528\u7684\u5de5\u5177\u6216\u4e09\u65b9\u5e93\uff0c\u4e0b\u9762\u662f\u4e00\u4e2aJSON\u7684\u7b80\u5355\u4f8b\u5b50\u3002</p> <pre><code>{\n    \"name\": \"\u9a86\u660a\",\n    \"age\": 38,\n    \"qq\": 957658,\n    \"friends\": [\"\u738b\u5927\u9524\", \"\u767d\u5143\u82b3\"],\n    \"cars\": [\n        {\"brand\": \"BYD\", \"max_speed\": 180},\n        {\"brand\": \"Audi\", \"max_speed\": 280},\n        {\"brand\": \"Benz\", \"max_speed\": 320}\n    ]\n}\n</code></pre> <p>\u53ef\u80fd\u5927\u5bb6\u5df2\u7ecf\u6ce8\u610f\u5230\u4e86\uff0c\u4e0a\u9762\u7684JSON\u8ddfPython\u4e2d\u7684\u5b57\u5178\u5176\u5b9e\u662f\u4e00\u6837\u4e00\u6837\u7684\uff0c\u4e8b\u5b9e\u4e0aJSON\u7684\u6570\u636e\u7c7b\u578b\u548cPython\u7684\u6570\u636e\u7c7b\u578b\u662f\u5f88\u5bb9\u6613\u627e\u5230\u5bf9\u5e94\u5173\u7cfb\u7684\uff0c\u5982\u4e0b\u9762\u4e24\u5f20\u8868\u6240\u793a\u3002</p> JSON Python object dict array list string str number (int / real) int / float true / false True / False null None Python JSON dict object list, tuple array str string int, float, int- &amp; float-derived Enums number True / False true / false None null <p>\u6211\u4eec\u4f7f\u7528Python\u4e2d\u7684json\u6a21\u5757\u5c31\u53ef\u4ee5\u5c06\u5b57\u5178\u6216\u5217\u8868\u4ee5JSON\u683c\u5f0f\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>import json\n\n\ndef main():\n    mydict = {\n        'name': '\u9a86\u660a',\n        'age': 38,\n        'qq': 957658,\n        'friends': ['\u738b\u5927\u9524', '\u767d\u5143\u82b3'],\n        'cars': [\n            {'brand': 'BYD', 'max_speed': 180},\n            {'brand': 'Audi', 'max_speed': 280},\n            {'brand': 'Benz', 'max_speed': 320}\n        ]\n    }\n    try:\n        with open('data.json', 'w', encoding='utf-8') as fs:\n            json.dump(mydict, fs)\n    except IOError as e:\n        print(e)\n    print('\u4fdd\u5b58\u6570\u636e\u5b8c\u6210!')\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>json\u6a21\u5757\u4e3b\u8981\u6709\u56db\u4e2a\u6bd4\u8f83\u91cd\u8981\u7684\u51fd\u6570\uff0c\u5206\u522b\u662f\uff1a</p> <ul> <li><code>dump</code> - \u5c06Python\u5bf9\u8c61\u6309\u7167JSON\u683c\u5f0f\u5e8f\u5217\u5316\u5230\u6587\u4ef6\u4e2d</li> <li><code>dumps</code> - \u5c06Python\u5bf9\u8c61\u5904\u7406\u6210JSON\u683c\u5f0f\u7684\u5b57\u7b26\u4e32</li> <li><code>load</code> - \u5c06\u6587\u4ef6\u4e2d\u7684JSON\u6570\u636e\u53cd\u5e8f\u5217\u5316\u6210\u5bf9\u8c61</li> <li><code>loads</code> - \u5c06\u5b57\u7b26\u4e32\u7684\u5185\u5bb9\u53cd\u5e8f\u5217\u5316\u6210Python\u5bf9\u8c61</li> </ul> <p>\u8fd9\u91cc\u51fa\u73b0\u4e86\u4e24\u4e2a\u6982\u5ff5\uff0c\u4e00\u4e2a\u53eb\u5e8f\u5217\u5316\uff0c\u4e00\u4e2a\u53eb\u53cd\u5e8f\u5217\u5316\u3002\u81ea\u7531\u7684\u767e\u79d1\u5168\u4e66\u7ef4\u57fa\u767e\u79d1\u4e0a\u5bf9\u8fd9\u4e24\u4e2a\u6982\u5ff5\u662f\u8fd9\u6837\u89e3\u91ca\u7684\uff1a\u201c\u5e8f\u5217\u5316\uff08serialization\uff09\u5728\u8ba1\u7b97\u673a\u79d1\u5b66\u7684\u6570\u636e\u5904\u7406\u4e2d\uff0c\u662f\u6307\u5c06\u6570\u636e\u7ed3\u6784\u6216\u5bf9\u8c61\u72b6\u6001\u8f6c\u6362\u4e3a\u53ef\u4ee5\u5b58\u50a8\u6216\u4f20\u8f93\u7684\u5f62\u5f0f\uff0c\u8fd9\u6837\u5728\u9700\u8981\u7684\u65f6\u5019\u80fd\u591f\u6062\u590d\u5230\u539f\u5148\u7684\u72b6\u6001\uff0c\u800c\u4e14\u901a\u8fc7\u5e8f\u5217\u5316\u7684\u6570\u636e\u91cd\u65b0\u83b7\u53d6\u5b57\u8282\u65f6\uff0c\u53ef\u4ee5\u5229\u7528\u8fd9\u4e9b\u5b57\u8282\u6765\u4ea7\u751f\u539f\u59cb\u5bf9\u8c61\u7684\u526f\u672c\uff08\u62f7\u8d1d\uff09\u3002\u4e0e\u8fd9\u4e2a\u8fc7\u7a0b\u76f8\u53cd\u7684\u52a8\u4f5c\uff0c\u5373\u4ece\u4e00\u7cfb\u5217\u5b57\u8282\u4e2d\u63d0\u53d6\u6570\u636e\u7ed3\u6784\u7684\u64cd\u4f5c\uff0c\u5c31\u662f\u53cd\u5e8f\u5217\u5316\uff08deserialization\uff09\u201d\u3002</p> <p>\u76ee\u524d\u7edd\u5927\u591a\u6570\u7f51\u7edc\u6570\u636e\u670d\u52a1\uff08\u6216\u79f0\u4e4b\u4e3a\u7f51\u7edcAPI\uff09\u90fd\u662f\u57fa\u4e8eHTTP\u534f\u8bae\u63d0\u4f9bJSON\u683c\u5f0f\u7684\u6570\u636e\uff0c\u5173\u4e8eHTTP\u534f\u8bae\u7684\u76f8\u5173\u77e5\u8bc6\uff0c\u53ef\u4ee5\u770b\u770b\u962e\u4e00\u5cf0\u8001\u5e08\u7684\u300aHTTP\u534f\u8bae\u5165\u95e8\u300b\uff0c\u5982\u679c\u60f3\u4e86\u89e3\u56fd\u5185\u7684\u7f51\u7edc\u6570\u636e\u670d\u52a1\uff0c\u53ef\u4ee5\u770b\u770b\u805a\u5408\u6570\u636e\u548c\u963f\u51e1\u8fbe\u6570\u636e\u7b49\u7f51\u7ad9\uff0c\u56fd\u5916\u7684\u53ef\u4ee5\u770b\u770b{API}Search\u7f51\u7ad9\u3002\u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u4e86\u5982\u4f55\u4f7f\u7528requests\u6a21\u5757\uff08\u5c01\u88c5\u5f97\u8db3\u591f\u597d\u7684\u7b2c\u4e09\u65b9\u7f51\u7edc\u8bbf\u95ee\u6a21\u5757\uff09\u8bbf\u95ee\u7f51\u7edcAPI\u83b7\u53d6\u56fd\u5185\u65b0\u95fb\uff0c\u5982\u4f55\u901a\u8fc7json\u6a21\u5757\u89e3\u6790JSON\u6570\u636e\u5e76\u663e\u793a\u65b0\u95fb\u6807\u9898\uff0c\u8fd9\u4e2a\u4f8b\u5b50\u4f7f\u7528\u4e86\u5929\u884c\u6570\u636e\u63d0\u4f9b\u7684\u56fd\u5185\u65b0\u95fb\u6570\u636e\u63a5\u53e3\uff0c\u5176\u4e2d\u7684APIKey\u9700\u8981\u81ea\u5df1\u5230\u8be5\u7f51\u7ad9\u7533\u8bf7\u3002</p> <pre><code>import requests\nimport json\n\n\ndef main():\n    resp = requests.get('http://api.tianapi.com/guonei/?key=APIKey&amp;num=10')\n    data_model = json.loads(resp.text)\n    for news in data_model['newslist']:\n        print(news['title'])\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u5728Python\u4e2d\u8981\u5b9e\u73b0\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u9664\u4e86\u4f7f\u7528json\u6a21\u5757\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528pickle\u548cshelve\u6a21\u5757\uff0c\u4f46\u662f\u8fd9\u4e24\u4e2a\u6a21\u5757\u662f\u4f7f\u7528\u7279\u6709\u7684\u5e8f\u5217\u5316\u534f\u8bae\u6765\u5e8f\u5217\u5316\u6570\u636e\uff0c\u56e0\u6b64\u5e8f\u5217\u5316\u540e\u7684\u6570\u636e\u53ea\u80fd\u88abPython\u8bc6\u522b\u3002\u5173\u4e8e\u8fd9\u4e24\u4e2a\u6a21\u5757\u7684\u76f8\u5173\u77e5\u8bc6\u53ef\u4ee5\u81ea\u5df1\u770b\u770b\u7f51\u7edc\u4e0a\u7684\u8d44\u6599\u3002\u53e6\u5916\uff0c\u5982\u679c\u8981\u4e86\u89e3\u66f4\u591a\u7684\u5173\u4e8ePython\u5f02\u5e38\u673a\u5236\u7684\u77e5\u8bc6\uff0c\u53ef\u4ee5\u770b\u770bsegmentfault\u4e0a\u9762\u7684\u6587\u7ae0\u300a\u603b\u7ed3\uff1aPython\u4e2d\u7684\u5f02\u5e38\u5904\u7406\u300b\uff0c\u8fd9\u7bc7\u6587\u7ae0\u4e0d\u4ec5\u4ecb\u7ecd\u4e86Python\u4e2d\u5f02\u5e38\u673a\u5236\u7684\u4f7f\u7528\uff0c\u8fd8\u603b\u7ed3\u4e86\u4e00\u7cfb\u5217\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u5f88\u503c\u5f97\u4e00\u8bfb\u3002</p>"},{"location":"python/Py-100Days/Day01-15/12.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/","title":"12.\u5b57\u7b26\u4e32\u548c\u6b63\u5219\u8868\u8fbe\u5f0f","text":""},{"location":"python/Py-100Days/Day01-15/12.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_1","title":"\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f","text":""},{"location":"python/Py-100Days/Day01-15/12.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_2","title":"\u6b63\u5219\u8868\u8fbe\u5f0f\u76f8\u5173\u77e5\u8bc6","text":"<p>\u5728\u7f16\u5199\u5904\u7406\u5b57\u7b26\u4e32\u7684\u7a0b\u5e8f\u6216\u7f51\u9875\u65f6\uff0c\u7ecf\u5e38\u4f1a\u6709\u67e5\u627e\u7b26\u5408\u67d0\u4e9b\u590d\u6742\u89c4\u5219\u7684\u5b57\u7b26\u4e32\u7684\u9700\u8981\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u5c31\u662f\u7528\u4e8e\u63cf\u8ff0\u8fd9\u4e9b\u89c4\u5219\u7684\u5de5\u5177\uff0c\u6362\u53e5\u8bdd\u8bf4\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u4e00\u79cd\u5de5\u5177\uff0c\u5b83\u5b9a\u4e49\u4e86\u5b57\u7b26\u4e32\u7684\u5339\u914d\u6a21\u5f0f\uff08\u5982\u4f55\u68c0\u67e5\u4e00\u4e2a\u5b57\u7b26\u4e32\u662f\u5426\u6709\u8ddf\u67d0\u79cd\u6a21\u5f0f\u5339\u914d\u7684\u90e8\u5206\u6216\u8005\u4ece\u4e00\u4e2a\u5b57\u7b26\u4e32\u4e2d\u5c06\u4e0e\u6a21\u5f0f\u5339\u914d\u7684\u90e8\u5206\u63d0\u53d6\u51fa\u6765\u6216\u8005\u66ff\u6362\u6389\uff09\u3002\u5982\u679c\u4f60\u5728Windows\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u4f7f\u7528\u8fc7\u6587\u4ef6\u67e5\u627e\u5e76\u4e14\u5728\u6307\u5b9a\u6587\u4ef6\u540d\u65f6\u4f7f\u7528\u8fc7\u901a\u914d\u7b26\uff08*\u548c?\uff09\uff0c\u90a3\u4e48\u6b63\u5219\u8868\u8fbe\u5f0f\u4e5f\u662f\u4e0e\u4e4b\u7c7b\u4f3c\u7684\u7528\u6765\u8fdb\u884c\u6587\u672c\u5339\u914d\u7684\u5de5\u5177\uff0c\u53ea\u4e0d\u8fc7\u6bd4\u8d77\u901a\u914d\u7b26\u6b63\u5219\u8868\u8fbe\u5f0f\u66f4\u5f3a\u5927\uff0c\u5b83\u80fd\u66f4\u7cbe\u786e\u5730\u63cf\u8ff0\u4f60\u7684\u9700\u6c42\uff08\u5f53\u7136\u4f60\u4ed8\u51fa\u7684\u4ee3\u4ef7\u662f\u4e66\u5199\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u6bd4\u6253\u51fa\u4e00\u4e2a\u901a\u914d\u7b26\u8981\u590d\u6742\u5f97\u591a\uff0c\u8981\u77e5\u9053\u4efb\u4f55\u7ed9\u4f60\u5e26\u6765\u597d\u5904\u7684\u4e1c\u897f\u90fd\u662f\u6709\u4ee3\u4ef7\u7684\uff0c\u5c31\u5982\u540c\u5b66\u4e60\u4e00\u95e8\u7f16\u7a0b\u8bed\u8a00\u4e00\u6837\uff09\uff0c\u6bd4\u5982\u4f60\u53ef\u4ee5\u7f16\u5199\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u7528\u6765\u67e5\u627e\u6240\u6709\u4ee50\u5f00\u5934\uff0c\u540e\u9762\u8ddf\u77402-3\u4e2a\u6570\u5b57\uff0c\u7136\u540e\u662f\u4e00\u4e2a\u8fde\u5b57\u53f7\u201c-\u201d\uff0c\u6700\u540e\u662f7\u62168\u4f4d\u6570\u5b57\u7684\u5b57\u7b26\u4e32\uff08\u50cf028-12345678\u62160813-7654321\uff09\uff0c\u8fd9\u4e0d\u5c31\u662f\u56fd\u5185\u7684\u5ea7\u673a\u53f7\u7801\u5417\u3002\u6700\u521d\u8ba1\u7b97\u673a\u662f\u4e3a\u4e86\u505a\u6570\u5b66\u8fd0\u7b97\u800c\u8bde\u751f\u7684\uff0c\u5904\u7406\u7684\u4fe1\u606f\u57fa\u672c\u4e0a\u90fd\u662f\u6570\u503c\uff0c\u800c\u4eca\u5929\u6211\u4eec\u5728\u65e5\u5e38\u5de5\u4f5c\u4e2d\u5904\u7406\u7684\u4fe1\u606f\u57fa\u672c\u4e0a\u90fd\u662f\u6587\u672c\u6570\u636e\uff0c\u6211\u4eec\u5e0c\u671b\u8ba1\u7b97\u673a\u80fd\u591f\u8bc6\u522b\u548c\u5904\u7406\u7b26\u5408\u67d0\u4e9b\u6a21\u5f0f\u7684\u6587\u672c\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u5c31\u663e\u5f97\u975e\u5e38\u91cd\u8981\u4e86\u3002\u4eca\u5929\u51e0\u4e4e\u6240\u6709\u7684\u7f16\u7a0b\u8bed\u8a00\u90fd\u63d0\u4f9b\u4e86\u5bf9\u6b63\u5219\u8868\u8fbe\u5f0f\u64cd\u4f5c\u7684\u652f\u6301\uff0cPython\u901a\u8fc7\u6807\u51c6\u5e93\u4e2d\u7684re\u6a21\u5757\u6765\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\u64cd\u4f5c\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u4e0b\u9762\u4e00\u4e2a\u95ee\u9898\uff1a\u6211\u4eec\u4ece\u67d0\u4e2a\u5730\u65b9\uff08\u53ef\u80fd\u662f\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\uff0c\u4e5f\u53ef\u80fd\u662f\u7f51\u7edc\u4e0a\u7684\u4e00\u5219\u65b0\u95fb\uff09\u83b7\u5f97\u4e86\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5e0c\u671b\u5728\u5b57\u7b26\u4e32\u4e2d\u627e\u51fa\u624b\u673a\u53f7\u548c\u5ea7\u673a\u53f7\u3002\u5f53\u7136\u6211\u4eec\u53ef\u4ee5\u8bbe\u5b9a\u624b\u673a\u53f7\u662f11\u4f4d\u7684\u6570\u5b57\uff08\u6ce8\u610f\u5e76\u4e0d\u662f\u968f\u673a\u768411\u4f4d\u6570\u5b57\uff0c\u56e0\u4e3a\u4f60\u6ca1\u6709\u89c1\u8fc7\u201c25012345678\u201d\u8fd9\u6837\u7684\u624b\u673a\u53f7\u5427\uff09\u800c\u5ea7\u673a\u53f7\u8ddf\u4e0a\u4e00\u6bb5\u4e2d\u63cf\u8ff0\u7684\u6a21\u5f0f\u76f8\u540c\uff0c\u5982\u679c\u4e0d\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u8981\u5b8c\u6210\u8fd9\u4e2a\u4efb\u52a1\u5c31\u4f1a\u5f88\u9ebb\u70e6\u3002</p> <p>\u5173\u4e8e\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u76f8\u5173\u77e5\u8bc6\uff0c\u5927\u5bb6\u53ef\u4ee5\u9605\u8bfb\u4e00\u7bc7\u975e\u5e38\u6709\u540d\u7684\u535a\u5ba2\u53eb\u300a\u6b63\u5219\u8868\u8fbe\u5f0f30\u5206\u949f\u5165\u95e8\u6559\u7a0b\u300b\uff0c\u8bfb\u5b8c\u8fd9\u7bc7\u6587\u7ae0\u540e\u4f60\u5c31\u53ef\u4ee5\u770b\u61c2\u4e0b\u9762\u7684\u8868\u683c\uff0c\u8fd9\u662f\u6211\u4eec\u5bf9\u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\u7684\u4e00\u4e9b\u57fa\u672c\u7b26\u53f7\u8fdb\u884c\u7684\u627c\u8981\u603b\u7ed3\u3002</p> \u7b26\u53f7 \u89e3\u91ca \u793a\u4f8b \u8bf4\u660e . \u5339\u914d\u4efb\u610f\u5b57\u7b26 b.t \u53ef\u4ee5\u5339\u914dbat / but / b#t / b1t\u7b49 \\w \u5339\u914d\u5b57\u6bcd/\u6570\u5b57/\u4e0b\u5212\u7ebf b\\wt \u53ef\u4ee5\u5339\u914dbat / b1t / b_t\u7b49\u4f46\u4e0d\u80fd\u5339\u914db#t \\s \u5339\u914d\u7a7a\u767d\u5b57\u7b26\uff08\u5305\u62ec\\r\u3001\\n\u3001\\t\u7b49\uff09 love\\syou \u53ef\u4ee5\u5339\u914dlove you \\d \u5339\u914d\u6570\u5b57 \\d\\d \u53ef\u4ee5\u5339\u914d01 / 23 / 99\u7b49 \\b \u5339\u914d\u5355\u8bcd\u7684\u8fb9\u754c \\bThe\\b ^ \u5339\u914d\u5b57\u7b26\u4e32\u7684\u5f00\u59cb ^The \u53ef\u4ee5\u5339\u914dThe\u5f00\u5934\u7684\u5b57\u7b26\u4e32 $ \u5339\u914d\u5b57\u7b26\u4e32\u7684\u7ed3\u675f .exe$ \u53ef\u4ee5\u5339\u914d.exe\u7ed3\u5c3e\u7684\u5b57\u7b26\u4e32 \\W \u5339\u914d\u975e\u5b57\u6bcd/\u6570\u5b57/\u4e0b\u5212\u7ebf b\\Wt \u53ef\u4ee5\u5339\u914db#t / b@t\u7b49\u4f46\u4e0d\u80fd\u5339\u914dbut / b1t / b_t\u7b49 \\S \u5339\u914d\u975e\u7a7a\u767d\u5b57\u7b26 love\\Syou \u53ef\u4ee5\u5339\u914dlove#you\u7b49\u4f46\u4e0d\u80fd\u5339\u914dlove you \\D \u5339\u914d\u975e\u6570\u5b57 \\d\\D \u53ef\u4ee5\u5339\u914d9a / 3# / 0F\u7b49 \\B \u5339\u914d\u975e\u5355\u8bcd\u8fb9\u754c \\Bio\\B [] \u5339\u914d\u6765\u81ea\u5b57\u7b26\u96c6\u7684\u4efb\u610f\u5355\u4e00\u5b57\u7b26 [aeiou] \u53ef\u4ee5\u5339\u914d\u4efb\u4e00\u5143\u97f3\u5b57\u6bcd\u5b57\u7b26 [^] \u5339\u914d\u4e0d\u5728\u5b57\u7b26\u96c6\u4e2d\u7684\u4efb\u610f\u5355\u4e00\u5b57\u7b26 [^aeiou] \u53ef\u4ee5\u5339\u914d\u4efb\u4e00\u975e\u5143\u97f3\u5b57\u6bcd\u5b57\u7b26 * \u5339\u914d0\u6b21\u6216\u591a\u6b21 \\w* + \u5339\u914d1\u6b21\u6216\u591a\u6b21 \\w+ ? \u5339\u914d0\u6b21\u62161\u6b21 \\w? {N} \u5339\u914dN\u6b21 \\w{3} {M,} \u5339\u914d\u81f3\u5c11M\u6b21 \\w{3,} {M,N} \u5339\u914d\u81f3\u5c11M\u6b21\u81f3\u591aN\u6b21 \\w{3,6} | \u5206\u652f foo|bar \u53ef\u4ee5\u5339\u914dfoo\u6216\u8005bar (?#) \u6ce8\u91ca (exp) \u5339\u914dexp\u5e76\u6355\u83b7\u5230\u81ea\u52a8\u547d\u540d\u7684\u7ec4\u4e2d (?\u00a0&lt;name&gt;exp) \u5339\u914dexp\u5e76\u6355\u83b7\u5230\u540d\u4e3aname\u7684\u7ec4\u4e2d (?:exp) \u5339\u914dexp\u4f46\u662f\u4e0d\u6355\u83b7\u5339\u914d\u7684\u6587\u672c (?=exp) \u5339\u914dexp\u524d\u9762\u7684\u4f4d\u7f6e \\b\\w+(?=ing) \u53ef\u4ee5\u5339\u914dI'm dancing\u4e2d\u7684danc (?&lt;=exp) \u5339\u914dexp\u540e\u9762\u7684\u4f4d\u7f6e (?&lt;=\\bdanc)\\w+\\b \u53ef\u4ee5\u5339\u914dI love dancing and reading\u4e2d\u7684\u7b2c\u4e00\u4e2aing (?!exp) \u5339\u914d\u540e\u9762\u4e0d\u662fexp\u7684\u4f4d\u7f6e (?&lt;!exp) \u5339\u914d\u524d\u9762\u4e0d\u662fexp\u7684\u4f4d\u7f6e *? \u91cd\u590d\u4efb\u610f\u6b21\uff0c\u4f46\u5c3d\u53ef\u80fd\u5c11\u91cd\u590d a.*ba.*?b \u5c06\u6b63\u5219\u8868\u8fbe\u5f0f\u5e94\u7528\u4e8eaabab\uff0c\u524d\u8005\u4f1a\u5339\u914d\u6574\u4e2a\u5b57\u7b26\u4e32aabab\uff0c\u540e\u8005\u4f1a\u5339\u914daab\u548cab\u4e24\u4e2a\u5b57\u7b26\u4e32 +? \u91cd\u590d1\u6b21\u6216\u591a\u6b21\uff0c\u4f46\u5c3d\u53ef\u80fd\u5c11\u91cd\u590d ?? \u91cd\u590d0\u6b21\u62161\u6b21\uff0c\u4f46\u5c3d\u53ef\u80fd\u5c11\u91cd\u590d {M,N}? \u91cd\u590dM\u5230N\u6b21\uff0c\u4f46\u5c3d\u53ef\u80fd\u5c11\u91cd\u590d {M,}? \u91cd\u590dM\u6b21\u4ee5\u4e0a\uff0c\u4f46\u5c3d\u53ef\u80fd\u5c11\u91cd\u590d <p>\u8bf4\u660e\uff1a \u5982\u679c\u9700\u8981\u5339\u914d\u7684\u5b57\u7b26\u662f\u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\u7684\u7279\u6b8a\u5b57\u7b26\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528\\\u8fdb\u884c\u8f6c\u4e49\u5904\u7406\uff0c\u4f8b\u5982\u60f3\u5339\u914d\u5c0f\u6570\u70b9\u53ef\u4ee5\u5199\u6210\\.\u5c31\u53ef\u4ee5\u4e86\uff0c\u56e0\u4e3a\u76f4\u63a5\u5199.\u4f1a\u5339\u914d\u4efb\u610f\u5b57\u7b26\uff1b\u540c\u7406\uff0c\u60f3\u5339\u914d\u5706\u62ec\u53f7\u5fc5\u987b\u5199\u6210\\(\u548c\\)\uff0c\u5426\u5219\u5706\u62ec\u53f7\u88ab\u89c6\u4e3a\u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\u7684\u5206\u7ec4\u3002</p>"},{"location":"python/Py-100Days/Day01-15/12.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#python","title":"Python\u5bf9\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u652f\u6301","text":"<p>Python\u63d0\u4f9b\u4e86re\u6a21\u5757\u6765\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\u76f8\u5173\u64cd\u4f5c\uff0c\u4e0b\u9762\u662fre\u6a21\u5757\u4e2d\u7684\u6838\u5fc3\u51fd\u6570\u3002</p> \u51fd\u6570 \u8bf4\u660e compile(pattern, flags=0) \u7f16\u8bd1\u6b63\u5219\u8868\u8fbe\u5f0f\u8fd4\u56de\u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9\u8c61 match(pattern, string, flags=0) \u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u5b57\u7b26\u4e32 \u6210\u529f\u8fd4\u56de\u5339\u914d\u5bf9\u8c61 \u5426\u5219\u8fd4\u56deNone search(pattern, string, flags=0) \u641c\u7d22\u5b57\u7b26\u4e32\u4e2d\u7b2c\u4e00\u6b21\u51fa\u73b0\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u6a21\u5f0f \u6210\u529f\u8fd4\u56de\u5339\u914d\u5bf9\u8c61 \u5426\u5219\u8fd4\u56deNone split(pattern, string, maxsplit=0, flags=0) \u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u6307\u5b9a\u7684\u6a21\u5f0f\u5206\u9694\u7b26\u62c6\u5206\u5b57\u7b26\u4e32 \u8fd4\u56de\u5217\u8868 sub(pattern, repl, string, count=0, flags=0) \u7528\u6307\u5b9a\u7684\u5b57\u7b26\u4e32\u66ff\u6362\u539f\u5b57\u7b26\u4e32\u4e2d\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u7684\u6a21\u5f0f \u53ef\u4ee5\u7528count\u6307\u5b9a\u66ff\u6362\u7684\u6b21\u6570 fullmatch(pattern, string, flags=0) match\u51fd\u6570\u7684\u5b8c\u5168\u5339\u914d\uff08\u4ece\u5b57\u7b26\u4e32\u5f00\u5934\u5230\u7ed3\u5c3e\uff09\u7248\u672c findall(pattern, string, flags=0) \u67e5\u627e\u5b57\u7b26\u4e32\u6240\u6709\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u7684\u6a21\u5f0f \u8fd4\u56de\u5b57\u7b26\u4e32\u7684\u5217\u8868 finditer(pattern, string, flags=0) \u67e5\u627e\u5b57\u7b26\u4e32\u6240\u6709\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u7684\u6a21\u5f0f \u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668 purge() \u6e05\u9664\u9690\u5f0f\u7f16\u8bd1\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u7f13\u5b58 re.I / re.IGNORECASE \u5ffd\u7565\u5927\u5c0f\u5199\u5339\u914d\u6807\u8bb0 re.M / re.MULTILINE \u591a\u884c\u5339\u914d\u6807\u8bb0 <p>\u8bf4\u660e\uff1a \u4e0a\u9762\u63d0\u5230\u7684re\u6a21\u5757\u4e2d\u7684\u8fd9\u4e9b\u51fd\u6570\uff0c\u5b9e\u9645\u5f00\u53d1\u4e2d\u4e5f\u53ef\u4ee5\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9\u8c61\u7684\u65b9\u6cd5\u66ff\u4ee3\u5bf9\u8fd9\u4e9b\u51fd\u6570\u7684\u4f7f\u7528\uff0c\u5982\u679c\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u9700\u8981\u91cd\u590d\u7684\u4f7f\u7528\uff0c\u90a3\u4e48\u5148\u901a\u8fc7compile\u51fd\u6570\u7f16\u8bd1\u6b63\u5219\u8868\u8fbe\u5f0f\u5e76\u521b\u5efa\u51fa\u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9\u8c61\u65e0\u7591\u662f\u66f4\u4e3a\u660e\u667a\u7684\u9009\u62e9\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u901a\u8fc7\u4e00\u7cfb\u5217\u7684\u4f8b\u5b50\u6765\u544a\u8bc9\u5927\u5bb6\u5728Python\u4e2d\u5982\u4f55\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u3002</p>"},{"location":"python/Py-100Days/Day01-15/12.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#1qq","title":"\u4f8b\u5b501\uff1a\u9a8c\u8bc1\u8f93\u5165\u7528\u6237\u540d\u548cQQ\u53f7\u662f\u5426\u6709\u6548\u5e76\u7ed9\u51fa\u5bf9\u5e94\u7684\u63d0\u793a\u4fe1\u606f\u3002","text":"<pre><code>\"\"\"\n\u9a8c\u8bc1\u8f93\u5165\u7528\u6237\u540d\u548cQQ\u53f7\u662f\u5426\u6709\u6548\u5e76\u7ed9\u51fa\u5bf9\u5e94\u7684\u63d0\u793a\u4fe1\u606f\n\n\u8981\u6c42\uff1a\u7528\u6237\u540d\u5fc5\u987b\u7531\u5b57\u6bcd\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u6784\u6210\u4e14\u957f\u5ea6\u57286~20\u4e2a\u5b57\u7b26\u4e4b\u95f4\uff0cQQ\u53f7\u662f5~12\u7684\u6570\u5b57\u4e14\u9996\u4f4d\u4e0d\u80fd\u4e3a0\n\"\"\"\nimport re\n\n\ndef main():\n    username = input('\u8bf7\u8f93\u5165\u7528\u6237\u540d: ')\n    qq = input('\u8bf7\u8f93\u5165QQ\u53f7: ')\n    # match\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u6b63\u5219\u8868\u8fbe\u5f0f\u5b57\u7b26\u4e32\u6216\u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9\u8c61\n    # \u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u8981\u8ddf\u6b63\u5219\u8868\u8fbe\u5f0f\u505a\u5339\u914d\u7684\u5b57\u7b26\u4e32\u5bf9\u8c61\n    m1 = re.match(r'^[0-9a-zA-Z_]{6,20}$', username)\n    if not m1:\n        print('\u8bf7\u8f93\u5165\u6709\u6548\u7684\u7528\u6237\u540d.')\n    m2 = re.match(r'^[1-9]\\d{4,11}$', qq)\n    if not m2:\n        print('\u8bf7\u8f93\u5165\u6709\u6548\u7684QQ\u53f7.')\n    if m1 and m2:\n        print('\u4f60\u8f93\u5165\u7684\u4fe1\u606f\u662f\u6709\u6548\u7684!')\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u63d0\u793a\uff1a \u4e0a\u9762\u5728\u4e66\u5199\u6b63\u5219\u8868\u8fbe\u5f0f\u65f6\u4f7f\u7528\u4e86\u201c\u539f\u59cb\u5b57\u7b26\u4e32\u201d\u7684\u5199\u6cd5\uff08\u5728\u5b57\u7b26\u4e32\u524d\u9762\u52a0\u4e0a\u4e86r\uff09\uff0c\u6240\u8c13\u201c\u539f\u59cb\u5b57\u7b26\u4e32\u201d\u5c31\u662f\u5b57\u7b26\u4e32\u4e2d\u7684\u6bcf\u4e2a\u5b57\u7b26\u90fd\u662f\u5b83\u539f\u59cb\u7684\u610f\u4e49\uff0c\u8bf4\u5f97\u66f4\u76f4\u63a5\u4e00\u70b9\u5c31\u662f\u5b57\u7b26\u4e32\u4e2d\u6ca1\u6709\u6240\u8c13\u7684\u8f6c\u4e49\u5b57\u7b26\u5566\u3002\u56e0\u4e3a\u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\u6709\u5f88\u591a\u5143\u5b57\u7b26\u548c\u9700\u8981\u8fdb\u884c\u8f6c\u4e49\u7684\u5730\u65b9\uff0c\u5982\u679c\u4e0d\u4f7f\u7528\u539f\u59cb\u5b57\u7b26\u4e32\u5c31\u9700\u8981\u5c06\u53cd\u659c\u6760\u5199\u4f5c\\\\\uff0c\u4f8b\u5982\u8868\u793a\u6570\u5b57\u7684\\d\u5f97\u4e66\u5199\u6210\\\\d\uff0c\u8fd9\u6837\u4e0d\u4ec5\u5199\u8d77\u6765\u4e0d\u65b9\u4fbf\uff0c\u9605\u8bfb\u7684\u65f6\u5019\u4e5f\u4f1a\u5f88\u5403\u529b\u3002</p>"},{"location":"python/Py-100Days/Day01-15/12.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#2","title":"\u4f8b\u5b502\uff1a\u4ece\u4e00\u6bb5\u6587\u5b57\u4e2d\u63d0\u53d6\u51fa\u56fd\u5185\u624b\u673a\u53f7\u7801\u3002","text":"<p>\u4e0b\u9762\u8fd9\u5f20\u56fe\u662f\u622a\u6b62\u52302017\u5e74\u5e95\uff0c\u56fd\u5185\u4e09\u5bb6\u8fd0\u8425\u5546\u63a8\u51fa\u7684\u624b\u673a\u53f7\u6bb5\u3002</p> <p></p> <pre><code>import re\n\n\ndef main():\n    # \u521b\u5efa\u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9\u8c61 \u4f7f\u7528\u4e86\u524d\u77bb\u548c\u56de\u987e\u6765\u4fdd\u8bc1\u624b\u673a\u53f7\u524d\u540e\u4e0d\u5e94\u8be5\u51fa\u73b0\u6570\u5b57\n    pattern = re.compile(r'(?&lt;=\\D)1[34578]\\d{9}(?=\\D)')\n    sentence = '''\n    \u91cd\u8981\u7684\u4e8b\u60c5\u8bf48130123456789\u904d\uff0c\u6211\u7684\u624b\u673a\u53f7\u662f13512346789\u8fd9\u4e2a\u9753\u53f7\uff0c\n    \u4e0d\u662f15600998765\uff0c\u4e5f\u662f110\u6216119\uff0c\u738b\u5927\u9524\u7684\u624b\u673a\u53f7\u624d\u662f15600998765\u3002\n    '''\n    # \u67e5\u627e\u6240\u6709\u5339\u914d\u5e76\u4fdd\u5b58\u5230\u4e00\u4e2a\u5217\u8868\u4e2d\n    mylist = re.findall(pattern, sentence)\n    print(mylist)\n    print('--------\u534e\u4e3d\u7684\u5206\u9694\u7ebf--------')\n    # \u901a\u8fc7\u8fed\u4ee3\u5668\u53d6\u51fa\u5339\u914d\u5bf9\u8c61\u5e76\u83b7\u5f97\u5339\u914d\u7684\u5185\u5bb9\n    for temp in pattern.finditer(sentence):\n        print(temp.group())\n    print('--------\u534e\u4e3d\u7684\u5206\u9694\u7ebf--------')\n    # \u901a\u8fc7search\u51fd\u6570\u6307\u5b9a\u641c\u7d22\u4f4d\u7f6e\u627e\u51fa\u6240\u6709\u5339\u914d\n    m = pattern.search(sentence)\n    while m:\n        print(m.group())\n        m = pattern.search(sentence, m.end())\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8bf4\u660e\uff1a \u4e0a\u9762\u5339\u914d\u56fd\u5185\u624b\u673a\u53f7\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5e76\u4e0d\u591f\u597d\uff0c\u56e0\u4e3a\u50cf14\u5f00\u5934\u7684\u53f7\u7801\u53ea\u6709145\u6216147\uff0c\u800c\u4e0a\u9762\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5e76\u6ca1\u6709\u8003\u8651\u8fd9\u79cd\u60c5\u51b5\uff0c\u8981\u5339\u914d\u56fd\u5185\u624b\u673a\u53f7\uff0c\u66f4\u597d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5199\u6cd5\u662f\uff1a<code>(?&lt;=\\D)(1[38]\\d{9}|14[57]\\d{8}|15[0-35-9]\\d{8}|17[678]\\d{8})(?=\\D)</code>\uff0c\u56fd\u5185\u6700\u8fd1\u597d\u50cf\u670919\u548c16\u5f00\u5934\u7684\u624b\u673a\u53f7\u4e86\uff0c\u4f46\u662f\u8fd9\u4e2a\u6682\u65f6\u4e0d\u5728\u6211\u4eec\u8003\u8651\u4e4b\u5217\u3002</p>"},{"location":"python/Py-100Days/Day01-15/12.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#3","title":"\u4f8b\u5b503\uff1a\u66ff\u6362\u5b57\u7b26\u4e32\u4e2d\u7684\u4e0d\u826f\u5185\u5bb9","text":"<pre><code>import re\n\n\ndef main():\n    sentence = '\u4f60\u4e2b\u662f\u50bb\u53c9\u5417? \u6211\u64cd\u4f60\u5927\u7237\u7684. Fuck you.'\n    purified = re.sub('[\u64cd\u808f\u8279]|fuck|shit|\u50bb[\u6bd4\u5c44\u903c\u53c9\u7f3a\u540a\u5c4c]|\u715e\u7b14',\n                      '*', sentence, flags=re.IGNORECASE)\n    print(purified)  # \u4f60\u4e2b\u662f*\u5417? \u6211*\u4f60\u5927\u7237\u7684. * you.\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8bf4\u660e\uff1a re\u6a21\u5757\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u76f8\u5173\u51fd\u6570\u4e2d\u90fd\u6709\u4e00\u4e2aflags\u53c2\u6570\uff0c\u5b83\u4ee3\u8868\u4e86\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5339\u914d\u6807\u8bb0\uff0c\u53ef\u4ee5\u901a\u8fc7\u8be5\u6807\u8bb0\u6765\u6307\u5b9a\u5339\u914d\u65f6\u662f\u5426\u5ffd\u7565\u5927\u5c0f\u5199\u3001\u662f\u5426\u8fdb\u884c\u591a\u884c\u5339\u914d\u3001\u662f\u5426\u663e\u793a\u8c03\u8bd5\u4fe1\u606f\u7b49\u3002\u5982\u679c\u9700\u8981\u4e3aflags\u53c2\u6570\u6307\u5b9a\u591a\u4e2a\u503c\uff0c\u53ef\u4ee5\u4f7f\u7528\u6309\u4f4d\u6216\u8fd0\u7b97\u7b26\u8fdb\u884c\u53e0\u52a0\uff0c\u5982<code>flags=re.I | re.M</code>\u3002</p>"},{"location":"python/Py-100Days/Day01-15/12.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#4","title":"\u4f8b\u5b504\uff1a\u62c6\u5206\u957f\u5b57\u7b26\u4e32","text":"<pre><code>import re\n\n\ndef main():\n    poem = '\u7a97\u524d\u660e\u6708\u5149\uff0c\u7591\u662f\u5730\u4e0a\u971c\u3002\u4e3e\u5934\u671b\u660e\u6708\uff0c\u4f4e\u5934\u601d\u6545\u4e61\u3002'\n    sentence_list = re.split(r'[\uff0c\u3002, .]', poem)\n    while '' in sentence_list:\n        sentence_list.remove('')\n    print(sentence_list)  # ['\u7a97\u524d\u660e\u6708\u5149', '\u7591\u662f\u5730\u4e0a\u971c', '\u4e3e\u5934\u671b\u660e\u6708', '\u4f4e\u5934\u601d\u6545\u4e61']\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/12.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#_3","title":"\u540e\u8bdd","text":"<p>\u5982\u679c\u8981\u4ece\u4e8b\u722c\u866b\u7c7b\u5e94\u7528\u7684\u5f00\u53d1\uff0c\u90a3\u4e48\u6b63\u5219\u8868\u8fbe\u5f0f\u4e00\u5b9a\u662f\u4e00\u4e2a\u975e\u5e38\u597d\u7684\u52a9\u624b\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u8fc5\u901f\u7684\u4ece\u7f51\u9875\u4ee3\u7801\u4e2d\u53d1\u73b0\u67d0\u79cd\u6211\u4eec\u6307\u5b9a\u7684\u6a21\u5f0f\u5e76\u63d0\u53d6\u51fa\u6211\u4eec\u9700\u8981\u7684\u4fe1\u606f\uff0c\u5f53\u7136\u5bf9\u4e8e\u521d\u5b66\u8005\u6765\u6536\uff0c\u8981\u7f16\u5199\u4e00\u4e2a\u6b63\u786e\u7684\u9002\u5f53\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u53ef\u80fd\u5e76\u4e0d\u662f\u4e00\u4ef6\u5bb9\u6613\u7684\u4e8b\u60c5\uff08\u5f53\u7136\u6709\u4e9b\u5e38\u7528\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u53ef\u4ee5\u76f4\u63a5\u5728\u7f51\u4e0a\u627e\u627e\uff09\uff0c\u6240\u4ee5\u5b9e\u9645\u5f00\u53d1\u722c\u866b\u5e94\u7528\u7684\u65f6\u5019\uff0c\u6709\u5f88\u591a\u4eba\u4f1a\u9009\u62e9Beautiful Soup\u6216Lxml\u6765\u8fdb\u884c\u5339\u914d\u548c\u4fe1\u606f\u7684\u63d0\u53d6\uff0c\u524d\u8005\u7b80\u5355\u65b9\u4fbf\u4f46\u662f\u6027\u80fd\u8f83\u5dee\uff0c\u540e\u8005\u65e2\u597d\u7528\u6027\u80fd\u4e5f\u597d\uff0c\u4f46\u662f\u5b89\u88c5\u7a0d\u5acc\u9ebb\u70e6\uff0c\u8fd9\u4e9b\u5185\u5bb9\u6211\u4eec\u4f1a\u5728\u540e\u671f\u7684\u722c\u866b\u4e13\u9898\u4e2d\u4e3a\u5927\u5bb6\u4ecb\u7ecd\u3002</p>"},{"location":"python/Py-100Days/Day01-15/13.%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/","title":"13.\u8fdb\u7a0b\u548c\u7ebf\u7a0b","text":""},{"location":"python/Py-100Days/Day01-15/13.%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/#_1","title":"\u8fdb\u7a0b\u548c\u7ebf\u7a0b","text":"<p>\u4eca\u5929\u6211\u4eec\u4f7f\u7528\u7684\u8ba1\u7b97\u673a\u65e9\u5df2\u8fdb\u5165\u591aCPU\u6216\u591a\u6838\u65f6\u4ee3\uff0c\u800c\u6211\u4eec\u4f7f\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u90fd\u662f\u652f\u6301\u201c\u591a\u4efb\u52a1\u201d\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u8fd9\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u540c\u65f6\u8fd0\u884c\u591a\u4e2a\u7a0b\u5e8f\uff0c\u4e5f\u53ef\u4ee5\u5c06\u4e00\u4e2a\u7a0b\u5e8f\u5206\u89e3\u4e3a\u82e5\u5e72\u4e2a\u76f8\u5bf9\u72ec\u7acb\u7684\u5b50\u4efb\u52a1\uff0c\u8ba9\u591a\u4e2a\u5b50\u4efb\u52a1\u5e76\u53d1\u7684\u6267\u884c\uff0c\u4ece\u800c\u7f29\u77ed\u7a0b\u5e8f\u7684\u6267\u884c\u65f6\u95f4\uff0c\u540c\u65f6\u4e5f\u8ba9\u7528\u6237\u83b7\u5f97\u66f4\u597d\u7684\u4f53\u9a8c\u3002\u56e0\u6b64\u5728\u5f53\u4e0b\u4e0d\u7ba1\u662f\u7528\u4ec0\u4e48\u7f16\u7a0b\u8bed\u8a00\u8fdb\u884c\u5f00\u53d1\uff0c\u5b9e\u73b0\u8ba9\u7a0b\u5e8f\u540c\u65f6\u6267\u884c\u591a\u4e2a\u4efb\u52a1\u4e5f\u5c31\u662f\u5e38\u8bf4\u7684\u201c\u5e76\u53d1\u7f16\u7a0b\u201d\uff0c\u5e94\u8be5\u662f\u7a0b\u5e8f\u5458\u5fc5\u5907\u6280\u80fd\u4e4b\u4e00\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5148\u8ba8\u8bba\u4e24\u4e2a\u6982\u5ff5\uff0c\u4e00\u4e2a\u53eb\u8fdb\u7a0b\uff0c\u4e00\u4e2a\u53eb\u7ebf\u7a0b\u3002</p>"},{"location":"python/Py-100Days/Day01-15/13.%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/#_2","title":"\u6982\u5ff5","text":"<p>\u8fdb\u7a0b\u5c31\u662f\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u6267\u884c\u7684\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4ee5\u8fdb\u7a0b\u4e3a\u5355\u4f4d\u5206\u914d\u5b58\u50a8\u7a7a\u95f4\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u6709\u81ea\u5df1\u7684\u5730\u5740\u7a7a\u95f4\u3001\u6570\u636e\u6808\u4ee5\u53ca\u5176\u4ed6\u7528\u4e8e\u8ddf\u8e2a\u8fdb\u7a0b\u6267\u884c\u7684\u8f85\u52a9\u6570\u636e\uff0c\u64cd\u4f5c\u7cfb\u7edf\u7ba1\u7406\u6240\u6709\u8fdb\u7a0b\u7684\u6267\u884c\uff0c\u4e3a\u5b83\u4eec\u5408\u7406\u7684\u5206\u914d\u8d44\u6e90\u3002\u8fdb\u7a0b\u53ef\u4ee5\u901a\u8fc7fork\u6216spawn\u7684\u65b9\u5f0f\u6765\u521b\u5efa\u65b0\u7684\u8fdb\u7a0b\u6765\u6267\u884c\u5176\u4ed6\u7684\u4efb\u52a1\uff0c\u4e0d\u8fc7\u65b0\u7684\u8fdb\u7a0b\u4e5f\u6709\u81ea\u5df1\u72ec\u7acb\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u56e0\u6b64\u5fc5\u987b\u901a\u8fc7\u8fdb\u7a0b\u95f4\u901a\u4fe1\u673a\u5236\uff08IPC\uff0cInter-Process Communication\uff09\u6765\u5b9e\u73b0\u6570\u636e\u5171\u4eab\uff0c\u5177\u4f53\u7684\u65b9\u5f0f\u5305\u62ec\u7ba1\u9053\u3001\u4fe1\u53f7\u3001\u5957\u63a5\u5b57\u3001\u5171\u4eab\u5185\u5b58\u533a\u7b49\u3002</p> <p>\u4e00\u4e2a\u8fdb\u7a0b\u8fd8\u53ef\u4ee5\u62e5\u6709\u591a\u4e2a\u5e76\u53d1\u7684\u6267\u884c\u7ebf\u7d22\uff0c\u7b80\u5355\u7684\u8bf4\u5c31\u662f\u62e5\u6709\u591a\u4e2a\u53ef\u4ee5\u83b7\u5f97CPU\u8c03\u5ea6\u7684\u6267\u884c\u5355\u5143\uff0c\u8fd9\u5c31\u662f\u6240\u8c13\u7684\u7ebf\u7a0b\u3002\u7531\u4e8e\u7ebf\u7a0b\u5728\u540c\u4e00\u4e2a\u8fdb\u7a0b\u4e0b\uff0c\u5b83\u4eec\u53ef\u4ee5\u5171\u4eab\u76f8\u540c\u7684\u4e0a\u4e0b\u6587\uff0c\u56e0\u6b64\u76f8\u5bf9\u4e8e\u8fdb\u7a0b\u800c\u8a00\uff0c\u7ebf\u7a0b\u95f4\u7684\u4fe1\u606f\u5171\u4eab\u548c\u901a\u4fe1\u66f4\u52a0\u5bb9\u6613\u3002\u5f53\u7136\u5728\u5355\u6838CPU\u7cfb\u7edf\u4e2d\uff0c\u771f\u6b63\u7684\u5e76\u53d1\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u56e0\u4e3a\u5728\u67d0\u4e2a\u65f6\u523b\u80fd\u591f\u83b7\u5f97CPU\u7684\u53ea\u6709\u552f\u4e00\u7684\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u591a\u4e2a\u7ebf\u7a0b\u5171\u4eab\u4e86CPU\u7684\u6267\u884c\u65f6\u95f4\u3002\u4f7f\u7528\u591a\u7ebf\u7a0b\u5b9e\u73b0\u5e76\u53d1\u7f16\u7a0b\u4e3a\u7a0b\u5e8f\u5e26\u6765\u7684\u597d\u5904\u662f\u4e0d\u8a00\u800c\u55bb\u7684\uff0c\u6700\u4e3b\u8981\u7684\u4f53\u73b0\u5728\u63d0\u5347\u7a0b\u5e8f\u7684\u6027\u80fd\u548c\u6539\u5584\u7528\u6237\u4f53\u9a8c\uff0c\u4eca\u5929\u6211\u4eec\u4f7f\u7528\u7684\u8f6f\u4ef6\u51e0\u4e4e\u90fd\u7528\u5230\u4e86\u591a\u7ebf\u7a0b\u6280\u672f\uff0c\u8fd9\u4e00\u70b9\u53ef\u4ee5\u5229\u7528\u7cfb\u7edf\u81ea\u5e26\u7684\u8fdb\u7a0b\u76d1\u63a7\u5de5\u5177\uff08\u5982macOS\u4e2d\u7684\u201c\u6d3b\u52a8\u76d1\u89c6\u5668\u201d\u3001Windows\u4e2d\u7684\u201c\u4efb\u52a1\u7ba1\u7406\u5668\u201d\uff09\u6765\u8bc1\u5b9e\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p> <p>\u5f53\u7136\u591a\u7ebf\u7a0b\u4e5f\u5e76\u4e0d\u662f\u6ca1\u6709\u574f\u5904\uff0c\u7ad9\u5728\u5176\u4ed6\u8fdb\u7a0b\u7684\u89d2\u5ea6\uff0c\u591a\u7ebf\u7a0b\u7684\u7a0b\u5e8f\u5bf9\u5176\u4ed6\u7a0b\u5e8f\u5e76\u4e0d\u53cb\u597d\uff0c\u56e0\u4e3a\u5b83\u5360\u7528\u4e86\u66f4\u591a\u7684CPU\u6267\u884c\u65f6\u95f4\uff0c\u5bfc\u81f4\u5176\u4ed6\u7a0b\u5e8f\u65e0\u6cd5\u83b7\u5f97\u8db3\u591f\u7684CPU\u6267\u884c\u65f6\u95f4\uff1b\u53e6\u4e00\u65b9\u9762\uff0c\u7ad9\u5728\u5f00\u53d1\u8005\u7684\u89d2\u5ea6\uff0c\u7f16\u5199\u548c\u8c03\u8bd5\u591a\u7ebf\u7a0b\u7684\u7a0b\u5e8f\u90fd\u5bf9\u5f00\u53d1\u8005\u6709\u8f83\u9ad8\u7684\u8981\u6c42\uff0c\u5bf9\u4e8e\u521d\u5b66\u8005\u6765\u8bf4\u66f4\u52a0\u56f0\u96be\u3002</p> <p>Python\u65e2\u652f\u6301\u591a\u8fdb\u7a0b\u53c8\u652f\u6301\u591a\u7ebf\u7a0b\uff0c\u56e0\u6b64\u4f7f\u7528Python\u5b9e\u73b0\u5e76\u53d1\u7f16\u7a0b\u4e3b\u8981\u67093\u79cd\u65b9\u5f0f\uff1a\u591a\u8fdb\u7a0b\u3001\u591a\u7ebf\u7a0b\u3001\u591a\u8fdb\u7a0b+\u591a\u7ebf\u7a0b\u3002</p>"},{"location":"python/Py-100Days/Day01-15/13.%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/#python","title":"Python\u4e2d\u7684\u591a\u8fdb\u7a0b","text":"<p>Unix\u548cLinux\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u63d0\u4f9b\u4e86<code>fork()</code>\u7cfb\u7edf\u8c03\u7528\u6765\u521b\u5efa\u8fdb\u7a0b\uff0c\u8c03\u7528<code>fork()</code>\u51fd\u6570\u7684\u662f\u7236\u8fdb\u7a0b\uff0c\u521b\u5efa\u51fa\u7684\u662f\u5b50\u8fdb\u7a0b\uff0c\u5b50\u8fdb\u7a0b\u662f\u7236\u8fdb\u7a0b\u7684\u4e00\u4e2a\u62f7\u8d1d\uff0c\u4f46\u662f\u5b50\u8fdb\u7a0b\u62e5\u6709\u81ea\u5df1\u7684PID\u3002<code>fork()</code>\u51fd\u6570\u975e\u5e38\u7279\u6b8a\u5b83\u4f1a\u8fd4\u56de\u4e24\u6b21\uff0c\u7236\u8fdb\u7a0b\u4e2d\u53ef\u4ee5\u901a\u8fc7<code>fork()</code>\u51fd\u6570\u7684\u8fd4\u56de\u503c\u5f97\u5230\u5b50\u8fdb\u7a0b\u7684PID\uff0c\u800c\u5b50\u8fdb\u7a0b\u4e2d\u7684\u8fd4\u56de\u503c\u6c38\u8fdc\u90fd\u662f0\u3002Python\u7684os\u6a21\u5757\u63d0\u4f9b\u4e86<code>fork()</code>\u51fd\u6570\u3002\u7531\u4e8eWindows\u7cfb\u7edf\u6ca1\u6709<code>fork()</code>\u8c03\u7528\uff0c\u56e0\u6b64\u8981\u5b9e\u73b0\u8de8\u5e73\u53f0\u7684\u591a\u8fdb\u7a0b\u7f16\u7a0b\uff0c\u53ef\u4ee5\u4f7f\u7528multiprocessing\u6a21\u5757\u7684<code>Process</code>\u7c7b\u6765\u521b\u5efa\u5b50\u8fdb\u7a0b\uff0c\u800c\u4e14\u8be5\u6a21\u5757\u8fd8\u63d0\u4f9b\u4e86\u66f4\u9ad8\u7ea7\u7684\u5c01\u88c5\uff0c\u4f8b\u5982\u6279\u91cf\u542f\u52a8\u8fdb\u7a0b\u7684\u8fdb\u7a0b\u6c60\uff08<code>Pool</code>\uff09\u3001\u7528\u4e8e\u8fdb\u7a0b\u95f4\u901a\u4fe1\u7684\u961f\u5217\uff08<code>Queue</code>\uff09\u548c\u7ba1\u9053\uff08<code>Pipe</code>\uff09\u7b49\u3002</p> <p>\u4e0b\u9762\u7528\u4e00\u4e2a\u4e0b\u8f7d\u6587\u4ef6\u7684\u4f8b\u5b50\u6765\u8bf4\u660e\u4f7f\u7528\u591a\u8fdb\u7a0b\u548c\u4e0d\u4f7f\u7528\u591a\u8fdb\u7a0b\u5230\u5e95\u6709\u4ec0\u4e48\u5dee\u522b\uff0c\u5148\u770b\u770b\u4e0b\u9762\u7684\u4ee3\u7801\u3002</p> <pre><code>from random import randint\nfrom time import time, sleep\n\n\ndef download_task(filename):\n    print('\u5f00\u59cb\u4e0b\u8f7d%s...' % filename)\n    time_to_download = randint(5, 10)\n    sleep(time_to_download)\n    print('%s\u4e0b\u8f7d\u5b8c\u6210! \u8017\u8d39\u4e86%d\u79d2' % (filename, time_to_download))\n\n\ndef main():\n    start = time()\n    download_task('Python\u4ece\u5165\u95e8\u5230\u4f4f\u9662.pdf')\n    download_task('Peking Hot.avi')\n    end = time()\n    print('\u603b\u5171\u8017\u8d39\u4e86%.2f\u79d2.' % (end - start))\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u4e0b\u9762\u662f\u8fd0\u884c\u7a0b\u5e8f\u5f97\u5230\u7684\u4e00\u6b21\u8fd0\u884c\u7ed3\u679c\u3002</p> <pre><code>\u5f00\u59cb\u4e0b\u8f7dPython\u4ece\u5165\u95e8\u5230\u4f4f\u9662.pdf...\nPython\u4ece\u5165\u95e8\u5230\u4f4f\u9662.pdf\u4e0b\u8f7d\u5b8c\u6210! \u8017\u8d39\u4e866\u79d2\n\u5f00\u59cb\u4e0b\u8f7dPeking Hot.avi...\nPeking Hot.avi\u4e0b\u8f7d\u5b8c\u6210! \u8017\u8d39\u4e867\u79d2\n\u603b\u5171\u8017\u8d39\u4e8613.01\u79d2.\n</code></pre> <p>\u4ece\u4e0a\u9762\u7684\u4f8b\u5b50\u53ef\u4ee5\u770b\u51fa\uff0c\u5982\u679c\u7a0b\u5e8f\u4e2d\u7684\u4ee3\u7801\u53ea\u80fd\u6309\u987a\u5e8f\u4e00\u70b9\u70b9\u7684\u5f80\u4e0b\u6267\u884c\uff0c\u90a3\u4e48\u5373\u4f7f\u6267\u884c\u4e24\u4e2a\u6beb\u4e0d\u76f8\u5173\u7684\u4e0b\u8f7d\u4efb\u52a1\uff0c\u4e5f\u9700\u8981\u5148\u7b49\u5f85\u4e00\u4e2a\u6587\u4ef6\u4e0b\u8f7d\u5b8c\u6210\u540e\u624d\u80fd\u5f00\u59cb\u4e0b\u4e00\u4e2a\u4e0b\u8f7d\u4efb\u52a1\uff0c\u5f88\u663e\u7136\u8fd9\u5e76\u4e0d\u5408\u7406\u4e5f\u6ca1\u6709\u6548\u7387\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u4f7f\u7528\u591a\u8fdb\u7a0b\u7684\u65b9\u5f0f\u5c06\u4e24\u4e2a\u4e0b\u8f7d\u4efb\u52a1\u653e\u5230\u4e0d\u540c\u7684\u8fdb\u7a0b\u4e2d\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>from multiprocessing import Process\nfrom os import getpid\nfrom random import randint\nfrom time import time, sleep\n\n\ndef download_task(filename):\n    print('\u542f\u52a8\u4e0b\u8f7d\u8fdb\u7a0b\uff0c\u8fdb\u7a0b\u53f7[%d].' % getpid())\n    print('\u5f00\u59cb\u4e0b\u8f7d%s...' % filename)\n    time_to_download = randint(5, 10)\n    sleep(time_to_download)\n    print('%s\u4e0b\u8f7d\u5b8c\u6210! \u8017\u8d39\u4e86%d\u79d2' % (filename, time_to_download))\n\n\ndef main():\n    start = time()\n    p1 = Process(target=download_task, args=('Python\u4ece\u5165\u95e8\u5230\u4f4f\u9662.pdf', ))\n    p1.start()\n    p2 = Process(target=download_task, args=('Peking Hot.avi', ))\n    p2.start()\n    p1.join()\n    p2.join()\n    end = time()\n    print('\u603b\u5171\u8017\u8d39\u4e86%.2f\u79d2.' % (end - start))\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7<code>Process</code>\u7c7b\u521b\u5efa\u4e86\u8fdb\u7a0b\u5bf9\u8c61\uff0c\u901a\u8fc7<code>target</code>\u53c2\u6570\u6211\u4eec\u4f20\u5165\u4e00\u4e2a\u51fd\u6570\u6765\u8868\u793a\u8fdb\u7a0b\u542f\u52a8\u540e\u8981\u6267\u884c\u7684\u4ee3\u7801\uff0c\u540e\u9762\u7684<code>args</code>\u662f\u4e00\u4e2a\u5143\u7ec4\uff0c\u5b83\u4ee3\u8868\u4e86\u4f20\u9012\u7ed9\u51fd\u6570\u7684\u53c2\u6570\u3002<code>Process</code>\u5bf9\u8c61\u7684<code>start</code>\u65b9\u6cd5\u7528\u6765\u542f\u52a8\u8fdb\u7a0b\uff0c\u800c<code>join</code>\u65b9\u6cd5\u8868\u793a\u7b49\u5f85\u8fdb\u7a0b\u6267\u884c\u7ed3\u675f\u3002\u8fd0\u884c\u4e0a\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u660e\u663e\u53d1\u73b0\u4e24\u4e2a\u4e0b\u8f7d\u4efb\u52a1\u201c\u540c\u65f6\u201d\u542f\u52a8\u4e86\uff0c\u800c\u4e14\u7a0b\u5e8f\u7684\u6267\u884c\u65f6\u95f4\u5c06\u5927\u5927\u7f29\u77ed\uff0c\u4e0d\u518d\u662f\u4e24\u4e2a\u4efb\u52a1\u7684\u65f6\u95f4\u603b\u548c\u3002\u4e0b\u9762\u662f\u7a0b\u5e8f\u7684\u4e00\u6b21\u6267\u884c\u7ed3\u679c\u3002</p> <pre><code>\u542f\u52a8\u4e0b\u8f7d\u8fdb\u7a0b\uff0c\u8fdb\u7a0b\u53f7[1530].\n\u5f00\u59cb\u4e0b\u8f7dPython\u4ece\u5165\u95e8\u5230\u4f4f\u9662.pdf...\n\u542f\u52a8\u4e0b\u8f7d\u8fdb\u7a0b\uff0c\u8fdb\u7a0b\u53f7[1531].\n\u5f00\u59cb\u4e0b\u8f7dPeking Hot.avi...\nPeking Hot.avi\u4e0b\u8f7d\u5b8c\u6210! \u8017\u8d39\u4e867\u79d2\nPython\u4ece\u5165\u95e8\u5230\u4f4f\u9662.pdf\u4e0b\u8f7d\u5b8c\u6210! \u8017\u8d39\u4e8610\u79d2\n\u603b\u5171\u8017\u8d39\u4e8610.01\u79d2.\n</code></pre> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528subprocess\u6a21\u5757\u4e2d\u7684\u7c7b\u548c\u51fd\u6570\u6765\u521b\u5efa\u548c\u542f\u52a8\u5b50\u8fdb\u7a0b\uff0c\u7136\u540e\u901a\u8fc7\u7ba1\u9053\u6765\u548c\u5b50\u8fdb\u7a0b\u901a\u4fe1\uff0c\u8fd9\u4e9b\u5185\u5bb9\u6211\u4eec\u4e0d\u5728\u6b64\u8fdb\u884c\u8bb2\u89e3\uff0c\u6709\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u81ea\u5df1\u4e86\u89e3\u8fd9\u4e9b\u77e5\u8bc6\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u91cd\u70b9\u653e\u5728\u5982\u4f55\u5b9e\u73b0\u4e24\u4e2a\u8fdb\u7a0b\u95f4\u7684\u901a\u4fe1\u3002\u6211\u4eec\u542f\u52a8\u4e24\u4e2a\u8fdb\u7a0b\uff0c\u4e00\u4e2a\u8f93\u51faPing\uff0c\u4e00\u4e2a\u8f93\u51faPong\uff0c\u4e24\u4e2a\u8fdb\u7a0b\u8f93\u51fa\u7684Ping\u548cPong\u52a0\u8d77\u6765\u4e00\u517110\u4e2a\u3002\u542c\u8d77\u6765\u5f88\u7b80\u5355\u5427\uff0c\u4f46\u662f\u5982\u679c\u8fd9\u6837\u5199\u53ef\u662f\u9519\u7684\u54e6\u3002</p> <pre><code>from multiprocessing import Process\nfrom time import sleep\n\ncounter = 0\n\n\ndef sub_task(string):\n    global counter\n    while counter &lt; 10:\n        print(string, end='', flush=True)\n        counter += 1\n        sleep(0.01)\n\n\ndef main():\n    Process(target=sub_task, args=('Ping', )).start()\n    Process(target=sub_task, args=('Pong', )).start()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u770b\u8d77\u6765\u6ca1\u6bdb\u75c5\uff0c\u4f46\u662f\u6700\u540e\u7684\u7ed3\u679c\u662fPing\u548cPong\u5404\u8f93\u51fa\u4e8610\u4e2a\uff0cWhy\uff1f\u5f53\u6211\u4eec\u5728\u7a0b\u5e8f\u4e2d\u521b\u5efa\u8fdb\u7a0b\u7684\u65f6\u5019\uff0c\u5b50\u8fdb\u7a0b\u590d\u5236\u4e86\u7236\u8fdb\u7a0b\u53ca\u5176\u6240\u6709\u7684\u6570\u636e\u7ed3\u6784\uff0c\u6bcf\u4e2a\u5b50\u8fdb\u7a0b\u6709\u81ea\u5df1\u72ec\u7acb\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u8fd9\u4e5f\u5c31\u610f\u5473\u7740\u4e24\u4e2a\u5b50\u8fdb\u7a0b\u4e2d\u5404\u6709\u4e00\u4e2a<code>counter</code>\u53d8\u91cf\uff0c\u6240\u4ee5\u7ed3\u679c\u4e5f\u5c31\u53ef\u60f3\u800c\u77e5\u4e86\u3002\u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u6bd4\u8f83\u7b80\u5355\u7684\u529e\u6cd5\u662f\u4f7f\u7528multiprocessing\u6a21\u5757\u4e2d\u7684<code>Queue</code>\u7c7b\uff0c\u5b83\u662f\u53ef\u4ee5\u88ab\u591a\u4e2a\u8fdb\u7a0b\u5171\u4eab\u7684\u961f\u5217\uff0c\u5e95\u5c42\u662f\u901a\u8fc7\u7ba1\u9053\u548c\u4fe1\u53f7\u91cf\uff08semaphore\uff09\u673a\u5236\u6765\u5b9e\u73b0\u7684\uff0c\u6709\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u81ea\u5df1\u5c1d\u8bd5\u4e00\u4e0b\u3002</p>"},{"location":"python/Py-100Days/Day01-15/13.%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/#python_1","title":"Python\u4e2d\u7684\u591a\u7ebf\u7a0b","text":"<p>\u5728Python\u65e9\u671f\u7684\u7248\u672c\u4e2d\u5c31\u5f15\u5165\u4e86thread\u6a21\u5757\uff08\u73b0\u5728\u540d\u4e3a_thread\uff09\u6765\u5b9e\u73b0\u591a\u7ebf\u7a0b\u7f16\u7a0b\uff0c\u7136\u800c\u8be5\u6a21\u5757\u8fc7\u4e8e\u5e95\u5c42\uff0c\u800c\u4e14\u5f88\u591a\u529f\u80fd\u90fd\u6ca1\u6709\u63d0\u4f9b\uff0c\u56e0\u6b64\u76ee\u524d\u7684\u591a\u7ebf\u7a0b\u5f00\u53d1\u6211\u4eec\u63a8\u8350\u4f7f\u7528threading\u6a21\u5757\uff0c\u8be5\u6a21\u5757\u5bf9\u591a\u7ebf\u7a0b\u7f16\u7a0b\u63d0\u4f9b\u4e86\u66f4\u597d\u7684\u9762\u5411\u5bf9\u8c61\u7684\u5c01\u88c5\u3002\u6211\u4eec\u628a\u521a\u624d\u4e0b\u8f7d\u6587\u4ef6\u7684\u4f8b\u5b50\u7528\u591a\u7ebf\u7a0b\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u4e00\u904d\u3002</p> <pre><code>from random import randint\nfrom threading import Thread\nfrom time import time, sleep\n\n\ndef download(filename):\n    print('\u5f00\u59cb\u4e0b\u8f7d%s...' % filename)\n    time_to_download = randint(5, 10)\n    sleep(time_to_download)\n    print('%s\u4e0b\u8f7d\u5b8c\u6210! \u8017\u8d39\u4e86%d\u79d2' % (filename, time_to_download))\n\n\ndef main():\n    start = time()\n    t1 = Thread(target=download, args=('Python\u4ece\u5165\u95e8\u5230\u4f4f\u9662.pdf',))\n    t1.start()\n    t2 = Thread(target=download, args=('Peking Hot.avi',))\n    t2.start()\n    t1.join()\n    t2.join()\n    end = time()\n    print('\u603b\u5171\u8017\u8d39\u4e86%.3f\u79d2' % (end - start))\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528threading\u6a21\u5757\u7684<code>Thread</code>\u7c7b\u6765\u521b\u5efa\u7ebf\u7a0b\uff0c\u4f46\u662f\u6211\u4eec\u4e4b\u524d\u8bb2\u8fc7\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u6982\u5ff5\u53eb\u201c\u7ee7\u627f\u201d\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u5df2\u6709\u7684\u7c7b\u521b\u5efa\u65b0\u7c7b\uff0c\u56e0\u6b64\u4e5f\u53ef\u4ee5\u901a\u8fc7\u7ee7\u627f<code>Thread</code>\u7c7b\u7684\u65b9\u5f0f\u6765\u521b\u5efa\u81ea\u5b9a\u4e49\u7684\u7ebf\u7a0b\u7c7b\uff0c\u7136\u540e\u518d\u521b\u5efa\u7ebf\u7a0b\u5bf9\u8c61\u5e76\u542f\u52a8\u7ebf\u7a0b\u3002\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>from random import randint\nfrom threading import Thread\nfrom time import time, sleep\n\n\nclass DownloadTask(Thread):\n\n    def __init__(self, filename):\n        super().__init__()\n        self._filename = filename\n\n    def run(self):\n        print('\u5f00\u59cb\u4e0b\u8f7d%s...' % self._filename)\n        time_to_download = randint(5, 10)\n        sleep(time_to_download)\n        print('%s\u4e0b\u8f7d\u5b8c\u6210! \u8017\u8d39\u4e86%d\u79d2' % (self._filename, time_to_download))\n\n\ndef main():\n    start = time()\n    t1 = DownloadTask('Python\u4ece\u5165\u95e8\u5230\u4f4f\u9662.pdf')\n    t1.start()\n    t2 = DownloadTask('Peking Hot.avi')\n    t2.start()\n    t1.join()\n    t2.join()\n    end = time()\n    print('\u603b\u5171\u8017\u8d39\u4e86%.2f\u79d2.' % (end - start))\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u56e0\u4e3a\u591a\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u5171\u4eab\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u56e0\u6b64\u8981\u5b9e\u73b0\u591a\u4e2a\u7ebf\u7a0b\u95f4\u7684\u901a\u4fe1\u76f8\u5bf9\u7b80\u5355\uff0c\u5927\u5bb6\u80fd\u60f3\u5230\u7684\u6700\u76f4\u63a5\u7684\u529e\u6cd5\u5c31\u662f\u8bbe\u7f6e\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\uff0c\u591a\u4e2a\u7ebf\u7a0b\u5171\u4eab\u8fd9\u4e2a\u5168\u5c40\u53d8\u91cf\u5373\u53ef\u3002\u4f46\u662f\u5f53\u591a\u4e2a\u7ebf\u7a0b\u5171\u4eab\u540c\u4e00\u4e2a\u53d8\u91cf\uff08\u6211\u4eec\u901a\u5e38\u79f0\u4e4b\u4e3a\u201c\u8d44\u6e90\u201d\uff09\u7684\u65f6\u5019\uff0c\u5f88\u6709\u53ef\u80fd\u4ea7\u751f\u4e0d\u53ef\u63a7\u7684\u7ed3\u679c\u4ece\u800c\u5bfc\u81f4\u7a0b\u5e8f\u5931\u6548\u751a\u81f3\u5d29\u6e83\u3002\u5982\u679c\u4e00\u4e2a\u8d44\u6e90\u88ab\u591a\u4e2a\u7ebf\u7a0b\u7ade\u4e89\u4f7f\u7528\uff0c\u90a3\u4e48\u6211\u4eec\u901a\u5e38\u79f0\u4e4b\u4e3a\u201c\u4e34\u754c\u8d44\u6e90\u201d\uff0c\u5bf9\u201c\u4e34\u754c\u8d44\u6e90\u201d\u7684\u8bbf\u95ee\u9700\u8981\u52a0\u4e0a\u4fdd\u62a4\uff0c\u5426\u5219\u8d44\u6e90\u4f1a\u5904\u4e8e\u201c\u6df7\u4e71\u201d\u7684\u72b6\u6001\u3002\u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u4e86100\u4e2a\u7ebf\u7a0b\u5411\u540c\u4e00\u4e2a\u94f6\u884c\u8d26\u6237\u8f6c\u8d26\uff08\u8f6c\u51651\u5143\u94b1\uff09\u7684\u573a\u666f\uff0c\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u94f6\u884c\u8d26\u6237\u5c31\u662f\u4e00\u4e2a\u4e34\u754c\u8d44\u6e90\uff0c\u5728\u6ca1\u6709\u4fdd\u62a4\u7684\u60c5\u51b5\u4e0b\u6211\u4eec\u5f88\u6709\u53ef\u80fd\u4f1a\u5f97\u5230\u9519\u8bef\u7684\u7ed3\u679c\u3002</p> <pre><code>from time import sleep\nfrom threading import Thread\n\n\nclass Account(object):\n\n    def __init__(self):\n        self._balance = 0\n\n    def deposit(self, money):\n        # \u8ba1\u7b97\u5b58\u6b3e\u540e\u7684\u4f59\u989d\n        new_balance = self._balance + money\n        # \u6a21\u62df\u53d7\u7406\u5b58\u6b3e\u4e1a\u52a1\u9700\u89810.01\u79d2\u7684\u65f6\u95f4\n        sleep(0.01)\n        # \u4fee\u6539\u8d26\u6237\u4f59\u989d\n        self._balance = new_balance\n\n    @property\n    def balance(self):\n        return self._balance\n\n\nclass AddMoneyThread(Thread):\n\n    def __init__(self, account, money):\n        super().__init__()\n        self._account = account\n        self._money = money\n\n    def run(self):\n        self._account.deposit(self._money)\n\n\ndef main():\n    account = Account()\n    threads = []\n    # \u521b\u5efa100\u4e2a\u5b58\u6b3e\u7684\u7ebf\u7a0b\u5411\u540c\u4e00\u4e2a\u8d26\u6237\u4e2d\u5b58\u94b1\n    for _ in range(100):\n        t = AddMoneyThread(account, 1)\n        threads.append(t)\n        t.start()\n    # \u7b49\u6240\u6709\u5b58\u6b3e\u7684\u7ebf\u7a0b\u90fd\u6267\u884c\u5b8c\u6bd5\n    for t in threads:\n        t.join()\n    print('\u8d26\u6237\u4f59\u989d\u4e3a: \uffe5%d\u5143' % account.balance)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8fd0\u884c\u4e0a\u9762\u7684\u7a0b\u5e8f\uff0c\u7ed3\u679c\u8ba9\u4eba\u5927\u8dcc\u773c\u955c\uff0c100\u4e2a\u7ebf\u7a0b\u5206\u522b\u5411\u8d26\u6237\u4e2d\u8f6c\u51651\u5143\u94b1\uff0c\u7ed3\u679c\u5c45\u7136\u8fdc\u8fdc\u5c0f\u4e8e100\u5143\u3002\u4e4b\u6240\u4ee5\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\u662f\u56e0\u4e3a\u6211\u4eec\u6ca1\u6709\u5bf9\u94f6\u884c\u8d26\u6237\u8fd9\u4e2a\u201c\u4e34\u754c\u8d44\u6e90\u201d\u52a0\u4ee5\u4fdd\u62a4\uff0c\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u5411\u8d26\u6237\u4e2d\u5b58\u94b1\u65f6\uff0c\u4f1a\u4e00\u8d77\u6267\u884c\u5230<code>new_balance = self._balance + money</code>\u8fd9\u884c\u4ee3\u7801\uff0c\u591a\u4e2a\u7ebf\u7a0b\u5f97\u5230\u7684\u8d26\u6237\u4f59\u989d\u90fd\u662f\u521d\u59cb\u72b6\u6001\u4e0b\u7684<code>0</code>\uff0c\u6240\u4ee5\u90fd\u662f<code>0</code>\u4e0a\u9762\u505a\u4e86+1\u7684\u64cd\u4f5c\uff0c\u56e0\u6b64\u5f97\u5230\u4e86\u9519\u8bef\u7684\u7ed3\u679c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u201c\u9501\u201d\u5c31\u53ef\u4ee5\u6d3e\u4e0a\u7528\u573a\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u201c\u9501\u201d\u6765\u4fdd\u62a4\u201c\u4e34\u754c\u8d44\u6e90\u201d\uff0c\u53ea\u6709\u83b7\u5f97\u201c\u9501\u201d\u7684\u7ebf\u7a0b\u624d\u80fd\u8bbf\u95ee\u201c\u4e34\u754c\u8d44\u6e90\u201d\uff0c\u800c\u5176\u4ed6\u6ca1\u6709\u5f97\u5230\u201c\u9501\u201d\u7684\u7ebf\u7a0b\u53ea\u80fd\u88ab\u963b\u585e\u8d77\u6765\uff0c\u76f4\u5230\u83b7\u5f97\u201c\u9501\u201d\u7684\u7ebf\u7a0b\u91ca\u653e\u4e86\u201c\u9501\u201d\uff0c\u5176\u4ed6\u7ebf\u7a0b\u624d\u6709\u673a\u4f1a\u83b7\u5f97\u201c\u9501\u201d\uff0c\u8fdb\u800c\u8bbf\u95ee\u88ab\u4fdd\u62a4\u7684\u201c\u4e34\u754c\u8d44\u6e90\u201d\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u4f7f\u7528\u201c\u9501\u201d\u6765\u4fdd\u62a4\u5bf9\u94f6\u884c\u8d26\u6237\u7684\u64cd\u4f5c\uff0c\u4ece\u800c\u83b7\u5f97\u6b63\u786e\u7684\u7ed3\u679c\u3002</p> <pre><code>from time import sleep\nfrom threading import Thread, Lock\n\n\nclass Account(object):\n\n    def __init__(self):\n        self._balance = 0\n        self._lock = Lock()\n\n    def deposit(self, money):\n        # \u5148\u83b7\u53d6\u9501\u624d\u80fd\u6267\u884c\u540e\u7eed\u7684\u4ee3\u7801\n        self._lock.acquire()\n        try:\n            new_balance = self._balance + money\n            sleep(0.01)\n            self._balance = new_balance\n        finally:\n            # \u5728finally\u4e2d\u6267\u884c\u91ca\u653e\u9501\u7684\u64cd\u4f5c\u4fdd\u8bc1\u6b63\u5e38\u5f02\u5e38\u9501\u90fd\u80fd\u91ca\u653e\n            self._lock.release()\n\n    @property\n    def balance(self):\n        return self._balance\n\n\nclass AddMoneyThread(Thread):\n\n    def __init__(self, account, money):\n        super().__init__()\n        self._account = account\n        self._money = money\n\n    def run(self):\n        self._account.deposit(self._money)\n\n\ndef main():\n    account = Account()\n    threads = []\n    for _ in range(100):\n        t = AddMoneyThread(account, 1)\n        threads.append(t)\n        t.start()\n    for t in threads:\n        t.join()\n    print('\u8d26\u6237\u4f59\u989d\u4e3a: \uffe5%d\u5143' % account.balance)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u6bd4\u8f83\u9057\u61be\u7684\u4e00\u4ef6\u4e8b\u60c5\u662fPython\u7684\u591a\u7ebf\u7a0b\u5e76\u4e0d\u80fd\u53d1\u6325CPU\u7684\u591a\u6838\u7279\u6027\uff0c\u8fd9\u4e00\u70b9\u53ea\u8981\u542f\u52a8\u51e0\u4e2a\u6267\u884c\u6b7b\u5faa\u73af\u7684\u7ebf\u7a0b\u5c31\u53ef\u4ee5\u5f97\u5230\u8bc1\u5b9e\u4e86\u3002\u4e4b\u6240\u4ee5\u5982\u6b64\uff0c\u662f\u56e0\u4e3aPython\u7684\u89e3\u91ca\u5668\u6709\u4e00\u4e2a\u201c\u5168\u5c40\u89e3\u91ca\u5668\u9501\u201d\uff08GIL\uff09\u7684\u4e1c\u897f\uff0c\u4efb\u4f55\u7ebf\u7a0b\u6267\u884c\u524d\u5fc5\u987b\u5148\u83b7\u5f97GIL\u9501\uff0c\u7136\u540e\u6bcf\u6267\u884c100\u6761\u5b57\u8282\u7801\uff0c\u89e3\u91ca\u5668\u5c31\u81ea\u52a8\u91ca\u653eGIL\u9501\uff0c\u8ba9\u522b\u7684\u7ebf\u7a0b\u6709\u673a\u4f1a\u6267\u884c\uff0c\u8fd9\u662f\u4e00\u4e2a\u5386\u53f2\u9057\u7559\u95ee\u9898\uff0c\u4f46\u662f\u5373\u4fbf\u5982\u6b64\uff0c\u5c31\u5982\u6211\u4eec\u4e4b\u524d\u4e3e\u7684\u4f8b\u5b50\uff0c\u4f7f\u7528\u591a\u7ebf\u7a0b\u5728\u63d0\u5347\u6267\u884c\u6548\u7387\u548c\u6539\u5584\u7528\u6237\u4f53\u9a8c\u65b9\u9762\u4ecd\u7136\u662f\u6709\u79ef\u6781\u610f\u4e49\u7684\u3002</p>"},{"location":"python/Py-100Days/Day01-15/13.%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/#_3","title":"\u591a\u8fdb\u7a0b\u8fd8\u662f\u591a\u7ebf\u7a0b","text":"<p>\u65e0\u8bba\u662f\u591a\u8fdb\u7a0b\u8fd8\u662f\u591a\u7ebf\u7a0b\uff0c\u53ea\u8981\u6570\u91cf\u4e00\u591a\uff0c\u6548\u7387\u80af\u5b9a\u4e0a\u4e0d\u53bb\uff0c\u4e3a\u4ec0\u4e48\u5462\uff1f\u6211\u4eec\u6253\u4e2a\u6bd4\u65b9\uff0c\u5047\u8bbe\u4f60\u4e0d\u5e78\u6b63\u5728\u51c6\u5907\u4e2d\u8003\uff0c\u6bcf\u5929\u665a\u4e0a\u9700\u8981\u505a\u8bed\u6587\u3001\u6570\u5b66\u3001\u82f1\u8bed\u3001\u7269\u7406\u3001\u5316\u5b66\u8fd95\u79d1\u7684\u4f5c\u4e1a\uff0c\u6bcf\u9879\u4f5c\u4e1a\u8017\u65f61\u5c0f\u65f6\u3002\u5982\u679c\u4f60\u5148\u82b11\u5c0f\u65f6\u505a\u8bed\u6587\u4f5c\u4e1a\uff0c\u505a\u5b8c\u4e86\uff0c\u518d\u82b11\u5c0f\u65f6\u505a\u6570\u5b66\u4f5c\u4e1a\uff0c\u8fd9\u6837\uff0c\u4f9d\u6b21\u5168\u90e8\u505a\u5b8c\uff0c\u4e00\u5171\u82b15\u5c0f\u65f6\uff0c\u8fd9\u79cd\u65b9\u5f0f\u79f0\u4e3a\u5355\u4efb\u52a1\u6a21\u578b\u3002\u5982\u679c\u4f60\u6253\u7b97\u5207\u6362\u5230\u591a\u4efb\u52a1\u6a21\u578b\uff0c\u53ef\u4ee5\u5148\u505a1\u5206\u949f\u8bed\u6587\uff0c\u518d\u5207\u6362\u5230\u6570\u5b66\u4f5c\u4e1a\uff0c\u505a1\u5206\u949f\uff0c\u518d\u5207\u6362\u5230\u82f1\u8bed\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u53ea\u8981\u5207\u6362\u901f\u5ea6\u8db3\u591f\u5feb\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5c31\u548c\u5355\u6838CPU\u6267\u884c\u591a\u4efb\u52a1\u662f\u4e00\u6837\u7684\u4e86\uff0c\u4ee5\u65c1\u89c2\u8005\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u4f60\u5c31\u6b63\u5728\u540c\u65f6\u51995\u79d1\u4f5c\u4e1a\u3002</p> <p>\u4f46\u662f\uff0c\u5207\u6362\u4f5c\u4e1a\u662f\u6709\u4ee3\u4ef7\u7684\uff0c\u6bd4\u5982\u4ece\u8bed\u6587\u5207\u5230\u6570\u5b66\uff0c\u8981\u5148\u6536\u62fe\u684c\u5b50\u4e0a\u7684\u8bed\u6587\u4e66\u672c\u3001\u94a2\u7b14\uff08\u8fd9\u53eb\u4fdd\u5b58\u73b0\u573a\uff09\uff0c\u7136\u540e\uff0c\u6253\u5f00\u6570\u5b66\u8bfe\u672c\u3001\u627e\u51fa\u5706\u89c4\u76f4\u5c3a\uff08\u8fd9\u53eb\u51c6\u5907\u65b0\u73af\u5883\uff09\uff0c\u624d\u80fd\u5f00\u59cb\u505a\u6570\u5b66\u4f5c\u4e1a\u3002\u64cd\u4f5c\u7cfb\u7edf\u5728\u5207\u6362\u8fdb\u7a0b\u6216\u8005\u7ebf\u7a0b\u65f6\u4e5f\u662f\u4e00\u6837\u7684\uff0c\u5b83\u9700\u8981\u5148\u4fdd\u5b58\u5f53\u524d\u6267\u884c\u7684\u73b0\u573a\u73af\u5883\uff08CPU\u5bc4\u5b58\u5668\u72b6\u6001\u3001\u5185\u5b58\u9875\u7b49\uff09\uff0c\u7136\u540e\uff0c\u628a\u65b0\u4efb\u52a1\u7684\u6267\u884c\u73af\u5883\u51c6\u5907\u597d\uff08\u6062\u590d\u4e0a\u6b21\u7684\u5bc4\u5b58\u5668\u72b6\u6001\uff0c\u5207\u6362\u5185\u5b58\u9875\u7b49\uff09\uff0c\u624d\u80fd\u5f00\u59cb\u6267\u884c\u3002\u8fd9\u4e2a\u5207\u6362\u8fc7\u7a0b\u867d\u7136\u5f88\u5feb\uff0c\u4f46\u662f\u4e5f\u9700\u8981\u8017\u8d39\u65f6\u95f4\u3002\u5982\u679c\u6709\u51e0\u5343\u4e2a\u4efb\u52a1\u540c\u65f6\u8fdb\u884c\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53ef\u80fd\u5c31\u4e3b\u8981\u5fd9\u7740\u5207\u6362\u4efb\u52a1\uff0c\u6839\u672c\u6ca1\u6709\u591a\u5c11\u65f6\u95f4\u53bb\u6267\u884c\u4efb\u52a1\u4e86\uff0c\u8fd9\u79cd\u60c5\u51b5\u6700\u5e38\u89c1\u7684\u5c31\u662f\u786c\u76d8\u72c2\u54cd\uff0c\u70b9\u7a97\u53e3\u65e0\u53cd\u5e94\uff0c\u7cfb\u7edf\u5904\u4e8e\u5047\u6b7b\u72b6\u6001\u3002\u6240\u4ee5\uff0c\u591a\u4efb\u52a1\u4e00\u65e6\u591a\u5230\u4e00\u4e2a\u9650\u5ea6\uff0c\u53cd\u800c\u4f1a\u4f7f\u5f97\u7cfb\u7edf\u6027\u80fd\u6025\u5267\u4e0b\u964d\uff0c\u6700\u7ec8\u5bfc\u81f4\u6240\u6709\u4efb\u52a1\u90fd\u505a\u4e0d\u597d\u3002</p> <p>\u662f\u5426\u91c7\u7528\u591a\u4efb\u52a1\u7684\u7b2c\u4e8c\u4e2a\u8003\u8651\u662f\u4efb\u52a1\u7684\u7c7b\u578b\uff0c\u53ef\u4ee5\u628a\u4efb\u52a1\u5206\u4e3a\u8ba1\u7b97\u5bc6\u96c6\u578b\u548cI/O\u5bc6\u96c6\u578b\u3002\u8ba1\u7b97\u5bc6\u96c6\u578b\u4efb\u52a1\u7684\u7279\u70b9\u662f\u8981\u8fdb\u884c\u5927\u91cf\u7684\u8ba1\u7b97\uff0c\u6d88\u8017CPU\u8d44\u6e90\uff0c\u6bd4\u5982\u5bf9\u89c6\u9891\u8fdb\u884c\u7f16\u7801\u89e3\u7801\u6216\u8005\u683c\u5f0f\u8f6c\u6362\u7b49\u7b49\uff0c\u8fd9\u79cd\u4efb\u52a1\u5168\u9760CPU\u7684\u8fd0\u7b97\u80fd\u529b\uff0c\u867d\u7136\u4e5f\u53ef\u4ee5\u7528\u591a\u4efb\u52a1\u5b8c\u6210\uff0c\u4f46\u662f\u4efb\u52a1\u8d8a\u591a\uff0c\u82b1\u5728\u4efb\u52a1\u5207\u6362\u7684\u65f6\u95f4\u5c31\u8d8a\u591a\uff0cCPU\u6267\u884c\u4efb\u52a1\u7684\u6548\u7387\u5c31\u8d8a\u4f4e\u3002\u8ba1\u7b97\u5bc6\u96c6\u578b\u4efb\u52a1\u7531\u4e8e\u4e3b\u8981\u6d88\u8017CPU\u8d44\u6e90\uff0c\u8fd9\u7c7b\u4efb\u52a1\u7528Python\u8fd9\u6837\u7684\u811a\u672c\u8bed\u8a00\u53bb\u6267\u884c\u6548\u7387\u901a\u5e38\u5f88\u4f4e\uff0c\u6700\u80fd\u80dc\u4efb\u8fd9\u7c7b\u4efb\u52a1\u7684\u662fC\u8bed\u8a00\uff0c\u6211\u4eec\u4e4b\u524d\u63d0\u5230\u4e86Python\u4e2d\u6709\u5d4c\u5165C/C++\u4ee3\u7801\u7684\u673a\u5236\u3002</p> <p>\u9664\u4e86\u8ba1\u7b97\u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u5176\u4ed6\u7684\u6d89\u53ca\u5230\u7f51\u7edc\u3001\u5b58\u50a8\u4ecb\u8d28I/O\u7684\u4efb\u52a1\u90fd\u53ef\u4ee5\u89c6\u4e3aI/O\u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u8fd9\u7c7b\u4efb\u52a1\u7684\u7279\u70b9\u662fCPU\u6d88\u8017\u5f88\u5c11\uff0c\u4efb\u52a1\u7684\u5927\u90e8\u5206\u65f6\u95f4\u90fd\u5728\u7b49\u5f85I/O\u64cd\u4f5c\u5b8c\u6210\uff08\u56e0\u4e3aI/O\u7684\u901f\u5ea6\u8fdc\u8fdc\u4f4e\u4e8eCPU\u548c\u5185\u5b58\u7684\u901f\u5ea6\uff09\u3002\u5bf9\u4e8eI/O\u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u5982\u679c\u542f\u52a8\u591a\u4efb\u52a1\uff0c\u5c31\u53ef\u4ee5\u51cf\u5c11I/O\u7b49\u5f85\u65f6\u95f4\u4ece\u800c\u8ba9CPU\u9ad8\u6548\u7387\u7684\u8fd0\u8f6c\u3002\u6709\u4e00\u5927\u7c7b\u7684\u4efb\u52a1\u90fd\u5c5e\u4e8eI/O\u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u8fd9\u5176\u4e2d\u5305\u62ec\u4e86\u6211\u4eec\u5f88\u5feb\u4f1a\u6d89\u53ca\u5230\u7684\u7f51\u7edc\u5e94\u7528\u548cWeb\u5e94\u7528\u3002</p> <p>\u8bf4\u660e\uff1a \u4e0a\u9762\u7684\u5185\u5bb9\u548c\u4f8b\u5b50\u6765\u81ea\u4e8e\u5ed6\u96ea\u5cf0\u5b98\u65b9\u7f51\u7ad9\u7684\u300aPython\u6559\u7a0b\u300b\uff0c\u56e0\u4e3a\u5bf9\u4f5c\u8005\u6587\u4e2d\u7684\u67d0\u4e9b\u89c2\u70b9\u6301\u6709\u4e0d\u540c\u7684\u770b\u6cd5\uff0c\u5bf9\u539f\u6587\u7684\u6587\u5b57\u63cf\u8ff0\u505a\u4e86\u9002\u5f53\u7684\u8c03\u6574\u3002</p>"},{"location":"python/Py-100Days/Day01-15/13.%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/#io","title":"\u5355\u7ebf\u7a0b+\u5f02\u6b65I/O","text":"<p>\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u5bf9I/O\u64cd\u4f5c\u7684\u6539\u8fdb\u4e2d\u6700\u4e3a\u91cd\u8981\u7684\u5c31\u662f\u652f\u6301\u5f02\u6b65I/O\u3002\u5982\u679c\u5145\u5206\u5229\u7528\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u5f02\u6b65I/O\u652f\u6301\uff0c\u5c31\u53ef\u4ee5\u7528\u5355\u8fdb\u7a0b\u5355\u7ebf\u7a0b\u6a21\u578b\u6765\u6267\u884c\u591a\u4efb\u52a1\uff0c\u8fd9\u79cd\u5168\u65b0\u7684\u6a21\u578b\u79f0\u4e3a\u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b\u3002Nginx\u5c31\u662f\u652f\u6301\u5f02\u6b65I/O\u7684Web\u670d\u52a1\u5668\uff0c\u5b83\u5728\u5355\u6838CPU\u4e0a\u91c7\u7528\u5355\u8fdb\u7a0b\u6a21\u578b\u5c31\u53ef\u4ee5\u9ad8\u6548\u5730\u652f\u6301\u591a\u4efb\u52a1\u3002\u5728\u591a\u6838CPU\u4e0a\uff0c\u53ef\u4ee5\u8fd0\u884c\u591a\u4e2a\u8fdb\u7a0b\uff08\u6570\u91cf\u4e0eCPU\u6838\u5fc3\u6570\u76f8\u540c\uff09\uff0c\u5145\u5206\u5229\u7528\u591a\u6838CPU\u3002\u7528Node.js\u5f00\u53d1\u7684\u670d\u52a1\u5668\u7aef\u7a0b\u5e8f\u4e5f\u4f7f\u7528\u4e86\u8fd9\u79cd\u5de5\u4f5c\u6a21\u5f0f\uff0c\u8fd9\u4e5f\u662f\u5f53\u4e0b\u5b9e\u73b0\u591a\u4efb\u52a1\u7f16\u7a0b\u7684\u4e00\u79cd\u8d8b\u52bf\u3002</p> <p>\u5728Python\u8bed\u8a00\u4e2d\uff0c\u5355\u7ebf\u7a0b+\u5f02\u6b65I/O\u7684\u7f16\u7a0b\u6a21\u578b\u79f0\u4e3a\u534f\u7a0b\uff0c\u6709\u4e86\u534f\u7a0b\u7684\u652f\u6301\uff0c\u5c31\u53ef\u4ee5\u57fa\u4e8e\u4e8b\u4ef6\u9a71\u52a8\u7f16\u5199\u9ad8\u6548\u7684\u591a\u4efb\u52a1\u7a0b\u5e8f\u3002\u534f\u7a0b\u6700\u5927\u7684\u4f18\u52bf\u5c31\u662f\u6781\u9ad8\u7684\u6267\u884c\u6548\u7387\uff0c\u56e0\u4e3a\u5b50\u7a0b\u5e8f\u5207\u6362\u4e0d\u662f\u7ebf\u7a0b\u5207\u6362\uff0c\u800c\u662f\u7531\u7a0b\u5e8f\u81ea\u8eab\u63a7\u5236\uff0c\u56e0\u6b64\uff0c\u6ca1\u6709\u7ebf\u7a0b\u5207\u6362\u7684\u5f00\u9500\u3002\u534f\u7a0b\u7684\u7b2c\u4e8c\u4e2a\u4f18\u52bf\u5c31\u662f\u4e0d\u9700\u8981\u591a\u7ebf\u7a0b\u7684\u9501\u673a\u5236\uff0c\u56e0\u4e3a\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u4e5f\u4e0d\u5b58\u5728\u540c\u65f6\u5199\u53d8\u91cf\u51b2\u7a81\uff0c\u5728\u534f\u7a0b\u4e2d\u63a7\u5236\u5171\u4eab\u8d44\u6e90\u4e0d\u7528\u52a0\u9501\uff0c\u53ea\u9700\u8981\u5224\u65ad\u72b6\u6001\u5c31\u597d\u4e86\uff0c\u6240\u4ee5\u6267\u884c\u6548\u7387\u6bd4\u591a\u7ebf\u7a0b\u9ad8\u5f88\u591a\u3002\u5982\u679c\u60f3\u8981\u5145\u5206\u5229\u7528CPU\u7684\u591a\u6838\u7279\u6027\uff0c\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u591a\u8fdb\u7a0b+\u534f\u7a0b\uff0c\u65e2\u5145\u5206\u5229\u7528\u591a\u6838\uff0c\u53c8\u5145\u5206\u53d1\u6325\u534f\u7a0b\u7684\u9ad8\u6548\u7387\uff0c\u53ef\u83b7\u5f97\u6781\u9ad8\u7684\u6027\u80fd\u3002\u5173\u4e8e\u8fd9\u65b9\u9762\u7684\u5185\u5bb9\uff0c\u6211\u7a0d\u540e\u4f1a\u505a\u4e00\u4e2a\u4e13\u9898\u6765\u8fdb\u884c\u8bb2\u89e3\u3002</p>"},{"location":"python/Py-100Days/Day01-15/13.%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/#_4","title":"\u5e94\u7528\u6848\u4f8b","text":""},{"location":"python/Py-100Days/Day01-15/13.%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/#1","title":"\u4f8b\u5b501\uff1a\u5c06\u8017\u65f6\u95f4\u7684\u4efb\u52a1\u653e\u5230\u7ebf\u7a0b\u4e2d\u4ee5\u83b7\u5f97\u66f4\u597d\u7684\u7528\u6237\u4f53\u9a8c\u3002","text":"<p>\u5982\u4e0b\u6240\u793a\u7684\u754c\u9762\u4e2d\uff0c\u6709\u201c\u4e0b\u8f7d\u201d\u548c\u201c\u5173\u4e8e\u201d\u4e24\u4e2a\u6309\u94ae\uff0c\u7528\u4f11\u7720\u7684\u65b9\u5f0f\u6a21\u62df\u70b9\u51fb\u201c\u4e0b\u8f7d\u201d\u6309\u94ae\u4f1a\u8054\u7f51\u4e0b\u8f7d\u6587\u4ef6\u9700\u8981\u8017\u8d3910\u79d2\u7684\u65f6\u95f4\uff0c\u5982\u679c\u4e0d\u4f7f\u7528\u201c\u591a\u7ebf\u7a0b\u201d\uff0c\u6211\u4eec\u4f1a\u53d1\u73b0\uff0c\u5f53\u70b9\u51fb\u201c\u4e0b\u8f7d\u201d\u6309\u94ae\u540e\u6574\u4e2a\u7a0b\u5e8f\u7684\u5176\u4ed6\u90e8\u5206\u90fd\u88ab\u8fd9\u4e2a\u8017\u65f6\u95f4\u7684\u4efb\u52a1\u963b\u585e\u800c\u65e0\u6cd5\u6267\u884c\u4e86\uff0c\u8fd9\u663e\u7136\u662f\u975e\u5e38\u7cdf\u7cd5\u7684\u7528\u6237\u4f53\u9a8c\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>import time\nimport tkinter\nimport tkinter.messagebox\n\n\ndef download():\n    # \u6a21\u62df\u4e0b\u8f7d\u4efb\u52a1\u9700\u8981\u82b1\u8d3910\u79d2\u949f\u65f6\u95f4\n    time.sleep(10)\n    tkinter.messagebox.showinfo('\u63d0\u793a', '\u4e0b\u8f7d\u5b8c\u6210!')\n\n\ndef show_about():\n    tkinter.messagebox.showinfo('\u5173\u4e8e', '\u4f5c\u8005: \u9a86\u660a(v1.0)')\n\n\ndef main():\n    top = tkinter.Tk()\n    top.title('\u5355\u7ebf\u7a0b')\n    top.geometry('200x150')\n    top.wm_attributes('-topmost', True)\n\n    panel = tkinter.Frame(top)\n    button1 = tkinter.Button(panel, text='\u4e0b\u8f7d', command=download)\n    button1.pack(side='left')\n    button2 = tkinter.Button(panel, text='\u5173\u4e8e', command=show_about)\n    button2.pack(side='right')\n    panel.pack(side='bottom')\n\n    tkinter.mainloop()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u5982\u679c\u4f7f\u7528\u591a\u7ebf\u7a0b\u5c06\u8017\u65f6\u95f4\u7684\u4efb\u52a1\u653e\u5230\u4e00\u4e2a\u72ec\u7acb\u7684\u7ebf\u7a0b\u4e2d\u6267\u884c\uff0c\u8fd9\u6837\u5c31\u4e0d\u4f1a\u56e0\u4e3a\u6267\u884c\u8017\u65f6\u95f4\u7684\u4efb\u52a1\u800c\u963b\u585e\u4e86\u4e3b\u7ebf\u7a0b\uff0c\u4fee\u6539\u540e\u7684\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>import time\nimport tkinter\nimport tkinter.messagebox\nfrom threading import Thread\n\n\ndef main():\n\n    class DownloadTaskHandler(Thread):\n\n        def run(self):\n            time.sleep(10)\n            tkinter.messagebox.showinfo('\u63d0\u793a', '\u4e0b\u8f7d\u5b8c\u6210!')\n            # \u542f\u7528\u4e0b\u8f7d\u6309\u94ae\n            button1.config(state=tkinter.NORMAL)\n\n    def download():\n        # \u7981\u7528\u4e0b\u8f7d\u6309\u94ae\n        button1.config(state=tkinter.DISABLED)\n        # \u901a\u8fc7daemon\u53c2\u6570\u5c06\u7ebf\u7a0b\u8bbe\u7f6e\u4e3a\u5b88\u62a4\u7ebf\u7a0b(\u4e3b\u7a0b\u5e8f\u9000\u51fa\u5c31\u4e0d\u518d\u4fdd\u7559\u6267\u884c)\n        # \u5728\u7ebf\u7a0b\u4e2d\u5904\u7406\u8017\u65f6\u95f4\u7684\u4e0b\u8f7d\u4efb\u52a1\n        DownloadTaskHandler(daemon=True).start()\n\n    def show_about():\n        tkinter.messagebox.showinfo('\u5173\u4e8e', '\u4f5c\u8005: \u9a86\u660a(v1.0)')\n\n    top = tkinter.Tk()\n    top.title('\u5355\u7ebf\u7a0b')\n    top.geometry('200x150')\n    top.wm_attributes('-topmost', 1)\n\n    panel = tkinter.Frame(top)\n    button1 = tkinter.Button(panel, text='\u4e0b\u8f7d', command=download)\n    button1.pack(side='left')\n    button2 = tkinter.Button(panel, text='\u5173\u4e8e', command=show_about)\n    button2.pack(side='right')\n    panel.pack(side='bottom')\n\n    tkinter.mainloop()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/13.%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/#2","title":"\u4f8b\u5b502\uff1a\u4f7f\u7528\u591a\u8fdb\u7a0b\u5bf9\u590d\u6742\u4efb\u52a1\u8fdb\u884c\u201c\u5206\u800c\u6cbb\u4e4b\u201d\u3002","text":"<p>\u6211\u4eec\u6765\u5b8c\u62101~100000000\u6c42\u548c\u7684\u8ba1\u7b97\u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u8fd9\u4e2a\u95ee\u9898\u672c\u8eab\u975e\u5e38\u7b80\u5355\uff0c\u6709\u70b9\u5faa\u73af\u7684\u77e5\u8bc6\u5c31\u80fd\u89e3\u51b3\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>from time import time\n\n\ndef main():\n    total = 0\n    number_list = [x for x in range(1, 100000001)]\n    start = time()\n    for number in number_list:\n        total += number\n    print(total)\n    end = time()\n    print('Execution time: %.3fs' % (end - start))\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u6545\u610f\u5148\u53bb\u521b\u5efa\u4e86\u4e00\u4e2a\u5217\u8868\u5bb9\u5668\u7136\u540e\u586b\u5165\u4e86100000000\u4e2a\u6570\uff0c\u8fd9\u4e00\u6b65\u5176\u5b9e\u662f\u6bd4\u8f83\u8017\u65f6\u95f4\u7684\uff0c\u6240\u4ee5\u4e3a\u4e86\u516c\u5e73\u8d77\u89c1\uff0c\u5f53\u6211\u4eec\u5c06\u8fd9\u4e2a\u4efb\u52a1\u5206\u89e3\u52308\u4e2a\u8fdb\u7a0b\u4e2d\u53bb\u6267\u884c\u7684\u65f6\u5019\uff0c\u6211\u4eec\u6682\u65f6\u4e5f\u4e0d\u8003\u8651\u5217\u8868\u5207\u7247\u64cd\u4f5c\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u53ea\u662f\u628a\u505a\u8fd0\u7b97\u548c\u5408\u5e76\u8fd0\u7b97\u7ed3\u679c\u7684\u65f6\u95f4\u7edf\u8ba1\u51fa\u6765\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>from multiprocessing import Process, Queue\nfrom random import randint\nfrom time import time\n\n\ndef task_handler(curr_list, result_queue):\n    total = 0\n    for number in curr_list:\n        total += number\n    result_queue.put(total)\n\n\ndef main():\n    processes = []\n    number_list = [x for x in range(1, 100000001)]\n    result_queue = Queue()\n    index = 0\n    # \u542f\u52a88\u4e2a\u8fdb\u7a0b\u5c06\u6570\u636e\u5207\u7247\u540e\u8fdb\u884c\u8fd0\u7b97\n    for _ in range(8):\n        p = Process(target=task_handler,\n                    args=(number_list[index:index + 12500000], result_queue))\n        index += 12500000\n        processes.append(p)\n        p.start()\n    # \u5f00\u59cb\u8bb0\u5f55\u6240\u6709\u8fdb\u7a0b\u6267\u884c\u5b8c\u6210\u82b1\u8d39\u7684\u65f6\u95f4\n    start = time()\n    for p in processes:\n        p.join()\n    # \u5408\u5e76\u6267\u884c\u7ed3\u679c\n    total = 0\n    while not result_queue.empty():\n        total += result_queue.get()\n    print(total)\n    end = time()\n    print('Execution time: ', (end - start), 's', sep='')\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u6bd4\u8f83\u4e24\u6bb5\u4ee3\u7801\u7684\u6267\u884c\u7ed3\u679c\uff08\u5728\u6211\u76ee\u524d\u4f7f\u7528\u7684MacBook\u4e0a\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u9700\u8981\u5927\u69826\u79d2\u5de6\u53f3\u7684\u65f6\u95f4\uff0c\u800c\u4e0b\u9762\u7684\u4ee3\u7801\u53ea\u9700\u8981\u4e0d\u52301\u79d2\u7684\u65f6\u95f4\uff0c\u518d\u5f3a\u8c03\u4e00\u6b21\u6211\u4eec\u53ea\u662f\u6bd4\u8f83\u4e86\u8fd0\u7b97\u7684\u65f6\u95f4\uff0c\u4e0d\u8003\u8651\u5217\u8868\u521b\u5efa\u53ca\u5207\u7247\u64cd\u4f5c\u82b1\u8d39\u7684\u65f6\u95f4\uff09\uff0c\u4f7f\u7528\u591a\u8fdb\u7a0b\u540e\u7531\u4e8e\u83b7\u5f97\u4e86\u66f4\u591a\u7684CPU\u6267\u884c\u65f6\u95f4\u4ee5\u53ca\u66f4\u597d\u7684\u5229\u7528\u4e86CPU\u7684\u591a\u6838\u7279\u6027\uff0c\u660e\u663e\u7684\u51cf\u5c11\u4e86\u7a0b\u5e8f\u7684\u6267\u884c\u65f6\u95f4\uff0c\u800c\u4e14\u8ba1\u7b97\u91cf\u8d8a\u5927\u6548\u679c\u8d8a\u660e\u663e\u3002\u5f53\u7136\uff0c\u5982\u679c\u613f\u610f\u8fd8\u53ef\u4ee5\u5c06\u591a\u4e2a\u8fdb\u7a0b\u90e8\u7f72\u5728\u4e0d\u540c\u7684\u8ba1\u7b97\u673a\u4e0a\uff0c\u505a\u6210\u5206\u5e03\u5f0f\u8fdb\u7a0b\uff0c\u5177\u4f53\u7684\u505a\u6cd5\u5c31\u662f\u901a\u8fc7multiprocessing.managers\u6a21\u5757\u4e2d\u63d0\u4f9b\u7684\u7ba1\u7406\u5668\u5c06<code>Queue</code>\u5bf9\u8c61\u901a\u8fc7\u7f51\u7edc\u5171\u4eab\u51fa\u6765\uff08\u6ce8\u518c\u5230\u7f51\u7edc\u4e0a\u8ba9\u5176\u4ed6\u8ba1\u7b97\u673a\u53ef\u4ee5\u8bbf\u95ee\uff09\uff0c\u8fd9\u90e8\u5206\u5185\u5bb9\u4e5f\u7559\u5230\u722c\u866b\u7684\u4e13\u9898\u518d\u8fdb\u884c\u8bb2\u89e3\u3002</p>"},{"location":"python/Py-100Days/Day01-15/14.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8%E5%92%8C%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/","title":"14.\u7f51\u7edc\u7f16\u7a0b\u5165\u95e8\u548c\u7f51\u7edc\u5e94\u7528\u5f00\u53d1","text":""},{"location":"python/Py-100Days/Day01-15/14.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8%E5%92%8C%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/#_1","title":"\u7f51\u7edc\u7f16\u7a0b\u5165\u95e8","text":""},{"location":"python/Py-100Days/Day01-15/14.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8%E5%92%8C%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/#_2","title":"\u8ba1\u7b97\u673a\u7f51\u7edc\u57fa\u7840","text":"<p>\u8ba1\u7b97\u673a\u7f51\u7edc\u662f\u72ec\u7acb\u81ea\u4e3b\u7684\u8ba1\u7b97\u673a\u4e92\u8054\u800c\u6210\u7684\u7cfb\u7edf\u7684\u603b\u79f0\uff0c\u7ec4\u5efa\u8ba1\u7b97\u673a\u7f51\u7edc\u6700\u4e3b\u8981\u7684\u76ee\u7684\u662f\u5b9e\u73b0\u591a\u53f0\u8ba1\u7b97\u673a\u4e4b\u95f4\u7684\u901a\u4fe1\u548c\u8d44\u6e90\u5171\u4eab\u3002\u4eca\u5929\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\u7684\u8bbe\u5907\u548c\u8ba1\u7b97\u673a\u7f51\u7edc\u7684\u7528\u6237\u5df2\u7ecf\u591a\u5f97\u4e0d\u53ef\u8ba1\u6570\uff0c\u800c\u8ba1\u7b97\u673a\u7f51\u7edc\u4e5f\u53ef\u4ee5\u79f0\u5f97\u4e0a\u662f\u4e00\u4e2a\u201c\u590d\u6742\u5de8\u7cfb\u7edf\u201d\uff0c\u5bf9\u4e8e\u8fd9\u6837\u7684\u7cfb\u7edf\uff0c\u6211\u4eec\u4e0d\u53ef\u80fd\u7528\u4e00\u4e24\u7bc7\u6587\u7ae0\u628a\u5b83\u8bb2\u6e05\u695a\uff0c\u6709\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u81ea\u884c\u9605\u8bfbAndrew S.Tanenbaum\u8001\u5e08\u7684\u7ecf\u5178\u4e4b\u4f5c\u300a\u8ba1\u7b97\u673a\u7f51\u7edc\u300b\u6216Kurose\u548cRoss\u8001\u5e08\u5408\u8457\u7684\u300a\u8ba1\u7b97\u673a\u7f51\u7edc:\u81ea\u9876\u5411\u4e0b\u65b9\u6cd5\u300b\u6765\u4e86\u89e3\u8ba1\u7b97\u673a\u7f51\u7edc\u7684\u76f8\u5173\u77e5\u8bc6\u3002</p>"},{"location":"python/Py-100Days/Day01-15/14.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8%E5%92%8C%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/#_3","title":"\u8ba1\u7b97\u673a\u7f51\u7edc\u53d1\u5c55\u53f2","text":"<ol> <li>1960s - \u7f8e\u56fd\u56fd\u9632\u90e8ARPANET\u9879\u76ee\u95ee\u4e16\uff0c\u5960\u5b9a\u4e86\u5206\u7ec4\u4ea4\u6362\u7f51\u7edc\u7684\u57fa\u7840\u3002</li> </ol> <ol> <li>1980s - \u56fd\u9645\u6807\u51c6\u5316\u7ec4\u7ec7\uff08ISO\uff09\u53d1\u5e03OSI/RM\uff0c\u5960\u5b9a\u4e86\u7f51\u7edc\u6280\u672f\u6807\u51c6\u5316\u7684\u57fa\u7840\u3002</li> </ol> <ol> <li>1990s - \u82f1\u56fd\u4eba\u8482\u59c6\u00b7\u4f2f\u7eb3\u65af-\u674e\u53d1\u660e\u4e86\u56fe\u5f62\u5316\u7684\u6d4f\u89c8\u5668\uff0c\u6d4f\u89c8\u5668\u7684\u7b80\u5355\u6613\u7528\u6027\u4f7f\u5f97\u8ba1\u7b97\u673a\u7f51\u7edc\u8fc5\u901f\u88ab\u666e\u53ca\u3002</li> </ol> <p>\u5728\u6ca1\u6709\u6d4f\u89c8\u5668\u7684\u5e74\u4ee3\uff0c\u4e0a\u7f51\u662f\u8fd9\u6837\u7684\u3002</p> <p></p> <p>\u6709\u4e86\u6d4f\u89c8\u5668\u4ee5\u540e\uff0c\u4e0a\u7f51\u662f\u8fd9\u6837\u7684\u3002</p> <p></p>"},{"location":"python/Py-100Days/Day01-15/14.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8%E5%92%8C%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/#tcpip","title":"TCP/IP\u6a21\u578b","text":"<p>\u5b9e\u73b0\u7f51\u7edc\u901a\u4fe1\u7684\u57fa\u7840\u662f\u7f51\u7edc\u901a\u4fe1\u534f\u8bae\uff0c\u8fd9\u4e9b\u534f\u8bae\u901a\u5e38\u662f\u7531\u4e92\u8054\u7f51\u5de5\u7a0b\u4efb\u52a1\u7ec4 \uff08IETF\uff09\u5236\u5b9a\u7684\u3002\u6240\u8c13\u201c\u534f\u8bae\u201d\u5c31\u662f\u901a\u4fe1\u8ba1\u7b97\u673a\u53cc\u65b9\u5fc5\u987b\u5171\u540c\u9075\u4ece\u7684\u4e00\u7ec4\u7ea6\u5b9a\uff0c\u4f8b\u5982\u600e\u6837\u5efa\u7acb\u8fde\u63a5\u3001\u600e\u6837\u4e92\u76f8\u8bc6\u522b\u7b49\uff0c\u7f51\u7edc\u534f\u8bae\u7684\u4e09\u8981\u7d20\u662f\uff1a\u8bed\u6cd5\u3001\u8bed\u4e49\u548c\u65f6\u5e8f\u3002\u6784\u6210\u6211\u4eec\u4eca\u5929\u4f7f\u7528\u7684Internet\u7684\u57fa\u7840\u7684\u662fTCP/IP\u534f\u8bae\u65cf\uff0c\u6240\u8c13\u534f\u8bae\u65cf\u5c31\u662f\u4e00\u7cfb\u5217\u7684\u534f\u8bae\u53ca\u5176\u6784\u6210\u7684\u901a\u4fe1\u6a21\u578b\uff0c\u6211\u4eec\u901a\u5e38\u4e5f\u628a\u8fd9\u5957\u4e1c\u897f\u79f0\u4e3aTCP/IP\u6a21\u578b\u3002\u4e0e\u56fd\u9645\u6807\u51c6\u5316\u7ec4\u7ec7\u53d1\u5e03\u7684OSI/RM\u8fd9\u4e2a\u4e03\u5c42\u6a21\u578b\u4e0d\u540c\uff0cTCP/IP\u662f\u4e00\u4e2a\u56db\u5c42\u6a21\u578b\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u8be5\u6a21\u578b\u5c06\u6211\u4eec\u4f7f\u7528\u7684\u7f51\u7edc\u4ece\u903b\u8f91\u4e0a\u5206\u89e3\u4e3a\u56db\u4e2a\u5c42\u6b21\uff0c\u81ea\u5e95\u5411\u4e0a\u4f9d\u6b21\u662f\uff1a\u7f51\u7edc\u63a5\u53e3\u5c42\u3001\u7f51\u7edc\u5c42\u3001\u4f20\u8f93\u5c42\u548c\u5e94\u7528\u5c42\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p> <p>IP\u901a\u5e38\u88ab\u7ffb\u8bd1\u4e3a\u7f51\u9645\u534f\u8bae\uff0c\u5b83\u670d\u52a1\u4e8e\u7f51\u7edc\u5c42\uff0c\u4e3b\u8981\u5b9e\u73b0\u4e86\u5bfb\u5740\u548c\u8def\u7531\u7684\u529f\u80fd\u3002\u63a5\u5165\u7f51\u7edc\u7684\u6bcf\u4e00\u53f0\u4e3b\u673a\u90fd\u9700\u8981\u6709\u81ea\u5df1\u7684IP\u5730\u5740\uff0cIP\u5730\u5740\u5c31\u662f\u4e3b\u673a\u5728\u8ba1\u7b97\u673a\u7f51\u7edc\u4e0a\u7684\u8eab\u4efd\u6807\u8bc6\u3002\u5f53\u7136\u7531\u4e8eIPv4\u5730\u5740\u7684\u532e\u4e4f\uff0c\u6211\u4eec\u5e73\u5e38\u5728\u5bb6\u91cc\u3001\u529e\u516c\u5ba4\u4ee5\u53ca\u5176\u4ed6\u53ef\u4ee5\u63a5\u5165\u7f51\u7edc\u7684\u516c\u5171\u533a\u57df\u4e0a\u7f51\u65f6\u83b7\u5f97\u7684IP\u5730\u5740\u5e76\u4e0d\u662f\u5168\u7403\u552f\u4e00\u7684IP\u5730\u5740\uff0c\u800c\u662f\u4e00\u4e2a\u5c40\u57df\u7f51\uff08LAN\uff09\u4e2d\u7684\u5185\u90e8IP\u5730\u5740\uff0c\u901a\u8fc7\u7f51\u7edc\u5730\u5740\u8f6c\u6362\uff08NAT\uff09\u670d\u52a1\u6211\u4eec\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u7f51\u7edc\u7684\u8bbf\u95ee\u3002\u8ba1\u7b97\u673a\u7f51\u7edc\u4e0a\u6709\u5927\u91cf\u7684\u88ab\u6211\u4eec\u79f0\u4e3a\u201c\u8def\u7531\u5668\u201d\u7684\u7f51\u7edc\u4e2d\u7ee7\u8bbe\u5907\uff0c\u5b83\u4eec\u4f1a\u5b58\u50a8\u8f6c\u53d1\u6211\u4eec\u53d1\u9001\u5230\u7f51\u7edc\u4e0a\u7684\u6570\u636e\u5206\u7ec4\uff0c\u8ba9\u4ece\u6e90\u5934\u53d1\u51fa\u7684\u6570\u636e\u6700\u7ec8\u80fd\u591f\u627e\u5230\u4f20\u9001\u5230\u76ee\u7684\u5730\u901a\u8def\uff0c\u8fd9\u9879\u529f\u80fd\u5c31\u662f\u6240\u8c13\u7684\u8def\u7531\u3002</p> <p>TCP\u5168\u79f0\u4f20\u8f93\u63a7\u5236\u534f\u8bae\uff0c\u5b83\u662f\u57fa\u4e8eIP\u63d0\u4f9b\u7684\u5bfb\u5740\u548c\u8def\u7531\u670d\u52a1\u800c\u5efa\u7acb\u8d77\u6765\u7684\u8d1f\u8d23\u5b9e\u73b0\u7aef\u5230\u7aef\u53ef\u9760\u4f20\u8f93\u7684\u534f\u8bae\uff0c\u4e4b\u6240\u4ee5\u5c06TCP\u79f0\u4e3a\u53ef\u9760\u7684\u4f20\u8f93\u534f\u8bae\u662f\u56e0\u4e3aTCP\u5411\u8c03\u7528\u8005\u627f\u8bfa\u4e86\u4e09\u4ef6\u4e8b\u60c5\uff1a</p> <ol> <li>\u6570\u636e\u4e0d\u4f20\u4e22\u4e0d\u4f20\u9519\uff08\u5229\u7528\u63e1\u624b\u3001\u6821\u9a8c\u548c\u91cd\u4f20\u673a\u5236\u53ef\u4ee5\u5b9e\u73b0\uff09\u3002</li> <li>\u6d41\u91cf\u63a7\u5236\uff08\u901a\u8fc7\u6ed1\u52a8\u7a97\u53e3\u5339\u914d\u6570\u636e\u53d1\u9001\u8005\u548c\u63a5\u6536\u8005\u4e4b\u95f4\u7684\u4f20\u8f93\u901f\u5ea6\uff09\u3002</li> <li>\u62e5\u585e\u63a7\u5236\uff08\u901a\u8fc7RTT\u65f6\u95f4\u4ee5\u53ca\u5bf9\u6ed1\u52a8\u7a97\u53e3\u7684\u63a7\u5236\u7f13\u89e3\u7f51\u7edc\u62e5\u5835\uff09\u3002</li> </ol>"},{"location":"python/Py-100Days/Day01-15/14.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8%E5%92%8C%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/#_4","title":"\u7f51\u7edc\u5e94\u7528\u6a21\u5f0f","text":"<ol> <li>C/S\u6a21\u5f0f\u548cB/S\u6a21\u5f0f\u3002\u8fd9\u91cc\u7684C\u6307\u7684\u662fClient\uff08\u5ba2\u6237\u7aef\uff09\uff0c\u901a\u5e38\u662f\u4e00\u4e2a\u9700\u8981\u5b89\u88c5\u5230\u67d0\u4e2a\u5bbf\u4e3b\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u7684\u5e94\u7528\u7a0b\u5e8f\uff1b\u800cB\u6307\u7684\u662fBrowser\uff08\u6d4f\u89c8\u5668\uff09\uff0c\u5b83\u51e0\u4e4e\u662f\u6240\u6709\u56fe\u5f62\u5316\u64cd\u4f5c\u7cfb\u7edf\u90fd\u9ed8\u8ba4\u5b89\u88c5\u4e86\u7684\u4e00\u4e2a\u5e94\u7528\u8f6f\u4ef6\uff1b\u901a\u8fc7C\u6216B\u90fd\u53ef\u4ee5\u5b9e\u73b0\u5bf9S\uff08\u670d\u52a1\u5668\uff09\u7684\u8bbf\u95ee\u3002\u5173\u4e8e\u4e8c\u8005\u7684\u6bd4\u8f83\u548c\u8ba8\u8bba\u5728\u7f51\u7edc\u4e0a\u6709\u4e00\u5927\u5806\u7684\u6587\u7ae0\uff0c\u5728\u6b64\u6211\u4eec\u5c31\u4e0d\u518d\u6d6a\u8d39\u7b14\u58a8\u4e86\u3002</li> <li>\u53bb\u4e2d\u5fc3\u5316\u7684\u7f51\u7edc\u5e94\u7528\u6a21\u5f0f\u3002\u4e0d\u7ba1\u662fB/S\u8fd8\u662fC/S\u90fd\u9700\u8981\u670d\u52a1\u5668\u7684\u5b58\u5728\uff0c\u670d\u52a1\u5668\u5c31\u662f\u6574\u4e2a\u5e94\u7528\u6a21\u5f0f\u7684\u4e2d\u5fc3\uff0c\u800c\u53bb\u4e2d\u5fc3\u5316\u7684\u7f51\u7edc\u5e94\u7528\u901a\u5e38\u6ca1\u6709\u56fa\u5b9a\u7684\u670d\u52a1\u5668\u6216\u8005\u56fa\u5b9a\u7684\u5ba2\u6237\u7aef\uff0c\u6240\u6709\u5e94\u7528\u7684\u4f7f\u7528\u8005\u65e2\u53ef\u4ee5\u4f5c\u4e3a\u8d44\u6e90\u7684\u63d0\u4f9b\u8005\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u8d44\u6e90\u7684\u8bbf\u95ee\u8005\u3002</li> </ol>"},{"location":"python/Py-100Days/Day01-15/14.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8%E5%92%8C%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/#http","title":"\u57fa\u4e8eHTTP\u534f\u8bae\u7684\u7f51\u7edc\u8d44\u6e90\u8bbf\u95ee","text":""},{"location":"python/Py-100Days/Day01-15/14.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8%E5%92%8C%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/#http_1","title":"HTTP\uff08\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff09","text":"<p>HTTP\u662f\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff08Hyper-Text Transfer Proctol\uff09\u7684\u7b80\u79f0\uff0c\u7ef4\u57fa\u767e\u79d1\u4e0a\u5bf9HTTP\u7684\u89e3\u91ca\u662f\uff1a\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\u662f\u4e00\u79cd\u7528\u4e8e\u5206\u5e03\u5f0f\u3001\u534f\u4f5c\u5f0f\u548c\u8d85\u5a92\u4f53\u4fe1\u606f\u7cfb\u7edf\u7684\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u5b83\u662f\u4e07\u7ef4\u7f51\u6570\u636e\u901a\u4fe1\u7684\u57fa\u7840\uff0c\u8bbe\u8ba1HTTP\u6700\u521d\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u63d0\u4f9b\u4e00\u79cd\u53d1\u5e03\u548c\u63a5\u6536HTML\u9875\u9762\u7684\u65b9\u6cd5\uff0c\u901a\u8fc7HTTP\u6216\u8005HTTPS\uff08\u8d85\u6587\u672c\u4f20\u8f93\u5b89\u5168\u534f\u8bae\uff09\u8bf7\u6c42\u7684\u8d44\u6e90\u7531URI\uff08\u7edf\u4e00\u8d44\u6e90\u6807\u8bc6\u7b26\uff09\u6765\u6807\u8bc6\u3002\u5173\u4e8eHTTP\u7684\u66f4\u591a\u5185\u5bb9\uff0c\u6211\u4eec\u63a8\u8350\u9605\u8bfb\u962e\u4e00\u5cf0\u8001\u5e08\u7684\u300aHTTP \u534f\u8bae\u5165\u95e8\u300b\uff0c\u7b80\u5355\u7684\u8bf4\uff0c\u901a\u8fc7HTTP\u6211\u4eec\u53ef\u4ee5\u83b7\u53d6\u7f51\u7edc\u4e0a\u7684\uff08\u57fa\u4e8e\u5b57\u7b26\u7684\uff09\u8d44\u6e90\uff0c\u5f00\u53d1\u4e2d\u7ecf\u5e38\u4f1a\u7528\u5230\u7684\u7f51\u7edcAPI\uff08\u6709\u7684\u5730\u65b9\u4e5f\u79f0\u4e4b\u4e3a\u7f51\u7edc\u6570\u636e\u63a5\u53e3\uff09\u5c31\u662f\u57fa\u4e8eHTTP\u6765\u5b9e\u73b0\u6570\u636e\u4f20\u8f93\u7684\u3002</p>"},{"location":"python/Py-100Days/Day01-15/14.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8%E5%92%8C%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/#json","title":"JSON\u683c\u5f0f","text":"<p>JSON\uff08JavaScript Object Notation\uff09\u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u7684\u6570\u636e\u4ea4\u6362\u8bed\u8a00\uff0c\u8be5\u8bed\u8a00\u4ee5\u6613\u4e8e\u8ba9\u4eba\u9605\u8bfb\u7684\u6587\u5b57\uff08\u7eaf\u6587\u672c\uff09\u4e3a\u57fa\u7840\uff0c\u7528\u6765\u4f20\u8f93\u7531\u5c5e\u6027\u503c\u6216\u8005\u5e8f\u5217\u6027\u7684\u503c\u7ec4\u6210\u7684\u6570\u636e\u5bf9\u8c61\u3002\u5c3d\u7ba1JSON\u662f\u6700\u521d\u53ea\u662fJavascript\u4e2d\u4e00\u79cd\u521b\u5efa\u5bf9\u8c61\u7684\u5b57\u9762\u91cf\u8bed\u6cd5\uff0c\u4f46\u5b83\u5728\u5f53\u4e0b\u66f4\u662f\u4e00\u79cd\u72ec\u7acb\u4e8e\u8bed\u8a00\u7684\u6570\u636e\u683c\u5f0f\uff0c\u5f88\u591a\u7f16\u7a0b\u8bed\u8a00\u90fd\u652f\u6301JSON\u683c\u5f0f\u6570\u636e\u7684\u751f\u6210\u548c\u89e3\u6790\uff0cPython\u5185\u7f6e\u7684json\u6a21\u5757\u4e5f\u63d0\u4f9b\u4e86\u8fd9\u65b9\u9762\u7684\u529f\u80fd\u3002\u7531\u4e8eJSON\u662f\u7eaf\u6587\u672c\uff0c\u5b83\u548cXML\u4e00\u6837\u90fd\u9002\u7528\u4e8e\u5f02\u6784\u7cfb\u7edf\u4e4b\u95f4\u7684\u6570\u636e\u4ea4\u6362\uff0c\u800c\u76f8\u8f83\u4e8eXML\uff0cJSON\u663e\u5f97\u66f4\u52a0\u7684\u8f7b\u4fbf\u548c\u4f18\u96c5\u3002\u4e0b\u9762\u662f\u8868\u8fbe\u540c\u6837\u4fe1\u606f\u7684XML\u548cJSON\uff0c\u800cJSON\u7684\u4f18\u52bf\u662f\u76f8\u5f53\u76f4\u89c2\u7684\u3002</p> <p>XML\u7684\u4f8b\u5b50\uff1a</p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;message&gt;\n    &lt;from&gt;Alice&lt;/from&gt;\n    &lt;to&gt;Bob&lt;/to&gt;\n    &lt;content&gt;Will you marry me?&lt;/content&gt;\n&lt;/message&gt;\n</code></pre> <p>JSON\u7684\u4f8b\u5b50\uff1a</p> <pre><code>{\n    \"from\": \"Alice\",\n    \"to\": \"Bob\",\n    \"content\": \"Will you marry me?\"\n}\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/14.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8%E5%92%8C%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/#requests","title":"requests\u5e93","text":"<p>requests\u662f\u4e00\u4e2a\u57fa\u4e8eHTTP\u534f\u8bae\u6765\u4f7f\u7528\u7f51\u7edc\u7684\u7b2c\u4e09\u5e93\uff0c\u5176\u5b98\u65b9\u7f51\u7ad9\u6709\u8fd9\u6837\u7684\u4e00\u53e5\u4ecb\u7ecd\u5b83\u7684\u8bdd\uff1a\u201cRequests\u662f\u552f\u4e00\u7684\u4e00\u4e2a\u975e\u8f6c\u57fa\u56e0\u7684Python HTTP\u5e93\uff0c\u4eba\u7c7b\u53ef\u4ee5\u5b89\u5168\u4eab\u7528\u3002\u201d\u7b80\u5355\u7684\u8bf4\uff0c\u4f7f\u7528requests\u5e93\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u7684\u4f7f\u7528HTTP\uff0c\u907f\u514d\u5b89\u5168\u7f3a\u9677\u3001\u5197\u4f59\u4ee3\u7801\u4ee5\u53ca\u201c\u91cd\u590d\u53d1\u660e\u8f6e\u5b50\u201d\uff08\u884c\u4e1a\u9ed1\u8bdd\uff0c\u901a\u5e38\u7528\u5728\u8f6f\u4ef6\u5de5\u7a0b\u9886\u57df\u8868\u793a\u91cd\u65b0\u521b\u9020\u4e00\u4e2a\u5df2\u6709\u7684\u6216\u662f\u65e9\u5df2\u88ab\u4f18\u5316\u904e\u7684\u57fa\u672c\u65b9\u6cd5\uff09\u3002\u524d\u9762\u7684\u6587\u7ae0\u4e2d\u6211\u4eec\u5df2\u7ecf\u4f7f\u7528\u8fc7\u8fd9\u4e2a\u5e93\uff0c\u4e0b\u9762\u6211\u4eec\u8fd8\u662f\u901a\u8fc7requests\u6765\u5b9e\u73b0\u4e00\u4e2a\u8bbf\u95ee\u7f51\u7edc\u6570\u636e\u63a5\u53e3\u5e76\u4ece\u4e2d\u83b7\u53d6\u7f8e\u5973\u56fe\u7247\u4e0b\u8f7d\u94fe\u63a5\u7136\u540e\u4e0b\u8f7d\u7f8e\u5973\u56fe\u7247\u5230\u672c\u5730\u7684\u4f8b\u5b50\u7a0b\u5e8f\uff0c\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u4e86\u5929\u884c\u6570\u636e\u63d0\u4f9b\u7684\u7f51\u7edcAPI\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u5148\u901a\u8fc7pip\u5b89\u88c5requests\u53ca\u5176\u4f9d\u8d56\u5e93\u3002</p> <pre><code>pip install requests\n</code></pre> <p>\u5982\u679c\u4f7f\u7528PyCharm\u4f5c\u4e3a\u5f00\u53d1\u5de5\u5177\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728\u4ee3\u7801\u4e2d\u4e66\u5199<code>import requests</code>\uff0c\u7136\u540e\u901a\u8fc7\u4ee3\u7801\u4fee\u590d\u529f\u80fd\u6765\u81ea\u52a8\u4e0b\u8f7d\u5b89\u88c5requests\u3002</p> <pre><code>from time import time\nfrom threading import Thread\n\nimport requests\n\n\n# \u7ee7\u627fThread\u7c7b\u521b\u5efa\u81ea\u5b9a\u4e49\u7684\u7ebf\u7a0b\u7c7b\nclass DownloadHanlder(Thread):\n\n    def __init__(self, url):\n        super().__init__()\n        self.url = url\n\n    def run(self):\n        filename = self.url[self.url.rfind('/') + 1:]\n        resp = requests.get(self.url)\n        with open('/Users/Hao/' + filename, 'wb') as f:\n            f.write(resp.content)\n\n\ndef main():\n    # \u901a\u8fc7requests\u6a21\u5757\u7684get\u51fd\u6570\u83b7\u53d6\u7f51\u7edc\u8d44\u6e90\n    # \u4e0b\u9762\u7684\u4ee3\u7801\u4e2d\u4f7f\u7528\u4e86\u5929\u884c\u6570\u636e\u63a5\u53e3\u63d0\u4f9b\u7684\u7f51\u7edcAPI\n    # \u8981\u4f7f\u7528\u8be5\u6570\u636e\u63a5\u53e3\u9700\u8981\u5728\u5929\u884c\u6570\u636e\u7684\u7f51\u7ad9\u4e0a\u6ce8\u518c\n    # \u7136\u540e\u7528\u81ea\u5df1\u7684Key\u66ff\u6362\u6389\u4e0b\u9762\u4ee3\u7801\u7684\u4e2dAPIKey\u5373\u53ef\n    resp = requests.get(\n        'http://api.tianapi.com/meinv/?key=APIKey&amp;num=10')\n    # \u5c06\u670d\u52a1\u5668\u8fd4\u56de\u7684JSON\u683c\u5f0f\u7684\u6570\u636e\u89e3\u6790\u4e3a\u5b57\u5178\n    data_model = resp.json()\n    for mm_dict in data_model['newslist']:\n        url = mm_dict['picUrl']\n        # \u901a\u8fc7\u591a\u7ebf\u7a0b\u7684\u65b9\u5f0f\u5b9e\u73b0\u56fe\u7247\u4e0b\u8f7d\n        DownloadHanlder(url).start()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/14.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8%E5%92%8C%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/#_5","title":"\u57fa\u4e8e\u4f20\u8f93\u5c42\u534f\u8bae\u7684\u5957\u63a5\u5b57\u7f16\u7a0b","text":"<p>\u5957\u63a5\u5b57\u8fd9\u4e2a\u8bcd\u5bf9\u5f88\u591a\u4e0d\u4e86\u89e3\u7f51\u7edc\u7f16\u7a0b\u7684\u4eba\u6765\u8bf4\u663e\u5f97\u975e\u5e38\u6666\u6da9\u548c\u964c\u751f\uff0c\u5176\u5b9e\u8bf4\u5f97\u901a\u4fd7\u70b9\uff0c\u5957\u63a5\u5b57\u5c31\u662f\u4e00\u5957\u7528C\u8bed\u8a00\u5199\u6210\u7684\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u5e93\uff0c\u4e3b\u8981\u7528\u4e8e\u5b9e\u73b0\u8fdb\u7a0b\u95f4\u901a\u4fe1\u548c\u7f51\u7edc\u7f16\u7a0b\uff0c\u5728\u7f51\u7edc\u5e94\u7528\u5f00\u53d1\u4e2d\u88ab\u5e7f\u6cdb\u4f7f\u7528\u3002\u5728Python\u4e2d\u4e5f\u53ef\u4ee5\u57fa\u4e8e\u5957\u63a5\u5b57\u6765\u4f7f\u7528\u4f20\u8f93\u5c42\u63d0\u4f9b\u7684\u4f20\u8f93\u670d\u52a1\uff0c\u5e76\u57fa\u4e8e\u6b64\u5f00\u53d1\u81ea\u5df1\u7684\u7f51\u7edc\u5e94\u7528\u3002\u5b9e\u9645\u5f00\u53d1\u4e2d\u4f7f\u7528\u7684\u5957\u63a5\u5b57\u53ef\u4ee5\u5206\u4e3a\u4e09\u7c7b\uff1a\u6d41\u5957\u63a5\u5b57\uff08TCP\u5957\u63a5\u5b57\uff09\u3001\u6570\u636e\u62a5\u5957\u63a5\u5b57\u548c\u539f\u59cb\u5957\u63a5\u5b57\u3002</p>"},{"location":"python/Py-100Days/Day01-15/14.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8%E5%92%8C%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/#tcp","title":"TCP\u5957\u63a5\u5b57","text":"<p>\u6240\u8c13TCP\u5957\u63a5\u5b57\u5c31\u662f\u4f7f\u7528TCP\u534f\u8bae\u63d0\u4f9b\u7684\u4f20\u8f93\u670d\u52a1\u6765\u5b9e\u73b0\u7f51\u7edc\u901a\u4fe1\u7684\u7f16\u7a0b\u63a5\u53e3\u3002\u5728Python\u4e2d\u53ef\u4ee5\u901a\u8fc7\u521b\u5efasocket\u5bf9\u8c61\u5e76\u6307\u5b9atype\u5c5e\u6027\u4e3aSOCK_STREAM\u6765\u4f7f\u7528TCP\u5957\u63a5\u5b57\u3002\u7531\u4e8e\u4e00\u53f0\u4e3b\u673a\u53ef\u80fd\u62e5\u6709\u591a\u4e2aIP\u5730\u5740\uff0c\u800c\u4e14\u5f88\u6709\u53ef\u80fd\u4f1a\u914d\u7f6e\u591a\u4e2a\u4e0d\u540c\u7684\u670d\u52a1\uff0c\u6240\u4ee5\u4f5c\u4e3a\u670d\u52a1\u5668\u7aef\u7684\u7a0b\u5e8f\uff0c\u9700\u8981\u5728\u521b\u5efa\u5957\u63a5\u5b57\u5bf9\u8c61\u540e\u5c06\u5176\u7ed1\u5b9a\u5230\u6307\u5b9a\u7684IP\u5730\u5740\u548c\u7aef\u53e3\u4e0a\u3002\u8fd9\u91cc\u7684\u7aef\u53e3\u5e76\u4e0d\u662f\u7269\u7406\u8bbe\u5907\u800c\u662f\u5bf9IP\u5730\u5740\u7684\u6269\u5c55\uff0c\u7528\u4e8e\u533a\u5206\u4e0d\u540c\u7684\u670d\u52a1\uff0c\u4f8b\u5982\u6211\u4eec\u901a\u5e38\u5c06HTTP\u670d\u52a1\u8ddf80\u7aef\u53e3\u7ed1\u5b9a\uff0c\u800cMySQL\u6570\u636e\u5e93\u670d\u52a1\u9ed8\u8ba4\u7ed1\u5b9a\u57283306\u7aef\u53e3\uff0c\u8fd9\u6837\u5f53\u670d\u52a1\u5668\u6536\u5230\u7528\u6237\u8bf7\u6c42\u65f6\u5c31\u53ef\u4ee5\u6839\u636e\u7aef\u53e3\u53f7\u6765\u786e\u5b9a\u5230\u5e95\u7528\u6237\u8bf7\u6c42\u7684\u662fHTTP\u670d\u52a1\u5668\u8fd8\u662f\u6570\u636e\u5e93\u670d\u52a1\u5668\u63d0\u4f9b\u7684\u670d\u52a1\u3002\u7aef\u53e3\u7684\u53d6\u503c\u8303\u56f4\u662f0~65535\uff0c\u800c1024\u4ee5\u4e0b\u7684\u7aef\u53e3\u6211\u4eec\u901a\u5e38\u79f0\u4e4b\u4e3a\u201c\u8457\u540d\u7aef\u53e3\u201d\uff08\u7559\u7ed9\u50cfFTP\u3001HTTP\u3001SMTP\u7b49\u201c\u8457\u540d\u670d\u52a1\u201d\u4f7f\u7528\u7684\u7aef\u53e3\uff0c\u6709\u7684\u5730\u65b9\u4e5f\u79f0\u4e4b\u4e3a\u201c\u5468\u77e5\u7aef\u53e3\u201d\uff09\uff0c\u81ea\u5b9a\u4e49\u7684\u670d\u52a1\u901a\u5e38\u4e0d\u4f7f\u7528\u8fd9\u4e9b\u7aef\u53e3\uff0c\u9664\u975e\u81ea\u5b9a\u4e49\u7684\u662fHTTP\u6216FTP\u8fd9\u6837\u7684\u8457\u540d\u670d\u52a1\u3002</p> <p>\u4e0b\u9762\u7684\u4ee3\u7801\u5b9e\u73b0\u4e86\u4e00\u4e2a\u63d0\u4f9b\u65f6\u95f4\u65e5\u671f\u7684\u670d\u52a1\u5668\u3002</p> <pre><code>from socket import socket, SOCK_STREAM, AF_INET\nfrom datetime import datetime\n\n\ndef main():\n    # 1.\u521b\u5efa\u5957\u63a5\u5b57\u5bf9\u8c61\u5e76\u6307\u5b9a\u4f7f\u7528\u54ea\u79cd\u4f20\u8f93\u670d\u52a1\n    # family=AF_INET - IPv4\u5730\u5740\n    # family=AF_INET6 - IPv6\u5730\u5740\n    # type=SOCK_STREAM - TCP\u5957\u63a5\u5b57\n    # type=SOCK_DGRAM - UDP\u5957\u63a5\u5b57\n    # type=SOCK_RAW - \u539f\u59cb\u5957\u63a5\u5b57\n    server = socket(family=AF_INET, type=SOCK_STREAM)\n    # 2.\u7ed1\u5b9aIP\u5730\u5740\u548c\u7aef\u53e3(\u7aef\u53e3\u7528\u4e8e\u533a\u5206\u4e0d\u540c\u7684\u670d\u52a1)\n    # \u540c\u4e00\u65f6\u95f4\u5728\u540c\u4e00\u4e2a\u7aef\u53e3\u4e0a\u53ea\u80fd\u7ed1\u5b9a\u4e00\u4e2a\u670d\u52a1\u5426\u5219\u62a5\u9519\n    server.bind(('192.168.1.2', 6789))\n    # 3.\u5f00\u542f\u76d1\u542c - \u76d1\u542c\u5ba2\u6237\u7aef\u8fde\u63a5\u5230\u670d\u52a1\u5668\n    # \u53c2\u6570512\u53ef\u4ee5\u7406\u89e3\u4e3a\u8fde\u63a5\u961f\u5217\u7684\u5927\u5c0f\n    server.listen(512)\n    print('\u670d\u52a1\u5668\u542f\u52a8\u5f00\u59cb\u76d1\u542c...')\n    while True:\n        # 4.\u901a\u8fc7\u5faa\u73af\u63a5\u6536\u5ba2\u6237\u7aef\u7684\u8fde\u63a5\u5e76\u4f5c\u51fa\u76f8\u5e94\u7684\u5904\u7406(\u63d0\u4f9b\u670d\u52a1)\n        # accept\u65b9\u6cd5\u662f\u4e00\u4e2a\u963b\u585e\u65b9\u6cd5\u5982\u679c\u6ca1\u6709\u5ba2\u6237\u7aef\u8fde\u63a5\u5230\u670d\u52a1\u5668\u4ee3\u7801\u4e0d\u4f1a\u5411\u4e0b\u6267\u884c\n        # accept\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5143\u7ec4\u5176\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u662f\u5ba2\u6237\u7aef\u5bf9\u8c61\n        # \u7b2c\u4e8c\u4e2a\u5143\u7d20\u662f\u8fde\u63a5\u5230\u670d\u52a1\u5668\u7684\u5ba2\u6237\u7aef\u7684\u5730\u5740(\u7531IP\u548c\u7aef\u53e3\u4e24\u90e8\u5206\u6784\u6210)\n        client, addr = server.accept()\n        print(str(addr) + '\u8fde\u63a5\u5230\u4e86\u670d\u52a1\u5668.')\n        # 5.\u53d1\u9001\u6570\u636e\n        client.send(str(datetime.now()).encode('utf-8'))\n        # 6.\u65ad\u5f00\u8fde\u63a5\n        client.close()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8fd0\u884c\u670d\u52a1\u5668\u7a0b\u5e8f\u540e\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7Windows\u7cfb\u7edf\u7684telnet\u6765\u8bbf\u95ee\u8be5\u670d\u52a1\u5668\uff0c\u7ed3\u679c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <pre><code>telnet 192.168.1.2 6789\n</code></pre> <p></p> <p>\u5f53\u7136\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7Python\u7684\u7a0b\u5e8f\u6765\u5b9e\u73b0TCP\u5ba2\u6237\u7aef\u7684\u529f\u80fd\uff0c\u76f8\u8f83\u4e8e\u5b9e\u73b0\u670d\u52a1\u5668\u7a0b\u5e8f\uff0c\u5b9e\u73b0\u5ba2\u6237\u7aef\u7a0b\u5e8f\u5c31\u7b80\u5355\u591a\u4e86\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>from socket import socket\n\n\ndef main():\n    # 1.\u521b\u5efa\u5957\u63a5\u5b57\u5bf9\u8c61\u9ed8\u8ba4\u4f7f\u7528IPv4\u548cTCP\u534f\u8bae\n    client = socket()\n    # 2.\u8fde\u63a5\u5230\u670d\u52a1\u5668(\u9700\u8981\u6307\u5b9aIP\u5730\u5740\u548c\u7aef\u53e3)\n    client.connect(('192.168.1.2', 6789))\n    # 3.\u4ece\u670d\u52a1\u5668\u63a5\u6536\u6570\u636e\n    print(client.recv(1024).decode('utf-8'))\n    client.close()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e0a\u9762\u7684\u670d\u52a1\u5668\u5e76\u6ca1\u6709\u4f7f\u7528\u591a\u7ebf\u7a0b\u6216\u8005\u5f02\u6b65I/O\u7684\u5904\u7406\u65b9\u5f0f\uff0c\u8fd9\u4e5f\u5c31\u610f\u5473\u7740\u5f53\u670d\u52a1\u5668\u4e0e\u4e00\u4e2a\u5ba2\u6237\u7aef\u5904\u4e8e\u901a\u4fe1\u72b6\u6001\u65f6\uff0c\u5176\u4ed6\u7684\u5ba2\u6237\u7aef\u53ea\u80fd\u6392\u961f\u7b49\u5f85\u3002\u5f88\u663e\u7136\uff0c\u8fd9\u6837\u7684\u670d\u52a1\u5668\u5e76\u4e0d\u80fd\u6ee1\u8db3\u6211\u4eec\u7684\u9700\u6c42\uff0c\u6211\u4eec\u9700\u8981\u7684\u670d\u52a1\u5668\u662f\u80fd\u591f\u540c\u65f6\u63a5\u7eb3\u548c\u5904\u7406\u591a\u4e2a\u7528\u6237\u8bf7\u6c42\u7684\u3002\u4e0b\u9762\u6211\u4eec\u6765\u8bbe\u8ba1\u4e00\u4e2a\u4f7f\u7528\u591a\u7ebf\u7a0b\u6280\u672f\u5904\u7406\u591a\u4e2a\u7528\u6237\u8bf7\u6c42\u7684\u670d\u52a1\u5668\uff0c\u8be5\u670d\u52a1\u5668\u4f1a\u5411\u8fde\u63a5\u5230\u670d\u52a1\u5668\u7684\u5ba2\u6237\u7aef\u53d1\u9001\u4e00\u5f20\u56fe\u7247\u3002</p> <p>\u670d\u52a1\u5668\u7aef\u4ee3\u7801\uff1a</p> <pre><code>from socket import socket, SOCK_STREAM, AF_INET\nfrom base64 import b64encode\nfrom json import dumps\nfrom threading import Thread\n\n\ndef main():\n\n    # \u81ea\u5b9a\u4e49\u7ebf\u7a0b\u7c7b\n    class FileTransferHandler(Thread):\n\n        def __init__(self, cclient):\n            super().__init__()\n            self.cclient = cclient\n\n        def run(self):\n            my_dict = {}\n            my_dict['filename'] = 'guido.jpg'\n            # JSON\u662f\u7eaf\u6587\u672c\u4e0d\u80fd\u643a\u5e26\u4e8c\u8fdb\u5236\u6570\u636e\n            # \u6240\u4ee5\u56fe\u7247\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u8981\u5904\u7406\u6210base64\u7f16\u7801\n            my_dict['filedata'] = data\n            # \u901a\u8fc7dumps\u51fd\u6570\u5c06\u5b57\u5178\u5904\u7406\u6210JSON\u5b57\u7b26\u4e32\n            json_str = dumps(my_dict)\n            # \u53d1\u9001JSON\u5b57\u7b26\u4e32\n            self.cclient.send(json_str.encode('utf-8'))\n            self.cclient.close()\n\n    # 1.\u521b\u5efa\u5957\u63a5\u5b57\u5bf9\u8c61\u5e76\u6307\u5b9a\u4f7f\u7528\u54ea\u79cd\u4f20\u8f93\u670d\u52a1\n    server = socket()\n    # 2.\u7ed1\u5b9aIP\u5730\u5740\u548c\u7aef\u53e3(\u533a\u5206\u4e0d\u540c\u7684\u670d\u52a1)\n    server.bind(('192.168.1.2', 5566))\n    # 3.\u5f00\u542f\u76d1\u542c - \u76d1\u542c\u5ba2\u6237\u7aef\u8fde\u63a5\u5230\u670d\u52a1\u5668\n    server.listen(512)\n    print('\u670d\u52a1\u5668\u542f\u52a8\u5f00\u59cb\u76d1\u542c...')\n    with open('guido.jpg', 'rb') as f:\n        # \u5c06\u4e8c\u8fdb\u5236\u6570\u636e\u5904\u7406\u6210base64\u518d\u89e3\u7801\u6210\u5b57\u7b26\u4e32\n        data = b64encode(f.read()).decode('utf-8')\n    while True:\n        client, addr = server.accept()\n        # \u542f\u52a8\u4e00\u4e2a\u7ebf\u7a0b\u6765\u5904\u7406\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\n        FileTransferHandler(client).start()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u5ba2\u6237\u7aef\u4ee3\u7801\uff1a</p> <pre><code>from socket import socket\nfrom json import loads\nfrom base64 import b64decode\n\n\ndef main():\n    client = socket()\n    client.connect(('192.168.1.2', 5566))\n    # \u5b9a\u4e49\u4e00\u4e2a\u4fdd\u5b58\u4e8c\u8fdb\u5236\u6570\u636e\u7684\u5bf9\u8c61\n    in_data = bytes()\n    # \u7531\u4e8e\u4e0d\u77e5\u9053\u670d\u52a1\u5668\u53d1\u9001\u7684\u6570\u636e\u6709\u591a\u5927\u6bcf\u6b21\u63a5\u65361024\u5b57\u8282\n    data = client.recv(1024)\n    while data:\n        # \u5c06\u6536\u5230\u7684\u6570\u636e\u62fc\u63a5\u8d77\u6765\n        in_data += data\n        data = client.recv(1024)\n    # \u5c06\u6536\u5230\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u89e3\u7801\u6210JSON\u5b57\u7b26\u4e32\u5e76\u8f6c\u6362\u6210\u5b57\u5178\n    # loads\u51fd\u6570\u7684\u4f5c\u7528\u5c31\u662f\u5c06JSON\u5b57\u7b26\u4e32\u8f6c\u6210\u5b57\u5178\u5bf9\u8c61\n    my_dict = loads(in_data.decode('utf-8'))\n    filename = my_dict['filename']\n    filedata = my_dict['filedata'].encode('utf-8')\n    with open('/Users/Hao/' + filename, 'wb') as f:\n        # \u5c06base64\u683c\u5f0f\u7684\u6570\u636e\u89e3\u7801\u6210\u4e8c\u8fdb\u5236\u6570\u636e\u5e76\u5199\u5165\u6587\u4ef6\n        f.write(b64decode(filedata))\n    print('\u56fe\u7247\u5df2\u4fdd\u5b58.')\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u5728\u8fd9\u4e2a\u6848\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86JSON\u4f5c\u4e3a\u6570\u636e\u4f20\u8f93\u7684\u683c\u5f0f\uff08\u901a\u8fc7JSON\u683c\u5f0f\u5bf9\u4f20\u8f93\u7684\u6570\u636e\u8fdb\u884c\u4e86\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316\u7684\u64cd\u4f5c\uff09\uff0c\u4f46\u662fJSON\u5e76\u4e0d\u80fd\u643a\u5e26\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u56e0\u6b64\u5bf9\u56fe\u7247\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u8fdb\u884c\u4e86Base64\u7f16\u7801\u7684\u5904\u7406\u3002Base64\u662f\u4e00\u79cd\u752864\u4e2a\u5b57\u7b26\u8868\u793a\u6240\u6709\u4e8c\u8fdb\u5236\u6570\u636e\u7684\u7f16\u7801\u65b9\u5f0f\uff0c\u901a\u8fc7\u5c06\u4e8c\u8fdb\u5236\u6570\u636e\u6bcf6\u4f4d\u4e00\u7ec4\u7684\u65b9\u5f0f\u91cd\u65b0\u7ec4\u7ec7\uff0c\u521a\u597d\u53ef\u4ee5\u4f7f\u75280~9\u7684\u6570\u5b57\u3001\u5927\u5c0f\u5199\u5b57\u6bcd\u4ee5\u53ca\u201c+\u201d\u548c\u201c/\u201d\u603b\u517164\u4e2a\u5b57\u7b26\u8868\u793a\u4ece<code>000000</code>\u5230<code>111111</code>\u768464\u79cd\u72b6\u6001\u3002\u7ef4\u57fa\u767e\u79d1\u4e0a\u6709\u5173\u4e8eBase64\u7f16\u7801\u7684\u8be6\u7ec6\u8bb2\u89e3\uff0c\u4e0d\u719f\u6089Base64\u7684\u8bfb\u8005\u53ef\u4ee5\u81ea\u884c\u9605\u8bfb\u3002</p> <p>\u8bf4\u660e\uff1a \u4e0a\u9762\u7684\u4ee3\u7801\u4e3b\u8981\u4e3a\u4e86\u8bb2\u89e3\u7f51\u7edc\u7f16\u7a0b\u7684\u76f8\u5173\u5185\u5bb9\u56e0\u6b64\u5e76\u6ca1\u6709\u5bf9\u5f02\u5e38\u72b6\u51b5\u8fdb\u884c\u5904\u7406\uff0c\u8bf7\u8bfb\u8005\u81ea\u884c\u6dfb\u52a0\u5f02\u5e38\u5904\u7406\u4ee3\u7801\u6765\u589e\u5f3a\u7a0b\u5e8f\u7684\u5065\u58ee\u6027\u3002</p>"},{"location":"python/Py-100Days/Day01-15/14.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8%E5%92%8C%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/#udp","title":"UDP\u5957\u63a5\u5b57","text":"<p>\u4f20\u8f93\u5c42\u9664\u4e86\u6709\u53ef\u9760\u7684\u4f20\u8f93\u534f\u8baeTCP\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u79cd\u975e\u5e38\u8f7b\u4fbf\u7684\u4f20\u8f93\u534f\u8bae\u53eb\u505a\u7528\u6237\u6570\u636e\u62a5\u534f\u8bae\uff0c\u7b80\u79f0UDP\u3002TCP\u548cUDP\u90fd\u662f\u63d0\u4f9b\u7aef\u5230\u7aef\u4f20\u8f93\u670d\u52a1\u7684\u534f\u8bae\uff0c\u4e8c\u8005\u7684\u5dee\u522b\u5c31\u5982\u540c\u6253\u7535\u8bdd\u548c\u53d1\u77ed\u4fe1\u7684\u533a\u522b\uff0c\u540e\u8005\u4e0d\u5bf9\u4f20\u8f93\u7684\u53ef\u9760\u6027\u548c\u53ef\u8fbe\u6027\u505a\u51fa\u4efb\u4f55\u627f\u8bfa\u4ece\u800c\u907f\u514d\u4e86TCP\u4e2d\u63e1\u624b\u548c\u91cd\u4f20\u7684\u5f00\u9500\uff0c\u6240\u4ee5\u5728\u5f3a\u8c03\u6027\u80fd\u548c\u800c\u4e0d\u662f\u6570\u636e\u5b8c\u6574\u6027\u7684\u573a\u666f\u4e2d\uff08\u4f8b\u5982\u4f20\u8f93\u7f51\u7edc\u97f3\u89c6\u9891\u6570\u636e\uff09\uff0cUDP\u53ef\u80fd\u662f\u66f4\u597d\u7684\u9009\u62e9\u3002\u53ef\u80fd\u5927\u5bb6\u4f1a\u6ce8\u610f\u5230\u4e00\u4e2a\u73b0\u8c61\uff0c\u5c31\u662f\u5728\u89c2\u770b\u7f51\u7edc\u89c6\u9891\u65f6\uff0c\u6709\u65f6\u4f1a\u51fa\u73b0\u5361\u987f\uff0c\u6709\u65f6\u4f1a\u51fa\u73b0\u82b1\u5c4f\uff0c\u8fd9\u65e0\u975e\u5c31\u662f\u90e8\u5206\u6570\u636e\u4f20\u4e22\u6216\u4f20\u9519\u9020\u6210\u7684\u3002\u5728Python\u4e2d\u4e5f\u53ef\u4ee5\u4f7f\u7528UDP\u5957\u63a5\u5b57\u6765\u521b\u5efa\u7f51\u7edc\u5e94\u7528\uff0c\u5bf9\u6b64\u6211\u4eec\u4e0d\u8fdb\u884c\u8d58\u8ff0\uff0c\u6709\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u81ea\u884c\u7814\u7a76\u3002</p>"},{"location":"python/Py-100Days/Day01-15/14.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8%E5%92%8C%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/#_6","title":"\u7f51\u7edc\u5e94\u7528\u5f00\u53d1","text":""},{"location":"python/Py-100Days/Day01-15/14.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8%E5%92%8C%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/#_7","title":"\u53d1\u9001\u7535\u5b50\u90ae\u4ef6","text":"<p>\u5728\u5373\u65f6\u901a\u4fe1\u8f6f\u4ef6\u5982\u6b64\u53d1\u8fbe\u7684\u4eca\u5929\uff0c\u7535\u5b50\u90ae\u4ef6\u4ecd\u7136\u662f\u4e92\u8054\u7f51\u4e0a\u4f7f\u7528\u6700\u4e3a\u5e7f\u6cdb\u7684\u5e94\u7528\u4e4b\u4e00\uff0c\u516c\u53f8\u5411\u5e94\u8058\u8005\u53d1\u51fa\u5f55\u7528\u901a\u77e5\u3001\u7f51\u7ad9\u5411\u7528\u6237\u53d1\u9001\u4e00\u4e2a\u6fc0\u6d3b\u8d26\u53f7\u7684\u94fe\u63a5\u3001\u94f6\u884c\u5411\u5ba2\u6237\u63a8\u5e7f\u5b83\u4eec\u7684\u7406\u8d22\u4ea7\u54c1\u7b49\u51e0\u4e4e\u90fd\u662f\u901a\u8fc7\u7535\u5b50\u90ae\u4ef6\u6765\u5b8c\u6210\u7684\uff0c\u800c\u8fd9\u4e9b\u4efb\u52a1\u5e94\u8be5\u90fd\u662f\u7531\u7a0b\u5e8f\u81ea\u52a8\u5b8c\u6210\u7684\u3002</p> <p>\u5c31\u50cf\u6211\u4eec\u53ef\u4ee5\u7528HTTP\uff08\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff09\u6765\u8bbf\u95ee\u4e00\u4e2a\u7f51\u7ad9\u4e00\u6837\uff0c\u53d1\u9001\u90ae\u4ef6\u8981\u4f7f\u7528SMTP\uff08\u7b80\u5355\u90ae\u4ef6\u4f20\u8f93\u534f\u8bae\uff09\uff0cSMTP\u4e5f\u662f\u4e00\u4e2a\u5efa\u7acb\u5728TCP\uff08\u4f20\u8f93\u63a7\u5236\u534f\u8bae\uff09\u63d0\u4f9b\u7684\u53ef\u9760\u6570\u636e\u4f20\u8f93\u670d\u52a1\u7684\u57fa\u7840\u4e0a\u7684\u5e94\u7528\u7ea7\u534f\u8bae\uff0c\u5b83\u89c4\u5b9a\u4e86\u90ae\u4ef6\u7684\u53d1\u9001\u8005\u5982\u4f55\u8ddf\u53d1\u9001\u90ae\u4ef6\u7684\u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\u7684\u7ec6\u8282\uff0c\u800cPython\u4e2d\u7684smtplib\u6a21\u5757\u5c06\u8fd9\u4e9b\u64cd\u4f5c\u7b80\u5316\u6210\u4e86\u51e0\u4e2a\u7b80\u5355\u7684\u51fd\u6570\u3002</p> <p>\u4e0b\u9762\u7684\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u5728Python\u53d1\u9001\u90ae\u4ef6\u3002</p> <pre><code>from smtplib import SMTP\nfrom email.header import Header\nfrom email.mime.text import MIMEText\n\n\ndef main():\n    # \u8bf7\u81ea\u884c\u4fee\u6539\u4e0b\u9762\u7684\u90ae\u4ef6\u53d1\u9001\u8005\u548c\u63a5\u6536\u8005\n    sender = 'abcdefg@126.com'\n    receivers = ['uvwxyz@qq.com', 'uvwxyz@126.com']\n    message = MIMEText('\u7528Python\u53d1\u9001\u90ae\u4ef6\u7684\u793a\u4f8b\u4ee3\u7801.', 'plain', 'utf-8')\n    message['From'] = Header('\u738b\u5927\u9524', 'utf-8')\n    message['To'] = Header('\u9a86\u660a', 'utf-8')\n    message['Subject'] = Header('\u793a\u4f8b\u4ee3\u7801\u5b9e\u9a8c\u90ae\u4ef6', 'utf-8')\n    smtper = SMTP('smtp.126.com')\n    # \u8bf7\u81ea\u884c\u4fee\u6539\u4e0b\u9762\u7684\u767b\u5f55\u53e3\u4ee4\n    smtper.login(sender, 'secretpass')\n    smtper.sendmail(sender, receivers, message.as_string())\n    print('\u90ae\u4ef6\u53d1\u9001\u5b8c\u6210!')\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u5982\u679c\u8981\u53d1\u9001\u5e26\u6709\u9644\u4ef6\u7684\u90ae\u4ef6\uff0c\u90a3\u4e48\u53ef\u4ee5\u6309\u7167\u4e0b\u9762\u7684\u65b9\u5f0f\u8fdb\u884c\u64cd\u4f5c\u3002</p> <pre><code>from smtplib import SMTP\nfrom email.header import Header\nfrom email.mime.text import MIMEText\nfrom email.mime.image import MIMEImage\nfrom email.mime.multipart import MIMEMultipart\n\nimport urllib\n\n\ndef main():\n    # \u521b\u5efa\u4e00\u4e2a\u5e26\u9644\u4ef6\u7684\u90ae\u4ef6\u6d88\u606f\u5bf9\u8c61\n    message = MIMEMultipart()\n\n    # \u521b\u5efa\u6587\u672c\u5185\u5bb9\n    text_content = MIMEText('\u9644\u4ef6\u4e2d\u6709\u672c\u6708\u6570\u636e\u8bf7\u67e5\u6536', 'plain', 'utf-8')\n    message['Subject'] = Header('\u672c\u6708\u6570\u636e', 'utf-8')\n    # \u5c06\u6587\u672c\u5185\u5bb9\u6dfb\u52a0\u5230\u90ae\u4ef6\u6d88\u606f\u5bf9\u8c61\u4e2d\n    message.attach(text_content)\n\n    # \u8bfb\u53d6\u6587\u4ef6\u5e76\u5c06\u6587\u4ef6\u4f5c\u4e3a\u9644\u4ef6\u6dfb\u52a0\u5230\u90ae\u4ef6\u6d88\u606f\u5bf9\u8c61\u4e2d\n    with open('/Users/Hao/Desktop/hello.txt', 'rb') as f:\n        txt = MIMEText(f.read(), 'base64', 'utf-8')\n        txt['Content-Type'] = 'text/plain'\n        txt['Content-Disposition'] = 'attachment; filename=hello.txt'\n        message.attach(txt)\n    # \u8bfb\u53d6\u6587\u4ef6\u5e76\u5c06\u6587\u4ef6\u4f5c\u4e3a\u9644\u4ef6\u6dfb\u52a0\u5230\u90ae\u4ef6\u6d88\u606f\u5bf9\u8c61\u4e2d\n    with open('/Users/Hao/Desktop/\u6c47\u603b\u6570\u636e.xlsx', 'rb') as f:\n        xls = MIMEText(f.read(), 'base64', 'utf-8')\n        xls['Content-Type'] = 'application/vnd.ms-excel'\n        xls['Content-Disposition'] = 'attachment; filename=month-data.xlsx'\n        message.attach(xls)\n\n    # \u521b\u5efaSMTP\u5bf9\u8c61\n    smtper = SMTP('smtp.126.com')\n    # \u5f00\u542f\u5b89\u5168\u8fde\u63a5\n    # smtper.starttls()\n    sender = 'abcdefg@126.com'\n    receivers = ['uvwxyz@qq.com']\n    # \u767b\u5f55\u5230SMTP\u670d\u52a1\u5668\n    # \u8bf7\u6ce8\u610f\u6b64\u5904\u4e0d\u662f\u4f7f\u7528\u5bc6\u7801\u800c\u662f\u90ae\u4ef6\u5ba2\u6237\u7aef\u6388\u6743\u7801\u8fdb\u884c\u767b\u5f55\n    # \u5bf9\u6b64\u6709\u7591\u95ee\u7684\u8bfb\u8005\u53ef\u4ee5\u8054\u7cfb\u81ea\u5df1\u4f7f\u7528\u7684\u90ae\u4ef6\u670d\u52a1\u5668\u5ba2\u670d\n    smtper.login(sender, 'secretpass')\n    # \u53d1\u9001\u90ae\u4ef6\n    smtper.sendmail(sender, receivers, message.as_string())\n    # \u4e0e\u90ae\u4ef6\u670d\u52a1\u5668\u65ad\u5f00\u8fde\u63a5\n    smtper.quit()\n    print('\u53d1\u9001\u5b8c\u6210!')\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/14.%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8%E5%92%8C%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/#_8","title":"\u53d1\u9001\u77ed\u4fe1","text":"<p>\u53d1\u9001\u77ed\u4fe1\u4e5f\u662f\u9879\u76ee\u4e2d\u5e38\u89c1\u7684\u529f\u80fd\uff0c\u7f51\u7ad9\u7684\u6ce8\u518c\u7801\u3001\u9a8c\u8bc1\u7801\u3001\u8425\u9500\u4fe1\u606f\u57fa\u672c\u4e0a\u90fd\u662f\u901a\u8fc7\u77ed\u4fe1\u6765\u53d1\u9001\u7ed9\u7528\u6237\u7684\u3002\u5728\u4e0b\u9762\u7684\u4ee3\u7801\u4e2d\u6211\u4eec\u4f7f\u7528\u4e86\u4e92\u4ebf\u65e0\u7ebf\u77ed\u4fe1\u5e73\u53f0\uff08\u8be5\u5e73\u53f0\u4e3a\u6ce8\u518c\u7528\u6237\u63d0\u4f9b\u4e8650\u6761\u514d\u8d39\u77ed\u4fe1\u4ee5\u53ca\u5e38\u7528\u5f00\u53d1\u8bed\u8a00\u53d1\u9001\u77ed\u4fe1\u7684demo\uff0c\u53ef\u4ee5\u767b\u5f55\u8be5\u7f51\u7ad9\u5e76\u5728\u7528\u6237\u81ea\u670d\u52a1\u9875\u9762\u4e2d\u5bf9\u77ed\u4fe1\u8fdb\u884c\u914d\u7f6e\uff09\u63d0\u4f9b\u7684API\u63a5\u53e3\u5b9e\u73b0\u4e86\u53d1\u9001\u77ed\u4fe1\u7684\u670d\u52a1\uff0c\u5f53\u7136\u56fd\u5185\u7684\u77ed\u4fe1\u5e73\u53f0\u5f88\u591a\uff0c\u8bfb\u8005\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u8fdb\u884c\u9009\u62e9\uff08\u901a\u5e38\u4f1a\u8003\u8651\u8d39\u7528\u9884\u7b97\u3001\u77ed\u4fe1\u8fbe\u5230\u7387\u3001\u4f7f\u7528\u7684\u96be\u6613\u7a0b\u5ea6\u7b49\u6307\u6807\uff09\uff0c\u5982\u679c\u9700\u8981\u5728\u5546\u4e1a\u9879\u76ee\u4e2d\u4f7f\u7528\u77ed\u4fe1\u670d\u52a1\u5efa\u8bae\u8d2d\u4e70\u77ed\u4fe1\u5e73\u53f0\u63d0\u4f9b\u7684\u5957\u9910\u670d\u52a1\u3002</p> <pre><code>import urllib.parse\nimport http.client\nimport json\n\n\ndef main():\n    host  = \"106.ihuyi.com\"\n    sms_send_uri = \"/webservice/sms.php?method=Submit\"\n    # \u4e0b\u9762\u7684\u53c2\u6570\u9700\u8981\u586b\u5165\u81ea\u5df1\u6ce8\u518c\u7684\u8d26\u53f7\u548c\u5bf9\u5e94\u7684\u5bc6\u7801\n    params = urllib.parse.urlencode({'account': '\u4f60\u81ea\u5df1\u7684\u8d26\u53f7', 'password' : '\u4f60\u81ea\u5df1\u7684\u5bc6\u7801', 'content': '\u60a8\u7684\u9a8c\u8bc1\u7801\u662f\uff1a147258\u3002\u8bf7\u4e0d\u8981\u628a\u9a8c\u8bc1\u7801\u6cc4\u9732\u7ed9\u5176\u4ed6\u4eba\u3002', 'mobile': '\u63a5\u6536\u8005\u7684\u624b\u673a\u53f7', 'format':'json' })\n    print(params)\n    headers = {'Content-type': 'application/x-www-form-urlencoded', 'Accept': 'text/plain'}\n    conn = http.client.HTTPConnection(host, port=80, timeout=30)\n    conn.request('POST', sms_send_uri, params, headers)\n    response = conn.getresponse()\n    response_str = response.read()\n    jsonstr = response_str.decode('utf-8')\n    print(json.loads(jsonstr))\n    conn.close()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day01-15/15.%E5%9B%BE%E5%83%8F%E5%92%8C%E5%8A%9E%E5%85%AC%E6%96%87%E6%A1%A3%E5%A4%84%E7%90%86/","title":"15.\u56fe\u50cf\u548c\u529e\u516c\u6587\u6863\u5904\u7406","text":""},{"location":"python/Py-100Days/Day01-15/15.%E5%9B%BE%E5%83%8F%E5%92%8C%E5%8A%9E%E5%85%AC%E6%96%87%E6%A1%A3%E5%A4%84%E7%90%86/#_1","title":"\u56fe\u50cf\u548c\u529e\u516c\u6587\u6863\u5904\u7406","text":"<p>\u7528\u7a0b\u5e8f\u6765\u5904\u7406\u56fe\u50cf\u548c\u529e\u516c\u6587\u6863\u7ecf\u5e38\u51fa\u73b0\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0cPython\u7684\u6807\u51c6\u5e93\u4e2d\u867d\u7136\u6ca1\u6709\u76f4\u63a5\u652f\u6301\u8fd9\u4e9b\u64cd\u4f5c\u7684\u6a21\u5757\uff0c\u4f46\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7Python\u751f\u6001\u5708\u4e2d\u7684\u7b2c\u4e09\u65b9\u6a21\u5757\u6765\u5b8c\u6210\u8fd9\u4e9b\u64cd\u4f5c\u3002</p>"},{"location":"python/Py-100Days/Day01-15/15.%E5%9B%BE%E5%83%8F%E5%92%8C%E5%8A%9E%E5%85%AC%E6%96%87%E6%A1%A3%E5%A4%84%E7%90%86/#_2","title":"\u64cd\u4f5c\u56fe\u50cf","text":""},{"location":"python/Py-100Days/Day01-15/15.%E5%9B%BE%E5%83%8F%E5%92%8C%E5%8A%9E%E5%85%AC%E6%96%87%E6%A1%A3%E5%A4%84%E7%90%86/#_3","title":"\u8ba1\u7b97\u673a\u56fe\u50cf\u76f8\u5173\u77e5\u8bc6","text":"<ol> <li>\u989c\u8272\u3002\u5982\u679c\u4f60\u6709\u4f7f\u7528\u989c\u6599\u753b\u753b\u7684\u7ecf\u5386\uff0c\u90a3\u4e48\u4e00\u5b9a\u77e5\u9053\u6df7\u5408\u7ea2\u3001\u9ec4\u3001\u84dd\u4e09\u79cd\u989c\u6599\u53ef\u4ee5\u5f97\u5230\u5176\u4ed6\u7684\u989c\u8272\uff0c\u4e8b\u5b9e\u4e0a\u8fd9\u4e09\u79cd\u989c\u8272\u5c31\u662f\u88ab\u6211\u4eec\u79f0\u4e3a\u7f8e\u672f\u4e09\u539f\u8272\u7684\u4e1c\u897f\uff0c\u5b83\u4eec\u662f\u4e0d\u80fd\u518d\u5206\u89e3\u7684\u57fa\u672c\u989c\u8272\u3002\u5728\u8ba1\u7b97\u673a\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u7ea2\u3001\u7eff\u3001\u84dd\u4e09\u79cd\u8272\u5149\u4ee5\u4e0d\u540c\u7684\u6bd4\u4f8b\u53e0\u52a0\u6765\u7ec4\u5408\u6210\u5176\u4ed6\u7684\u989c\u8272\uff0c\u56e0\u6b64\u8fd9\u4e09\u79cd\u989c\u8272\u5c31\u662f\u8272\u5149\u4e09\u539f\u8272\uff0c\u6240\u4ee5\u6211\u4eec\u901a\u5e38\u4f1a\u5c06\u4e00\u4e2a\u989c\u8272\u8868\u793a\u4e3a\u4e00\u4e2aRGB\u503c\u6216RGBA\u503c\uff08\u5176\u4e2d\u7684A\u8868\u793aAlpha\u901a\u9053\uff0c\u5b83\u51b3\u5b9a\u4e86\u900f\u8fc7\u8fd9\u4e2a\u56fe\u50cf\u7684\u50cf\u7d20\uff0c\u4e5f\u5c31\u662f\u900f\u660e\u5ea6\uff09\u3002</li> </ol> \u540d\u79f0 RGBA\u503c \u540d\u79f0 RGBA\u503c White (255, 255, 255, 255) Red (255, 0, 0, 255) Green (0, 255, 0, 255) Blue (0, 0, 255, 255) Gray (128, 128, 128, 255) Yellow (255, 255, 0, 255) Black (0, 0, 0, 255) Purple (128, 0, 128, 255) <ol> <li>\u50cf\u7d20\u3002\u5bf9\u4e8e\u4e00\u4e2a\u7531\u6570\u5b57\u5e8f\u5217\u8868\u793a\u7684\u56fe\u50cf\u6765\u8bf4\uff0c\u6700\u5c0f\u7684\u5355\u4f4d\u5c31\u662f\u56fe\u50cf\u4e0a\u5355\u4e00\u989c\u8272\u7684\u5c0f\u65b9\u683c\uff0c\u8fd9\u4e9b\u5c0f\u65b9\u5757\u90fd\u6709\u4e00\u4e2a\u660e\u786e\u7684\u4f4d\u7f6e\u548c\u88ab\u5206\u914d\u7684\u8272\u5f69\u6570\u503c\uff0c\u800c\u8fd9\u4e9b\u4e00\u5c0f\u65b9\u683c\u7684\u989c\u8272\u548c\u4f4d\u7f6e\u51b3\u5b9a\u4e86\u8be5\u56fe\u50cf\u6700\u7ec8\u5448\u73b0\u51fa\u6765\u7684\u6837\u5b50\uff0c\u5b83\u4eec\u662f\u4e0d\u53ef\u5206\u5272\u7684\u5355\u4f4d\uff0c\u6211\u4eec\u901a\u5e38\u79f0\u4e4b\u4e3a\u50cf\u7d20\uff08pixel\uff09\u3002\u6bcf\u4e00\u4e2a\u56fe\u50cf\u90fd\u5305\u542b\u4e86\u4e00\u5b9a\u91cf\u7684\u50cf\u7d20\uff0c\u8fd9\u4e9b\u50cf\u7d20\u51b3\u5b9a\u56fe\u50cf\u5728\u5c4f\u5e55\u4e0a\u6240\u5448\u73b0\u7684\u5927\u5c0f\u3002</li> </ol>"},{"location":"python/Py-100Days/Day01-15/15.%E5%9B%BE%E5%83%8F%E5%92%8C%E5%8A%9E%E5%85%AC%E6%96%87%E6%A1%A3%E5%A4%84%E7%90%86/#pillow","title":"\u7528Pillow\u64cd\u4f5c\u56fe\u50cf","text":"<p>Pillow\u662f\u7531\u4ece\u8457\u540d\u7684Python\u56fe\u50cf\u5904\u7406\u5e93PIL\u53d1\u5c55\u51fa\u6765\u7684\u4e00\u4e2a\u5206\u652f\uff0c\u901a\u8fc7Pillow\u53ef\u4ee5\u5b9e\u73b0\u56fe\u50cf\u538b\u7f29\u548c\u56fe\u50cf\u5904\u7406\u7b49\u5404\u79cd\u64cd\u4f5c\u3002\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u5b89\u88c5Pillow\u3002</p> <pre><code>pip install pillow\n</code></pre> <p>Pillow\u4e2d\u6700\u4e3a\u91cd\u8981\u7684\u662fImage\u7c7b\uff0c\u8bfb\u53d6\u548c\u5904\u7406\u56fe\u50cf\u90fd\u8981\u901a\u8fc7\u8fd9\u4e2a\u7c7b\u6765\u5b8c\u6210\u3002</p> <pre><code>&gt;&gt;&gt; from PIL import Image\n&gt;&gt;&gt;\n&gt;&gt;&gt; image = Image.open('./res/guido.jpg')\n&gt;&gt;&gt; image.format, image.size, image.mode\n('JPEG', (500, 750), 'RGB')\n&gt;&gt;&gt; image.show()\n</code></pre> <p></p> <ol> <li>\u526a\u88c1\u56fe\u50cf</li> </ol> <pre><code>&gt;&gt;&gt; image = Image.open('./res/guido.jpg')\n&gt;&gt;&gt; rect = 80, 20, 310, 360\n&gt;&gt;&gt; image.crop(rect).show()\n</code></pre> <p></p> <ol> <li>\u751f\u6210\u7f29\u7565\u56fe</li> </ol> <pre><code>&gt;&gt;&gt; image = Image.open('./res/guido.jpg')\n&gt;&gt;&gt; size = 128, 128\n&gt;&gt;&gt; image.thumbnail(size)\n&gt;&gt;&gt; image.show()\n</code></pre> <p></p> <ol> <li>\u7f29\u653e\u548c\u9ecf\u8d34\u56fe\u50cf</li> </ol> <pre><code>&gt;&gt;&gt; image1 = Image.open('./res/luohao.png')\n&gt;&gt;&gt; image2 = Image.open('./res/guido.jpg')\n&gt;&gt;&gt; rect = 80, 20, 310, 360\n&gt;&gt;&gt; guido_head = image2.crop(rect)\n&gt;&gt;&gt; width, height = guido_head.size\n&gt;&gt;&gt; image1.paste(guido_head.resize((int(width / 1.5), int(height / 1.5))), (172, 40))\n</code></pre> <p></p> <ol> <li>\u65cb\u8f6c\u548c\u7ffb\u8f6c</li> </ol> <pre><code>&gt;&gt;&gt; image = Image.open('./res/guido.png')\n&gt;&gt;&gt; image.rotate(180).show()\n&gt;&gt;&gt; image.transpose(Image.FLIP_LEFT_RIGHT).show()\n</code></pre> <p></p> <p></p> <ol> <li>\u64cd\u4f5c\u50cf\u7d20</li> </ol> <pre><code>&gt;&gt;&gt; image = Image.open('./res/guido.jpg')\n&gt;&gt;&gt; for x in range(80, 310):\n...     for y in range(20, 360):\n...         image.putpixel((x, y), (128, 128, 128))\n... \n&gt;&gt;&gt; image.show()\n</code></pre> <p></p> <ol> <li>\u6ee4\u955c\u6548\u679c</li> </ol> <pre><code>&gt;&gt;&gt; from PIL import Image, ImageFilter\n&gt;&gt;&gt;\n&gt;&gt;&gt; image = Image.open('./res/guido.jpg')\n&gt;&gt;&gt; image.filter(ImageFilter.CONTOUR).show()\n</code></pre> <p></p>"},{"location":"python/Py-100Days/Day01-15/15.%E5%9B%BE%E5%83%8F%E5%92%8C%E5%8A%9E%E5%85%AC%E6%96%87%E6%A1%A3%E5%A4%84%E7%90%86/#excel","title":"\u5904\u7406Excel\u7535\u5b50\u8868\u683c","text":"<p>Python\u7684openpyxl\u6a21\u5757\u8ba9\u6211\u4eec\u53ef\u4ee5\u5728Python\u7a0b\u5e8f\u4e2d\u8bfb\u53d6\u548c\u4fee\u6539Excel\u7535\u5b50\u8868\u683c\uff0c\u5f53\u7136\u5b9e\u9645\u5de5\u4f5c\u4e2d\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u7528LibreOffice Calc\u548cOpenOffice Calc\u6765\u5904\u7406Excel\u7684\u7535\u5b50\u8868\u683c\u6587\u4ef6\uff0c\u8fd9\u5c31\u610f\u5473\u7740openpyxl\u6a21\u5757\u4e5f\u80fd\u5904\u7406\u6765\u81ea\u8fd9\u4e9b\u8f6f\u4ef6\u751f\u6210\u7684\u7535\u5b50\u8868\u683c\u3002\u5173\u4e8eopenpyxl\u7684\u4f7f\u7528\u624b\u518c\u548c\u4f7f\u7528\u6587\u6863\u53ef\u4ee5\u67e5\u770b\u5b83\u7684\u5b98\u65b9\u6587\u6863\u3002</p>"},{"location":"python/Py-100Days/Day01-15/15.%E5%9B%BE%E5%83%8F%E5%92%8C%E5%8A%9E%E5%85%AC%E6%96%87%E6%A1%A3%E5%A4%84%E7%90%86/#word","title":"\u5904\u7406Word\u6587\u6863","text":"<p>\u5229\u7528python-docx\u6a21\u5757\uff0cPytho \u53ef\u4ee5\u521b\u5efa\u548c\u4fee\u6539Word\u6587\u6863\uff0c\u5f53\u7136\u8fd9\u91cc\u7684Word\u6587\u6863\u4e0d\u4ec5\u4ec5\u662f\u6307\u901a\u8fc7\u5fae\u8f6f\u7684Office\u8f6f\u4ef6\u521b\u5efa\u7684\u6269\u5c55\u540d\u4e3adocx\u7684\u6587\u6863\uff0cLibreOffice Writer\u548cOpenOffice Writer\u90fd\u662f\u514d\u8d39\u7684\u5b57\u5904\u7406\u8f6f\u4ef6\u3002</p>"},{"location":"python/Py-100Days/Day01-15/15.%E5%9B%BE%E5%83%8F%E5%92%8C%E5%8A%9E%E5%85%AC%E6%96%87%E6%A1%A3%E5%A4%84%E7%90%86/#pdf","title":"\u5904\u7406PDF\u6587\u6863","text":"<p>PDF\u662fPortable Document Format\u7684\u7f29\u5199\uff0c\u4f7f\u7528.pdf\u4f5c\u4e3a\u6587\u4ef6\u6269\u5c55\u540d\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u7814\u7a76\u4e00\u4e0b\u5982\u4f55\u901a\u8fc7Python\u5b9e\u73b0\u4ecePDF\u8bfb\u53d6\u6587\u672c\u5185\u5bb9\u548c\u4ece\u5df2\u6709\u7684\u6587\u6863\u751f\u6210\u65b0\u7684PDF\u6587\u4ef6\u3002</p>"},{"location":"python/Py-100Days/Day16-20/16.Python%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/","title":"16.Python\u8bed\u8a00\u8fdb\u9636","text":""},{"location":"python/Py-100Days/Day16-20/16.Python%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6/#python","title":"Python\u8bed\u8a00\u8fdb\u9636","text":"<ol> <li> <p>\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5</p> </li> <li> <p>\u7b97\u6cd5\uff1a\u89e3\u51b3\u95ee\u9898\u7684\u65b9\u6cd5\u548c\u6b65\u9aa4</p> </li> <li> <p>\u8bc4\u4ef7\u7b97\u6cd5\u7684\u597d\u574f\uff1a\u6e10\u8fd1\u65f6\u95f4\u590d\u6742\u5ea6\u548c\u6e10\u8fd1\u7a7a\u95f4\u590d\u6742\u5ea6\u3002</p> </li> <li> <p>\u6e10\u8fd1\u65f6\u95f4\u590d\u6742\u5ea6\u7684\u5927O\u6807\u8bb0\uff1a</p> <ul> <li> - \u5e38\u91cf\u65f6\u95f4\u590d\u6742\u5ea6 - \u5e03\u9686\u8fc7\u6ee4\u5668 / \u54c8\u5e0c\u5b58\u50a8</li> <li> - \u5bf9\u6570\u65f6\u95f4\u590d\u6742\u5ea6 - \u6298\u534a\u67e5\u627e\uff08\u4e8c\u5206\u67e5\u627e\uff09</li> <li> - \u7ebf\u6027\u65f6\u95f4\u590d\u6742\u5ea6 - \u987a\u5e8f\u67e5\u627e / \u6876\u6392\u5e8f</li> <li> - \u5bf9\u6570\u7ebf\u6027\u65f6\u95f4\u590d\u6742\u5ea6 - \u9ad8\u7ea7\u6392\u5e8f\u7b97\u6cd5\uff08\u5f52\u5e76\u6392\u5e8f\u3001\u5feb\u901f\u6392\u5e8f\uff09</li> <li> - \u5e73\u65b9\u65f6\u95f4\u590d\u6742\u5ea6 - \u7b80\u5355\u6392\u5e8f\u7b97\u6cd5\uff08\u9009\u62e9\u6392\u5e8f\u3001\u63d2\u5165\u6392\u5e8f\u3001\u5192\u6ce1\u6392\u5e8f\uff09</li> <li> - \u7acb\u65b9\u65f6\u95f4\u590d\u6742\u5ea6 - Floyd\u7b97\u6cd5 / \u77e9\u9635\u4e58\u6cd5\u8fd0\u7b97</li> <li> - \u51e0\u4f55\u7ea7\u6570\u65f6\u95f4\u590d\u6742\u5ea6 - \u6c49\u8bfa\u5854</li> <li> - \u9636\u4e58\u65f6\u95f4\u590d\u6742\u5ea6 - \u65c5\u884c\u7ecf\u9500\u5546\u95ee\u9898 - NP</li> </ul> <p></p> <p></p> </li> <li> <p>\u6392\u5e8f\u7b97\u6cd5\uff08\u9009\u62e9\u3001\u5192\u6ce1\u548c\u5f52\u5e76\uff09\u548c\u67e5\u627e\u7b97\u6cd5\uff08\u987a\u5e8f\u548c\u6298\u534a\uff09</p> <pre><code>def select_sort(origin_items, comp=lambda x, y: x &lt; y):\n    \"\"\"\u7b80\u5355\u9009\u62e9\u6392\u5e8f\"\"\"\n    items = origin_items[:]\n    for i in range(len(items) - 1):\n        min_index = i\n        for j in range(i + 1, len(items)):\n            if comp(items[j], items[min_index]):\n                min_index = j\n        items[i], items[min_index] = items[min_index], items[i]\n    return items\n</code></pre> <pre><code>def bubble_sort(origin_items, comp=lambda x, y: x &gt; y):\n    \"\"\"\u9ad8\u8d28\u91cf\u5192\u6ce1\u6392\u5e8f(\u6405\u62cc\u6392\u5e8f)\"\"\"\n    items = origin_items[:]\n    for i in range(len(items) - 1):\n        swapped = False\n        for j in range(i, len(items) - 1 - i):\n            if comp(items[j], items[j + 1]):\n                items[j], items[j + 1] = items[j + 1], items[j]\n                swapped = True\n        if swapped:\n            swapped = False\n            for j in range(len(items) - 2 - i, i, -1):\n                if comp(items[j - 1], items[j]):\n                    items[j], items[j - 1] = items[j - 1], items[j]\n                    swapped = True\n        if not swapped:\n            break\n    return items\n</code></pre> <pre><code>def merge_sort(items, comp=lambda x, y: x &lt;= y):\n    \"\"\"\u5f52\u5e76\u6392\u5e8f(\u5206\u6cbb\u6cd5)\"\"\"\n    if len(items) &lt; 2:\n        return items[:]\n    mid = len(items) // 2\n    left = merge_sort(items[:mid], comp)\n    right = merge_sort(items[mid:], comp)\n    return merge(left, right, comp)\n\n\ndef merge(items1, items2, comp):\n    \"\"\"\u5408\u5e76(\u5c06\u4e24\u4e2a\u6709\u5e8f\u7684\u5217\u8868\u5408\u5e76\u6210\u4e00\u4e2a\u6709\u5e8f\u7684\u5217\u8868)\"\"\"\n    items = []\n    index, index2 = 0, 0\n    while index1 &lt; len(items1) and index2 &lt; len(items2):\n        if comp(items1[index1], items2[index2]):\n            items.append(items1[index1])\n            index1 += 1\n        else:\n            items.append(items2[index2])\n            index2 += 1\n    items += items1[index1:]\n    items += items2[index2:]\n    return items\n</code></pre> <pre><code>def seq_search(items, key):\n    \"\"\"\u987a\u5e8f\u67e5\u627e\"\"\"\n    for index, item in enumerate(items):\n        if item == key:\n            return index\n    return -1\n</code></pre> <pre><code>def bin_search(items, key):\n    \"\"\"\u6298\u534a\u67e5\u627e\"\"\"\n    start, end = 0, len(items) - 1\n    while start &lt;= end:\n        mid = (start + end) // 2\n        if key &gt; items[mid]:\n            start = mid + 1\n        elif key &lt; items[mid]:\n            end = mid - 1\n        else:\n            return mid\n    return -1\n</code></pre> </li> <li> <p>\u4f7f\u7528\u751f\u6210\u5f0f\uff08\u63a8\u5bfc\u5f0f\uff09\u8bed\u6cd5</p> <pre><code>prices = {\n    'AAPL': 191.88,\n    'GOOG': 1186.96,\n    'IBM': 149.24,\n    'ORCL': 48.44,\n    'ACN': 166.89,\n    'FB': 208.09,\n    'SYMC': 21.29\n}\n# \u7528\u80a1\u7968\u4ef7\u683c\u5927\u4e8e100\u5143\u7684\u80a1\u7968\u6784\u9020\u4e00\u4e2a\u65b0\u7684\u5b57\u5178\nprices2 = {key: value for key, value in prices.items() if value &gt; 100}\nprint(prices2)\n</code></pre> <p>\u8bf4\u660e\uff1a\u751f\u6210\u5f0f\uff08\u63a8\u5bfc\u5f0f\uff09\u53ef\u4ee5\u7528\u6765\u751f\u6210\u5217\u8868\u3001\u96c6\u5408\u548c\u5b57\u5178\u3002</p> </li> <li> <p>\u5d4c\u5957\u7684\u5217\u8868</p> <pre><code>names = ['\u5173\u7fbd', '\u5f20\u98de', '\u8d75\u4e91', '\u9a6c\u8d85', '\u9ec4\u5fe0']\ncourses = ['\u8bed\u6587', '\u6570\u5b66', '\u82f1\u8bed']\n# \u5f55\u5165\u4e94\u4e2a\u5b66\u751f\u4e09\u95e8\u8bfe\u7a0b\u7684\u6210\u7ee9\n# \u9519\u8bef - \u53c2\u8003http://pythontutor.com/visualize.html#mode=edit\n# scores = [[None] * len(courses)] * len(names)\nscores = [[None] * len(courses) for _ in range(len(names))]\nfor row, name in enumerate(names):\n    for col, course in enumerate(courses):\n        scores[row][col] = float(input(f'\u8bf7\u8f93\u5165{name}\u7684{course}\u6210\u7ee9: '))\n        print(scores)\n</code></pre> <p>Python Tutor - VISUALIZE CODE AND GET LIVE HELP</p> </li> <li> <p>heapq\u3001itertools\u7b49\u7684\u7528\u6cd5      <pre><code>\"\"\"\n\u4ece\u5217\u8868\u4e2d\u627e\u51fa\u6700\u5927\u7684\u6216\u6700\u5c0f\u7684N\u4e2a\u5143\u7d20\n\u5806\u7ed3\u6784(\u5927\u6839\u5806/\u5c0f\u6839\u5806)\n\"\"\"\nimport heapq\n\nlist1 = [34, 25, 12, 99, 87, 63, 58, 78, 88, 92]\nlist2 = [\n    {'name': 'IBM', 'shares': 100, 'price': 91.1},\n    {'name': 'AAPL', 'shares': 50, 'price': 543.22},\n    {'name': 'FB', 'shares': 200, 'price': 21.09},\n    {'name': 'HPQ', 'shares': 35, 'price': 31.75},\n    {'name': 'YHOO', 'shares': 45, 'price': 16.35},\n    {'name': 'ACME', 'shares': 75, 'price': 115.65}\n]\nprint(heapq.nlargest(3, list1))\nprint(heapq.nsmallest(3, list1))\nprint(heapq.nlargest(2, list2, key=lambda x: x['price']))\nprint(heapq.nlargest(2, list2, key=lambda x: x['shares']))\n</code></pre></p> <pre><code>\"\"\"\n\u8fed\u4ee3\u5de5\u5177 - \u6392\u5217 / \u7ec4\u5408 / \u7b1b\u5361\u5c14\u79ef\n\"\"\"\nimport itertools\n\nitertools.permutations('ABCD')\nitertools.combinations('ABCDE', 3)\nitertools.product('ABCD', '123')\n</code></pre> </li> <li> <p>collections\u6a21\u5757\u4e0b\u7684\u5de5\u5177\u7c7b</p> <pre><code>\"\"\"\n\u627e\u51fa\u5e8f\u5217\u4e2d\u51fa\u73b0\u6b21\u6570\u6700\u591a\u7684\u5143\u7d20\n\"\"\"\nfrom collections import Counter\n\nwords = [\n    'look', 'into', 'my', 'eyes', 'look', 'into', 'my', 'eyes',\n    'the', 'eyes', 'the', 'eyes', 'the', 'eyes', 'not', 'around',\n    'the', 'eyes', \"don't\", 'look', 'around', 'the', 'eyes',\n    'look', 'into', 'my', 'eyes', \"you're\", 'under'\n]\ncounter = Counter(words)\nprint(counter.most_common(3))\n</code></pre> </li> <li> <p>\u5e38\u7528\u7b97\u6cd5\uff1a</p> <ul> <li>\u7a77\u4e3e\u6cd5 - \u53c8\u79f0\u4e3a\u66b4\u529b\u7834\u89e3\u6cd5\uff0c\u5bf9\u6240\u6709\u7684\u53ef\u80fd\u6027\u8fdb\u884c\u9a8c\u8bc1\uff0c\u76f4\u5230\u627e\u5230\u6b63\u786e\u7b54\u6848\u3002</li> <li>\u8d2a\u5a6a\u6cd5 - \u5728\u5bf9\u95ee\u9898\u6c42\u89e3\u65f6\uff0c\u603b\u662f\u505a\u51fa\u5728\u5f53\u524d\u770b\u6765</li> <li>\u6700\u597d\u7684\u9009\u62e9\uff0c\u4e0d\u8ffd\u6c42\u6700\u4f18\u89e3\uff0c\u5feb\u901f\u627e\u5230\u6ee1\u610f\u89e3\u3002</li> <li>\u5206\u6cbb\u6cd5 - \u628a\u4e00\u4e2a\u590d\u6742\u7684\u95ee\u9898\u5206\u6210\u4e24\u4e2a\u6216\u66f4\u591a\u7684\u76f8\u540c\u6216\u76f8\u4f3c\u7684\u5b50\u95ee\u9898\uff0c\u518d\u628a\u5b50\u95ee\u9898\u5206\u6210\u66f4\u5c0f\u7684\u5b50\u95ee\u9898\uff0c\u76f4\u5230\u53ef\u4ee5\u76f4\u63a5\u6c42\u89e3\u7684\u7a0b\u5ea6\uff0c\u6700\u540e\u5c06\u5b50\u95ee\u9898\u7684\u89e3\u8fdb\u884c\u5408\u5e76\u5f97\u5230\u539f\u95ee\u9898\u7684\u89e3\u3002</li> <li>\u56de\u6eaf\u6cd5 - \u56de\u6eaf\u6cd5\u53c8\u79f0\u4e3a\u8bd5\u63a2\u6cd5\uff0c\u6309\u9009\u4f18\u6761\u4ef6\u5411\u524d\u641c\u7d22\uff0c\u5f53\u641c\u7d22\u5230\u67d0\u4e00\u6b65\u53d1\u73b0\u539f\u5148\u9009\u62e9\u5e76\u4e0d\u4f18\u6216\u8fbe\u4e0d\u5230\u76ee\u6807\u65f6\uff0c\u5c31\u9000\u56de\u4e00\u6b65\u91cd\u65b0\u9009\u62e9\u3002</li> <li>\u52a8\u6001\u89c4\u5212 - \u57fa\u672c\u601d\u60f3\u4e5f\u662f\u5c06\u5f85\u6c42\u89e3\u95ee\u9898\u5206\u89e3\u6210\u82e5\u5e72\u4e2a\u5b50\u95ee\u9898\uff0c\u5148\u6c42\u89e3\u5e76\u4fdd\u5b58\u8fd9\u4e9b\u5b50\u95ee\u9898\u7684\u89e3\uff0c\u907f\u514d\u4ea7\u751f\u5927\u91cf\u7684\u91cd\u590d\u8fd0\u7b97\u3002</li> </ul> <p>\u7a77\u4e3e\u6cd5\u4f8b\u5b50\uff1a\u767e\u94b1\u767e\u9e21\u548c\u4e94\u4eba\u5206\u9c7c\u3002</p> <pre><code># \u516c\u9e215\u5143\u4e00\u53ea \u6bcd\u9e213\u5143\u4e00\u53ea \u5c0f\u9e211\u5143\u4e09\u53ea\n# \u7528100\u5143\u4e70100\u53ea\u9e21 \u95ee\u516c\u9e21/\u6bcd\u9e21/\u5c0f\u9e21\u5404\u591a\u5c11\u53ea\nfor x in range(20):\n    for y in range(33):\n        z = 100 - x - y\n        if 5 * x + 3 * y + z // 3 == 100 and z % 3 == 0:\n            print(x, y, z)\n\n# A\u3001B\u3001C\u3001D\u3001E\u4e94\u4eba\u5728\u67d0\u5929\u591c\u91cc\u5408\u4f19\u6355\u9c7c \u6700\u540e\u75b2\u60eb\u4e0d\u582a\u5404\u81ea\u7761\u89c9\n# \u7b2c\u4e8c\u5929A\u7b2c\u4e00\u4e2a\u9192\u6765 \u4ed6\u5c06\u9c7c\u5206\u4e3a5\u4efd \u6254\u6389\u591a\u4f59\u76841\u6761 \u62ff\u8d70\u81ea\u5df1\u7684\u4e00\u4efd\n# B\u7b2c\u4e8c\u4e2a\u9192\u6765 \u4e5f\u5c06\u9c7c\u5206\u4e3a5\u4efd \u6254\u6389\u591a\u4f59\u76841\u6761 \u62ff\u8d70\u81ea\u5df1\u7684\u4e00\u4efd\n# \u7136\u540eC\u3001D\u3001E\u4f9d\u6b21\u9192\u6765\u4e5f\u6309\u540c\u6837\u7684\u65b9\u5f0f\u5206\u9c7c \u95ee\u4ed6\u4eec\u81f3\u5c11\u6355\u4e86\u591a\u5c11\u6761\u9c7c\nfish = 6\nwhile True:\n    total = fish\n    enough = True\n    for _ in range(5):\n        if (total - 1) % 5 == 0:\n            total = (total - 1) // 5 * 4\n        else:\n            enough = False\n            break\n    if enough:\n        print(fish)\n        break\n    fish += 5\n</code></pre> <p>\u8d2a\u5a6a\u6cd5\u4f8b\u5b50\uff1a\u5047\u8bbe\u5c0f\u5077\u6709\u4e00\u4e2a\u80cc\u5305\uff0c\u6700\u591a\u80fd\u88c520\u516c\u65a4\u8d43\u7269\uff0c\u4ed6\u95ef\u5165\u4e00\u6237\u4eba\u5bb6\uff0c\u53d1\u73b0\u5982\u4e0b\u8868\u6240\u793a\u7684\u7269\u54c1\u3002\u5f88\u663e\u7136\uff0c\u4ed6\u4e0d\u80fd\u628a\u6240\u6709\u7269\u54c1\u90fd\u88c5\u8fdb\u80cc\u5305\uff0c\u6240\u4ee5\u5fc5\u987b\u786e\u5b9a\u62ff\u8d70\u54ea\u4e9b\u7269\u54c1\uff0c\u7559\u4e0b\u54ea\u4e9b\u7269\u54c1\u3002</p> \u540d\u79f0 \u4ef7\u683c\uff08\u7f8e\u5143\uff09 \u91cd\u91cf\uff08kg\uff09 \u7535\u8111 200 20 \u6536\u97f3\u673a 20 4 \u949f 175 10 \u82b1\u74f6 50 2 \u4e66 10 1 \u6cb9\u753b 90 9 <pre><code>\"\"\"\n\u8d2a\u5a6a\u6cd5\uff1a\u5728\u5bf9\u95ee\u9898\u6c42\u89e3\u65f6\uff0c\u603b\u662f\u505a\u51fa\u5728\u5f53\u524d\u770b\u6765\u662f\u6700\u597d\u7684\u9009\u62e9\uff0c\u4e0d\u8ffd\u6c42\u6700\u4f18\u89e3\uff0c\u5feb\u901f\u627e\u5230\u6ee1\u610f\u89e3\u3002\n\u8f93\u5165\uff1a\n20 6\n\u7535\u8111 200 20\n\u6536\u97f3\u673a 20 4\n\u949f 175 10\n\u82b1\u74f6 50 2\n\u4e66 10 1\n\u6cb9\u753b 90 9\n\"\"\"\nclass Thing(object):\n    \"\"\"\u7269\u54c1\"\"\"\n\n    def __init__(self, name, price, weight):\n        self.name = name\n        self.price = price\n        self.weight = weight\n\n    @property\n    def value(self):\n        \"\"\"\u4ef7\u683c\u91cd\u91cf\u6bd4\"\"\"\n        return self.price / self.weight\n\n\ndef input_thing():\n    \"\"\"\u8f93\u5165\u7269\u54c1\u4fe1\u606f\"\"\"\n    name_str, price_str, weight_str = input().split()\n    return name_str, int(price_str), int(weight_str)\n\n\ndef main():\n    \"\"\"\u4e3b\u51fd\u6570\"\"\"\n    max_weight, num_of_things = map(int, input().split())\n    all_things = []\n    for _ in range(num_of_things):\n        all_things.append(Thing(*input_thing()))\n    all_things.sort(key=lambda x: x.value, reverse=True)\n    total_weight = 0\n    total_price = 0\n    for thing in all_things:\n        if total_weight + thing.weight &lt;= max_weight:\n            print(f'\u5c0f\u5077\u62ff\u8d70\u4e86{thing.name}')\n            total_weight += thing.weight\n            total_price += thing.price\n    print(f'\u603b\u4ef7\u503c: {total_price}\u7f8e\u5143')\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u5206\u6cbb\u6cd5\u4f8b\u5b50\uff1a\u5feb\u901f\u6392\u5e8f\u3002</p> <pre><code>\"\"\"\n\u5feb\u901f\u6392\u5e8f - \u9009\u62e9\u67a2\u8f74\u5bf9\u5143\u7d20\u8fdb\u884c\u5212\u5206\uff0c\u5de6\u8fb9\u90fd\u6bd4\u67a2\u8f74\u5c0f\u53f3\u8fb9\u90fd\u6bd4\u67a2\u8f74\u5927\n\"\"\"\ndef quick_sort(origin_items, comp=lambda x, y: x &lt;= y):\n    items = origin_items[:]\n    _quick_sort(items, 0, len(items) - 1, comp)\n    return items\n\n\ndef _quick_sort(items, start, end, comp):\n    if start &lt; end:\n        pos = _partition(items, start, end, comp)\n        _quick_sort(items, start, pos - 1, comp)\n        _quick_sort(items, pos + 1, end, comp)\n\n\ndef _partition(items, start, end, comp):\n    pivot = items[end]\n    i = start - 1\n    for j in range(start, end):\n        if comp(items[j], pivot):\n            i += 1\n            items[i], items[j] = items[j], items[i]\n    items[i + 1], items[end] = items[end], items[i + 1]\n    return i + 1\n</code></pre> <p>\u56de\u6eaf\u6cd5\u4f8b\u5b50\uff1a\u9a91\u58eb\u5de1\u903b\u3002</p> <pre><code>\"\"\"\n\u9012\u5f52\u56de\u6eaf\u6cd5\uff1a\u53eb\u79f0\u4e3a\u8bd5\u63a2\u6cd5\uff0c\u6309\u9009\u4f18\u6761\u4ef6\u5411\u524d\u641c\u7d22\uff0c\u5f53\u641c\u7d22\u5230\u67d0\u4e00\u6b65\uff0c\u53d1\u73b0\u539f\u5148\u9009\u62e9\u5e76\u4e0d\u4f18\u6216\u8fbe\u4e0d\u5230\u76ee\u6807\u65f6\uff0c\u5c31\u9000\u56de\u4e00\u6b65\u91cd\u65b0\u9009\u62e9\uff0c\u6bd4\u8f83\u7ecf\u5178\u7684\u95ee\u9898\u5305\u62ec\u9a91\u58eb\u5de1\u903b\u3001\u516b\u7687\u540e\u548c\u8ff7\u5bab\u5bfb\u8def\u7b49\u3002\n\"\"\"\nimport sys\nimport time\n\nSIZE = 5\ntotal = 0\n\n\ndef print_board(board):\n    for row in board:\n        for col in row:\n            print(str(col).center(4), end='')\n        print()\n\n\ndef patrol(board, row, col, step=1):\n    if row &gt;= 0 and row &lt; SIZE and \\\n        col &gt;= 0 and col &lt; SIZE and \\\n        board[row][col] == 0:\n        board[row][col] = step\n        if step == SIZE * SIZE:\n            global total\n            total += 1\n            print(f'\u7b2c{total}\u79cd\u8d70\u6cd5: ')\n            print_board(board)\n        patrol(board, row - 2, col - 1, step + 1)\n        patrol(board, row - 1, col - 2, step + 1)\n        patrol(board, row + 1, col - 2, step + 1)\n        patrol(board, row + 2, col - 1, step + 1)\n        patrol(board, row + 2, col + 1, step + 1)\n        patrol(board, row + 1, col + 2, step + 1)\n        patrol(board, row - 1, col + 2, step + 1)\n        patrol(board, row - 2, col + 1, step + 1)\n        board[row][col] = 0\n\n\ndef main():\n    board = [[0] * SIZE for _ in range(SIZE)]\n    patrol(board, SIZE - 1, SIZE - 1)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u52a8\u6001\u89c4\u5212\u4f8b\u5b501\uff1a\u6590\u6ce2\u62c9\u5207\u6570\u5217\u3002\uff08\u4e0d\u4f7f\u7528\u52a8\u6001\u89c4\u5212\u5c06\u4f1a\u662f\u51e0\u4f55\u7ea7\u6570\u590d\u6742\u5ea6\uff09</p> <pre><code>\"\"\"\n\u52a8\u6001\u89c4\u5212 - \u9002\u7528\u4e8e\u6709\u91cd\u53e0\u5b50\u95ee\u9898\u548c\u6700\u4f18\u5b50\u7ed3\u6784\u6027\u8d28\u7684\u95ee\u9898\n\u4f7f\u7528\u52a8\u6001\u89c4\u5212\u65b9\u6cd5\u6240\u8017\u65f6\u95f4\u5f80\u5f80\u8fdc\u5c11\u4e8e\u6734\u7d20\u89e3\u6cd5(\u7528\u7a7a\u95f4\u6362\u53d6\u65f6\u95f4)\n\"\"\"\ndef fib(num, temp={}):\n    \"\"\"\u7528\u9012\u5f52\u8ba1\u7b97Fibonacci\u6570\"\"\"\n    if num in (1, 2):\n        return 1\n    try:\n        return temp[num]\n    except KeyError:\n        temp[num] = fib(num - 1) + fib(num - 2)\n        return temp[num]\n</code></pre> <p>\u52a8\u6001\u89c4\u5212\u4f8b\u5b502\uff1a\u5b50\u5217\u8868\u5143\u7d20\u4e4b\u548c\u7684\u6700\u5927\u503c\u3002\uff08\u4f7f\u7528\u52a8\u6001\u89c4\u5212\u53ef\u4ee5\u907f\u514d\u4e8c\u91cd\u5faa\u73af\uff09</p> <p>\u8bf4\u660e\uff1a\u5b50\u5217\u8868\u6307\u7684\u662f\u5217\u8868\u4e2d\u7d22\u5f15\uff08\u4e0b\u6807\uff09\u8fde\u7eed\u7684\u5143\u7d20\u6784\u6210\u7684\u5217\u8868\uff1b\u5217\u8868\u4e2d\u7684\u5143\u7d20\u662fint\u7c7b\u578b\uff0c\u53ef\u80fd\u5305\u542b\u6b63\u6574\u6570\u30010\u3001\u8d1f\u6574\u6570\uff1b\u7a0b\u5e8f\u8f93\u5165\u5217\u8868\u4e2d\u7684\u5143\u7d20\uff0c\u8f93\u51fa\u5b50\u5217\u8868\u5143\u7d20\u6c42\u548c\u7684\u6700\u5927\u503c\uff0c\u4f8b\u5982\uff1a</p> <p>\u8f93\u5165\uff1a1 -2 3 5 -3 2</p> <p>\u8f93\u51fa\uff1a8</p> <p>\u8f93\u5165\uff1a0 -2 3 5 -1 2</p> <p>\u8f93\u51fa\uff1a9</p> <p>\u8f93\u5165\uff1a-9 -2 -3 -5 -3</p> <p>\u8f93\u51fa\uff1a-2</p> <pre><code>def main():\n    items = list(map(int, input().split()))\n    size = len(items)\n    overall, partial = {}, {}\n    overall[size - 1] = partial[size - 1] = items[size - 1]\n    for i in range(size - 2, -1, -1):\n        partial[i] = max(items[i], partial[i + 1] + items[i])\n        overall[i] = max(partial[i], overall[i + 1])\n    print(overall[0])\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> </li> <li> <p>\u51fd\u6570\u7684\u4f7f\u7528\u65b9\u5f0f</p> </li> <li> <p>\u5c06\u51fd\u6570\u89c6\u4e3a\u201c\u4e00\u7b49\u516c\u6c11\u201d</p> <ul> <li>\u51fd\u6570\u53ef\u4ee5\u8d4b\u503c\u7ed9\u53d8\u91cf</li> <li>\u51fd\u6570\u53ef\u4ee5\u4f5c\u4e3a\u51fd\u6570\u7684\u53c2\u6570</li> <li>\u51fd\u6570\u53ef\u4ee5\u4f5c\u4e3a\u51fd\u6570\u7684\u8fd4\u56de\u503c</li> </ul> </li> <li> <p>\u9ad8\u9636\u51fd\u6570\u7684\u7528\u6cd5\uff08<code>filter</code>\u3001<code>map</code>\u4ee5\u53ca\u5b83\u4eec\u7684\u66ff\u4ee3\u54c1\uff09</p> <pre><code>items1 = list(map(lambda x: x ** 2, filter(lambda x: x % 2, range(1, 10))))\nitems2 = [x ** 2 for x in range(1, 10) if x % 2]\n</code></pre> </li> <li> <p>\u4f4d\u7f6e\u53c2\u6570\u3001\u53ef\u53d8\u53c2\u6570\u3001\u5173\u952e\u5b57\u53c2\u6570\u3001\u547d\u540d\u5173\u952e\u5b57\u53c2\u6570</p> </li> <li> <p>\u53c2\u6570\u7684\u5143\u4fe1\u606f\uff08\u4ee3\u7801\u53ef\u8bfb\u6027\u95ee\u9898\uff09</p> </li> <li> <p>\u533f\u540d\u51fd\u6570\u548c\u5185\u8054\u51fd\u6570\u7684\u7528\u6cd5\uff08<code>lambda</code>\u51fd\u6570\uff09</p> </li> <li> <p>\u95ed\u5305\u548c\u4f5c\u7528\u57df\u95ee\u9898</p> <ul> <li> <p>Python\u641c\u7d22\u53d8\u91cf\u7684LEGB\u987a\u5e8f\uff08Local --&gt; Embedded --&gt; Global --&gt; Built-in\uff09</p> </li> <li> <p><code>global</code>\u548c<code>nonlocal</code>\u5173\u952e\u5b57\u7684\u4f5c\u7528</p> </li> </ul> <p><code>global</code>\uff1a\u58f0\u660e\u6216\u5b9a\u4e49\u5168\u5c40\u53d8\u91cf\uff08\u8981\u4e48\u76f4\u63a5\u4f7f\u7528\u73b0\u6709\u7684\u5168\u5c40\u4f5c\u7528\u57df\u7684\u53d8\u91cf\uff0c\u8981\u4e48\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf\u653e\u5230\u5168\u5c40\u4f5c\u7528\u57df\uff09\u3002</p> <p><code>nonlocal</code>\uff1a\u58f0\u660e\u4f7f\u7528\u5d4c\u5957\u4f5c\u7528\u57df\u7684\u53d8\u91cf\uff08\u5d4c\u5957\u4f5c\u7528\u57df\u5fc5\u987b\u5b58\u5728\u8be5\u53d8\u91cf\uff0c\u5426\u5219\u62a5\u9519\uff09\u3002</p> </li> <li> <p>\u88c5\u9970\u5668\u51fd\u6570\uff08\u4f7f\u7528\u88c5\u9970\u5668\u548c\u53d6\u6d88\u88c5\u9970\u5668\uff09</p> <p>\u4f8b\u5b50\uff1a\u8f93\u51fa\u51fd\u6570\u6267\u884c\u65f6\u95f4\u7684\u88c5\u9970\u5668\u3002</p> <pre><code>def record_time(func):\n    \"\"\"\u81ea\u5b9a\u4e49\u88c5\u9970\u51fd\u6570\u7684\u88c5\u9970\u5668\"\"\"\n\n    @wraps(func)\n    def wrapper(*args, **kwargs):\n        start = time()\n        result = func(*args, **kwargs)\n        print(f'{func.__name__}: {time() - start}\u79d2')\n        return result\n\n    return wrapper\n</code></pre> <p>\u5982\u679c\u88c5\u9970\u5668\u4e0d\u5e0c\u671b\u8ddf<code>print</code>\u51fd\u6570\u8026\u5408\uff0c\u53ef\u4ee5\u7f16\u5199\u5e26\u53c2\u6570\u7684\u88c5\u9970\u5668\u3002</p> <pre><code>from functools import wraps\nfrom time import time\n\n\ndef record(output):\n    \"\"\"\u81ea\u5b9a\u4e49\u5e26\u53c2\u6570\u7684\u88c5\u9970\u5668\"\"\"\n\n   def decorate(func):\n\n       @wraps(func)\n       def wrapper(*args, **kwargs):\n           start = time()\n           result = func(*args, **kwargs)\n           output(func.__name__, time() - start)\n           return result\n\n       return wrapper\n\n   return decorate\n</code></pre> <pre><code>from functools import wraps\nfrom time import time\n\n\nclass Record():\n    \"\"\"\u81ea\u5b9a\u4e49\u88c5\u9970\u5668\u7c7b(\u901a\u8fc7__call__\u9b54\u672f\u65b9\u6cd5\u4f7f\u5f97\u5bf9\u8c61\u53ef\u4ee5\u5f53\u6210\u51fd\u6570\u8c03\u7528)\"\"\"\n\n    def __init__(self, output):\n        self.output = output\n\n    def __call__(self, func):\n\n        @wraps(func)\n        def wrapper(*args, **kwargs):\n            start = time()\n            result = func(*args, **kwargs)\n            self.output(func.__name__, time() - start)\n            return result\n\n        return wrapper\n</code></pre> <p>\u8bf4\u660e\uff1a\u7531\u4e8e\u5bf9\u5e26\u88c5\u9970\u529f\u80fd\u7684\u51fd\u6570\u6dfb\u52a0\u4e86@wraps\u88c5\u9970\u5668\uff0c\u53ef\u4ee5\u901a\u8fc7<code>func.__wrapped__</code>\u65b9\u5f0f\u83b7\u5f97\u88ab\u88c5\u9970\u4e4b\u524d\u7684\u51fd\u6570\u6216\u7c7b\u6765\u53d6\u6d88\u88c5\u9970\u5668\u7684\u4f5c\u7528\u3002</p> <p>\u4f8b\u5b50\uff1a\u7528\u88c5\u9970\u5668\u6765\u5b9e\u73b0\u5355\u4f8b\u6a21\u5f0f\u3002</p> <pre><code>from functools import wraps\n\n\ndef singleton(cls):\n    \"\"\"\u88c5\u9970\u7c7b\u7684\u88c5\u9970\u5668\"\"\"\n    instances = {}\n\n    @wraps(cls)\n    def wrapper(*args, **kwargs):\n        if cls not in instances:\n            instances[cls] = cls(*args, **kwargs)\n        return instances[cls]\n\n    return wrapper\n\n\n@singleton\nclass President():\n    \"\"\"\u603b\u7edf(\u5355\u4f8b\u7c7b)\"\"\"\n    pass\n</code></pre> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\u7528\u5230\u4e86\u95ed\u5305\uff08closure\uff09\uff0c\u4e0d\u77e5\u9053\u4f60\u662f\u5426\u5df2\u7ecf\u610f\u8bc6\u5230\u4e86\u3002\u8fd8\u6ca1\u6709\u4e00\u4e2a\u5c0f\u95ee\u9898\u5c31\u662f\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u5e76\u6ca1\u6709\u5b9e\u73b0\u7ebf\u7a0b\u5b89\u5168\u7684\u5355\u4f8b\uff0c\u5982\u679c\u8981\u5b9e\u73b0\u7ebf\u7a0b\u5b89\u5168\u7684\u5355\u4f8b\u5e94\u8be5\u600e\u4e48\u505a\u5462\uff1f</p> <pre><code>from functools import wraps\nfrom threading import Lock\n\n\ndef singleton(cls):\n    \"\"\"\u7ebf\u7a0b\u5b89\u5168\u7684\u5355\u4f8b\u88c5\u9970\u5668\"\"\"\n    instances = {}\n    locker = Lock()\n\n    @wraps(cls)\n    def wrapper(*args, **kwargs):\n        if cls not in instances:\n            with locker:\n                if cls not in instances:\n                    instances[cls] = cls(*args, **kwargs)\n        return instances[cls]\n\n    return wrapper\n</code></pre> </li> <li> <p>\u9762\u5411\u5bf9\u8c61\u76f8\u5173\u77e5\u8bc6</p> </li> <li> <p>\u4e09\u5927\u652f\u67f1\uff1a\u5c01\u88c5\u3001\u7ee7\u627f\u3001\u591a\u6001</p> <p>\u4f8b\u5b50\uff1a\u5de5\u8d44\u7ed3\u7b97\u7cfb\u7edf\u3002</p> <pre><code>\"\"\"\n\u6708\u85aa\u7ed3\u7b97\u7cfb\u7edf - \u90e8\u95e8\u7ecf\u7406\u6bcf\u670815000 \u7a0b\u5e8f\u5458\u6bcf\u5c0f\u65f6200 \u9500\u552e\u54581800\u5e95\u85aa\u52a0\u9500\u552e\u989d5%\u63d0\u6210\n\"\"\"\nfrom abc import ABCMeta, abstractmethod\n\n\nclass Employee(metaclass=ABCMeta):\n    \"\"\"\u5458\u5de5(\u62bd\u8c61\u7c7b)\"\"\"\n\n    def __init__(self, name):\n        self.name = name\n\n    @abstractmethod\n    def get_salary(self):\n        \"\"\"\u7ed3\u7b97\u6708\u85aa(\u62bd\u8c61\u65b9\u6cd5)\"\"\"\n        pass\n\n\nclass Manager(Employee):\n    \"\"\"\u90e8\u95e8\u7ecf\u7406\"\"\"\n\n    def get_salary(self):\n        return 15000.0\n\n\nclass Programmer(Employee):\n    \"\"\"\u7a0b\u5e8f\u5458\"\"\"\n\n    def __init__(self, name, working_hour=0):\n        self.working_hour = working_hour\n        super().__init__(name)\n\n    def get_salary(self):\n        return 200.0 * self.working_hour\n\n\nclass Salesman(Employee):\n    \"\"\"\u9500\u552e\u5458\"\"\"\n\n    def __init__(self, name, sales=0.0):\n        self.sales = sales\n        super().__init__(name)\n\n    def get_salary(self):\n        return 1800.0 + self.sales * 0.05\n\n\nclass EmployeeFactory():\n    \"\"\"\u521b\u5efa\u5458\u5de5\u7684\u5de5\u5382\uff08\u5de5\u5382\u6a21\u5f0f - \u901a\u8fc7\u5de5\u5382\u5b9e\u73b0\u5bf9\u8c61\u4f7f\u7528\u8005\u548c\u5bf9\u8c61\u4e4b\u95f4\u7684\u89e3\u8026\u5408\uff09\"\"\"\n\n    @staticmethod\n    def create(emp_type, *args, **kwargs):\n        \"\"\"\u521b\u5efa\u5458\u5de5\"\"\"\n        emp_type = emp_type.upper()\n        emp = None\n        if emp_type == 'M':\n            emp = Manager(*args, **kwargs)\n        elif emp_type == 'P':\n            emp = Programmer(*args, **kwargs)\n        elif emp_type == 'S':\n            emp = Salesman(*args, **kwargs)\n        return emp\n\n\ndef main():\n    \"\"\"\u4e3b\u51fd\u6570\"\"\"\n    emps = [\n        EmployeeFactory.create('M', '\u66f9\u64cd'), \n        EmployeeFactory.create('P', '\u8340\u5f67', 120),\n        EmployeeFactory.create('P', '\u90ed\u5609', 85), \n        EmployeeFactory.create('S', '\u5178\u97e6', 123000),\n    ]\n    for emp in emps:\n        print('%s: %.2f\u5143' % (emp.name, emp.get_salary()))\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> </li> <li> <p>\u7c7b\u4e0e\u7c7b\u4e4b\u95f4\u7684\u5173\u7cfb</p> <ul> <li>is-a\u5173\u7cfb\uff1a\u7ee7\u627f</li> <li>has-a\u5173\u7cfb\uff1a\u5173\u8054 / \u805a\u5408 / \u5408\u6210</li> <li>use-a\u5173\u7cfb\uff1a\u4f9d\u8d56</li> </ul> <p>\u4f8b\u5b50\uff1a\u6251\u514b\u6e38\u620f\u3002</p> <pre><code>\"\"\"\n\u7ecf\u9a8c\uff1a\u7b26\u53f7\u5e38\u91cf\u603b\u662f\u4f18\u4e8e\u5b57\u9762\u5e38\u91cf\uff0c\u679a\u4e3e\u7c7b\u578b\u662f\u5b9a\u4e49\u7b26\u53f7\u5e38\u91cf\u7684\u6700\u4f73\u9009\u62e9\n\"\"\"\nfrom enum import Enum, unique\n\nimport random\n\n\n@unique\nclass Suite(Enum):\n    \"\"\"\u82b1\u8272\"\"\"\n\n    SPADE, HEART, CLUB, DIAMOND = range(4)\n\n    def __lt__(self, other):\n        return self.value &lt; other.value\n\n\nclass Card():\n    \"\"\"\u724c\"\"\"\n\n    def __init__(self, suite, face):\n        \"\"\"\u521d\u59cb\u5316\u65b9\u6cd5\"\"\"\n        self.suite = suite\n        self.face = face\n\n    def show(self):\n        \"\"\"\u663e\u793a\u724c\u9762\"\"\"\n        suites = ['\u2660\ufe0f', '\u2665\ufe0f', '\u2663\ufe0f', '\u2666\ufe0f']\n        faces = ['', 'A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K']\n        return f'{suites[self.suite.value]} {faces[self.face]}'\n\n    def __str__(self):\n        return self.show()\n\n    def __repr__(self):\n        return self.show()\n\n\nclass Poker():\n    \"\"\"\u6251\u514b\"\"\"\n\n    def __init__(self):\n        self.index = 0\n        self.cards = [Card(suite, face)\n                      for suite in Suite\n                      for face in range(1, 14)]\n\n    def shuffle(self):\n        \"\"\"\u6d17\u724c\uff08\u968f\u673a\u4e71\u5e8f\uff09\"\"\"\n        random.shuffle(self.cards)\n        self.index = 0\n\n    def deal(self):\n        \"\"\"\u53d1\u724c\"\"\"\n        card = self.cards[self.index]\n        self.index += 1\n        return card\n\n    @property\n    def has_more(self):\n        return self.index &lt; len(self.cards)\n\n\nclass Player():\n    \"\"\"\u73a9\u5bb6\"\"\"\n\n    def __init__(self, name):\n        self.name = name\n        self.cards = []\n\n    def get_one(self, card):\n        \"\"\"\u6478\u4e00\u5f20\u724c\"\"\"\n        self.cards.append(card)\n\n    def sort(self, comp=lambda card: (card.suite, card.face)):\n        \"\"\"\u6574\u7406\u624b\u4e0a\u7684\u724c\"\"\"\n        self.cards.sort(key=comp)\n\n\ndef main():\n    \"\"\"\u4e3b\u51fd\u6570\"\"\"\n    poker = Poker()\n    poker.shuffle()\n    players = [Player('\u4e1c\u90aa'), Player('\u897f\u6bd2'), Player('\u5357\u5e1d'), Player('\u5317\u4e10')]\n    while poker.has_more:\n        for player in players:\n                player.get_one(poker.deal())\n    for player in players:\n        player.sort()\n        print(player.name, end=': ')\n        print(player.cards)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\u4f7f\u7528\u4e86Emoji\u5b57\u7b26\u6765\u8868\u793a\u6251\u514b\u724c\u7684\u56db\u79cd\u82b1\u8272\uff0c\u5728\u67d0\u4e9b\u4e0d\u652f\u6301Emoji\u5b57\u7b26\u7684\u7cfb\u7edf\u4e0a\u53ef\u80fd\u65e0\u6cd5\u663e\u793a\u3002</p> </li> <li> <p>\u5bf9\u8c61\u7684\u590d\u5236\uff08\u6df1\u590d\u5236/\u6df1\u62f7\u8d1d/\u6df1\u5ea6\u514b\u9686\u548c\u6d45\u590d\u5236/\u6d45\u62f7\u8d1d/\u5f71\u5b50\u514b\u9686\uff09</p> </li> <li> <p>\u5783\u573e\u56de\u6536\u3001\u5faa\u73af\u5f15\u7528\u548c\u5f31\u5f15\u7528</p> <p>Python\u4f7f\u7528\u4e86\u81ea\u52a8\u5316\u5185\u5b58\u7ba1\u7406\uff0c\u8fd9\u79cd\u7ba1\u7406\u673a\u5236\u4ee5\u5f15\u7528\u8ba1\u6570\u4e3a\u57fa\u7840\uff0c\u540c\u65f6\u4e5f\u5f15\u5165\u4e86\u6807\u8bb0-\u6e05\u9664\u548c\u5206\u4ee3\u6536\u96c6\u4e24\u79cd\u673a\u5236\u4e3a\u8f85\u7684\u7b56\u7565\u3002</p> <pre><code>typedef struct_object {\n    /* \u5f15\u7528\u8ba1\u6570 */\n    int ob_refcnt;\n    /* \u5bf9\u8c61\u6307\u9488 */\n    struct_typeobject *ob_type;\n} PyObject;\n</code></pre> <pre><code>/* \u589e\u52a0\u5f15\u7528\u8ba1\u6570\u7684\u5b8f\u5b9a\u4e49 */\n#define Py_INCREF(op)   ((op)-&gt;ob_refcnt++)\n/* \u51cf\u5c11\u5f15\u7528\u8ba1\u6570\u7684\u5b8f\u5b9a\u4e49 */\n#define Py_DECREF(op) \\ //\u51cf\u5c11\u8ba1\u6570\n    if (--(op)-&gt;ob_refcnt != 0) \\\n        ; \\\n    else \\\n        __Py_Dealloc((PyObject *)(op))\n</code></pre> <p>\u5bfc\u81f4\u5f15\u7528\u8ba1\u6570+1\u7684\u60c5\u51b5\uff1a</p> <ul> <li>\u5bf9\u8c61\u88ab\u521b\u5efa\uff0c\u4f8b\u5982<code>a = 23</code></li> <li>\u5bf9\u8c61\u88ab\u5f15\u7528\uff0c\u4f8b\u5982<code>b = a</code></li> <li>\u5bf9\u8c61\u88ab\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f20\u5165\u5230\u4e00\u4e2a\u51fd\u6570\u4e2d\uff0c\u4f8b\u5982<code>f(a)</code></li> <li>\u5bf9\u8c61\u4f5c\u4e3a\u4e00\u4e2a\u5143\u7d20\uff0c\u5b58\u50a8\u5728\u5bb9\u5668\u4e2d\uff0c\u4f8b\u5982<code>list1 = [a, a]</code></li> </ul> <p>\u5bfc\u81f4\u5f15\u7528\u8ba1\u6570-1\u7684\u60c5\u51b5\uff1a</p> <ul> <li>\u5bf9\u8c61\u7684\u522b\u540d\u88ab\u663e\u5f0f\u9500\u6bc1\uff0c\u4f8b\u5982<code>del a</code></li> <li>\u5bf9\u8c61\u7684\u522b\u540d\u88ab\u8d4b\u4e88\u65b0\u7684\u5bf9\u8c61\uff0c\u4f8b\u5982<code>a = 24</code></li> <li>\u4e00\u4e2a\u5bf9\u8c61\u79bb\u5f00\u5b83\u7684\u4f5c\u7528\u57df\uff0c\u4f8b\u5982f\u51fd\u6570\u6267\u884c\u5b8c\u6bd5\u65f6\uff0cf\u51fd\u6570\u4e2d\u7684\u5c40\u90e8\u53d8\u91cf\uff08\u5168\u5c40\u53d8\u91cf\u4e0d\u4f1a\uff09</li> <li>\u5bf9\u8c61\u6240\u5728\u7684\u5bb9\u5668\u88ab\u9500\u6bc1\uff0c\u6216\u4ece\u5bb9\u5668\u4e2d\u5220\u9664\u5bf9\u8c61</li> </ul> <p>\u5f15\u7528\u8ba1\u6570\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5faa\u73af\u5f15\u7528\u95ee\u9898\uff0c\u800c\u5faa\u73af\u5f15\u7528\u4f1a\u5bfc\u81f4\u5185\u5b58\u6cc4\u9732\uff0c\u5982\u4e0b\u9762\u7684\u4ee3\u7801\u6240\u793a\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cPython\u4e2d\u5f15\u5165\u4e86\u201c\u6807\u8bb0-\u6e05\u9664\u201d\u548c\u201c\u5206\u4ee3\u6536\u96c6\u201d\u3002\u5728\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u5bf9\u8c61\u88ab\u653e\u5728\u7b2c\u4e00\u4ee3\u4e2d\uff0c\u5982\u679c\u5728\u7b2c\u4e00\u4ee3\u7684\u5783\u573e\u68c0\u67e5\u4e2d\u5bf9\u8c61\u5b58\u6d3b\u4e86\u4e0b\u6765\uff0c\u8be5\u5bf9\u8c61\u5c31\u4f1a\u88ab\u653e\u5230\u7b2c\u4e8c\u4ee3\u4e2d\uff0c\u540c\u7406\u5728\u7b2c\u4e8c\u4ee3\u7684\u5783\u573e\u68c0\u67e5\u4e2d\u5bf9\u8c61\u5b58\u6d3b\u4e0b\u6765\uff0c\u8be5\u5bf9\u8c61\u5c31\u4f1a\u88ab\u653e\u5230\u7b2c\u4e09\u4ee3\u4e2d\u3002</p> <pre><code># \u5faa\u73af\u5f15\u7528\u4f1a\u5bfc\u81f4\u5185\u5b58\u6cc4\u9732 - Python\u9664\u4e86\u5f15\u7528\u6280\u672f\u8fd8\u5f15\u5165\u4e86\u6807\u8bb0\u6e05\u7406\u548c\u5206\u4ee3\u56de\u6536\n# \u5728Python 3.6\u4ee5\u524d\u5982\u679c\u91cd\u5199__del__\u9b54\u672f\u65b9\u6cd5\u4f1a\u5bfc\u81f4\u5faa\u73af\u5f15\u7528\u5904\u7406\u5931\u6548\n# \u5982\u679c\u4e0d\u60f3\u9020\u6210\u5faa\u73af\u5f15\u7528\u53ef\u4ee5\u4f7f\u7528\u5f31\u5f15\u7528\nlist1 = []\nlist2 = [] \nlist1.append(list2)\nlist2.append(list1)\n</code></pre> <p>\u4ee5\u4e0b\u60c5\u51b5\u4f1a\u5bfc\u81f4\u5783\u573e\u56de\u6536\uff1a</p> <ul> <li>\u8c03\u7528<code>gc.collect()</code></li> <li>gc\u6a21\u5757\u7684\u8ba1\u6570\u5668\u8fbe\u5230\u9600\u503c</li> <li>\u7a0b\u5e8f\u9000\u51fa</li> </ul> <p>\u5982\u679c\u5faa\u73af\u5f15\u7528\u4e2d\u4e24\u4e2a\u5bf9\u8c61\u90fd\u5b9a\u4e49\u4e86<code>__del__</code>\u65b9\u6cd5\uff0cgc\u6a21\u5757\u4e0d\u4f1a\u9500\u6bc1\u8fd9\u4e9b\u4e0d\u53ef\u8fbe\u5bf9\u8c61\uff0c\u56e0\u4e3agc\u6a21\u5757\u4e0d\u77e5\u9053\u5e94\u8be5\u5148\u8c03\u7528\u54ea\u4e2a\u5bf9\u8c61\u7684<code>__del__</code>\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u95ee\u9898\u5728Python 3.6\u4e2d\u5f97\u5230\u4e86\u89e3\u51b3\u3002</p> <p>\u4e5f\u53ef\u4ee5\u901a\u8fc7<code>weakref</code>\u6a21\u5757\u6784\u9020\u5f31\u5f15\u7528\u7684\u65b9\u5f0f\u6765\u89e3\u51b3\u5faa\u73af\u5f15\u7528\u7684\u95ee\u9898\u3002</p> </li> <li> <p>\u9b54\u6cd5\u5c5e\u6027\u548c\u65b9\u6cd5\uff08\u8bf7\u53c2\u8003\u300aPython\u9b54\u6cd5\u65b9\u6cd5\u6307\u5357\u300b\uff09</p> <p>\u6709\u51e0\u4e2a\u5c0f\u95ee\u9898\u8bf7\u5927\u5bb6\u601d\u8003\uff1a</p> <ul> <li>\u81ea\u5b9a\u4e49\u7684\u5bf9\u8c61\u80fd\u4e0d\u80fd\u4f7f\u7528\u8fd0\u7b97\u7b26\u505a\u8fd0\u7b97\uff1f</li> <li>\u81ea\u5b9a\u4e49\u7684\u5bf9\u8c61\u80fd\u4e0d\u80fd\u653e\u5230set\u4e2d\uff1f\u80fd\u53bb\u91cd\u5417\uff1f</li> <li>\u81ea\u5b9a\u4e49\u7684\u5bf9\u8c61\u80fd\u4e0d\u80fd\u4f5c\u4e3adict\u7684\u952e\uff1f</li> <li>\u81ea\u5b9a\u4e49\u7684\u5bf9\u8c61\u80fd\u4e0d\u80fd\u4f7f\u7528\u4e0a\u4e0b\u6587\u8bed\u6cd5\uff1f</li> </ul> </li> <li> <p>\u6df7\u5165\uff08Mixin\uff09</p> <p>\u4f8b\u5b50\uff1a\u81ea\u5b9a\u4e49\u5b57\u5178\u9650\u5236\u53ea\u6709\u5728\u6307\u5b9a\u7684key\u4e0d\u5b58\u5728\u65f6\u624d\u80fd\u5728\u5b57\u5178\u4e2d\u8bbe\u7f6e\u952e\u503c\u5bf9\u3002</p> <pre><code>class SetOnceMappingMixin():\n    \"\"\"\u81ea\u5b9a\u4e49\u6df7\u5165\u7c7b\"\"\"\n    __slots__ = ()\n\n    def __setitem__(self, key, value):\n        if key in self:\n            raise KeyError(str(key) + ' already set')\n        return super().__setitem__(key, value)\n\n\nclass SetOnceDict(SetOnceMappingMixin, dict):\n    \"\"\"\u81ea\u5b9a\u4e49\u5b57\u5178\"\"\"\n    pass\n\n\nmy_dict= SetOnceDict()\ntry:\n    my_dict['username'] = 'jackfrued'\n    my_dict['username'] = 'hellokitty'\nexcept KeyError:\n    pass\nprint(my_dict)\n</code></pre> </li> <li> <p>\u5143\u7f16\u7a0b\u548c\u5143\u7c7b</p> <p>\u4f8b\u5b50\uff1a\u7528\u5143\u7c7b\u5b9e\u73b0\u5355\u4f8b\u6a21\u5f0f\u3002</p> <pre><code>import threading\n\n\nclass SingletonMeta(type):\n    \"\"\"\u81ea\u5b9a\u4e49\u5143\u7c7b\"\"\"\n\n    def __init__(cls, *args, **kwargs):\n        cls.__instance = None\n        cls.__lock = threading.Lock()\n        super().__init__(*args, **kwargs)\n\n    def __call__(cls, *args, **kwargs):\n        if cls.__instance is None:\n            with cls.__lock:\n                if cls.__instance is None:\n                    cls.__instance = super().__call__(*args, **kwargs)\n        return cls.__instance\n\n\nclass President(metaclass=SingletonMeta):\n    \"\"\"\u603b\u7edf(\u5355\u4f8b\u7c7b)\"\"\"\n    pass\n</code></pre> </li> <li> <p>\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u539f\u5219</p> <ul> <li>\u5355\u4e00\u804c\u8d23\u539f\u5219 \uff08SRP\uff09- \u4e00\u4e2a\u7c7b\u53ea\u505a\u8be5\u505a\u7684\u4e8b\u60c5\uff08\u7c7b\u7684\u8bbe\u8ba1\u8981\u9ad8\u5185\u805a\uff09</li> <li>\u5f00\u95ed\u539f\u5219 \uff08OCP\uff09- \u8f6f\u4ef6\u5b9e\u4f53\u5e94\u8be5\u5bf9\u6269\u5c55\u5f00\u53d1\u5bf9\u4fee\u6539\u5173\u95ed</li> <li>\u4f9d\u8d56\u5012\u8f6c\u539f\u5219\uff08DIP\uff09- \u9762\u5411\u62bd\u8c61\u7f16\u7a0b\uff08\u5728\u5f31\u7c7b\u578b\u8bed\u8a00\u4e2d\u5df2\u7ecf\u88ab\u5f31\u5316\uff09</li> <li>\u91cc\u6c0f\u66ff\u6362\u539f\u5219\uff08LSP\uff09 - \u4efb\u4f55\u65f6\u5019\u53ef\u4ee5\u7528\u5b50\u7c7b\u5bf9\u8c61\u66ff\u6362\u6389\u7236\u7c7b\u5bf9\u8c61</li> <li>\u63a5\u53e3\u9694\u79bb\u539f\u5219\uff08ISP\uff09- \u63a5\u53e3\u8981\u5c0f\u800c\u4e13\u4e0d\u8981\u5927\u800c\u5168\uff08Python\u4e2d\u6ca1\u6709\u63a5\u53e3\u7684\u6982\u5ff5\uff09</li> <li>\u5408\u6210\u805a\u5408\u590d\u7528\u539f\u5219\uff08CARP\uff09 - \u4f18\u5148\u4f7f\u7528\u5f3a\u5173\u8054\u5173\u7cfb\u800c\u4e0d\u662f\u7ee7\u627f\u5173\u7cfb\u590d\u7528\u4ee3\u7801</li> <li>\u6700\u5c11\u77e5\u8bc6\u539f\u5219\uff08\u8fea\u7c73\u7279\u6cd5\u5219\uff0cLoD\uff09- \u4e0d\u8981\u7ed9\u6ca1\u6709\u5fc5\u7136\u8054\u7cfb\u7684\u5bf9\u8c61\u53d1\u6d88\u606f</li> </ul> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u52a0\u7c97\u7684\u5b57\u6bcd\u653e\u5728\u4e00\u8d77\u79f0\u4e3a\u9762\u5411\u5bf9\u8c61\u7684SOLID\u539f\u5219\u3002</p> </li> <li> <p>GoF\u8bbe\u8ba1\u6a21\u5f0f</p> <ul> <li>\u521b\u5efa\u578b\u6a21\u5f0f\uff1a\u5355\u4f8b\u3001\u5de5\u5382\u3001\u5efa\u9020\u8005\u3001\u539f\u578b</li> <li>\u7ed3\u6784\u578b\u6a21\u5f0f\uff1a\u9002\u914d\u5668\u3001\u95e8\u9762\uff08\u5916\u89c2\uff09\u3001\u4ee3\u7406</li> <li>\u884c\u4e3a\u578b\u6a21\u5f0f\uff1a\u8fed\u4ee3\u5668\u3001\u89c2\u5bdf\u8005\u3001\u72b6\u6001\u3001\u7b56\u7565</li> </ul> <p>\u4f8b\u5b50\uff1a\u53ef\u63d2\u62d4\u7684\u54c8\u5e0c\u7b97\u6cd5\u3002</p> <pre><code>class StreamHasher():\n    \"\"\"\u54c8\u5e0c\u6458\u8981\u751f\u6210\u5668(\u7b56\u7565\u6a21\u5f0f)\"\"\"\n\n    def __init__(self, alg='md5', size=4096):\n        self.size = size\n        alg = alg.lower()\n        self.hasher = getattr(__import__('hashlib'), alg.lower())()\n\n    def __call__(self, stream):\n        return self.to_digest(stream)\n\n    def to_digest(self, stream):\n        \"\"\"\u751f\u6210\u5341\u516d\u8fdb\u5236\u5f62\u5f0f\u7684\u6458\u8981\"\"\"\n        for buf in iter(lambda: stream.read(self.size), b''):\n            self.hasher.update(buf)\n        return self.hasher.hexdigest()\n\ndef main():\n    \"\"\"\u4e3b\u51fd\u6570\"\"\"\n    hasher1 = StreamHasher()\n    with open('Python-3.7.1.tgz', 'rb') as stream:\n        print(hasher1.to_digest(stream))\n    hasher2 = StreamHasher('sha1')\n    with open('Python-3.7.1.tgz', 'rb') as stream:\n        print(hasher2(stream))\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> </li> <li> <p>\u8fed\u4ee3\u5668\u548c\u751f\u6210\u5668</p> </li> <li> <p>\u548c\u8fed\u4ee3\u5668\u76f8\u5173\u7684\u9b54\u672f\u65b9\u6cd5\uff08<code>__iter__</code>\u548c<code>__next__</code>\uff09</p> </li> <li> <p>\u4e24\u79cd\u521b\u5efa\u751f\u6210\u5668\u7684\u65b9\u5f0f\uff08\u751f\u6210\u5668\u8868\u8fbe\u5f0f\u548c<code>yield</code>\u5173\u952e\u5b57\uff09</p> <pre><code>def fib(num):\n    \"\"\"\u751f\u6210\u5668\"\"\"\n    a, b = 0, 1\n    for _ in range(num):\n        a, b = b, a + b\n        yield a\n\n\nclass Fib(object):\n    \"\"\"\u8fed\u4ee3\u5668\"\"\"\n\n    def __init__(self, num):\n        self.num = num\n        self.a, self.b = 0, 1\n        self.idx = 0\n\n    def __iter__(self):\n        return self\n\n    def __next__(self):\n        if self.idx &lt; self.num:\n            self.a, self.b = self.b, self.a + self.b\n            self.idx += 1\n            return self.a\n        raise StopIteration()\n</code></pre> </li> <li> <p>\u5e76\u53d1\u7f16\u7a0b</p> </li> </ol> <p>Python\u4e2d\u5b9e\u73b0\u5e76\u53d1\u7f16\u7a0b\u7684\u4e09\u79cd\u65b9\u6848\uff1a\u591a\u7ebf\u7a0b\u3001\u591a\u8fdb\u7a0b\u548c\u5f02\u6b65I/O\u3002\u5e76\u53d1\u7f16\u7a0b\u7684\u597d\u5904\u5728\u4e8e\u53ef\u4ee5\u63d0\u5347\u7a0b\u5e8f\u7684\u6267\u884c\u6548\u7387\u4ee5\u53ca\u6539\u5584\u7528\u6237\u4f53\u9a8c\uff1b\u574f\u5904\u5728\u4e8e\u5e76\u53d1\u7684\u7a0b\u5e8f\u4e0d\u5bb9\u6613\u5f00\u53d1\u548c\u8c03\u8bd5\uff0c\u540c\u65f6\u5bf9\u5176\u4ed6\u7a0b\u5e8f\u6765\u8bf4\u5b83\u5e76\u4e0d\u53cb\u597d\u3002</p> <ul> <li> <p>\u591a\u7ebf\u7a0b\uff1aPython\u4e2d\u63d0\u4f9b\u4e86Thread\u7c7b\u5e76\u8f85\u4ee5Lock\u3001Condition\u3001Event\u3001Semaphore\u548cBarrier\u3002Python\u4e2d\u6709GIL\u6765\u9632\u6b62\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u6267\u884c\u672c\u5730\u5b57\u8282\u7801\uff0c\u8fd9\u4e2a\u9501\u5bf9\u4e8eCPython\u662f\u5fc5\u987b\u7684\uff0c\u56e0\u4e3aCPython\u7684\u5185\u5b58\u7ba1\u7406\u5e76\u4e0d\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\uff0c\u56e0\u4e3aGIL\u7684\u5b58\u5728\u591a\u7ebf\u7a0b\u5e76\u4e0d\u80fd\u53d1\u6325CPU\u7684\u591a\u6838\u7279\u6027\u3002</p> <pre><code>\"\"\"\n\u9762\u8bd5\u9898\uff1a\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u533a\u522b\u548c\u8054\u7cfb\uff1f\n\u8fdb\u7a0b - \u64cd\u4f5c\u7cfb\u7edf\u5206\u914d\u5185\u5b58\u7684\u57fa\u672c\u5355\u4f4d - \u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\u7ebf\u7a0b\n\u7ebf\u7a0b - \u64cd\u4f5c\u7cfb\u7edf\u5206\u914dCPU\u7684\u57fa\u672c\u5355\u4f4d\n\u5e76\u53d1\u7f16\u7a0b\uff08concurrent programming\uff09\n1. \u63d0\u5347\u6267\u884c\u6027\u80fd - \u8ba9\u7a0b\u5e8f\u4e2d\u6ca1\u6709\u56e0\u679c\u5173\u7cfb\u7684\u90e8\u5206\u53ef\u4ee5\u5e76\u53d1\u7684\u6267\u884c\n2. \u6539\u5584\u7528\u6237\u4f53\u9a8c - \u8ba9\u8017\u65f6\u95f4\u7684\u64cd\u4f5c\u4e0d\u4f1a\u9020\u6210\u7a0b\u5e8f\u7684\u5047\u6b7b\n\"\"\"\nimport glob\nimport os\nimport threading\n\nfrom PIL import Image\n\nPREFIX = 'thumbnails'\n\n\ndef generate_thumbnail(infile, size, format='PNG'):\n    \"\"\"\u751f\u6210\u6307\u5b9a\u56fe\u7247\u6587\u4ef6\u7684\u7f29\u7565\u56fe\"\"\"\n   file, ext = os.path.splitext(infile)\n   file = file[file.rfind('/') + 1:]\n   outfile = f'{PREFIX}/{file}_{size[0]}_{size[1]}.{ext}'\n   img = Image.open(infile)\n   img.thumbnail(size, Image.ANTIALIAS)\n   img.save(outfile, format)\n\n\ndef main():\n    \"\"\"\u4e3b\u51fd\u6570\"\"\"\n   if not os.path.exists(PREFIX):\n       os.mkdir(PREFIX)\n   for infile in glob.glob('images/*.png'):\n       for size in (32, 64, 128):\n            # \u521b\u5efa\u5e76\u542f\u52a8\u7ebf\u7a0b\n           threading.Thread(\n               target=generate_thumbnail, \n               args=(infile, (size, size))\n           ).start()\n\n\nif __name__ == '__main__':\n   main()\n</code></pre> <p>\u591a\u4e2a\u7ebf\u7a0b\u7ade\u4e89\u8d44\u6e90\u7684\u60c5\u51b5</p> <pre><code>\"\"\"\n\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u5982\u679c\u6ca1\u6709\u7ade\u4e89\u8d44\u6e90\u5904\u7406\u8d77\u6765\u901a\u5e38\u4e5f\u6bd4\u8f83\u7b80\u5355\n\u5f53\u591a\u4e2a\u7ebf\u7a0b\u7ade\u4e89\u4e34\u754c\u8d44\u6e90\u7684\u65f6\u5019\u5982\u679c\u7f3a\u4e4f\u5fc5\u8981\u7684\u4fdd\u62a4\u63aa\u65bd\u5c31\u4f1a\u5bfc\u81f4\u6570\u636e\u9519\u4e71\n\u8bf4\u660e\uff1a\u4e34\u754c\u8d44\u6e90\u5c31\u662f\u88ab\u591a\u4e2a\u7ebf\u7a0b\u7ade\u4e89\u7684\u8d44\u6e90\n\"\"\"\nimport time\nimport threading\n\nfrom concurrent.futures import ThreadPoolExecutor\n\n\nclass Account(object):\n    \"\"\"\u94f6\u884c\u8d26\u6237\"\"\"\n\n    def __init__(self):\n        self.balance = 0.0\n        self.lock = threading.Lock()\n\n    def deposit(self, money):\n        # \u901a\u8fc7\u9501\u4fdd\u62a4\u4e34\u754c\u8d44\u6e90\n        with self.lock:\n            new_balance = self.balance + money\n            time.sleep(0.001)\n            self.balance = new_balance\n\n\nclass AddMoneyThread(threading.Thread):\n    \"\"\"\u81ea\u5b9a\u4e49\u7ebf\u7a0b\u7c7b\"\"\"\n\n    def __init__(self, account, money):\n        self.account = account\n        self.money = money\n        # \u81ea\u5b9a\u4e49\u7ebf\u7a0b\u7684\u521d\u59cb\u5316\u65b9\u6cd5\u4e2d\u5fc5\u987b\u8c03\u7528\u7236\u7c7b\u7684\u521d\u59cb\u5316\u65b9\u6cd5\n        super().__init__()\n\n    def run(self):\n        # \u7ebf\u7a0b\u542f\u52a8\u4e4b\u540e\u8981\u6267\u884c\u7684\u64cd\u4f5c\n        self.account.deposit(self.money)\n\ndef main():\n    \"\"\"\u4e3b\u51fd\u6570\"\"\"\n    account = Account()\n    # \u521b\u5efa\u7ebf\u7a0b\u6c60\n    pool = ThreadPoolExecutor(max_workers=10)\n    futures = []\n    for _ in range(100):\n        # \u521b\u5efa\u7ebf\u7a0b\u7684\u7b2c1\u79cd\u65b9\u5f0f\n        # threading.Thread(\n        #     target=account.deposit, args=(1, )\n        # ).start()\n        # \u521b\u5efa\u7ebf\u7a0b\u7684\u7b2c2\u79cd\u65b9\u5f0f\n        # AddMoneyThread(account, 1).start()\n        # \u521b\u5efa\u7ebf\u7a0b\u7684\u7b2c3\u79cd\u65b9\u5f0f\n        # \u8c03\u7528\u7ebf\u7a0b\u6c60\u4e2d\u7684\u7ebf\u7a0b\u6765\u6267\u884c\u7279\u5b9a\u7684\u4efb\u52a1\n        future = pool.submit(account.deposit, 1)\n        futures.append(future)\n    # \u5173\u95ed\u7ebf\u7a0b\u6c60\n    pool.shutdown()\n    for future in futures:\n        future.result()\n    print(account.balance)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u4fee\u6539\u4e0a\u9762\u7684\u7a0b\u5e8f\uff0c\u542f\u52a85\u4e2a\u7ebf\u7a0b\u5411\u8d26\u6237\u4e2d\u5b58\u94b1\uff0c5\u4e2a\u7ebf\u7a0b\u4ece\u8d26\u6237\u4e2d\u53d6\u94b1\uff0c\u53d6\u94b1\u65f6\u5982\u679c\u4f59\u989d\u4e0d\u8db3\u5c31\u6682\u505c\u7ebf\u7a0b\u8fdb\u884c\u7b49\u5f85\u3002\u4e3a\u4e86\u8fbe\u5230\u4e0a\u8ff0\u76ee\u6807\uff0c\u9700\u8981\u5bf9\u5b58\u94b1\u548c\u53d6\u94b1\u7684\u7ebf\u7a0b\u8fdb\u884c\u8c03\u5ea6\uff0c\u5728\u4f59\u989d\u4e0d\u8db3\u65f6\u53d6\u94b1\u7684\u7ebf\u7a0b\u6682\u505c\u5e76\u91ca\u653e\u9501\uff0c\u800c\u5b58\u94b1\u7684\u7ebf\u7a0b\u5c06\u94b1\u5b58\u5165\u540e\u8981\u901a\u77e5\u53d6\u94b1\u7684\u7ebf\u7a0b\uff0c\u4f7f\u5176\u4ece\u6682\u505c\u72b6\u6001\u88ab\u5524\u9192\u3002\u53ef\u4ee5\u4f7f\u7528<code>threading</code>\u6a21\u5757\u7684Condition\u6765\u5b9e\u73b0\u7ebf\u7a0b\u8c03\u5ea6\uff0c\u8be5\u5bf9\u8c61\u4e5f\u662f\u57fa\u4e8e\u9501\u6765\u521b\u5efa\u7684\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>\"\"\"\n\u591a\u4e2a\u7ebf\u7a0b\u7ade\u4e89\u4e00\u4e2a\u8d44\u6e90 - \u4fdd\u62a4\u4e34\u754c\u8d44\u6e90 - \u9501\uff08Lock/RLock\uff09\n\u591a\u4e2a\u7ebf\u7a0b\u7ade\u4e89\u591a\u4e2a\u8d44\u6e90\uff08\u7ebf\u7a0b\u6570&gt;\u8d44\u6e90\u6570\uff09 - \u4fe1\u53f7\u91cf\uff08Semaphore\uff09\n\u591a\u4e2a\u7ebf\u7a0b\u7684\u8c03\u5ea6 - \u6682\u505c\u7ebf\u7a0b\u6267\u884c/\u5524\u9192\u7b49\u5f85\u4e2d\u7684\u7ebf\u7a0b - Condition\n\"\"\"\nfrom concurrent.futures import ThreadPoolExecutor\nfrom random import randint\nfrom time import sleep\n\nimport threading\n\n\nclass Account():\n    \"\"\"\u94f6\u884c\u8d26\u6237\"\"\"\n\n    def __init__(self, balance=0):\n        self.balance = balance\n        lock = threading.Lock()\n        self.condition = threading.Condition(lock)\n\n    def withdraw(self, money):\n        \"\"\"\u53d6\u94b1\"\"\"\n        with self.condition:\n            while money &gt; self.balance:\n                self.condition.wait()\n            new_balance = self.balance - money\n            sleep(0.001)\n            self.balance = new_balance\n\n    def deposit(self, money):\n        \"\"\"\u5b58\u94b1\"\"\"\n        with self.condition:\n            new_balance = self.balance + money\n            sleep(0.001)\n            self.balance = new_balance\n            self.condition.notify_all()\n\n\ndef add_money(account):\n    while True:\n        money = randint(5, 10)\n        account.deposit(money)\n        print(threading.current_thread().name, \n              ':', money, '====&gt;', account.balance)\n        sleep(0.5)\n\n\ndef sub_money(account):\n    while True:\n        money = randint(10, 30)\n        account.withdraw(money)\n        print(threading.current_thread().name, \n              ':', money, '&lt;====', account.balance)\n        sleep(1)\n\n\ndef main():\n    account = Account()\n    with ThreadPoolExecutor(max_workers=10) as pool:\n        for _ in range(5):\n            pool.submit(add_money, account)\n            pool.submit(sub_money, account)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> </li> <li> <p>\u591a\u8fdb\u7a0b\uff1a\u591a\u8fdb\u7a0b\u53ef\u4ee5\u6709\u6548\u7684\u89e3\u51b3GIL\u7684\u95ee\u9898\uff0c\u5b9e\u73b0\u591a\u8fdb\u7a0b\u4e3b\u8981\u7684\u7c7b\u662fProcess\uff0c\u5176\u4ed6\u8f85\u52a9\u7684\u7c7b\u8ddfthreading\u6a21\u5757\u4e2d\u7684\u7c7b\u4f3c\uff0c\u8fdb\u7a0b\u95f4\u5171\u4eab\u6570\u636e\u53ef\u4ee5\u4f7f\u7528\u7ba1\u9053\u3001\u5957\u63a5\u5b57\u7b49\uff0c\u5728multiprocessing\u6a21\u5757\u4e2d\u6709\u4e00\u4e2aQueue\u7c7b\uff0c\u5b83\u57fa\u4e8e\u7ba1\u9053\u548c\u9501\u673a\u5236\u63d0\u4f9b\u4e86\u591a\u4e2a\u8fdb\u7a0b\u5171\u4eab\u7684\u961f\u5217\u3002\u4e0b\u9762\u662f\u5b98\u65b9\u6587\u6863\u4e0a\u5173\u4e8e\u591a\u8fdb\u7a0b\u548c\u8fdb\u7a0b\u6c60\u7684\u4e00\u4e2a\u793a\u4f8b\u3002</p> <pre><code>\"\"\"\n\u591a\u8fdb\u7a0b\u548c\u8fdb\u7a0b\u6c60\u7684\u4f7f\u7528\n\u591a\u7ebf\u7a0b\u56e0\u4e3aGIL\u7684\u5b58\u5728\u4e0d\u80fd\u591f\u53d1\u6325CPU\u7684\u591a\u6838\u7279\u6027\n\u5bf9\u4e8e\u8ba1\u7b97\u5bc6\u96c6\u578b\u4efb\u52a1\u5e94\u8be5\u8003\u8651\u4f7f\u7528\u591a\u8fdb\u7a0b\ntime python3 example22.py\nreal    0m11.512s\nuser    0m39.319s\nsys     0m0.169s\n\u4f7f\u7528\u591a\u8fdb\u7a0b\u540e\u5b9e\u9645\u6267\u884c\u65f6\u95f4\u4e3a11.512\u79d2\uff0c\u800c\u7528\u6237\u65f6\u95f439.319\u79d2\u7ea6\u4e3a\u5b9e\u9645\u6267\u884c\u65f6\u95f4\u76844\u500d\n\u8fd9\u5c31\u8bc1\u660e\u6211\u4eec\u7684\u7a0b\u5e8f\u901a\u8fc7\u591a\u8fdb\u7a0b\u4f7f\u7528\u4e86CPU\u7684\u591a\u6838\u7279\u6027\uff0c\u800c\u4e14\u8fd9\u53f0\u8ba1\u7b97\u673a\u914d\u7f6e\u4e864\u6838\u7684CPU\n\"\"\"\nimport concurrent.futures\nimport math\n\nPRIMES = [\n    1116281,\n    1297337,\n    104395303,\n    472882027,\n    533000389,\n    817504243,\n    982451653,\n    112272535095293,\n    112582705942171,\n    112272535095293,\n    115280095190773,\n    115797848077099,\n    1099726899285419\n] * 5\n\n\ndef is_prime(n):\n    \"\"\"\u5224\u65ad\u7d20\u6570\"\"\"\n    if n % 2 == 0:\n        return False\n\n    sqrt_n = int(math.floor(math.sqrt(n)))\n    for i in range(3, sqrt_n + 1, 2):\n        if n % i == 0:\n            return False\n    return True\n\n\ndef main():\n    \"\"\"\u4e3b\u51fd\u6570\"\"\"\n    with concurrent.futures.ProcessPoolExecutor() as executor:\n        for number, prime in zip(PRIMES, executor.map(is_prime, PRIMES)):\n            print('%d is prime: %s' % (number, prime))\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8bf4\u660e\uff1a\u591a\u7ebf\u7a0b\u548c\u591a\u8fdb\u7a0b\u7684\u6bd4\u8f83\u3002</p> <p>\u4ee5\u4e0b\u60c5\u51b5\u9700\u8981\u4f7f\u7528\u591a\u7ebf\u7a0b\uff1a</p> <ol> <li>\u7a0b\u5e8f\u9700\u8981\u7ef4\u62a4\u8bb8\u591a\u5171\u4eab\u7684\u72b6\u6001\uff08\u5c24\u5176\u662f\u53ef\u53d8\u72b6\u6001\uff09\uff0cPython\u4e2d\u7684\u5217\u8868\u3001\u5b57\u5178\u3001\u96c6\u5408\u90fd\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\uff0c\u6240\u4ee5\u4f7f\u7528\u7ebf\u7a0b\u800c\u4e0d\u662f\u8fdb\u7a0b\u7ef4\u62a4\u5171\u4eab\u72b6\u6001\u7684\u4ee3\u4ef7\u76f8\u5bf9\u8f83\u5c0f\u3002</li> <li>\u7a0b\u5e8f\u4f1a\u82b1\u8d39\u5927\u91cf\u65f6\u95f4\u5728I/O\u64cd\u4f5c\u4e0a\uff0c\u6ca1\u6709\u592a\u591a\u5e76\u884c\u8ba1\u7b97\u7684\u9700\u6c42\u4e14\u4e0d\u9700\u5360\u7528\u592a\u591a\u7684\u5185\u5b58\u3002</li> </ol> <p>\u4ee5\u4e0b\u60c5\u51b5\u9700\u8981\u4f7f\u7528\u591a\u8fdb\u7a0b\uff1a</p> <ol> <li>\u7a0b\u5e8f\u6267\u884c\u8ba1\u7b97\u5bc6\u96c6\u578b\u4efb\u52a1\uff08\u5982\uff1a\u5b57\u8282\u7801\u64cd\u4f5c\u3001\u6570\u636e\u5904\u7406\u3001\u79d1\u5b66\u8ba1\u7b97\uff09\u3002</li> <li>\u7a0b\u5e8f\u7684\u8f93\u5165\u53ef\u4ee5\u5e76\u884c\u7684\u5206\u6210\u5757\uff0c\u5e76\u4e14\u53ef\u4ee5\u5c06\u8fd0\u7b97\u7ed3\u679c\u5408\u5e76\u3002</li> <li>\u7a0b\u5e8f\u5728\u5185\u5b58\u4f7f\u7528\u65b9\u9762\u6ca1\u6709\u4efb\u4f55\u9650\u5236\u4e14\u4e0d\u5f3a\u4f9d\u8d56\u4e8eI/O\u64cd\u4f5c\uff08\u5982\uff1a\u8bfb\u5199\u6587\u4ef6\u3001\u5957\u63a5\u5b57\u7b49\uff09\u3002</li> </ol> </li> <li> <p>\u5f02\u6b65\u5904\u7406\uff1a\u4ece\u8c03\u5ea6\u7a0b\u5e8f\u7684\u4efb\u52a1\u961f\u5217\u4e2d\u6311\u9009\u4efb\u52a1\uff0c\u8be5\u8c03\u5ea6\u7a0b\u5e8f\u4ee5\u4ea4\u53c9\u7684\u5f62\u5f0f\u6267\u884c\u8fd9\u4e9b\u4efb\u52a1\uff0c\u6211\u4eec\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u4efb\u52a1\u5c06\u4ee5\u67d0\u79cd\u987a\u5e8f\u53bb\u6267\u884c\uff0c\u56e0\u4e3a\u6267\u884c\u987a\u5e8f\u53d6\u51b3\u4e8e\u961f\u5217\u4e2d\u7684\u4e00\u9879\u4efb\u52a1\u662f\u5426\u613f\u610f\u5c06CPU\u5904\u7406\u65f6\u95f4\u8ba9\u4f4d\u7ed9\u53e6\u4e00\u9879\u4efb\u52a1\u3002\u5f02\u6b65\u4efb\u52a1\u901a\u5e38\u901a\u8fc7\u591a\u4efb\u52a1\u534f\u4f5c\u5904\u7406\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\uff0c\u7531\u4e8e\u6267\u884c\u65f6\u95f4\u548c\u987a\u5e8f\u7684\u4e0d\u786e\u5b9a\uff0c\u56e0\u6b64\u9700\u8981\u901a\u8fc7\u56de\u8c03\u5f0f\u7f16\u7a0b\u6216\u8005<code>future</code>\u5bf9\u8c61\u6765\u83b7\u53d6\u4efb\u52a1\u6267\u884c\u7684\u7ed3\u679c\u3002Python 3\u901a\u8fc7<code>asyncio</code>\u6a21\u5757\u548c<code>await</code>\u548c<code>async</code>\u5173\u952e\u5b57\uff08\u5728Python 3.7\u4e2d\u6b63\u5f0f\u88ab\u5217\u4e3a\u5173\u952e\u5b57\uff09\u6765\u652f\u6301\u5f02\u6b65\u5904\u7406\u3002</p> <pre><code>\"\"\"\n\u5f02\u6b65I/O - async / await\n\"\"\"\nimport asyncio\n\n\ndef num_generator(m, n):\n    \"\"\"\u6307\u5b9a\u8303\u56f4\u7684\u6570\u5b57\u751f\u6210\u5668\"\"\"\n    yield from range(m, n + 1)\n\n\nasync def prime_filter(m, n):\n    \"\"\"\u7d20\u6570\u8fc7\u6ee4\u5668\"\"\"\n    primes = []\n    for i in num_generator(m, n):\n        flag = True\n        for j in range(2, int(i ** 0.5 + 1)):\n            if i % j == 0:\n                flag = False\n                break\n        if flag:\n            print('Prime =&gt;', i)\n            primes.append(i)\n\n        await asyncio.sleep(0.001)\n    return tuple(primes)\n\n\nasync def square_mapper(m, n):\n    \"\"\"\u5e73\u65b9\u6620\u5c04\u5668\"\"\"\n    squares = []\n    for i in num_generator(m, n):\n        print('Square =&gt;', i * i)\n        squares.append(i * i)\n\n        await asyncio.sleep(0.001)\n    return squares\n\n\ndef main():\n    \"\"\"\u4e3b\u51fd\u6570\"\"\"\n    loop = asyncio.get_event_loop()\n    future = asyncio.gather(prime_filter(2, 100), square_mapper(1, 100))\n    future.add_done_callback(lambda x: print(x.result()))\n    loop.run_until_complete(future)\n    loop.close()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u7684\u4ee3\u7801\u4f7f\u7528<code>get_event_loop</code>\u51fd\u6570\u83b7\u5f97\u7cfb\u7edf\u9ed8\u8ba4\u7684\u4e8b\u4ef6\u5faa\u73af\uff0c\u901a\u8fc7<code>gather</code>\u51fd\u6570\u53ef\u4ee5\u83b7\u5f97\u4e00\u4e2a<code>future</code>\u5bf9\u8c61\uff0c<code>future</code>\u5bf9\u8c61\u7684<code>add_done_callback</code>\u53ef\u4ee5\u6dfb\u52a0\u6267\u884c\u5b8c\u6210\u65f6\u7684\u56de\u8c03\u51fd\u6570\uff0c<code>loop</code>\u5bf9\u8c61\u7684<code>run_until_complete</code>\u65b9\u6cd5\u53ef\u4ee5\u7b49\u5f85\u901a\u8fc7<code>future</code>\u5bf9\u8c61\u83b7\u5f97\u534f\u7a0b\u6267\u884c\u7ed3\u679c\u3002</p> <p>Python\u4e2d\u6709\u4e00\u4e2a\u540d\u4e3a<code>aiohttp</code>\u7684\u4e09\u65b9\u5e93\uff0c\u5b83\u63d0\u4f9b\u4e86\u5f02\u6b65\u7684HTTP\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\uff0c\u8fd9\u4e2a\u4e09\u65b9\u5e93\u53ef\u4ee5\u8ddf<code>asyncio</code>\u6a21\u5757\u4e00\u8d77\u5de5\u4f5c\uff0c\u5e76\u63d0\u4f9b\u4e86\u5bf9<code>Future</code>\u5bf9\u8c61\u7684\u652f\u6301\u3002Python 3.6\u4e2d\u5f15\u5165\u4e86async\u548cawait\u6765\u5b9a\u4e49\u5f02\u6b65\u6267\u884c\u7684\u51fd\u6570\u4ee5\u53ca\u521b\u5efa\u5f02\u6b65\u4e0a\u4e0b\u6587\uff0c\u5728Python 3.7\u4e2d\u5b83\u4eec\u6b63\u5f0f\u6210\u4e3a\u4e86\u5173\u952e\u5b57\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u5f02\u6b65\u7684\u4ece5\u4e2aURL\u4e2d\u83b7\u53d6\u9875\u9762\u5e76\u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u547d\u540d\u6355\u83b7\u7ec4\u63d0\u53d6\u4e86\u7f51\u7ad9\u7684\u6807\u9898\u3002</p> <pre><code>import asyncio\nimport re\n\nimport aiohttp\n\nPATTERN = re.compile(r'\\&lt;title\\&gt;(?P&lt;title&gt;.*)\\&lt;\\/title\\&gt;')\n\n\nasync def fetch_page(session, url):\n    async with session.get(url, ssl=False) as resp:\n        return await resp.text()\n\n\nasync def show_title(url):\n    async with aiohttp.ClientSession() as session:\n        html = await fetch_page(session, url)\n        print(PATTERN.search(html).group('title'))\n\n\ndef main():\n    urls = ('https://www.python.org/',\n            'https://git-scm.com/',\n            'https://www.jd.com/',\n            'https://www.taobao.com/',\n            'https://www.douban.com/')\n    loop = asyncio.get_event_loop()\n    tasks = [show_title(url) for url in urls]\n    loop.run_until_complete(asyncio.wait(tasks))\n    loop.close()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8bf4\u660e\uff1a\u5f02\u6b65I/O\u4e0e\u591a\u8fdb\u7a0b\u7684\u6bd4\u8f83\u3002</p> <p>\u5f53\u7a0b\u5e8f\u4e0d\u9700\u8981\u771f\u6b63\u7684\u5e76\u53d1\u6027\u6216\u5e76\u884c\u6027\uff0c\u800c\u662f\u66f4\u591a\u7684\u4f9d\u8d56\u4e8e\u5f02\u6b65\u5904\u7406\u548c\u56de\u8c03\u65f6\uff0casyncio\u5c31\u662f\u4e00\u79cd\u5f88\u597d\u7684\u9009\u62e9\u3002\u5982\u679c\u7a0b\u5e8f\u4e2d\u6709\u5927\u91cf\u7684\u7b49\u5f85\u4e0e\u4f11\u7720\u65f6\uff0c\u4e5f\u5e94\u8be5\u8003\u8651asyncio\uff0c\u5b83\u5f88\u9002\u5408\u7f16\u5199\u6ca1\u6709\u5b9e\u65f6\u6570\u636e\u5904\u7406\u9700\u6c42\u7684Web\u5e94\u7528\u670d\u52a1\u5668\u3002</p> <p>Python\u8fd8\u6709\u5f88\u591a\u7528\u4e8e\u5904\u7406\u5e76\u884c\u4efb\u52a1\u7684\u4e09\u65b9\u5e93\uff0c\u4f8b\u5982\uff1ajoblib\u3001PyMP\u7b49\u3002\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u8981\u63d0\u5347\u7cfb\u7edf\u7684\u53ef\u6269\u5c55\u6027\u548c\u5e76\u53d1\u6027\u901a\u5e38\u6709\u5782\u76f4\u6269\u5c55\uff08\u589e\u52a0\u5355\u4e2a\u8282\u70b9\u7684\u5904\u7406\u80fd\u529b\uff09\u548c\u6c34\u5e73\u6269\u5c55\uff08\u5c06\u5355\u4e2a\u8282\u70b9\u53d8\u6210\u591a\u4e2a\u8282\u70b9\uff09\u4e24\u79cd\u505a\u6cd5\u3002\u53ef\u4ee5\u901a\u8fc7\u6d88\u606f\u961f\u5217\u6765\u5b9e\u73b0\u5e94\u7528\u7a0b\u5e8f\u7684\u89e3\u8026\u5408\uff0c\u6d88\u606f\u961f\u5217\u76f8\u5f53\u4e8e\u662f\u591a\u7ebf\u7a0b\u540c\u6b65\u961f\u5217\u7684\u6269\u5c55\u7248\u672c\uff0c\u4e0d\u540c\u673a\u5668\u4e0a\u7684\u5e94\u7528\u7a0b\u5e8f\u76f8\u5f53\u4e8e\u5c31\u662f\u7ebf\u7a0b\uff0c\u800c\u5171\u4eab\u7684\u5206\u5e03\u5f0f\u6d88\u606f\u961f\u5217\u5c31\u662f\u539f\u6765\u7a0b\u5e8f\u4e2d\u7684Queue\u3002\u6d88\u606f\u961f\u5217\uff08\u9762\u5411\u6d88\u606f\u7684\u4e2d\u95f4\u4ef6\uff09\u7684\u6700\u6d41\u884c\u548c\u6700\u6807\u51c6\u5316\u7684\u5b9e\u73b0\u662fAMQP\uff08\u9ad8\u7ea7\u6d88\u606f\u961f\u5217\u534f\u8bae\uff09\uff0cAMQP\u6e90\u4e8e\u91d1\u878d\u884c\u4e1a\uff0c\u63d0\u4f9b\u4e86\u6392\u961f\u3001\u8def\u7531\u3001\u53ef\u9760\u4f20\u8f93\u3001\u5b89\u5168\u7b49\u529f\u80fd\uff0c\u6700\u8457\u540d\u7684\u5b9e\u73b0\u5305\u62ec\uff1aApache\u7684ActiveMQ\u3001RabbitMQ\u7b49\u3002</p> <p>\u8981\u5b9e\u73b0\u4efb\u52a1\u7684\u5f02\u6b65\u5316\uff0c\u53ef\u4ee5\u4f7f\u7528\u540d\u4e3aCelery\u7684\u4e09\u65b9\u5e93\u3002Celery\u662fPython\u7f16\u5199\u7684\u5206\u5e03\u5f0f\u4efb\u52a1\u961f\u5217\uff0c\u5b83\u4f7f\u7528\u5206\u5e03\u5f0f\u6d88\u606f\u8fdb\u884c\u5de5\u4f5c\uff0c\u53ef\u4ee5\u57fa\u4e8eRabbitMQ\u6216Redis\u6765\u4f5c\u4e3a\u540e\u7aef\u7684\u6d88\u606f\u4ee3\u7406\u3002</p> </li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/","title":"21.Web\u524d\u7aef\u6982\u8ff0","text":""},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#web","title":"Web\u524d\u7aef\u6982\u8ff0","text":"<p>\u8bf4\u660e\uff1a\u672c\u6587\u4f7f\u7528\u7684\u90e8\u5206\u63d2\u56fe\u6765\u81eaJon Duckett\u5148\u751f\u7684HTML and CSS: Design and Build Websites\u4e00\u4e66\uff0c\u8fd9\u662f\u4e00\u672c\u975e\u5e38\u68d2\u7684\u524d\u7aef\u5165\u95e8\u4e66\uff0c\u6709\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u5728\u4e9a\u9a6c\u900a\u6216\u8005\u5176\u4ed6\u7f51\u7ad9\u4e0a\u627e\u5230\u8be5\u4e66\u7684\u8d2d\u4e70\u94fe\u63a5\u3002</p>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#html","title":"HTML\u7b80\u53f2","text":"<ol> <li>1991\u5e7410\u6708\uff1a\u4e00\u4e2a\u975e\u6b63\u5f0fCERN\uff08\u6b27\u6d32\u6838\u5b50\u7814\u7a76\u4e2d\u5fc3\uff09\u6587\u4ef6\u9996\u6b21\u516c\u5f0018\u4e2aHTML\u6807\u7b7e\uff0c\u8fd9\u4e2a\u6587\u4ef6\u7684\u4f5c\u8005\u662f\u7269\u7406\u5b66\u5bb6\u8482\u59c6\u00b7\u4f2f\u7eb3\u65af-\u674e\uff0c\u56e0\u6b64\u4ed6\u662f\u4e07\u7ef4\u7f51\u7684\u53d1\u660e\u8005\uff0c\u4e5f\u662f\u4e07\u7ef4\u7f51\u8054\u76df\u7684\u4e3b\u5e2d\u3002</li> <li>1995\u5e7411\u6708\uff1aHTML 2.0\u6807\u51c6\u53d1\u5e03\uff08RFC 1866\uff09\u3002</li> <li>1997\u5e741\u6708\uff1aHTML 3.2\u4f5c\u4e3aW3C\u63a8\u8350\u6807\u51c6\u53d1\u5e03\u3002</li> <li>1997\u5e7412\u6708\uff1aHTML 4.0\u4f5c\u4e3aW3C\u63a8\u8350\u6807\u51c6\u53d1\u5e03\u3002</li> <li>1999\u5e7412\u6708\uff1aHTML4.01\u4f5c\u4e3aW3C\u63a8\u8350\u6807\u51c6\u53d1\u5e03\u3002</li> <li>2008\u5e741\u6708\uff1aHTML5\u7531W3C\u4f5c\u4e3a\u5de5\u4f5c\u8349\u6848\u53d1\u5e03\u3002</li> <li>2011\u5e745\u6708\uff1aW3C\u5c06HTML5\u63a8\u8fdb\u81f3\u201c\u6700\u7ec8\u5f81\u6c42\u201d\uff08Last Call\uff09\u9636\u6bb5\u3002</li> <li>2012\u5e7412\u6708\uff1aW3C\u6307\u5b9aHTML5\u4f5c\u4e3a\u201c\u5019\u9009\u63a8\u8350\u201d\u9636\u6bb5\u3002</li> <li>2014\u5e7410\u6708\uff1aHTML5\u4f5c\u4e3a\u7a33\u5b9aW3C\u63a8\u8350\u6807\u51c6\u53d1\u5e03\uff0c\u8fd9\u610f\u5473\u7740HTML5\u7684\u6807\u51c6\u5316\u5df2\u7ecf\u5b8c\u6210\u3002</li> </ol>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#html5","title":"HTML5\u65b0\u7279\u6027","text":"<ol> <li>\u5f15\u5165\u539f\u751f\u591a\u5a92\u4f53\u652f\u6301\uff08audio\u548cvideo\u6807\u7b7e\uff09</li> <li>\u5f15\u5165\u53ef\u7f16\u7a0b\u5185\u5bb9\uff08canvas\u6807\u7b7e\uff09</li> <li>\u5f15\u5165\u8bed\u4e49Web\uff08article\u3001aside\u3001details\u3001figure\u3001footer\u3001header\u3001nav\u3001section\u3001summary\u7b49\u6807\u7b7e\uff09</li> <li>\u5f15\u5165\u65b0\u7684\u8868\u5355\u63a7\u4ef6\uff08\u65e5\u5386\u3001\u90ae\u7bb1\u3001\u641c\u7d22\u3001\u6ed1\u6761\u7b49\uff09</li> <li>\u5f15\u5165\u5bf9\u79bb\u7ebf\u5b58\u50a8\u66f4\u597d\u7684\u652f\u6301\uff08localStorage\u548csessionStorage\uff09</li> <li>\u5f15\u5165\u5bf9\u5b9a\u4f4d\u3001\u62d6\u653e\u3001WebSocket\u3001\u540e\u53f0\u4efb\u52a1\u7b49\u7684\u652f\u6301</li> </ol>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#_1","title":"\u4f7f\u7528\u6807\u7b7e\u627f\u8f7d\u5185\u5bb9","text":""},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#_2","title":"\u7ed3\u6784","text":"<ul> <li>head</li> <li>title</li> <li>meta</li> <li>body</li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#_3","title":"\u6587\u672c","text":"<ul> <li>\u6807\u9898\u548c\u6bb5\u843d</li> <li>h1 ~ h6</li> <li>p</li> <li>\u4e0a\u6807\u548c\u4e0b\u6807</li> <li>sup</li> <li>sub</li> <li>\u7a7a\u767d\uff08\u767d\u8272\u7a7a\u95f4\u6298\u53e0\uff09</li> <li>\u6298\u884c\u548c\u6c34\u5e73\u6807\u5c3a</li> <li>br</li> <li>hr</li> <li>\u8bed\u4e49\u5316\u6807\u7b7e</li> <li>\u52a0\u7c97\u548c\u5f3a\u8c03 - strong</li> <li>\u5f15\u7528 - blockquote</li> <li>\u7f29\u5199\u8bcd\u548c\u9996\u5b57\u6bcd\u7f29\u5199\u8bcd - abbr / acronym</li> <li>\u5f15\u6587 - cite</li> <li>\u6240\u6709\u8005\u8054\u7cfb\u4fe1\u606f - address</li> <li>\u5185\u5bb9\u7684\u4fee\u6539 - ins / del</li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#list","title":"\u5217\u8868\uff08list\uff09","text":"<ul> <li>\u6709\u5e8f\u5217\u8868\uff08ordered list\uff09- ol / li</li> <li>\u65e0\u5e8f\u5217\u8868\uff08unordered list\uff09- ul / li</li> <li>\u5b9a\u4e49\u5217\u8868\uff08definition list\uff09- dl / dt / dd</li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#anchor","title":"\u94fe\u63a5\uff08anchor\uff09","text":"<ul> <li>\u9875\u9762\u94fe\u63a5</li> <li>\u951a\u94fe\u63a5</li> <li>\u529f\u80fd\u94fe\u63a5</li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#image","title":"\u56fe\u50cf\uff08image\uff09","text":"<ul> <li>\u56fe\u50cf\u5b58\u50a8\u4f4d\u7f6e</li> </ul> <ul> <li> <p>\u56fe\u50cf\u53ca\u5176\u5bbd\u9ad8</p> </li> <li> <p>\u9009\u62e9\u6b63\u786e\u7684\u56fe\u50cf\u683c\u5f0f</p> </li> <li>JPEG</li> <li>GIF</li> <li> <p>PNG</p> </li> <li> <p>\u77e2\u91cf\u56fe</p> </li> <li> <p>\u8bed\u4e49\u5316\u6807\u7b7e - figure / figcaption</p> </li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#table","title":"\u8868\u683c\uff08table\uff09","text":"<ul> <li>\u57fa\u672c\u7684\u8868\u683c\u7ed3\u6784 - table / tr / td</li> <li>\u8868\u683c\u7684\u6807\u9898 - caption</li> <li>\u8de8\u884c\u548c\u8de8\u5217 - rowspan\u5c5e\u6027 / colspan\u5c5e\u6027</li> <li>\u957f\u8868\u683c - thead / tbody / tfoot</li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#form","title":"\u8868\u5355\uff08form\uff09","text":"<ul> <li>\u91cd\u8981\u5c5e\u6027 - action / method</li> <li>\u8868\u5355\u63a7\u4ef6\uff08input\uff09- type\u5c5e\u6027</li> <li>\u6587\u672c\u6846 - text / \u5bc6\u7801\u6846 - password / \u6570\u5b57\u6846 - number</li> <li>\u90ae\u7bb1 - email / \u7535\u8bdd - tel / \u65e5\u671f - date / \u6ed1\u6761 - range / URL - url / \u641c\u7d22 - search</li> <li>\u5355\u9009\u6309\u94ae - radio / \u590d\u9009\u6309\u94ae - checkbox</li> <li>\u6587\u4ef6\u4e0a\u4f20 - file / \u9690\u85cf\u57df\uff08\u57cb\u70b9\uff09- hidden</li> <li>\u63d0\u4ea4\u6309\u94ae - submit / \u56fe\u50cf\u6309\u94ae - image  / \u91cd\u7f6e\u6309\u94ae - reset</li> <li>\u4e0b\u62c9\u5217\u8868 - select / option</li> <li>\u6587\u672c\u57df\uff08\u591a\u884c\u6587\u672c\uff09- textarea</li> <li>\u7ec4\u5408\u8868\u5355\u5143\u7d20 - fieldset / legend</li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#audio-video","title":"\u97f3\u89c6\u9891\uff08audio / video\uff09","text":"<ul> <li>\u89c6\u9891\u683c\u5f0f\u548c\u64ad\u653e\u5668</li> <li>\u89c6\u9891\u6258\u7ba1\u670d\u52a1</li> <li>\u6dfb\u52a0\u89c6\u9891\u7684\u51c6\u5907\u5de5\u4f5c</li> <li>video\u6807\u7b7e\u548c\u5c5e\u6027 - autoplay / controls / loop / muted / preload / src</li> <li>audio\u6807\u7b7e\u548c\u5c5e\u6027 - autoplay / controls / loop / muted / preload / src / width / height / poster</li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#_4","title":"\u5176\u4ed6","text":"<ul> <li> <p>\u6587\u6863\u7c7b\u578b</p> </li> <li> <p>\u6ce8\u91ca</p> </li> <li> <p>\u5c5e\u6027</p> </li> <li>id</li> <li> <p>class</p> </li> <li> <p>\u5757\u7ea7\u5143\u7d20 / \u884c\u7ea7\u5143\u7d20</p> </li> <li> <p>\u5185\u8054\u6846\u67b6\uff08internal frame\uff09</p> </li> <li> <p>\u5b57\u7b26\u5b9e\u4f53\uff08\u5b9e\u4f53\u66ff\u6362\u7b26\uff09</p> </li> </ul> <p></p>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#css","title":"\u4f7f\u7528CSS\u6e32\u67d3\u9875\u9762","text":""},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#_5","title":"\u7b80\u4ecb","text":"<ul> <li> <p>CSS\u7684\u4f5c\u7528</p> </li> <li> <p>CSS\u7684\u5de5\u4f5c\u539f\u7406</p> </li> <li> <p>\u89c4\u5219\u3001\u5c5e\u6027\u548c\u503c</p> </li> </ul> <p></p> <ul> <li>\u5e38\u7528\u9009\u62e9\u5668</li> </ul> <p></p>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#color","title":"\u989c\u8272\uff08color\uff09","text":"<ul> <li>\u5982\u4f55\u6307\u5b9a\u989c\u8272</li> <li>\u989c\u8272\u672f\u8bed\u548c\u989c\u8272\u5bf9\u6bd4</li> <li>\u80cc\u666f\u8272</li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#text-font","title":"\u6587\u672c\uff08text / font\uff09","text":"<ul> <li>\u6587\u672c\u7684\u5927\u5c0f\u548c\u5b57\u578b(font-size / font-family)</li> </ul> <ul> <li>\u7c97\u7ec6\u3001\u6837\u5f0f\u3001\u62c9\u4f38\u548c\u88c5\u9970(font-weight / font-style / font-stretch / text-decoration)</li> </ul> <ul> <li> <p>\u884c\u95f4\u8ddd(line-height)\u3001\u5b57\u6bcd\u95f4\u8ddd(letter-spacing)\u548c\u5355\u8bcd\u95f4\u8ddd(word-spacing)</p> </li> <li> <p>\u5bf9\u9f50(text-align)\u65b9\u5f0f\u548c\u7f29\u8fdb(text-ident)</p> </li> <li> <p>\u94fe\u63a5\u6837\u5f0f\uff08:link / :visited / :active / :hover\uff09</p> </li> <li> <p>CSS3\u65b0\u5c5e\u6027</p> </li> <li>\u9634\u5f71\u6548\u679c - text-shadow</li> <li>\u9996\u5b57\u6bcd\u548c\u9996\u884c\u6587\u672c(:first-letter / :first-line)</li> <li>\u54cd\u5e94\u7528\u6237</li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#box-model","title":"\u76d2\u5b50\uff08box model\uff09","text":"<ul> <li>\u76d2\u5b50\u5927\u5c0f\u7684\u63a7\u5236\uff08width / height\uff09</li> </ul> <ul> <li>\u76d2\u5b50\u7684\u8fb9\u6846\u3001\u5916\u8fb9\u8ddd\u548c\u5185\u8fb9\u8ddd\uff08border /  margin / padding\uff09</li> </ul> <ul> <li> <p>\u76d2\u5b50\u7684\u663e\u793a\u548c\u9690\u85cf\uff08display / visibility\uff09</p> </li> <li> <p>CSS3\u65b0\u5c5e\u6027</p> </li> <li>\u8fb9\u6846\u56fe\u50cf\uff08border-image\uff09</li> <li>\u6295\u5f71\uff08border-shadow\uff09</li> <li>\u5706\u89d2\uff08border-radius\uff09</li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#_6","title":"\u5217\u8868\u3001\u8868\u683c\u548c\u8868\u5355","text":"<ul> <li>\u5217\u8868\u7684\u9879\u76ee\u7b26\u53f7\uff08list-style\uff09</li> <li>\u8868\u683c\u7684\u8fb9\u6846\u548c\u80cc\u666f\uff08border-collapse\uff09</li> <li>\u8868\u5355\u63a7\u4ef6\u7684\u5916\u89c2</li> <li>\u8868\u5355\u63a7\u4ef6\u7684\u5bf9\u9f50</li> <li>\u6d4f\u89c8\u5668\u7684\u5f00\u53d1\u8005\u5de5\u5177</li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#_7","title":"\u56fe\u50cf","text":"<ul> <li>\u63a7\u5236\u56fe\u50cf\u7684\u5927\u5c0f\uff08display: inline-block\uff09</li> <li>\u5bf9\u9f50\u56fe\u50cf</li> <li>\u80cc\u666f\u56fe\u50cf\uff08background / background-image / background-repeat / background-position\uff09</li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#_8","title":"\u5e03\u5c40","text":"<ul> <li>\u63a7\u5236\u5143\u7d20\u7684\u4f4d\u7f6e\uff08position / z-index\uff09</li> <li>\u666e\u901a\u6d41</li> <li>\u76f8\u5bf9\u5b9a\u4f4d</li> <li>\u7edd\u5bf9\u5b9a\u4f4d</li> <li>\u56fa\u5b9a\u5b9a\u4f4d</li> <li>\u6d6e\u52a8\u5143\u7d20\uff08float / clear\uff09</li> <li> <p>\u7f51\u7ad9\u5e03\u5c40</p> </li> <li> <p>HTML5\u5e03\u5c40</p> <p> - \u9002\u914d\u5c4f\u5e55\u5c3a\u5bf8   - \u56fa\u5b9a\u5bbd\u5ea6\u5e03\u5c40   - \u6d41\u4f53\u5e03\u5c40   - \u5e03\u5c40\u7f51\u683c</p> </li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#javascript","title":"\u4f7f\u7528JavaScript\u63a7\u5236\u884c\u4e3a","text":""},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#javascript_1","title":"JavaScript\u57fa\u672c\u8bed\u6cd5","text":"<ul> <li>\u8bed\u53e5\u548c\u6ce8\u91ca</li> <li>\u53d8\u91cf\u548c\u6570\u636e\u7c7b\u578b</li> <li>\u58f0\u660e\u548c\u8d4b\u503c</li> <li>\u7b80\u5355\u6570\u636e\u7c7b\u578b\u548c\u590d\u6742\u6570\u636e\u7c7b\u578b</li> <li>\u53d8\u91cf\u7684\u547d\u540d\u89c4\u5219</li> <li>\u8868\u8fbe\u5f0f\u548c\u8fd0\u7b97\u7b26</li> <li>\u8d4b\u503c\u8fd0\u7b97\u7b26</li> <li>\u7b97\u672f\u8fd0\u7b97\u7b26</li> <li>\u6bd4\u8f83\u8fd0\u7b97\u7b26</li> <li>\u903b\u8f91\u8fd0\u7b97\u7b26</li> <li>\u5206\u652f\u7ed3\u6784</li> <li><code>if...else...</code></li> <li><code>switch...cas...default...</code></li> <li>\u5faa\u73af\u7ed3\u6784</li> <li><code>for</code>\u5faa\u73af</li> <li><code>while</code>\u5faa\u73af</li> <li><code>do...while</code>\u5faa\u73af</li> <li>\u6570\u7ec4</li> <li>\u521b\u5efa\u6570\u7ec4</li> <li>\u64cd\u4f5c\u6570\u7ec4\u4e2d\u7684\u5143\u7d20</li> <li>\u51fd\u6570</li> <li>\u58f0\u660e\u51fd\u6570</li> <li>\u8c03\u7528\u51fd\u6570</li> <li>\u53c2\u6570\u548c\u8fd4\u56de\u503c</li> <li>\u533f\u540d\u51fd\u6570</li> <li>\u7acb\u5373\u8c03\u7528\u51fd\u6570</li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#_9","title":"\u9762\u5411\u5bf9\u8c61","text":"<ul> <li>\u5bf9\u8c61\u7684\u6982\u5ff5</li> <li>\u521b\u5efa\u5bf9\u8c61\u7684\u5b57\u9762\u91cf\u8bed\u6cd5</li> <li>\u8bbf\u95ee\u6210\u5458\u8fd0\u7b97\u7b26</li> <li>\u521b\u5efa\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\u8bed\u6cd5<ul> <li><code>this</code>\u5173\u952e\u5b57</li> </ul> </li> <li>\u6dfb\u52a0\u548c\u5220\u9664\u5c5e\u6027<ul> <li><code>delete</code>\u5173\u952e\u5b57</li> </ul> </li> <li>\u6807\u51c6\u5bf9\u8c61<ul> <li><code>Number</code> / <code>String</code> / <code>Boolean</code> / <code>Symbol</code> / <code>Array</code> / <code>Function</code> </li> <li><code>Date</code> / <code>Error</code> / <code>Math</code> / <code>RegEx</code> / <code>Object</code> / <code>Map</code> / <code>Set</code></li> <li><code>JSON</code> / <code>Promise</code> / <code>Generator</code> / <code>Reflect</code> / <code>Proxy</code></li> </ul> </li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#bom","title":"BOM","text":"<ul> <li><code>window</code>\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5</li> <li><code>history</code>\u5bf9\u8c61<ul> <li><code>forward()</code> / <code>back()</code> / <code>go()</code></li> </ul> </li> <li><code>location</code>\u5bf9\u8c61</li> <li><code>navigator</code>\u5bf9\u8c61</li> <li><code>screen</code>\u5bf9\u8c61</li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#dom","title":"DOM","text":"<ul> <li>DOM\u6811</li> <li>\u8bbf\u95ee\u5143\u7d20<ul> <li><code>getElementById()</code> / <code>querySelector()</code></li> <li><code>getElementsByClassName()</code> / <code>getElementsByTagName()</code> / <code>querySelectorAll()</code></li> <li><code>parentNode</code> / <code>previousSibling</code> / <code>nextSibling</code> / <code>children</code> / <code>firstChild</code> / <code>lastChild</code></li> </ul> </li> <li>\u64cd\u4f5c\u5143\u7d20</li> <li><code>nodeValue</code></li> <li><code>innerHTML</code> / <code>textContent</code> / <code>createElement()</code> / <code>createTextNode()</code> / <code>appendChild()</code> / <code>insertBefore()</code> / <code>removeChild()</code></li> <li><code>className</code> / <code>id</code> / <code>hasAttribute()</code> / <code>getAttribute()</code> / <code>setAttribute()</code> / <code>removeAttribute()</code></li> <li>\u4e8b\u4ef6\u5904\u7406</li> <li>\u4e8b\u4ef6\u7c7b\u578b<ul> <li>UI\u4e8b\u4ef6\uff1a<code>load</code> / <code>unload</code> / <code>error</code> / <code>resize</code> / <code>scroll</code></li> <li>\u952e\u76d8\u4e8b\u4ef6\uff1a<code>keydown</code> / <code>keyup</code> / <code>keypress</code></li> <li>\u9f20\u6807\u4e8b\u4ef6\uff1a<code>click</code> / <code>dbclick</code> / <code>mousedown</code> / <code>mouseup</code> / <code>mousemove</code> / <code>mouseover</code> / <code>mouseout</code></li> <li>\u7126\u70b9\u4e8b\u4ef6\uff1a<code>focus</code> / <code>blur</code></li> <li>\u8868\u5355\u4e8b\u4ef6\uff1a<code>input</code> / <code>change</code> / <code>submit</code> / <code>reset</code> / <code>cut</code> / <code>copy</code> / <code>paste</code> / <code>select</code></li> </ul> </li> <li>\u4e8b\u4ef6\u7ed1\u5b9a<ul> <li>HTML\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff08\u4e0d\u63a8\u8350\u4f7f\u7528\uff0c\u56e0\u4e3a\u8981\u505a\u5230\u6807\u7b7e\u4e0e\u4ee3\u7801\u5206\u79bb\uff09</li> <li>\u4f20\u7edf\u7684DOM\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff08\u53ea\u80fd\u9644\u52a0\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff09</li> <li>\u4e8b\u4ef6\u76d1\u542c\u5668\uff08\u65e7\u7684\u6d4f\u89c8\u5668\u4e2d\u4e0d\u88ab\u652f\u6301\uff09</li> </ul> </li> <li>\u4e8b\u4ef6\u6d41\uff1a\u4e8b\u4ef6\u6355\u83b7 / \u4e8b\u4ef6\u5192\u6ce1</li> <li>\u4e8b\u4ef6\u5bf9\u8c61\uff08\u4f4e\u7248\u672cIE\u4e2d\u7684window.event\uff09<ul> <li><code>target</code>\uff08\u6709\u4e9b\u6d4f\u89c8\u5668\u4f7f\u7528srcElement\uff09</li> <li><code>type</code></li> <li><code>cancelable</code></li> <li><code>preventDefault()</code></li> <li><code>stopPropagation()</code>\uff08\u4f4e\u7248\u672cIE\u4e2d\u7684cancelBubble\uff09</li> </ul> </li> <li>\u9f20\u6807\u4e8b\u4ef6 - \u4e8b\u4ef6\u53d1\u751f\u7684\u4f4d\u7f6e<ul> <li>\u5c4f\u5e55\u4f4d\u7f6e\uff1a<code>screenX</code>\u548c<code>screenY</code></li> <li>\u9875\u9762\u4f4d\u7f6e\uff1a<code>pageX</code>\u548c<code>pageY</code></li> <li>\u5ba2\u6237\u7aef\u4f4d\u7f6e\uff1a<code>clientX</code>\u548c<code>clientY</code></li> </ul> </li> <li>\u952e\u76d8\u4e8b\u4ef6 - \u54ea\u4e2a\u952e\u88ab\u6309\u4e0b\u4e86<ul> <li><code>keyCode</code>\u5c5e\u6027\uff08\u6709\u4e9b\u6d4f\u89c8\u5668\u4f7f\u7528<code>which</code>\uff09</li> <li><code>String.fromCharCode(event.keyCode)</code></li> </ul> </li> <li>HTML5\u4e8b\u4ef6<ul> <li><code>DOMContentLoaded</code></li> <li><code>hashchange</code></li> <li><code>beforeunload</code></li> </ul> </li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#javascript-api","title":"JavaScript API","text":"<ul> <li>\u5ba2\u6237\u7aef\u5b58\u50a8 - <code>localStorage</code>\u548c<code>sessionStorage</code></li> </ul> <pre><code>localStorage.colorSetting = '#a4509b';\nlocalStorage['colorSetting'] = '#a4509b';\nlocalStorage.setItem('colorSetting', '#a4509b');\n</code></pre> <ul> <li>\u83b7\u53d6\u4f4d\u7f6e\u4fe1\u606f - <code>geolocation</code></li> </ul> <pre><code>navigator.geolocation.getCurrentPosition(function(pos) {\n    console.log(pos.coords.latitude)\n    console.log(pos.coords.longitude)\n})\n</code></pre> <ul> <li>\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u6570\u636e - Fetch API</li> <li>\u7ed8\u5236\u56fe\u5f62 - <code>&lt;canvas&gt;</code>\u7684API</li> <li>\u97f3\u89c6\u9891 - <code>&lt;audio&gt;</code>\u548c<code>&lt;video&gt;</code>\u7684API</li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#jquery","title":"\u4f7f\u7528jQuery","text":""},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#jquery_1","title":"jQuery\u6982\u8ff0","text":"<ol> <li>Write Less Do More\uff08\u7528\u66f4\u5c11\u7684\u4ee3\u7801\u6765\u5b8c\u6210\u66f4\u591a\u7684\u5de5\u4f5c\uff09</li> <li>\u4f7f\u7528CSS\u9009\u62e9\u5668\u6765\u67e5\u627e\u5143\u7d20\uff08\u66f4\u7b80\u5355\u66f4\u65b9\u4fbf\uff09</li> <li>\u4f7f\u7528jQuery\u65b9\u6cd5\u6765\u64cd\u4f5c\u5143\u7d20\uff08\u89e3\u51b3\u6d4f\u89c8\u5668\u517c\u5bb9\u6027\u95ee\u9898\u3001\u5e94\u7528\u4e8e\u6240\u6709\u5143\u7d20\u5e76\u65bd\u52a0\u591a\u4e2a\u65b9\u6cd5\uff09</li> </ol>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#jquery_2","title":"\u5f15\u5165jQuery","text":"<ul> <li>\u4e0b\u8f7djQuery\u7684\u5f00\u53d1\u7248\u548c\u538b\u7f29\u7248</li> <li>\u4eceCDN\u52a0\u8f7djQuery</li> </ul> <pre><code>&lt;script src=\"https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    window.jQuery || \n        document.write('&lt;script src=\"js/jquery-3.3.1.min.js\"&gt;&lt;/script&gt;')\n&lt;/script&gt;\n</code></pre>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#_10","title":"\u67e5\u627e\u5143\u7d20","text":"<ul> <li>\u9009\u62e9\u5668</li> <li>* / element / #id / .class / selector1, selector2</li> <li>ancestor descendant / parent&gt;child / previous+next / previous~siblings </li> <li>\u7b5b\u9009\u5668</li> <li>\u57fa\u672c\u7b5b\u9009\u5668\uff1a:not(selector) / :first / :last / :even / :odd / :eq(index) / :gt(index) / :lt(index) / :animated / :focus</li> <li>\u5185\u5bb9\u7b5b\u9009\u5668\uff1a:contains('\u2026') / :empty / :parent / :has(selector)</li> <li>\u53ef\u89c1\u6027\u7b5b\u9009\u5668\uff1a:hidden / :visible</li> <li>\u5b50\u8282\u70b9\u7b5b\u9009\u5668\uff1a:nth-child(expr) / :first-child / :last-child / :only-child</li> <li>\u5c5e\u6027\u7b5b\u9009\u5668\uff1a[attribute] / [attribute='value'] / [attribute!='value'] / [attribute^='value'] / [attribute$='value'] / [attribute|='value'] / [attribute~='value']</li> <li>\u8868\u5355\uff1a:input / :text / :password / :radio / :checkbox / :submit / :image / :reset / :button / :file / :selected / :enabled / :disabled / :checked</li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#_11","title":"\u6267\u884c\u64cd\u4f5c","text":"<ul> <li>\u5185\u5bb9\u64cd\u4f5c</li> <li>\u83b7\u53d6/\u4fee\u6539\u5185\u5bb9\uff1a<code>html()</code> / <code>text()</code> / <code>replaceWith()</code> / <code>remove()</code></li> <li>\u83b7\u53d6/\u8bbe\u7f6e\u5143\u7d20\uff1a<code>before()</code> / <code>after()</code> / <code>prepend()</code> / <code>append()</code> / <code>remove()</code> / <code>clone()</code> / <code>unwrap()</code> / <code>detach()</code> / <code>empty()</code> / <code>add()</code></li> <li>\u83b7\u53d6/\u4fee\u6539\u5c5e\u6027\uff1a<code>attr()</code> / <code>removeAttr()</code> / <code>addClass()</code> / <code>removeClass()</code> / <code>css()</code></li> <li>\u83b7\u53d6/\u8bbe\u7f6e\u8868\u5355\u503c\uff1a<code>val()</code></li> <li>\u67e5\u627e\u64cd\u4f5c</li> <li>\u67e5\u627e\u65b9\u6cd5\uff1a<code>find()</code> /  <code>parent()</code> / <code>children()</code> / <code>siblings()</code> / <code>next()</code> / <code>nextAll()</code> / <code>prev()</code> / <code>prevAll()</code></li> <li>\u7b5b\u9009\u5668\uff1a<code>filter()</code> / <code>not()</code> / <code>has()</code> / <code>is()</code> / <code>contains()</code></li> <li>\u7d22\u5f15\u7f16\u53f7\uff1a<code>eq()</code></li> <li>\u5c3a\u5bf8\u548c\u4f4d\u7f6e</li> <li>\u5c3a\u5bf8\u76f8\u5173\uff1a<code>height()</code> / <code>width()</code> / <code>innerHeight()</code> / <code>innerWidth()</code> / <code>outerWidth()</code> / <code>outerHeight()</code></li> <li>\u4f4d\u7f6e\u76f8\u5173\uff1a<code>offset()</code> / <code>position()</code> / <code>scrollLeft()</code> / <code>scrollTop()</code></li> <li>\u7279\u6548\u548c\u52a8\u753b</li> <li>\u57fa\u672c\u52a8\u753b\uff1a<code>show()</code> / <code>hide()</code> / <code>toggle()</code></li> <li>\u6d88\u5931\u51fa\u73b0\uff1a<code>fadeIn()</code> / <code>fadeOut()</code> / <code>fadeTo()</code> / <code>fadeToggle()</code></li> <li>\u6ed1\u52a8\u6548\u679c\uff1a<code>slideDown()</code> / <code>slideUp()</code> / <code>slideToggle()</code></li> <li>\u81ea\u5b9a\u4e49\uff1a<code>delay()</code> / <code>stop()</code> / <code>animate()</code></li> <li>\u4e8b\u4ef6</li> <li>\u6587\u6863\u52a0\u8f7d\uff1a<code>ready()</code> / <code>load()</code></li> <li>\u7528\u6237\u4ea4\u4e92\uff1a<code>on()</code> / <code>off()</code></li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#_12","title":"\u94fe\u5f0f\u64cd\u4f5c","text":""},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#_13","title":"\u68c0\u6d4b\u9875\u9762\u662f\u5426\u53ef\u7528","text":"<pre><code>&lt;script&gt;\n    $(document).ready(function() {\n\n    });\n&lt;/script&gt;\n</code></pre> <pre><code>&lt;script&gt;\n    $(function() {\n\n    });\n&lt;/script&gt;\n</code></pre>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#jquery_3","title":"jQuery\u63d2\u4ef6","text":"<ul> <li>jQuery Validation</li> <li>jQuery Treeview</li> <li>jQuery Autocomplete</li> <li>jQuery UI</li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#_14","title":"\u907f\u514d\u548c\u5176\u4ed6\u5e93\u7684\u51b2\u7a81","text":"<p>\u5148\u5f15\u5165\u5176\u4ed6\u5e93\u518d\u5f15\u5165jQuery\u7684\u60c5\u51b5\u3002</p> <pre><code>&lt;script src=\"other.js\"&gt;&lt;/script&gt;\n&lt;script src=\"jquery.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    jQuery.noConflict();\n    jQuery(function() {\n        jQuery('div').hide();\n    });\n&lt;/script&gt;\n</code></pre> <p>\u5148\u5f15\u5165jQuery\u518d\u5f15\u5165\u5176\u4ed6\u5e93\u7684\u60c5\u51b5\u3002</p> <pre><code>&lt;script src=\"jquery.js\"&gt;&lt;/script&gt;\n&lt;script src=\"other.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    jQuery(function() {\n        jQuery('div').hide();\n    });\n&lt;/script&gt;\n</code></pre>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#ajax","title":"\u4f7f\u7528Ajax","text":"<p>Ajax\u662f\u4e00\u79cd\u5728\u65e0\u9700\u91cd\u65b0\u52a0\u8f7d\u6574\u4e2a\u7f51\u9875\u7684\u60c5\u51b5\u4e0b\uff0c\u80fd\u591f\u66f4\u65b0\u90e8\u5206\u7f51\u9875\u7684\u6280\u672f\u3002</p> <ul> <li>\u539f\u751f\u7684Ajax</li> <li>\u57fa\u4e8ejQuery\u7684Ajax</li> <li>\u52a0\u8f7d\u5185\u5bb9</li> <li>\u63d0\u4ea4\u8868\u5355</li> </ul>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#_15","title":"\u524d\u7aef\u6846\u67b6","text":""},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#-vuejs","title":"\u6e10\u8fdb\u5f0f\u6846\u67b6 - Vue.js","text":"<p>\u524d\u540e\u7aef\u5206\u79bb\u5f00\u53d1\uff08\u524d\u7aef\u6e32\u67d3\uff09\u5fc5\u9009\u6846\u67b6\u3002</p>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#_16","title":"\u5feb\u901f\u4e0a\u624b","text":"<ol> <li>\u5f15\u5165Vue\u7684JavaScript\u6587\u4ef6\uff0c\u6211\u4eec\u4ecd\u7136\u63a8\u8350\u4eceCDN\u670d\u52a1\u5668\u52a0\u8f7d\u5b83\u3002</li> </ol> <pre><code>&lt;script src=\"https://cdn.jsdelivr.net/npm/vue\"&gt;&lt;/script&gt;\n</code></pre> <ol> <li>\u6570\u636e\u7ed1\u5b9a\uff08\u58f0\u660e\u5f0f\u6e32\u67d3 \uff09\u3002</li> </ol> <pre><code>&lt;div id=\"app\"&gt;\n &lt;h1&gt;{{ product }}\u5e93\u5b58\u4fe1\u606f&lt;/h1&gt;\n&lt;/div&gt;\n\n&lt;script src=\"https://cdn.jsdelivr.net/npm/vue\"&gt;&lt;/script&gt;\n&lt;script&gt;\n const app = new Vue({\n     el: '#app',\n     data: {\n         product: 'iPhone X'\n     }\n });\n&lt;/script&gt;\n</code></pre> <ol> <li>\u6761\u4ef6\u4e0e\u5faa\u73af\u3002</li> </ol> <pre><code>&lt;div id=\"app\"&gt;\n &lt;h1&gt;\u5e93\u5b58\u4fe1\u606f&lt;/h1&gt;\n    &lt;hr&gt;\n &lt;ul&gt;\n     &lt;li v-for=\"product in products\"&gt;\n         {{ product.name }} - {{ product.quantity }}\n         &lt;span v-if=\"product.quantity === 0\"&gt;\n             \u5df2\u7ecf\u552e\u7f44\n         &lt;/span&gt;\n     &lt;/li&gt;\n &lt;/ul&gt;\n&lt;/div&gt;\n\n&lt;script src=\"https://cdn.jsdelivr.net/npm/vue\"&gt;&lt;/script&gt;\n&lt;script&gt;\n const app = new Vue({\n     el: '#app',\n     data: {\n         products: [\n             {\"id\": 1, \"name\": \"iPhone X\", \"quantity\": 20},\n             {\"id\": 2, \"name\": \"\u534e\u4e3a Mate20\", \"quantity\": 0},\n             {\"id\": 3, \"name\": \"\u5c0f\u7c73 Mix3\", \"quantity\": 50}\n         ]\n     }\n });\n&lt;/script&gt;\n</code></pre> <ol> <li>\u8ba1\u7b97\u5c5e\u6027\u3002</li> </ol> <pre><code>&lt;div id=\"app\"&gt;\n &lt;h1&gt;\u5e93\u5b58\u4fe1\u606f&lt;/h1&gt;\n &lt;hr&gt;\n &lt;ul&gt;\n     &lt;li v-for=\"product in products\"&gt;\n         {{ product.name }} - {{ product.quantity }}\n         &lt;span v-if=\"product.quantity === 0\"&gt;\n             \u5df2\u7ecf\u552e\u7f44\n         &lt;/span&gt;\n     &lt;/li&gt;\n &lt;/ul&gt;\n &lt;h2&gt;\u5e93\u5b58\u603b\u91cf\uff1a{{ totalQuantity }}\u53f0&lt;/h2&gt;\n&lt;/div&gt;\n\n&lt;script src=\"https://cdn.jsdelivr.net/npm/vue\"&gt;&lt;/script&gt;\n&lt;script&gt;\n const app = new Vue({\n     el: '#app',\n     data: {\n         products: [\n             {\"id\": 1, \"name\": \"iPhone X\", \"quantity\": 20},\n             {\"id\": 2, \"name\": \"\u534e\u4e3a Mate20\", \"quantity\": 0},\n             {\"id\": 3, \"name\": \"\u5c0f\u7c73 Mix3\", \"quantity\": 50}\n         ]\n     },\n     computed: {\n         totalQuantity() {\n             return this.products.reduce((sum, product) =&gt; {\n                 return sum + product.quantity\n             }, 0);\n         }\n     }\n });\n&lt;/script&gt;\n</code></pre> <ol> <li>\u5904\u7406\u4e8b\u4ef6\u3002</li> </ol> <pre><code>&lt;div id=\"app\"&gt;\n &lt;h1&gt;\u5e93\u5b58\u4fe1\u606f&lt;/h1&gt;\n &lt;hr&gt;\n &lt;ul&gt;\n     &lt;li v-for=\"product in products\"&gt;\n         {{ product.name }} - {{ product.quantity }}\n         &lt;span v-if=\"product.quantity === 0\"&gt;\n             \u5df2\u7ecf\u552e\u7f44\n         &lt;/span&gt;\n         &lt;button @click=\"product.quantity += 1\"&gt;\n             \u589e\u52a0\u5e93\u5b58\n         &lt;/button&gt;\n     &lt;/li&gt;\n &lt;/ul&gt;\n &lt;h2&gt;\u5e93\u5b58\u603b\u91cf\uff1a{{ totalQuantity }}\u53f0&lt;/h2&gt;\n&lt;/div&gt;\n\n&lt;script src=\"https://cdn.jsdelivr.net/npm/vue\"&gt;&lt;/script&gt;\n&lt;script&gt;\n const app = new Vue({\n     el: '#app',\n     data: {\n         products: [\n             {\"id\": 1, \"name\": \"iPhone X\", \"quantity\": 20},\n             {\"id\": 2, \"name\": \"\u534e\u4e3a Mate20\", \"quantity\": 0},\n             {\"id\": 3, \"name\": \"\u5c0f\u7c73 Mix3\", \"quantity\": 50}\n         ]\n     },\n     computed: {\n         totalQuantity() {\n             return this.products.reduce((sum, product) =&gt; {\n                 return sum + product.quantity\n             }, 0);\n         }\n     }\n });\n&lt;/script&gt;\n</code></pre> <ol> <li>\u7528\u6237\u8f93\u5165\u3002</li> </ol> <pre><code>&lt;div id=\"app\"&gt;\n &lt;h1&gt;\u5e93\u5b58\u4fe1\u606f&lt;/h1&gt;\n &lt;hr&gt;\n &lt;ul&gt;\n     &lt;li v-for=\"product in products\"&gt;\n         {{ product.name }} - \n         &lt;input type=\"number\" v-model.number=\"product.quantity\" min=\"0\"&gt;\n         &lt;span v-if=\"product.quantity === 0\"&gt;\n             \u5df2\u7ecf\u552e\u7f44\n         &lt;/span&gt;\n         &lt;button @click=\"product.quantity += 1\"&gt;\n             \u589e\u52a0\u5e93\u5b58\n         &lt;/button&gt;\n     &lt;/li&gt;\n &lt;/ul&gt;\n &lt;h2&gt;\u5e93\u5b58\u603b\u91cf\uff1a{{ totalQuantity }}\u53f0&lt;/h2&gt;\n&lt;/div&gt;\n\n&lt;script src=\"https://cdn.jsdelivr.net/npm/vue\"&gt;&lt;/script&gt;\n&lt;script&gt;\n const app = new Vue({\n     el: '#app',\n     data: {\n         products: [\n             {\"id\": 1, \"name\": \"iPhone X\", \"quantity\": 20},\n             {\"id\": 2, \"name\": \"\u534e\u4e3a Mate20\", \"quantity\": 0},\n             {\"id\": 3, \"name\": \"\u5c0f\u7c73 Mix3\", \"quantity\": 50}\n         ]\n     },\n     computed: {\n         totalQuantity() {\n             return this.products.reduce((sum, product) =&gt; {\n                 return sum + product.quantity\n             }, 0);\n         }\n     }\n });\n&lt;/script&gt;\n</code></pre> <ol> <li>\u901a\u8fc7\u7f51\u7edc\u52a0\u8f7dJSON\u6570\u636e\u3002</li> </ol> <pre><code>&lt;div id=\"app\"&gt;\n &lt;h2&gt;\u5e93\u5b58\u4fe1\u606f&lt;/h2&gt;\n &lt;ul&gt;\n     &lt;li v-for=\"product in products\"&gt;\n         {{ product.name }} - {{ product.quantity }}\n         &lt;span v-if=\"product.quantity === 0\"&gt;\n             \u5df2\u7ecf\u552e\u7f44\n         &lt;/span&gt;\n     &lt;/li&gt;\n &lt;/ul&gt;\n&lt;/div&gt;\n\n&lt;script src=\"https://cdn.jsdelivr.net/npm/vue\"&gt;&lt;/script&gt;\n&lt;script&gt;\n const app = new Vue({\n     el: '#app',\n     data: {\n         products: []\n     }\uff0c\n     created() {\n         fetch('https://jackfrued.top/api/products')\n             .then(response =&gt; response.json())\n             .then(json =&gt; {\n                 this.products = json\n             });\n     }\n });\n&lt;/script&gt;\n</code></pre>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#-vue-cli","title":"\u4f7f\u7528\u811a\u624b\u67b6 - vue-cli","text":"<p>Vue\u4e3a\u5546\u4e1a\u9879\u76ee\u5f00\u53d1\u63d0\u4f9b\u4e86\u975e\u5e38\u4fbf\u6377\u7684\u811a\u624b\u67b6\u5de5\u5177vue-cli\uff0c\u901a\u8fc7\u5de5\u5177\u53ef\u4ee5\u7701\u53bb\u624b\u5de5\u914d\u7f6e\u5f00\u53d1\u73af\u5883\u3001\u6d4b\u8bd5\u73af\u5883\u548c\u8fd0\u884c\u73af\u5883\u7684\u6b65\u9aa4\uff0c\u8ba9\u5f00\u53d1\u8005\u53ea\u9700\u8981\u5173\u6ce8\u8981\u89e3\u51b3\u7684\u95ee\u9898\u3002</p> <ol> <li>\u5b89\u88c5\u811a\u624b\u67b6\u3002</li> <li>\u521b\u5efa\u9879\u76ee\u3002</li> <li>\u5b89\u88c5\u4f9d\u8d56\u5305\u3002</li> <li>\u8fd0\u884c\u9879\u76ee\u3002</li> </ol>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#ui-element","title":"UI\u6846\u67b6 - Element","text":"<p>\u57fa\u4e8eVue 2.0\u7684\u684c\u9762\u7aef\u7ec4\u4ef6\u5e93\uff0c\u7528\u4e8e\u6784\u9020\u7528\u6237\u754c\u9762\uff0c\u652f\u6301\u54cd\u5e94\u5f0f\u5e03\u5c40\u3002</p> <ol> <li>\u5f15\u5165Element\u7684CSS\u548cJavaScript\u6587\u4ef6\u3002</li> </ol> <pre><code>&lt;!-- \u5f15\u5165\u6837\u5f0f --&gt;\n&lt;link rel=\"stylesheet\" href=\"https://unpkg.com/element-ui/lib/theme-chalk/index.css\"&gt;\n&lt;!-- \u5f15\u5165\u7ec4\u4ef6\u5e93 --&gt;\n&lt;script src=\"https://unpkg.com/element-ui/lib/index.js\"&gt;&lt;/script&gt;\n</code></pre> <ol> <li>\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u3002</li> </ol> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n &lt;head&gt;\n     &lt;meta charset=\"UTF-8\"&gt;\n     &lt;link rel=\"stylesheet\" href=\"https://unpkg.com/element-ui/lib/theme-chalk/index.css\"&gt;\n &lt;/head&gt;\n &lt;body&gt;\n     &lt;div id=\"app\"&gt;\n         &lt;el-button @click=\"visible = true\"&gt;\u70b9\u6211&lt;/el-button&gt;\n         &lt;el-dialog :visible.sync=\"visible\" title=\"Hello world\"&gt;\n             &lt;p&gt;\u5f00\u59cb\u4f7f\u7528Element\u5427&lt;/p&gt;\n         &lt;/el-dialog&gt;\n            &lt;/div&gt;\n &lt;/body&gt;\n &lt;script src=\"https://unpkg.com/vue/dist/vue.js\"&gt;&lt;/script&gt;\n &lt;script src=\"https://unpkg.com/element-ui/lib/index.js\"&gt;&lt;/script&gt;\n &lt;script&gt;\n     new Vue({\n         el: '#app',\n         data: {\n             visible: false,\n         }\n     })\n &lt;/script&gt;\n&lt;/html&gt;\n</code></pre> <ol> <li>\u4f7f\u7528\u7ec4\u4ef6\u3002</li> </ol> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n &lt;head&gt;\n     &lt;meta charset=\"UTF-8\"&gt;\n     &lt;link rel=\"stylesheet\" href=\"https://unpkg.com/element-ui/lib/theme-chalk/index.css\"&gt;\n &lt;/head&gt;\n &lt;body&gt;\n     &lt;div id=\"app\"&gt;\n         &lt;el-table :data=\"tableData\" stripe style=\"width: 100%\"&gt;\n             &lt;el-table-column prop=\"date\" label=\"\u65e5\u671f\" width=\"180\"&gt;\n             &lt;/el-table-column&gt;\n             &lt;el-table-column prop=\"name\" label=\"\u59d3\u540d\" width=\"180\"&gt;\n             &lt;/el-table-column&gt;\n             &lt;el-table-column prop=\"address\" label=\"\u5730\u5740\"&gt;\n             &lt;/el-table-column&gt;\n         &lt;/el-table&gt;\n     &lt;/div&gt;\n &lt;/body&gt;\n &lt;script src=\"https://unpkg.com/vue/dist/vue.js\"&gt;&lt;/script&gt;\n &lt;script src=\"https://unpkg.com/element-ui/lib/index.js\"&gt;&lt;/script&gt;\n &lt;script&gt;\n     new Vue({\n         el: '#app',\n         data: {\n             tableData:  [\n                 {\n                     date: '2016-05-02',\n                     name: '\u738b\u4e00\u9738',\n                     address: '\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04'\n                 }, \n                 {\n                     date: '2016-05-04',\n                     name: '\u5218\u4e8c\u72d7',\n                     address: '\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04'\n                 }, \n                 {\n                     date: '2016-05-01',\n                     name: '\u6768\u4e09\u840c',\n                     address: '\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04'\n                 }, \n                 {\n                     date: '2016-05-03',\n                     name: '\u9648\u56db\u5439',\n                     address: '\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04'\n                 }\n             ]\n         }\n     })\n &lt;/script&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#-echarts","title":"\u62a5\u8868\u6846\u67b6 - ECharts","text":"<p>\u767e\u5ea6\u51fa\u54c1\u7684\u5f00\u6e90\u53ef\u89c6\u5316\u5e93\uff0c\u5e38\u7528\u4e8e\u751f\u6210\u5404\u79cd\u7c7b\u578b\u7684\u62a5\u8868\u3002</p> <p></p>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#css-bulma","title":"\u57fa\u4e8e\u5f39\u6027\u76d2\u5b50\u7684CSS\u6846\u67b6 - Bulma","text":"<p>Bulma\u662f\u4e00\u4e2a\u57fa\u4e8eFlexbox\u7684\u73b0\u4ee3\u5316\u7684CSS\u6846\u67b6\uff0c\u5176\u521d\u8877\u5c31\u662f\u79fb\u52a8\u4f18\u5148\uff08Mobile First\uff09\uff0c\u6a21\u5757\u5316\u8bbe\u8ba1\uff0c\u53ef\u4ee5\u8f7b\u677e\u7528\u6765\u5b9e\u73b0\u5404\u79cd\u7b80\u5355\u6216\u8005\u590d\u6742\u7684\u5185\u5bb9\u5e03\u5c40\uff0c\u5373\u4f7f\u4e0d\u61c2CSS\u7684\u5f00\u53d1\u8005\u4e5f\u80fd\u591f\u4f7f\u7528\u5b83\u5b9a\u5236\u51fa\u6f02\u4eae\u7684\u9875\u9762\u3002</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Bulma&lt;/title&gt;\n    &lt;link href=\"https://cdn.bootcss.com/bulma/0.7.4/css/bulma.min.css\" rel=\"stylesheet\"&gt;\n    &lt;style type=\"text/css\"&gt;\n        div { margin-top: 10px; }\n        .column { color: #fff; background-color: #063; margin: 10px 10px; text-align: center; }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\"columns\"&gt;\n        &lt;div class=\"column\"&gt;1&lt;/div&gt;\n        &lt;div class=\"column\"&gt;2&lt;/div&gt;\n        &lt;div class=\"column\"&gt;3&lt;/div&gt;\n        &lt;div class=\"column\"&gt;4&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;a class=\"button is-primary\"&gt;Primary&lt;/a&gt;\n        &lt;a class=\"button is-link\"&gt;Link&lt;/a&gt;\n        &lt;a class=\"button is-info\"&gt;Info&lt;/a&gt;\n        &lt;a class=\"button is-success\"&gt;Success&lt;/a&gt;\n        &lt;a class=\"button is-warning\"&gt;Warning&lt;/a&gt;\n        &lt;a class=\"button is-danger\"&gt;Danger&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;progress class=\"progress is-danger is-medium\" max=\"100\"&gt;60%&lt;/progress&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;table class=\"table is-hoverable\"&gt;\n            &lt;tr&gt;\n                &lt;th&gt;One&lt;/th&gt;\n                &lt;th&gt;Two&lt;/th&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Three&lt;/td&gt;\n                &lt;td&gt;Four&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Five&lt;/td&gt;\n                &lt;td&gt;Six&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Seven&lt;/td&gt;\n                &lt;td&gt;Eight&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Nine&lt;/td&gt;\n                &lt;td&gt;Ten&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Eleven&lt;/td&gt;\n                &lt;td&gt;Twelve&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"python/Py-100Days/Day21-30/21.Web%E5%89%8D%E7%AB%AF%E6%A6%82%E8%BF%B0/#-bootstrap","title":"\u54cd\u5e94\u5f0f\u5e03\u5c40\u6846\u67b6 - Bootstrap","text":"<p>\u7528\u4e8e\u5feb\u901f\u5f00\u53d1Web\u5e94\u7528\u7a0b\u5e8f\u7684\u524d\u7aef\u6846\u67b6\uff0c\u652f\u6301\u54cd\u5e94\u5f0f\u5e03\u5c40\u3002</p> <ol> <li>\u7279\u70b9</li> <li>\u652f\u6301\u4e3b\u6d41\u7684\u6d4f\u89c8\u5668\u548c\u79fb\u52a8\u8bbe\u5907</li> <li>\u5bb9\u6613\u4e0a\u624b</li> <li> <p>\u54cd\u5e94\u5f0f\u8bbe\u8ba1</p> </li> <li> <p>\u5185\u5bb9</p> </li> <li>\u7f51\u683c\u7cfb\u7edf</li> <li>\u5c01\u88c5\u7684CSS</li> <li>\u73b0\u6210\u7684\u7ec4\u4ef6</li> <li> <p>JavaScript\u63d2\u4ef6</p> </li> <li> <p>\u53ef\u89c6\u5316</p> </li> </ol> <p></p>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/","title":"31.\u73a9\u8f6cLinux\u64cd\u4f5c\u7cfb\u7edf","text":""},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#linux","title":"\u73a9\u8f6cLinux\u64cd\u4f5c\u7cfb\u7edf","text":"<p>\u8bf4\u660e\uff1a\u672c\u6587\u4e2d\u5bf9Linux\u547d\u4ee4\u7684\u8bb2\u89e3\u90fd\u662f\u57fa\u4e8e\u540d\u4e3aCentOS\u7684Linux\u53d1\u884c\u7248\u672c\uff0c\u6211\u81ea\u5df1\u4f7f\u7528\u7684\u662f\u963f\u91cc\u4e91\u670d\u52a1\u5668\uff0c\u7cfb\u7edf\u7248\u672c\u4e3aCentOS Linux release 7.6.1810\u3002\u4e0d\u540c\u7684Linux\u53d1\u884c\u7248\u672c\u5728Shell\u547d\u4ee4\u548c\u5de5\u5177\u7a0b\u5e8f\u4e0a\u4f1a\u6709\u4e00\u4e9b\u5dee\u522b\uff0c\u4f46\u662f\u8fd9\u4e9b\u5dee\u522b\u662f\u5f88\u5c0f\u7684\u3002</p>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_1","title":"\u64cd\u4f5c\u7cfb\u7edf\u53d1\u5c55\u53f2","text":"<p>\u53ea\u6709\u786c\u4ef6\u6ca1\u6709\u8f6f\u4ef6\u7684\u8ba1\u7b97\u673a\u7cfb\u7edf\u88ab\u79f0\u4e4b\u4e3a\u201c\u88f8\u673a\u201d\uff0c\u6211\u4eec\u5f88\u96be\u7528\u201c\u88f8\u673a\u201d\u6765\u5b8c\u6210\u8ba1\u7b97\u673a\u65e5\u5e38\u7684\u5de5\u4f5c\uff08\u5982\u5b58\u50a8\u548c\u8fd0\u7b97\uff09\uff0c\u6240\u4ee5\u5fc5\u987b\u7528\u7279\u5b9a\u7684\u8f6f\u4ef6\u6765\u63a7\u5236\u786c\u4ef6\u7684\u5de5\u4f5c\u3002\u6700\u9760\u8fd1\u8ba1\u7b97\u673a\u786c\u4ef6\u7684\u8f6f\u4ef6\u662f\u7cfb\u7edf\u8f6f\u4ef6\uff0c\u5176\u4e2d\u6700\u4e3a\u91cd\u8981\u7684\u5c31\u662f\u201c\u64cd\u4f5c\u7cfb\u7edf\u201d\u3002\u201c\u64cd\u4f5c\u7cfb\u7edf\u201d\u662f\u63a7\u5236\u548c\u7ba1\u7406\u6574\u4e2a\u8ba1\u7b97\u673a\u786c\u4ef6\u548c\u8f6f\u4ef6\u8d44\u6e90\u3001\u5b9e\u73b0\u8d44\u6e90\u5206\u914d\u548c\u4efb\u52a1\u8c03\u914d\u3001\u4e3a\u7cfb\u7edf\u7528\u6237\u4ee5\u53ca\u5176\u4ed6\u8f6f\u4ef6\u63d0\u4f9b\u63a5\u53e3\u548c\u73af\u5883\u7684\u7a0b\u5e8f\u7684\u96c6\u5408\u3002</p>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_2","title":"\u6ca1\u6709\u64cd\u4f5c\u7cfb\u7edf\uff08\u624b\u5de5\u64cd\u4f5c\uff09","text":"<p>\u5728\u8ba1\u7b97\u673a\u8bde\u751f\u4e4b\u521d\u6ca1\u6709\u64cd\u4f5c\u7cfb\u7edf\u7684\u5e74\u4ee3\uff0c\u4eba\u4eec\u5148\u628a\u7a0b\u5e8f\u7eb8\u5e26\uff08\u6216\u5361\u7247\uff09\u88c5\u4e0a\u8ba1\u7b97\u673a\uff0c\u7136\u540e\u542f\u52a8\u8f93\u5165\u673a\u628a\u7a0b\u5e8f\u9001\u5165\u8ba1\u7b97\u673a\uff0c\u63a5\u7740\u901a\u8fc7\u63a7\u5236\u53f0\u5f00\u5173\u542f\u52a8\u7a0b\u5e8f\u8fd0\u884c\u3002\u5f53\u7a0b\u5e8f\u6267\u884c\u5b8c\u6bd5\uff0c\u6253\u5370\u673a\u8f93\u51fa\u8ba1\u7b97\u7684\u7ed3\u679c\uff0c\u7528\u6237\u5378\u4e0b\u5e76\u53d6\u8d70\u7eb8\u5e26\uff08\u6216\u5361\u7247\uff09\u3002\u7b2c\u4e8c\u4e2a\u7528\u6237\u4e0a\u673a\uff0c\u91cd\u590d\u540c\u6837\u7684\u6b65\u9aa4\u3002\u5728\u6574\u4e2a\u8fc7\u7a0b\u4e2d\u7528\u6237\u72ec\u5360\u673a\u5668\uff0cCPU\u7b49\u5f85\u624b\u5de5\u64cd\u4f5c\uff0c\u8d44\u6e90\u5229\u7528\u7387\u6781\u4f4e\u3002</p>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_3","title":"\u6279\u5904\u7406\u7cfb\u7edf","text":"<p>\u9996\u5148\u542f\u52a8\u8ba1\u7b97\u673a\u4e0a\u7684\u4e00\u4e2a\u76d1\u7763\u7a0b\u5e8f\uff0c\u5728\u76d1\u7763\u7a0b\u5e8f\u7684\u63a7\u5236\u4e0b\uff0c\u8ba1\u7b97\u673a\u80fd\u591f\u81ea\u52a8\u7684\u3001\u6210\u6279\u7684\u5904\u7406\u4e00\u4e2a\u6216\u591a\u4e2a\u7528\u6237\u7684\u4f5c\u4e1a\u3002\u5b8c\u6210\u4e00\u6279\u4f5c\u4e1a\u540e\uff0c\u76d1\u7763\u7a0b\u5ea6\u53c8\u4ece\u8f93\u5165\u673a\u8bfb\u53d6\u4f5c\u4e1a\u5b58\u5165\u78c1\u5e26\u673a\u3002\u6309\u7167\u4e0a\u9762\u7684\u6b65\u9aa4\u91cd\u590d\u5904\u7406\u4efb\u52a1\u3002\u76d1\u7763\u7a0b\u5e8f\u4e0d\u505c\u7684\u5904\u7406\u5404\u4e2a\u4f5c\u4e1a\uff0c\u5b9e\u73b0\u4e86\u4f5c\u4e1a\u7684\u81ea\u52a8\u8f6c\u63a5\uff0c\u51cf\u5c11\u4e86\u4f5c\u4e1a\u7684\u5efa\u7acb\u65f6\u95f4\u548c\u624b\u5de5\u64cd\u4f5c\u65f6\u95f4\uff0c\u63d0\u9ad8\u4e86\u8ba1\u7b97\u673a\u8d44\u6e90\u7684\u5229\u7528\u7387\u3002\u00a0\u6279\u5904\u7406\u7cfb\u7edf\u53c8\u53ef\u4ee5\u5206\u4e3a\u5355\u9053\u6279\u5904\u7406\u7cfb\u7edf\u3001\u591a\u9053\u6279\u5904\u7406\u7cfb\u7edf\u3001\u8054\u673a\u6279\u5904\u7406\u7cfb\u7edf\u3001\u8131\u673a\u6279\u5904\u7406\u7cfb\u7edf\u3002</p>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_4","title":"\u5206\u65f6\u7cfb\u7edf\u548c\u5b9e\u65f6\u7cfb\u7edf","text":"<p>\u5206\u65f6\u7cfb\u7edf\u662f\u628a\u5904\u7406\u5668\u7684\u8fd0\u884c\u65f6\u95f4\u5206\u6210\u5f88\u77ed\u7684\u65f6\u95f4\u7247\uff0c\u6309\u65f6\u95f4\u7247\u8f6e\u6d41\u628a\u5904\u7406\u673a\u5206\u914d\u7ed9\u5404\u8054\u673a\u4f5c\u4e1a\u4f7f\u7528\u3002 \u82e5\u67d0\u4e2a\u4f5c\u4e1a\u5728\u5206\u914d\u7ed9\u5b83\u7684\u65f6\u95f4\u7247\u5185\u4e0d\u80fd\u5b8c\u6210\u5176\u8ba1\u7b97\uff0c\u5219\u8be5\u4f5c\u4e1a\u6682\u65f6\u4e2d\u65ad\uff0c\u628a\u5904\u7406\u673a\u8ba9\u7ed9\u53e6\u4e00\u4f5c\u4e1a\u4f7f\u7528\uff0c\u7b49\u5f85\u4e0b\u4e00\u8f6e\u8c03\u5ea6\u65f6\u518d\u7ee7\u7eed\u5176\u8fd0\u884c\u3002\u7531\u4e8e\u8ba1\u7b97\u673a\u901f\u5ea6\u5f88\u5feb\uff0c\u4f5c\u4e1a\u8fd0\u884c\u8f6e\u8f6c\u5f97\u5f88\u5feb\uff0c\u7ed9\u6bcf\u4e2a\u7528\u6237\u7684\u611f\u89c9\u662f\u4ed6\u72ec\u5360\u4e86\u4e00\u53f0\u8ba1\u7b97\u673a\u3002\u800c\u6bcf\u4e2a\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u81ea\u5df1\u7684\u7ec8\u7aef\u5411\u7cfb\u7edf\u53d1\u51fa\u5404\u79cd\u64cd\u4f5c\u63a7\u5236\u547d\u4ee4\uff0c\u5728\u5145\u5206\u7684\u4eba\u673a\u4ea4\u4e92\u60c5\u51b5\u4e0b\uff0c\u5b8c\u6210\u4f5c\u4e1a\u7684\u8fd0\u884c\u3002\u4e3a\u4e86\u89e3\u51b3\u5206\u65f6\u7cfb\u7edf\u4e0d\u80fd\u53ca\u65f6\u54cd\u5e94\u7528\u6237\u6307\u4ee4\u7684\u60c5\u51b5\uff0c\u53c8\u51fa\u73b0\u4e86\u80fd\u591f\u5728\u5728\u4e25\u683c\u7684\u65f6\u95f4\u8303\u56f4\u5185\u5b8c\u6210\u4e8b\u4ef6\u5904\u7406\uff0c\u53ca\u65f6\u54cd\u5e94\u968f\u673a\u5916\u90e8\u4e8b\u4ef6\u7684\u5b9e\u65f6\u7cfb\u7edf\u3002</p>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_5","title":"\u901a\u7528\u64cd\u4f5c\u7cfb\u7edf","text":"<ol> <li> <p>1960s\uff1aIBM\u7684System/360\u7cfb\u5217\u7684\u673a\u5668\u6709\u4e86\u7edf\u4e00\u7684\u64cd\u4f5c\u7cfb\u7edfOS/360\u3002</p> </li> <li> <p>1965\u5e74\uff1aAT&amp;T\u7684\u8d1d\u5c14\u5b9e\u9a8c\u5ba4\u52a0\u5165GE\u548cMIT\u7684\u5408\u4f5c\u8ba1\u5212\u5f00\u59cb\u5f00\u53d1MULTICS\u3002</p> </li> <li> <p>1969\u5e74\uff1aMULTICS\u9879\u76ee\u5931\u8d25\uff0cKen Tompson\u8d4b\u95f2\u5728\u5bb6\uff0c\u4e3a\u4e86\u73a9\u201cSpace Travel\u201d\u6e38\u620f\u7528\u6c47\u7f16\u8bed\u8a00\u5728\u5f53\u65f6\u5df2\u7ecf\u88ab\u6dd8\u6c70\u7684PDP-7\u4e0a\u5f00\u53d1\u4e86Unics\u3002</p> </li> </ol> <p></p> <p></p> <p>\u6ce8\uff1a\u5f88\u96be\u60f3\u8c61\uff0cUnix\u8fd9\u4e48\u4f1f\u5927\u7684\u7cfb\u7edf\uff0c\u5c45\u7136\u662f\u4e00\u4e2a\u8d4b\u95f2\u5728\u5bb6\u7684\u7a0b\u5e8f\u5458\uff08\u5173\u952e\u662f\u8001\u5a46\u56de\u5a18\u5bb6\u8fd8\u5e26\u4e0a\u4e86\u5b69\u5b50\uff09\u5728\u4e00\u53f0\u88ab\u6dd8\u6c70\u7684\u8bbe\u5907\u4e0a\u4e3a\u4e86\u73a9\u6e38\u620f\u5f00\u53d1\u51fa\u6765\u7684\u3002</p> <ol> <li>1970\u5e74~1971\u5e74\uff1aKen Tompson\u548cDennis Ritchie\u7528B\u8bed\u8a00\u5728PDP-11\u4e0a\u91cd\u5199\u4e86Unics\uff0c\u5e76\u5728Brian Kernighan\u7684\u5efa\u8bae\u4e0b\u5c06\u5176\u66f4\u540d\u4e3aUnix\u3002</li> </ol> <p></p> <p></p> <p></p> <ol> <li> <p>1972\u5e74~1973\u5e74\uff1aDennis Ritchie\u53d1\u660e\u4e86C\u8bed\u8a00\u6765\u53d6\u4ee3\u53ef\u79fb\u690d\u6027\u8f83\u5dee\u7684B\u8bed\u8a00\uff0c\u5e76\u5f00\u542f\u4e86\u7528C\u8bed\u8a00\u91cd\u5199Unix\u7684\u5de5\u4f5c\u3002</p> </li> <li> <p>1974\u5e74\uff1aUnix\u63a8\u51fa\u4e86\u91cc\u7a0b\u7891\u610f\u4e49\u7684\u7b2c5\u7248\uff0c\u51e0\u4e4e\u5b8c\u5168\u7528C\u8bed\u8a00\u6765\u5b9e\u73b0\u3002</p> </li> <li> <p>1979\u5e74\uff1a\u4eceUnix\u7b2c7\u7248\u5f00\u59cb\uff0cAT&amp;T\u53d1\u5e03\u65b0\u7684\u4f7f\u7528\u6761\u6b3e\uff0c\u5c06Unix\u79c1\u6709\u5316\u3002</p> </li> <li> <p>1987\u5e74\uff1aAndrew S. Tanenbaum\u6559\u6388\u4e3a\u4e86\u80fd\u5728\u8bfe\u5802\u4e0a\u4e3a\u5b66\u751f\u8bb2\u89e3\u64cd\u4f5c\u7cfb\u7edf\u8fd0\u4f5c\u7684\u7ec6\u8282\uff0c\u51b3\u5b9a\u5728\u4e0d\u4f7f\u7528\u4efb\u4f55AT&amp;T\u7684\u6e90\u4ee3\u7801\u524d\u63d0\u4e0b\uff0c\u81ea\u884c\u5f00\u53d1\u4e0eUnix\u517c\u5bb9\u7684\u64cd\u4f5c\u7cfb\u7edf\u4ee5\u907f\u514d\u7248\u6743\u4e0a\u7684\u4e89\u8bae\uff0c\u8be5\u7cfb\u7edf\u88ab\u547d\u540d\u4e3aMinix\u3002</p> </li> </ol> <p></p> <ol> <li>1991\u5e74\uff1aLinus Torvalds\u5c31\u8bfb\u4e8e\u82ac\u5170\u8d6b\u5c14\u8f9b\u57fa\u5927\u5b66\u671f\u95f4\uff0c\u5c1d\u8bd5\u5728Minix\u4e0a\u505a\u4e00\u4e9b\u5f00\u53d1\u5de5\u4f5c\uff0c\u4f46\u56e0\u4e3aMinix\u53ea\u662f\u4f5c\u4e3a\u6559\u5b66\u7528\u9014\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u529f\u80fd\u5e76\u4e0d\u5f3a\u5927\uff0c\u4e3a\u4e86\u65b9\u4fbf\u5728\u5b66\u6821\u7684\u65b0\u95fb\u7ec4\u548c\u90ae\u4ef6\u7cfb\u7edf\u4e2d\u8bfb\u5199\u548c\u4e0b\u8f7d\u6587\u4ef6\uff0cLinus\u7f16\u5199\u4e86\u78c1\u76d8\u9a71\u52a8\u7a0b\u5e8f\u548c\u6587\u4ef6\u7cfb\u7edf\uff0c\u8fd9\u4e9b\u4e1c\u897f\u5f62\u6210\u4e86Linux\u7cfb\u7edf\u5185\u6838\u7684\u96cf\u5f62\u3002</li> </ol> <p></p> <p>\u4e0b\u56fe\u662fUnix\u64cd\u4f5c\u7cfb\u7edf\u5bb6\u65cf\u7684\u56fe\u8c31\u3002</p> <p></p>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#linux_1","title":"Linux\u6982\u8ff0","text":"<p>Linux\u662f\u4e00\u4e2a\u901a\u7528\u64cd\u4f5c\u7cfb\u7edf\u3002\u4e00\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u8981\u8d1f\u8d23\u4efb\u52a1\u8c03\u5ea6\u3001\u5185\u5b58\u5206\u914d\u3001\u5904\u7406\u5916\u56f4\u8bbe\u5907I/O\u7b49\u64cd\u4f5c\u3002\u64cd\u4f5c\u7cfb\u7edf\u901a\u5e38\u7531\u5185\u6838\uff08\u8fd0\u884c\u5176\u4ed6\u7a0b\u5e8f\uff0c\u7ba1\u7406\u50cf\u78c1\u76d8\u3001\u6253\u5370\u673a\u7b49\u786c\u4ef6\u8bbe\u5907\u7684\u6838\u5fc3\u7a0b\u5e8f\uff09\u548c\u7cfb\u7edf\u7a0b\u5e8f\uff08\u8bbe\u5907\u9a71\u52a8\u3001\u5e95\u5c42\u5e93\u3001shell\u3001\u670d\u52a1\u7a0b\u5e8f\u7b49\uff09\u4e24\u90e8\u5206\u7ec4\u6210\u3002</p> <p>Linux\u5185\u6838\u662f\u82ac\u5170\u4ebaLinus Torvalds\u5f00\u53d1\u7684\uff0c\u4e8e1991\u5e749\u6708\u53d1\u5e03\u3002\u800cLinux\u64cd\u4f5c\u7cfb\u7edf\u4f5c\u4e3aInternet\u65f6\u4ee3\u7684\u4ea7\u7269\uff0c\u5b83\u662f\u7531\u5168\u4e16\u754c\u8bb8\u591a\u5f00\u53d1\u8005\u5171\u540c\u5408\u4f5c\u5f00\u53d1\u7684\uff0c\u662f\u4e00\u4e2a\u81ea\u7531\u7684\u64cd\u4f5c\u7cfb\u7edf\uff08\u6ce8\u610f\u81ea\u7531\u548c\u514d\u8d39\u5e76\u4e0d\u662f\u540c\u4e00\u4e2a\u6982\u5ff5\uff0c\u60f3\u4e86\u89e3\u4e8c\u8005\u7684\u5dee\u522b\u53ef\u4ee5\u70b9\u51fb\u8fd9\u91cc\uff09\u3002</p>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#linux_2","title":"Linux\u7cfb\u7edf\u4f18\u70b9","text":"<ol> <li>\u901a\u7528\u64cd\u4f5c\u7cfb\u7edf\uff0c\u4e0d\u8ddf\u7279\u5b9a\u7684\u786c\u4ef6\u7ed1\u5b9a\u3002</li> <li>\u7528C\u8bed\u8a00\u7f16\u5199\uff0c\u53ef\u79fb\u690d\u6027\u5f3a\uff0c\u6709\u5185\u6838\u7f16\u7a0b\u63a5\u53e3\u3002</li> <li>\u652f\u6301\u591a\u7528\u6237\u548c\u591a\u4efb\u52a1\uff0c\u652f\u6301\u5b89\u5168\u7684\u5206\u5c42\u6587\u4ef6\u7cfb\u7edf\u3002</li> <li>\u5927\u91cf\u7684\u5b9e\u7528\u7a0b\u5e8f\uff0c\u5b8c\u5584\u7684\u7f51\u7edc\u529f\u80fd\u4ee5\u53ca\u5f3a\u5927\u7684\u652f\u6301\u6587\u6863\u3002</li> <li>\u53ef\u9760\u7684\u5b89\u5168\u6027\u548c\u826f\u597d\u7684\u7a33\u5b9a\u6027\uff0c\u5bf9\u5f00\u53d1\u8005\u66f4\u53cb\u597d\u3002</li> </ol>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#linux_3","title":"Linux\u7cfb\u7edf\u53d1\u884c\u7248\u672c","text":"<ol> <li>Redhat</li> <li>Ubuntu</li> <li>CentOS</li> <li>Fedora</li> <li>Debian</li> <li>openSUSE</li> </ol>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_6","title":"\u57fa\u7840\u547d\u4ee4","text":"<p>Linux\u7cfb\u7edf\u7684\u547d\u4ee4\u901a\u5e38\u90fd\u662f\u5982\u4e0b\u6240\u793a\u7684\u683c\u5f0f\uff1a</p> <pre><code>\u547d\u4ee4\u540d\u79f0 [\u547d\u540d\u53c2\u6570] [\u547d\u4ee4\u5bf9\u8c61]\n</code></pre> <ol> <li>\u83b7\u53d6\u767b\u5f55\u4fe1\u606f - w / who / last/ lastb\u3002</li> </ol> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# w\n 23:31:16 up 12:16,  2 users,  load average: 0.00, 0.01, 0.05\nUSER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT\nroot     pts/0    182.139.66.250   23:03    4.00s  0.02s  0.00s w\njackfrue pts/1    182.139.66.250   23:26    3:56   0.00s  0.00s -bash\n[root@izwz97tbgo9lkabnat2lo8z ~]# who\nroot     pts/0        2018-04-12 23:03 (182.139.66.250)\njackfrued pts/1        2018-04-12 23:26 (182.139.66.250)\n[root@izwz97tbgo9lkabnat2lo8z ~]# who am i\nroot     pts/0        2018-04-12 23:03 (182.139.66.250)\n[root@izwz97tbgo9lkabnat2lo8z ~]# who mom likes\nroot     pts/0        2018-04-12 23:03 (182.139.66.250)\n[root@izwz97tbgo9lkabnat2lo8z ~]# last\nroot     pts/0        117.136.63.184   Sun May 26 18:57   still logged in   \nreboot   system boot  3.10.0-957.10.1. Mon May 27 02:52 - 19:10  (-7:-42)   \nroot     pts/4        117.136.63.184   Sun May 26 18:51 - crash  (08:01)    \nroot     pts/4        117.136.63.184   Sun May 26 18:49 - 18:49  (00:00)    \nroot     pts/3        117.136.63.183   Sun May 26 18:35 - crash  (08:17)    \nroot     pts/2        117.136.63.183   Sun May 26 18:34 - crash  (08:17)    \nroot     pts/0        117.136.63.183   Sun May 26 18:10 - crash  (08:42)    \n</code></pre> <ol> <li>\u67e5\u770b\u81ea\u5df1\u4f7f\u7528\u7684Shell - ps\u3002</li> </ol> <p>Shell\u4e5f\u88ab\u79f0\u4e3a\u201c\u58f3\u201d\u6216\u201c\u58f3\u7a0b\u5e8f\u201d\uff0c\u5b83\u662f\u7528\u6237\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u4ea4\u6d41\u7684\u7ffb\u8bd1\u5b98\uff0c\u7b80\u5355\u7684\u8bf4\u5c31\u662f\u4eba\u4e0e\u8ba1\u7b97\u673a\u4ea4\u4e92\u7684\u754c\u9762\u548c\u63a5\u53e3\u3002\u76ee\u524d\u5f88\u591aLinux\u7cfb\u7edf\u9ed8\u8ba4\u7684Shell\u90fd\u662fbash\uff08Bourne Again SHell\uff09\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u4f7f\u7528tab\u952e\u8fdb\u884c\u547d\u4ee4\u548c\u8def\u5f84\u8865\u5168\u3001\u53ef\u4ee5\u4fdd\u5b58\u5386\u53f2\u547d\u4ee4\u3001\u53ef\u4ee5\u65b9\u4fbf\u7684\u914d\u7f6e\u73af\u5883\u53d8\u91cf\u4ee5\u53ca\u6267\u884c\u6279\u5904\u7406\u64cd\u4f5c\u3002</p> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# ps\n  PID TTY          TIME CMD\n 3531 pts/0    00:00:00 bash\n 3553 pts/0    00:00:00 ps\n</code></pre> <ol> <li>\u67e5\u770b\u547d\u4ee4\u7684\u8bf4\u660e\u548c\u4f4d\u7f6e - whatis / which / whereis\u3002</li> </ol> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# whatis ps\nps (1)        - report a snapshot of the current processes.\n[root@izwz97tbgo9lkabnat2lo8z ~]# whatis python\npython (1)    - an interpreted, interactive, object-oriented programming language\n[root@izwz97tbgo9lkabnat2lo8z ~]# whereis ps\nps: /usr/bin/ps /usr/share/man/man1/ps.1.gz\n[root@izwz97tbgo9lkabnat2lo8z ~]# whereis python\npython: /usr/bin/python /usr/bin/python2.7 /usr/lib/python2.7 /usr/lib64/python2.7 /etc/python /usr/include/python2.7 /usr/share/man/man1/python.1.gz\n[root@izwz97tbgo9lkabnat2lo8z ~]# which ps\n/usr/bin/ps\n[root@izwz97tbgo9lkabnat2lo8z ~]# which python\n/usr/bin/python\n</code></pre> <ol> <li> <p>\u6e05\u9664\u5c4f\u5e55\u4e0a\u663e\u793a\u7684\u5185\u5bb9 - clear\u3002</p> </li> <li> <p>\u67e5\u770b\u5e2e\u52a9\u6587\u6863 - man / info / help / apropos\u3002    <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# ps --help\nUsage:\n ps [options]\n Try 'ps --help &lt;simple|list|output|threads|misc|all&gt;'\n  or 'ps --help &lt;s|l|o|t|m|a&gt;'\n for additional help text.\nFor more details see ps(1).\n[root@izwz97tbgo9lkabnat2lo8z ~]# man ps\nPS(1)                                User Commands                                PS(1)\nNAME\n       ps - report a snapshot of the current processes.\nSYNOPSIS\n       ps [options]\nDESCRIPTION\n...\n</code></pre></p> </li> <li> <p>\u67e5\u770b\u7cfb\u7edf\u548c\u4e3b\u673a\u540d - uname / hostname\u3002</p> </li> </ol> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# uname\nLinux\n[root@izwz97tbgo9lkabnat2lo8z ~]# hostname\nizwz97tbgo9lkabnat2lo8z\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# cat /etc/centos-release\nCentOS Linux release 7.6.1810 (Core)\n</code></pre> <p>\u8bf4\u660e\uff1a<code>cat</code>\u662f\u8fde\u63a5\u6587\u4ef6\u5185\u5bb9\u5e76\u6253\u5370\u5230\u6807\u51c6\u8f93\u51fa\u7684\u547d\u4ee4\uff0c\u540e\u9762\u4f1a\u8bb2\u5230\u8be5\u547d\u4ee4\uff1b<code>/etc</code>\u662fLinux\u7cfb\u7edf\u4e0a\u7684\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u76ee\u5f55\uff0c\u5b83\u4fdd\u5b58\u4e86\u5f88\u591a\u7684\u914d\u7f6e\u6587\u4ef6\uff1b<code>centos-release</code>\u662f\u8be5\u76ee\u5f55\u4e0b\u7684\u4e00\u4e2a\u6587\u4ef6\uff0c\u56e0\u4e3a\u6211\u81ea\u5df1\u4f7f\u7528\u7684Linux\u53d1\u884c\u7248\u672c\u662fCentOS 7.6\uff0c\u56e0\u6b64\u8fd9\u91cc\u4f1a\u6709\u4e00\u4e2a\u8fd9\u6837\u7684\u6587\u4ef6\u3002</p> <ol> <li>\u65f6\u95f4\u548c\u65e5\u671f - date / cal\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# date\nWed Jun 20 12:53:19 CST 2018\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# cal\n      June 2018\nSu Mo Tu We Th Fr Sa\n                1  2\n 3  4  5  6  7  8  9\n10 11 12 13 14 15 16\n17 18 19 20 21 22 23\n24 25 26 27 28 29 30\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# cal 5 2017\n      May 2017\nSu Mo Tu We Th Fr Sa\n    1  2  3  4  5  6\n 7  8  9 10 11 12 13\n14 15 16 17 18 19 20\n21 22 23 24 25 26 27\n28 29 30 31\n</code></pre> <ol> <li>\u91cd\u542f\u548c\u5173\u673a - reboot / shutdown\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# shutdown -h +5\nShutdown scheduled for Sun 2019-05-26 19:34:27 CST, use 'shutdown -c' to cancel.\n[root@izwz97tbgo9lkabnat2lo8z ~]# \nBroadcast message from root@izwz97tbgo9lkabnat2lo8z (Sun 2019-05-26 19:29:27 CST):\n\nThe system is going down for power-off at Sun 2019-05-26 19:34:27 CST!\n[root@izwz97tbgo9lkabnat2lo8z ~]# shutdown -c\n\nBroadcast message from root@izwz97tbgo9lkabnat2lo8z (Sun 2019-05-26 19:30:22 CST):\n\nThe system shutdown has been cancelled at Sun 2019-05-26 19:31:22 CST!\n[root@izwz97tbgo9lkabnat2lo8z ~]# shutdown -r 23:58\nShutdown scheduled for Sun 2019-05-26 23:58:00 CST, use 'shutdown -c' to cancel.\n[root@izwz97tbgo9lkabnat2lo8z ~]# shutdown -c\n\nBroadcast message from root@izwz97tbgo9lkabnat2lo8z (Sun 2019-05-26 19:31:06 CST):\n\nThe system shutdown has been cancelled at Sun 2019-05-26 19:32:06 CST!\n</code></pre> <p>\u8bf4\u660e\uff1a\u5728\u6267\u884c<code>shutdown</code>\u547d\u4ee4\u65f6\u4f1a\u5411\u767b\u5f55\u7cfb\u7edf\u7684\u7528\u6237\u53d1\u51fa\u8b66\u544a\uff0c\u53ef\u4ee5\u5728\u547d\u4ee4\u540e\u9762\u8ddf\u4e0a\u8b66\u544a\u6d88\u606f\u6765\u66ff\u6362\u9ed8\u8ba4\u7684\u8b66\u544a\u6d88\u606f\uff0c\u4e5f\u53ef\u4ee5\u5728<code>-h</code>\u53c2\u6570\u540e\u901a\u8fc7<code>now</code>\u6765\u8868\u793a\u7acb\u523b\u5173\u673a\u3002</p> <ol> <li> <p>\u9000\u51fa\u767b\u5f55 -  exit / logout\u3002</p> </li> <li> <p>\u67e5\u770b\u5386\u53f2\u547d\u4ee4 - history\u3002</p> </li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# history\n...\n452  ls\n453  cd Python-3.6.5/\n454  clear\n455  history\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# !454\n</code></pre> <p>\u8bf4\u660e\uff1a\u67e5\u770b\u5230\u5386\u53f2\u547d\u4ee4\u4e4b\u540e\uff0c\u53ef\u4ee5\u7528<code>!\u5386\u53f2\u547d\u4ee4\u7f16\u53f7</code>\u6765\u91cd\u65b0\u6267\u884c\u8be5\u547d\u4ee4\uff1b\u901a\u8fc7<code>history -c</code>\u53ef\u4ee5\u6e05\u9664\u5386\u53f2\u547d\u4ee4\u3002</p>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_7","title":"\u5b9e\u7528\u7a0b\u5e8f","text":""},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_8","title":"\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u64cd\u4f5c","text":"<ol> <li>\u521b\u5efa/\u5220\u9664\u7a7a\u76ee\u5f55 - mkdir / rmdir\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# mkdir abc\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# mkdir -p xyz/abc\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# rmdir abc\n</code></pre> <ol> <li>\u521b\u5efa/\u5220\u9664\u6587\u4ef6 - touch / rm\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# touch readme.txt\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# touch error.txt\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# rm error.txt\nrm: remove regular empty file \u2018error.txt\u2019? y\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# rm -rf xyz\n</code></pre> <ul> <li><code>touch</code>\u547d\u4ee4\u7528\u4e8e\u521b\u5efa\u7a7a\u767d\u6587\u4ef6\u6216\u4fee\u6539\u6587\u4ef6\u65f6\u95f4\u3002\u5728Linux\u7cfb\u7edf\u4e2d\u4e00\u4e2a\u6587\u4ef6\u6709\u4e09\u79cd\u65f6\u95f4\uff1a<ul> <li>\u66f4\u6539\u5185\u5bb9\u7684\u65f6\u95f4 - mtime\u3002</li> <li>\u66f4\u6539\u6743\u9650\u7684\u65f6\u95f4 - ctime\u3002</li> <li>\u6700\u540e\u8bbf\u95ee\u65f6\u95f4 - atime\u3002</li> </ul> </li> <li> <p><code>rm</code>\u7684\u51e0\u4e2a\u91cd\u8981\u53c2\u6570\uff1a</p> <ul> <li><code>-i</code>\uff1a\u4ea4\u4e92\u5f0f\u5220\u9664\uff0c\u6bcf\u4e2a\u5220\u9664\u9879\u90fd\u4f1a\u8fdb\u884c\u8be2\u95ee\u3002</li> <li><code>-r</code>\uff1a\u5220\u9664\u76ee\u5f55\u5e76\u9012\u5f52\u7684\u5220\u9664\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u548c\u76ee\u5f55\u3002</li> <li><code>-f</code>\uff1a\u5f3a\u5236\u5220\u9664\uff0c\u5ffd\u7565\u4e0d\u5b58\u5728\u7684\u6587\u4ef6\uff0c\u6ca1\u6709\u4efb\u4f55\u63d0\u793a\u3002</li> </ul> </li> <li> <p>\u5207\u6362\u548c\u67e5\u770b\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55 - cd / pwd\u3002</p> </li> </ul> <p>\u8bf4\u660e\uff1a<code>cd</code>\u547d\u4ee4\u540e\u9762\u53ef\u4ee5\u8ddf\u76f8\u5bf9\u8def\u5f84\uff08\u4ee5\u5f53\u524d\u8def\u5f84\u4f5c\u4e3a\u53c2\u7167\uff09\u6216\u7edd\u5bf9\u8def\u5f84\uff08\u4ee5<code>/</code>\u5f00\u5934\uff09\u6765\u5207\u6362\u5230\u6307\u5b9a\u7684\u76ee\u5f55\uff0c\u4e5f\u53ef\u4ee5\u7528<code>cd ..</code>\u6765\u8fd4\u56de\u4e0a\u4e00\u7ea7\u76ee\u5f55\u3002\u8bf7\u5927\u5bb6\u60f3\u4e00\u60f3\uff0c\u5982\u679c\u8981\u8fd4\u56de\u5230\u4e0a\u4e0a\u4e00\u7ea7\u76ee\u5f55\u5e94\u8be5\u7ed9<code>cd</code>\u547d\u4ee4\u52a0\u4e0a\u4ec0\u4e48\u6837\u7684\u53c2\u6570\u5462\uff1f</p> <ol> <li> <p>\u67e5\u770b\u76ee\u5f55\u5185\u5bb9 - ls\u3002</p> </li> <li> <p><code>-l</code>\uff1a\u4ee5\u957f\u683c\u5f0f\u67e5\u770b\u6587\u4ef6\u548c\u76ee\u5f55\u3002</p> </li> <li><code>-a</code>\uff1a\u663e\u793a\u4ee5\u70b9\u5f00\u5934\u7684\u6587\u4ef6\u548c\u76ee\u5f55\uff08\u9690\u85cf\u6587\u4ef6\uff09\u3002</li> <li><code>-R</code>\uff1a\u9047\u5230\u76ee\u5f55\u8981\u8fdb\u884c\u9012\u5f52\u5c55\u5f00\uff08\u7ee7\u7eed\u5217\u51fa\u76ee\u5f55\u4e0b\u9762\u7684\u6587\u4ef6\u548c\u76ee\u5f55\uff09\u3002</li> <li><code>-d</code>\uff1a\u53ea\u5217\u51fa\u76ee\u5f55\uff0c\u4e0d\u5217\u51fa\u5176\u4ed6\u5185\u5bb9\u3002</li> <li> <p><code>-S</code> / <code>-t</code>\uff1a\u6309\u5927\u5c0f/\u65f6\u95f4\u6392\u5e8f\u3002</p> </li> <li> <p>\u67e5\u770b\u6587\u4ef6\u5185\u5bb9 - cat / tac / head / tail / more / less / rev / od\u3002</p> </li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# wget http://www.sohu.com/ -O sohu.html\n--2018-06-20 18:42:34--  http://www.sohu.com/\nResolving www.sohu.com (www.sohu.com)... 14.18.240.6\nConnecting to www.sohu.com (www.sohu.com)|14.18.240.6|:80... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 212527 (208K) [text/html]\nSaving to: \u2018sohu.html\u2019\n100%[==================================================&gt;] 212,527     --.-K/s   in 0.03s\n2018-06-20 18:42:34 (7.48 MB/s) - \u2018sohu.html\u2019 saved [212527/212527]\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# cat sohu.html\n...\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# head -10 sohu.html\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;\u641c\u72d0&lt;/title&gt;\n&lt;meta name=\"Keywords\" content=\"\u641c\u72d0,\u95e8\u6237\u7f51\u7ad9,\u65b0\u5a92\u4f53,\u7f51\u7edc\u5a92\u4f53,\u65b0\u95fb,\u8d22\u7ecf,\u4f53\u80b2,\u5a31\u4e50,\u65f6\u5c1a,\u6c7d\u8f66,\u623f\u4ea7,\u79d1\u6280,\u56fe\u7247,\u8bba\u575b,\u5fae\u535a,\u535a\u5ba2,\u89c6\u9891,\u7535\u5f71,\u7535\u89c6\u5267\"/&gt;\n&lt;meta name=\"Description\" content=\"\u641c\u72d0\u7f51\u4e3a\u7528\u6237\u63d0\u4f9b24\u5c0f\u65f6\u4e0d\u95f4\u65ad\u7684\u6700\u65b0\u8d44\u8baf\uff0c\u53ca\u641c\u7d22\u3001\u90ae\u4ef6\u7b49\u7f51\u7edc\u670d\u52a1\u3002\u5185\u5bb9\u5305\u62ec\u5168\u7403\u70ed\u70b9\u4e8b\u4ef6\u3001\u7a81\u53d1\u65b0\u95fb\u3001\u65f6\u4e8b\u8bc4\u8bba\u3001\u70ed\u64ad\u5f71\u89c6\u5267\u3001\u4f53\u80b2\u8d5b\u4e8b\u3001\u884c\u4e1a\u52a8\u6001\u3001\u751f\u6d3b\u670d\u52a1\u4fe1\u606f\uff0c\u4ee5\u53ca\u8bba\u575b\u3001\u535a\u5ba2\u3001\u5fae\u535a\u3001\u6211\u7684\u641c\u72d0\u7b49\u4e92\u52a8\u7a7a\u95f4\u3002\" /&gt;\n&lt;meta name=\"shenma-site-verification\" content=\"1237e4d02a3d8d73e96cbd97b699e9c3_1504254750\"&gt;\n&lt;meta charset=\"utf-8\"/&gt;\n&lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge,chrome=1\"/&gt;\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# tail -2 sohu.html\n&lt;/body&gt;\n&lt;/html&gt;\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# less sohu.html\n...\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# cat -n sohu.html | more\n...\n</code></pre> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u7528\u5230\u4e86\u4e00\u4e2a\u540d\u4e3a<code>wget</code>\u7684\u547d\u4ee4\uff0c\u5b83\u662f\u4e00\u4e2a\u7f51\u7edc\u4e0b\u8f7d\u5668\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u4ece\u6307\u5b9a\u7684URL\u4e0b\u8f7d\u8d44\u6e90\u3002</p> <ol> <li>\u62f7\u8d1d/\u79fb\u52a8\u6587\u4ef6 - cp / mv\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# mkdir backup\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# cp sohu.html backup/\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# cd backup\n[root@iZwz97tbgo9lkabnat2lo8Z backup]# ls\nsohu.html\n[root@iZwz97tbgo9lkabnat2lo8Z backup]# mv sohu.html sohu_index.html\n[root@iZwz97tbgo9lkabnat2lo8Z backup]# ls\nsohu_index.html\n</code></pre> <ol> <li>\u6587\u4ef6\u91cd\u547d\u540d - rename\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# rename .htm .html *.htm\n</code></pre> <ol> <li>\u67e5\u627e\u6587\u4ef6\u548c\u67e5\u627e\u5185\u5bb9 - find / grep\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# find / -name \"*.html\"\n/root/sohu.html\n/root/backup/sohu_index.html\n[root@izwz97tbgo9lkabnat2lo8z ~]# find . -atime 7 -type f -print\n[root@izwz97tbgo9lkabnat2lo8z ~]# find . -type f -size +2k\n[root@izwz97tbgo9lkabnat2lo8z ~]# find . -type f -name \"*.swp\" -delete\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# grep \"&lt;script&gt;\" sohu.html -n\n20:&lt;script&gt;\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# grep -E \\&lt;\\/?script.*\\&gt; sohu.html -n\n20:&lt;script&gt;\n22:&lt;/script&gt;\n24:&lt;script src=\"//statics.itc.cn/web/v3/static/js/es5-shim-08e41cfc3e.min.js\"&gt;&lt;/script&gt;\n25:&lt;script src=\"//statics.itc.cn/web/v3/static/js/es5-sham-1d5fa1124b.min.js\"&gt;&lt;/script&gt;\n26:&lt;script src=\"//statics.itc.cn/web/v3/static/js/html5shiv-21fc8c2ba6.js\"&gt;&lt;/script&gt;\n29:&lt;script type=\"text/javascript\"&gt;\n52:&lt;/script&gt;\n...\n</code></pre> <p>\u8bf4\u660e\uff1a<code>grep</code>\u5728\u641c\u7d22\u5b57\u7b26\u4e32\u65f6\u53ef\u4ee5\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u5982\u679c\u9700\u8981\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u53ef\u4ee5\u7528<code>grep -E</code>\u6216\u8005\u76f4\u63a5\u4f7f\u7528<code>egrep</code>\u3002</p> <ol> <li>\u521b\u5efa\u94fe\u63a5\u548c\u67e5\u770b\u94fe\u63a5 - ln / readlink\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l sohu.html\n-rw-r--r-- 1 root root 212131 Jun 20 19:15 sohu.html\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# ln /root/sohu.html /root/backup/sohu_backup\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l sohu.html\n-rw-r--r-- 2 root root 212131 Jun 20 19:15 sohu.html\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# ln /root/sohu.html /root/backup/sohu_backup2\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l sohu.html\n-rw-r--r-- 3 root root 212131 Jun 20 19:15 sohu.html\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# ln -s /etc/centos-release sysinfo\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l sysinfo\nlrwxrwxrwx 1 root root 19 Jun 20 19:21 sysinfo -&gt; /etc/centos-release\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# cat sysinfo\nCentOS Linux release 7.4.1708 (Core)\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# cat /etc/centos-release\nCentOS Linux release 7.4.1708 (Core)\n</code></pre> <p>\u8bf4\u660e\uff1a\u94fe\u63a5\u53ef\u4ee5\u5206\u4e3a\u786c\u94fe\u63a5\u548c\u8f6f\u94fe\u63a5\uff08\u7b26\u53f7\u94fe\u63a5\uff09\u3002\u786c\u94fe\u63a5\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e00\u4e2a\u6307\u5411\u6587\u4ef6\u6570\u636e\u7684\u6307\u9488\uff0c\u5c31\u50cfPython\u4e2d\u5bf9\u8c61\u7684\u5f15\u7528\u8ba1\u6570\uff0c\u6bcf\u6dfb\u52a0\u4e00\u4e2a\u786c\u94fe\u63a5\uff0c\u6587\u4ef6\u7684\u5bf9\u5e94\u94fe\u63a5\u6570\u5c31\u589e\u52a01\uff0c\u53ea\u6709\u5f53\u6587\u4ef6\u7684\u94fe\u63a5\u6570\u4e3a0\u65f6\uff0c\u6587\u4ef6\u6240\u5bf9\u5e94\u7684\u5b58\u50a8\u7a7a\u95f4\u624d\u6709\u53ef\u80fd\u88ab\u5176\u4ed6\u6587\u4ef6\u8986\u76d6\u3002\u6211\u4eec\u5e73\u5e38\u5220\u9664\u6587\u4ef6\u65f6\u5176\u5b9e\u5e76\u6ca1\u6709\u5220\u9664\u786c\u76d8\u4e0a\u7684\u6570\u636e\uff0c\u6211\u4eec\u5220\u9664\u7684\u53ea\u662f\u4e00\u4e2a\u6307\u9488\uff0c\u6216\u8005\u8bf4\u662f\u6570\u636e\u7684\u4e00\u6761\u4f7f\u7528\u8bb0\u5f55\uff0c\u6240\u4ee5\u7c7b\u4f3c\u4e8e\u201c\u6587\u4ef6\u7c89\u788e\u673a\u201d\u4e4b\u7c7b\u7684\u8f6f\u4ef6\u5728\u201c\u7c89\u788e\u201d\u6587\u4ef6\u65f6\u9664\u4e86\u5220\u9664\u6587\u4ef6\u6307\u9488\uff0c\u8fd8\u4f1a\u5728\u6587\u4ef6\u5bf9\u5e94\u7684\u5b58\u50a8\u533a\u57df\u586b\u5165\u6570\u636e\u6765\u4fdd\u8bc1\u6587\u4ef6\u65e0\u6cd5\u518d\u6062\u590d\u3002\u8f6f\u94fe\u63a5\u7c7b\u4f3c\u4e8eWindows\u7cfb\u7edf\u4e0b\u7684\u5feb\u6377\u65b9\u5f0f\uff0c\u5f53\u8f6f\u94fe\u63a5\u94fe\u63a5\u7684\u6587\u4ef6\u88ab\u5220\u9664\u65f6\uff0c\u8f6f\u94fe\u63a5\u4e5f\u5c31\u5931\u6548\u4e86\u3002</p> <ol> <li>\u538b\u7f29/\u89e3\u538b\u7f29\u548c\u5f52\u6863/\u89e3\u5f52\u6863 - gzip / gunzip / xz\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# wget http://download.redis.io/releases/redis-4.0.10.tar.gz\n--2018-06-20 19:29:59--  http://download.redis.io/releases/redis-4.0.10.tar.gz\nResolving download.redis.io (download.redis.io)... 109.74.203.151\nConnecting to download.redis.io (download.redis.io)|109.74.203.151|:80... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 1738465 (1.7M) [application/x-gzip]\nSaving to: \u2018redis-4.0.10.tar.gz\u2019\n100%[==================================================&gt;] 1,738,465   70.1KB/s   in 74s\n2018-06-20 19:31:14 (22.9 KB/s) - \u2018redis-4.0.10.tar.gz\u2019 saved [1738465/1738465]\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls redis*\nredis-4.0.10.tar.gz\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# gunzip redis-4.0.10.tar.gz\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls redis*\nredis-4.0.10.tar\n</code></pre> <ol> <li>\u5f52\u6863\u548c\u89e3\u5f52\u6863 - tar\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# tar -xvf redis-4.0.10.tar\nredis-4.0.10/\nredis-4.0.10/.gitignore\nredis-4.0.10/00-RELEASENOTES\nredis-4.0.10/BUGS\nredis-4.0.10/CONTRIBUTING\nredis-4.0.10/COPYING\nredis-4.0.10/INSTALL\nredis-4.0.10/MANIFESTO\nredis-4.0.10/Makefile\nredis-4.0.10/README.md\nredis-4.0.10/deps/\nredis-4.0.10/deps/Makefile\nredis-4.0.10/deps/README.md\n...\n</code></pre> <p>\u8bf4\u660e\uff1a\u5f52\u6863\uff08\u4e5f\u79f0\u4e3a\u521b\u5efa\u5f52\u6863\uff09\u548c\u89e3\u5f52\u6863\u90fd\u4f7f\u7528<code>tar</code>\u547d\u4ee4\uff0c\u901a\u5e38\u521b\u5efa\u5f52\u6863\u9700\u8981<code>-cvf</code>\u4e09\u4e2a\u53c2\u6570\uff0c\u5176\u4e2d<code>c</code>\u8868\u793a\u521b\u5efa\uff08create\uff09\uff0c<code>v</code>\u8868\u793a\u663e\u793a\u521b\u5efa\u5f52\u6863\u8be6\u60c5\uff08verbose\uff09\uff0c<code>f</code>\u8868\u793a\u6307\u5b9a\u5f52\u6863\u7684\u6587\u4ef6\uff08file\uff09\uff1b\u89e3\u5f52\u6863\u9700\u8981\u52a0\u4e0a<code>-xvf</code>\u53c2\u6570\uff0c\u5176\u4e2d<code>x</code>\u8868\u793a\u62bd\u53d6\uff08extract\uff09\uff0c\u5176\u4ed6\u4e24\u4e2a\u53c2\u6570\u8ddf\u521b\u5efa\u5f52\u6863\u76f8\u540c\u3002</p> <ol> <li>\u5c06\u6807\u51c6\u8f93\u5165\u8f6c\u6210\u547d\u4ee4\u884c\u53c2\u6570 - xargs\u3002</li> </ol> <p>\u4e0b\u9762\u7684\u547d\u4ee4\u4f1a\u5c06\u67e5\u627e\u5f53\u524d\u8def\u5f84\u4e0b\u7684html\u6587\u4ef6\uff0c\u7136\u540e\u901a\u8fc7<code>xargs</code>\u5c06\u8fd9\u4e9b\u6587\u4ef6\u4f5c\u4e3a\u53c2\u6570\u4f20\u7ed9<code>rm</code>\u547d\u4ee4\uff0c\u5b9e\u73b0\u67e5\u627e\u5e76\u5220\u9664\u6587\u4ef6\u7684\u64cd\u4f5c\u3002</p> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# find . -type f -name \"*.html\" | xargs rm -f\n</code></pre> <p>\u4e0b\u9762\u7684\u547d\u4ee4\u5c06a.txt\u6587\u4ef6\u4e2d\u7684\u591a\u884c\u5185\u5bb9\u53d8\u6210\u4e00\u884c\u8f93\u51fa\u5230b.txt\u6587\u4ef6\u4e2d\uff0c\u5176\u4e2d<code>&lt;</code>\u8868\u793a\u4ecea.txt\u4e2d\u8bfb\u53d6\u8f93\u5165\uff0c<code>&gt;</code>\u8868\u793a\u5c06\u547d\u4ee4\u7684\u6267\u884c\u7ed3\u679c\u8f93\u51fa\u5230b.txt\u4e2d\u3002</p> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# xargs &lt; a.txt &gt; b.txt\n</code></pre> <p>\u8bf4\u660e\uff1a\u8fd9\u4e2a\u547d\u4ee4\u5c31\u50cf\u4e0a\u9762\u6f14\u793a\u7684\u90a3\u6837\u5e38\u5728\u7ba1\u9053\uff08\u5b9e\u73b0\u8fdb\u7a0b\u95f4\u901a\u4fe1\u7684\u4e00\u79cd\u65b9\u5f0f\uff09\u548c\u91cd\u5b9a\u5411\uff08\u91cd\u65b0\u6307\u5b9a\u8f93\u5165\u8f93\u51fa\u7684\u4f4d\u7f6e\uff09\u64cd\u4f5c\u4e2d\u7528\u5230\uff0c\u540e\u9762\u7684\u5185\u5bb9\u4e2d\u4f1a\u8bb2\u5230\u7ba1\u9053\u64cd\u4f5c\u548c\u8f93\u5165\u8f93\u51fa\u91cd\u5b9a\u5411\u64cd\u4f5c\u3002</p> <ol> <li> <p>\u663e\u793a\u6587\u4ef6\u6216\u76ee\u5f55 - basename / dirname\u3002</p> </li> <li> <p>\u5176\u4ed6\u76f8\u5173\u5de5\u5177\u3002 </p> </li> <li> <p>sort - \u5bf9\u5185\u5bb9\u6392\u5e8f</p> </li> <li>uniq - \u53bb\u6389\u76f8\u90bb\u91cd\u590d\u5185\u5bb9</li> <li>tr - \u66ff\u6362\u6307\u5b9a\u5185\u5bb9\u4e3a\u65b0\u5185\u5bb9</li> <li>cut / paste - \u526a\u5207/\u9ecf\u8d34\u5185\u5bb9</li> <li>split - \u62c6\u5206\u6587\u4ef6</li> <li>file - \u5224\u65ad\u6587\u4ef6\u7c7b\u578b</li> <li>wc - \u7edf\u8ba1\u6587\u4ef6\u884c\u6570\u3001\u5355\u8bcd\u6570\u3001\u5b57\u8282\u6570</li> <li>iconv - \u7f16\u7801\u8f6c\u6362</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# cat foo.txt\ngrape\napple\npitaya\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# cat bar.txt\n100\n200\n300\n400\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# paste foo.txt bar.txt\ngrape   100\napple   200\npitaya  300\n        400\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# paste foo.txt bar.txt &gt; hello.txt\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# cut -b 4-8 hello.txt\npe      10\nle      20\naya     3\n0\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# cat hello.txt | tr '\\t' ','\ngrape,100\napple,200\npitaya,300\n,400\n[root@izwz97tbgo9lkabnat2lo8z ~]# split -l 100 sohu.html hello\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# wget https://www.baidu.com/img/bd_logo1.png\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# file bd_logo1.png\nbd_logo1.png: PNG image data, 540 x 258, 8-bit colormap, non-interlaced\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# wc sohu.html\n  2979   6355 212527 sohu.html\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# wc -l sohu.html\n2979 sohu.html\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# wget http://www.qq.com -O qq.html\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# iconv -f gb2312 -t utf-8 qq.html\n</code></pre>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_9","title":"\u7ba1\u9053\u548c\u91cd\u5b9a\u5411","text":"<ol> <li>\u7ba1\u9053\u7684\u4f7f\u7528 - |\u3002</li> </ol> <p>\u4f8b\u5b50\uff1a\u67e5\u627e\u5f53\u524d\u76ee\u5f55\u4e0b\u6587\u4ef6\u4e2a\u6570\u3002</p> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# find ./ | wc -l\n6152\n</code></pre> <p>\u4f8b\u5b50\uff1a\u5217\u51fa\u5f53\u524d\u8def\u5f84\u4e0b\u7684\u6587\u4ef6\u548c\u6587\u4ef6\u5939\uff0c\u7ed9\u6bcf\u4e00\u9879\u52a0\u4e00\u4e2a\u7f16\u53f7\u3002</p> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls | cat -n\n     1  dump.rdb\n     2  mongodb-3.6.5\n     3  Python-3.6.5\n     4  redis-3.2.11\n     5  redis.conf\n</code></pre> <p>\u4f8b\u5b50\uff1a\u67e5\u627erecord.log\u4e2d\u5305\u542bAAA\uff0c\u4f46\u4e0d\u5305\u542bBBB\u7684\u8bb0\u5f55\u7684\u603b\u6570</p> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# cat record.log | grep AAA | grep -v BBB | wc -l\n</code></pre> <ol> <li>\u8f93\u51fa\u91cd\u5b9a\u5411\u548c\u9519\u8bef\u91cd\u5b9a\u5411 - &gt; / &gt;&gt; / 2&gt;\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# cat readme.txt\nbanana\napple\ngrape\napple\ngrape\nwatermelon\npear\npitaya\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# cat readme.txt | sort | uniq &gt; result.txt\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# cat result.txt\napple\nbanana\ngrape\npear\npitaya\nwatermelon\n</code></pre> <ol> <li>\u8f93\u5165\u91cd\u5b9a\u5411 - \\&lt;\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# echo 'hello, world!' &gt; hello.txt\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# wall &lt; hello.txt\n[root@iZwz97tbgo9lkabnat2lo8Z ~]#\nBroadcast message from root@iZwz97tbgo9lkabnat2lo8Z (Wed Jun 20 19:43:05 2018):\nhello, world!\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# echo 'I will show you some code.' &gt;&gt; hello.txt\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# wall &lt; hello.txt\n[root@iZwz97tbgo9lkabnat2lo8Z ~]#\nBroadcast message from root@iZwz97tbgo9lkabnat2lo8Z (Wed Jun 20 19:43:55 2018):\nhello, world!\nI will show you some code.\n</code></pre> <ol> <li>\u591a\u91cd\u5b9a\u5411 - tee\u3002</li> </ol> <p>\u4e0b\u9762\u7684\u547d\u4ee4\u9664\u4e86\u5728\u7ec8\u7aef\u663e\u793a\u547d\u4ee4<code>ls</code>\u7684\u7ed3\u679c\u4e4b\u5916\uff0c\u8fd8\u4f1a\u8ffd\u52a0\u8f93\u51fa\u5230<code>ls.txt</code>\u6587\u4ef6\u4e2d\u3002</p> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls | tee -a ls.txt\n</code></pre>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_10","title":"\u522b\u540d","text":"<ol> <li>alias</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# alias ll='ls -l'\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# alias frm='rm -rf'\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# ll\n...\ndrwxr-xr-x  2 root       root   4096 Jun 20 12:52 abc\n...\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# frm abc\n</code></pre> <ol> <li>unalias</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# unalias frm\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# frm sohu.html\n-bash: frm: command not found\n</code></pre>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_11","title":"\u6587\u672c\u5904\u7406","text":"<ol> <li>\u5b57\u7b26\u6d41\u7f16\u8f91\u5668 - sed\u3002</li> </ol> <p>sed\u662f\u64cd\u4f5c\u3001\u8fc7\u6ee4\u548c\u8f6c\u6362\u6587\u672c\u5185\u5bb9\u7684\u5de5\u5177\u3002\u5047\u8bbe\u6709\u4e00\u4e2a\u540d\u4e3afruit.txt\u7684\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# cat -n fruit.txt \n     1  banana\n     2  grape\n     3  apple\n     4  watermelon\n     5  orange\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5728\u7b2c2\u884c\u540e\u9762\u6dfb\u52a0\u4e00\u4e2apitaya\u3002</p> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# sed '2a pitaya' fruit.txt \nbanana\ngrape\npitaya\napple\nwatermelon\norange\n</code></pre> <p>\u6ce8\u610f\uff1a\u521a\u624d\u7684\u547d\u4ee4\u548c\u4e4b\u524d\u6211\u4eec\u8bb2\u8fc7\u7684\u5f88\u591a\u547d\u4ee4\u4e00\u6837\u5e76\u6ca1\u6709\u6539\u53d8fruit.txt\u6587\u4ef6\uff0c\u800c\u662f\u5c06\u6dfb\u52a0\u4e86\u65b0\u884c\u7684\u5185\u5bb9\u8f93\u51fa\u5230\u7ec8\u7aef\u4e2d\uff0c\u5982\u679c\u60f3\u4fdd\u5b58\u5230fruit.txt\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u8f93\u51fa\u91cd\u5b9a\u5411\u64cd\u4f5c\u3002</p> <p>\u5728\u7b2c2\u884c\u524d\u9762\u63d2\u5165\u4e00\u4e2awaxberry\u3002</p> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# sed '2i waxberry' fruit.txt\nbanana\nwaxberry\ngrape\napple\nwatermelon\norange\n</code></pre> <p>\u5220\u9664\u7b2c3\u884c\u3002</p> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# sed '3d' fruit.txt\nbanana\ngrape\nwatermelon\norange\n</code></pre> <p>\u5220\u9664\u7b2c2\u884c\u5230\u7b2c4\u884c\u3002</p> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# sed '2,4d' fruit.txt\nbanana\norange\n</code></pre> <p>\u5c06\u6587\u672c\u4e2d\u7684\u5b57\u7b26a\u66ff\u6362\u4e3a@\u3002</p> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# sed 's#a#@#' fruit.txt \nb@nana\ngr@pe\n@pple\nw@termelon\nor@nge\n</code></pre> <p>\u5c06\u6587\u672c\u4e2d\u7684\u5b57\u7b26a\u66ff\u6362\u4e3a@\uff0c\u4f7f\u7528\u5168\u5c40\u6a21\u5f0f\u3002</p> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# sed 's#a#@#g' fruit.txt \nb@n@n@\ngr@pe\n@pple\nw@termelon\nor@nge\n</code></pre> <ol> <li>\u6a21\u5f0f\u5339\u914d\u548c\u5904\u7406\u8bed\u8a00 - awk\u3002</li> </ol> <p>awk\u662f\u4e00\u79cd\u7f16\u7a0b\u8bed\u8a00\uff0c\u4e5f\u662fLinux\u7cfb\u7edf\u4e2d\u5904\u7406\u6587\u672c\u6700\u4e3a\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u5b83\u7684\u4f5c\u8005\u4e4b\u4e00\u548c\u73b0\u5728\u7684\u7ef4\u62a4\u8005\u5c31\u662f\u4e4b\u524d\u63d0\u5230\u8fc7\u7684Brian Kernighan\uff08ken\u548cdmr\u6700\u4eb2\u5bc6\u7684\u4f19\u4f34\uff09\u3002\u901a\u8fc7\u8be5\u547d\u4ee4\u53ef\u4ee5\u4ece\u6587\u672c\u4e2d\u63d0\u53d6\u51fa\u6307\u5b9a\u7684\u5217\u3001\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u4ece\u6587\u672c\u4e2d\u53d6\u51fa\u6211\u4eec\u60f3\u8981\u7684\u5185\u5bb9\u3001\u663e\u793a\u6307\u5b9a\u7684\u884c\u4ee5\u53ca\u8fdb\u884c\u7edf\u8ba1\u548c\u8fd0\u7b97\uff0c\u603b\u4e4b\u5b83\u975e\u5e38\u5f3a\u5927\u3002</p> <p>\u5047\u8bbe\u6709\u4e00\u4e2a\u540d\u4e3afruit2.txt\u7684\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# cat fruit2.txt \n1       banana      120\n2       grape       500\n3       apple       1230\n4       watermelon  80\n5       orange      400\n</code></pre> <p>\u663e\u793a\u6587\u4ef6\u7684\u7b2c3\u884c\u3002</p> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# awk 'NR==3' fruit2.txt \n3       apple       1230\n</code></pre> <p>\u663e\u793a\u6587\u4ef6\u7684\u7b2c2\u5217\u3002</p> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# awk '{print $2}' fruit2.txt \nbanana\ngrape\napple\nwatermelon\norange\n</code></pre> <p>\u663e\u793a\u6587\u4ef6\u7684\u6700\u540e\u4e00\u5217\u3002</p> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# awk '{print $NF}' fruit2.txt \n120\n500\n1230\n80\n400\n</code></pre> <p>\u8f93\u51fa\u672b\u5c3e\u6570\u5b57\u5927\u4e8e\u7b49\u4e8e300\u7684\u884c\u3002</p> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# awk '{if($3 &gt;= 300) {print $0}}' fruit2.txt \n2       grape       500\n3       apple       1230\n5       orange      400\n</code></pre> <p>\u4e0a\u9762\u5c55\u793a\u7684\u53ea\u662fawk\u547d\u4ee4\u7684\u51b0\u5c71\u4e00\u89d2\uff0c\u66f4\u591a\u7684\u5185\u5bb9\u7559\u7ed9\u8bfb\u8005\u81ea\u5df1\u5728\u5b9e\u8df5\u4e2d\u53bb\u63a2\u7d22\u3002</p>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_12","title":"\u7528\u6237\u7ba1\u7406","text":"<ol> <li>\u521b\u5efa\u548c\u5220\u9664\u7528\u6237 - useradd / userdel\u3002</li> </ol> <pre><code>[root@izwz97tbgo9lkabnat2lo8z home]# useradd hellokitty\n[root@izwz97tbgo9lkabnat2lo8z home]# userdel hellokitty\n</code></pre> <ul> <li><code>-d</code> - \u521b\u5efa\u7528\u6237\u65f6\u4e3a\u7528\u6237\u6307\u5b9a\u7528\u6237\u4e3b\u76ee\u5f55</li> <li> <p><code>-g</code> - \u521b\u5efa\u7528\u6237\u65f6\u6307\u5b9a\u7528\u6237\u6240\u5c5e\u7684\u7528\u6237\u7ec4</p> </li> <li> <p>\u521b\u5efa\u548c\u5220\u9664\u7528\u6237\u7ec4 - groupadd / groupdel\u3002</p> </li> </ul> <p>\u8bf4\u660e\uff1a\u7528\u6237\u7ec4\u4e3b\u8981\u662f\u4e3a\u4e86\u65b9\u4fbf\u5bf9\u4e00\u4e2a\u7ec4\u91cc\u9762\u6240\u6709\u7528\u6237\u7684\u7ba1\u7406\u3002</p> <ol> <li>\u4fee\u6539\u5bc6\u7801 - passwd\u3002</li> </ol> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# passwd hellokitty\nNew password: \nRetype new password: \npasswd: all authentication tokens updated successfully.\n</code></pre> <p>\u8bf4\u660e\uff1a\u8f93\u5165\u5bc6\u7801\u548c\u786e\u8ba4\u5bc6\u7801\u6ca1\u6709\u56de\u663e\u4e14\u5fc5\u987b\u4e00\u6c14\u5475\u6210\u7684\u8f93\u5165\u5b8c\u6210\uff08\u4e0d\u80fd\u4f7f\u7528\u9000\u683c\u952e\uff09\uff0c\u5bc6\u7801\u548c\u786e\u8ba4\u5bc6\u7801\u9700\u8981\u4e00\u81f4\u3002\u5982\u679c\u4f7f\u7528<code>passwd</code>\u547d\u4ee4\u65f6\u6ca1\u6709\u6307\u5b9a\u547d\u4ee4\u4f5c\u7528\u7684\u5bf9\u8c61\uff0c\u5219\u8868\u793a\u8981\u4fee\u6539\u5f53\u524d\u7528\u6237\u7684\u5bc6\u7801\u3002\u5982\u679c\u60f3\u6279\u91cf\u4fee\u6539\u7528\u6237\u5bc6\u7801\uff0c\u53ef\u4ee5\u4f7f\u7528<code>chpasswd</code>\u547d\u4ee4\u3002</p> <ul> <li><code>-l</code> / <code>-u</code> - \u9501\u5b9a/\u89e3\u9501\u7528\u6237\u3002</li> <li><code>-d</code> - \u6e05\u9664\u7528\u6237\u5bc6\u7801\u3002</li> <li><code>-e</code> - \u8bbe\u7f6e\u5bc6\u7801\u7acb\u5373\u8fc7\u671f\uff0c\u7528\u6237\u767b\u5f55\u65f6\u4f1a\u5f3a\u5236\u8981\u6c42\u4fee\u6539\u5bc6\u7801\u3002</li> <li> <p><code>-i</code> - \u8bbe\u7f6e\u5bc6\u7801\u8fc7\u671f\u591a\u5c11\u5929\u4ee5\u540e\u7981\u7528\u8be5\u7528\u6237\u3002</p> </li> <li> <p>\u67e5\u770b\u548c\u4fee\u6539\u5bc6\u7801\u6709\u6548\u671f - chage\u3002</p> </li> </ul> <p>\u8bbe\u7f6ehellokitty\u7528\u6237100\u5929\u540e\u5fc5\u987b\u4fee\u6539\u5bc6\u7801\uff0c\u8fc7\u671f\u524d15\u5929\u901a\u77e5\u8be5\u7528\u6237\uff0c\u8fc7\u671f\u540e15\u5929\u7981\u7528\u8be5\u7528\u6237\u3002</p> <pre><code>chage -M 100 -W 15 -I 15 hellokitty\n</code></pre> <ol> <li>\u5207\u6362\u7528\u6237 - su\u3002</li> </ol> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# su hellokitty\n[hellokitty@izwz97tbgo9lkabnat2lo8z root]$\n</code></pre> <ol> <li>\u4ee5\u7ba1\u7406\u5458\u8eab\u4efd\u6267\u884c\u547d\u4ee4 - sudo\u3002</li> </ol> <pre><code>[hellokitty@izwz97tbgo9lkabnat2lo8z ~]$ ls /root\nls: cannot open directory /root: Permission denied\n[hellokitty@izwz97tbgo9lkabnat2lo8z ~]$ sudo ls /root\n[sudo] password for hellokitty:\n</code></pre> <p>\u8bf4\u660e\uff1a\u5982\u679c\u5e0c\u671b\u7528\u6237\u80fd\u591f\u4ee5\u7ba1\u7406\u5458\u8eab\u4efd\u6267\u884c\u547d\u4ee4\uff0c\u7528\u6237\u5fc5\u987b\u8981\u51fa\u73b0\u5728sudoers\u540d\u5355\u4e2d\uff0csudoers\u6587\u4ef6\u5728 <code>/etc</code>\u76ee\u5f55\u4e0b\uff0c\u5982\u679c\u5e0c\u671b\u76f4\u63a5\u7f16\u8f91\u8be5\u6587\u4ef6\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u3002</p> <ol> <li>\u7f16\u8f91sudoers\u6587\u4ef6 - visudo\u3002</li> </ol> <p>\u8fd9\u91cc\u4f7f\u7528\u7684\u7f16\u8f91\u5668\u662fvi\uff0c\u5173\u4e8evi\u7684\u77e5\u8bc6\u5728\u540e\u9762\u6709\u8bb2\u89e3\u3002\u8be5\u6587\u4ef6\u7684\u90e8\u5206\u5185\u5bb9\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>## Allow root to run any commands anywhere \nroot    ALL=(ALL)   ALL\n\n## Allows members of the 'sys' group to run networking, software, \n## service management apps and more.\n# %sys ALL = NETWORKING, SOFTWARE, SERVICES, STORAGE, DELEGATING, PROCESSES, LOCATE, DRIVERS\n## Allows people in group wheel to run all commands\n%wheel  ALL=(ALL)   ALL\n\n## Same thing without a password\n# %wheel    ALL=(ALL)   NOPASSWD: ALL\n\n## Allows members of the users group to mount and unmount the\n## cdrom as root\n# %users  ALL=/sbin/mount /mnt/cdrom, /sbin/umount /mnt/cdrom\n\n## Allows members of the users group to shutdown this system\n# %users  localhost=/sbin/shutdown -h now\n</code></pre> <ol> <li> <p>\u663e\u793a\u7528\u6237\u4e0e\u7528\u6237\u7ec4\u7684\u4fe1\u606f - id\u3002</p> </li> <li> <p>\u7ed9\u5176\u4ed6\u7528\u6237\u53d1\u6d88\u606f -write / wall\u3002</p> </li> </ol> <p>\u53d1\u9001\u65b9\uff1a</p> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# write hellokitty\nDinner is on me.\nCall me at 6pm.\n</code></pre> <p>\u63a5\u6536\u65b9\uff1a</p> <pre><code>[hellokitty@izwz97tbgo9lkabnat2lo8z ~]$ \nMessage from root@izwz97tbgo9lkabnat2lo8z on pts/0 at 17:41 ...\nDinner is on me.\nCall me at 6pm.\nEOF\n</code></pre> <ol> <li> <p>\u67e5\u770b/\u8bbe\u7f6e\u662f\u5426\u63a5\u6536\u5176\u4ed6\u7528\u6237\u53d1\u9001\u7684\u6d88\u606f - mesg\u3002</p> <pre><code>[hellokitty@izwz97tbgo9lkabnat2lo8z ~]$ mesg\nis y\n[hellokitty@izwz97tbgo9lkabnat2lo8z ~]$ mesg n\n[hellokitty@izwz97tbgo9lkabnat2lo8z ~]$ mesg\nis n\n</code></pre> </li> </ol>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_13","title":"\u6587\u4ef6\u7cfb\u7edf","text":""},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_14","title":"\u6587\u4ef6\u548c\u8def\u5f84","text":"<ol> <li>\u547d\u540d\u89c4\u5219\uff1a\u6587\u4ef6\u540d\u7684\u6700\u5927\u957f\u5ea6\u4e0e\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u6709\u5173\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6587\u4ef6\u540d\u4e0d\u5e94\u8be5\u8d85\u8fc7255\u4e2a\u5b57\u7b26\uff0c\u867d\u7136\u7edd\u5927\u591a\u6570\u7684\u5b57\u7b26\u90fd\u53ef\u4ee5\u7528\u4e8e\u6587\u4ef6\u540d\uff0c\u4f46\u662f\u6700\u597d\u4f7f\u7528\u82f1\u6587\u5927\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u3001\u70b9\u8fd9\u6837\u7684\u7b26\u53f7\u3002\u6587\u4ef6\u540d\u4e2d\u867d\u7136\u53ef\u4ee5\u4f7f\u7528\u7a7a\u683c\uff0c\u4f46\u5e94\u8be5\u5c3d\u53ef\u80fd\u907f\u514d\u4f7f\u7528\u7a7a\u683c\uff0c\u5426\u5219\u5728\u8f93\u5165\u6587\u4ef6\u540d\u65f6\u9700\u8981\u7528\u5c06\u6587\u4ef6\u540d\u653e\u5728\u53cc\u5f15\u53f7\u4e2d\u6216\u8005\u901a\u8fc7<code>\\</code>\u5bf9\u7a7a\u683c\u8fdb\u884c\u8f6c\u4e49\u3002</li> <li>\u6269\u5c55\u540d\uff1a\u5728Linux\u7cfb\u7edf\u4e0b\u6587\u4ef6\u7684\u6269\u5c55\u540d\u662f\u53ef\u9009\u7684\uff0c\u4f46\u662f\u4f7f\u7528\u6269\u5c55\u540d\u6709\u52a9\u4e8e\u5bf9\u6587\u4ef6\u5185\u5bb9\u7684\u7406\u89e3\u3002\u6709\u4e9b\u5e94\u7528\u7a0b\u5e8f\u8981\u901a\u8fc7\u6269\u5c55\u540d\u6765\u8bc6\u522b\u6587\u4ef6\uff0c\u4f46\u662f\u66f4\u591a\u7684\u5e94\u7528\u7a0b\u5e8f\u5e76\u4e0d\u4f9d\u8d56\u6587\u4ef6\u7684\u6269\u5c55\u540d\uff0c\u5c31\u50cf<code>file</code>\u547d\u4ee4\u5728\u8bc6\u522b\u6587\u4ef6\u65f6\u5e76\u4e0d\u662f\u4f9d\u636e\u6269\u5c55\u540d\u6765\u5224\u5b9a\u6587\u4ef6\u7684\u7c7b\u578b\u3002</li> <li>\u9690\u85cf\u6587\u4ef6\uff1a\u4ee5\u70b9\u5f00\u5934\u7684\u6587\u4ef6\u5728Linux\u7cfb\u7edf\u4e2d\u662f\u9690\u85cf\u6587\u4ef6\uff08\u4e0d\u53ef\u89c1\u6587\u4ef6\uff09\u3002</li> </ol>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_15","title":"\u76ee\u5f55\u7ed3\u6784","text":"<ol> <li>/bin - \u57fa\u672c\u547d\u4ee4\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002</li> <li>/boot - \u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u7684\u9759\u6001\u6587\u4ef6\u3002</li> <li>/dev - \u8bbe\u5907\u6587\u4ef6\u3002</li> <li>/etc - \u914d\u7f6e\u6587\u4ef6\u3002</li> <li>/home - \u666e\u901a\u7528\u6237\u4e3b\u76ee\u5f55\u7684\u7236\u76ee\u5f55\u3002</li> <li>/lib - \u5171\u4eab\u5e93\u6587\u4ef6\u3002</li> <li>/lib64 - \u5171\u4eab64\u4f4d\u5e93\u6587\u4ef6\u3002</li> <li>/lost+found - \u5b58\u653e\u672a\u94fe\u63a5\u6587\u4ef6\u3002</li> <li>/media - \u81ea\u52a8\u8bc6\u522b\u8bbe\u5907\u7684\u6302\u8f7d\u76ee\u5f55\u3002</li> <li>/mnt - \u4e34\u65f6\u6302\u8f7d\u6587\u4ef6\u7cfb\u7edf\u7684\u6302\u8f7d\u70b9\u3002</li> <li>/opt - \u53ef\u9009\u63d2\u4ef6\u8f6f\u4ef6\u5305\u5b89\u88c5\u4f4d\u7f6e\u3002</li> <li>/proc -  \u5185\u6838\u548c\u8fdb\u7a0b\u4fe1\u606f\u3002</li> <li>/root - \u8d85\u7ea7\u7ba1\u7406\u5458\u7528\u6237\u4e3b\u76ee\u5f55\u3002</li> <li>/run - \u5b58\u653e\u7cfb\u7edf\u8fd0\u884c\u65f6\u9700\u8981\u7684\u4e1c\u897f\u3002</li> <li>/sbin - \u8d85\u7ea7\u7528\u6237\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002</li> <li>/sys - \u8bbe\u5907\u7684\u4f2a\u6587\u4ef6\u7cfb\u7edf\u3002</li> <li>/tmp - \u4e34\u65f6\u6587\u4ef6\u5939\u3002</li> <li>/usr - \u7528\u6237\u5e94\u7528\u76ee\u5f55\u3002</li> <li>/var - \u53d8\u91cf\u6570\u636e\u76ee\u5f55\u3002</li> </ol>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_16","title":"\u8bbf\u95ee\u6743\u9650","text":"<ol> <li>chmod - \u6539\u53d8\u6587\u4ef6\u6a21\u5f0f\u6bd4\u7279\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l\n...\n-rw-r--r--  1 root       root 211878 Jun 19 16:06 sohu.html\n...\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# chmod g+w,o+w sohu.html\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l\n...\n-rw-rw-rw-  1 root       root 211878 Jun 19 16:06 sohu.html\n...\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# chmod 644 sohu.html\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l\n...\n-rw-r--r--  1 root       root 211878 Jun 19 16:06 sohu.html\n...\n</code></pre> <p>\u8bf4\u660e\uff1a\u901a\u8fc7\u4e0a\u9762\u7684\u4f8b\u5b50\u53ef\u4ee5\u770b\u51fa\uff0c\u7528<code>chmod</code>\u6539\u53d8\u6587\u4ef6\u6a21\u5f0f\u6bd4\u7279\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a\u4e00\u79cd\u662f\u5b57\u7b26\u8bbe\u5b9a\u6cd5\uff0c\u53e6\u4e00\u79cd\u662f\u6570\u5b57\u8bbe\u5b9a\u6cd5\u3002\u9664\u4e86<code>chmod</code>\u4e4b\u5916\uff0c\u53ef\u4ee5\u901a\u8fc7<code>umask</code>\u6765\u8bbe\u5b9a\u54ea\u4e9b\u6743\u9650\u5c06\u5728\u65b0\u6587\u4ef6\u7684\u9ed8\u8ba4\u6743\u9650\u4e2d\u88ab\u5220\u9664\u3002</p> <p>\u957f\u683c\u5f0f\u67e5\u770b\u76ee\u5f55\u6216\u6587\u4ef6\u65f6\u663e\u793a\u7ed3\u679c\u53ca\u5176\u5bf9\u5e94\u6743\u9650\u7684\u6570\u503c\u5982\u4e0b\u8868\u6240\u793a\u3002</p> <p></p> <ol> <li> <p>chown - \u6539\u53d8\u6587\u4ef6\u6240\u6709\u8005\u3002</p> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l\n...\n-rw-r--r--  1 root root     54 Jun 20 10:06 readme.txt\n...\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# chown hellokitty readme.txt\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# ls -l\n...\n-rw-r--r--  1 hellokitty root     54 Jun 20 10:06 readme.txt\n...\n</code></pre> </li> <li> <p>chgrp - \u6539\u53d8\u7528\u6237\u7ec4\u3002</p> </li> </ol>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_17","title":"\u78c1\u76d8\u7ba1\u7406","text":"<ol> <li>\u5217\u51fa\u6587\u4ef6\u7cfb\u7edf\u7684\u78c1\u76d8\u4f7f\u7528\u72b6\u51b5 - df\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# df -h\nFilesystem      Size  Used Avail Use% Mounted on\n/dev/vda1        40G  5.0G   33G  14% /\ndevtmpfs        486M     0  486M   0% /dev\ntmpfs           497M     0  497M   0% /dev/shm\ntmpfs           497M  356K  496M   1% /run\ntmpfs           497M     0  497M   0% /sys/fs/cgroup\ntmpfs           100M     0  100M   0% /run/user/0\n</code></pre> <ol> <li>\u78c1\u76d8\u5206\u533a\u8868\u64cd\u4f5c - fdisk\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# fdisk -l\nDisk /dev/vda: 42.9 GB, 42949672960 bytes, 83886080 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisk label type: dos\nDisk identifier: 0x000a42f4\n   Device Boot      Start         End      Blocks   Id  System\n/dev/vda1   *        2048    83884031    41940992   83  Linux\nDisk /dev/vdb: 21.5 GB, 21474836480 bytes, 41943040 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\n</code></pre> <ol> <li> <p>\u78c1\u76d8\u5206\u533a\u5de5\u5177 - parted\u3002</p> </li> <li> <p>\u683c\u5f0f\u5316\u6587\u4ef6\u7cfb\u7edf - mkfs\u3002</p> </li> </ol> <pre><code>[hellokitty@izwz97tbgo9lkabnat2lo8z ~]$ mkfs -t ext4 -v /dev/sdb\n</code></pre> <ul> <li><code>-t</code> - \u6307\u5b9a\u6587\u4ef6\u7cfb\u7edf\u7684\u7c7b\u578b\u3002</li> <li><code>-c</code> - \u521b\u5efa\u6587\u4ef6\u7cfb\u7edf\u65f6\u68c0\u67e5\u78c1\u76d8\u635f\u574f\u60c5\u51b5\u3002</li> <li> <p><code>-v</code> - \u663e\u793a\u8be6\u7ec6\u4fe1\u606f\u3002</p> </li> <li> <p>\u6587\u4ef6\u7cfb\u7edf\u68c0\u67e5 - fsck\u3002</p> </li> <li> <p>\u8f6c\u6362\u6216\u62f7\u8d1d\u6587\u4ef6 - dd\u3002</p> </li> <li> <p>\u6302\u8f7d/\u5378\u8f7d - mount / umount\u3002</p> </li> <li> <p>\u521b\u5efa/\u6fc0\u6d3b/\u5173\u95ed\u4ea4\u6362\u5206\u533a - mkswap / swapon / swapoff\u3002</p> </li> </ul> <p>\u8bf4\u660e\uff1a\u6267\u884c\u4e0a\u9762\u8fd9\u4e9b\u547d\u4ee4\u4f1a\u5e26\u6709\u4e00\u5b9a\u7684\u98ce\u9669\uff0c\u5982\u679c\u4e0d\u6e05\u695a\u8fd9\u4e9b\u547d\u4ee4\u7684\u7528\u6cd5\uff0c\u6700\u597d\u4e0d\u7528\u968f\u610f\u4f7f\u7528\uff0c\u5728\u4f7f\u7528\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6700\u597d\u5bf9\u7167\u53c2\u8003\u8d44\u6599\u8fdb\u884c\u64cd\u4f5c\uff0c\u5e76\u5728\u64cd\u4f5c\u524d\u786e\u8ba4\u662f\u5426\u8981\u8fd9\u4e48\u505a\u3002</p>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#-vim","title":"\u7f16\u8f91\u5668 - vim","text":"<ol> <li>\u542f\u52a8vim\u3002\u53ef\u4ee5\u901a\u8fc7<code>vi</code>\u6216<code>vim</code>\u547d\u4ee4\u6765\u542f\u52a8vim\uff0c\u542f\u52a8\u65f6\u53ef\u4ee5\u6307\u5b9a\u6587\u4ef6\u540d\u6765\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u6587\u4ef6\u540d\uff0c\u4e5f\u53ef\u4ee5\u5728\u4fdd\u5b58\u7684\u65f6\u5019\u6307\u5b9a\u6587\u4ef6\u540d\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# vim guess.py\n</code></pre> <ol> <li> <p>\u547d\u4ee4\u6a21\u5f0f\u3001\u7f16\u8f91\u6a21\u5f0f\u548c\u672b\u884c\u6a21\u5f0f\uff1a\u542f\u52a8vim\u8fdb\u5165\u7684\u662f\u547d\u4ee4\u6a21\u5f0f\uff08\u4e5f\u79f0\u4e3aNormal\u6a21\u5f0f\uff09\uff0c\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\u8f93\u5165\u82f1\u6587\u5b57\u6bcd<code>i</code>\u4f1a\u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f\uff08Insert\u6a21\u5f0f\uff09\uff0c\u5c4f\u5e55\u4e0b\u65b9\u51fa\u73b0<code>-- INSERT --</code>\u63d0\u793a\uff1b\u5728\u7f16\u8f91\u6a21\u5f0f\u4e0b\u6309\u4e0b<code>Esc</code>\u4f1a\u56de\u5230\u547d\u4ee4\u6a21\u5f0f\uff0c\u6b64\u65f6\u5982\u679c\u8f93\u5165\u82f1\u6587<code>:</code>\u4f1a\u8fdb\u5165\u672b\u884c\u6a21\u5f0f\uff0c\u5728\u672b\u884c\u6a21\u5f0f\u4e0b\u8f93\u5165<code>q!</code>\u53ef\u4ee5\u5728\u4e0d\u4fdd\u5b58\u5f53\u524d\u5de5\u4f5c\u7684\u60c5\u51b5\u4e0b\u5f3a\u884c\u9000\u51favim\uff1b\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\u8f93\u5165<code>v</code>\u4f1a\u8fdb\u5165\u53ef\u89c6\u6a21\u5f0f\uff08Visual\u6a21\u5f0f\uff09\uff0c\u53ef\u4ee5\u7528\u5149\u6807\u9009\u62e9\u4e00\u4e2a\u533a\u57df\u518d\u5b8c\u6210\u5bf9\u5e94\u7684\u64cd\u4f5c\u3002</p> </li> <li> <p>\u4fdd\u5b58\u548c\u9000\u51favim\uff1a\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\u8f93\u5165<code>:</code> \u8fdb\u5165\u672b\u884c\u6a21\u5f0f\uff0c\u8f93\u5165<code>wq</code>\u53ef\u4ee5\u5b9e\u73b0\u4fdd\u5b58\u9000\u51fa\uff1b\u5982\u679c\u60f3\u653e\u5f03\u7f16\u8f91\u7684\u5185\u5bb9\u8f93\u5165<code>q!</code>\u5f3a\u884c\u9000\u51fa\uff0c\u8fd9\u4e00\u70b9\u521a\u624d\u5df2\u7ecf\u63d0\u5230\u8fc7\u4e86\uff1b\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\u4e5f\u53ef\u4ee5\u76f4\u63a5\u8f93\u5165<code>ZZ</code>\u5b9e\u73b0\u4fdd\u5b58\u9000\u51fa\u3002\u5982\u679c\u53ea\u60f3\u4fdd\u5b58\u6587\u4ef6\u4e0d\u9000\u51fa\uff0c\u90a3\u4e48\u53ef\u4ee5\u5728\u672b\u884c\u6a21\u5f0f\u4e0b\u8f93\u5165<code>w</code>\uff1b\u53ef\u4ee5\u5728<code>w</code>\u540e\u9762\u8f93\u5165\u7a7a\u683c\u518d\u6307\u5b9a\u8981\u4fdd\u5b58\u7684\u6587\u4ef6\u540d\u3002</p> </li> <li> <p>\u5149\u6807\u64cd\u4f5c\u3002</p> </li> <li> <p>\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\u53ef\u4ee5\u901a\u8fc7<code>h</code>\u3001<code>j</code>\u3001<code>k</code>\u3001<code>l</code>\u6765\u63a7\u5236\u5149\u6807\u5411\u5de6\u3001\u4e0b\u3001\u4e0a\u3001\u53f3\u7684\u65b9\u5411\u79fb\u52a8\uff0c\u53ef\u4ee5\u5728\u5b57\u6bcd\u524d\u8f93\u5165\u6570\u5b57\u6765\u8868\u793a\u79fb\u52a8\u7684\u8ddd\u79bb\uff0c\u4f8b\u5982\uff1a<code>10h</code>\u8868\u793a\u5411\u5de6\u79fb\u52a810\u4e2a\u5b57\u7b26\u3002</p> </li> <li>\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\u53ef\u4ee5\u901a\u8fc7<code>Ctrl+y</code>\u548c<code>Ctrl+e</code>\u6765\u5b9e\u73b0\u5411\u4e0a\u3001\u5411\u4e0b\u6eda\u52a8\u4e00\u884c\u6587\u672c\u7684\u64cd\u4f5c\uff0c\u53ef\u4ee5\u901a\u8fc7<code>Ctrl+f</code>\u548c<code>Ctrl+b</code>\u6765\u5b9e\u73b0\u5411\u524d\u548c\u5411\u540e\u7ffb\u9875\u7684\u64cd\u4f5c\u3002</li> <li> <p>\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\u53ef\u4ee5\u901a\u8fc7\u8f93\u5165\u82f1\u6587\u5b57\u6bcd<code>G</code>\u5c06\u5149\u6807\u79fb\u5230\u6587\u4ef6\u7684\u672b\u5c3e\uff0c\u53ef\u4ee5\u901a\u8fc7<code>gg</code>\u5c06\u5149\u6807\u79fb\u5230\u6587\u4ef6\u7684\u5f00\u59cb\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5728<code>G</code>\u524d\u8f93\u5165\u6570\u5b57\u6765\u5c06\u5149\u6807\u79fb\u52a8\u5230\u6307\u5b9a\u7684\u884c\u3002</p> </li> <li> <p>\u6587\u672c\u64cd\u4f5c\u3002</p> </li> <li> <p>\u5220\u9664\uff1a\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\u53ef\u4ee5\u7528<code>dd</code>\u6765\u5220\u9664\u6574\u884c\uff1b\u53ef\u4ee5\u5728<code>dd</code>\u524d\u52a0\u6570\u5b57\u6765\u6307\u5b9a\u5220\u9664\u7684\u884c\u6570\uff1b\u53ef\u4ee5\u7528<code>d$</code>\u6765\u5b9e\u73b0\u5220\u9664\u4ece\u5149\u6807\u5904\u5220\u5230\u884c\u5c3e\u7684\u64cd\u4f5c\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7<code>d0</code>\u6765\u5b9e\u73b0\u4ece\u5149\u6807\u5904\u5220\u5230\u884c\u9996\u7684\u64cd\u4f5c\uff1b\u5982\u679c\u60f3\u5220\u9664\u4e00\u4e2a\u5355\u8bcd\uff0c\u53ef\u4ee5\u4f7f\u7528<code>dw</code>\uff1b\u5982\u679c\u8981\u5220\u9664\u5168\u6587\uff0c\u53ef\u4ee5\u5728\u8f93\u5165<code>:%d</code>\uff08\u5176\u4e2d<code>:</code>\u7528\u6765\u4ece\u547d\u4ee4\u6a21\u5f0f\u8fdb\u5165\u672b\u884c\u6a21\u5f0f\uff09\u3002</p> </li> <li>\u590d\u5236\u548c\u7c98\u8d34\uff1a\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\u53ef\u4ee5\u7528<code>yy</code>\u6765\u590d\u5236\u6574\u884c\uff1b\u53ef\u4ee5\u5728<code>yy</code>\u524d\u52a0\u6570\u5b57\u6765\u6307\u5b9a\u590d\u5236\u7684\u884c\u6570\uff1b\u53ef\u4ee5\u901a\u8fc7<code>p</code>\u5c06\u590d\u5236\u7684\u5185\u5bb9\u7c98\u8d34\u5230\u5149\u6807\u6240\u5728\u7684\u5730\u65b9\u3002</li> <li>\u64a4\u9500\u548c\u6062\u590d\uff1a\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\u8f93\u5165<code>u</code>\u53ef\u4ee5\u64a4\u9500\u4e4b\u524d\u7684\u64cd\u4f5c\uff1b\u901a\u8fc7<code>Ctrl+r</code>\u53ef\u4ee5\u6062\u590d\u88ab\u64a4\u9500\u7684\u64cd\u4f5c\u3002</li> <li> <p>\u5bf9\u5185\u5bb9\u8fdb\u884c\u6392\u5e8f\uff1a\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\u8f93\u5165<code>%!sort</code>\u3002</p> </li> <li> <p>\u67e5\u627e\u548c\u66ff\u6362\u3002</p> </li> <li> <p>\u67e5\u627e\u64cd\u4f5c\u9700\u8981\u8f93\u5165<code>/</code>\u8fdb\u5165\u672b\u884c\u6a21\u5f0f\u5e76\u63d0\u4f9b\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u5339\u914d\u4e0e\u4e4b\u5bf9\u5e94\u7684\u5185\u5bb9\uff0c\u4f8b\u5982\uff1a<code>/doc.*\\.</code>\uff0c\u8f93\u5165<code>n</code>\u6765\u5411\u524d\u641c\u7d22\uff0c\u4e5f\u53ef\u4ee5\u8f93\u5165<code>N</code>\u6765\u5411\u540e\u641c\u7d22\u3002</p> </li> <li> <p>\u66ff\u6362\u64cd\u4f5c\u9700\u8981\u8f93\u5165<code>:</code>\u8fdb\u5165\u672b\u884c\u6a21\u5f0f\u5e76\u6307\u5b9a\u641c\u7d22\u7684\u8303\u56f4\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u4ee5\u53ca\u66ff\u6362\u540e\u7684\u5185\u5bb9\u548c\u5339\u914d\u9009\u9879\uff0c\u4f8b\u5982\uff1a<code>:1,$s/doc.*/hello/gice</code>\uff08\u628a\u7b2c\u4e00\u884c\u5230\u6700\u540e\u4e00\u884c\u7684<code>*</code>\u66ff\u6362\u6210<code>hello</code>\uff09\uff0c\u5176\u4e2d\uff1a</p> <ul> <li>1: \u7b2c\u4e00\u884c</li> <li>$: \u6700\u540e\u4e00\u884c</li> <li>s\uff1a\u66ff\u6362</li> <li><code>g</code> - global\uff1a\u5168\u5c40\u5339\u914d\u3002</li> <li><code>i</code> - ignore case\uff1a\u5ffd\u7565\u5927\u5c0f\u5199\u5339\u914d\u3002</li> <li><code>c</code> - confirm\uff1a\u66ff\u6362\u65f6\u9700\u8981\u786e\u8ba4\u3002</li> <li><code>e</code> - error\uff1a\u5ffd\u7565\u9519\u8bef\u3002</li> </ul> </li> <li> <p>\u53c2\u6570\u8bbe\u5b9a\uff1a\u5728\u8f93\u5165<code>:</code>\u8fdb\u5165\u672b\u884c\u6a21\u5f0f\u540e\u53ef\u4ee5\u5bf9vim\u8fdb\u884c\u8bbe\u5b9a\u3002</p> </li> <li> <p>\u8bbe\u7f6eTab\u952e\u7684\u7a7a\u683c\u6570\uff1a<code>set ts=4</code></p> </li> <li> <p>\u8bbe\u7f6e\u663e\u793a/\u4e0d\u663e\u793a\u884c\u53f7\uff1a<code>set nu</code> / <code>set nonu</code></p> </li> <li> <p>\u8bbe\u7f6e\u542f\u7528/\u5173\u95ed\u9ad8\u4eae\u8bed\u6cd5\uff1a<code>syntax on</code> / <code>syntax off</code></p> </li> <li> <p>\u8bbe\u7f6e\u663e\u793a\u6807\u5c3a\uff08\u5149\u6807\u6240\u5728\u7684\u884c\u548c\u5217\uff09\uff1a <code>set ruler</code></p> </li> <li> <p>\u8bbe\u7f6e\u542f\u7528/\u5173\u95ed\u641c\u7d22\u7ed3\u679c\u9ad8\u4eae\uff1a<code>set hls</code> / <code>set nohls</code></p> <p>\u8bf4\u660e\uff1a\u5982\u679c\u5e0c\u671b\u4e0a\u9762\u7684\u8fd9\u4e9b\u8bbe\u5b9a\u5728\u6bcf\u6b21\u542f\u52a8vim\u65f6\u90fd\u80fd\u81ea\u52a8\u751f\u6548\uff0c\u9700\u8981\u5c06\u8fd9\u4e9b\u8bbe\u5b9a\u5199\u5230\u7528\u6237\u4e3b\u76ee\u5f55\u4e0b\u7684.vimrc\u6587\u4ef6\u4e2d\u3002</p> </li> <li> <p>\u9ad8\u7ea7\u6280\u5de7</p> </li> <li> <p>\u6bd4\u8f83\u591a\u4e2a\u6587\u4ef6\u3002</p> <p><pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# vim -d foo.txt bar.txt\n</code></pre> </p> </li> <li> <p>\u6253\u5f00\u591a\u4e2a\u6587\u4ef6\u3002</p> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# vim foo.txt bar.txt hello.txt\n</code></pre> <p>\u542f\u52a8vim\u540e\u53ea\u6709\u4e00\u4e2a\u7a97\u53e3\u663e\u793a\u7684\u662ffoo.txt\uff0c\u53ef\u4ee5\u5728\u672b\u884c\u6a21\u5f0f\u4e2d\u8f93\u5165<code>ls</code>\u67e5\u770b\u5230\u6253\u5f00\u7684\u4e09\u4e2a\u6587\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u5728\u672b\u884c\u6a21\u5f0f\u4e2d\u8f93\u5165<code>b &lt;num&gt;</code>\u6765\u663e\u793a\u53e6\u4e00\u4e2a\u6587\u4ef6\uff0c\u4f8b\u5982\u53ef\u4ee5\u7528<code>:b 2</code>\u5c06bar.txt\u663e\u793a\u51fa\u6765\uff0c\u53ef\u4ee5\u7528<code>:b 3</code>\u5c06hello.txt\u663e\u793a\u51fa\u6765\u3002</p> </li> <li> <p>\u62c6\u5206\u548c\u5207\u6362\u7a97\u53e3\u3002</p> <p>\u53ef\u4ee5\u5728\u672b\u884c\u6a21\u5f0f\u4e2d\u8f93\u5165<code>sp</code>\u6216<code>vs</code>\u6765\u5b9e\u73b0\u5bf9\u7a97\u53e3\u7684\u6c34\u5e73\u6216\u5782\u76f4\u62c6\u5206\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u540c\u65f6\u6253\u5f00\u591a\u4e2a\u7f16\u8f91\u7a97\u53e3\uff0c\u901a\u8fc7\u6309\u4e24\u6b21<code>Ctrl+w</code>\u5c31\u53ef\u4ee5\u5b9e\u73b0\u7f16\u8f91\u7a97\u53e3\u7684\u5207\u6362\uff0c\u5728\u4e00\u4e2a\u7a97\u53e3\u4e2d\u6267\u884c\u9000\u51fa\u64cd\u4f5c\u53ea\u4f1a\u5173\u95ed\u5bf9\u5e94\u7684\u7a97\u53e3\uff0c\u5176\u4ed6\u7684\u7a97\u53e3\u7ee7\u7eed\u4fdd\u7559\u3002</p> <p></p> </li> <li> <p>\u6620\u5c04\u5feb\u6377\u952e\uff1a\u5728vim\u4e0b\u53ef\u4ee5\u5c06\u4e00\u4e9b\u5e38\u7528\u64cd\u4f5c\u6620\u5c04\u4e3a\u5feb\u6377\u952e\u6765\u63d0\u5347\u5de5\u4f5c\u6548\u7387\u3002</p> <ul> <li>\u4f8b\u5b501\uff1a\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\u8f93\u5165<code>F4</code>\u6267\u884c\u4ece\u7b2c\u4e00\u884c\u5f00\u59cb\u5220\u966410000\u884c\u4ee3\u7801\u7684\u64cd\u4f5c\u3002</li> </ul> <p><code>:map &lt;F4&gt; gg10000dd</code>\u3002</p> <p>\u4f8b\u5b502\uff1a\u5728\u7f16\u8f91\u6a21\u5f0f\u4e0b\u8f93\u5165<code>__main</code>\u76f4\u63a5\u8865\u5168\u4e3a<code>if __name__ == '__main__':</code>\u3002</p> <p><code>:inoremap __main if __name__ == '__main__':</code></p> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u4f8b\u5b502\u7684<code>inoremap</code>\u4e2d\u7684<code>i</code>\u8868\u793a\u6620\u5c04\u7684\u952e\u5728\u7f16\u8f91\u6a21\u5f0f\u4f7f\u7528\uff0c <code>nore</code>\u8868\u793a\u4e0d\u8981\u9012\u5f52\uff0c\u8fd9\u4e00\u70b9\u975e\u5e38\u91cd\u8981\uff0c\u5426\u5219\u5982\u679c\u952e\u5bf9\u5e94\u7684\u5185\u5bb9\u4e2d\u53c8\u51fa\u73b0\u952e\u672c\u8eab\uff0c\u5c31\u4f1a\u5f15\u53d1\u9012\u5f52\uff08\u76f8\u5f53\u4e8e\u8fdb\u5165\u4e86\u6b7b\u5faa\u73af\uff09\u3002\u5982\u679c\u5e0c\u671b\u6620\u5c04\u7684\u5feb\u6377\u952e\u6bcf\u6b21\u542f\u52a8vim\u65f6\u90fd\u80fd\u751f\u6548\uff0c\u9700\u8981\u5c06\u6620\u5c04\u5199\u5230\u7528\u6237\u4e3b\u76ee\u5f55\u4e0b\u7684.vimrc\u6587\u4ef6\u4e2d\u3002</p> </li> <li> <p>\u5f55\u5236\u5b8f\u3002</p> <ul> <li> <p>\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\u8f93\u5165<code>qa</code>\u5f00\u59cb\u5f55\u5236\u5b8f\uff08\u5176\u4e2d<code>a</code>\u662f\u5bc4\u5b58\u5668\u7684\u540d\u5b57\uff0c\u4e5f\u53ef\u4ee5\u662f\u5176\u4ed6\u82f1\u6587\u5b57\u6bcd\u62160-9\u7684\u6570\u5b57\uff09\u3002</p> </li> <li> <p>\u6267\u884c\u4f60\u7684\u64cd\u4f5c\uff08\u5149\u6807\u64cd\u4f5c\u3001\u7f16\u8f91\u64cd\u4f5c\u7b49\uff09\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u90fd\u4f1a\u88ab\u5f55\u5236\u4e0b\u6765\u3002</p> </li> <li> <p>\u5982\u679c\u5f55\u5236\u7684\u64cd\u4f5c\u5df2\u7ecf\u5b8c\u6210\u4e86\uff0c\u6309<code>q</code>\u7ed3\u675f\u5f55\u5236\u3002</p> </li> <li> <p>\u901a\u8fc7<code>@a</code>\uff08<code>a</code>\u662f\u521a\u624d\u4f7f\u7528\u7684\u5bc4\u5b58\u5668\u7684\u540d\u5b57\uff09\u64ad\u653e\u5b8f\uff0c\u5982\u679c\u8981\u591a\u6b21\u6267\u884c\u5b8f\u53ef\u4ee5\u5728\u524d\u9762\u52a0\u6570\u5b57\uff0c\u4f8b\u5982<code>100@a</code>\u8868\u793a\u5c06\u5b8f\u64ad\u653e100\u6b21\u3002</p> </li> <li> <p>\u53ef\u4ee5\u8bd5\u4e00\u8bd5\u4e0b\u9762\u7684\u4f8b\u5b50\u6765\u4f53\u9a8c\u5f55\u5236\u5b8f\u7684\u64cd\u4f5c\uff0c\u8be5\u4f8b\u5b50\u6765\u6e90\u4e8eHarttle Land\u7f51\u7ad9\uff0c\u8be5\u7f51\u7ad9\u4e0a\u63d0\u4f9b\u4e86\u5f88\u591a\u5173\u4e8evim\u7684\u4f7f\u7528\u6280\u5de7\uff0c\u6709\u5174\u8da3\u7684\u53ef\u4ee5\u4e86\u89e3\u4e00\u4e0b\u3002</p> </li> </ul> <p></p> </li> </ol>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_18","title":"\u8f6f\u4ef6\u5b89\u88c5\u548c\u914d\u7f6e","text":""},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_19","title":"\u4f7f\u7528\u5305\u7ba1\u7406\u5de5\u5177","text":"<ol> <li>yum - Yellowdog Updater Modified\u3002</li> <li><code>yum search</code>\uff1a\u641c\u7d22\u8f6f\u4ef6\u5305\uff0c\u4f8b\u5982<code>yum search nginx</code>\u3002</li> <li><code>yum list installed</code>\uff1a\u5217\u51fa\u5df2\u7ecf\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305\uff0c\u4f8b\u5982<code>yum list installed | grep zlib</code>\u3002</li> <li><code>yum install</code>\uff1a\u5b89\u88c5\u8f6f\u4ef6\u5305\uff0c\u4f8b\u5982<code>yum install nginx</code>\u3002</li> <li><code>yum remove</code>\uff1a\u5220\u9664\u8f6f\u4ef6\u5305\uff0c\u4f8b\u5982<code>yum remove nginx</code>\u3002</li> <li><code>yum update</code>\uff1a\u66f4\u65b0\u8f6f\u4ef6\u5305\uff0c\u4f8b\u5982<code>yum update</code>\u53ef\u4ee5\u66f4\u65b0\u6240\u6709\u8f6f\u4ef6\u5305\uff0c\u800c<code>yum update tar</code>\u53ea\u4f1a\u66f4\u65b0tar\u3002</li> <li><code>yum check-update</code>\uff1a\u68c0\u67e5\u6709\u54ea\u4e9b\u53ef\u4ee5\u66f4\u65b0\u7684\u8f6f\u4ef6\u5305\u3002</li> <li><code>yum info</code>\uff1a\u663e\u793a\u8f6f\u4ef6\u5305\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u4f8b\u5982<code>yum info nginx</code>\u3002</li> <li>rpm - Redhat Package Manager\u3002</li> <li>\u5b89\u88c5\u8f6f\u4ef6\u5305\uff1a<code>rpm -ivh &lt;packagename&gt;.rpm</code>\u3002</li> <li>\u79fb\u9664\u8f6f\u4ef6\u5305\uff1a<code>rpm -e &lt;packagename&gt;</code>\u3002</li> <li>\u67e5\u8be2\u8f6f\u4ef6\u5305\uff1a<code>rpm -qa</code>\uff0c\u4f8b\u5982\u53ef\u4ee5\u7528<code>rpm -qa | grep mysql</code>\u6765\u68c0\u67e5\u662f\u5426\u5b89\u88c5\u4e86MySQL\u76f8\u5173\u7684\u8f6f\u4ef6\u5305\u3002</li> </ol> <p>\u4e0b\u9762\u4ee5Nginx\u4e3a\u4f8b\uff0c\u6f14\u793a\u5982\u4f55\u4f7f\u7528yum\u5b89\u88c5\u8f6f\u4ef6\u3002</p> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# yum -y install nginx\n...\nInstalled:\n  nginx.x86_64 1:1.12.2-2.el7\nDependency Installed:\n  nginx-all-modules.noarch 1:1.12.2-2.el7\n  nginx-mod-http-geoip.x86_64 1:1.12.2-2.el7\n  nginx-mod-http-image-filter.x86_64 1:1.12.2-2.el7\n  nginx-mod-http-perl.x86_64 1:1.12.2-2.el7\n  nginx-mod-http-xslt-filter.x86_64 1:1.12.2-2.el7\n  nginx-mod-mail.x86_64 1:1.12.2-2.el7\n  nginx-mod-stream.x86_64 1:1.12.2-2.el7\nComplete!\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# yum info nginx\nLoaded plugins: fastestmirror\nLoading mirror speeds from cached hostfile\nInstalled Packages\nName        : nginx\nArch        : x86_64\nEpoch       : 1\nVersion     : 1.12.2\nRelease     : 2.el7\nSize        : 1.5 M\nRepo        : installed\nFrom repo   : epel\nSummary     : A high performance web server and reverse proxy server\nURL         : http://nginx.org/\nLicense     : BSD\nDescription : Nginx is a web server and a reverse proxy server for HTTP, SMTP, POP3 and\n            : IMAP protocols, with a strong focus on high concurrency, performance and low\n            : memory usage.\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# nginx -v\nnginx version: nginx/1.12.2\n</code></pre> <p>\u79fb\u9664Nginx\u3002</p> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# yum -y remove nginx\n</code></pre> <p>\u4e0b\u9762\u4ee5MySQL\u4e3a\u4f8b\uff0c\u6f14\u793a\u5982\u4f55\u4f7f\u7528rpm\u5b89\u88c5\u8f6f\u4ef6\u3002\u8981\u5b89\u88c5MySQL\u9700\u8981\u5148\u5230MySQL\u5b98\u65b9\u7f51\u7ad9\u4e0b\u8f7d\u5bf9\u5e94\u7684RPM\u6587\u4ef6\uff0c\u5f53\u7136\u8981\u9009\u62e9\u548c\u4f60\u4f7f\u7528\u7684Linux\u7cfb\u7edf\u5bf9\u5e94\u7684\u7248\u672c\u3002MySQL\u73b0\u5728\u662fOracle\u516c\u53f8\u65d7\u4e0b\u7684\u4ea7\u54c1\uff0c\u5728MySQL\u88ab\u6536\u8d2d\u540e\uff0cMySQL\u7684\u4f5c\u8005\u91cd\u65b0\u5236\u4f5c\u4e86\u4e00\u4e2aMySQL\u7684\u5206\u652fMariaDB\uff0c\u53ef\u4ee5\u901a\u8fc7yum\u8fdb\u884c\u5b89\u88c5\u3002</p> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z mysql]# ls\nmysql-community-client-5.7.22-1.el7.x86_64.rpm\nmysql-community-common-5.7.22-1.el7.x86_64.rpm\nmysql-community-libs-5.7.22-1.el7.x86_64.rpm\nmysql-community-server-5.7.22-1.el7.x86_64.rpm\n[root@iZwz97tbgo9lkabnat2lo8Z mysql]# yum -y remove mariadb-libs\n[root@iZwz97tbgo9lkabnat2lo8Z mysql]# yum -y install libaio\n[root@iZwz97tbgo9lkabnat2lo8Z mysql]#rpm -ivh mysql-community-common-5.7.26-1.el7.x86_64.rpm\n...\n[root@iZwz97tbgo9lkabnat2lo8Z mysql]#rpm -ivh mysql-community-libs-5.7.26-1.el7.x86_64.rpm\n...\n[root@iZwz97tbgo9lkabnat2lo8Z mysql]#rpm -ivh mysql-community-client-5.7.26-1.el7.x86_64.rpm\n...\n[root@iZwz97tbgo9lkabnat2lo8Z mysql]#rpm -ivh mysql-community-server-5.7.26-1.el7.x86_64.rpm\n...\n</code></pre> <p>\u8bf4\u660e\uff1a\u7531\u4e8eMySQL\u548cMariaDB\u7684\u5e95\u5c42\u4f9d\u8d56\u5e93\u662f\u6709\u51b2\u7a81\u7684\uff0c\u6240\u4ee5\u4e0a\u9762\u6211\u4eec\u9996\u5148\u7528<code>yum</code>\u79fb\u9664\u4e86\u540d\u4e3amariadb-libs\u7684\u4f9d\u8d56\u5e93\u5e76\u5b89\u88c5\u4e86\u540d\u4e3alibaio\u652f\u6301\u5f02\u6b65I/O\u64cd\u4f5c\u7684\u4f9d\u8d56\u5e93\u3002\u5173\u4e8eMySQL\u548cMariaDB\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u53ef\u4ee5\u9605\u8bfb\u7ef4\u57fa\u767e\u79d1\u4e0a\u5173\u4e8eMariaDB\u7684\u4ecb\u7ecd\u3002</p> <p>\u79fb\u9664\u5b89\u88c5\u7684MySQL\u3002</p> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# rpm -qa | grep mysql | xargs rpm -e\n</code></pre>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_20","title":"\u4e0b\u8f7d\u89e3\u538b\u914d\u7f6e\u73af\u5883\u53d8\u91cf","text":"<p>\u4e0b\u9762\u4ee5\u5b89\u88c5MongoDB\u4e3a\u4f8b\uff0c\u6f14\u793a\u8fd9\u7c7b\u8f6f\u4ef6\u5e94\u8be5\u5982\u4f55\u5b89\u88c5\u3002</p> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-3.6.5.tgz\n--2018-06-21 18:32:53--  https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-3.6.5.tgz\nResolving fastdl.mongodb.org (fastdl.mongodb.org)... 52.85.83.16, 52.85.83.228, 52.85.83.186, ...\nConnecting to fastdl.mongodb.org (fastdl.mongodb.org)|52.85.83.16|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 100564462 (96M) [application/x-gzip]\nSaving to: \u2018mongodb-linux-x86_64-rhel70-3.6.5.tgz\u2019\n100%[==================================================&gt;] 100,564,462  630KB/s   in 2m 9s\n2018-06-21 18:35:04 (760 KB/s) - \u2018mongodb-linux-x86_64-rhel70-3.6.5.tgz\u2019 saved [100564462/100564462]\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# gunzip mongodb-linux-x86_64-rhel70-3.6.5.tgz\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# tar -xvf mongodb-linux-x86_64-rhel70-3.6.5.tar\nmongodb-linux-x86_64-rhel70-3.6.5/README\nmongodb-linux-x86_64-rhel70-3.6.5/THIRD-PARTY-NOTICES\nmongodb-linux-x86_64-rhel70-3.6.5/MPL-2\nmongodb-linux-x86_64-rhel70-3.6.5/GNU-AGPL-3.0\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongodump\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongorestore\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongoexport\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongoimport\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongostat\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongotop\nmongodb-linux-x86_64-rhel70-3.6.5/bin/bsondump\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongofiles\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongoreplay\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongoperf\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongod\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongos\nmongodb-linux-x86_64-rhel70-3.6.5/bin/mongo\nmongodb-linux-x86_64-rhel70-3.6.5/bin/install_compass\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# vim .bash_profile\n...\nPATH=$PATH:$HOME/bin:$HOME/mongodb-linux-x86_64-rhel70-3.6.5/bin\nexport PATH\n...\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# source .bash_profile\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# mongod --version\ndb version v3.6.5\ngit version: a20ecd3e3a174162052ff99913bc2ca9a839d618\nOpenSSL version: OpenSSL 1.0.1e-fips 11 Feb 2013\nallocator: tcmalloc\nmodules: none\nbuild environment:\n    distmod: rhel70\n    distarch: x86_64\n    target_arch: x86_64\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# mongo --version\nMongoDB shell version v3.6.5\ngit version: a20ecd3e3a174162052ff99913bc2ca9a839d618\nOpenSSL version: OpenSSL 1.0.1e-fips 11 Feb 2013\nallocator: tcmalloc\nmodules: none\nbuild environment:\n    distmod: rhel70\n    distarch: x86_64\n    target_arch: x86_64\n</code></pre> <p>\u8bf4\u660e\uff1a\u5f53\u7136\u4e5f\u53ef\u4ee5\u901a\u8fc7yum\u6765\u5b89\u88c5MongoDB\uff0c\u5177\u4f53\u53ef\u4ee5\u53c2\u7167\u5b98\u65b9\u7f51\u7ad9\u4e0a\u7ed9\u51fa\u7684\u8bf4\u660e\u3002</p>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_21","title":"\u6e90\u4ee3\u7801\u6784\u5efa\u5b89\u88c5","text":"<ol> <li>\u5b89\u88c5Python 3.6\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# yum install gcc\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# wget https://www.python.org/ftp/python/3.6.5/Python-3.6.5.tgz\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# gunzip Python-3.6.5.tgz\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# tar -xvf Python-3.6.5.tar\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# cd Python-3.6.5\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# ./configure --prefix=/usr/local/python36 --enable-optimizations\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# make &amp;&amp; make install\n...\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# ln -s /usr/local/python36/bin/python3.6 /usr/bin/python3\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# python3 --version\nPython 3.6.5\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# python3 -m pip install -U pip\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# pip3 --version\n</code></pre> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u5728\u5b89\u88c5\u597dPython\u4e4b\u540e\u8fd8\u9700\u8981\u6ce8\u518cPATH\u73af\u5883\u53d8\u91cf\uff0c\u5c06Python\u5b89\u88c5\u8def\u5f84\u4e0bbin\u6587\u4ef6\u5939\u7684\u7edd\u5bf9\u8def\u5f84\u6ce8\u518c\u5230PATH\u73af\u5883\u53d8\u91cf\u4e2d\u3002\u6ce8\u518c\u73af\u5883\u53d8\u91cf\u53ef\u4ee5\u4fee\u6539\u7528\u6237\u4e3b\u76ee\u5f55\u4e0b\u7684.bash_profile\u6216\u8005/etc\u76ee\u5f55\u4e0b\u7684profile\u6587\u4ef6\uff0c\u4e8c\u8005\u7684\u533a\u522b\u5728\u4e8e\u524d\u8005\u76f8\u5f53\u4e8e\u662f\u7528\u6237\u73af\u5883\u53d8\u91cf\uff0c\u800c\u540e\u8005\u76f8\u5f53\u4e8e\u662f\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u3002</p> <ol> <li>\u5b89\u88c5Redis-3.2.12\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# wget http://download.redis.io/releases/redis-3.2.12.tar.gz\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# gunzip redis-3.2.12.tar.gz\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# tar -xvf redis-3.2.12.tar\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# cd redis-3.2.12\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# make &amp;&amp; make install\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# redis-server --version\nRedis server v=3.2.12 sha=00000000:0 malloc=jemalloc-4.0.3 bits=64 build=5bc5cd3c03d6ceb6\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# redis-cli --version\nredis-cli 3.2.12\n</code></pre>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_22","title":"\u914d\u7f6e\u670d\u52a1","text":"<p>\u6211\u4eec\u53ef\u4ee5Linux\u7cfb\u7edf\u4e0b\u5b89\u88c5\u548c\u914d\u7f6e\u5404\u79cd\u670d\u52a1\uff0c\u4e5f\u5c31\u662f\u8bf4\u6211\u4eec\u53ef\u4ee5\u628aLinux\u7cfb\u7edf\u6253\u9020\u6210\u6570\u636e\u5e93\u670d\u52a1\u5668\u3001Web\u670d\u52a1\u5668\u3001\u7f13\u5b58\u670d\u52a1\u5668\u3001\u6587\u4ef6\u670d\u52a1\u5668\u3001\u6d88\u606f\u961f\u5217\u670d\u52a1\u5668\u7b49\u7b49\u3002Linux\u4e0b\u7684\u5927\u591a\u6570\u670d\u52a1\u90fd\u88ab\u8bbe\u7f6e\u4e3a\u5b88\u62a4\u8fdb\u7a0b\uff08\u9a7b\u7559\u5728\u7cfb\u7edf\u540e\u53f0\u8fd0\u884c\uff0c\u4f46\u4e0d\u4f1a\u56e0\u4e3a\u670d\u52a1\u8fd8\u5728\u8fd0\u884c\u800c\u5bfc\u81f4Linux\u65e0\u6cd5\u505c\u6b62\u8fd0\u884c\uff09\uff0c\u6240\u4ee5\u6211\u4eec\u5b89\u88c5\u7684\u670d\u52a1\u901a\u5e38\u540d\u5b57\u540e\u9762\u90fd\u6709\u4e00\u4e2a\u5b57\u6bcd<code>d</code>\uff0c\u5b83\u662f\u82f1\u6587\u5355\u8bcd<code>daemon</code>\u7684\u7f29\u5199\uff0c\u4f8b\u5982\uff1a\u9632\u706b\u5899\u670d\u52a1\u53ebfirewalld\uff0c\u6211\u4eec\u4e4b\u524d\u5b89\u88c5\u7684MySQL\u670d\u52a1\u53ebmysqld\uff0cApache\u670d\u52a1\u5668\u53ebhttpd\u7b49\u3002\u5728\u5b89\u88c5\u597d\u670d\u52a1\u4e4b\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528<code>systemctl</code>\u547d\u4ee4\u6216<code>service</code>\u547d\u4ee4\u6765\u5b8c\u6210\u5bf9\u670d\u52a1\u7684\u542f\u52a8\u3001\u505c\u6b62\u7b49\u64cd\u4f5c\uff0c\u5177\u4f53\u64cd\u4f5c\u5982\u4e0b\u6240\u793a\u3002</p> <ol> <li>\u542f\u52a8\u9632\u706b\u5899\u670d\u52a1\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# systemctl start firewalld\n</code></pre> <ol> <li>\u7ec8\u6b62\u9632\u706b\u5899\u670d\u52a1\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# systemctl stop firewalld\n</code></pre> <ol> <li>\u91cd\u542f\u9632\u706b\u5899\u670d\u52a1\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# systemctl restart firewalld\n</code></pre> <ol> <li> <p>\u67e5\u770b\u9632\u706b\u5899\u670d\u52a1\u72b6\u6001\u3002</p> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# systemctl status firewalld\n</code></pre> </li> <li> <p>\u8bbe\u7f6e/\u7981\u7528\u9632\u706b\u5899\u670d\u52a1\u5f00\u673a\u81ea\u542f\u3002</p> </li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# systemctl enable firewalld\nCreated symlink from /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service to /usr/lib/systemd/system/firewalld.service.\nCreated symlink from /etc/systemd/system/multi-user.target.wants/firewalld.service to /usr/lib/systemd/system/firewalld.service.\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# systemctl disable firewalld\nRemoved symlink /etc/systemd/system/multi-user.target.wants/firewalld.service.\nRemoved symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.\n</code></pre>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_23","title":"\u8ba1\u5212\u4efb\u52a1","text":"<ol> <li> <p>\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u6267\u884c\u547d\u4ee4</p> </li> <li> <p>at - \u5c06\u4efb\u52a1\u6392\u961f\uff0c\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u6267\u884c\u3002</p> </li> <li>atq - \u67e5\u770b\u5f85\u6267\u884c\u7684\u4efb\u52a1\u961f\u5217\u3002</li> <li>atrm - \u4ece\u961f\u5217\u4e2d\u5220\u9664\u5f85\u6267\u884c\u7684\u4efb\u52a1\u3002</li> </ol> <p>\u6307\u5b9a3\u5929\u4ee5\u540e\u4e0b\u53485\u70b9\u8981\u6267\u884c\u7684\u4efb\u52a1\u3002</p> <pre><code>[hellokitty@izwz97tbgo9lkabnat2lo8z ~]$ at 5pm+3days\nat&gt; rm -f /root/*.html\nat&gt; &lt;EOT&gt;\njob 9 at Wed Jun  5 17:00:00 2019\n</code></pre> <p>\u67e5\u770b\u5f85\u6267\u884c\u7684\u4efb\u52a1\u961f\u5217\u3002</p> <pre><code>[hellokitty@izwz97tbgo9lkabnat2lo8z ~]$ atq\n9       Wed Jun  5 17:00:00 2019 a hellokitty\n</code></pre> <p>\u4ece\u961f\u5217\u4e2d\u5220\u9664\u6307\u5b9a\u7684\u4efb\u52a1\u3002</p> <pre><code>[hellokitty@izwz97tbgo9lkabnat2lo8z ~]$ atrm 9\n</code></pre> <ol> <li>\u8ba1\u5212\u4efb\u52a1\u8868 - crontab\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# crontab -e\n* * * * * echo \"hello, world!\" &gt;&gt; /root/hello.txt\n59 23 * * * rm -f /root/*.log\n</code></pre> <p>\u8bf4\u660e\uff1a\u8f93\u5165<code>crontab -e</code>\u547d\u4ee4\u4f1a\u6253\u5f00vim\u6765\u7f16\u8f91Cron\u8868\u8fbe\u5f0f\u5e76\u6307\u5b9a\u89e6\u53d1\u7684\u4efb\u52a1\uff0c\u4e0a\u9762\u6211\u4eec\u5b9a\u5236\u4e86\u4e24\u4e2a\u8ba1\u5212\u4efb\u52a1\uff0c\u4e00\u4e2a\u662f\u6bcf\u5206\u949f\u5411/root\u76ee\u5f55\u4e0b\u7684hello.txt\u4e2d\u8ffd\u52a0\u8f93\u51fa<code>hello, world!</code>\uff1b\u53e6\u4e00\u4e2a\u662f\u6bcf\u592923\u65f659\u5206\u6267\u884c\u5220\u9664/root\u76ee\u5f55\u4e0b\u4ee5log\u4e3a\u540e\u7f00\u540d\u7684\u6587\u4ef6\u3002\u5982\u679c\u4e0d\u77e5\u9053Cron\u8868\u8fbe\u5f0f\u5982\u4f55\u4e66\u5199\uff0c\u53ef\u4ee5\u53c2\u7167/etc/crontab\u6587\u4ef6\u4e2d\u7684\u63d0\u793a\uff08\u4e0b\u9762\u4f1a\u8bb2\u5230\uff09\u6216\u8005\u7528\u8c37\u6b4c\u641c\u7d22\u4e00\u4e0b\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528Cron\u8868\u8fbe\u5f0f\u5728\u7ebf\u751f\u6210\u5668\u6765\u751f\u6210Cron\u8868\u8fbe\u5f0f\u3002</p> <p>\u548ccrontab\u76f8\u5173\u7684\u6587\u4ef6\u5728<code>/etc</code>\u76ee\u5f55\u4e0b\uff0c\u901a\u8fc7\u4fee\u6539<code>/etc</code>\u76ee\u5f55\u4e0b\u7684crontab\u6587\u4ef6\u4e5f\u80fd\u591f\u5b9a\u5236\u8ba1\u5212\u4efb\u52a1\u3002</p> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# cd /etc\n[root@iZwz97tbgo9lkabnat2lo8Z etc]# ls -l | grep cron\n-rw-------.  1 root root      541 Aug  3  2017 anacrontab\ndrwxr-xr-x.  2 root root     4096 Mar 27 11:56 cron.d\ndrwxr-xr-x.  2 root root     4096 Mar 27 11:51 cron.daily\n-rw-------.  1 root root        0 Aug  3  2017 cron.deny\ndrwxr-xr-x.  2 root root     4096 Mar 27 11:50 cron.hourly\ndrwxr-xr-x.  2 root root     4096 Jun 10  2014 cron.monthly\n-rw-r--r--   1 root root      493 Jun 23 15:09 crontab\ndrwxr-xr-x.  2 root root     4096 Jun 10  2014 cron.weekly\n[root@iZwz97tbgo9lkabnat2lo8Z etc]# vim crontab\n  1 SHELL=/bin/bash\n  2 PATH=/sbin:/bin:/usr/sbin:/usr/bin\n  3 MAILTO=root\n  4\n  5 # For details see man 4 crontabs\n  6\n  7 # Example of job definition:\n  8 # .---------------- minute (0 - 59)\n  9 # |  .------------- hour (0 - 23)\n 10 # |  |  .---------- day of month (1 - 31)\n 11 # |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...\n 12 # |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat\n 13 # |  |  |  |  |\n 14 # *  *  *  *  * user-name  command to be executed\n</code></pre>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_24","title":"\u7f51\u7edc\u8bbf\u95ee\u548c\u7ba1\u7406","text":"<ol> <li> <p>\u5b89\u5168\u8fdc\u7a0b\u8fde\u63a5 - ssh\u3002</p> <p><code>Shell    [hellokitty@izwz97tbgo9lkabnat2lo8z ~]$ ssh root@120.77.222.217    The authenticity of host '120.77.222.217 (120.77.222.217)' can't be established.    ECDSA key fingerprint is SHA256:BhUhykv+FvnIL03I9cLRpWpaCxI91m9n7zBWrcXRa8w.    ECDSA key fingerprint is MD5:cc:85:e9:f0:d7:07:1a:26:41:92:77:6b:7f:a0:92:65.    Are you sure you want to continue connecting (yes/no)? yes    Warning: Permanently added '120.77.222.217' (ECDSA) to the list of known hosts.    root@120.77.222.217's password:</code></p> </li> <li> <p>\u901a\u8fc7\u7f51\u7edc\u83b7\u53d6\u8d44\u6e90 - wget\u3002</p> </li> <li> <p>-b \u540e\u53f0\u4e0b\u8f7d\u6a21\u5f0f</p> </li> <li>-O \u4e0b\u8f7d\u5230\u6307\u5b9a\u7684\u76ee\u5f55</li> <li> <p>-r \u9012\u5f52\u4e0b\u8f7d</p> </li> <li> <p>\u53d1\u9001\u548c\u63a5\u6536\u90ae\u4ef6 - mail\u3002</p> </li> <li> <p>\u7f51\u7edc\u914d\u7f6e\u5de5\u5177\uff08\u65e7\uff09 - ifconfig\u3002</p> </li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# ifconfig eth0\neth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500\n        inet 172.18.61.250  netmask 255.255.240.0  broadcast 172.18.63.255\n        ether 00:16:3e:02:b6:46  txqueuelen 1000  (Ethernet)\n        RX packets 1067841  bytes 1296732947 (1.2 GiB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 409912  bytes 43569163 (41.5 MiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions \n</code></pre> <ol> <li>\u7f51\u7edc\u914d\u7f6e\u5de5\u5177\uff08\u65b0\uff09 - ip\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# ip address\n1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN qlen 1\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000\n    link/ether 00:16:3e:02:b6:46 brd ff:ff:ff:ff:ff:ff\n    inet 172.18.61.250/20 brd 172.18.63.255 scope global eth0\n       valid_lft forever preferred_lft forever\n</code></pre> <ol> <li>\u7f51\u7edc\u53ef\u8fbe\u6027\u68c0\u67e5 - ping\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# ping www.baidu.com -c 3\nPING www.a.shifen.com (220.181.111.188) 56(84) bytes of data.\n64 bytes from 220.181.111.188 (220.181.111.188): icmp_seq=1 ttl=51 time=36.3 ms\n64 bytes from 220.181.111.188 (220.181.111.188): icmp_seq=2 ttl=51 time=36.4 ms\n64 bytes from 220.181.111.188 (220.181.111.188): icmp_seq=3 ttl=51 time=36.4 ms\n--- www.a.shifen.com ping statistics ---\n3 packets transmitted, 3 received, 0% packet loss, time 2002ms\nrtt min/avg/max/mdev = 36.392/36.406/36.427/0.156 ms\n</code></pre> <ol> <li> <p>\u663e\u793a\u6216\u7ba1\u7406\u8def\u7531\u8868 - route\u3002</p> </li> <li> <p>\u67e5\u770b\u7f51\u7edc\u670d\u52a1\u548c\u7aef\u53e3 - netstat / ss\u3002</p> </li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# netstat -nap | grep nginx\n</code></pre> <ol> <li> <p>\u7f51\u7edc\u76d1\u542c\u6293\u5305 - tcpdump\u3002</p> </li> <li> <p>\u5b89\u5168\u6587\u4ef6\u62f7\u8d1d - scp\u3002</p> </li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# scp root@1.2.3.4:/root/guido.jpg hellokitty@4.3.2.1:/home/hellokitty/pic.jpg\n</code></pre> <ol> <li> <p>\u6587\u4ef6\u540c\u6b65\u5de5\u5177 - rsync\u3002</p> <p>\u8bf4\u660e\uff1a\u4f7f\u7528<code>rsync</code>\u53ef\u4ee5\u5b9e\u73b0\u6587\u4ef6\u7684\u81ea\u52a8\u540c\u6b65\uff0c\u8fd9\u4e2a\u5bf9\u4e8e\u6587\u4ef6\u670d\u52a1\u5668\u6765\u8bf4\u76f8\u5f53\u91cd\u8981\u3002\u5173\u4e8e\u8fd9\u4e2a\u547d\u4ee4\u7684\u7528\u6cd5\uff0c\u6211\u4eec\u5728\u540e\u9762\u8bb2\u9879\u76ee\u90e8\u7f72\u7684\u65f6\u5019\u4e3a\u5927\u5bb6\u8be6\u7ec6\u8bf4\u660e\u3002</p> </li> <li> <p>\u5b89\u5168\u6587\u4ef6\u4f20\u8f93 - sftp\u3002</p> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# sftp root@120.77.222.217\nroot@120.77.222.217's password:\nConnected to 120.77.222.217.\nsftp&gt;\n</code></pre> <ul> <li> <p><code>help</code>\uff1a\u663e\u793a\u5e2e\u52a9\u4fe1\u606f\u3002</p> </li> <li> <p><code>ls</code>/<code>lls</code>\uff1a\u663e\u793a\u8fdc\u7aef/\u672c\u5730\u76ee\u5f55\u5217\u8868\u3002</p> </li> <li> <p><code>cd</code>/<code>lcd</code>\uff1a\u5207\u6362\u8fdc\u7aef/\u672c\u5730\u8def\u5f84\u3002</p> </li> <li> <p><code>mkdir</code>/<code>lmkdir</code>\uff1a\u521b\u5efa\u8fdc\u7aef/\u672c\u5730\u76ee\u5f55\u3002</p> </li> <li> <p><code>pwd</code>/<code>lpwd</code>\uff1a\u663e\u793a\u8fdc\u7aef/\u672c\u5730\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u3002</p> </li> <li> <p><code>get</code>\uff1a\u4e0b\u8f7d\u6587\u4ef6\u3002</p> </li> <li> <p><code>put</code>\uff1a\u4e0a\u4f20\u6587\u4ef6\u3002</p> </li> <li> <p><code>rm</code>\uff1a\u5220\u9664\u8fdc\u7aef\u6587\u4ef6\u3002</p> </li> <li> <p><code>bye</code>/<code>exit</code>/<code>quit</code>\uff1a\u9000\u51fasftp\u3002</p> </li> </ul> </li> </ol>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_25","title":"\u8fdb\u7a0b\u7ba1\u7406","text":"<ol> <li>\u67e5\u770b\u8fdb\u7a0b - ps\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# ps -ef\nUID        PID  PPID  C STIME TTY          TIME CMD\nroot         1     0  0 Jun23 ?        00:00:05 /usr/lib/systemd/systemd --switched-root --system --deserialize 21\nroot         2     0  0 Jun23 ?        00:00:00 [kthreadd]\n...\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# ps -ef | grep mysqld\nroot      4943  4581  0 22:45 pts/0    00:00:00 grep --color=auto mysqld\nmysql    25257     1  0 Jun25 ?        00:00:39 /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid\n</code></pre> <ol> <li> <p>\u663e\u793a\u8fdb\u7a0b\u72b6\u6001\u6811 - pstree\u3002</p> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# pstree\nsystemd\u2500\u252c\u2500AliYunDun\u2500\u2500\u250018*[{AliYunDun}]\n        \u251c\u2500AliYunDunUpdate\u2500\u2500\u25003*[{AliYunDunUpdate}]\n        \u251c\u25002*[agetty]\n        \u251c\u2500aliyun-service\u2500\u2500\u25002*[{aliyun-service}]\n        \u251c\u2500atd\n        \u251c\u2500auditd\u2500\u2500\u2500{auditd}\n        \u251c\u2500dbus-daemon\n        \u251c\u2500dhclient\n        \u251c\u2500irqbalance\n        \u251c\u2500lvmetad\n        \u251c\u2500mysqld\u2500\u2500\u250028*[{mysqld}]\n        \u251c\u2500nginx\u2500\u2500\u25002*[nginx]\n        \u251c\u2500ntpd\n        \u251c\u2500polkitd\u2500\u2500\u25006*[{polkitd}]\n        \u251c\u2500rsyslogd\u2500\u2500\u25002*[{rsyslogd}]\n        \u251c\u2500sshd\u2500\u2500\u2500sshd\u2500\u2500\u2500bash\u2500\u2500\u2500pstree\n        \u251c\u2500systemd-journal\n        \u251c\u2500systemd-logind\n        \u251c\u2500systemd-udevd\n        \u2514\u2500tuned\u2500\u2500\u25004*[{tuned}]\n</code></pre> </li> <li> <p>\u67e5\u627e\u4e0e\u6307\u5b9a\u6761\u4ef6\u5339\u914d\u7684\u8fdb\u7a0b - pgrep\u3002</p> </li> </ol> <pre><code>[hellokitty@izwz97tbgo9lkabnat2lo8z ~]$ pgrep mysqld\n3584\n</code></pre> <ol> <li>\u901a\u8fc7\u8fdb\u7a0b\u53f7\u7ec8\u6b62\u8fdb\u7a0b - kill\u3002</li> </ol> <pre><code>[hellokitty@izwz97tbgo9lkabnat2lo8z ~]$ kill -l\n 1) SIGHUP       2) SIGINT       3) SIGQUIT      4) SIGILL       5) SIGTRAP\n 6) SIGABRT      7) SIGBUS       8) SIGFPE       9) SIGKILL     10) SIGUSR1\n11) SIGSEGV     12) SIGUSR2     13) SIGPIPE     14) SIGALRM     15) SIGTERM\n16) SIGSTKFLT   17) SIGCHLD     18) SIGCONT     19) SIGSTOP     20) SIGTSTP\n21) SIGTTIN     22) SIGTTOU     23) SIGURG      24) SIGXCPU     25) SIGXFSZ\n26) SIGVTALRM   27) SIGPROF     28) SIGWINCH    29) SIGIO       30) SIGPWR\n31) SIGSYS      34) SIGRTMIN    35) SIGRTMIN+1  36) SIGRTMIN+2  37) SIGRTMIN+3\n38) SIGRTMIN+4  39) SIGRTMIN+5  40) SIGRTMIN+6  41) SIGRTMIN+7  42) SIGRTMIN+8\n43) SIGRTMIN+9  44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12 47) SIGRTMIN+13\n48) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14 51) SIGRTMAX-13 52) SIGRTMAX-12\n53) SIGRTMAX-11 54) SIGRTMAX-10 55) SIGRTMAX-9  56) SIGRTMAX-8  57) SIGRTMAX-7\n58) SIGRTMAX-6  59) SIGRTMAX-5  60) SIGRTMAX-4  61) SIGRTMAX-3  62) SIGRTMAX-2\n63) SIGRTMAX-1  64) SIGRTMAX\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# kill 1234\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# kill -9 1234\n</code></pre> <p>\u4f8b\u5b50\uff1a\u7528\u4e00\u6761\u547d\u4ee4\u5f3a\u5236\u7ec8\u6b62\u6b63\u5728\u8fd0\u884c\u7684Redis\u8fdb\u7a0b\u3002</p> <pre><code>```Shell\n</code></pre> <p>ps -ef | grep redis | grep -v grep | awk '{print $2}' | xargs kill     ```</p> <ol> <li> <p>\u901a\u8fc7\u8fdb\u7a0b\u540d\u7ec8\u6b62\u8fdb\u7a0b - killall / pkill\u3002</p> <p>\u7ed3\u675f\u540d\u4e3amysqld\u7684\u8fdb\u7a0b\u3002</p> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# pkill mysqld\n</code></pre> <p>\u7ed3\u675fhellokitty\u7528\u6237\u7684\u6240\u6709\u8fdb\u7a0b\u3002</p> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# pkill -u hellokitty\n</code></pre> <p>\u8bf4\u660e\uff1a\u8fd9\u6837\u7684\u64cd\u4f5c\u4f1a\u8ba9hellokitty\u7528\u6237\u548c\u670d\u52a1\u5668\u65ad\u5f00\u8fde\u63a5\u3002</p> </li> <li> <p>\u5c06\u8fdb\u7a0b\u7f6e\u4e8e\u540e\u53f0\u8fd0\u884c\u3002</p> </li> <li> <p><code>Ctrl+Z</code> - \u5feb\u6377\u952e\uff0c\u7528\u4e8e\u505c\u6b62\u8fdb\u7a0b\u5e76\u7f6e\u4e8e\u540e\u53f0\u3002</p> </li> <li><code>&amp;</code> - \u5c06\u8fdb\u7a0b\u7f6e\u4e8e\u540e\u53f0\u8fd0\u884c\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# mongod &amp;\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# redis-server\n...\n^Z\n[4]+  Stopped                 redis-server\n</code></pre> <ol> <li>\u67e5\u8be2\u540e\u53f0\u8fdb\u7a0b - jobs\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# jobs\n[2]   Running                 mongod &amp;\n[3]-  Stopped                 cat\n[4]+  Stopped                 redis-server\n</code></pre> <ol> <li>\u8ba9\u8fdb\u7a0b\u5728\u540e\u53f0\u7ee7\u7eed\u8fd0\u884c - bg\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# bg %4\n[4]+ redis-server &amp;\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# jobs\n[2]   Running                 mongod &amp;\n[3]+  Stopped                 cat\n[4]-  Running                 redis-server &amp;\n</code></pre> <ol> <li> <p>\u5c06\u540e\u53f0\u8fdb\u7a0b\u7f6e\u4e8e\u524d\u53f0 - fg\u3002</p> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# fg %4\nredis-server\n</code></pre> <p>\u8bf4\u660e\uff1a\u7f6e\u4e8e\u524d\u53f0\u7684\u8fdb\u7a0b\u53ef\u4ee5\u4f7f\u7528<code>Ctrl+C</code>\u6765\u7ec8\u6b62\u5b83\u3002</p> </li> <li> <p>\u8c03\u6574\u7a0b\u5e8f/\u8fdb\u7a0b\u8fd0\u884c\u65f6\u4f18\u5148\u7ea7 - nice / renice\u3002</p> </li> <li> <p>\u7528\u6237\u767b\u51fa\u540e\u8fdb\u7a0b\u7ee7\u7eed\u5de5\u4f5c - nohup\u3002</p> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# nohup ping www.baidu.com &gt; result.txt &amp;\n</code></pre> </li> <li> <p>\u8ddf\u8e2a\u8fdb\u7a0b\u7cfb\u7edf\u8c03\u7528\u60c5\u51b5 - strace\u3002</p> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# pgrep mysqld\n8803\n[root@izwz97tbgo9lkabnat2lo8z ~]# strace -c -p 8803\nstrace: Process 8803 attached\n^Cstrace: Process 8803 detached\n% time     seconds  usecs/call     calls    errors syscall\n------ ----------- ----------- --------- --------- ----------------\n 99.18    0.005719        5719         1           restart_syscall\n  0.49    0.000028          28         1           mprotect\n  0.24    0.000014          14         1           clone\n  0.05    0.000003           3         1           mmap\n  0.03    0.000002           2         1           accept\n------ ----------- ----------- --------- --------- ----------------\n100.00    0.005766                     5           total\n</code></pre> <p>\u8bf4\u660e\uff1a\u8fd9\u4e2a\u547d\u4ee4\u7684\u7528\u6cd5\u548c\u53c2\u6570\u90fd\u6bd4\u8f83\u590d\u6742\uff0c\u5efa\u8bae\u5927\u5bb6\u5728\u771f\u6b63\u7528\u5230\u8fd9\u4e2a\u547d\u4ee4\u7684\u65f6\u5019\u518d\u6839\u636e\u5b9e\u9645\u9700\u8981\u8fdb\u884c\u4e86\u89e3\u3002</p> </li> <li> <p>\u67e5\u770b\u5f53\u524d\u8fd0\u884c\u7ea7\u522b - runlevel\u3002</p> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# runlevel\nN 3\n</code></pre> </li> <li> <p>\u5b9e\u65f6\u76d1\u63a7\u8fdb\u7a0b\u5360\u7528\u8d44\u6e90\u72b6\u51b5 - top\u3002</p> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# top\ntop - 23:04:23 up 3 days, 14:10,  1 user,  load average: 0.00, 0.01, 0.05\nTasks:  65 total,   1 running,  64 sleeping,   0 stopped,   0 zombie\n%Cpu(s):  0.3 us,  0.3 sy,  0.0 ni, 99.3 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\nKiB Mem :  1016168 total,   191060 free,   324700 used,   500408 buff/cache\nKiB Swap:        0 total,        0 free,        0 used.   530944 avail Mem\n...\n</code></pre> <ul> <li><code>-c</code> - \u663e\u793a\u8fdb\u7a0b\u7684\u6574\u4e2a\u8def\u5f84\u3002</li> <li><code>-d</code> - \u6307\u5b9a\u4e24\u6b21\u5237\u5c4f\u4e4b\u95f4\u7684\u95f4\u9694\u65f6\u95f4\uff08\u79d2\u4e3a\u5355\u4f4d\uff09\u3002</li> <li><code>-i</code> - \u4e0d\u663e\u793a\u95f2\u7f6e\u8fdb\u7a0b\u6216\u50f5\u5c38\u8fdb\u7a0b\u3002</li> <li><code>-p</code> - \u663e\u793a\u6307\u5b9a\u8fdb\u7a0b\u7684\u4fe1\u606f\u3002</li> </ul> </li> </ol>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_26","title":"\u7cfb\u7edf\u8bca\u65ad","text":"<ol> <li> <p>\u7cfb\u7edf\u542f\u52a8\u5f02\u5e38\u8bca\u65ad - dmesg\u3002</p> </li> <li> <p>\u67e5\u770b\u7cfb\u7edf\u6d3b\u52a8\u4fe1\u606f - sar\u3002</p> </li> </ol> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# sar -u -r 5 10\nLinux 3.10.0-957.10.1.el7.x86_64 (izwz97tbgo9lkabnat2lo8z)      06/02/2019      _x86_64_        (2 CPU)\n\n06:48:30 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle\n06:48:35 PM     all      0.10      0.00      0.10      0.00      0.00     99.80\n\n06:48:30 PM kbmemfree kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty\n06:48:35 PM   1772012   2108392     54.33    102816   1634528    784940     20.23    793328   1164704         0\n</code></pre> <ul> <li><code>-A</code> - \u663e\u793a\u6240\u6709\u8bbe\u5907\uff08CPU\u3001\u5185\u5b58\u3001\u78c1\u76d8\uff09\u7684\u8fd0\u884c\u72b6\u51b5\u3002</li> <li><code>-u</code> - \u663e\u793a\u6240\u6709CPU\u7684\u8d1f\u8f7d\u60c5\u51b5\u3002</li> <li><code>-d</code> - \u663e\u793a\u6240\u6709\u78c1\u76d8\u7684\u4f7f\u7528\u60c5\u51b5\u3002</li> <li><code>-r</code> - \u663e\u793a\u5185\u5b58\u7684\u4f7f\u7528\u60c5\u51b5\u3002</li> <li> <p><code>-n</code> - \u663e\u793a\u7f51\u7edc\u8fd0\u884c\u72b6\u6001\u3002</p> </li> <li> <p>\u67e5\u770b\u5185\u5b58\u4f7f\u7528\u60c5\u51b5 - free\u3002</p> </li> </ul> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# free\n              total        used        free      shared  buff/cache   available\nMem:        1016168      323924      190452         356      501792      531800\nSwap:             0           0           0\n</code></pre> <ol> <li>\u865a\u62df\u5185\u5b58\u7edf\u8ba1 - vmstat\u3002</li> </ol> <pre><code>[root@iZ8vba0s66jjlfmo601w4xZ ~]# vmstat\nprocs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----\n r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st\n 2  0      0 204020  79036 667532    0    0     5    18  101   58  1  0 99  0  0\n</code></pre> <ol> <li>CPU\u4fe1\u606f\u7edf\u8ba1 - mpstat\u3002</li> </ol> <pre><code>[root@iZ8vba0s66jjlfmo601w4xZ ~]# mpstat\nLinux 3.10.0-957.5.1.el7.x86_64 (iZ8vba0s66jjlfmo601w4xZ)       05/30/2019      _x86_64_        (1 CPU)\n\n01:51:54 AM  CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle\n01:51:54 AM  all    0.71    0.00    0.17    0.04    0.00    0.00    0.00    0.00    0.00   99.07\n</code></pre> <ol> <li>\u67e5\u770b\u8fdb\u7a0b\u4f7f\u7528\u5185\u5b58\u72b6\u51b5 - pmap\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# ps\n  PID TTY          TIME CMD\n 4581 pts/0    00:00:00 bash\n 5664 pts/0    00:00:00 ps\n[root@iZwz97tbgo9lkabnat2lo8Z ~]# pmap 4581\n4581:   -bash\n0000000000400000    884K r-x-- bash\n00000000006dc000      4K r---- bash\n00000000006dd000     36K rw--- bash\n00000000006e6000     24K rw---   [ anon ]\n0000000001de0000    400K rw---   [ anon ]\n00007f82fe805000     48K r-x-- libnss_files-2.17.so\n00007f82fe811000   2044K ----- libnss_files-2.17.so\n...\n</code></pre> <ol> <li>\u62a5\u544a\u8bbe\u5907CPU\u548cI/O\u7edf\u8ba1\u4fe1\u606f - iostat\u3002</li> </ol> <pre><code>[root@iZwz97tbgo9lkabnat2lo8Z ~]# iostat\nLinux 3.10.0-693.11.1.el7.x86_64 (iZwz97tbgo9lkabnat2lo8Z)      06/26/2018      _x86_64_       (1 CPU)\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n           0.79    0.00    0.20    0.04    0.00   98.97\nDevice:            tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn\nvda               0.85         6.78        21.32    2106565    6623024\nvdb               0.00         0.01         0.00       2088          0\n</code></pre> <ol> <li>\u663e\u793a\u6240\u6709PCI\u8bbe\u5907 - lspci\u3002</li> </ol> <pre><code>[root@izwz97tbgo9lkabnat2lo8z ~]# lspci\n00:00.0 Host bridge: Intel Corporation 440FX - 82441FX PMC [Natoma] (rev 02)\n00:01.0 ISA bridge: Intel Corporation 82371SB PIIX3 ISA [Natoma/Triton II]\n00:01.1 IDE interface: Intel Corporation 82371SB PIIX3 IDE [Natoma/Triton II]\n00:01.2 USB controller: Intel Corporation 82371SB PIIX3 USB [Natoma/Triton II] (rev 01)\n00:01.3 Bridge: Intel Corporation 82371AB/EB/MB PIIX4 ACPI (rev 03)\n00:02.0 VGA compatible controller: Cirrus Logic GD 5446\n00:03.0 Ethernet controller: Red Hat, Inc. Virtio network device\n00:04.0 Communication controller: Red Hat, Inc. Virtio console\n00:05.0 SCSI storage controller: Red Hat, Inc. Virtio block device\n00:06.0 SCSI storage controller: Red Hat, Inc. Virtio block device\n00:07.0 Unclassified device [00ff]: Red Hat, Inc. Virtio memory balloon\n</code></pre> <ol> <li>\u663e\u793a\u8fdb\u7a0b\u95f4\u901a\u4fe1\u8bbe\u65bd\u7684\u72b6\u6001 - ipcs\u3002</li> </ol> <pre><code>[root@iZ8vba0s66jjlfmo601w4xZ ~]# ipcs\n\n------ Message Queues --------\nkey        msqid      owner      perms      used-bytes   messages    \n\n------ Shared Memory Segments --------\nkey        shmid      owner      perms      bytes      nattch     status      \n\n------ Semaphore Arrays --------\nkey        semid      owner      perms      nsems\n</code></pre>"},{"location":"python/Py-100Days/Day31-35/31.%E7%8E%A9%E8%BD%ACLinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/#_27","title":"\u76f8\u5173\u8d44\u6e90","text":"<ol> <li>Linux\u547d\u4ee4\u884c\u5e38\u7528\u5feb\u6377\u952e</li> </ol> \u5feb\u6377\u952e \u529f\u80fd\u8bf4\u660e tab \u81ea\u52a8\u8865\u5168\u547d\u4ee4\u6216\u8def\u5f84 Ctrl+a \u5c06\u5149\u6807\u79fb\u52a8\u5230\u547d\u4ee4\u884c\u884c\u9996 Ctrl+e \u5c06\u5149\u6807\u79fb\u52a8\u5230\u547d\u4ee4\u884c\u884c\u5c3e Ctrl+f \u5c06\u5149\u6807\u5411\u53f3\u79fb\u52a8\u4e00\u4e2a\u5b57\u7b26 Ctrl+b \u5c06\u5149\u6807\u5411\u5de6\u79fb\u52a8\u4e00\u4e2a\u5b57\u7b26 Ctrl+k \u526a\u5207\u4ece\u5149\u6807\u5230\u884c\u5c3e\u7684\u5b57\u7b26 Ctrl+u \u526a\u5207\u4ece\u5149\u6807\u5230\u884c\u9996\u7684\u5b57\u7b26 Ctrl+w \u526a\u5207\u5149\u6807\u524d\u9762\u7684\u4e00\u4e2a\u5355\u8bcd Ctrl+y \u590d\u5236\u526a\u5207\u547d\u540d\u526a\u5207\u7684\u5185\u5bb9 Ctrl+c \u4e2d\u65ad\u6b63\u5728\u6267\u884c\u7684\u4efb\u52a1 Ctrl+h \u5220\u9664\u5149\u6807\u524d\u9762\u7684\u4e00\u4e2a\u5b57\u7b26 Ctrl+d \u9000\u51fa\u5f53\u524d\u547d\u4ee4\u884c Ctrl+r \u641c\u7d22\u5386\u53f2\u547d\u4ee4 Ctrl+g \u9000\u51fa\u5386\u53f2\u547d\u4ee4\u641c\u7d22 Ctrl+l \u6e05\u9664\u5c4f\u5e55\u4e0a\u6240\u6709\u5185\u5bb9\u5728\u5c4f\u5e55\u7684\u6700\u4e0a\u65b9\u5f00\u542f\u4e00\u4e2a\u65b0\u884c Ctrl+s \u9501\u5b9a\u7ec8\u7aef\u4f7f\u4e4b\u6682\u65f6\u65e0\u6cd5\u8f93\u5165\u5185\u5bb9 Ctrl+q \u9000\u51fa\u7ec8\u7aef\u9501\u5b9a Ctrl+z \u5c06\u6b63\u5728\u7ec8\u7aef\u6267\u884c\u7684\u4efb\u52a1\u505c\u4e0b\u6765\u653e\u5230\u540e\u53f0 !! \u6267\u884c\u4e0a\u4e00\u6761\u547d\u4ee4 !\u6570\u5b57 \u6267\u884c\u6570\u5b57\u5bf9\u5e94\u7684\u5386\u53f2\u547d\u4ee4 !\u5b57\u6bcd \u6267\u884c\u6700\u8fd1\u7684\u4ee5\u5b57\u6bcd\u6253\u5934\u7684\u547d\u4ee4 !$ / Esc+. \u83b7\u5f97\u4e0a\u4e00\u6761\u547d\u4ee4\u6700\u540e\u4e00\u4e2a\u53c2\u6570 Esc+b \u79fb\u52a8\u5230\u5f53\u524d\u5355\u8bcd\u7684\u5f00\u5934 Esc+f \u79fb\u52a8\u5230\u5f53\u524d\u5355\u8bcd\u7684\u7ed3\u5c3e <ol> <li>man\u67e5\u9605\u547d\u4ee4\u624b\u518c\u7684\u5185\u5bb9\u8bf4\u660e</li> </ol> \u624b\u518c\u4e2d\u7684\u6807\u9898 \u529f\u80fd\u8bf4\u660e NAME \u547d\u4ee4\u7684\u8bf4\u660e\u548c\u4ecb\u7ecd SYNOPSIS \u4f7f\u7528\u8be5\u547d\u4ee4\u7684\u57fa\u672c\u8bed\u6cd5 DESCRIPTION \u4f7f\u7528\u8be5\u547d\u4ee4\u7684\u8be6\u7ec6\u63cf\u8ff0\uff0c\u5404\u4e2a\u53c2\u6570\u7684\u4f5c\u7528\uff0c\u6709\u65f6\u5019\u8fd9\u4e9b\u4fe1\u606f\u4f1a\u51fa\u73b0\u5728OPTIONS\u4e2d OPTIONS \u547d\u4ee4\u76f8\u5173\u53c2\u6570\u9009\u9879\u7684\u8bf4\u660e EXAMPLES \u4f7f\u7528\u8be5\u547d\u4ee4\u7684\u53c2\u8003\u4f8b\u5b50 EXIT STATUS \u547d\u4ee4\u7ed3\u675f\u7684\u9000\u51fa\u72b6\u6001\u7801\uff0c\u901a\u5e380\u8868\u793a\u6210\u529f\u6267\u884c SEE ALSO \u548c\u547d\u4ee4\u76f8\u5173\u7684\u5176\u4ed6\u547d\u4ee4\u6216\u4fe1\u606f BUGS \u548c\u547d\u4ee4\u76f8\u5173\u7684\u7f3a\u9677\u7684\u63cf\u8ff0 AUTHOR \u8be5\u547d\u4ee4\u7684\u4f5c\u8005\u4ecb\u7ecd"},{"location":"python/Py-100Days/Day36-40/36.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93MySQL/","title":"36.\u5173\u7cfb\u578b\u6570\u636e\u5e93MySQL","text":""},{"location":"python/Py-100Days/Day36-40/36.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93MySQL/#_1","title":"\u5173\u7cfb\u6570\u636e\u5e93\u5165\u95e8","text":""},{"location":"python/Py-100Days/Day36-40/36.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93MySQL/#_2","title":"\u5173\u7cfb\u6570\u636e\u5e93\u6982\u8ff0","text":"<ol> <li> <p>\u6570\u636e\u6301\u4e45\u5316 - \u5c06\u6570\u636e\u4fdd\u5b58\u5230\uff08\u5728\u6389\u7535\u60c5\u51b5\u4e0b\uff09\u80fd\u591f\u957f\u4e45\u4fdd\u5b58\u6570\u636e\u7684\u5b58\u50a8\u4ecb\u8d28\u4e2d\u3002</p> </li> <li> <p>\u6570\u636e\u5e93\u53d1\u5c55\u53f2 - \u7f51\u72b6\u6570\u636e\u5e93\u3001\u5c42\u6b21\u6570\u636e\u5e93\u3001\u5173\u7cfb\u6570\u636e\u5e93\u3001NoSQL\u6570\u636e\u5e93\u3002</p> </li> </ol> <p>1970\u5e74\uff0cIBM\u7684\u7814\u7a76\u5458E.F.Codd\u5728Communication of the ACM\u4e0a\u53d1\u8868\u4e86\u540d\u4e3aA Relational Model of Data for Large Shared Data Banks\u7684\u8bba\u6587\uff0c\u63d0\u51fa\u4e86\u5173\u7cfb\u6a21\u578b\u7684\u6982\u5ff5\uff0c\u5960\u5b9a\u4e86\u5173\u7cfb\u6a21\u578b\u7684\u7406\u8bba\u57fa\u7840\u3002\u540e\u6765Codd\u53c8\u9646\u7eed\u53d1\u8868\u591a\u7bc7\u6587\u7ae0\uff0c\u8bba\u8ff0\u4e86\u8303\u5f0f\u7406\u8bba\u548c\u8861\u91cf\u5173\u7cfb\u7cfb\u7edf\u768412\u6761\u6807\u51c6\uff0c\u7528\u6570\u5b66\u7406\u8bba\u5960\u5b9a\u4e86\u5173\u7cfb\u6570\u636e\u5e93\u7684\u57fa\u7840\u3002</p> <ol> <li> <p>\u5173\u7cfb\u6570\u636e\u5e93\u7279\u70b9\u3002</p> </li> <li> <p>\u7406\u8bba\u57fa\u7840\uff1a\u96c6\u5408\u8bba\u548c\u5173\u7cfb\u4ee3\u6570\u3002</p> </li> <li> <p>\u5177\u4f53\u8868\u8c61\uff1a\u7528\u4e8c\u7ef4\u8868\uff08\u6709\u884c\u548c\u5217\uff09\u7ec4\u7ec7\u6570\u636e\u3002</p> </li> <li> <p>\u7f16\u7a0b\u8bed\u8a00\uff1a\u7ed3\u6784\u5316\u67e5\u8be2\u8bed\u8a00\uff08SQL\uff09\u3002</p> </li> <li> <p>E-R\u56fe\u3002</p> </li> <li>\u5b9e\u4f53 - \u77e9\u5f62\u6846</li> <li>\u5c5e\u6027 - \u692d\u5706\u6846</li> <li>\u5173\u7cfb - \u83f1\u5f62\u6846</li> <li> <p>\u91cd\u6570 - 1:1 / 1:N / M:N</p> </li> <li> <p>\u5173\u7cfb\u6570\u636e\u5e93\u4ea7\u54c1\u3002</p> </li> <li>Oracle - \u76ee\u524d\u4e16\u754c\u4e0a\u4f7f\u7528\u6700\u4e3a\u5e7f\u6cdb\u7684\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u901a\u7528\u7684\u6570\u636e\u5e93\u7cfb\u7edf\uff0c\u5b83\u5177\u6709\u5b8c\u6574\u7684\u6570\u636e\u7ba1\u7406\u529f\u80fd\uff1b\u4f5c\u4e3a\u4e00\u4e2a\u5173\u7cfb\u6570\u636e\u5e93\uff0c\u5b83\u662f\u4e00\u4e2a\u5b8c\u5907\u5173\u7cfb\u7684\u4ea7\u54c1\uff1b\u4f5c\u4e3a\u5206\u5e03\u5f0f\u6570\u636e\u5e93\uff0c\u5b83\u5b9e\u73b0\u4e86\u5206\u5e03\u5f0f\u5904\u7406\u7684\u529f\u80fd\u3002\u5728Oracle\u6700\u65b0\u768412c\u7248\u672c\u4e2d\uff0c\u8fd8\u5f15\u5165\u4e86\u591a\u627f\u79df\u65b9\u67b6\u6784\uff0c\u4f7f\u7528\u8be5\u67b6\u6784\u53ef\u8f7b\u677e\u90e8\u7f72\u548c\u7ba1\u7406\u6570\u636e\u5e93\u4e91\u3002</li> <li>DB2 - IBM\u516c\u53f8\u5f00\u53d1\u7684\u3001\u4e3b\u8981\u8fd0\u884c\u4e8eUnix\uff08\u5305\u62ecIBM\u81ea\u5bb6\u7684AIX\uff09\u3001Linux\u3001\u4ee5\u53caWindows\u670d\u52a1\u5668\u7248\u7b49\u7cfb\u7edf\u7684\u5173\u7cfb\u6570\u636e\u5e93\u4ea7\u54c1\u3002DB2\u5386\u53f2\u60a0\u4e45\u4e14\u88ab\u8ba4\u4e3a\u662f\u6700\u65e9\u4f7f\u7528SQL\u7684\u6570\u636e\u5e93\u4ea7\u54c1\uff0c\u5b83\u62e5\u6709\u8f83\u4e3a\u5f3a\u5927\u7684\u5546\u4e1a\u667a\u80fd\u529f\u80fd\u3002</li> <li>SQL Server - \u7531Microsoft\u5f00\u53d1\u548c\u63a8\u5e7f\u7684\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4ea7\u54c1\uff0c\u6700\u521d\u9002\u7528\u4e8e\u4e2d\u5c0f\u4f01\u4e1a\u7684\u6570\u636e\u7ba1\u7406\uff0c\u4f46\u662f\u8fd1\u5e74\u6765\u5b83\u7684\u5e94\u7528\u8303\u56f4\u6709\u6240\u6269\u5c55\uff0c\u90e8\u5206\u5927\u4f01\u4e1a\u751a\u81f3\u662f\u8de8\u56fd\u516c\u53f8\u4e5f\u5f00\u59cb\u57fa\u4e8e\u5b83\u6765\u6784\u5efa\u81ea\u5df1\u7684\u6570\u636e\u7ba1\u7406\u7cfb\u7edf\u3002</li> <li>MySQL - MySQL\u662f\u5f00\u653e\u6e90\u4ee3\u7801\u7684\uff0c\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u5728GPL\uff08General Public License\uff09\u7684\u8bb8\u53ef\u4e0b\u4e0b\u8f7d\u5e76\u6839\u636e\u4e2a\u6027\u5316\u7684\u9700\u8981\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\u3002MySQL\u56e0\u4e3a\u5176\u901f\u5ea6\u3001\u53ef\u9760\u6027\u548c\u9002\u5e94\u6027\u800c\u5907\u53d7\u5173\u6ce8\u3002</li> <li>PostgreSQL - \u5728BSD\u8bb8\u53ef\u8bc1\u4e0b\u53d1\u884c\u7684\u5f00\u653e\u6e90\u4ee3\u7801\u7684\u5173\u7cfb\u6570\u636e\u5e93\u4ea7\u54c1\u3002</li> </ol>"},{"location":"python/Py-100Days/Day36-40/36.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93MySQL/#mysql","title":"MySQL\u7b80\u4ecb","text":"<ol> <li> <p>\u5b89\u88c5\u548c\u914d\u7f6e\uff08\u4ee5CentOS Linux\u73af\u5883\u4e3a\u4f8b\uff09\u3002</p> </li> <li> <p>Linux\u4e0b\u6709\u4e00\u4e2aMySQL\u7684\u5206\u652f\u7248\u672c\uff0c\u540d\u4e3aMariaDB\uff0c\u5b83\u7531MySQL\u7684\u4e00\u4e9b\u539f\u59cb\u5f00\u53d1\u8005\u5f00\u53d1\uff0c\u6709\u5546\u4e1a\u652f\u6301\uff0c\u65e8\u5728\u7ee7\u7eed\u4fdd\u6301MySQL\u6570\u636e\u5e93\u5728GNU GPL\u4e0b\u5f00\u6e90\uff08\u56e0\u4e3a\u5927\u5bb6\u62c5\u5fc3MySQL\u88ab\u7532\u9aa8\u6587\u6536\u8d2d\u540e\u4f1a\u4e0d\u518d\u5f00\u6e90\uff09\u3002\u5982\u679c\u51b3\u5b9a\u8981\u76f4\u63a5\u4f7f\u7528MariaDB\u4f5c\u4e3aMySQL\u7684\u66ff\u4ee3\u54c1\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u8fdb\u884c\u5b89\u88c5\u3002</p> <pre><code>yum install mariadb mariadb-server\n</code></pre> </li> <li> <p>\u5982\u679c\u8981\u5b89\u88c5\u5b98\u65b9\u7248\u672c\u7684MySQL\uff0c\u53ef\u4ee5\u5728MySQL\u5b98\u65b9\u7f51\u7ad9\u4e0b\u8f7d\u5b89\u88c5\u6587\u4ef6\u3002\u9996\u5148\u5728\u4e0b\u8f7d\u9875\u9762\u4e2d\u9009\u62e9\u5e73\u53f0\u548c\u7248\u672c\uff0c\u7136\u540e\u627e\u5230\u5bf9\u5e94\u7684\u4e0b\u8f7d\u94fe\u63a5\u3002\u4e0b\u9762\u4ee5MySQL 5.7.26\u7248\u672c\u548cRed Hat Enterprise Linux\u4e3a\u4f8b\uff0c\u76f4\u63a5\u4e0b\u8f7d\u5305\u542b\u6240\u6709\u5b89\u88c5\u6587\u4ef6\u7684\u5f52\u6863\u6587\u4ef6\uff0c\u89e3\u5f52\u6863\u4e4b\u540e\u901a\u8fc7\u5305\u7ba1\u7406\u5de5\u5177\u8fdb\u884c\u5b89\u88c5\u3002</p> <pre><code>wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar\ntar -xvf mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar\n</code></pre> <p>\u5982\u679c\u7cfb\u7edf\u4e0a\u6709MariaDB\u76f8\u5173\u7684\u6587\u4ef6\uff0c\u9700\u8981\u5148\u79fb\u9664MariaDB\u76f8\u5173\u7684\u6587\u4ef6\u3002</p> <pre><code>yum list installed | grep mariadb | awk '{print $1}' | xargs yum erase -y\n</code></pre> <p>\u63a5\u4e0b\u6765\u53ef\u4ee5\u6309\u7167\u5982\u4e0b\u6240\u793a\u7684\u987a\u5e8f\u7528RPM\uff08Redhat Package Manager\uff09\u5de5\u5177\u5b89\u88c5MySQL\u3002</p> <pre><code>rpm -ivh mysql-community-common-5.7.26-1.el7.x86_64.rpm\nrpm -ivh mysql-community-libs-5.7.26-1.el7.x86_64.rpm\nrpm -ivh mysql-community-client-5.7.26-1.el7.x86_64.rpm\nrpm -ivh mysql-community-server-5.7.26-1.el7.x86_64.rpm\n</code></pre> <p>\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u67e5\u770b\u5df2\u7ecf\u5b89\u88c5\u7684MySQL\u76f8\u5173\u7684\u5305\u3002</p> <pre><code>rpm -qa | grep mysql\n</code></pre> </li> <li> <p>\u542f\u52a8MySQL\u670d\u52a1\u3002</p> <p>\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u542f\u52a8MySQL\u3002</p> <pre><code>service mysqld start\n</code></pre> <p>\u5728CentOS 7\u4e2d\uff0c\u66f4\u63a8\u8350\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u542f\u52a8MySQL\u3002</p> <pre><code>systemctl start mysqld\n</code></pre> <p>\u542f\u52a8MySQL\u6210\u529f\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u68c0\u67e5\u7f51\u7edc\u7aef\u53e3\u4f7f\u7528\u60c5\u51b5\uff0cMySQL\u9ed8\u8ba4\u4f7f\u75283306\u7aef\u53e3\u3002</p> <pre><code>netstat -nap | grep mysql\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u67e5\u627e\u662f\u5426\u6709\u540d\u4e3amysqld\u7684\u8fdb\u7a0b\u3002</p> <pre><code>pgrep mysqld\n</code></pre> </li> <li> <p>\u4f7f\u7528MySQL\u5ba2\u6237\u7aef\u5de5\u5177\u8fde\u63a5\u670d\u52a1\u5668\u3002</p> <p>\u547d\u4ee4\u884c\u5de5\u5177\uff1a</p> <pre><code>mysql -u root -p\n</code></pre> <p>\u8bf4\u660e\uff1a\u542f\u52a8\u5ba2\u6237\u7aef\u65f6\uff0c<code>-u</code>\u53c2\u6570\u7528\u6765\u6307\u5b9a\u7528\u6237\u540d\uff0cMySQL\u9ed8\u8ba4\u7684\u8d85\u7ea7\u7ba1\u7406\u8d26\u53f7\u4e3a<code>root</code>\uff1b<code>-p</code>\u8868\u793a\u8981\u8f93\u5165\u5bc6\u7801\uff08\u7528\u6237\u53e3\u4ee4\uff09\uff1b\u5982\u679c\u8fde\u63a5\u7684\u662f\u5176\u4ed6\u4e3b\u673a\u800c\u975e\u672c\u673a\uff0c\u53ef\u4ee5\u7528<code>-h</code>\u6765\u6307\u5b9a\u8fde\u63a5\u4e3b\u673a\u7684\u4e3b\u673a\u540d\u6216IP\u5730\u5740\u3002</p> <p>\u5982\u679c\u662f\u9996\u6b21\u5b89\u88c5MySQL\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u627e\u5230\u9ed8\u8ba4\u7684\u521d\u59cb\u5bc6\u7801\u3002</p> <pre><code>cat /var/log/mysqld.log | grep password\n</code></pre> <p>\u4e0a\u9762\u7684\u547d\u4ee4\u4f1a\u67e5\u770bMySQL\u7684\u65e5\u5fd7\u5e26\u6709password\u7684\u884c\uff0c\u5728\u663e\u793a\u7684\u7ed3\u679c\u4e2d<code>root@localhost:</code>\u540e\u9762\u7684\u90e8\u5206\u5c31\u662f\u9ed8\u8ba4\u8bbe\u7f6e\u7684\u521d\u59cb\u5bc6\u7801\u3002</p> <p>\u4fee\u6539\u8d85\u7ea7\u7ba1\u7406\u5458\uff08root\uff09\u7684\u8bbf\u95ee\u53e3\u4ee4\u4e3a<code>123456</code>\u3002</p> <pre><code>set global validate_password_policy=0;\nset global validate_password_length=6;\nalter user 'root'@'localhost' identified by '123456';\n</code></pre> <p>\u8bf4\u660e\uff1aMySQL\u9ed8\u8ba4\u4e0d\u5141\u8bb8\u4f7f\u7528\u5f31\u53e3\u4ee4\u4f5c\u4e3a\u7528\u6237\u53e3\u4ee4\uff0c\u6240\u4ee5\u6211\u4eec\u901a\u8fc7\u4e0a\u9762\u7684\u524d\u4e24\u6761\u547d\u4ee4\u4fee\u6539\u4e86\u9a8c\u8bc1\u7528\u6237\u53e3\u4ee4\u7684\u7b56\u7565\u548c\u53e3\u4ee4\u7684\u957f\u5ea6\u3002\u4e8b\u5b9e\u4e0a\u6211\u4eec\u4e0d\u5e94\u8be5\u4f7f\u7528\u5f31\u53e3\u4ee4\uff0c\u56e0\u4e3a\u5b58\u5728\u7528\u6237\u53e3\u4ee4\u88ab\u66b4\u529b\u7834\u89e3\u7684\u98ce\u9669\u3002\u8fd1\u5e74\u6765\uff0c\u653b\u51fb\u6570\u636e\u5e93\u7a83\u53d6\u6570\u636e\u548c\u52ab\u6301\u6570\u636e\u5e93\u52d2\u7d22\u6bd4\u7279\u5e01\u7684\u4e8b\u4ef6\u5c61\u89c1\u4e0d\u9c9c\uff0c\u8981\u907f\u514d\u8fd9\u4e9b\u6f5c\u5728\u7684\u98ce\u9669\uff0c\u6700\u4e3a\u91cd\u8981\u7684\u4e00\u70b9\u662f\u4e0d\u8981\u8ba9\u6570\u636e\u5e93\u670d\u52a1\u5668\u66b4\u9732\u5728\u516c\u7f51\u4e0a\uff08\u6700\u597d\u7684\u505a\u6cd5\u662f\u5c06\u6570\u636e\u5e93\u7f6e\u4e8e\u5185\u7f51\uff0c\u81f3\u5c11\u8981\u505a\u5230\u4e0d\u5411\u516c\u7f51\u5f00\u653e\u6570\u636e\u5e93\u670d\u52a1\u5668\u7684\u8bbf\u95ee\u7aef\u53e3\uff09\uff0c\u53e6\u5916\u8981\u4fdd\u7ba1\u597d<code>root</code>\u8d26\u53f7\u7684\u53e3\u4ee4\uff0c\u5e94\u7528\u7cfb\u7edf\u9700\u8981\u8bbf\u95ee\u6570\u636e\u5e93\u65f6\uff0c\u901a\u5e38\u4e0d\u4f7f\u7528<code>root</code>\u8d26\u53f7\u8fdb\u884c\u8bbf\u95ee\uff0c\u800c\u662f\u521b\u5efa\u5176\u4ed6\u62e5\u6709\u9002\u5f53\u6743\u9650\u7684\u8d26\u53f7\u6765\u8bbf\u95ee\u3002</p> <p>\u518d\u6b21\u4f7f\u7528\u5ba2\u6237\u7aef\u5de5\u5177\u8fde\u63a5MySQL\u670d\u52a1\u5668\u65f6\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u65b0\u8bbe\u7f6e\u7684\u53e3\u4ee4\u4e86\u3002\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u4e3a\u4e86\u65b9\u4fbf\u7528\u6237\u64cd\u4f5c\uff0c\u53ef\u4ee5\u9009\u62e9\u56fe\u5f62\u5316\u7684\u5ba2\u6237\u7aef\u5de5\u5177\u6765\u8fde\u63a5MySQL\u670d\u52a1\u5668\uff0c\u5305\u62ec\uff1a</p> <ul> <li>MySQL Workbench\uff08\u5b98\u65b9\u63d0\u4f9b\u7684\u5de5\u5177\uff09</li> <li>Navicat for MySQL\uff08\u754c\u9762\u7b80\u5355\u4f18\u96c5\uff0c\u529f\u80fd\u76f4\u89c2\u5f3a\u5927\uff09</li> <li>SQLyog for MySQL\uff08\u5f3a\u5927\u7684MySQL\u6570\u636e\u5e93\u7ba1\u7406\u5458\u5de5\u5177\uff09</li> </ul> </li> <li> <p>\u5e38\u7528\u547d\u4ee4\u3002</p> </li> <li> <p>\u67e5\u770b\u670d\u52a1\u5668\u7248\u672c\u3002</p> <pre><code>select version();\n</code></pre> </li> <li> <p>\u67e5\u770b\u6240\u6709\u6570\u636e\u5e93\u3002</p> <pre><code>show databases;\n</code></pre> </li> <li> <p>\u5207\u6362\u5230\u6307\u5b9a\u6570\u636e\u5e93\u3002</p> <pre><code>use mysql;\n</code></pre> </li> <li> <p>\u67e5\u770b\u6570\u636e\u5e93\u4e0b\u6240\u6709\u8868\u3002</p> <pre><code>show tables;\n</code></pre> </li> <li> <p>\u83b7\u53d6\u5e2e\u52a9\u3002</p> <pre><code>? contents;\n? functions;\n? numeric functions;\n? round;\n\n? data types;\n? longblob;\n</code></pre> </li> </ol>"},{"location":"python/Py-100Days/Day36-40/36.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93MySQL/#sql","title":"SQL\u8be6\u89e3","text":"<ol> <li>DDL</li> </ol> <pre><code>-- \u5982\u679c\u5b58\u5728\u540d\u4e3aschool\u7684\u6570\u636e\u5e93\u5c31\u5220\u9664\u5b83\ndrop database if exists school;\n\n-- \u521b\u5efa\u540d\u4e3aschool\u7684\u6570\u636e\u5e93\u5e76\u8bbe\u7f6e\u9ed8\u8ba4\u7684\u5b57\u7b26\u96c6\u548c\u6392\u5e8f\u65b9\u5f0f\ncreate database school default charset utf8 collate utf8_bin;\n\n-- \u5207\u6362\u5230school\u6570\u636e\u5e93\u4e0a\u4e0b\u6587\u73af\u5883\nuse school;\n\n-- \u521b\u5efa\u5b66\u9662\u8868\ncreate table tb_college\n(\ncollid       int auto_increment comment '\u7f16\u53f7',\ncollname varchar(50) not null comment '\u540d\u79f0',\ncollmaster   varchar(20) not null comment '\u9662\u957f',\nprimary key (collid)\n);\n\n-- \u521b\u5efa\u5b66\u751f\u8868\ncreate table tb_student\n(\nstuid        int not null comment '\u5b66\u53f7',\nstuname      varchar(20) not null comment '\u59d3\u540d',\nstusex       boolean default 1 comment '\u6027\u522b',\nstubirth date not null comment '\u51fa\u751f\u65e5\u671f',\nstuaddr      varchar(255) default '' comment '\u7c4d\u8d2f',\ncollid       int not null comment '\u6240\u5c5e\u5b66\u9662',\nprimary key (stuid),\nforeign key (collid) references tb_college (collid)\n);\n\n-- \u521b\u5efa\u6559\u5e08\u8868\ncreate table tb_teacher\n(\nteaid        int not null comment '\u5de5\u53f7',\nteaname      varchar(20) not null comment '\u59d3\u540d',\nteatitle varchar(10) default '\u52a9\u6559' comment '\u804c\u79f0',\ncollid       int not null comment '\u6240\u5c5e\u5b66\u9662',\nprimary key (teaid),\nforeign key (collid) references tb_college (collid)\n);\n\n-- \u521b\u5efa\u8bfe\u7a0b\u8868\ncreate table tb_course\n(\ncouid        int not null comment '\u7f16\u53f7',\ncouname      varchar(50) not null comment '\u540d\u79f0',\ncoucredit    int not null comment '\u5b66\u5206',\nteaid        int not null comment '\u6388\u8bfe\u8001\u5e08',\nprimary key (couid),\nforeign key (teaid) references tb_teacher (teaid)\n);\n\n-- \u521b\u5efa\u9009\u8bfe\u8bb0\u5f55\u8868\ncreate table tb_record\n(\nrecid        int auto_increment comment '\u9009\u8bfe\u8bb0\u5f55\u7f16\u53f7',\nsid          int not null comment '\u9009\u8bfe\u5b66\u751f',\ncid          int not null comment '\u6240\u9009\u8bfe\u7a0b',\nseldate      datetime default now() comment '\u9009\u8bfe\u65f6\u95f4\u65e5\u671f',\nscore        decimal(4,1) comment '\u8003\u8bd5\u6210\u7ee9',\nprimary key (recid),\nforeign key (sid) references tb_student (stuid),\nforeign key (cid) references tb_course (couid),\nunique (sid, cid)\n);\n</code></pre> <ol> <li>DML</li> </ol> <pre><code>-- \u63d2\u5165\u5b66\u9662\u6570\u636e\ninsert into tb_college (collname, collmaster) values \n('\u8ba1\u7b97\u673a\u5b66\u9662', '\u5de6\u51b7\u7985'),\n('\u5916\u56fd\u8bed\u5b66\u9662', '\u5cb3\u4e0d\u7fa4'),\n('\u7ecf\u6d4e\u7ba1\u7406\u5b66\u9662', '\u98ce\u6e05\u626c');\n\n-- \u63d2\u5165\u5b66\u751f\u6570\u636e\ninsert into tb_student (stuid, stuname, stusex, stubirth, stuaddr, collid) values\n(1001, '\u6768\u900d', 1, '1990-3-4', '\u56db\u5ddd\u6210\u90fd', 1),\n(1002, '\u4efb\u6211\u884c', 1, '1992-2-2', '\u6e56\u5357\u957f\u6c99', 1),\n(1033, '\u738b\u8bed\u5ae3', 0, '1989-12-3', '\u56db\u5ddd\u6210\u90fd', 1),\n(1572, '\u5cb3\u4e0d\u7fa4', 1, '1993-7-19', '\u9655\u897f\u54b8\u9633', 1),\n(1378, '\u7eaa\u5ae3\u7136', 0, '1995-8-12', '\u56db\u5ddd\u7ef5\u9633', 1),\n(1954, '\u6797\u5e73\u4e4b', 1, '1994-9-20', '\u798f\u5efa\u8386\u7530', 1),\n(2035, '\u4e1c\u65b9\u4e0d\u8d25', 1, '1988-6-30', null, 2),\n(3011, '\u6797\u9707\u5357', 1, '1985-12-12', '\u798f\u5efa\u8386\u7530', 3),\n(3755, '\u9879\u5c11\u9f99', 1, '1993-1-25', null, 3),\n(3923, '\u6768\u4e0d\u6094', 0, '1985-4-17', '\u56db\u5ddd\u6210\u90fd', 3),\n(4040, '\u9694\u58c1\u8001\u738b', 1, '1989-1-1', '\u56db\u5ddd\u6210\u90fd', 2);\n\n-- \u5220\u9664\u5b66\u751f\u6570\u636e\ndelete from tb_student where stuid=4040;\n\n-- \u66f4\u65b0\u5b66\u751f\u6570\u636e\nupdate tb_student set stuname='\u6768\u8fc7', stuaddr='\u6e56\u5357\u957f\u6c99' where stuid=1001;\n\n-- \u63d2\u5165\u8001\u5e08\u6570\u636e\ninsert into tb_teacher (teaid, teaname, teatitle, collid) values \n(1122, '\u5f20\u4e09\u4e30', '\u6559\u6388', 1),\n(1133, '\u5b8b\u8fdc\u6865', '\u526f\u6559\u6388', 1),\n(1144, '\u6768\u900d', '\u526f\u6559\u6388', 1),\n(2255, '\u8303\u9065', '\u526f\u6559\u6388', 2),\n(3366, '\u97e6\u4e00\u7b11', '\u8bb2\u5e08', 3);\n\n-- \u63d2\u5165\u8bfe\u7a0b\u6570\u636e\ninsert into tb_course (couid, couname, coucredit, teaid) values \n(1111, 'Python\u7a0b\u5e8f\u8bbe\u8ba1', 3, 1122),\n(2222, 'Web\u524d\u7aef\u5f00\u53d1', 2, 1122),\n(3333, '\u64cd\u4f5c\u7cfb\u7edf', 4, 1122),\n(4444, '\u8ba1\u7b97\u673a\u7f51\u7edc', 2, 1133),\n(5555, '\u7f16\u8bd1\u539f\u7406', 4, 1144),\n(6666, '\u7b97\u6cd5\u548c\u6570\u636e\u7ed3\u6784', 3, 1144),\n(7777, '\u7ecf\u8d38\u6cd5\u8bed', 3, 2255),\n(8888, '\u6210\u672c\u4f1a\u8ba1', 2, 3366),\n(9999, '\u5ba1\u8ba1\u5b66', 3, 3366);\n\n-- \u63d2\u5165\u9009\u8bfe\u6570\u636e\ninsert into tb_record (sid, cid, seldate, score) values \n(1001, 1111, '2017-09-01', 95),\n(1001, 2222, '2017-09-01', 87.5),\n(1001, 3333, '2017-09-01', 100),\n(1001, 4444, '2018-09-03', null),\n(1001, 6666, '2017-09-02', 100),\n(1002, 1111, '2017-09-03', 65),\n(1002, 5555, '2017-09-01', 42),\n(1033, 1111, '2017-09-03', 92.5),\n(1033, 4444, '2017-09-01', 78),\n(1033, 5555, '2017-09-01', 82.5),\n(1572, 1111, '2017-09-02', 78),\n(1378, 1111, '2017-09-05', 82),\n(1378, 7777, '2017-09-02', 65.5),\n(2035, 7777, '2018-09-03', 88),\n(2035, 9999, default, null),\n(3755, 1111, default, null),\n(3755, 8888, default, null),\n(3755, 9999, '2017-09-01', 92);\n</code></pre> <ol> <li>DQL</li> </ol> <pre><code>-- \u67e5\u8be2\u6240\u6709\u5b66\u751f\u4fe1\u606f\nselect * from tb_student;\n\n-- \u67e5\u8be2\u6240\u6709\u8bfe\u7a0b\u540d\u79f0\u53ca\u5b66\u5206(\u6295\u5f71\u548c\u522b\u540d)\nselect couname, coucredit from tb_course;\nselect couname as \u8bfe\u7a0b\u540d\u79f0, coucredit as \u5b66\u5206 from tb_course;\n\n-- \u67e5\u8be2\u6240\u6709\u5b66\u751f\u7684\u59d3\u540d\u548c\u6027\u522b(\u6761\u4ef6\u8fd0\u7b97)\nselect stuname as \u59d3\u540d, case stusex when 1 then '\u7537' else '\u5973' end as \u6027\u522b from tb_student;\nselect stuname as \u59d3\u540d, if(stusex, '\u7537', '\u5973') as \u6027\u522b from tb_student;\n\n-- \u67e5\u8be2\u6240\u6709\u5973\u5b66\u751f\u7684\u59d3\u540d\u548c\u51fa\u751f\u65e5\u671f(\u7b5b\u9009)\nselect stuname, stubirth from tb_student where stusex=0;\n\n-- \u67e5\u8be2\u6240\u670980\u540e\u5b66\u751f\u7684\u59d3\u540d\u3001\u6027\u522b\u548c\u51fa\u751f\u65e5\u671f(\u7b5b\u9009)\nselect stuname, stusex, stubirth from tb_student where stubirth&gt;='1980-1-1' and stubirth&lt;='1989-12-31';\nselect stuname, stusex, stubirth from tb_student where stubirth between '1980-1-1' and '1989-12-31';\n\n-- \u67e5\u8be2\u59d3\"\u6768\"\u7684\u5b66\u751f\u59d3\u540d\u548c\u6027\u522b(\u6a21\u7cca)\nselect stuname, stusex from tb_student where stuname like '\u6768%';\n\n-- \u67e5\u8be2\u59d3\"\u6768\"\u540d\u5b57\u4e24\u4e2a\u5b57\u7684\u5b66\u751f\u59d3\u540d\u548c\u6027\u522b(\u6a21\u7cca)\nselect stuname, stusex from tb_student where stuname like '\u6768_';\n\n-- \u67e5\u8be2\u59d3\"\u6768\"\u540d\u5b57\u4e09\u4e2a\u5b57\u7684\u5b66\u751f\u59d3\u540d\u548c\u6027\u522b(\u6a21\u7cca)\nselect stuname, stusex from tb_student where stuname like '\u6768__';\n\n-- \u67e5\u8be2\u540d\u5b57\u4e2d\u6709\"\u4e0d\"\u5b57\u6216\"\u5ae3\"\u5b57\u7684\u5b66\u751f\u7684\u59d3\u540d(\u6a21\u7cca)\nselect stuname, stusex from tb_student where stuname like '%\u4e0d%' or stuname like '%\u5ae3%';\n\n-- \u67e5\u8be2\u6ca1\u6709\u5f55\u5165\u5bb6\u5ead\u4f4f\u5740\u7684\u5b66\u751f\u59d3\u540d(\u7a7a\u503c)\nselect stuname from tb_student where stuaddr is null;\n\n-- \u67e5\u8be2\u5f55\u5165\u4e86\u5bb6\u5ead\u4f4f\u5740\u7684\u5b66\u751f\u59d3\u540d(\u7a7a\u503c)\nselect stuname from tb_student where stuaddr is not null;\n\n-- \u67e5\u8be2\u5b66\u751f\u9009\u8bfe\u7684\u6240\u6709\u65e5\u671f(\u53bb\u91cd)\nselect distinct seldate from tb_record;\n\n-- \u67e5\u8be2\u5b66\u751f\u7684\u5bb6\u5ead\u4f4f\u5740(\u53bb\u91cd)\nselect distinct stuaddr from tb_student where stuaddr is not null;\n\n-- \u67e5\u8be2\u7537\u5b66\u751f\u7684\u59d3\u540d\u548c\u751f\u65e5\u6309\u5e74\u9f84\u4ece\u5927\u5230\u5c0f\u6392\u5217(\u6392\u5e8f)\nselect stuname as \u59d3\u540d, datediff(curdate(), stubirth) div 365 as \u5e74\u9f84 from tb_student where stusex=1 order by \u5e74\u9f84 desc;\n\n-- \u67e5\u8be2\u5e74\u9f84\u6700\u5927\u7684\u5b66\u751f\u7684\u51fa\u751f\u65e5\u671f(\u805a\u5408\u51fd\u6570)\nselect min(stubirth) from tb_student;\n\n-- \u67e5\u8be2\u5e74\u9f84\u6700\u5c0f\u7684\u5b66\u751f\u7684\u51fa\u751f\u65e5\u671f(\u805a\u5408\u51fd\u6570)\nselect max(stubirth) from tb_student;\n\n-- \u67e5\u8be2\u7537\u5973\u5b66\u751f\u7684\u4eba\u6570(\u5206\u7ec4\u548c\u805a\u5408\u51fd\u6570)\nselect stusex, count(*) from tb_student group by stusex;\n\n-- \u67e5\u8be2\u8bfe\u7a0b\u7f16\u53f7\u4e3a1111\u7684\u8bfe\u7a0b\u7684\u5e73\u5747\u6210\u7ee9(\u7b5b\u9009\u548c\u805a\u5408\u51fd\u6570)\nselect avg(score) from tb_record where cid=1111;\n\n-- \u67e5\u8be2\u5b66\u53f7\u4e3a1001\u7684\u5b66\u751f\u6240\u6709\u8bfe\u7a0b\u7684\u5e73\u5747\u5206(\u7b5b\u9009\u548c\u805a\u5408\u51fd\u6570)\nselect avg(score) from tb_record where sid=1001;\n\n-- \u67e5\u8be2\u6bcf\u4e2a\u5b66\u751f\u7684\u5b66\u53f7\u548c\u5e73\u5747\u6210\u7ee9(\u5206\u7ec4\u548c\u805a\u5408\u51fd\u6570)\nselect sid as \u5b66\u53f7, avg(score) as \u5e73\u5747\u5206 from tb_record group by sid;\n\n-- \u67e5\u8be2\u5e73\u5747\u6210\u7ee9\u5927\u4e8e\u7b49\u4e8e90\u5206\u7684\u5b66\u751f\u7684\u5b66\u53f7\u548c\u5e73\u5747\u6210\u7ee9\n-- \u5206\u7ec4\u4ee5\u524d\u7684\u7b5b\u9009\u4f7f\u7528where\u5b50\u53e5 / \u5206\u7ec4\u4ee5\u540e\u7684\u7b5b\u9009\u4f7f\u7528having\u5b50\u53e5\nselect sid as \u5b66\u53f7, avg(score) as \u5e73\u5747\u5206 from tb_record group by sid having \u5e73\u5747\u5206&gt;=90;\n\n-- \u67e5\u8be2\u5e74\u9f84\u6700\u5927\u7684\u5b66\u751f\u7684\u59d3\u540d(\u5b50\u67e5\u8be2/\u5d4c\u5957\u7684\u67e5\u8be2)\nselect stuname from tb_student where stubirth=( select min(stubirth) from tb_student );\n\n-- \u67e5\u8be2\u5e74\u9f84\u6700\u5927\u7684\u5b66\u751f\u59d3\u540d\u548c\u5e74\u9f84(\u5b50\u67e5\u8be2+\u8fd0\u7b97)\nselect stuname as \u59d3\u540d, datediff(curdate(), stubirth) div 365 as \u5e74\u9f84 from tb_student where stubirth=( select min(stubirth) from tb_student );\n\n-- \u67e5\u8be2\u9009\u4e86\u4e24\u95e8\u4ee5\u4e0a\u7684\u8bfe\u7a0b\u7684\u5b66\u751f\u59d3\u540d(\u5b50\u67e5\u8be2/\u5206\u7ec4\u6761\u4ef6/\u96c6\u5408\u8fd0\u7b97)\nselect stuname from tb_student where stuid in ( select stuid from tb_record group by stuid having count(stuid)&gt;2 );\n\n-- \u67e5\u8be2\u5b66\u751f\u59d3\u540d\u3001\u8bfe\u7a0b\u540d\u79f0\u4ee5\u53ca\u6210\u7ee9(\u8fde\u63a5\u67e5\u8be2)\nselect stuname, couname, score from tb_student t1, tb_course t2, tb_record t3 where stuid=sid and couid=cid and score is not null;\n\n-- \u67e5\u8be2\u5b66\u751f\u59d3\u540d\u3001\u8bfe\u7a0b\u540d\u79f0\u4ee5\u53ca\u6210\u7ee9\u6309\u6210\u7ee9\u4ece\u9ad8\u5230\u4f4e\u67e5\u8be2\u7b2c11-15\u6761\u8bb0\u5f55(\u5185\u8fde\u63a5+\u5206\u9875)\nselect stuname, couname, score from tb_student inner join tb_record on stuid=sid inner join tb_course on couid=cid where score is not null order by score desc limit 5 offset 10;\n\nselect stuname, couname, score from tb_student inner join tb_record on stuid=sid inner join tb_course on couid=cid where score is not null order by score desc limit 10, 5;\n\n-- \u67e5\u8be2\u9009\u8bfe\u5b66\u751f\u7684\u59d3\u540d\u548c\u5e73\u5747\u6210\u7ee9(\u5b50\u67e5\u8be2\u548c\u8fde\u63a5\u67e5\u8be2)\nselect stuname, avgmark from tb_student, ( select sid, avg(score) as avgmark from tb_record group by sid ) temp where stuid=sid;\n\nselect stuname, avgmark from tb_student inner join ( select sid, avg(score) as avgmark from tb_record group by sid ) temp on stuid=sid;\n\n-- \u67e5\u8be2\u6bcf\u4e2a\u5b66\u751f\u7684\u59d3\u540d\u548c\u9009\u8bfe\u6570\u91cf(\u5de6\u5916\u8fde\u63a5\u548c\u5b50\u67e5\u8be2)\nselect stuname, ifnull(total, 0) from tb_student left outer join ( select sid, count(sid) as total from tb_record group by sid ) temp on stuid=sid;\n</code></pre> <ol> <li>DCL</li> </ol> <pre><code>-- \u521b\u5efa\u540d\u4e3ahellokitty\u7684\u7528\u6237\ncreate user 'hellokitty'@'%' identified by '123123';\n\n-- \u5c06\u5bf9school\u6570\u636e\u5e93\u6240\u6709\u5bf9\u8c61\u7684\u6240\u6709\u64cd\u4f5c\u6743\u9650\u6388\u4e88hellokitty\ngrant all privileges on school.* to 'hellokitty'@'%';\n\n-- \u53ec\u56dehellokitty\u5bf9school\u6570\u636e\u5e93\u6240\u6709\u5bf9\u8c61\u7684insert/delete/update\u6743\u9650\nrevoke insert, delete, update on school.* from 'hellokitty'@'%';\n</code></pre>"},{"location":"python/Py-100Days/Day36-40/36.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93MySQL/#_3","title":"\u76f8\u5173\u77e5\u8bc6","text":""},{"location":"python/Py-100Days/Day36-40/36.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93MySQL/#-","title":"\u8303\u5f0f\u7406\u8bba - \u8bbe\u8ba1\u4e8c\u7ef4\u8868\u7684\u6307\u5bfc\u601d\u60f3","text":"<ol> <li>\u7b2c\u4e00\u8303\u5f0f\uff1a\u6570\u636e\u8868\u7684\u6bcf\u4e2a\u5217\u7684\u503c\u57df\u90fd\u662f\u7531\u539f\u5b50\u503c\u7ec4\u6210\u7684\uff0c\u4e0d\u80fd\u591f\u518d\u5206\u5272\u3002</li> <li>\u7b2c\u4e8c\u8303\u5f0f\uff1a\u6570\u636e\u8868\u91cc\u7684\u6240\u6709\u6570\u636e\u90fd\u8981\u548c\u8be5\u6570\u636e\u8868\u7684\u952e\uff08\u4e3b\u952e\u4e0e\u5019\u9009\u952e\uff09\u6709\u5b8c\u5168\u4f9d\u8d56\u5173\u7cfb\u3002</li> <li>\u7b2c\u4e09\u8303\u5f0f\uff1a\u6240\u6709\u975e\u952e\u5c5e\u6027\u90fd\u53ea\u548c\u5019\u9009\u952e\u6709\u76f8\u5173\u6027\uff0c\u4e5f\u5c31\u662f\u8bf4\u975e\u952e\u5c5e\u6027\u4e4b\u95f4\u5e94\u8be5\u662f\u72ec\u7acb\u65e0\u5173\u7684\u3002</li> </ol>"},{"location":"python/Py-100Days/Day36-40/36.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93MySQL/#_4","title":"\u6570\u636e\u5b8c\u6574\u6027","text":"<ol> <li>\u5b9e\u4f53\u5b8c\u6574\u6027 - \u6bcf\u4e2a\u5b9e\u4f53\u90fd\u662f\u72ec\u4e00\u65e0\u4e8c\u7684</li> <li>\u4e3b\u952e\uff08primary key\uff09 / \u552f\u4e00\u7ea6\u675f / \u552f\u4e00\u7d22\u5f15\uff08unique\uff09</li> <li>\u5f15\u7528\u5b8c\u6574\u6027\uff08\u53c2\u7167\u5b8c\u6574\u6027\uff09- \u5173\u7cfb\u4e2d\u4e0d\u5141\u8bb8\u5f15\u7528\u4e0d\u5b58\u5728\u7684\u5b9e\u4f53</li> <li>\u5916\u952e\uff08foreign key\uff09</li> <li>\u57df\u5b8c\u6574\u6027 - \u6570\u636e\u662f\u6709\u6548\u7684</li> <li>\u6570\u636e\u7c7b\u578b\u53ca\u957f\u5ea6</li> <li>\u975e\u7a7a\u7ea6\u675f\uff08not null\uff09</li> <li>\u9ed8\u8ba4\u503c\u7ea6\u675f\uff08default\uff09</li> <li>\u68c0\u67e5\u7ea6\u675f\uff08check\uff09</li> </ol>"},{"location":"python/Py-100Days/Day36-40/36.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93MySQL/#_5","title":"\u6570\u636e\u4e00\u81f4\u6027","text":"<ol> <li> <p>\u4e8b\u52a1\uff1a\u4e00\u7cfb\u5217\u5bf9\u6570\u636e\u5e93\u8fdb\u884c\u8bfb/\u5199\u7684\u64cd\u4f5c\u3002</p> </li> <li> <p>\u4e8b\u52a1\u7684ACID\u7279\u6027</p> </li> <li>\u539f\u5b50\u6027\uff1a\u4e8b\u52a1\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\u88ab\u6267\u884c\uff0c\u5305\u542b\u5728\u5176\u4e2d\u7684\u5bf9\u6570\u636e\u5e93\u7684\u64cd\u4f5c\u8981\u4e48\u5168\u90e8\u88ab\u6267\u884c\uff0c\u8981\u4e48\u90fd\u4e0d\u6267\u884c</li> <li>\u4e00\u81f4\u6027\uff1a\u4e8b\u52a1\u5e94\u786e\u4fdd\u6570\u636e\u5e93\u7684\u72b6\u6001\u4ece\u4e00\u4e2a\u4e00\u81f4\u72b6\u6001\u8f6c\u53d8\u4e3a\u53e6\u4e00\u4e2a\u4e00\u81f4\u72b6\u6001</li> <li>\u9694\u79bb\u6027\uff1a\u591a\u4e2a\u4e8b\u52a1\u5e76\u53d1\u6267\u884c\u65f6\uff0c\u4e00\u4e2a\u4e8b\u52a1\u7684\u6267\u884c\u4e0d\u5e94\u5f71\u54cd\u5176\u4ed6\u4e8b\u52a1\u7684\u6267\u884c</li> <li> <p>\u6301\u4e45\u6027\uff1a\u5df2\u88ab\u63d0\u4ea4\u7684\u4e8b\u52a1\u5bf9\u6570\u636e\u5e93\u7684\u4fee\u6539\u5e94\u8be5\u6c38\u4e45\u4fdd\u5b58\u5728\u6570\u636e\u5e93\u4e2d</p> </li> <li> <p>MySQL\u4e2d\u7684\u4e8b\u52a1\u64cd\u4f5c</p> </li> <li> <p>\u5f00\u542f\u4e8b\u52a1\u73af\u5883</p> <pre><code>start transaction\n</code></pre> </li> <li> <p>\u63d0\u4ea4\u4e8b\u52a1</p> <pre><code>commit\n</code></pre> </li> <li> <p>\u56de\u6eda\u4e8b\u52a1</p> <pre><code>rollback\n</code></pre> </li> </ol>"},{"location":"python/Py-100Days/Day36-40/36.%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93MySQL/#python","title":"Python\u6570\u636e\u5e93\u7f16\u7a0b","text":"<p>\u6211\u4eec\u7528\u5982\u4e0b\u6240\u793a\u7684\u6570\u636e\u5e93\u6765\u6f14\u793a\u5728Python\u4e2d\u5982\u4f55\u8bbf\u95eeMySQL\u6570\u636e\u5e93\u3002</p> <pre><code>drop database if exists hrs;\ncreate database hrs default charset utf8;\n\nuse hrs;\n\ndrop table if exists tb_emp;\ndrop table if exists tb_dept;\n\ncreate table tb_dept\n(\ndno   int not null comment '\u7f16\u53f7',\ndname varchar(10) not null comment '\u540d\u79f0',\ndloc  varchar(20) not null comment '\u6240\u5728\u5730',\nprimary key (dno)\n);\n\ninsert into tb_dept values \n    (10, '\u4f1a\u8ba1\u90e8', '\u5317\u4eac'),\n    (20, '\u7814\u53d1\u90e8', '\u6210\u90fd'),\n    (30, '\u9500\u552e\u90e8', '\u91cd\u5e86'),\n    (40, '\u8fd0\u7ef4\u90e8', '\u6df1\u5733');\n\ncreate table tb_emp\n(\neno   int not null comment '\u5458\u5de5\u7f16\u53f7',\nename varchar(20) not null comment '\u5458\u5de5\u59d3\u540d',\njob   varchar(20) not null comment '\u5458\u5de5\u804c\u4f4d',\nmgr   int comment '\u4e3b\u7ba1\u7f16\u53f7',\nsal   int not null comment '\u5458\u5de5\u6708\u85aa',\ncomm  int comment '\u6bcf\u6708\u8865\u8d34',\ndno   int comment '\u6240\u5728\u90e8\u95e8\u7f16\u53f7',\nprimary key (eno)\n);\n\nalter table tb_emp add constraint fk_emp_dno foreign key (dno) references tb_dept (dno);\n\ninsert into tb_emp values \n    (7800, '\u5f20\u4e09\u4e30', '\u603b\u88c1', null, 9000, 1200, 20),\n    (2056, '\u4e54\u5cf0', '\u5206\u6790\u5e08', 7800, 5000, 1500, 20),\n    (3088, '\u674e\u83ab\u6101', '\u8bbe\u8ba1\u5e08', 2056, 3500, 800, 20),\n    (3211, '\u5f20\u65e0\u5fcc', '\u7a0b\u5e8f\u5458', 2056, 3200, null, 20),\n    (3233, '\u4e18\u5904\u673a', '\u7a0b\u5e8f\u5458', 2056, 3400, null, 20),\n    (3251, '\u5f20\u7fe0\u5c71', '\u7a0b\u5e8f\u5458', 2056, 4000, null, 20),\n    (5566, '\u5b8b\u8fdc\u6865', '\u4f1a\u8ba1\u5e08', 7800, 4000, 1000, 10),\n    (5234, '\u90ed\u9756', '\u51fa\u7eb3', 5566, 2000, null, 10),\n    (3344, '\u9ec4\u84c9', '\u9500\u552e\u4e3b\u7ba1', 7800, 3000, 800, 30),\n    (1359, '\u80e1\u4e00\u5200', '\u9500\u552e\u5458', 3344, 1800, 200, 30),\n    (4466, '\u82d7\u4eba\u51e4', '\u9500\u552e\u5458', 3344, 2500, null, 30),\n    (3244, '\u6b27\u9633\u950b', '\u7a0b\u5e8f\u5458', 3088, 3200, null, 20),\n    (3577, '\u6768\u8fc7', '\u4f1a\u8ba1', 5566, 2200, null, 10),\n    (3588, '\u6731\u4e5d\u771f', '\u4f1a\u8ba1', 5566, 2500, null, 10);\n</code></pre> <p>\u5728Python 3\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u4f7f\u7528\u7eafPython\u7684\u4e09\u65b9\u5e93PyMySQL\u6765\u8bbf\u95eeMySQL\u6570\u636e\u5e93\uff0c\u5b83\u5e94\u8be5\u662f\u76ee\u524d\u6700\u597d\u7684\u9009\u62e9\u3002</p> <ol> <li>\u5b89\u88c5PyMySQL\u3002</li> </ol> <pre><code>pip install pymysql\n</code></pre> <ol> <li>\u6dfb\u52a0\u4e00\u4e2a\u90e8\u95e8\u3002</li> </ol> <pre><code>import pymysql\n\n\ndef main():\n    no = int(input('\u7f16\u53f7: '))\n    name = input('\u540d\u5b57: ')\n    loc = input('\u6240\u5728\u5730: ')\n    # 1. \u521b\u5efa\u6570\u636e\u5e93\u8fde\u63a5\u5bf9\u8c61\n    con = pymysql.connect(host='localhost', port=3306,\n                          database='hrs', charset='utf8',\n                          user='root', password='123456')\n    try:\n        # 2. \u901a\u8fc7\u8fde\u63a5\u5bf9\u8c61\u83b7\u53d6\u6e38\u6807\n        with con.cursor() as cursor:\n            # 3. \u901a\u8fc7\u6e38\u6807\u6267\u884cSQL\u5e76\u83b7\u5f97\u6267\u884c\u7ed3\u679c\n            result = cursor.execute(\n                'insert into tb_dept values (%s, %s, %s)',\n                (no, name, loc)\n            )\n        if result == 1:\n            print('\u6dfb\u52a0\u6210\u529f!')\n        # 4. \u64cd\u4f5c\u6210\u529f\u63d0\u4ea4\u4e8b\u52a1\n        con.commit()\n    finally:\n        # 5. \u5173\u95ed\u8fde\u63a5\u91ca\u653e\u8d44\u6e90\n        con.close()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <ol> <li>\u5220\u9664\u4e00\u4e2a\u90e8\u95e8\u3002</li> </ol> <pre><code>import pymysql\n\n\ndef main():\n    no = int(input('\u7f16\u53f7: '))\n    con = pymysql.connect(host='localhost', port=3306,\n                          database='hrs', charset='utf8',\n                          user='root', password='123456',\n                          autocommit=True)\n    try:\n        with con.cursor() as cursor:\n            result = cursor.execute(\n                'delete from tb_dept where dno=%s',\n                (no, )\n            )\n        if result == 1:\n            print('\u5220\u9664\u6210\u529f!')\n    finally:\n        con.close()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <ol> <li>\u66f4\u65b0\u4e00\u4e2a\u90e8\u95e8\u3002</li> </ol> <pre><code>import pymysql\n\n\ndef main():\n    no = int(input('\u7f16\u53f7: '))\n    name = input('\u540d\u5b57: ')\n    loc = input('\u6240\u5728\u5730: ')\n    con = pymysql.connect(host='localhost', port=3306,\n                          database='hrs', charset='utf8',\n                          user='root', password='123456',\n                          autocommit=True)\n    try:\n        with con.cursor() as cursor:\n            result = cursor.execute(\n                'update tb_dept set dname=%s, dloc=%s where dno=%s',\n                (name, loc, no)\n            )\n        if result == 1:\n            print('\u66f4\u65b0\u6210\u529f!')\n    finally:\n        con.close()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <ol> <li>\u67e5\u8be2\u6240\u6709\u90e8\u95e8\u3002</li> </ol> <pre><code>import pymysql\nfrom pymysql.cursors import DictCursor\n\n\ndef main():\n    con = pymysql.connect(host='localhost', port=3306,\n                          database='hrs', charset='utf8',\n                          user='root', password='123456')\n    try:\n        with con.cursor(cursor=DictCursor) as cursor:\n            cursor.execute('select dno as no, dname as name, dloc as loc from tb_dept')\n            results = cursor.fetchall()\n            print(results)\n            print('\u7f16\u53f7\\t\u540d\u79f0\\t\\t\u6240\u5728\u5730')\n            for dept in results:\n                print(dept['no'], end='\\t')\n                print(dept['name'], end='\\t')\n                print(dept['loc'])\n    finally:\n        con.close()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <ol> <li>\u5206\u9875\u67e5\u8be2\u5458\u5de5\u4fe1\u606f\u3002</li> </ol> <pre><code>import pymysql\nfrom pymysql.cursors import DictCursor\n\n\nclass Emp(object):\n\n    def __init__(self, no, name, job, sal):\n        self.no = no\n        self.name = name\n        self.job = job\n        self.sal = sal\n\n    def __str__(self):\n        return f'\\n\u7f16\u53f7\uff1a{self.no}\\n\u59d3\u540d\uff1a{self.name}\\n\u804c\u4f4d\uff1a{self.job}\\n\u6708\u85aa\uff1a{self.sal}\\n'\n\n\ndef main():\n    page = int(input('\u9875\u7801: '))\n    size = int(input('\u5927\u5c0f: '))\n    con = pymysql.connect(host='localhost', port=3306,\n                          database='hrs', charset='utf8',\n                          user='root', password='123456')\n    try:\n        with con.cursor() as cursor:\n            cursor.execute(\n                'select eno as no, ename as name, job, sal from tb_emp limit %s,%s',\n                ((page - 1) * size, size)\n            )\n            for emp_tuple in cursor.fetchall():\n                emp = Emp(*emp_tuple)\n                print(emp)\n    finally:\n        con.close()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day36-40/39.NoSQL%E5%85%A5%E9%97%A8/","title":"39.NoSQL\u5165\u95e8","text":""},{"location":"python/Py-100Days/Day36-40/39.NoSQL%E5%85%A5%E9%97%A8/#nosql","title":"NoSQL\u5165\u95e8","text":""},{"location":"python/Py-100Days/Day36-40/39.NoSQL%E5%85%A5%E9%97%A8/#nosql_1","title":"NoSQL\u6982\u8ff0","text":"<p>\u5982\u4eca\uff0c\u5927\u591a\u6570\u7684\u8ba1\u7b97\u673a\u7cfb\u7edf\uff08\u5305\u62ec\u670d\u52a1\u5668\u3001PC\u3001\u79fb\u52a8\u8bbe\u5907\u7b49\uff09\u90fd\u4f1a\u4ea7\u751f\u5e9e\u5927\u7684\u6570\u636e\u91cf\u3002\u5176\u5b9e\uff0c\u65e9\u57282012\u5e74\u7684\u65f6\u5019\uff0c\u5168\u4e16\u754c\u6bcf\u5929\u4ea7\u751f\u7684\u6570\u636e\u91cf\u5c31\u8fbe\u5230\u4e862.5EB\uff08\u827e\u5b57\u8282\uff0c\\(\\(1EB\\approx10^{18}B\\)\\)\uff09\u3002\u8fd9\u4e9b\u6570\u636e\u6709\u5f88\u5927\u4e00\u90e8\u5206\u662f\u7531\u5173\u7cfb\u578b\u6570\u636e\u5e93\u6765\u5b58\u50a8\u548c\u7ba1\u7406\u7684\u3002 \u65e9\u57281970\u5e74\uff0cE.F.Codd\u53d1\u8868\u4e86\u8bba\u8ff0\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u8457\u540d\u8bba\u6587\u201cA relational model of data for large shared data banks\u201d\uff0c\u8fd9\u7bc7\u6587\u7ae0\u5960\u5b9a\u4e86\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u57fa\u7840\u5e76\u5728\u63a5\u4e0b\u6765\u7684\u6570\u5341\u5e74\u65f6\u95f4\u5185\u4ea7\u751f\u4e86\u6df1\u8fdc\u7684\u5f71\u54cd\u3002\u5b9e\u8df5\u8bc1\u660e\uff0c\u5173\u7cfb\u578b\u6570\u636e\u5e93\u662f\u5b9e\u73b0\u6570\u636e\u6301\u4e45\u5316\u6700\u4e3a\u91cd\u8981\u7684\u65b9\u5f0f\uff0c\u5b83\u4e5f\u662f\u5927\u591a\u6570\u5e94\u7528\u5728\u9009\u62e9\u6301\u4e45\u5316\u65b9\u6848\u65f6\u7684\u9996\u9009\u6280\u672f\u3002</p> <p>NoSQL\u662f\u4e00\u9879\u5168\u65b0\u7684\u6570\u636e\u5e93\u9769\u547d\u6027\u8fd0\u52a8\uff0c\u867d\u7136\u5b83\u7684\u5386\u53f2\u53ef\u4ee5\u8ffd\u6eaf\u52301998\u5e74\uff0c\u4f46\u662fNoSQL\u771f\u6b63\u6df1\u5165\u4eba\u5fc3\u5e76\u5f97\u5230\u5e7f\u6cdb\u7684\u5e94\u7528\u662f\u5728\u8fdb\u5165\u5927\u6570\u636e\u65f6\u5019\u4ee5\u540e\uff0c\u4e1a\u754c\u666e\u904d\u8ba4\u4e3aNoSQL\u662f\u66f4\u9002\u5408\u5927\u6570\u636e\u5b58\u50a8\u7684\u6280\u672f\u65b9\u6848\uff0c\u8fd9\u624d\u4f7f\u5f97NoSQL\u7684\u53d1\u5c55\u8fbe\u5230\u4e86\u524d\u6240\u672a\u6709\u7684\u9ad8\u5ea6\u30022012\u5e74\u300a\u7ebd\u7ea6\u65f6\u62a5\u300b\u7684\u4e00\u7bc7\u4e13\u680f\u4e2d\u5199\u5230\uff0c\u5927\u6570\u636e\u65f6\u4ee3\u5df2\u7ecf\u964d\u4e34\uff0c\u5728\u5546\u4e1a\u3001\u7ecf\u6d4e\u53ca\u5176\u4ed6\u9886\u57df\u4e2d\uff0c\u51b3\u7b56\u5c06\u4e0d\u518d\u57fa\u4e8e\u7ecf\u9a8c\u548c\u76f4\u89c9\u800c\u662f\u57fa\u4e8e\u6570\u636e\u548c\u5206\u6790\u800c\u4f5c\u51fa\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5728\u5929\u6587\u5b66\u3001\u6c14\u8c61\u5b66\u3001\u57fa\u56e0\u7ec4\u5b66\u3001\u751f\u7269\u5b66\u3001\u793e\u4f1a\u5b66\u3001\u4e92\u8054\u7f51\u641c\u7d22\u5f15\u64ce\u3001\u91d1\u878d\u3001\u533b\u7597\u3001\u793e\u4ea4\u7f51\u7edc\u3001\u7535\u5b50\u5546\u52a1\u7b49\u8bf8\u591a\u9886\u57df\uff0c\u7531\u4e8e\u6570\u636e\u8fc7\u4e8e\u5bc6\u96c6\u548c\u5e9e\u5927\uff0c\u5728\u6570\u636e\u7684\u5206\u6790\u548c\u5904\u7406\u4e0a\u4e5f\u9047\u5230\u4e86\u524d\u6240\u672a\u6709\u7684\u9650\u5236\u548c\u963b\u788d\uff0c\u8fd9\u4e00\u5207\u90fd\u4f7f\u5f97\u5bf9\u5927\u6570\u636e\u5904\u7406\u6280\u672f\u7684\u7814\u7a76\u88ab\u63d0\u5347\u5230\u4e86\u65b0\u7684\u9ad8\u5ea6\uff0c\u4e5f\u4f7f\u5f97\u5404\u79cdNoSQL\u7684\u6280\u672f\u65b9\u6848\u8fdb\u5165\u5230\u4e86\u516c\u4f17\u7684\u89c6\u91ce\u3002</p> <p>NoSQL\u6570\u636e\u5e93\u6309\u7167\u5176\u5b58\u50a8\u7c7b\u578b\u53ef\u4ee5\u5927\u81f4\u5206\u4e3a\u4ee5\u4e0b\u51e0\u7c7b\uff1a</p> \u7c7b\u578b \u90e8\u5206\u4ee3\u8868 \u7279\u70b9 \u5217\u65cf\u6570\u636e\u5e93 HBaseCassandraHypertable \u987e\u540d\u601d\u4e49\u662f\u6309\u5217\u5b58\u50a8\u6570\u636e\u7684\u3002\u6700\u5927\u7684\u7279\u70b9\u662f\u65b9\u4fbf\u5b58\u50a8\u7ed3\u6784\u5316\u548c\u534a\u7ed3\u6784\u5316\u6570\u636e\uff0c\u65b9\u4fbf\u505a\u6570\u636e\u538b\u7f29\uff0c\u5bf9\u9488\u5bf9\u67d0\u4e00\u5217\u6216\u8005\u67d0\u51e0\u5217\u7684\u67e5\u8be2\u6709\u975e\u5e38\u5927\u7684I/O\u4f18\u52bf\uff0c\u9002\u5408\u4e8e\u6279\u91cf\u6570\u636e\u5904\u7406\u548c\u5373\u65f6\u67e5\u8be2\u3002 \u6587\u6863\u6570\u636e\u5e93 MongoDBCouchDBElasticSearch \u6587\u6863\u6570\u636e\u5e93\u4e00\u822c\u7528\u7c7bJSON\u683c\u5f0f\u5b58\u50a8\u6570\u636e\uff0c\u5b58\u50a8\u7684\u5185\u5bb9\u662f\u6587\u6863\u578b\u7684\u3002\u8fd9\u6837\u4e5f\u5c31\u6709\u673a\u4f1a\u5bf9\u67d0\u4e9b\u5b57\u6bb5\u5efa\u7acb\u7d22\u5f15\uff0c\u5b9e\u73b0\u5173\u7cfb\u6570\u636e\u5e93\u7684\u67d0\u4e9b\u529f\u80fd\uff0c\u4f46\u4e0d\u63d0\u4f9b\u5bf9\u53c2\u7167\u5b8c\u6574\u6027\u548c\u5206\u5e03\u4e8b\u52a1\u7684\u652f\u6301\u3002 KV\u6570\u636e\u5e93 DynamoDBRedisLevelDB \u53ef\u4ee5\u901a\u8fc7key\u5feb\u901f\u67e5\u8be2\u5230\u5176value\uff0c\u6709\u57fa\u4e8e\u5185\u5b58\u548c\u57fa\u4e8e\u78c1\u76d8\u4e24\u79cd\u5b9e\u73b0\u65b9\u6848\u3002 \u56fe\u6570\u636e\u5e93 Neo4JFlockDBJanusGraph \u4f7f\u7528\u56fe\u7ed3\u6784\u8fdb\u884c\u8bed\u4e49\u67e5\u8be2\u7684\u6570\u636e\u5e93\uff0c\u5b83\u4f7f\u7528\u8282\u70b9\u3001\u8fb9\u548c\u5c5e\u6027\u6765\u8868\u793a\u548c\u5b58\u50a8\u6570\u636e\u3002\u56fe\u6570\u636e\u5e93\u4ece\u8bbe\u8ba1\u4e0a\uff0c\u5c31\u53ef\u4ee5\u7b80\u5355\u5feb\u901f\u7684\u68c0\u7d22\u96be\u4ee5\u5728\u5173\u7cfb\u7cfb\u7edf\u4e2d\u5efa\u6a21\u7684\u590d\u6742\u5c42\u6b21\u7ed3\u6784\u3002 \u5bf9\u8c61\u6570\u636e\u5e93 db4oVersant \u901a\u8fc7\u7c7b\u4f3c\u9762\u5411\u5bf9\u8c61\u8bed\u8a00\u7684\u8bed\u6cd5\u64cd\u4f5c\u6570\u636e\u5e93\uff0c\u901a\u8fc7\u5bf9\u8c61\u7684\u65b9\u5f0f\u5b58\u53d6\u6570\u636e\u3002 <p>\u8bf4\u660e\uff1a\u60f3\u4e86\u89e3\u66f4\u591a\u7684NoSQL\u6570\u636e\u5e93\uff0c\u53ef\u4ee5\u8bbf\u95eehttp://nosql-database.org/\u3002</p>"},{"location":"python/Py-100Days/Day36-40/39.NoSQL%E5%85%A5%E9%97%A8/#redis","title":"Redis\u6982\u8ff0","text":"<p>Redis\u662f\u4e00\u79cd\u57fa\u4e8e\u952e\u503c\u5bf9\u7684NoSQL\u6570\u636e\u5e93\uff0c\u5b83\u63d0\u4f9b\u4e86\u5bf9\u591a\u79cd\u6570\u636e\u7c7b\u578b\uff08\u5b57\u7b26\u4e32\u3001\u54c8\u5e0c\u3001\u5217\u8868\u3001\u96c6\u5408\u3001\u6709\u5e8f\u96c6\u5408\u3001\u4f4d\u56fe\u7b49\uff09\u7684\u652f\u6301\uff0c\u80fd\u591f\u6ee1\u8db3\u5f88\u591a\u5e94\u7528\u573a\u666f\u7684\u9700\u6c42\u3002Redis\u5c06\u6570\u636e\u653e\u5728\u5185\u5b58\u4e2d\uff0c\u56e0\u6b64\u8bfb\u5199\u6027\u80fd\u662f\u975e\u5e38\u60ca\u4eba\u7684\u3002\u4e0e\u6b64\u540c\u65f6\uff0cRedis\u4e5f\u63d0\u4f9b\u4e86\u6301\u4e45\u5316\u673a\u5236\uff0c\u80fd\u591f\u5c06\u5185\u5b58\u4e2d\u7684\u6570\u636e\u4fdd\u5b58\u5230\u786c\u76d8\u4e0a\uff0c\u5728\u53d1\u751f\u610f\u5916\u72b6\u51b5\u65f6\u6570\u636e\u4e5f\u4e0d\u4f1a\u4e22\u6389\u3002\u6b64\u5916\uff0cRedis\u8fd8\u652f\u6301\u952e\u8fc7\u671f\u3001\u5730\u7406\u4fe1\u606f\u8fd0\u7b97\u3001\u53d1\u5e03\u8ba2\u9605\u3001\u4e8b\u52a1\u3001\u7ba1\u9053\u3001Lua\u811a\u672c\u6269\u5c55\u7b49\u529f\u80fd\uff0c\u603b\u800c\u8a00\u4e4b\uff0cRedis\u7684\u529f\u80fd\u548c\u6027\u80fd\u90fd\u975e\u5e38\u5f3a\u5927\uff0c\u5982\u679c\u9879\u76ee\u4e2d\u8981\u5b9e\u73b0\u9ad8\u901f\u7f13\u5b58\u548c\u6d88\u606f\u961f\u5217\u8fd9\u6837\u7684\u670d\u52a1\uff0c\u76f4\u63a5\u4ea4\u7ed9Redis\u5c31\u53ef\u4ee5\u4e86\u3002\u76ee\u524d\uff0c\u56fd\u5185\u5916\u5f88\u591a\u8457\u540d\u7684\u4f01\u4e1a\u548c\u5546\u4e1a\u9879\u76ee\u90fd\u4f7f\u7528\u4e86Redis\uff0c\u5305\u62ec\uff1aTwitter\u3001Github\u3001StackOverflow\u3001\u65b0\u6d6a\u5fae\u535a\u3001\u767e\u5ea6\u3001\u4f18\u9177\u571f\u8c46\u3001\u7f8e\u56e2\u3001\u5c0f\u7c73\u3001\u552f\u54c1\u4f1a\u7b49\u3002</p>"},{"location":"python/Py-100Days/Day36-40/39.NoSQL%E5%85%A5%E9%97%A8/#redis_1","title":"Redis\u7b80\u4ecb","text":"<p>2008\u5e74\uff0c\u4e00\u4e2a\u540d\u4e3aSalvatore Sanfilippo\u7684\u7a0b\u5e8f\u5458\u4e3a\u4ed6\u5f00\u53d1\u7684LLOOGG\u9879\u76ee\u5b9a\u5236\u4e86\u4e13\u5c5e\u7684\u6570\u636e\u5e93\uff08\u56e0\u4e3a\u4e4b\u524d\u4ed6\u65e0\u8bba\u600e\u6837\u4f18\u5316MySQL\uff0c\u7cfb\u7edf\u6027\u80fd\u5df2\u7ecf\u65e0\u6cd5\u518d\u63d0\u5347\u4e86\uff09\uff0c\u8fd9\u9879\u5de5\u4f5c\u7684\u6210\u679c\u5c31\u662fRedis\u7684\u521d\u59cb\u7248\u672c\u3002\u540e\u6765\u4ed6\u5c06Redis\u7684\u4ee3\u7801\u653e\u5230\u4e86\u5168\u7403\u6700\u5927\u7684\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0Github\uff0c\u4ece\u90a3\u4ee5\u540e\uff0cRedis\u5f15\u53d1\u4e86\u5927\u91cf\u5f00\u53d1\u8005\u7684\u597d\u8bc4\u548c\u5173\u6ce8\uff0c\u7ee7\u800c\u6709\u6570\u767e\u4eba\u53c2\u4e0e\u4e86Redis\u7684\u5f00\u53d1\u548c\u7ef4\u62a4\uff0c\u8fd9\u4f7f\u5f97Redis\u7684\u529f\u80fd\u8d8a\u6765\u8d8a\u5f3a\u5927\u548c\u6027\u80fd\u8d8a\u6765\u8d8a\u597d\u3002</p> <p>Redis\u662fREmote DIctionary Server\u7684\u7f29\u5199\uff0c\u5b83\u662f\u4e00\u4e2a\u7528ANSI C\u7f16\u5199\u7684\u9ad8\u6027\u80fd\u7684key-value\u5b58\u50a8\u7cfb\u7edf\uff0c\u4e0e\u5176\u4ed6\u7684key-value\u5b58\u50a8\u7cfb\u7edf\u76f8\u6bd4\uff0cRedis\u6709\u4ee5\u4e0b\u4e00\u4e9b\u7279\u70b9\uff08\u4e5f\u662f\u4f18\u70b9\uff09\uff1a</p> <ul> <li>Redis\u7684\u8bfb\u5199\u6027\u80fd\u6781\u9ad8\uff0c\u5e76\u4e14\u6709\u4e30\u5bcc\u7684\u7279\u6027\uff08\u53d1\u5e03/\u8ba2\u9605\u3001\u4e8b\u52a1\u3001\u901a\u77e5\u7b49\uff09\u3002</li> <li>Redis\u652f\u6301\u6570\u636e\u7684\u6301\u4e45\u5316\uff08RDB\u548cAOF\u4e24\u79cd\u65b9\u5f0f\uff09\uff0c\u53ef\u4ee5\u5c06\u5185\u5b58\u4e2d\u7684\u6570\u636e\u4fdd\u5b58\u5728\u78c1\u76d8\u4e2d\uff0c\u91cd\u542f\u7684\u65f6\u5019\u53ef\u4ee5\u518d\u6b21\u52a0\u8f7d\u8fdb\u884c\u4f7f\u7528\u3002</li> <li>Redis\u652f\u6301\u591a\u79cd\u6570\u636e\u7c7b\u578b\uff0c\u5305\u62ec\uff1astring\u3001hash\u3001list\u3001set\uff0czset\u3001bitmap\u3001hyperloglog\u7b49\u3002</li> <li>Redis\u652f\u6301\u4e3b\u4ece\u590d\u5236\uff08\u5b9e\u73b0\u8bfb\u5199\u5206\u6790\uff09\u4ee5\u53ca\u54e8\u5175\u6a21\u5f0f\uff08\u76d1\u63a7master\u662f\u5426\u5b95\u673a\u5e76\u81ea\u52a8\u8c03\u6574\u914d\u7f6e\uff09\u3002</li> <li>Redis\u652f\u6301\u5206\u5e03\u5f0f\u96c6\u7fa4\uff0c\u53ef\u4ee5\u5f88\u5bb9\u6613\u7684\u901a\u8fc7\u6c34\u5e73\u6269\u5c55\u6765\u63d0\u5347\u7cfb\u7edf\u7684\u6574\u4f53\u6027\u80fd\u3002</li> <li>Redis\u57fa\u4e8eTCP\u63d0\u4f9b\u7684\u53ef\u9760\u4f20\u8f93\u670d\u52a1\u8fdb\u884c\u901a\u4fe1\uff0c\u5f88\u591a\u7f16\u7a0b\u8bed\u8a00\u90fd\u63d0\u4f9b\u4e86Redis\u5ba2\u6237\u7aef\u652f\u6301\u3002</li> </ul>"},{"location":"python/Py-100Days/Day36-40/39.NoSQL%E5%85%A5%E9%97%A8/#redis_2","title":"Redis\u7684\u5e94\u7528\u573a\u666f","text":"<ol> <li>\u9ad8\u901f\u7f13\u5b58  - \u5c06\u4e0d\u5e38\u53d8\u5316\u4f46\u53c8\u7ecf\u5e38\u88ab\u8bbf\u95ee\u7684\u70ed\u70b9\u6570\u636e\u653e\u5230Redis\u6570\u636e\u5e93\u4e2d\uff0c\u53ef\u4ee5\u5927\u5927\u964d\u4f4e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u538b\u529b\uff0c\u4ece\u800c\u63d0\u5347\u7cfb\u7edf\u7684\u54cd\u5e94\u6027\u80fd\u3002</li> <li>\u6392\u884c\u699c - \u5f88\u591a\u7f51\u7ad9\u90fd\u6709\u6392\u884c\u699c\u529f\u80fd\uff0c\u5229\u7528Redis\u4e2d\u7684\u5217\u8868\u548c\u6709\u5e8f\u96c6\u5408\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u7684\u6784\u9020\u5404\u79cd\u6392\u884c\u699c\u7cfb\u7edf\u3002</li> <li>\u5546\u54c1\u79d2\u6740/\u6295\u7968\u70b9\u8d5e - Redis\u63d0\u4f9b\u4e86\u5bf9\u8ba1\u6570\u64cd\u4f5c\u7684\u652f\u6301\uff0c\u7f51\u7ad9\u4e0a\u5e38\u89c1\u7684\u79d2\u6740\u3001\u70b9\u8d5e\u7b49\u529f\u80fd\u90fd\u53ef\u4ee5\u5229\u7528Redis\u7684\u8ba1\u6570\u5668\u901a\u8fc7+1\u6216-1\u7684\u64cd\u4f5c\u6765\u5b9e\u73b0\uff0c\u4ece\u800c\u907f\u514d\u4e86\u4f7f\u7528\u5173\u7cfb\u578b\u6570\u636e\u7684<code>update</code>\u64cd\u4f5c\u3002</li> <li>\u5206\u5e03\u5f0f\u9501 - \u5229\u7528Redis\u53ef\u4ee5\u8de8\u591a\u53f0\u670d\u52a1\u5668\u5b9e\u73b0\u5206\u5e03\u5f0f\u9501\uff08\u7c7b\u4f3c\u4e8e\u7ebf\u7a0b\u9501\uff0c\u4f46\u662f\u80fd\u591f\u88ab\u591a\u53f0\u673a\u5668\u4e0a\u7684\u591a\u4e2a\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u5171\u4eab\uff09\u7684\u529f\u80fd\uff0c\u7528\u4e8e\u5b9e\u73b0\u4e00\u4e2a\u963b\u585e\u5f0f\u64cd\u4f5c\u3002</li> <li>\u6d88\u606f\u961f\u5217 - \u6d88\u606f\u961f\u5217\u548c\u9ad8\u901f\u7f13\u5b58\u4e00\u6837\uff0c\u662f\u4e00\u4e2a\u5927\u578b\u7f51\u7ad9\u4e0d\u53ef\u7f3a\u5c11\u7684\u57fa\u7840\u670d\u52a1\uff0c\u53ef\u4ee5\u5b9e\u73b0\u4e1a\u52a1\u89e3\u8026\u548c\u975e\u5b9e\u65f6\u4e1a\u52a1\u524a\u5cf0\u7b49\u7279\u6027\uff0c\u8fd9\u4e9b\u6211\u4eec\u90fd\u4f1a\u5728\u540e\u9762\u7684\u9879\u76ee\u4e2d\u4e3a\u5927\u5bb6\u5c55\u793a\u3002</li> </ol>"},{"location":"python/Py-100Days/Day36-40/39.NoSQL%E5%85%A5%E9%97%A8/#redis_3","title":"Redis\u7684\u5b89\u88c5\u548c\u914d\u7f6e","text":"<p>\u53ef\u4ee5\u4f7f\u7528Linux\u7cfb\u7edf\u7684\u5305\u7ba1\u7406\u5de5\u5177\uff08\u5982yum\uff09\u6765\u5b89\u88c5Redis\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5728Redis\u7684\u5b98\u65b9\u7f51\u7ad9\u4e0b\u8f7dRedis\u7684\u6e90\u4ee3\u7801\uff0c\u89e3\u538b\u7f29\u89e3\u5f52\u6863\u4e4b\u540e\u901a\u8fc7make\u5de5\u5177\u5bf9\u6e90\u4ee3\u7801\u8fdb\u884c\u6784\u5efa\u5e76\u5b89\u88c5\uff0c\u5728\u66f4\u65b0\u8fd9\u7bc7\u6587\u6863\u65f6\uff0cRedis\u5b98\u65b9\u63d0\u4f9b\u7684\u6700\u65b0\u7a33\u5b9a\u7248\u672c\u662fRedis 5.0.4\u3002</p> <pre><code>wget http://download.redis.io/releases/redis-5.0.4.tar.gz\ngunzip redis-5.0.4.tar.gz\ntar -xvf redis-5.0.4.tar\ncd redis-5.0.4\nmake &amp;&amp; make install\n</code></pre> <p>\u5728redis\u6e90\u4ee3\u7801\u76ee\u5f55\u4e0b\u6709\u4e00\u4e2a\u540d\u4e3aredis.conf\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u67e5\u770b\u4e00\u4e0b\u8be5\u6587\u4ef6\u3002</p> <pre><code>vim redis.conf\n</code></pre> <p>\u914d\u7f6e\u5c06Redis\u670d\u52a1\u7ed1\u5b9a\u5230\u6307\u5b9a\u7684IP\u5730\u5740\u548c\u7aef\u53e3\u3002</p> <p></p> <p>\u914d\u7f6e\u5e95\u5c42\u6709\u591a\u5c11\u4e2a\u6570\u636e\u5e93\u3002</p> <p></p> <p>\u914d\u7f6eRedis\u7684\u6301\u4e45\u5316\u673a\u5236 - RDB\u3002</p> <p></p> <p></p> <p>\u914d\u7f6eRedis\u7684\u6301\u4e45\u5316\u673a\u5236 - AOF\u3002</p> <p></p> <p>\u914d\u7f6e\u8bbf\u95eeRedis\u670d\u52a1\u5668\u7684\u9a8c\u8bc1\u53e3\u4ee4\u3002</p> <p></p> <p>\u914d\u7f6eRedis\u7684\u4e3b\u4ece\u590d\u5236\uff0c\u901a\u8fc7\u4e3b\u4ece\u590d\u5236\u53ef\u4ee5\u5b9e\u73b0\u8bfb\u5199\u5206\u79bb\u3002</p> <p></p> <p>\u914d\u7f6e\u6162\u67e5\u8be2\u3002</p> <p></p> <p>\u4e0a\u9762\u8fd9\u4e9b\u5185\u5bb9\u5c31\u662fRedis\u7684\u57fa\u672c\u914d\u7f6e\uff0c\u5982\u679c\u4f60\u5bf9\u4e0a\u9762\u7684\u5185\u5bb9\u611f\u5230\u56f0\u60d1\u4e5f\u6ca1\u6709\u5173\u7cfb\uff0c\u5148\u628aRedis\u7528\u8d77\u6765\u518d\u56de\u5934\u53bb\u63a8\u6572\u8fd9\u4e9b\u5185\u5bb9\u5c31\u884c\u4e86\u3002\u5982\u679c\u60f3\u627e\u4e00\u4e9b\u53c2\u8003\u4e66\uff0c\u300aRedis\u5f00\u53d1\u4e0e\u8fd0\u7ef4\u300b\u662f\u4e00\u672c\u4e0d\u9519\u7684\u5165\u95e8\u8bfb\u7269\uff0c\u800c\u300aRedis\u5b9e\u6218\u300b\u662f\u4e0d\u9519\u7684\u8fdb\u9636\u8bfb\u7269\u3002</p>"},{"location":"python/Py-100Days/Day36-40/39.NoSQL%E5%85%A5%E9%97%A8/#redis_4","title":"Redis\u7684\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef","text":"<p>\u63a5\u4e0b\u6765\u542f\u52a8Redis\u670d\u52a1\u5668\uff0c\u4e0b\u9762\u7684\u65b9\u5f0f\u5c06\u4ee5\u9ed8\u8ba4\u7684\u914d\u7f6e\u542f\u52a8Redis\u670d\u52a1\u3002</p> <pre><code>redis-server\n</code></pre> <p>\u5982\u679c\u5e0c\u671b\u4fee\u6539Redis\u7684\u914d\u7f6e\uff08\u5982\u7aef\u53e3\u3001\u8ba4\u8bc1\u53e3\u4ee4\u3001\u6301\u4e45\u5316\u65b9\u5f0f\u7b49\uff09\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u4e24\u79cd\u65b9\u5f0f\u3002</p> <p>\u65b9\u5f0f\u4e00\uff1a\u901a\u8fc7\u53c2\u6570\u6307\u5b9a\u8ba4\u8bc1\u53e3\u4ee4\u548cAOF\u6301\u4e45\u5316\u65b9\u5f0f\u3002</p> <pre><code>redis-server --requirepass 1qaz2wsx --appendonly yes\n</code></pre> <p>\u65b9\u5f0f\u4e8c\uff1a\u901a\u8fc7\u6307\u5b9a\u7684\u914d\u7f6e\u6587\u4ef6\u6765\u4fee\u6539Redis\u7684\u914d\u7f6e\u3002</p> <pre><code>redis-server /root/redis-5.0.4/redis.conf\n</code></pre> <p>\u4e0b\u9762\u6211\u4eec\u4f7f\u7528\u7b2c\u4e00\u79cd\u65b9\u5f0f\u6765\u542f\u52a8Redis\u5e76\u5c06\u5176\u7f6e\u4e8e\u540e\u53f0\u8fd0\u884c\uff0c\u5c06Redis\u4ea7\u751f\u7684\u8f93\u51fa\u91cd\u5b9a\u5411\u5230\u540d\u4e3aredis.log\u7684\u6587\u4ef6\u4e2d\u3002</p> <pre><code>redis-server --requirepass 1qaz2wsx &gt; redis.log &amp;\n</code></pre> <p>\u53ef\u4ee5\u901a\u8fc7ps\u6216\u8005netstat\u6765\u68c0\u67e5Redis\u670d\u52a1\u5668\u662f\u5426\u542f\u52a8\u6210\u529f\u3002</p> <pre><code>ps -ef | grep redis-server\nnetstat -nap | grep redis-server\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c1d\u8bd5\u7528Redis\u5ba2\u6237\u7aef\u53bb\u8fde\u63a5\u670d\u52a1\u5668\u3002</p> <pre><code>redis-cli\n127.0.0.1:6379&gt; auth 1qaz2wsx\nOK\n127.0.0.1:6379&gt; ping\nPONG\n127.0.0.1:6379&gt;\n</code></pre> <p>Redis\u6709\u7740\u975e\u5e38\u4e30\u5bcc\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4e5f\u6709\u5f88\u591a\u7684\u547d\u4ee4\u6765\u64cd\u4f5c\u8fd9\u4e9b\u6570\u636e\uff0c\u5177\u4f53\u7684\u5185\u5bb9\u53ef\u4ee5\u67e5\u770bRedis\u547d\u4ee4\u53c2\u8003\uff0c\u5728\u8fd9\u4e2a\u7f51\u7ad9\u4e0a\uff0c\u9664\u4e86Redis\u7684\u547d\u4ee4\u53c2\u8003\uff0c\u8fd8\u6709Redis\u7684\u8be6\u7ec6\u6587\u6863\uff0c\u5176\u4e2d\u5305\u62ec\u4e86\u901a\u77e5\u3001\u4e8b\u52a1\u3001\u4e3b\u4ece\u590d\u5236\u3001\u6301\u4e45\u5316\u3001\u54e8\u5175\u3001\u96c6\u7fa4\u7b49\u5185\u5bb9\u3002</p> <p></p> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u7684\u63d2\u56fe\u6765\u81ea\u4ed8\u78ca\u548c\u5f20\u76ca\u519b\u5148\u751f\u7f16\u8457\u7684\u300aRedis\u5f00\u53d1\u4e0e\u8fd0\u7ef4\u300b\u4e00\u4e66\u3002</p> <pre><code>127.0.0.1:6379&gt; set username admin\nOK\n127.0.0.1:6379&gt; get username\n\"admin\"\n127.0.0.1:6379&gt; set password \"123456\" ex 300\nOK\n127.0.0.1:6379&gt; get password\n\"123456\"\n127.0.0.1:6379&gt; ttl username\n(integer) -1\n127.0.0.1:6379&gt; ttl password\n(integer) 286\n127.0.0.1:6379&gt; hset stu1 name hao\n(integer) 0\n127.0.0.1:6379&gt; hset stu1 age 38\n(integer) 1\n127.0.0.1:6379&gt; hset stu1 gender male\n(integer) 1\n127.0.0.1:6379&gt; hgetall stu1\n1) \"name\"\n2) \"hao\"\n3) \"age\"\n4) \"38\"\n5) \"gender\"\n6) \"male\"\n127.0.0.1:6379&gt; hvals stu1\n1) \"hao\"\n2) \"38\"\n3) \"male\"\n127.0.0.1:6379&gt; hmset stu2 name wang age 18 gender female tel 13566778899\nOK\n127.0.0.1:6379&gt; hgetall stu2\n1) \"name\"\n2) \"wang\"\n3) \"age\"\n4) \"18\"\n5) \"gender\"\n6) \"female\"\n7) \"tel\"\n8) \"13566778899\"\n127.0.0.1:6379&gt; lpush nums 1 2 3 4 5\n(integer) 5\n127.0.0.1:6379&gt; lrange nums 0 -1\n1) \"5\"\n2) \"4\"\n3) \"3\"\n4) \"2\"\n5) \"1\"\n127.0.0.1:6379&gt; lpop nums\n\"5\"\n127.0.0.1:6379&gt; lpop nums\n\"4\"\n127.0.0.1:6379&gt; rpop nums\n\"1\"\n127.0.0.1:6379&gt; rpop nums\n\"2\"\n127.0.0.1:6379&gt; sadd fruits apple banana orange apple grape grape\n(integer) 4\n127.0.0.1:6379&gt; scard fruits\n(integer) 4\n127.0.0.1:6379&gt; smembers fruits\n1) \"grape\"\n2) \"orange\"\n3) \"banana\"\n4) \"apple\"\n127.0.0.1:6379&gt; sismember fruits apple\n(integer) 1\n127.0.0.1:6379&gt; sismember fruits durian\n(integer) 0\n127.0.0.1:6379&gt; sadd nums1 1 2 3 4 5\n(integer) 5\n127.0.0.1:6379&gt; sadd nums2 2 4 6 8\n(integer) 4\n127.0.0.1:6379&gt; sinter nums1 nums2\n1) \"2\"\n2) \"4\"\n127.0.0.1:6379&gt; sunion nums1 nums2\n1) \"1\"\n2) \"2\"\n3) \"3\"\n4) \"4\"\n5) \"5\"\n6) \"6\"\n7) \"8\"\n127.0.0.1:6379&gt; sdiff nums1 nums2\n1) \"1\"\n2) \"3\"\n3) \"5\"\n127.0.0.1:6379&gt; zadd topsinger 5234 zhangxy 1978 chenyx 2235 zhoujl 3520 xuezq\n(integer) 4\n127.0.0.1:6379&gt; zrange topsinger 0 -1 withscores\n1) \"chenyx\"\n2) \"1978\"\n3) \"zhoujl\"\n4) \"2235\"\n5) \"xuezq\"\n6) \"3520\"\n7) \"zhangxy\"\n8) \"5234\"\n127.0.0.1:6379&gt; zrevrange topsinger 0 -1\n1) \"zhangxy\"\n2) \"xuezq\"\n3) \"zhoujl\"\n4) \"chenyx\"\n127.0.0.1:6379&gt; geoadd pois 116.39738549206541 39.90862689286386 tiananmen 116.27172936413572 39.99\n135172904494 yiheyuan 117.27766503308104 40.65332064313784 gubeishuizhen\n(integer) 3\n127.0.0.1:6379&gt; geodist pois tiananmen gubeishuizhen km\n\"111.5333\"\n127.0.0.1:6379&gt; geodist pois tiananmen yiheyuan km\n\"14.1230\"\n127.0.0.1:6379&gt; georadius pois 116.86499108288572 40.40149669363615 50 km withdist\n1) 1) \"gubeishuizhen\"\n   2) \"44.7408\"\n</code></pre>"},{"location":"python/Py-100Days/Day36-40/39.NoSQL%E5%85%A5%E9%97%A8/#pythonredis","title":"\u5728Python\u7a0b\u5e8f\u4e2d\u4f7f\u7528Redis","text":"<p>\u53ef\u4ee5\u4f7f\u7528pip\u5b89\u88c5redis\u6a21\u5757\u3002redis\u6a21\u5757\u7684\u6838\u5fc3\u662f\u540d\u4e3aRedis\u7684\u7c7b\uff0c\u8be5\u7c7b\u7684\u5bf9\u8c61\u4ee3\u8868\u4e00\u4e2aRedis\u5ba2\u6237\u7aef\uff0c\u901a\u8fc7\u8be5\u5ba2\u6237\u7aef\u53ef\u4ee5\u5411Redis\u670d\u52a1\u5668\u53d1\u9001\u547d\u4ee4\u5e76\u83b7\u53d6\u6267\u884c\u7684\u7ed3\u679c\u3002\u4e0a\u9762\u6211\u4eec\u5728Redis\u5ba2\u6237\u7aef\u4e2d\u4f7f\u7528\u7684\u547d\u4ee4\u57fa\u672c\u4e0a\u5c31\u662fRedis\u5bf9\u8c61\u53ef\u4ee5\u63a5\u6536\u7684\u6d88\u606f\uff0c\u6240\u4ee5\u5982\u679c\u4e86\u89e3\u4e86Redis\u7684\u547d\u4ee4\u5c31\u53ef\u4ee5\u5728Python\u4e2d\u73a9\u8f6cRedis\u3002</p> <pre><code>pip3 install redis\npython3\n</code></pre> <pre><code>&gt;&gt;&gt; import redis\n&gt;&gt;&gt; client = redis.Redis(host='1.2.3.4', port=6379, password='1qaz2wsx')\n&gt;&gt;&gt; client.set('username', 'admin')\nTrue\n&gt;&gt;&gt; client.hset('student', 'name', 'hao')\n1\n&gt;&gt;&gt; client.hset('student', 'age', 38)\n1\n&gt;&gt;&gt; client.keys('*')\n[b'username', b'student']\n&gt;&gt;&gt; client.get('username')\nb'admin'\n&gt;&gt;&gt; client.hgetall('student')\n{b'name': b'hao', b'age': b'38'}\n</code></pre>"},{"location":"python/Py-100Days/Day36-40/39.NoSQL%E5%85%A5%E9%97%A8/#mongodb","title":"MongoDB\u6982\u8ff0","text":""},{"location":"python/Py-100Days/Day36-40/39.NoSQL%E5%85%A5%E9%97%A8/#mongodb_1","title":"MongoDB\u7b80\u4ecb","text":"<p>MongoDB\u662f2009\u5e74\u95ee\u4e16\u7684\u4e00\u4e2a\u9762\u5411\u6587\u6863\u7684\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff0c\u7531C++\u8bed\u8a00\u7f16\u5199\uff0c\u65e8\u5728\u4e3aWeb\u5e94\u7528\u63d0\u4f9b\u53ef\u6269\u5c55\u7684\u9ad8\u6027\u80fd\u6570\u636e\u5b58\u50a8\u89e3\u51b3\u65b9\u6848\u3002\u867d\u7136\u5728\u5212\u5206\u7c7b\u522b\u7684\u65f6\u5019\u540e\uff0cMongoDB\u88ab\u8ba4\u4e3a\u662fNoSQL\u7684\u4ea7\u54c1\uff0c\u4f46\u662f\u5b83\u66f4\u50cf\u4e00\u4e2a\u4ecb\u4e8e\u5173\u7cfb\u6570\u636e\u5e93\u548c\u975e\u5173\u7cfb\u6570\u636e\u5e93\u4e4b\u95f4\u7684\u4ea7\u54c1\uff0c\u5728\u975e\u5173\u7cfb\u6570\u636e\u5e93\u4e2d\u5b83\u529f\u80fd\u6700\u4e30\u5bcc\uff0c\u6700\u50cf\u5173\u7cfb\u6570\u636e\u5e93\u3002</p> <p>MongoDB\u5c06\u6570\u636e\u5b58\u50a8\u4e3a\u4e00\u4e2a\u6587\u6863\uff0c\u4e00\u4e2a\u6587\u6863\u7531\u4e00\u7cfb\u5217\u7684\u201c\u952e\u503c\u5bf9\u201d\u7ec4\u6210\uff0c\u5176\u6587\u6863\u7c7b\u4f3c\u4e8eJSON\u5bf9\u8c61\uff0c\u4f46\u662fMongoDB\u5bf9JSON\u8fdb\u884c\u4e86\u4e8c\u8fdb\u5236\u5904\u7406\uff08\u80fd\u591f\u66f4\u5feb\u7684\u5b9a\u4f4dkey\u548cvalue\uff09\uff0c\u56e0\u6b64\u5176\u6587\u6863\u7684\u5b58\u50a8\u683c\u5f0f\u79f0\u4e3aBSON\u3002\u5173\u4e8eJSON\u548cBSON\u7684\u5dee\u522b\u5927\u5bb6\u53ef\u4ee5\u770b\u770bMongoDB\u5b98\u65b9\u7f51\u7ad9\u7684\u6587\u7ae0\u300aJSON and BSON\u300b\u3002</p> <p>\u76ee\u524d\uff0cMongoDB\u5df2\u7ecf\u63d0\u4f9b\u4e86\u5bf9Windows\u3001MacOS\u3001Linux\u3001Solaris\u7b49\u591a\u4e2a\u5e73\u53f0\u7684\u652f\u6301\uff0c\u800c\u4e14\u4e5f\u63d0\u4f9b\u4e86\u591a\u79cd\u5f00\u53d1\u8bed\u8a00\u7684\u9a71\u52a8\u7a0b\u5e8f\uff0cPython\u5f53\u7136\u662f\u5176\u4e2d\u4e4b\u4e00\u3002</p>"},{"location":"python/Py-100Days/Day36-40/39.NoSQL%E5%85%A5%E9%97%A8/#mongodb_2","title":"MongoDB\u7684\u5b89\u88c5\u548c\u914d\u7f6e","text":"<p>\u53ef\u4ee5\u4eceMongoDB\u7684\u5b98\u65b9\u4e0b\u8f7d\u94fe\u63a5\u4e0b\u8f7dMongoDB\uff0c\u5b98\u65b9\u4e3aWindows\u7cfb\u7edf\u63d0\u4f9b\u4e86\u4e00\u4e2aInstaller\u7a0b\u5e8f\uff0c\u800cLinux\u548cMacOS\u5219\u63d0\u4f9b\u4e86\u538b\u7f29\u6587\u4ef6\u3002\u4e0b\u9762\u7b80\u5355\u8bf4\u4e00\u4e0bLinux\u7cfb\u7edf\u5982\u4f55\u5b89\u88c5\u548c\u914d\u7f6eMongoDB\u3002</p> <pre><code>wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-amazon-3.6.5.tgz\ngunzip mongodb-linux-x86_64-amazon-3.6.5.tgz\nmkdir mongodb-3.6.5\ntar -xvf mongodb-linux-x86_64-amazon-3.6.5.tar --strip-components 1 -C mongodb-3.6.5/\nexport PATH=$PATH:~/mongodb-3.6.5/bin\nmkdir -p /data/db\nmongod --bind_ip 172.18.61.250\n\n2018-06-03T18:03:28.232+0800 I CONTROL  [initandlisten] MongoDB starting : pid=1163 port=27017 dbpath=/data/db 64-bit host=iZwz97tbgo9lkabnat2lo8Z\n2018-06-03T18:03:28.232+0800 I CONTROL  [initandlisten] db version v3.6.5\n2018-06-03T18:03:28.232+0800 I CONTROL  [initandlisten] git version: a20ecd3e3a174162052ff99913bc2ca9a839d618\n2018-06-03T18:03:28.232+0800 I CONTROL  [initandlisten] OpenSSL version: OpenSSL 1.0.0-fips29 Mar 2010\n...\n2018-06-03T18:03:28.945+0800 I NETWORK  [initandlisten] waiting for connections on port 27017\n</code></pre> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u7684\u64cd\u4f5c\u4e2d\uff0cexport\u547d\u4ee4\u662f\u8bbe\u7f6ePATH\u73af\u5883\u53d8\u91cf\uff0c\u8fd9\u6837\u53ef\u4ee5\u5728\u4efb\u610f\u8def\u5f84\u4e0b\u6267\u884cmongod\u6765\u542f\u52a8MongoDB\u670d\u52a1\u5668\u3002MongoDB\u9ed8\u8ba4\u4fdd\u5b58\u6570\u636e\u7684\u8def\u5f84\u662f/data/db\u76ee\u5f55\uff0c\u4e3a\u6b64\u8981\u63d0\u524d\u521b\u5efa\u8be5\u76ee\u5f55\u3002\u6b64\u5916\uff0c\u5728\u4f7f\u7528mongod\u542f\u52a8MongoDB\u670d\u52a1\u5668\u65f6\uff0c--bind_ip\u53c2\u6570\u7528\u6765\u5c06\u670d\u52a1\u7ed1\u5b9a\u5230\u6307\u5b9a\u7684IP\u5730\u5740\uff0c\u4e5f\u53ef\u4ee5\u7528--port\u53c2\u6570\u6765\u6307\u5b9a\u7aef\u53e3\uff0c\u9ed8\u8ba4\u7aef\u53e3\u4e3a27017\u3002</p>"},{"location":"python/Py-100Days/Day36-40/39.NoSQL%E5%85%A5%E9%97%A8/#mongodb_3","title":"MongoDB\u57fa\u672c\u6982\u5ff5","text":"<p>\u6211\u4eec\u901a\u8fc7\u4e0e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u8fdb\u884c\u5bf9\u7167\u7684\u65b9\u5f0f\u6765\u8bf4\u660eMongoDB\u4e2d\u7684\u4e00\u4e9b\u6982\u5ff5\u3002</p> SQL MongoDB \u89e3\u91ca\uff08SQL/MongoDB\uff09 database database \u6570\u636e\u5e93/\u6570\u636e\u5e93 table collection \u4e8c\u7ef4\u8868/\u96c6\u5408 row document \u8bb0\u5f55\uff08\u884c\uff09/\u6587\u6863 column field \u5b57\u6bb5\uff08\u5217\uff09/\u57df index index \u7d22\u5f15/\u7d22\u5f15 table joins --- \u8868\u8fde\u63a5/\u5d4c\u5957\u6587\u6863 primary key primary key \u4e3b\u952e/\u4e3b\u952e\uff08<code>_id</code>\u5b57\u6bb5\uff09"},{"location":"python/Py-100Days/Day36-40/39.NoSQL%E5%85%A5%E9%97%A8/#shellmongodb","title":"\u901a\u8fc7Shell\u64cd\u4f5cMongoDB","text":"<p>\u542f\u52a8\u670d\u52a1\u5668\u540e\u53ef\u4ee5\u4f7f\u7528\u4ea4\u4e92\u5f0f\u73af\u5883\u8ddf\u670d\u52a1\u5668\u901a\u4fe1\uff0c\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>mongo --host 172.18.61.250\n\nMongoDB shell version v3.6.5\nconnecting to: mongodb://172.18.61.250:27017/\n</code></pre> <ol> <li>\u67e5\u770b\u3001\u521b\u5efa\u548c\u5220\u9664\u6570\u636e\u5e93\u3002</li> </ol> <pre><code>&gt; // \u663e\u793a\u6240\u6709\u6570\u636e\u5e93\n&gt; show dbs\nadmin   0.000GB\nconfig  0.000GB\nlocal   0.000GB\n&gt; // \u521b\u5efa\u5e76\u5207\u6362\u5230school\u6570\u636e\u5e93\n&gt; use school\nswitched to db school\n&gt; // \u5220\u9664\u5f53\u524d\u6570\u636e\u5e93\n&gt; db.dropDatabase()\n{ \"ok\" : 1 }\n&gt;\n</code></pre> <ol> <li>\u521b\u5efa\u3001\u5220\u9664\u548c\u67e5\u770b\u96c6\u5408\u3002</li> </ol> <pre><code>&gt; // \u521b\u5efa\u5e76\u5207\u6362\u5230school\u6570\u636e\u5e93\n&gt; use school\nswitched to db school\n&gt; // \u521b\u5efacolleges\u96c6\u5408\n&gt; db.createCollection('colleges')\n{ \"ok\" : 1 }\n&gt; // \u521b\u5efastudents\u96c6\u5408\n&gt; db.createCollection('students')\n{ \"ok\" : 1 }\n&gt; // \u67e5\u770b\u6240\u6709\u96c6\u5408\n&gt; show collections\ncolleges\nstudents\n&gt; // \u5220\u9664colleges\u96c6\u5408\n&gt; db.colleges.drop()\ntrue\n&gt; \n</code></pre> <p>\u8bf4\u660e\uff1a\u5728MongoDB\u4e2d\u63d2\u5165\u6587\u6863\u65f6\u5982\u679c\u96c6\u5408\u4e0d\u5b58\u5728\u4f1a\u81ea\u52a8\u521b\u5efa\u96c6\u5408\uff0c\u6240\u4ee5\u4e5f\u53ef\u4ee5\u6309\u7167\u4e0b\u9762\u7684\u65b9\u5f0f\u901a\u8fc7\u521b\u5efa\u6587\u6863\u6765\u521b\u5efa\u96c6\u5408\u3002</p> <ol> <li>\u6587\u6863\u7684CRUD\u64cd\u4f5c\u3002</li> </ol> <pre><code>&gt; // \u5411students\u96c6\u5408\u63d2\u5165\u6587\u6863\n&gt; db.students.insert({stuid: 1001, name: '\u9a86\u660a', age: 38})\nWriteResult({ \"nInserted\" : 1 })\n&gt; // \u5411students\u96c6\u5408\u63d2\u5165\u6587\u6863\n&gt; db.students.save({stuid: 1002, name: '\u738b\u5927\u9524', tel: '13012345678', gender: '\u7537'})\nWriteResult({ \"nInserted\" : 1 })\n&gt; // \u67e5\u770b\u6240\u6709\u6587\u6863\n&gt; db.students.find()\n{ \"_id\" : ObjectId(\"5b13c72e006ad854460ee70b\"), \"stuid\" : 1001, \"name\" : \"\u9a86\u660a\", \"age\" : 38 }\n{ \"_id\" : ObjectId(\"5b13c790006ad854460ee70c\"), \"stuid\" : 1002, \"name\" : \"\u738b\u5927\u9524\", \"tel\" : \"13012345678\", \"gender\" : \"\u7537\" }\n&gt; // \u66f4\u65b0stuid\u4e3a1001\u7684\u6587\u6863\n&gt; db.students.update({stuid: 1001}, {'$set': {tel: '13566778899', gender: '\u7537'}})\nWriteResult({ \"nMatched\" : 1, \"nUpserted\" : 0, \"nModified\" : 1 })\n&gt; // \u63d2\u5165\u6216\u66f4\u65b0stuid\u4e3a1003\u7684\u6587\u6863\n&gt; db.students.update({stuid: 1003}, {'$set': {name: '\u767d\u5143\u82b3', tel: '13022223333', gender: '\u7537'}},  upsert=true)\nWriteResult({\n        \"nMatched\" : 0,\n        \"nUpserted\" : 1,\n        \"nModified\" : 0,\n        \"_id\" : ObjectId(\"5b13c92dd185894d7283efab\")\n})\n&gt; // \u67e5\u8be2\u6240\u6709\u6587\u6863\n&gt; db.students.find().pretty()\n{\n        \"_id\" : ObjectId(\"5b13c72e006ad854460ee70b\"),\n        \"stuid\" : 1001,\n        \"name\" : \"\u9a86\u660a\",\n        \"age\" : 38,\n        \"gender\" : \"\u7537\",\n        \"tel\" : \"13566778899\"\n}\n{\n        \"_id\" : ObjectId(\"5b13c790006ad854460ee70c\"),\n        \"stuid\" : 1002,\n        \"name\" : \"\u738b\u5927\u9524\",\n        \"tel\" : \"13012345678\",\n        \"gender\" : \"\u7537\"\n}\n{\n        \"_id\" : ObjectId(\"5b13c92dd185894d7283efab\"),\n        \"stuid\" : 1003,\n        \"gender\" : \"\u7537\",\n        \"name\" : \"\u767d\u5143\u82b3\",\n        \"tel\" : \"13022223333\"\n}\n&gt; // \u67e5\u8be2stuid\u5927\u4e8e1001\u7684\u6587\u6863\n&gt; db.students.find({stuid: {'$gt': 1001}}).pretty()\n{\n        \"_id\" : ObjectId(\"5b13c790006ad854460ee70c\"),\n        \"stuid\" : 1002,\n        \"name\" : \"\u738b\u5927\u9524\",\n        \"tel\" : \"13012345678\",\n        \"gender\" : \"\u7537\"\n}\n{\n        \"_id\" : ObjectId(\"5b13c92dd185894d7283efab\"),\n        \"stuid\" : 1003,\n        \"gender\" : \"\u7537\",\n        \"name\" : \"\u767d\u5143\u82b3\",\n        \"tel\" : \"13022223333\"\n}\n&gt; // \u67e5\u8be2stuid\u5927\u4e8e1001\u7684\u6587\u6863\u53ea\u663e\u793aname\u548ctel\u5b57\u6bb5\n&gt; db.students.find({stuid: {'$gt': 1001}}, {_id: 0, name: 1, tel: 1}).pretty()\n{ \"name\" : \"\u738b\u5927\u9524\", \"tel\" : \"13012345678\" }\n{ \"name\" : \"\u767d\u5143\u82b3\", \"tel\" : \"13022223333\" }\n&gt; // \u67e5\u8be2name\u4e3a\u201c\u9a86\u660a\u201d\u6216\u8005tel\u4e3a\u201c13022223333\u201d\u7684\u6587\u6863\n&gt; db.students.find({'$or': [{name: '\u9a86\u660a'}, {tel: '13022223333'}]}, {_id: 0, name: 1, tel: 1}).pretty()\n{ \"name\" : \"\u9a86\u660a\", \"tel\" : \"13566778899\" }\n{ \"name\" : \"\u767d\u5143\u82b3\", \"tel\" : \"13022223333\" }\n&gt; // \u67e5\u8be2\u5b66\u751f\u6587\u6863\u8df3\u8fc7\u7b2c1\u6761\u6587\u6863\u53ea\u67e51\u6761\u6587\u6863\n&gt; db.students.find().skip(1).limit(1).pretty()\n{\n        \"_id\" : ObjectId(\"5b13c790006ad854460ee70c\"),\n        \"stuid\" : 1002,\n        \"name\" : \"\u738b\u5927\u9524\",\n        \"tel\" : \"13012345678\",\n        \"gender\" : \"\u7537\"\n}\n&gt; // \u5bf9\u67e5\u8be2\u7ed3\u679c\u8fdb\u884c\u6392\u5e8f(1\u8868\u793a\u5347\u5e8f\uff0c-1\u8868\u793a\u964d\u5e8f)\n&gt; db.students.find({}, {_id: 0, stuid: 1, name: 1}).sort({stuid: -1})\n{ \"stuid\" : 1003, \"name\" : \"\u767d\u5143\u82b3\" }\n{ \"stuid\" : 1002, \"name\" : \"\u738b\u5927\u9524\" }\n{ \"stuid\" : 1001, \"name\" : \"\u9a86\u660a\" }\n&gt; // \u5728\u6307\u5b9a\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u5b57\u6bb5\u4e0a\u521b\u5efa\u7d22\u5f15\n&gt; db.students.ensureIndex({name: 1})\n{\n        \"createdCollectionAutomatically\" : false,\n        \"numIndexesBefore\" : 1,\n        \"numIndexesAfter\" : 2,\n        \"ok\" : 1\n}\n&gt; \n</code></pre> <p>\u4f7f\u7528MongoDB\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u7684\u914d\u7f6e\u6570\u636e\u590d\u5236\uff0c\u901a\u8fc7\u5197\u4f59\u6570\u636e\u6765\u5b9e\u73b0\u6570\u636e\u7684\u9ad8\u53ef\u7528\u4ee5\u53ca\u707e\u96be\u6062\u590d\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u6570\u636e\u5206\u7247\u6765\u5e94\u5bf9\u6570\u636e\u91cf\u8fc5\u901f\u589e\u957f\u7684\u9700\u6c42\u3002\u5173\u4e8eMongoDB\u66f4\u591a\u7684\u64cd\u4f5c\u53ef\u4ee5\u67e5\u9605\u5b98\u65b9\u6587\u6863 \uff0c\u540c\u65f6\u63a8\u8350\u5927\u5bb6\u9605\u8bfbKristina Chodorow\u5199\u7684\u300aMongoDB\u6743\u5a01\u6307\u5357\u300b\u3002</p>"},{"location":"python/Py-100Days/Day36-40/39.NoSQL%E5%85%A5%E9%97%A8/#pythonmongodb","title":"\u5728Python\u7a0b\u5e8f\u4e2d\u64cd\u4f5cMongoDB","text":"<p>\u53ef\u4ee5\u901a\u8fc7pip\u5b89\u88c5pymongo\u6765\u5b9e\u73b0\u5bf9MongoDB\u7684\u64cd\u4f5c\u3002</p> <pre><code>pip3 install pymongo\npython3\n</code></pre> <pre><code>&gt;&gt;&gt; from pymongo import MongoClient\n&gt;&gt;&gt; client = MongoClient('mongodb://120.77.222.217:27017') \n&gt;&gt;&gt; db = client.school\n&gt;&gt;&gt; for student in db.students.find():\n...     print('\u5b66\u53f7:', student['stuid'])\n...     print('\u59d3\u540d:', student['name'])\n...     print('\u7535\u8bdd:', student['tel'])\n... \n\u5b66\u53f7: 1001.0\n\u59d3\u540d: \u9a86\u660a\n\u7535\u8bdd: 13566778899\n\u5b66\u53f7: 1002.0\n\u59d3\u540d: \u738b\u5927\u9524\n\u7535\u8bdd: 13012345678\n\u5b66\u53f7: 1003.0\n\u59d3\u540d: \u767d\u5143\u82b3\n\u7535\u8bdd: 13022223333\n&gt;&gt;&gt; db.students.find().count()\n3\n&gt;&gt;&gt; db.students.remove()\n{'n': 3, 'ok': 1.0}\n&gt;&gt;&gt; db.students.find().count()\n0\n&gt;&gt;&gt; coll = db.students\n&gt;&gt;&gt; from pymongo import ASCENDING\n&gt;&gt;&gt; coll.create_index([('name', ASCENDING)], unique=True)\n'name_1'\n&gt;&gt;&gt; coll.insert_one({'stuid': int(1001), 'name': '\u9a86\u660a', 'gender': True})\n&lt;pymongo.results.InsertOneResult object at 0x1050cc6c8&gt;\n&gt;&gt;&gt; coll.insert_many([{'stuid': int(1002), 'name': '\u738b\u5927\u9524', 'gender': False}, {'stuid': int(1003), 'name': '\u767d\u5143\u82b3', 'gender': True}])\n&lt;pymongo.results.InsertManyResult object at 0x1050cc8c8&gt;\n&gt;&gt;&gt; for student in coll.find({'gender': True}):\n...     print('\u5b66\u53f7:', student['stuid'])\n...     print('\u59d3\u540d:', student['name'])\n...     print('\u6027\u522b:', '\u7537' if student['gender'] else '\u5973')\n... \n\u5b66\u53f7: 1001\n\u59d3\u540d: \u9a86\u660a\n\u6027\u522b: \u7537\n\u5b66\u53f7: 1003\n\u59d3\u540d: \u767d\u5143\u82b3\n\u6027\u522b: \u7537\n&gt;&gt;&gt; \n</code></pre> <p>\u5173\u4e8ePyMongo\u66f4\u591a\u7684\u77e5\u8bc6\u53ef\u4ee5\u901a\u8fc7\u5b83\u7684\u5b98\u65b9\u6587\u6863\u8fdb\u884c\u4e86\u89e3\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528MongoEngine\u8fd9\u6837\u7684\u5e93\u6765\u7b80\u5316Python\u7a0b\u5e8f\u5bf9MongoDB\u7684\u64cd\u4f5c\uff0c\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u6709\u4ee5\u5f02\u6b65I/O\u65b9\u5f0f\u8bbf\u95eeMongoDB\u7684\u4e09\u65b9\u5e93motor\u90fd\u662f\u4e0d\u9519\u7684\u9009\u62e9\u3002</p>"},{"location":"python/Py-100Days/Day41-55/41.%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/","title":"41.\u5feb\u901f\u4e0a\u624b","text":""},{"location":"python/Py-100Days/Day41-55/41.%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_1","title":"\u5feb\u901f\u4e0a\u624b","text":"<p>Web\u5f00\u53d1\u7684\u65e9\u671f\u9636\u6bb5\uff0c\u5f00\u53d1\u8005\u9700\u8981\u624b\u52a8\u7f16\u5199\u6bcf\u4e2a\u9875\u9762\uff0c\u4f8b\u5982\u4e00\u4e2a\u65b0\u95fb\u95e8\u6237\u7f51\u7ad9\uff0c\u6bcf\u5929\u90fd\u8981\u4fee\u6539\u5b83\u7684HTML\u9875\u9762\uff0c\u968f\u7740\u7f51\u7ad9\u89c4\u6a21\u548c\u4f53\u91cf\u7684\u589e\u5927\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5c31\u53d8\u5f97\u6781\u5ea6\u7cdf\u7cd5\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5f00\u53d1\u4eba\u5458\u60f3\u5230\u4e86\u7528\u5916\u90e8\u7a0b\u5e8f\u6765\u4e3aWeb\u670d\u52a1\u5668\u751f\u6210\u52a8\u6001\u5185\u5bb9\uff0c\u4e5f\u5c31\u662f\u8bf4HTML\u9875\u9762\u4ee5\u53ca\u9875\u9762\u4e2d\u7684\u52a8\u6001\u5185\u5bb9\u4e0d\u518d\u901a\u8fc7\u624b\u52a8\u7f16\u5199\u800c\u662f\u901a\u8fc7\u7a0b\u5e8f\u81ea\u52a8\u751f\u6210\u3002\u6700\u65e9\u7684\u65f6\u5019\uff0c\u8fd9\u9879\u6280\u672f\u88ab\u79f0\u4e3aCGI\uff08\u516c\u5171\u7f51\u5173\u63a5\u53e3\uff09\uff0c\u5f53\u7136\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\uff0cCGI\u66b4\u9732\u51fa\u7684\u95ee\u9898\u4e5f\u8d8a\u6765\u8d8a\u591a\uff0c\u4f8b\u5982\u5927\u91cf\u91cd\u590d\u7684\u6837\u677f\u4ee3\u7801\uff0c\u603b\u4f53\u6027\u80fd\u8f83\u4e3a\u4f4e\u4e0b\u7b49\uff0c\u56e0\u6b64\u5728\u65f6\u4ee3\u547c\u5524\u65b0\u82f1\u96c4\u7684\u80cc\u666f\u4e0b\uff0cPHP\u3001ASP\u3001JSP\u8fd9\u7c7bWeb\u5e94\u7528\u5f00\u53d1\u6280\u672f\u5728\u4e0a\u4e16\u7eaa90\u5e74\u4ee3\u4e2d\u540e\u671f\u5982\u96e8\u540e\u6625\u7b0b\u822c\u6d8c\u73b0\u3002\u901a\u5e38\u6211\u4eec\u8bf4\u7684Web\u5e94\u7528\u662f\u6307\u901a\u8fc7\u6d4f\u89c8\u5668\u6765\u8bbf\u95ee\u7f51\u7edc\u8d44\u6e90\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u56e0\u4e3a\u6d4f\u89c8\u5668\u7684\u666e\u53ca\u6027\u4ee5\u53ca\u6613\u7528\u6027\uff0cWeb\u5e94\u7528\u4f7f\u7528\u8d77\u6765\u65b9\u4fbf\u7b80\u5355\uff0c\u514d\u9664\u4e86\u5b89\u88c5\u548c\u66f4\u65b0\u5e94\u7528\u7a0b\u5e8f\u5e26\u6765\u7684\u9ebb\u70e6\uff0c\u800c\u4e14\u4e5f\u4e0d\u7528\u5173\u5fc3\u7528\u6237\u5230\u5e95\u7528\u7684\u662f\u4ec0\u4e48\u64cd\u4f5c\u7cfb\u7edf\uff0c\u751a\u81f3\u4e0d\u7528\u533a\u5206\u662fPC\u7aef\u8fd8\u662f\u79fb\u52a8\u7aef\u3002</p>"},{"location":"python/Py-100Days/Day41-55/41.%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#web","title":"Web\u5e94\u7528\u673a\u5236\u548c\u672f\u8bed","text":"<p>\u4e0b\u56fe\u5411\u6211\u4eec\u5c55\u793a\u4e86Web\u5e94\u7528\u7684\u5de5\u4f5c\u6d41\u7a0b\uff0c\u5176\u4e2d\u6d89\u53ca\u5230\u7684\u672f\u8bed\u5982\u4e0b\u8868\u6240\u793a\u3002</p> <p></p> <p>\u8bf4\u660e\uff1a\u76f8\u4fe1\u6709\u7ecf\u9a8c\u7684\u8bfb\u8005\u4f1a\u53d1\u73b0\uff0c\u8fd9\u5f20\u56fe\u4e2d\u5176\u5b9e\u8fd8\u5c11\u4e86\u5f88\u591a\u4e1c\u897f\uff0c\u4f8b\u5982\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\u3001\u6570\u636e\u5e93\u670d\u52a1\u5668\u3001\u9632\u706b\u5899\u7b49\uff0c\u800c\u4e14\u56fe\u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9\u5728\u5b9e\u9645\u9879\u76ee\u90e8\u7f72\u65f6\u53ef\u80fd\u662f\u4e00\u7ec4\u8282\u70b9\u7ec4\u6210\u7684\u96c6\u7fa4\u3002\u5f53\u7136\uff0c\u5982\u679c\u4f60\u5bf9\u8fd9\u4e9b\u6ca1\u6709\u4ec0\u4e48\u6982\u5ff5\u4e5f\u4e0d\u8981\u7d27\uff0c\u7ee7\u7eed\u4e0b\u53bb\u5c31\u884c\u4e86\uff0c\u540e\u9762\u4f1a\u7ed9\u5927\u5bb6\u4e00\u4e00\u8bb2\u89e3\u7684\u3002</p> \u672f\u8bed \u89e3\u91ca URL/URI \u7edf\u4e00\u8d44\u6e90\u5b9a\u4f4d\u7b26/\u7edf\u4e00\u8d44\u6e90\u6807\u8bc6\u7b26\uff0c\u7f51\u7edc\u8d44\u6e90\u7684\u552f\u4e00\u6807\u8bc6 \u57df\u540d \u4e0eWeb\u670d\u52a1\u5668\u5730\u5740\u5bf9\u5e94\u7684\u4e00\u4e2a\u6613\u4e8e\u8bb0\u5fc6\u7684\u5b57\u7b26\u4e32\u540d\u5b57 DNS \u57df\u540d\u89e3\u6790\u670d\u52a1\uff0c\u53ef\u4ee5\u5c06\u57df\u540d\u8f6c\u6362\u6210\u5bf9\u5e94\u7684IP\u5730\u5740 IP\u5730\u5740 \u7f51\u7edc\u4e0a\u7684\u4e3b\u673a\u7684\u8eab\u4efd\u6807\u8bc6\uff0c\u901a\u8fc7IP\u5730\u5740\u53ef\u4ee5\u533a\u5206\u4e0d\u540c\u7684\u4e3b\u673a HTTP \u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff0c\u6784\u5efa\u5728TCP\u4e4b\u4e0a\u7684\u5e94\u7528\u7ea7\u534f\u8bae\uff0c\u4e07\u7ef4\u7f51\u6570\u636e\u901a\u4fe1\u7684\u57fa\u7840 \u53cd\u5411\u4ee3\u7406 \u4ee3\u7406\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u53d1\u51fa\u8bf7\u6c42\uff0c\u7136\u540e\u5c06\u670d\u52a1\u5668\u8fd4\u56de\u7684\u8d44\u6e90\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef Web\u670d\u52a1\u5668 \u63a5\u53d7HTTP\u8bf7\u6c42\uff0c\u7136\u540e\u8fd4\u56deHTML\u6587\u4ef6\u3001\u7eaf\u6587\u672c\u6587\u4ef6\u3001\u56fe\u50cf\u7b49\u8d44\u6e90\u7ed9\u8bf7\u6c42\u8005 Nginx \u9ad8\u6027\u80fd\u7684Web\u670d\u52a1\u5668\uff0c\u4e5f\u53ef\u4ee5\u7528\u4f5c\u53cd\u5411\u4ee3\u7406\uff0c\u8d1f\u8f7d\u5747\u8861\u00a0\u548c\u00a0HTTP\u7f13\u5b58"},{"location":"python/Py-100Days/Day41-55/41.%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#http","title":"HTTP\u534f\u8bae","text":"<p>\u8fd9\u91cc\u6211\u4eec\u7a0d\u5fae\u8d39\u4e00\u4e9b\u7b14\u58a8\u6765\u8c08\u8c08\u4e0a\u9762\u63d0\u5230\u7684HTTP\u3002HTTP\uff08\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff09\u662f\u6784\u5efa\u4e8eTCP\uff08\u4f20\u8f93\u63a7\u5236\u534f\u8bae\uff09\u4e4b\u4e0a\u5e94\u7528\u7ea7\u534f\u8bae\uff0c\u5b83\u5229\u7528\u4e86TCP\u63d0\u4f9b\u7684\u53ef\u9760\u7684\u4f20\u8f93\u670d\u52a1\u5b9e\u73b0\u4e86Web\u5e94\u7528\u4e2d\u7684\u6570\u636e\u4ea4\u6362\u3002\u6309\u7167\u7ef4\u57fa\u767e\u79d1\u4e0a\u7684\u4ecb\u7ecd\uff0c\u8bbe\u8ba1HTTP\u6700\u521d\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u63d0\u4f9b\u4e00\u79cd\u53d1\u5e03\u548c\u63a5\u6536HTML\u9875\u9762\u7684\u65b9\u6cd5\uff0c\u4e5f\u5c31\u662f\u8bf4\u8fd9\u4e2a\u534f\u8bae\u662f\u6d4f\u89c8\u5668\u548cWeb\u670d\u52a1\u5668\u4e4b\u95f4\u4f20\u8f93\u7684\u6570\u636e\u7684\u8f7d\u4f53\u3002\u5173\u4e8e\u8fd9\u4e2a\u534f\u8bae\u7684\u8be6\u7ec6\u4fe1\u606f\u4ee5\u53ca\u76ee\u524d\u7684\u53d1\u5c55\u72b6\u51b5\uff0c\u5927\u5bb6\u53ef\u4ee5\u9605\u8bfb\u962e\u4e00\u5cf0\u8001\u5e08\u7684\u300aHTTP \u534f\u8bae\u5165\u95e8\u300b\u3001\u300a\u4e92\u8054\u7f51\u534f\u8bae\u5165\u95e8\u300b\u7cfb\u5217\u4ee5\u53ca\u300a\u56fe\u89e3HTTPS\u534f\u8bae\u300b\u8fdb\u884c\u4e86\u89e3\u3002\u4e0b\u56fe\u662f\u6211\u4e8e2009\u5e749\u670810\u65e5\u51cc\u66684\u70b9\u5728\u56db\u5ddd\u7701\u7f51\u7edc\u901a\u4fe1\u6280\u672f\u91cd\u70b9\u5b9e\u9a8c\u5ba4\u7528\u5f00\u6e90\u534f\u8bae\u5206\u6790\u5de5\u5177Ethereal\uff08\u6293\u5305\u5de5\u5177WireShark\u7684\u524d\u8eab\uff09\u622a\u53d6\u7684\u8bbf\u95ee\u767e\u5ea6\u9996\u9875\u65f6\u7684HTTP\u8bf7\u6c42\u548c\u54cd\u5e94\u7684\u62a5\u6587\uff08\u534f\u8bae\u6570\u636e\uff09\uff0c\u7531\u4e8eEthereal\u622a\u53d6\u7684\u662f\u7ecf\u8fc7\u7f51\u7edc\u9002\u914d\u5668\u7684\u6570\u636e\uff0c\u56e0\u6b64\u53ef\u4ee5\u6e05\u6670\u7684\u770b\u5230\u4ece\u7269\u7406\u94fe\u8def\u5c42\u5230\u5e94\u7528\u5c42\u7684\u534f\u8bae\u6570\u636e\u3002</p> <p>HTTP\u8bf7\u6c42\uff08\u8bf7\u6c42\u884c+\u8bf7\u6c42\u5934+\u7a7a\u884c+[\u6d88\u606f\u4f53]\uff09\uff1a</p> <p></p> <p>HTTP\u54cd\u5e94\uff08\u54cd\u5e94\u884c+\u54cd\u5e94\u5934+\u7a7a\u884c+\u6d88\u606f\u4f53\uff09\uff1a</p> <p></p> <p>\u8bf4\u660e\uff1a\u4f46\u613f\u8fd9\u4e24\u5f20\u5982\u540c\u6cdb\u9ec4\u7684\u7167\u7247\u822c\u7684\u622a\u56fe\u80fd\u5e2e\u52a9\u4f60\u4e86\u89e3HTTP\u5230\u5e95\u662f\u4ec0\u4e48\u6837\u5b50\u7684\u3002</p>"},{"location":"python/Py-100Days/Day41-55/41.%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#django","title":"Django\u6982\u8ff0","text":"<p>Python\u7684Web\u6846\u67b6\u6709\u4e0a\u767e\u4e2a\uff0c\u6bd4\u5b83\u7684\u5173\u952e\u5b57\u8fd8\u8981\u591a\u3002\u6240\u8c13Web\u6846\u67b6\uff0c\u5c31\u662f\u7528\u4e8e\u5f00\u53d1Web\u670d\u52a1\u5668\u7aef\u5e94\u7528\u7684\u57fa\u7840\u8bbe\u65bd\uff08\u901a\u5e38\u6307\u5c01\u88c5\u597d\u7684\u6a21\u5757\u548c\u4e00\u7cfb\u5217\u7684\u5de5\u5177\uff09\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5373\u4fbf\u6ca1\u6709Web\u6846\u67b6\uff0c\u6211\u4eec\u4ecd\u7136\u53ef\u4ee5\u901a\u8fc7socket\u6216CGI\u6765\u5f00\u53d1Web\u670d\u52a1\u5668\u7aef\u5e94\u7528\uff0c\u4f46\u662f\u8fd9\u6837\u505a\u7684\u6210\u672c\u548c\u4ee3\u4ef7\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\u901a\u5e38\u662f\u4e0d\u80fd\u63a5\u53d7\u7684\u3002\u901a\u8fc7Web\u6846\u67b6\uff0c\u6211\u4eec\u53ef\u4ee5\u5316\u7e41\u4e3a\u7b80\uff0c\u540c\u65f6\u964d\u4f4e\u521b\u5efa\u3001\u66f4\u65b0\u3001\u6269\u5c55\u5e94\u7528\u7a0b\u5e8f\u7684\u5de5\u4f5c\u91cf\u3002Python\u7684Web\u6846\u67b6\u4e2d\u6bd4\u8f83\u6709\u540d\u7684\u6709\uff1aFlask\u3001Django\u3001Tornado\u3001Sanic\u3001Pyramid\u3001Bottle\u3001Web2py\u3001web.py\u7b49\u3002</p> <p>\u5728\u57fa\u4e8ePython\u7684Web\u6846\u67b6\u4e2d\uff0cDjango\u662f\u6240\u6709\u91cd\u91cf\u7ea7\u9009\u624b\u4e2d\u6700\u6709\u4ee3\u8868\u6027\u7684\u4e00\u4f4d\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u57fa\u4e8eDjango\u5feb\u901f\u7684\u5f00\u53d1\u53ef\u9760\u7684Web\u5e94\u7528\u7a0b\u5e8f\uff0c\u56e0\u4e3a\u5b83\u51cf\u5c11\u4e86Web\u5f00\u53d1\u4e2d\u4e0d\u5fc5\u8981\u7684\u5f00\u9500\uff0c\u5bf9\u5e38\u7528\u7684\u8bbe\u8ba1\u548c\u5f00\u53d1\u6a21\u5f0f\u8fdb\u884c\u4e86\u5c01\u88c5\uff0c\u5e76\u5bf9MVC\u67b6\u6784\u63d0\u4f9b\u4e86\u652f\u6301\uff08MTV\uff09\u3002\u8bb8\u591a\u6210\u529f\u7684\u7f51\u7ad9\u548cApp\u90fd\u662f\u57fa\u4e8eDjango\u6846\u67b6\u6784\u5efa\u7684\uff0c\u56fd\u5185\u6bd4\u8f83\u6709\u4ee3\u8868\u6027\u7684\u7f51\u7ad9\u5305\u62ec\uff1a\u77e5\u4e4e\u3001\u8c46\u74e3\u7f51\u3001\u679c\u58f3\u7f51\u3001\u641c\u72d0\u95ea\u7535\u90ae\u7bb1\u3001101\u56f4\u68cb\u7f51\u3001\u6d77\u62a5\u65f6\u5c1a\u7f51\u3001\u80cc\u4e66\u5427\u3001\u5806\u7cd6\u3001\u624b\u673a\u641c\u72d0\u7f51\u3001\u5495\u549a\u3001\u7231\u798f\u7a9d\u3001\u679c\u5e93\u7b49\u3002</p> <p></p> <p>Django\u8bde\u751f\u4e8e2003\u5e74\uff0c\u5b83\u662f\u4e00\u4e2a\u5728\u771f\u6b63\u7684\u5e94\u7528\u4e2d\u6210\u957f\u8d77\u6765\u7684\u9879\u76ee\uff0c\u7531\u52b3\u4f26\u65af\u51fa\u7248\u96c6\u56e2\u65d7\u4e0b\u5728\u7ebf\u65b0\u95fb\u7f51\u7ad9\u7684\u5185\u5bb9\u7ba1\u7406\u7cfb\u7edf\uff08CMS\uff09\u7814\u53d1\u56e2\u961f\u7f16\u5199\uff08\u4e3b\u8981\u662fAdrian Holovaty\u548cSimon Willison\uff09\uff0c\u4ee5\u6bd4\u5229\u65f6\u7684\u5409\u666e\u8d5b\u7235\u58eb\u5409\u4ed6\u624bDjango Reinhardt\u6765\u547d\u540d\uff0c\u57282005\u5e74\u590f\u5929\u4f5c\u4e3a\u5f00\u6e90\u6846\u67b6\u53d1\u5e03\u3002\u4f7f\u7528Django\u80fd\u7528\u5f88\u77ed\u7684\u65f6\u95f4\u6784\u5efa\u51fa\u529f\u80fd\u5b8c\u5907\u7684\u7f51\u7ad9\uff0c\u56e0\u4e3a\u5b83\u4ee3\u66ff\u7a0b\u5e8f\u5458\u5b8c\u6210\u4e86\u6240\u6709\u4e4f\u5473\u548c\u91cd\u590d\u7684\u52b3\u52a8\uff0c\u5269\u4e0b\u771f\u6b63\u6709\u610f\u4e49\u7684\u6838\u5fc3\u4e1a\u52a1\u7ed9\u7a0b\u5e8f\u5458\uff0c\u8fd9\u4e00\u70b9\u5c31\u662f\u5bf9DRY\uff08Don't Repeat Yourself\uff09\u7406\u5ff5\u7684\u6700\u597d\u8df5\u884c\u3002</p>"},{"location":"python/Py-100Days/Day41-55/41.%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_2","title":"\u5feb\u901f\u4e0a\u624b","text":""},{"location":"python/Py-100Days/Day41-55/41.%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_3","title":"\u51c6\u5907\u5de5\u4f5c","text":"<ol> <li>\u68c0\u67e5Python\u73af\u5883\uff1aDjango 1.11\u9700\u8981Python 2.7\u6216Python 3.4\u4ee5\u4e0a\u7684\u7248\u672c\uff1bDjango 2.0\u9700\u8981Python 3.4\u4ee5\u4e0a\u7684\u7248\u672c\uff1bDjango 2.1\u9700\u8981Python 3.5\u4ee5\u4e0a\u7684\u7248\u672c\u3002</li> </ol> <pre><code>$ python3 --version\n</code></pre> <pre><code>$ python3\n&gt;&gt;&gt; import sys\n&gt;&gt;&gt; sys.version\n&gt;&gt;&gt; sys.version_info\n</code></pre> <ol> <li>\u521b\u5efa\u9879\u76ee\u6587\u4ef6\u5939\u5e76\u5207\u6362\u5230\u8be5\u76ee\u5f55\uff0c\u4f8b\u5982\u6211\u4eec\u8981\u5b9e\u4f8b\u4e00\u4e2aOA\uff08\u529e\u516c\u81ea\u52a8\u5316\uff09\u9879\u76ee\u3002</li> </ol> <pre><code>$ mkdir oa\n$ cd oa\n</code></pre> <ol> <li>\u521b\u5efa\u5e76\u6fc0\u6d3b\u865a\u62df\u73af\u5883\u3002</li> </ol> <pre><code>$ python3 -m venv venv\n$ source venv/bin/activate\n</code></pre> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u4f7f\u7528\u4e86Python\u81ea\u5e26\u7684venv\u6a21\u5757\u5b8c\u6210\u4e86\u865a\u62df\u73af\u5883\u7684\u521b\u5efa\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5176\u4ed6\u7684\u5de5\u5177\uff0c\u4f8b\u5982\uff1avirtualenv\u6216pipenv\u7b49\u3002\u8981\u6fc0\u6d3b\u865a\u62df\u73af\u5883\uff0c\u5728Windows\u7cfb\u7edf\u4e0b\u662f\u901a\u8fc7\"venv/Scripts/activate\"`\u6267\u884c\u6279\u5904\u7406\u6587\u4ef6\u6765\u5b9e\u73b0\u3002</p> <ol> <li>\u66f4\u65b0\u5305\u7ba1\u7406\u5de5\u5177pip\u3002</li> </ol> <pre><code>(venv)$ pip install -U pip\n</code></pre> <p>\u6216</p> <pre><code>(venv)$ python -m pip install -U pip\n</code></pre> <p>\u6ce8\u610f\uff1a\u8bf7\u6ce8\u610f\u7ec8\u7aef\u63d0\u793a\u7b26\u53d1\u751f\u7684\u53d8\u5316\uff0c\u524d\u9762\u7684<code>(venv)</code>\u8bf4\u660e\u6211\u4eec\u5df2\u7ecf\u8fdb\u5165\u865a\u62df\u73af\u5883\uff0c\u800c\u865a\u62df\u73af\u5883\u4e0b\u7684python\u548cpip\u5df2\u7ecf\u662fPython 3\u7684\u89e3\u91ca\u5668\u548c\u5305\u7ba1\u7406\u5de5\u5177\u4e86\u3002</p> <ol> <li>\u5b89\u88c5Django\u3002</li> </ol> <pre><code>(venv)$ pip install django\n</code></pre> <p>\u6216\u6307\u5b9a\u7248\u672c\u53f7\u6765\u5b89\u88c5\u5bf9\u5e94\u7684Django\u7684\u7248\u672c\u3002</p> <pre><code>(venv)$ pip install django==1.11\n</code></pre> <ol> <li>\u68c0\u67e5Django\u7684\u7248\u672c\u3002</li> </ol> <pre><code>(venv)$ python -m django --version\n(venv)$ django-admin --version\n</code></pre> <p>\u6216</p> <p><pre><code>(venv)$ python\n&gt;&gt;&gt; import django\n&gt;&gt;&gt; django.get_version()\n</code></pre>    \u5f53\u7136\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7pip\u6765\u67e5\u770b\u5b89\u88c5\u7684\u4f9d\u8d56\u5e93\u53ca\u5176\u7248\u672c\uff0c\u5982\uff1a</p> <pre><code>(venv)$ pip freeze\n(venv)$ pip list\n</code></pre> <p>\u4e0b\u56fe\u5c55\u793a\u4e86Django\u7248\u672c\u548cPython\u7248\u672c\u7684\u5bf9\u5e94\u5173\u7cfb\uff0c\u5982\u679c\u5728\u5b89\u88c5\u65f6\u6ca1\u6709\u6307\u5b9a\u7248\u672c\u53f7\uff0c\u5c06\u81ea\u52a8\u9009\u62e9\u6700\u65b0\u7684\u7248\u672c\uff08\u5728\u5199\u4f5c\u8fd9\u6bb5\u5185\u5bb9\u65f6\uff0c\u6700\u65b0\u7684\u7248\u672c\u662f2.0\uff1b\u76ee\u524d\u6700\u65b0\u7684\u7248\u672c\u5df2\u7ecf\u66f4\u65b0\u52302.2\uff09\u3002</p> Django\u7248\u672c Python\u7248\u672c 1.8 2.7\u30013.2\u30013.3\u30013.4\u30013.5 1.9\u30011.10 2.7\u30013.4\u30013.5 1.11 2.7\u30013.4\u30013.5\u30013.6\u30013.7 2.0 3.4\u30013.5\u30013.6\u30013.7 2.1\u30012.2 3.5\u30013.6\u30013.7 <ol> <li>\u4f7f\u7528<code>django-admin</code>\u521b\u5efa\u9879\u76ee\uff0c\u9879\u76ee\u547d\u540d\u4e3aoa\u3002</li> </ol> <pre><code>(venv)$ django-admin startproject oa .\n</code></pre> <p>\u6ce8\u610f\uff1a\u4e0a\u9762\u7684\u547d\u4ee4\u6700\u540e\u7684\u90a3\u4e2a\u70b9\uff0c\u5b83\u8868\u793a\u5728\u5f53\u524d\u8def\u5f84\u4e0b\u521b\u5efa\u9879\u76ee\u3002</p> <p>\u6267\u884c\u4e0a\u9762\u7684\u547d\u4ee4\u540e\u770b\u770b\u751f\u6210\u7684\u6587\u4ef6\u548c\u6587\u4ef6\u5939\uff0c\u5b83\u4eec\u7684\u4f5c\u7528\u5982\u4e0b\u6240\u793a\uff1a</p> <ul> <li><code>manage.py</code>\uff1a\u00a0\u4e00\u4e2a\u8ba9\u4f60\u7528\u5404\u79cd\u65b9\u5f0f\u7ba1\u7406 Django \u9879\u76ee\u7684\u547d\u4ee4\u884c\u5de5\u5177\u3002</li> <li><code>oa/__init__.py</code>\uff1a\u4e00\u4e2a\u7a7a\u6587\u4ef6\uff0c\u544a\u8bc9 Python \u8fd9\u4e2a\u76ee\u5f55\u5e94\u8be5\u88ab\u8ba4\u4e3a\u662f\u4e00\u4e2a Python \u5305\u3002</li> <li><code>oa/settings.py</code>\uff1aDjango \u9879\u76ee\u7684\u914d\u7f6e\u6587\u4ef6\u3002</li> <li><code>oa/urls.py</code>\uff1aDjango \u9879\u76ee\u7684 URL \u58f0\u660e\uff0c\u5c31\u50cf\u4f60\u7f51\u7ad9\u7684\u201c\u76ee\u5f55\u201d\u3002</li> <li> <p><code>oa/wsgi.py</code>\uff1a\u4f5c\u4e3a\u4f60\u7684\u9879\u76ee\u7684\u8fd0\u884c\u5728 WSGI \u517c\u5bb9\u7684Web\u670d\u52a1\u5668\u4e0a\u7684\u5165\u53e3\u3002</p> </li> <li> <p>\u542f\u52a8\u670d\u52a1\u5668\u8fd0\u884c\u9879\u76ee\u3002</p> </li> </ul> <pre><code>(venv)$ python manage.py runserver\n</code></pre> <p>\u5728\u6d4f\u89c8\u5668\u4e2d\u8f93\u5165http://127.0.0.1:8000\u8bbf\u95ee\u6211\u4eec\u7684\u670d\u52a1\u5668\uff0c\u6548\u679c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p> <p>\u8bf4\u660e1\uff1a\u521a\u521a\u542f\u52a8\u7684\u662fDjango\u81ea\u5e26\u7684\u7528\u4e8e\u5f00\u53d1\u548c\u6d4b\u8bd5\u7684\u670d\u52a1\u5668\uff0c\u5b83\u662f\u4e00\u4e2a\u7528\u7eafPython\u7f16\u5199\u7684\u8f7b\u91cf\u7ea7Web\u670d\u52a1\u5668\uff0c\u4f46\u5b83\u5e76\u4e0d\u662f\u771f\u6b63\u610f\u4e49\u4e0a\u7684\u751f\u4ea7\u7ea7\u522b\u7684\u670d\u52a1\u5668\uff0c\u5343\u4e07\u4e0d\u8981\u5c06\u8fd9\u4e2a\u670d\u52a1\u5668\u7528\u4e8e\u548c\u751f\u4ea7\u73af\u5883\u76f8\u5173\u7684\u4efb\u4f55\u5730\u65b9\u3002</p> <p>\u8bf4\u660e2\uff1a\u7528\u4e8e\u5f00\u53d1\u7684\u670d\u52a1\u5668\u5728\u9700\u8981\u7684\u60c5\u51b5\u4e0b\u4f1a\u5bf9\u6bcf\u4e00\u6b21\u7684\u8bbf\u95ee\u8bf7\u6c42\u91cd\u65b0\u8f7d\u5165\u4e00\u904dPython\u4ee3\u7801\u3002\u6240\u4ee5\u4f60\u4e0d\u9700\u8981\u4e3a\u4e86\u8ba9\u4fee\u6539\u7684\u4ee3\u7801\u751f\u6548\u800c\u9891\u7e41\u7684\u91cd\u65b0\u542f\u52a8\u670d\u52a1\u5668\u3002\u7136\u800c\uff0c\u4e00\u4e9b\u52a8\u4f5c\uff0c\u6bd4\u5982\u6dfb\u52a0\u65b0\u6587\u4ef6\uff0c\u5c06\u4e0d\u4f1a\u89e6\u53d1\u81ea\u52a8\u91cd\u65b0\u52a0\u8f7d\uff0c\u8fd9\u65f6\u4f60\u5f97\u81ea\u5df1\u624b\u52a8\u91cd\u542f\u670d\u52a1\u5668\u3002</p> <p>\u8bf4\u660e3\uff1a\u53ef\u4ee5\u901a\u8fc7<code>python manage.py help</code>\u547d\u4ee4\u67e5\u770b\u53ef\u7528\u547d\u4ee4\u5217\u8868\uff1b\u5728\u542f\u52a8\u670d\u52a1\u5668\u65f6\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7<code>python manage.py runserver 1.2.3.4:5678</code>\u6765\u6307\u5b9a\u7ed1\u5b9a\u7684IP\u5730\u5740\u548c\u7aef\u53e3\u3002</p> <p>\u8bf4\u660e4\uff1a\u53ef\u4ee5\u901a\u8fc7Ctrl+C\u6765\u7ec8\u6b62\u670d\u52a1\u5668\u7684\u8fd0\u884c\u3002</p> <ol> <li>\u63a5\u4e0b\u6765\u6211\u4eec\u4fee\u6539\u9879\u76ee\u7684\u914d\u7f6e\u6587\u4ef6settings.py\uff0cDjango\u662f\u4e00\u4e2a\u652f\u6301\u56fd\u9645\u5316\u548c\u672c\u5730\u5316\u7684\u6846\u67b6\uff0c\u56e0\u6b64\u521a\u624d\u6211\u4eec\u770b\u5230\u7684\u9ed8\u8ba4\u9996\u9875\u4e5f\u662f\u652f\u6301\u56fd\u9645\u5316\u7684\uff0c\u6211\u4eec\u5c06\u9ed8\u8ba4\u8bed\u8a00\u4fee\u6539\u4e3a\u4e2d\u6587\uff0c\u65f6\u533a\u8bbe\u7f6e\u4e3a\u4e1c\u516b\u533a\u3002</li> </ol> <pre><code>(venv)$ vim oa/settings.py\n</code></pre> <pre><code># \u6b64\u5904\u7701\u7565\u4e0a\u9762\u7684\u5185\u5bb9\n\n# \u8bbe\u7f6e\u8bed\u8a00\u4ee3\u7801\nLANGUAGE_CODE = 'zh-hans'\n# \u8bbe\u7f6e\u65f6\u533a\nTIME_ZONE = 'Asia/Chongqing'\n\n# \u6b64\u5904\u7701\u7565\u4e0b\u9762\u7684\u5185\u5bb9\n</code></pre> <ol> <li>\u5237\u65b0\u521a\u624d\u7684\u9875\u9762\u3002</li> </ol> <p></p>"},{"location":"python/Py-100Days/Day41-55/41.%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_4","title":"\u52a8\u6001\u9875\u9762","text":"<ol> <li>\u521b\u5efa\u540d\u4e3ahrs\uff08\u4eba\u529b\u8d44\u6e90\u7cfb\u7edf\uff09\u7684\u5e94\u7528\uff0c\u4e00\u4e2aDjango\u9879\u76ee\u53ef\u4ee5\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\u5e94\u7528\u3002</li> </ol> <pre><code>(venv)$ python manage.py startapp hrs\n</code></pre> <p>\u6267\u884c\u4e0a\u9762\u7684\u547d\u4ee4\u4f1a\u5728\u5f53\u524d\u8def\u5f84\u4e0b\u521b\u5efahrs\u76ee\u5f55\uff0c\u5176\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\u6240\u793a\uff1a</p> <ul> <li><code>__init__.py</code>\uff1a\u4e00\u4e2a\u7a7a\u6587\u4ef6\uff0c\u544a\u8bc9 Python \u8fd9\u4e2a\u76ee\u5f55\u5e94\u8be5\u88ab\u8ba4\u4e3a\u662f\u4e00\u4e2a Python \u5305\u3002</li> <li><code>admin.py</code>\uff1a\u53ef\u4ee5\u7528\u6765\u6ce8\u518c\u6a21\u578b\uff0c\u7528\u4e8e\u5728Django\u7684\u7ba1\u7406\u754c\u9762\u7ba1\u7406\u6a21\u578b\u3002</li> <li><code>apps.py</code>\uff1a\u5f53\u524d\u5e94\u7528\u7684\u914d\u7f6e\u3002</li> <li><code>migrations</code>\uff1a\u5b58\u653e\u4e0e\u6a21\u578b\u6709\u5173\u7684\u6570\u636e\u5e93\u8fc1\u79fb\u4fe1\u606f\u3002<ul> <li><code>__init__.py</code>\uff1a\u4e00\u4e2a\u7a7a\u6587\u4ef6\uff0c\u544a\u8bc9 Python \u8fd9\u4e2a\u76ee\u5f55\u5e94\u8be5\u88ab\u8ba4\u4e3a\u662f\u4e00\u4e2a Python \u5305\u3002</li> </ul> </li> <li><code>models.py</code>\uff1a\u5b58\u653e\u5e94\u7528\u7684\u6570\u636e\u6a21\u578b\uff0c\u5373\u5b9e\u4f53\u7c7b\u53ca\u5176\u4e4b\u95f4\u7684\u5173\u7cfb\uff08MVC/MVT\u4e2d\u7684M\uff09\u3002</li> <li><code>tests.py</code>\uff1a\u5305\u542b\u6d4b\u8bd5\u5e94\u7528\u5404\u9879\u529f\u80fd\u7684\u6d4b\u8bd5\u7c7b\u548c\u6d4b\u8bd5\u51fd\u6570\u3002</li> <li> <p><code>views.py</code>\uff1a\u5904\u7406\u8bf7\u6c42\u5e76\u8fd4\u56de\u54cd\u5e94\u7684\u51fd\u6570\uff08MVC\u4e2d\u7684C\uff0cMVT\u4e2d\u7684V\uff09\u3002</p> </li> <li> <p>\u4fee\u6539\u5e94\u7528\u76ee\u5f55\u4e0b\u7684\u89c6\u56fe\u6587\u4ef6views.py\u3002</p> </li> </ul> <pre><code>(venv)$ vim hrs/views.py\n</code></pre> <pre><code>from django.http import HttpResponse\n\n\ndef index(request):\n    return HttpResponse('&lt;h1&gt;Hello, Django!&lt;/h1&gt;')\n</code></pre> <ol> <li>\u5728\u5e94\u7528\u76ee\u5f55\u521b\u5efa\u4e00\u4e2aurls.py\u6587\u4ef6\u5e76\u6620\u5c04URL\u3002</li> </ol> <pre><code>(venv)$ touch hrs/urls.py\n(venv)$ vim hrs/urls.py\n</code></pre> <pre><code>from django.urls import path\n\nfrom hrs import views\n\nurlpatterns = [\n    path('', views.index, name='index'),\n]\n</code></pre> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u4f7f\u7528\u7684<code>path</code>\u51fd\u6570\u662fDjango 2.x\u4e2d\u65b0\u6dfb\u52a0\u7684\u51fd\u6570\uff0c\u9664\u6b64\u4e4b\u5916\u8fd8\u53ef\u4ee5\u4f7f\u7528\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\u7684URL\u6620\u5c04\u51fd\u6570<code>re_path</code>\u51fd\u6570\uff1bDjango 1.x\u4e2d\u662f\u7528\u540d\u4e3a<code>url</code>\u51fd\u6570\u6765\u8bbe\u5b9aURL\u6620\u5c04\u3002</p> <ol> <li>\u5207\u6362\u5230\u9879\u76ee\u76ee\u5f55\uff0c\u4fee\u6539\u8be5\u76ee\u5f55\u4e0b\u7684urls.py\u6587\u4ef6\uff0c\u5bf9\u5e94\u7528\u4e2d\u8bbe\u5b9a\u7684URL\u8fdb\u884c\u5408\u5e76\u3002</li> </ol> <pre><code>(venv) $ vim oa/urls.py\n</code></pre> <pre><code>from django.contrib import admin\nfrom django.urls import path, include\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('hrs/', include('hrs.urls')),\n]\n</code></pre> <ol> <li>\u91cd\u65b0\u8fd0\u884c\u9879\u76ee\uff0c\u5e76\u6253\u5f00\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95eehttp://localhost:8000/hrs\u3002</li> </ol> <pre><code>(venv)$ python manage.py runserver\n</code></pre> <ol> <li>\u4fee\u6539views.py\u751f\u6210\u52a8\u6001\u5185\u5bb9\u3002</li> </ol> <pre><code>(venv)$ vim hrs/views.py\n</code></pre> <pre><code>from io import StringIO\n\nfrom django.http import HttpResponse\n\ndepts_list = [\n    {'no': 10, 'name': '\u8d22\u52a1\u90e8', 'location': '\u5317\u4eac'},\n    {'no': 20, 'name': '\u7814\u53d1\u90e8', 'location': '\u6210\u90fd'},\n    {'no': 30, 'name': '\u9500\u552e\u90e8', 'location': '\u4e0a\u6d77'},\n]\n\n\ndef index(request):\n    output = StringIO()\n    output.write('&lt;html&gt;\\n')\n    output.write('&lt;head&gt;\\n')\n    output.write('\\t&lt;meta charset=\"utf-8\"&gt;\\n')\n    output.write('\\t&lt;title&gt;\u9996\u9875&lt;/title&gt;')\n    output.write('&lt;/head&gt;\\n')\n    output.write('&lt;body&gt;\\n')\n    output.write('\\t&lt;h1&gt;\u90e8\u95e8\u4fe1\u606f&lt;/h1&gt;\\n')\n    output.write('\\t&lt;hr&gt;\\n')\n    output.write('\\t&lt;table&gt;\\n')\n    output.write('\\t\\t&lt;tr&gt;\\n')\n    output.write('\\t\\t\\t&lt;th width=120&gt;\u90e8\u95e8\u7f16\u53f7&lt;/th&gt;\\n')\n    output.write('\\t\\t\\t&lt;th width=180&gt;\u90e8\u95e8\u540d\u79f0&lt;/th&gt;\\n')\n    output.write('\\t\\t\\t&lt;th width=180&gt;\u6240\u5728\u5730&lt;/th&gt;\\n')\n    output.write('\\t\\t&lt;/tr&gt;\\n')\n    for dept in depts_list:\n        output.write('\\t\\t&lt;tr&gt;\\n')\n        output.write(f'\\t\\t\\t&lt;td align=center&gt;{dept[\"no\"]}&lt;/td&gt;\\n')\n        output.write(f'\\t\\t\\t&lt;td align=center&gt;{dept[\"name\"]}&lt;/td&gt;\\n')\n        output.write(f'\\t\\t\\t&lt;td align=center&gt;{dept[\"location\"]}&lt;/td&gt;\\n')\n        output.write('\\t\\t&lt;/tr&gt;\\n')\n    output.write('\\t&lt;/table&gt;\\n')\n    output.write('&lt;/body&gt;\\n')\n    output.write('&lt;/html&gt;\\n')\n    return HttpResponse(output.getvalue())\n</code></pre> <ol> <li> <p>\u5237\u65b0\u9875\u9762\u67e5\u770b\u7a0b\u5e8f\u7684\u8fd0\u884c\u7ed3\u679c\u3002</p> <p></p> </li> </ol>"},{"location":"python/Py-100Days/Day41-55/41.%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_5","title":"\u4f7f\u7528\u89c6\u56fe\u6a21\u677f","text":"<p>\u4e0a\u9762\u901a\u8fc7\u62fc\u63a5HTML\u4ee3\u7801\u7684\u65b9\u5f0f\u751f\u6210\u52a8\u6001\u89c6\u56fe\u7684\u505a\u6cd5\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\u662f\u65e0\u80fd\u63a5\u53d7\u7684\uff0c\u8fd9\u4e00\u70b9\u5927\u5bb6\u4e00\u5b9a\u80fd\u591f\u60f3\u5230\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u63d0\u524d\u51c6\u5907\u4e00\u4e2a\u6a21\u677f\u9875\uff0c\u6240\u8c13\u6a21\u677f\u9875\u5c31\u662f\u4e00\u4e2a\u5e26\u5360\u4f4d\u7b26\u7684HTML\u9875\u9762\uff0c\u5f53\u6211\u4eec\u5c06\u7a0b\u5e8f\u4e2d\u83b7\u5f97\u7684\u6570\u636e\u66ff\u6362\u6389\u9875\u9762\u4e2d\u7684\u5360\u4f4d\u7b26\u65f6\uff0c\u4e00\u4e2a\u52a8\u6001\u9875\u9762\u5c31\u4ea7\u751f\u4e86\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u7528Django\u6846\u67b6\u4e2dtemplate\u6a21\u5757\u7684Template\u7c7b\u521b\u5efa\u6a21\u677f\u5bf9\u8c61\uff0c\u901a\u8fc7\u6a21\u677f\u5bf9\u8c61\u7684render\u65b9\u6cd5\u5b9e\u73b0\u5bf9\u6a21\u677f\u7684\u6e32\u67d3\u3002\u6240\u8c13\u7684\u6e32\u67d3\u5c31\u662f\u7528\u6570\u636e\u66ff\u6362\u6389\u6a21\u677f\u9875\u4e2d\u7684\u5360\u4f4d\u7b26\uff0c\u5f53\u7136\u8fd9\u91cc\u7684\u6e32\u67d3\u79f0\u4e3a\u540e\u7aef\u6e32\u67d3\uff0c\u5373\u5728\u670d\u52a1\u5668\u7aef\u5b8c\u6210\u9875\u9762\u7684\u6e32\u67d3\u518d\u8f93\u51fa\u5230\u6d4f\u89c8\u5668\u4e2d\uff0c\u8fd9\u79cd\u505a\u6cd5\u7684\u4e3b\u8981\u574f\u5904\u662f\u5f53\u5e76\u53d1\u8bbf\u95ee\u91cf\u8f83\u5927\u65f6\uff0c\u670d\u52a1\u5668\u4f1a\u627f\u53d7\u8f83\u5927\u7684\u8d1f\u62c5\uff0c\u6240\u4ee5\u4eca\u5929\u6709\u5f88\u591a\u7684Web\u5e94\u7528\u90fd\u4f7f\u7528\u4e86\u524d\u7aef\u6e32\u67d3\uff0c\u5373\u670d\u52a1\u5668\u53ea\u4e3a\u6d4f\u89c8\u5668\u63d0\u4f9b\u6240\u9700\u7684\u6570\u636e\uff08\u901a\u5e38\u662fJSON\u683c\u5f0f\uff09\uff0c\u5728\u6d4f\u89c8\u5668\u4e2d\u901a\u8fc7JavaScript\u83b7\u53d6\u8fd9\u4e9b\u6570\u636e\u5e76\u6e32\u67d3\u5230\u9875\u9762\u4e0a\uff0c\u8fd9\u4e9b\u5185\u5bb9\u5728\u540e\u9762\u4e3a\u5927\u5bb6\u5448\u73b0\u3002</p> <p>Django\u6846\u67b6\u901a\u8fc7shortcuts\u6a21\u5757\u7684\u5feb\u6377\u51fd\u6570<code>render</code>\u7b80\u5316\u4e86\u6e32\u67d3\u6a21\u677f\u7684\u64cd\u4f5c\uff0c\u5177\u4f53\u7684\u7528\u6cd5\u5982\u4e0b\u6240\u793a\u3002</p> <ol> <li>\u5148\u56de\u5230manage.py\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55\u521b\u5efa\u540d\u4e3atemplates\u6587\u4ef6\u5939\u3002</li> </ol> <pre><code>(venv)$ mkdir templates\n</code></pre> <ol> <li>\u521b\u5efa\u6a21\u677f\u9875index.html\u3002</li> </ol> <p><pre><code>(venv)$ touch templates/index.html\n(venv)$ vim templates/index.html\n</code></pre> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n &lt;meta charset=\"UTF-8\"&gt;\n &lt;title&gt;\u9996\u9875&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n &lt;h1&gt;\u90e8\u95e8\u4fe1\u606f&lt;/h1&gt;\n &lt;hr&gt;\n &lt;table&gt;\n     &lt;tr&gt;\n            &lt;th&gt;\u90e8\u95e8\u7f16\u53f7&lt;/th&gt;\n            &lt;th&gt;\u90e8\u95e8\u540d\u79f0&lt;/th&gt;\n            &lt;th&gt;\u6240\u5728\u5730&lt;/th&gt;\n        &lt;/tr&gt;\n        {% for dept in depts_list %}\n        &lt;tr&gt;\n            &lt;td&gt;{{ dept.no }}&lt;/td&gt;\n            &lt;td&gt;{{ dept.name }}&lt;/td&gt;\n            &lt;td&gt;{{ dept.location }}&lt;/td&gt;\n        &lt;tr&gt;\n        {% endfor %}\n    &lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>    \u5728\u4e0a\u9762\u7684\u6a21\u677f\u9875\u4e2d\u6211\u4eec\u4f7f\u7528\u4e86<code>{{ greeting }}</code>\u8fd9\u6837\u7684\u6a21\u677f\u5360\u4f4d\u7b26\u8bed\u6cd5\uff0c\u4e5f\u4f7f\u7528\u4e86<code>{% for %}</code>\u8fd9\u6837\u7684\u6a21\u677f\u6307\u4ee4\uff0c\u8fd9\u4e9b\u90fd\u662fDjango\u6a21\u677f\u8bed\u8a00\uff08DTL\uff09\u7684\u4e00\u90e8\u5206\u3002\u5982\u679c\u5bf9\u6b64\u4e0d\u719f\u6089\u5e76\u4e0d\u8981\u7d27\uff0c\u6211\u4eec\u4f1a\u5728\u540e\u7eed\u7684\u5185\u5bb9\u4e2d\u8fdb\u4e00\u6b65\u7684\u8bb2\u89e3\uff0c\u800c\u4e14\u6211\u4eec\u521a\u624d\u4e5f\u8bf4\u5230\u4e86\uff0c\u8fd8\u6709\u66f4\u597d\u7684\u9009\u62e9\u5c31\u662f\u4f7f\u7528\u524d\u7aef\u6e32\u67d3\uff0c\u5f53\u7136\u8fd9\u662f\u540e\u8bdd\u3002</p> <ol> <li>\u56de\u5230\u5e94\u7528\u76ee\u5f55\uff0c\u4fee\u6539views.py\u6587\u4ef6\u3002</li> </ol> <pre><code>(venv)$ vim hrs/views.py\n</code></pre> <pre><code>from django.shortcuts import render\n\ndepts_list = [\n    {'no': 10, 'name': '\u8d22\u52a1\u90e8', 'location': '\u5317\u4eac'},\n    {'no': 20, 'name': '\u7814\u53d1\u90e8', 'location': '\u6210\u90fd'},\n    {'no': 30, 'name': '\u9500\u552e\u90e8', 'location': '\u4e0a\u6d77'},\n]\n\n\ndef index(request):\n    return render(request, 'index.html', {'depts_list': depts_list})\n</code></pre> <p>\u5230\u6b64\u4e3a\u6b62\uff0c\u6211\u4eec\u8fd8\u6ca1\u6709\u529e\u6cd5\u8ba9views.py\u4e2d\u7684<code>render</code>\u51fd\u6570\u627e\u5230\u6a21\u677f\u6587\u4ef6index.html\uff0c\u4e3a\u6b64\u6211\u4eec\u9700\u8981\u4fee\u6539settings.py\u6587\u4ef6\uff0c\u914d\u7f6e\u6a21\u677f\u6587\u4ef6\u6240\u5728\u7684\u8def\u5f84\u3002</p> <ol> <li>\u5207\u6362\u5230\u9879\u76ee\u76ee\u5f55\u4fee\u6539settings.py\u6587\u4ef6\u3002</li> </ol> <pre><code>(venv)$ vim oa/settings.py\n</code></pre> <pre><code># \u6b64\u5904\u7701\u7565\u4e0a\u9762\u7684\u5185\u5bb9\n\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR, 'templates')],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\n# \u6b64\u5904\u7701\u7565\u4e0b\u9762\u7684\u5185\u5bb9\n</code></pre> <ol> <li>\u91cd\u65b0\u8fd0\u884c\u9879\u76ee\u6216\u76f4\u63a5\u5237\u65b0\u9875\u9762\u67e5\u770b\u7ed3\u679c\u3002</li> </ol> <pre><code>(venv)$ python manage.py runserver\n</code></pre>"},{"location":"python/Py-100Days/Day41-55/41.%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_6","title":"\u603b\u7ed3","text":"<p>\u81f3\u6b64\uff0c\u6211\u4eec\u5df2\u7ecf\u5229\u7528Django\u6846\u67b6\u5b8c\u6210\u4e86\u4e00\u4e2a\u975e\u5e38\u5c0f\u7684Web\u5e94\u7528\uff0c\u867d\u7136\u5b83\u5e76\u6ca1\u6709\u4efb\u4f55\u7684\u5b9e\u9645\u4ef7\u503c\uff0c\u4f46\u662f\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u9879\u76ee\u5bf9Django\u6846\u67b6\u6709\u4e00\u4e2a\u611f\u6027\u7684\u8ba4\u8bc6\u3002\u5f53\u7136\uff0c\u5b9e\u9645\u5f00\u53d1\u4e2d\u6211\u4eec\u53ef\u4ee5\u7528PyCharm\u6765\u521b\u5efa\u9879\u76ee\uff0c\u5982\u679c\u4f7f\u7528\u4e13\u4e1a\u7248\u7684PyCharm\uff0c\u53ef\u4ee5\u76f4\u63a5\u521b\u5efaDjango\u9879\u76ee\u3002\u4f7f\u7528PyCharm\u7684\u597d\u5904\u5728\u4e8e\u7f16\u5199\u4ee3\u7801\u65f6\u53ef\u4ee5\u83b7\u5f97\u4ee3\u7801\u63d0\u793a\u3001\u9519\u8bef\u4fee\u590d\u3001\u81ea\u52a8\u5bfc\u5165\u7b49\u529f\u80fd\uff0c\u4ece\u800c\u63d0\u5347\u5f00\u53d1\u6548\u7387\uff0c\u4f46\u662f\u4e13\u4e1a\u7248\u7684PyCharm\u9700\u8981\u6309\u5e74\u652f\u4ed8\u76f8\u5e94\u7684\u8d39\u7528\uff0c\u793e\u533a\u7248\u7684PyCharm\u4e2d\u5e76\u672a\u5305\u542b\u5bf9Django\u6846\u67b6\u76f4\u63a5\u7684\u652f\u6301\uff0c\u4f46\u662f\u6211\u4eec\u4ecd\u7136\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u521b\u5efaDjango\u9879\u76ee\uff0c\u53ea\u662f\u5728\u4f7f\u7528\u4e0a\u6ca1\u6709\u4e13\u4e1a\u7248\u7684\u65b9\u4fbf\u3002\u5173\u4e8ePyCharm\u7684\u4f7f\u7528\uff0c\u53ef\u4ee5\u53c2\u8003\u300a\u73a9\u8f6cPyCharm\u300b\u4e00\u6587\u3002</p> <p>\u6b64\u5916\uff0c\u5b66\u4e60Django\u6700\u597d\u7684\u8d44\u6599\u80af\u5b9a\u662f\u5b83\u7684\u5b98\u65b9\u6587\u6863\uff0c\u9664\u6b64\u4e4b\u5916\u56fe\u7075\u793e\u533a\u51fa\u7248\u7684\u300aDjango\u57fa\u7840\u6559\u7a0b\u300b\u4e5f\u662f\u975e\u5e38\u9002\u5408\u521d\u5b66\u8005\u7684\u8bfb\u7269\u3002 </p>"},{"location":"python/Py-100Days/Day41-55/42.%E6%B7%B1%E5%85%A5%E6%A8%A1%E5%9E%8B/","title":"42.\u6df1\u5165\u6a21\u578b","text":""},{"location":"python/Py-100Days/Day41-55/42.%E6%B7%B1%E5%85%A5%E6%A8%A1%E5%9E%8B/#_1","title":"\u6df1\u5165\u6a21\u578b","text":"<p>\u5728\u4e0a\u4e00\u4e2a\u7ae0\u8282\u4e2d\uff0c\u6211\u4eec\u63d0\u5230\u4e86Django\u662f\u57fa\u4e8eMVC\u67b6\u6784\u7684Web\u6846\u67b6\uff0cMVC\u67b6\u6784\u8ffd\u6c42\u7684\u662f\u201c\u6a21\u578b\u201d\u548c\u201c\u89c6\u56fe\u201d\u7684\u89e3\u8026\u5408\u3002\u6240\u8c13\u201c\u6a21\u578b\u201d\u8bf4\u5f97\u66f4\u76f4\u767d\u4e00\u4e9b\u5c31\u662f\u6570\u636e\uff0c\u6240\u4ee5\u901a\u5e38\u4e5f\u88ab\u79f0\u4f5c\u201c\u6570\u636e\u6a21\u578b\u201d\u3002\u5728\u5b9e\u9645\u7684\u9879\u76ee\u4e2d\uff0c\u6570\u636e\u6a21\u578b\u901a\u5e38\u901a\u8fc7\u6570\u636e\u5e93\u5b9e\u73b0\u6301\u4e45\u5316\u64cd\u4f5c\uff0c\u800c\u5173\u7cfb\u578b\u6570\u636e\u5e93\u5728\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u90fd\u662f\u6301\u4e45\u5316\u7684\u9996\u9009\u65b9\u6848\uff0c\u4e0b\u9762\u6211\u4eec\u4ee5MySQL\u4e3a\u4f8b\u6765\u8bf4\u660e\u5982\u4f55\u4f7f\u7528\u5173\u7cfb\u578b\u6570\u636e\u5e93\u6765\u5b9e\u73b0\u6301\u4e45\u5316\u64cd\u4f5c\u3002</p>"},{"location":"python/Py-100Days/Day41-55/42.%E6%B7%B1%E5%85%A5%E6%A8%A1%E5%9E%8B/#mysql","title":"\u914d\u7f6e\u5173\u7cfb\u578b\u6570\u636e\u5e93MySQL","text":"<p>\u6211\u4eec\u7ee7\u7eed\u6765\u5b8c\u5584\u4e0a\u4e00\u4e2a\u7ae0\u8282\u4e2d\u7684OA\u9879\u76ee\uff0c\u9996\u5148\u4ece\u914d\u7f6e\u9879\u76ee\u4f7f\u7528\u7684\u6570\u636e\u5e93\u5f00\u59cb\u3002</p> <ol> <li>\u4fee\u6539\u9879\u76ee\u7684settings.py\u6587\u4ef6\uff0c\u9996\u5148\u5c06\u6211\u4eec\u4e4b\u524d\u521b\u5efa\u7684\u5e94\u7528hrs\u6dfb\u52a0\u5df2\u5b89\u88c5\u7684\u9879\u76ee\u4e2d\uff0c\u7136\u540e\u914d\u7f6eMySQL\u4f5c\u4e3a\u6301\u4e45\u5316\u65b9\u6848\u3002</li> </ol> <pre><code>(venv)$ cd oa/settings.py\n</code></pre> <pre><code># \u6b64\u5904\u7701\u7565\u4e0a\u9762\u7684\u4ee3\u7801\n\nINSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'hrs',\n]\n\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.mysql',\n        'NAME': 'oa',\n        'HOST': 'localhost',\n        'PORT': 3306,\n        'USER': 'root',\n        'PASSWORD': '123456',\n    }\n}\n\n# \u6b64\u5904\u7701\u7565\u4e0b\u9762\u7684\u4ee3\u7801\n</code></pre> <p>\u5728\u914d\u7f6eENGINE\u5c5e\u6027\u65f6\uff0c\u5e38\u7528\u7684\u53ef\u9009\u503c\u5305\u62ec\uff1a</p> <ul> <li><code>'django.db.backends.sqlite3'</code>\uff1aSQLite\u5d4c\u5165\u5f0f\u6570\u636e\u5e93\u3002</li> <li><code>'django.db.backends.postgresql'</code>\uff1aBSD\u8bb8\u53ef\u8bc1\u4e0b\u53d1\u884c\u7684\u5f00\u6e90\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4ea7\u54c1\u3002</li> <li><code>'django.db.backends.mysql'</code>\uff1a\u8f6c\u624b\u591a\u6b21\u76ee\u524d\u5c5e\u4e8e\u7532\u9aa8\u6587\u516c\u53f8\u7684\u7ecf\u6d4e\u9ad8\u6548\u7684\u6570\u636e\u5e93\u4ea7\u54c1\u3002</li> <li><code>'django.db.backends.oracle'</code>\uff1a\u7532\u9aa8\u6587\u516c\u53f8\u7684\u5173\u7cfb\u578b\u6570\u636e\u5e93\u65d7\u8230\u4ea7\u54c1\u3002</li> </ul> <p>\u5176\u4ed6\u7684\u914d\u7f6e\u53ef\u4ee5\u53c2\u8003\u5b98\u65b9\u6587\u6863\u4e2d\u6570\u636e\u5e93\u914d\u7f6e\u7684\u90e8\u5206\u3002</p> <p>NAME\u5c5e\u6027\u4ee3\u8868\u6570\u636e\u5e93\u7684\u540d\u79f0\uff0c\u5982\u679c\u4f7f\u7528SQLite\u5b83\u5bf9\u5e94\u7740\u4e00\u4e2a\u6587\u4ef6\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0bNAME\u7684\u5c5e\u6027\u503c\u5e94\u8be5\u662f\u4e00\u4e2a\u7edd\u5bf9\u8def\u5f84\uff1b\u4f7f\u7528\u5176\u4ed6\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff0c\u5219\u8981\u914d\u7f6e\u5bf9\u5e94\u7684HOST\uff08\u4e3b\u673a\uff09\u3001PORT\uff08\u7aef\u53e3\uff09\u3001USER\uff08\u7528\u6237\u540d\uff09\u3001PASSWORD\uff08\u53e3\u4ee4\uff09\u7b49\u5c5e\u6027\u3002</p> <ol> <li>\u5b89\u88c5MySQL\u5ba2\u6237\u7aef\u5de5\u5177\uff0cPython 3\u4e2d\u4f7f\u7528PyMySQL\uff0cPython 2\u4e2d\u7528MySQLdb\u3002</li> </ol> <pre><code>(venv)$ pip install pymysql\n</code></pre> <p>\u5982\u679c\u4f7f\u7528Python 3\u9700\u8981\u4fee\u6539\u9879\u76ee\u7684<code>__init__.py</code>\u6587\u4ef6\u5e76\u52a0\u5165\u5982\u4e0b\u6240\u793a\u7684\u4ee3\u7801\uff0c\u8fd9\u6bb5\u4ee3\u7801\u7684\u4f5c\u7528\u662f\u5c06PyMySQL\u89c6\u4e3aMySQLdb\u6765\u4f7f\u7528\uff0c\u4ece\u800c\u907f\u514dDjango\u627e\u4e0d\u5230\u8fde\u63a5MySQL\u7684\u5ba2\u6237\u7aef\u5de5\u5177\u800c\u8be2\u95ee\u4f60\uff1a\u201cDid you install mysqlclient? \u201d\uff08\u4f60\u5b89\u88c5\u4e86mysqlclient\u5417\uff1f\uff09\u3002</p> <pre><code>import pymysql\n\npymysql.install_as_MySQLdb()\n</code></pre> <ol> <li>\u8fd0\u884cmanage.py\u5e76\u6307\u5b9amigrate\u53c2\u6570\u5b9e\u73b0\u6570\u636e\u5e93\u8fc1\u79fb\uff0c\u4e3a\u5e94\u7528\u7a0b\u5e8f\u521b\u5efa\u5bf9\u5e94\u7684\u6570\u636e\u8868\uff0c\u5f53\u7136\u5728\u6b64\u4e4b\u524d\u9700\u8981\u5148\u542f\u52a8MySQL\u6570\u636e\u5e93\u670d\u52a1\u5668\u5e76\u521b\u5efa\u540d\u4e3aoa\u7684\u6570\u636e\u5e93\uff0c\u5728MySQL\u4e2d\u521b\u5efa\u6570\u636e\u5e93\u7684\u8bed\u53e5\u5982\u4e0b\u6240\u793a\u3002</li> </ol> <pre><code>drop database if exists oa;\ncreate database oa default charset utf8;\n</code></pre> <pre><code>(venv)$ cd ..\n(venv)$ python manage.py migrate\nOperations to perform:\n  Apply all migrations: admin, auth, contenttypes, sessions\nRunning migrations:\n  Applying contenttypes.0001_initial... OK\n  Applying auth.0001_initial... OK\n  Applying admin.0001_initial... OK\n  Applying admin.0002_logentry_remove_auto_add... OK\n  Applying contenttypes.0002_remove_content_type_name... OK\n  Applying auth.0002_alter_permission_name_max_length... OK\n  Applying auth.0003_alter_user_email_max_length... OK\n  Applying auth.0004_alter_user_username_opts... OK\n  Applying auth.0005_alter_user_last_login_null... OK\n  Applying auth.0006_require_contenttypes_0002... OK\n  Applying auth.0007_alter_validators_add_error_messages... OK\n  Applying auth.0008_alter_user_username_max_length... OK\n  Applying auth.0009_alter_user_last_name_max_length... OK\n  Applying sessions.0001_initial... OK\n</code></pre> <ol> <li>\u53ef\u4ee5\u770b\u5230\uff0cDjango\u5e2e\u52a9\u6211\u4eec\u521b\u5efa\u4e8610\u5f20\u8868\uff0c\u8fd9\u4e9b\u90fd\u662f\u4f7f\u7528Django\u6846\u67b6\u9700\u8981\u7684\u4e1c\u897f\uff0c\u7a0d\u540e\u6211\u4eec\u5c31\u4f1a\u7528\u5230\u8fd9\u4e9b\u8868\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u6211\u4eec\u8fd8\u5e94\u8be5\u4e3a\u6211\u4eec\u81ea\u5df1\u7684\u5e94\u7528\u521b\u5efa\u6570\u636e\u6a21\u578b\u3002\u5982\u679c\u8981\u5728hrs\u5e94\u7528\u4e2d\u5b9e\u73b0\u5bf9\u90e8\u95e8\u548c\u5458\u5de5\u7684\u7ba1\u7406\uff0c\u6211\u4eec\u53ef\u4ee5\u521b\u5efa\u5982\u4e0b\u6240\u793a\u7684\u6570\u636e\u6a21\u578b\u3002</li> </ol> <pre><code>(venv)$ vim hrs/models.py\n</code></pre> <pre><code>from django.db import models\n\n\nclass Dept(models.Model):\n    \"\"\"\u90e8\u95e8\u7c7b\"\"\"\n\n    no = models.IntegerField(primary_key=True, db_column='dno', verbose_name='\u90e8\u95e8\u7f16\u53f7')\n    name = models.CharField(max_length=20, db_column='dname', verbose_name='\u90e8\u95e8\u540d\u79f0')\n    location = models.CharField(max_length=10, db_column='dloc', verbose_name='\u90e8\u95e8\u6240\u5728\u5730')\n\n    class Meta:\n        db_table = 'tb_dept'\n\n\nclass Emp(models.Model):\n    \"\"\"\u5458\u5de5\u7c7b\"\"\"\n\n    no = models.IntegerField(primary_key=True, db_column='eno', verbose_name='\u5458\u5de5\u7f16\u53f7')\n    name = models.CharField(max_length=20, db_column='ename', verbose_name='\u5458\u5de5\u59d3\u540d')\n    job = models.CharField(max_length=10, verbose_name='\u804c\u4f4d')\n    # \u81ea\u53c2\u7167\u5b8c\u6574\u6027\u591a\u5bf9\u4e00\u5916\u952e\u5173\u8054\n    mgr = models.ForeignKey('self', on_delete=models.SET_NULL, null=True, blank=True, verbose_name='\u4e3b\u7ba1\u7f16\u53f7')\n    sal = models.DecimalField(max_digits=7, decimal_places=2, verbose_name='\u6708\u85aa')\n    comm = models.DecimalField(max_digits=7, decimal_places=2, null=True, blank=True, verbose_name='\u8865\u8d34')\n    # \u591a\u5bf9\u4e00\u5916\u952e\u5173\u8054\n    dept = models.ForeignKey(Dept, db_column='dno', on_delete=models.PROTECT, verbose_name='\u6240\u5728\u90e8\u95e8')\n\n    class Meta:\n        db_table = 'tb_emp'\n</code></pre> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u5b9a\u4e49\u6a21\u578b\u65f6\u4f7f\u7528\u4e86\u5b57\u6bb5\u7c7b\u53ca\u5176\u5c5e\u6027\uff0c\u5176\u4e2dIntegerField\u5bf9\u5e94\u6570\u636e\u5e93\u4e2d\u7684integer\u7c7b\u578b\uff0cCharField\u5bf9\u5e94\u6570\u636e\u5e93\u7684varchar\u7c7b\u578b\uff0cDecimalField\u5bf9\u5e94\u6570\u636e\u5e93\u7684decimal\u7c7b\u578b\uff0cForeignKey\u7528\u6765\u5efa\u7acb\u591a\u5bf9\u4e00\u5916\u952e\u5173\u8054\u3002\u5b57\u6bb5\u5c5e\u6027primary_key\u7528\u4e8e\u8bbe\u7f6e\u4e3b\u952e\uff0cmax_length\u7528\u6765\u8bbe\u7f6e\u5b57\u6bb5\u7684\u6700\u5927\u957f\u5ea6\uff0cdb_column\u7528\u6765\u8bbe\u7f6e\u6570\u636e\u5e93\u4e2d\u4e0e\u5b57\u6bb5\u5bf9\u5e94\u7684\u5217\uff0cverbose_name\u5219\u8bbe\u7f6e\u4e86Django\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf\u4e2d\u8be5\u5b57\u6bb5\u663e\u793a\u7684\u540d\u79f0\u3002\u5982\u679c\u5bf9\u8fd9\u4e9b\u4e1c\u897f\u611f\u5230\u5f88\u56f0\u60d1\u4e5f\u4e0d\u8981\u7d27\uff0c\u6587\u672b\u63d0\u4f9b\u4e86\u5b57\u6bb5\u7c7b\u3001\u5b57\u6bb5\u5c5e\u6027\u3001\u5143\u6570\u636e\u9009\u9879\u7b49\u8bbe\u7f6e\u7684\u76f8\u5173\u8bf4\u660e\uff0c\u4e0d\u6e05\u695a\u7684\u8bfb\u8005\u53ef\u4ee5\u7a0d\u540e\u67e5\u770b\u5bf9\u5e94\u7684\u53c2\u8003\u6307\u5357\u3002</p> <ol> <li>\u901a\u8fc7\u6a21\u578b\u521b\u5efa\u6570\u636e\u8868\u3002</li> </ol> <pre><code>(venv)$ python manage.py makemigrations hrs\nMigrations for 'hrs':\n  hrs/migrations/0001_initial.py\n    - Create model Dept\n    - Create model Emp\n(venv)$ python manage.py migrate\nOperations to perform:\n  Apply all migrations: admin, auth, contenttypes, hrs, sessions\nRunning migrations:\n  Applying hrs.0001_initial... OK\n</code></pre> <p>\u6267\u884c\u5b8c\u6570\u636e\u6a21\u578b\u8fc1\u79fb\u64cd\u4f5c\u4e4b\u540e\uff0c\u53ef\u4ee5\u5728\u901a\u8fc7\u56fe\u5f62\u5316\u7684MySQL\u5ba2\u6237\u7aef\u5de5\u5177\u67e5\u770b\u5230E-R\u56fe\uff08\u5b9e\u4f53\u5173\u7cfb\u56fe\uff09\u3002</p> <p></p>"},{"location":"python/Py-100Days/Day41-55/42.%E6%B7%B1%E5%85%A5%E6%A8%A1%E5%9E%8B/#_2","title":"\u5728\u540e\u53f0\u7ba1\u7406\u6a21\u578b","text":"<ol> <li>\u521b\u5efa\u8d85\u7ea7\u7ba1\u7406\u5458\u8d26\u53f7\u3002</li> </ol> <pre><code>(venv)$ python manage.py createsuperuser\nUsername (leave blank to use 'hao'): jackfrued\nEmail address: jackfrued@126.com\nPassword: \nPassword (again): \nSuperuser created successfully.\n</code></pre> <ol> <li>\u542f\u52a8Web\u670d\u52a1\u5668\uff0c\u767b\u5f55\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf\u3002</li> </ol> <pre><code>(venv)$ python manage.py runserver\n</code></pre> <p>\u8bbf\u95eehttp://127.0.0.1:8000/admin\uff0c\u4f1a\u6765\u5230\u5982\u4e0b\u56fe\u6240\u793a\u7684\u767b\u5f55\u754c\u9762\u3002</p> <p></p> <p>\u767b\u5f55\u540e\u8fdb\u5165\u7ba1\u7406\u5458\u64cd\u4f5c\u5e73\u53f0\u3002</p> <p></p> <p>\u81f3\u6b64\u6211\u4eec\u8fd8\u6ca1\u6709\u770b\u5230\u4e4b\u524d\u521b\u5efa\u7684\u6a21\u578b\u7c7b\uff0c\u9700\u8981\u5728\u5e94\u7528\u7684admin.py\u6587\u4ef6\u4e2d\u6a21\u578b\u8fdb\u884c\u6ce8\u518c\u3002</p> <ol> <li>\u6ce8\u518c\u6a21\u578b\u7c7b\u3002</li> </ol> <pre><code>(venv)$ vim hrs/admin.py\n</code></pre> <pre><code>from django.contrib import admin\n\nfrom hrs.models import Emp, Dept\n\nadmin.site.register(Dept)\nadmin.site.register(Emp)\n</code></pre> <p>\u6ce8\u518c\u6a21\u578b\u7c7b\u540e\uff0c\u5c31\u53ef\u4ee5\u5728\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf\u4e2d\u770b\u5230\u5b83\u4eec\u3002</p> <p></p> <ol> <li>\u5bf9\u6a21\u578b\u8fdb\u884cCRUD\u64cd\u4f5c\u3002</li> </ol> <p>\u53ef\u4ee5\u5728\u7ba1\u7406\u5458\u5e73\u53f0\u5bf9\u6a21\u578b\u8fdb\u884cC\uff08\u65b0\u589e\uff09R\uff08\u67e5\u770b\uff09U\uff08\u66f4\u65b0\uff09D\uff08\u5220\u9664\uff09\u64cd\u4f5c\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p>\u6dfb\u52a0\u65b0\u7684\u90e8\u95e8\u3002</p> <p></p> <p>\u67e5\u770b\u6240\u6709\u90e8\u95e8\u3002</p> <p></p> <p>\u66f4\u65b0\u548c\u5220\u9664\u90e8\u95e8\u3002</p> <p></p> <ol> <li>\u6ce8\u518c\u6a21\u578b\u7ba1\u7406\u7c7b\u3002</li> </ol> <p>\u518d\u6b21\u4fee\u6539admin.py\u6587\u4ef6\uff0c\u901a\u8fc7\u6ce8\u518c\u6a21\u578b\u7ba1\u7406\u7c7b\uff0c\u53ef\u4ee5\u5728\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf\u4e2d\u66f4\u597d\u7684\u7ba1\u7406\u6a21\u578b\u3002</p> <pre><code>from django.contrib import admin\n\nfrom hrs.models import Emp, Dept\n\n\nclass DeptAdmin(admin.ModelAdmin):\n\n    list_display = ('no', 'name', 'location')\n    ordering = ('no', )\n\n\nclass EmpAdmin(admin.ModelAdmin):\n\n    list_display = ('no', 'name', 'job', 'mgr', 'sal', 'comm', 'dept')\n    search_fields = ('name', 'job')\n\n\nadmin.site.register(Dept, DeptAdmin)\nadmin.site.register(Emp, EmpAdmin)\n</code></pre> <p></p> <p></p> <p>\u4e3a\u4e86\u66f4\u597d\u7684\u67e5\u770b\u6a21\u578b\u6570\u636e\uff0c\u53ef\u4ee5\u4e3aDept\u548cEmp\u4e24\u4e2a\u6a21\u578b\u7c7b\u6dfb\u52a0<code>__str__</code>\u9b54\u6cd5\u65b9\u6cd5\u3002</p> <pre><code>from django.db import models\n\n\nclass Dept(models.Model):\n    \"\"\"\u90e8\u95e8\u7c7b\"\"\"\n\n    # \u6b64\u5904\u7701\u7565\u4e0a\u9762\u7684\u4ee3\u7801\n\n    def __str__(self):\n        return self.name\n\n    # \u6b64\u5904\u7701\u7565\u4e0b\u9762\u7684\u4ee3\u7801\n\n\nclass Emp(models.Model):\n    \"\"\"\u5458\u5de5\u7c7b\"\"\"\n\n    # \u6b64\u5904\u7701\u7565\u4e0a\u9762\u7684\u4ee3\u7801\n\n    mgr = models.ForeignKey('self', on_delete=models.SET_NULL, null=True, blank=True, verbose_name='\u76f4\u63a5\u4e3b\u7ba1')\n\n    # \u6b64\u5904\u7701\u7565\u4e0b\u9762\u7684\u4ee3\u7801\n\n    # \u6b64\u5904\u7701\u7565\u4e0a\u9762\u7684\u4ee3\u7801\n\n    def __str__(self):\n        return self.name\n\n    # \u6b64\u5904\u7701\u7565\u4e0b\u9762\u7684\u4ee3\u7801\n</code></pre> <p>\u4fee\u6539\u4ee3\u7801\u540e\u5237\u65b0\u67e5\u770bEmp\u6a21\u578b\u7684\u9875\u9762\uff0c\u6548\u679c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p>"},{"location":"python/Py-100Days/Day41-55/42.%E6%B7%B1%E5%85%A5%E6%A8%A1%E5%9E%8B/#ormcrud","title":"\u4f7f\u7528ORM\u5b8c\u6210\u6a21\u578b\u7684CRUD\u64cd\u4f5c","text":"<p>\u5728\u4e86\u89e3\u4e86Django\u63d0\u4f9b\u7684\u6a21\u578b\u7ba1\u7406\u5e73\u53f0\u4e4b\u540e\uff0c\u6211\u4eec\u6765\u770b\u770b\u5982\u4f55\u4ece\u4ee3\u7801\u5c42\u9762\u5b8c\u6210\u5bf9\u6a21\u578b\u7684CRUD\uff08Create / Read / Update / Delete\uff09\u64cd\u4f5c\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7manage.py\u5f00\u542fShell\u4ea4\u4e92\u5f0f\u73af\u5883\uff0c\u7136\u540e\u4f7f\u7528Django\u5185\u7f6e\u7684ORM\u6846\u67b6\u5bf9\u6a21\u578b\u8fdb\u884cCRUD\u64cd\u4f5c\u3002</p> <pre><code>(venv)$ python manage.py shell\nPython 3.6.4 (v3.6.4:d48ecebad5, Dec 18 2017, 21:07:28) \n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n(InteractiveConsole)\n&gt;&gt;&gt; \n</code></pre>"},{"location":"python/Py-100Days/Day41-55/42.%E6%B7%B1%E5%85%A5%E6%A8%A1%E5%9E%8B/#_3","title":"\u65b0\u589e","text":"<pre><code>&gt;&gt;&gt; from hrs.models import Dept, Emp\n&gt;&gt;&gt; dept = Dept(40, '\u7814\u53d12\u90e8', '\u6df1\u5733')\n&gt;&gt;&gt; dept.save()\n</code></pre>"},{"location":"python/Py-100Days/Day41-55/42.%E6%B7%B1%E5%85%A5%E6%A8%A1%E5%9E%8B/#_4","title":"\u66f4\u65b0","text":"<pre><code>&gt;&gt;&gt; dept.name = '\u7814\u53d13\u90e8'\n&gt;&gt;&gt; dept.save()\n</code></pre>"},{"location":"python/Py-100Days/Day41-55/42.%E6%B7%B1%E5%85%A5%E6%A8%A1%E5%9E%8B/#_5","title":"\u67e5\u8be2","text":"<p>\u67e5\u8be2\u6240\u6709\u5bf9\u8c61\u3002</p> <pre><code>&gt;&gt;&gt; Dept.objects.all()\n&lt;QuerySet [&lt;Dept: \u7814\u53d11\u90e8&gt;, &lt;Dept: \u9500\u552e1\u90e8&gt;, &lt;Dept: \u8fd0\u7ef41\u90e8&gt;, &lt;Dept: \u7814\u53d13\u90e8&gt;]&gt;\n</code></pre> <p>\u8fc7\u6ee4\u6570\u636e\u3002</p> <pre><code>&gt;&gt;&gt; Dept.objects.filter(name='\u7814\u53d13\u90e8') # \u67e5\u8be2\u90e8\u95e8\u540d\u79f0\u4e3a\u201c\u7814\u53d13\u90e8\u201d\u7684\u90e8\u95e8\n&lt;QuerySet [&lt;Dept: \u7814\u53d13\u90e8&gt;]&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Dept.objects.filter(name__contains='\u7814\u53d1') # \u67e5\u8be2\u90e8\u95e8\u540d\u79f0\u5305\u542b\u201c\u7814\u53d1\u201d\u7684\u90e8\u95e8(\u6a21\u7cca\u67e5\u8be2)\n&lt;QuerySet [&lt;Dept: \u7814\u53d11\u90e8&gt;, &lt;Dept: \u7814\u53d13\u90e8&gt;]&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Dept.objects.filter(no__gt=10).filter(no__lt=40) # \u67e5\u8be2\u90e8\u95e8\u7f16\u53f7\u5927\u4e8e10\u5c0f\u4e8e40\u7684\u90e8\u95e8\n&lt;QuerySet [&lt;Dept: \u9500\u552e1\u90e8&gt;, &lt;Dept: \u8fd0\u7ef41\u90e8&gt;]&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Dept.objects.filter(no__range=(10, 30)) # \u67e5\u8be2\u90e8\u95e8\u7f16\u53f7\u572810\u523030\u4e4b\u95f4\u7684\u90e8\u95e8\n&lt;QuerySet [&lt;Dept: \u7814\u53d11\u90e8&gt;, &lt;Dept: \u9500\u552e1\u90e8&gt;, &lt;Dept: \u8fd0\u7ef41\u90e8&gt;]&gt;\n</code></pre> <p>\u67e5\u8be2\u5355\u4e2a\u5bf9\u8c61\u3002</p> <pre><code>&gt;&gt;&gt; Dept.objects.get(pk=10)\n&lt;Dept: \u7814\u53d11\u90e8&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Dept.objects.get(no=20)\n&lt;Dept: \u9500\u552e1\u90e8&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Dept.objects.get(no__exact=30)\n&lt;Dept: \u8fd0\u7ef41\u90e8&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Dept.objects.filter(no=10).first()\n&lt;Dept: \u7814\u53d11\u90e8&gt;\n</code></pre> <p>\u6392\u5e8f\u6570\u636e\u3002</p> <pre><code>&gt;&gt;&gt; Dept.objects.order_by('no') # \u67e5\u8be2\u6240\u6709\u90e8\u95e8\u6309\u90e8\u95e8\u7f16\u53f7\u5347\u5e8f\u6392\u5217\n&lt;QuerySet [&lt;Dept: \u7814\u53d11\u90e8&gt;, &lt;Dept: \u9500\u552e1\u90e8&gt;, &lt;Dept: \u8fd0\u7ef41\u90e8&gt;, &lt;Dept: \u7814\u53d13\u90e8&gt;]&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Dept.objects.order_by('-no') # \u67e5\u8be2\u6240\u6709\u90e8\u95e8\u6309\u90e8\u95e8\u7f16\u53f7\u964d\u5e8f\u6392\u5217\n&lt;QuerySet [&lt;Dept: \u7814\u53d13\u90e8&gt;, &lt;Dept: \u8fd0\u7ef41\u90e8&gt;, &lt;Dept: \u9500\u552e1\u90e8&gt;, &lt;Dept: \u7814\u53d11\u90e8&gt;]&gt;\n</code></pre> <p>\u5207\u7247\u6570\u636e\u3002</p> <pre><code>&gt;&gt;&gt; Dept.objects.order_by('no')[0:2] # \u6309\u90e8\u95e8\u7f16\u53f7\u6392\u5e8f\u67e5\u8be21~2\u90e8\u95e8\n&lt;QuerySet [&lt;Dept: \u7814\u53d11\u90e8&gt;, &lt;Dept: \u9500\u552e1\u90e8&gt;]&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Dept.objects.order_by('no')[2:4] # \u6309\u90e8\u95e8\u7f16\u53f7\u6392\u5e8f\u67e5\u8be23~4\u90e8\u95e8\n&lt;QuerySet [&lt;Dept: \u8fd0\u7ef41\u90e8&gt;, &lt;Dept: \u7814\u53d13\u90e8&gt;]&gt;\n</code></pre> <p>\u9ad8\u7ea7\u67e5\u8be2\u3002</p> <pre><code>&gt;&gt;&gt; Emp.objects.filter(dept__no=10) # \u6839\u636e\u90e8\u95e8\u7f16\u53f7\u67e5\u8be2\u8be5\u90e8\u95e8\u7684\u5458\u5de5\n&lt;QuerySet [&lt;Emp: \u4e54\u5cf0&gt;, &lt;Emp: \u5f20\u65e0\u5fcc&gt;, &lt;Emp: \u5f20\u4e09\u4e30&gt;]&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Emp.objects.filter(dept__name__contains='\u9500\u552e') # \u67e5\u8be2\u540d\u5b57\u5305\u542b\u201c\u9500\u552e\u201d\u7684\u90e8\u95e8\u7684\u5458\u5de5\n&lt;QuerySet [&lt;Emp: \u9ec4\u84c9&gt;]&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; Dept.objects.get(pk=10).emp_set.all() # \u901a\u8fc7\u90e8\u95e8\u53cd\u67e5\u90e8\u95e8\u6240\u6709\u7684\u5458\u5de5\n&lt;QuerySet [&lt;Emp: \u4e54\u5cf0&gt;, &lt;Emp: \u5f20\u65e0\u5fcc&gt;, &lt;Emp: \u5f20\u4e09\u4e30&gt;]&gt;\n</code></pre> <p>\u8bf4\u660e1\uff1a\u7531\u4e8e\u5458\u5de5\u4e0e\u90e8\u95e8\u4e4b\u95f4\u5b58\u5728\u591a\u5bf9\u4e00\u5916\u952e\u5173\u8054\uff0c\u6240\u4ee5\u4e5f\u80fd\u901a\u8fc7\u90e8\u95e8\u53cd\u5411\u67e5\u8be2\u8be5\u90e8\u95e8\u7684\u5458\u5de5\uff08\u4ece\u4e00\u5bf9\u591a\u5173\u7cfb\u4e2d\u201c\u4e00\u201d\u7684\u4e00\u65b9\u67e5\u8be2\u201c\u591a\u201d\u7684\u4e00\u65b9\uff09\uff0c\u53cd\u5411\u67e5\u8be2\u5c5e\u6027\u9ed8\u8ba4\u7684\u540d\u5b57\u662f<code>\u7c7b\u540d\u5c0f\u5199_set</code>\uff08\u5982\u4e0a\u9762\u4f8b\u5b50\u4e2d\u7684<code>emp_set</code>\uff09\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u5728\u521b\u5efa\u6a21\u578b\u65f6\u901a\u8fc7<code>ForeingKey</code>\u7684<code>related_name</code>\u5c5e\u6027\u6307\u5b9a\u53cd\u5411\u67e5\u8be2\u5c5e\u6027\u7684\u540d\u5b57\u3002\u5982\u679c\u4e0d\u5e0c\u671b\u6267\u884c\u53cd\u5411\u67e5\u8be2\u53ef\u4ee5\u5c06<code>related_name</code>\u5c5e\u6027\u8bbe\u7f6e\u4e3a<code>'+'</code>\u6216\u4ee5<code>'+'</code>\u5f00\u5934\u7684\u5b57\u7b26\u4e32\u3002</p> <p>\u8bf4\u660e2\uff1a\u67e5\u8be2\u591a\u4e2a\u5bf9\u8c61\u7684\u65f6\u5019\u8fd4\u56de\u7684\u662fQuerySet\u5bf9\u8c61\uff0cQuerySet\u4f7f\u7528\u4e86\u60f0\u6027\u67e5\u8be2\uff0c\u5373\u5728\u521b\u5efaQuerySet\u5bf9\u8c61\u7684\u8fc7\u7a0b\u4e2d\u4e0d\u6d89\u53ca\u4efb\u4f55\u6570\u636e\u5e93\u6d3b\u52a8\uff0c\u7b49\u771f\u6b63\u7528\u5230\u5bf9\u8c61\u65f6\uff08\u6c42\u503cQuerySet\uff09\u624d\u5411\u6570\u636e\u5e93\u53d1\u9001SQL\u8bed\u53e5\u5e76\u83b7\u53d6\u5bf9\u5e94\u7684\u7ed3\u679c\uff0c\u8fd9\u4e00\u70b9\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\u9700\u8981\u5f15\u8d77\u6ce8\u610f\uff01</p> <p>\u8bf4\u660e3\uff1a\u53ef\u4ee5\u5728QuerySet\u4e0a\u4f7f\u7528<code>update()</code>\u65b9\u6cd5\u4e00\u6b21\u66f4\u65b0\u591a\u4e2a\u5bf9\u8c61\u3002</p>"},{"location":"python/Py-100Days/Day41-55/42.%E6%B7%B1%E5%85%A5%E6%A8%A1%E5%9E%8B/#_6","title":"\u5220\u9664","text":"<pre><code>&gt;&gt;&gt; Dept.objects.get(pk=40).delete()\n(1, {'hrs.Dept': 1})\n</code></pre>"},{"location":"python/Py-100Days/Day41-55/42.%E6%B7%B1%E5%85%A5%E6%A8%A1%E5%9E%8B/#django","title":"Django\u6a21\u578b\u6700\u4f73\u5b9e\u8df5","text":"<ol> <li>\u6b63\u786e\u7684\u4e3a\u6a21\u578b\u548c\u5173\u7cfb\u5b57\u6bb5\u547d\u540d\u3002</li> <li>\u8bbe\u7f6e\u9002\u5f53\u7684<code>related_name</code>\u5c5e\u6027\u3002</li> <li>\u7528<code>OneToOneField</code>\u4ee3\u66ff<code>ForeignKeyField(unique=True)</code>\u3002</li> <li>\u901a\u8fc7\u201c\u8fc1\u79fb\u64cd\u4f5c\u201d\uff08migrate\uff09\u6765\u6dfb\u52a0\u6a21\u578b\u3002</li> <li>\u7528NoSQL\u6765\u5e94\u5bf9\u9700\u8981\u964d\u4f4e\u8303\u5f0f\u7ea7\u522b\u7684\u573a\u666f\u3002</li> <li>\u5982\u679c\u5e03\u5c14\u7c7b\u578b\u53ef\u4ee5\u4e3a\u7a7a\u8981\u4f7f\u7528<code>NullBooleanField</code>\u3002</li> <li>\u5728\u6a21\u578b\u4e2d\u653e\u7f6e\u4e1a\u52a1\u903b\u8f91\u3002</li> <li>\u7528<code>&lt;ModelName&gt;.DoesNotExists</code>\u53d6\u4ee3<code>ObjectDoesNotExists</code>\u3002</li> <li>\u5728\u6570\u636e\u5e93\u4e2d\u4e0d\u8981\u51fa\u73b0\u65e0\u6548\u6570\u636e\u3002</li> <li>\u4e0d\u8981\u5bf9<code>QuerySet</code>\u8c03\u7528<code>len()</code>\u51fd\u6570\u3002</li> <li>\u5c06<code>QuerySet</code>\u7684<code>exists()</code>\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u7528\u4e8e<code>if</code>\u6761\u4ef6\u3002</li> <li>\u7528<code>DecimalField</code>\u6765\u5b58\u50a8\u8d27\u5e01\u76f8\u5173\u6570\u636e\u800c\u4e0d\u662f<code>FloatField</code>\u3002</li> <li>\u5b9a\u4e49<code>__str__</code>\u65b9\u6cd5\u3002</li> <li>\u4e0d\u8981\u5c06\u6570\u636e\u6587\u4ef6\u653e\u5728\u540c\u4e00\u4e2a\u76ee\u5f55\u4e2d\u3002</li> </ol> <p>\u8bf4\u660e\uff1a\u4ee5\u4e0a\u5185\u5bb9\u6765\u81ea\u4e8eSTEELKIWI\u7f51\u7ad9\u7684Best Practice working with Django models in Python\uff0c\u6709\u5174\u8da3\u7684\u5c0f\u4f19\u4f34\u53ef\u4ee5\u9605\u8bfb\u539f\u6587\u3002</p>"},{"location":"python/Py-100Days/Day41-55/42.%E6%B7%B1%E5%85%A5%E6%A8%A1%E5%9E%8B/#_7","title":"\u6a21\u578b\u5b9a\u4e49\u53c2\u8003","text":""},{"location":"python/Py-100Days/Day41-55/42.%E6%B7%B1%E5%85%A5%E6%A8%A1%E5%9E%8B/#_8","title":"\u5b57\u6bb5","text":"<p>\u5bf9\u5b57\u6bb5\u540d\u79f0\u7684\u9650\u5236</p> <ul> <li>\u5b57\u6bb5\u540d\u4e0d\u80fd\u662fPython\u7684\u4fdd\u7559\u5b57\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u8bed\u6cd5\u9519\u8bef</li> <li>\u5b57\u6bb5\u540d\u4e0d\u80fd\u6709\u591a\u4e2a\u8fde\u7eed\u4e0b\u5212\u7ebf\uff0c\u5426\u5219\u5f71\u54cdORM\u67e5\u8be2\u64cd\u4f5c</li> </ul> <p>Django\u6a21\u578b\u5b57\u6bb5\u7c7b</p> \u5b57\u6bb5\u7c7b \u8bf4\u660e AutoField \u81ea\u589eID\u5b57\u6bb5 BigIntegerField 64\u4f4d\u6709\u7b26\u53f7\u6574\u6570 BinaryField \u5b58\u50a8\u4e8c\u8fdb\u5236\u6570\u636e\u7684\u5b57\u6bb5\uff0c\u5bf9\u5e94Python\u7684bytes\u7c7b\u578b BooleanField \u5b58\u50a8True\u6216False CharField \u957f\u5ea6\u8f83\u5c0f\u7684\u5b57\u7b26\u4e32 DateField \u5b58\u50a8\u65e5\u671f\uff0c\u6709auto_now\u548cauto_now_add\u5c5e\u6027 DateTimeField \u5b58\u50a8\u65e5\u671f\u548c\u65e5\u671f\uff0c\u4e24\u4e2a\u9644\u52a0\u5c5e\u6027\u540c\u4e0a DecimalField \u5b58\u50a8\u56fa\u5b9a\u7cbe\u5ea6\u5c0f\u6570\uff0c\u6709max_digits\uff08\u6709\u6548\u4f4d\u6570\uff09\u548cdecimal_places\uff08\u5c0f\u6570\u70b9\u540e\u9762\uff09\u4e24\u4e2a\u5fc5\u8981\u7684\u53c2\u6570 DurationField \u5b58\u50a8\u65f6\u95f4\u8de8\u5ea6 EmailField \u4e0eCharField\u76f8\u540c\uff0c\u53ef\u4ee5\u7528EmailValidator\u9a8c\u8bc1 FileField \u6587\u4ef6\u4e0a\u4f20\u5b57\u6bb5 FloatField \u5b58\u50a8\u6d6e\u70b9\u6570 ImageField \u5176\u4ed6\u540cFileFiled\uff0c\u8981\u9a8c\u8bc1\u4e0a\u4f20\u7684\u662f\u4e0d\u662f\u6709\u6548\u56fe\u50cf IntegerField \u5b58\u50a832\u4f4d\u6709\u7b26\u53f7\u6574\u6570\u3002 GenericIPAddressField \u5b58\u50a8IPv4\u6216IPv6\u5730\u5740 NullBooleanField \u5b58\u50a8True\u3001False\u6216null\u503c PositiveIntegerField \u5b58\u50a8\u65e0\u7b26\u53f7\u6574\u6570\uff08\u53ea\u80fd\u5b58\u50a8\u6b63\u6570\uff09 SlugField \u5b58\u50a8slug\uff08\u7b80\u77ed\u6807\u6ce8\uff09 SmallIntegerField \u5b58\u50a816\u4f4d\u6709\u7b26\u53f7\u6574\u6570 TextField \u5b58\u50a8\u6570\u636e\u91cf\u8f83\u5927\u7684\u6587\u672c TimeField \u5b58\u50a8\u65f6\u95f4 URLField \u5b58\u50a8URL\u7684CharField UUIDField \u5b58\u50a8\u5168\u5c40\u552f\u4e00\u6807\u8bc6\u7b26"},{"location":"python/Py-100Days/Day41-55/42.%E6%B7%B1%E5%85%A5%E6%A8%A1%E5%9E%8B/#_9","title":"\u5b57\u6bb5\u5c5e\u6027","text":"<p>\u901a\u7528\u5b57\u6bb5\u5c5e\u6027</p> \u9009\u9879 \u8bf4\u660e null \u6570\u636e\u5e93\u4e2d\u5bf9\u5e94\u7684\u5b57\u6bb5\u662f\u5426\u5141\u8bb8\u4e3aNULL\uff0c\u9ed8\u8ba4\u4e3aFalse blank \u540e\u53f0\u6a21\u578b\u7ba1\u7406\u9a8c\u8bc1\u6570\u636e\u65f6\uff0c\u662f\u5426\u5141\u8bb8\u4e3aNULL\uff0c\u9ed8\u8ba4\u4e3aFalse choices \u8bbe\u5b9a\u5b57\u6bb5\u7684\u9009\u9879\uff0c\u5404\u5143\u7ec4\u4e2d\u7684\u7b2c\u4e00\u4e2a\u503c\u662f\u8bbe\u7f6e\u5728\u6a21\u578b\u4e0a\u7684\u503c\uff0c\u7b2c\u4e8c\u503c\u662f\u4eba\u7c7b\u53ef\u8bfb\u7684\u503c db_column \u5b57\u6bb5\u5bf9\u5e94\u5230\u6570\u636e\u5e93\u8868\u4e2d\u7684\u5217\u540d\uff0c\u672a\u6307\u5b9a\u65f6\u76f4\u63a5\u4f7f\u7528\u5b57\u6bb5\u7684\u540d\u79f0 db_index \u8bbe\u7f6e\u4e3aTrue\u65f6\u5c06\u5728\u8be5\u5b57\u6bb5\u521b\u5efa\u7d22\u5f15 db_tablespace \u4e3a\u6709\u7d22\u5f15\u7684\u5b57\u6bb5\u8bbe\u7f6e\u4f7f\u7528\u7684\u8868\u7a7a\u95f4\uff0c\u9ed8\u8ba4\u4e3aDEFAULT_INDEX_TABLESPACE default \u5b57\u6bb5\u7684\u9ed8\u8ba4\u503c editable \u5b57\u6bb5\u5728\u540e\u53f0\u6a21\u578b\u7ba1\u7406\u6216ModelForm\u4e2d\u662f\u5426\u663e\u793a\uff0c\u9ed8\u8ba4\u4e3aTrue error_messages \u8bbe\u5b9a\u5b57\u6bb5\u629b\u51fa\u5f02\u5e38\u65f6\u7684\u9ed8\u8ba4\u6d88\u606f\u7684\u5b57\u5178\uff0c\u5176\u4e2d\u7684\u952e\u5305\u62ecnull\u3001blank\u3001invalid\u3001invalid_choice\u3001unique\u548cunique_for_date help_text \u8868\u5355\u5c0f\u7ec4\u4ef6\u65c1\u8fb9\u663e\u793a\u7684\u989d\u5916\u7684\u5e2e\u52a9\u6587\u672c\u3002 primary_key \u5c06\u5b57\u6bb5\u6307\u5b9a\u4e3a\u6a21\u578b\u7684\u4e3b\u952e\uff0c\u672a\u6307\u5b9a\u65f6\u4f1a\u81ea\u52a8\u6dfb\u52a0AutoField\u7528\u4e8e\u4e3b\u952e\uff0c\u53ea\u8bfb\u3002 unique \u8bbe\u7f6e\u4e3aTrue\u65f6\uff0c\u8868\u4e2d\u5b57\u6bb5\u7684\u503c\u5fc5\u987b\u662f\u552f\u4e00\u7684 verbose_name \u5b57\u6bb5\u5728\u540e\u53f0\u6a21\u578b\u7ba1\u7406\u663e\u793a\u7684\u540d\u79f0\uff0c\u672a\u6307\u5b9a\u65f6\u4f7f\u7528\u5b57\u6bb5\u7684\u540d\u79f0 <p>ForeignKey\u5c5e\u6027</p> <ol> <li>limit_choices_to\uff1a\u503c\u662f\u4e00\u4e2aQ\u5bf9\u8c61\u6216\u8fd4\u56de\u4e00\u4e2aQ\u5bf9\u8c61\uff0c\u7528\u4e8e\u9650\u5236\u540e\u53f0\u663e\u793a\u54ea\u4e9b\u5bf9\u8c61\u3002</li> <li>related_name\uff1a\u7528\u4e8e\u83b7\u53d6\u5173\u8054\u5bf9\u8c61\u7684\u5173\u8054\u7ba1\u7406\u5668\u5bf9\u8c61\uff08\u53cd\u5411\u67e5\u8be2\uff09\uff0c\u5982\u679c\u4e0d\u5141\u8bb8\u53cd\u5411\uff0c\u8be5\u5c5e\u6027\u5e94\u8be5\u88ab\u8bbe\u7f6e\u4e3a<code>'+'</code>\uff0c\u6216\u8005\u4ee5<code>'+'</code>\u7ed3\u5c3e\u3002</li> <li>to_field\uff1a\u6307\u5b9a\u5173\u8054\u7684\u5b57\u6bb5\uff0c\u9ed8\u8ba4\u5173\u8054\u5bf9\u8c61\u7684\u4e3b\u952e\u5b57\u6bb5\u3002</li> <li>db_constraint\uff1a\u662f\u5426\u4e3a\u5916\u952e\u521b\u5efa\u7ea6\u675f\uff0c\u9ed8\u8ba4\u503c\u4e3aTrue\u3002</li> <li>on_delete\uff1a\u5916\u952e\u5173\u8054\u7684\u5bf9\u8c61\u88ab\u5220\u9664\u65f6\u5bf9\u5e94\u7684\u52a8\u4f5c\uff0c\u53ef\u53d6\u7684\u503c\u5305\u62ecdjango.db.models\u4e2d\u5b9a\u4e49\u7684\uff1a</li> <li>CASCADE\uff1a\u7ea7\u8054\u5220\u9664\u3002</li> <li>PROTECT\uff1a\u629b\u51faProtectedError\u5f02\u5e38\uff0c\u963b\u6b62\u5220\u9664\u5f15\u7528\u7684\u5bf9\u8c61\u3002</li> <li>SET_NULL\uff1a\u628a\u5916\u952e\u8bbe\u7f6e\u4e3anull\uff0c\u5f53null\u5c5e\u6027\u88ab\u8bbe\u7f6e\u4e3aTrue\u65f6\u624d\u80fd\u8fd9\u4e48\u505a\u3002</li> <li>SET_DEFAULT\uff1a\u628a\u5916\u952e\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u503c\uff0c\u63d0\u4f9b\u4e86\u9ed8\u8ba4\u503c\u624d\u80fd\u8fd9\u4e48\u505a\u3002</li> </ol> <p>ManyToManyField\u5c5e\u6027</p> <ol> <li>symmetrical\uff1a\u662f\u5426\u5efa\u7acb\u5bf9\u79f0\u7684\u591a\u5bf9\u591a\u5173\u7cfb\u3002</li> <li>through\uff1a\u6307\u5b9a\u7ef4\u6301\u591a\u5bf9\u591a\u5173\u7cfb\u7684\u4e2d\u95f4\u8868\u7684Django\u6a21\u578b\u3002</li> <li>throughfields\uff1a\u5b9a\u4e49\u4e86\u4e2d\u95f4\u6a21\u578b\u65f6\u53ef\u4ee5\u6307\u5b9a\u5efa\u7acb\u591a\u5bf9\u591a\u5173\u7cfb\u7684\u5b57\u6bb5\u3002</li> <li>db_table\uff1a\u6307\u5b9a\u7ef4\u6301\u591a\u5bf9\u591a\u5173\u7cfb\u7684\u4e2d\u95f4\u8868\u7684\u8868\u540d\u3002</li> </ol>"},{"location":"python/Py-100Days/Day41-55/42.%E6%B7%B1%E5%85%A5%E6%A8%A1%E5%9E%8B/#_10","title":"\u6a21\u578b\u5143\u6570\u636e\u9009\u9879","text":"\u9009\u9879 \u8bf4\u660e abstract \u8bbe\u7f6e\u4e3aTrue\u65f6\u6a21\u578b\u662f\u62bd\u8c61\u7236\u7c7b app_label \u5982\u679c\u5b9a\u4e49\u6a21\u578b\u7684\u5e94\u7528\u4e0d\u5728INSTALLED_APPS\u4e2d\u53ef\u4ee5\u7528\u8be5\u5c5e\u6027\u6307\u5b9a db_table \u6a21\u578b\u4f7f\u7528\u7684\u6570\u636e\u8868\u540d\u79f0 db_tablespace \u6a21\u578b\u4f7f\u7528\u7684\u6570\u636e\u8868\u7a7a\u95f4 default_related_name \u5173\u8054\u5bf9\u8c61\u56de\u6307\u8fd9\u4e2a\u6a21\u578b\u65f6\u9ed8\u8ba4\u4f7f\u7528\u7684\u540d\u79f0\uff0c\u9ed8\u8ba4\u4e3a_set get_latest_by \u6a21\u578b\u4e2d\u53ef\u6392\u5e8f\u5b57\u6bb5\u7684\u540d\u79f0\u3002 managed \u8bbe\u7f6e\u4e3aTrue\u65f6\uff0cDjango\u5728\u8fc1\u79fb\u4e2d\u521b\u5efa\u6570\u636e\u8868\u5e76\u5728\u6267\u884cflush\u7ba1\u7406\u547d\u4ee4\u65f6\u628a\u8868\u79fb\u9664 order_with_respect_to \u6807\u8bb0\u5bf9\u8c61\u4e3a\u53ef\u6392\u5e8f\u7684 ordering \u5bf9\u8c61\u7684\u9ed8\u8ba4\u6392\u5e8f permissions \u521b\u5efa\u5bf9\u8c61\u65f6\u5199\u5165\u6743\u9650\u8868\u7684\u989d\u5916\u6743\u9650 default_permissions \u9ed8\u8ba4\u4e3a<code>('add', 'change', 'delete')</code> unique_together \u8bbe\u5b9a\u7ec4\u5408\u5728\u4e00\u8d77\u65f6\u5fc5\u987b\u72ec\u4e00\u65e0\u4e8c\u7684\u5b57\u6bb5\u540d index_together \u8bbe\u5b9a\u4e00\u8d77\u5efa\u7acb\u7d22\u5f15\u7684\u591a\u4e2a\u5b57\u6bb5\u540d verbose_name \u4e3a\u5bf9\u8c61\u8bbe\u5b9a\u4eba\u7c7b\u53ef\u8bfb\u7684\u540d\u79f0 verbose_name_plural \u8bbe\u5b9a\u5bf9\u8c61\u7684\u590d\u6570\u540d\u79f0"},{"location":"python/Py-100Days/Day41-55/42.%E6%B7%B1%E5%85%A5%E6%A8%A1%E5%9E%8B/#_11","title":"\u67e5\u8be2\u53c2\u8003","text":"<p>\u6309\u5b57\u6bb5\u67e5\u627e\u53ef\u4ee5\u7528\u7684\u6761\u4ef6\uff1a</p> <ol> <li>exact / iexact\uff1a\u7cbe\u786e\u5339\u914d/\u5ffd\u7565\u5927\u5c0f\u5199\u7684\u7cbe\u786e\u5339\u914d\u67e5\u8be2</li> <li>contains / icontains / startswith / istartswith / endswith / iendswith\uff1a\u57fa\u4e8e<code>like</code>\u7684\u6a21\u7cca\u67e5\u8be2</li> <li>in\uff1a\u96c6\u5408\u8fd0\u7b97</li> <li>gt / gte / lt / lte\uff1a\u5927\u4e8e/\u5927\u4e8e\u7b49\u4e8e/\u5c0f\u4e8e/\u5c0f\u4e8e\u7b49\u4e8e\u5173\u7cfb\u8fd0\u7b97</li> <li>range\uff1a\u6307\u5b9a\u8303\u56f4\u67e5\u8be2\uff08SQL\u4e2d\u7684<code>between\u2026and\u2026</code>\uff09</li> <li>year / month / day / week_day / hour / minute / second\uff1a\u67e5\u8be2\u65f6\u95f4\u65e5\u671f</li> <li>isnull\uff1a\u67e5\u8be2\u7a7a\u503c\uff08True\uff09\u6216\u975e\u7a7a\u503c\uff08False\uff09</li> <li>search\uff1a\u57fa\u4e8e\u5168\u6587\u7d22\u5f15\u7684\u5168\u6587\u68c0\u7d22</li> <li>regex / iregex\uff1a\u57fa\u4e8e\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u6a21\u7cca\u5339\u914d\u67e5\u8be2</li> </ol> <p>Q\u5bf9\u8c61\uff08\u7528\u4e8e\u6267\u884c\u590d\u6742\u67e5\u8be2\uff09\u7684\u4f7f\u7528\uff1a</p> <pre><code>&gt;&gt;&gt; from django.db.models import Q\n&gt;&gt;&gt; Emp.objects.filter(\n...     Q(name__startswith='\u5f20'),\n...     Q(sal__gte=5000) | Q(comm__gte=1000)\n... ) # \u67e5\u8be2\u540d\u5b57\u4ee5\u201c\u5f20\u201d\u5f00\u5934\u4e14\u5de5\u8d44\u5927\u4e8e\u7b49\u4e8e5000\u6216\u8865\u8d34\u5927\u4e8e\u7b49\u4e8e1000\u7684\u5458\u5de5\n&lt;QuerySet [&lt;Emp: \u5f20\u4e09\u4e30&gt;]&gt;\n</code></pre>"},{"location":"python/Py-100Days/Day41-55/43.%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%92%8CAjax%E8%AF%B7%E6%B1%82/","title":"43.\u9759\u6001\u8d44\u6e90\u548cAjax\u8bf7\u6c42","text":""},{"location":"python/Py-100Days/Day41-55/43.%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%92%8CAjax%E8%AF%B7%E6%B1%82/#ajax","title":"\u9759\u6001\u8d44\u6e90\u548cAjax\u8bf7\u6c42","text":"<p>\u57fa\u4e8e\u524d\u9762\u4e24\u4e2a\u7ae0\u8282\u8bb2\u89e3\u7684\u77e5\u8bc6\uff0c\u6211\u4eec\u5df2\u7ecf\u53ef\u4ee5\u4f7f\u7528Django\u6846\u67b6\u6765\u5b9e\u73b0Web\u5e94\u7528\u7684\u5f00\u53d1\u4e86\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u5c1d\u8bd5\u5b9e\u73b0\u4e00\u4e2a\u6295\u7968\u5e94\u7528\uff0c\u5177\u4f53\u7684\u9700\u6c42\u662f\u7528\u6237\u8fdb\u5165\u5e94\u7528\u9996\u5148\u67e5\u770b\u5230\u201c\u5b66\u79d1\u4ecb\u7ecd\u201d\u9875\u9762\uff0c\u8be5\u9875\u9762\u663e\u793a\u4e86\u4e00\u4e2a\u5b66\u6821\u6240\u5f00\u8bbe\u7684\u6240\u6709\u5b66\u79d1\uff1b\u901a\u8fc7\u70b9\u51fb\u67d0\u4e2a\u5b66\u79d1\uff0c\u53ef\u4ee5\u8fdb\u5165\u201c\u8001\u5e08\u4ecb\u7ecd\u201d\u9875\u9762\uff0c\u8be5\u9875\u9762\u5c55\u793a\u4e86\u8be5\u5b66\u79d1\u6240\u6709\u8001\u5e08\u7684\u8be6\u7ec6\u60c5\u51b5\uff0c\u53ef\u4ee5\u5728\u8be5\u9875\u9762\u4e0a\u7ed9\u8001\u5e08\u70b9\u51fb\u201c\u597d\u8bc4\u201d\u6216\u201c\u5dee\u8bc4\u201d\uff0c\u4f46\u662f\u4f1a\u5148\u8df3\u8f6c\u5230\u201c\u767b\u5f55\u9875\u201d\u8981\u6c42\u7528\u6237\u767b\u5f55\uff0c\u767b\u5f55\u6210\u529f\u624d\u80fd\u6295\u7968\uff1b\u5bf9\u4e8e\u672a\u6ce8\u518c\u7684\u7528\u6237\uff0c\u53ef\u4ee5\u5728\u201c\u767b\u5f55\u9875\u201d\u70b9\u51fb\u201c\u65b0\u7528\u6237\u6ce8\u518c\u201d\u8fdb\u5165\u201c\u6ce8\u518c\u9875\u201d\u5b8c\u6210\u7528\u6237\u6ce8\u518c\uff0c\u6ce8\u518c\u6210\u529f\u540e\u4f1a\u8df3\u8f6c\u5230\u201c\u767b\u5f55\u9875\u201d\uff0c\u6ce8\u518c\u5931\u8d25\u4f1a\u83b7\u5f97\u76f8\u5e94\u7684\u63d0\u793a\u4fe1\u606f\u3002</p>"},{"location":"python/Py-100Days/Day41-55/43.%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%92%8CAjax%E8%AF%B7%E6%B1%82/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u7531\u4e8e\u4e4b\u524d\u5df2\u7ecf\u8be6\u7ec6\u7684\u8bb2\u89e3\u4e86\u5982\u4f55\u521b\u5efaDjango\u9879\u76ee\u4ee5\u53ca\u9879\u76ee\u7684\u76f8\u5173\u914d\u7f6e\uff0c\u56e0\u6b64\u6211\u4eec\u7565\u8fc7\u8fd9\u90e8\u5206\u5185\u5bb9\uff0c\u552f\u4e00\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u4ece\u4e0a\u9762\u5bf9\u6295\u7968\u5e94\u7528\u9700\u6c42\u7684\u63cf\u8ff0\u4e2d\u6211\u4eec\u53ef\u4ee5\u5206\u6790\u51fa\u4e09\u4e2a\u4e1a\u52a1\u5b9e\u4f53\uff1a\u5b66\u79d1\u3001\u8001\u5e08\u548c\u7528\u6237\u3002\u5b66\u79d1\u548c\u8001\u5e08\u4e4b\u95f4\u901a\u5e38\u662f\u4e00\u5bf9\u591a\u5173\u8054\u5173\u7cfb\uff08\u4e00\u4e2a\u5b66\u79d1\u6709\u591a\u4e2a\u8001\u5e08\uff0c\u4e00\u4e2a\u8001\u5e08\u901a\u5e38\u53ea\u5c5e\u4e8e\u4e00\u4e2a\u5b66\u79d1\uff09\uff0c\u7528\u6237\u56e0\u4e3a\u8981\u7ed9\u8001\u5e08\u6295\u7968\uff0c\u6240\u4ee5\u8ddf\u8001\u5e08\u4e4b\u95f4\u662f\u591a\u5bf9\u591a\u5173\u8054\u5173\u7cfb\uff08\u4e00\u4e2a\u7528\u6237\u53ef\u4ee5\u7ed9\u591a\u4e2a\u8001\u5e08\u6295\u7968\uff0c\u4e00\u4e2a\u8001\u5e08\u4e5f\u53ef\u4ee5\u6536\u5230\u591a\u4e2a\u7528\u6237\u7684\u6295\u7968\uff09\u3002\u9996\u5148\u4fee\u6539\u5e94\u7528\u4e0b\u7684models.py\u6587\u4ef6\u6765\u5b9a\u4e49\u6570\u636e\u6a21\u578b\uff0c\u5148\u7ed9\u51fa\u5b66\u79d1\u548c\u8001\u5e08\u7684\u6a21\u578b\u3002</p> <pre><code>from django.db import models\n\n\nclass Subject(models.Model):\n    \"\"\"\u5b66\u79d1\"\"\"\n    no = models.AutoField(primary_key=True, verbose_name='\u7f16\u53f7')\n    name = models.CharField(max_length=31, verbose_name='\u540d\u79f0')\n    intro = models.CharField(max_length=511, verbose_name='\u4ecb\u7ecd')\n\n    def __str__(self):\n        return self.name\n\n    class Meta:\n        db_table = 'tb_subject'\n        verbose_name_plural = '\u5b66\u79d1'\n\n\nclass Teacher(models.Model):\n    \"\"\"\u8001\u5e08\"\"\"\n    no = models.AutoField(primary_key=True, verbose_name='\u7f16\u53f7')\n    name = models.CharField(max_length=15, verbose_name='\u59d3\u540d')\n    gender = models.BooleanField(default=True, choices=((True, '\u7537'), (False, '\u5973')), verbose_name='\u6027\u522b')\n    birth = models.DateField(null=True, verbose_name='\u51fa\u751f\u65e5\u671f')\n    intro = models.CharField(max_length=511, default='', verbose_name='')\n    good_count = models.IntegerField(default=0, verbose_name='\u597d\u8bc4\u6570')\n    bad_count = models.IntegerField(default=0, verbose_name='\u5dee\u8bc4\u6570')\n    photo = models.CharField(max_length=255, verbose_name='\u7167\u7247')\n    subject = models.ForeignKey(to=Subject, on_delete=models.PROTECT, db_column='sno', verbose_name='\u6240\u5c5e\u5b66\u79d1')\n\n    def __str__(self):\n        return self.name\n\n    class Meta:\n        db_table = 'tb_teacher'\n        verbose_name_plural = '\u8001\u5e08'\n</code></pre> <p>\u6a21\u578b\u5b9a\u4e49\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u201c\u751f\u6210\u8fc1\u79fb\u201d\u548c\u201c\u6267\u884c\u8fc1\u79fb\u201d\u6765\u5b8c\u6210\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u4e8c\u7ef4\u8868\u7684\u521b\u5efa\uff0c\u5f53\u7136\u8fd9\u9700\u8981\u63d0\u524d\u542f\u52a8\u6570\u636e\u5e93\u670d\u52a1\u5668\u5e76\u521b\u5efa\u597d\u5bf9\u5e94\u7684\u6570\u636e\u5e93\uff0c\u540c\u65f6\u6211\u4eec\u5728\u9879\u76ee\u4e2d\u5df2\u7ecf\u5b89\u88c5\u4e86PyMySQL\u800c\u4e14\u5b8c\u6210\u4e86\u76f8\u5e94\u7684\u914d\u7f6e\uff0c\u8fd9\u4e9b\u5185\u5bb9\u6b64\u5904\u4e0d\u518d\u8d58\u8ff0\u3002</p> <pre><code>(venv)$ python manage.py makemigrations vote\n...\n(venv)$ python manage.py migrate\n...\n</code></pre> <p>\u6ce8\u610f\uff1a\u4e3a\u4e86\u7ed9vote\u5e94\u7528\u751f\u6210\u8fc1\u79fb\uff0c\u9700\u8981\u5148\u4fee\u6539Django\u9879\u76ee\u7684\u914d\u7f6e\u6587\u4ef6settings.py\uff0c\u5728INSTALLED_APPS\u4e2d\u6dfb\u52a0vote\u5e94\u7528\u3002</p> <p>\u5b8c\u6210\u6a21\u578b\u8fc1\u79fb\u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684SQL\u8bed\u53e5\u6765\u6dfb\u52a0\u5b66\u79d1\u548c\u8001\u5e08\u6d4b\u8bd5\u7684\u6570\u636e\u3002</p> <pre><code>INSERT INTO `tb_subject` (`no`,`name`,`intro`) \nVALUES \n(1, 'Python\u5168\u6808+\u4eba\u5de5\u667a\u80fd', 'Python\u662f\u4e00\u79cd\u9762\u5411\u5bf9\u8c61\u7684\u89e3\u91ca\u578b\u8ba1\u7b97\u673a\u7a0b\u5e8f\u8bbe\u8ba1\u8bed\u8a00\uff0c\u7531\u8377\u5170\u4ebaGuido van Rossum\u4e8e1989\u5e74\u53d1\u660e\uff0c\u7b2c\u4e00\u4e2a\u516c\u5f00\u53d1\u884c\u7248\u53d1\u884c\u4e8e1991\u5e74\u3002'),\n(2, 'JavaEE+\u5206\u5e03\u5f0f\u670d\u52a1', 'Java\u662f\u4e00\u95e8\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u8bed\u8a00\uff0c\u4e0d\u4ec5\u5438\u6536\u4e86C++\u8bed\u8a00\u7684\u5404\u79cd\u4f18\u70b9\uff0c\u8fd8\u6452\u5f03\u4e86C++\u91cc\u96be\u4ee5\u7406\u89e3\u7684\u591a\u7ee7\u627f\u3001\u6307\u9488\u7b49\u6982\u5ff5\uff0c\u56e0\u6b64Java\u8bed\u8a00\u5177\u6709\u529f\u80fd\u5f3a\u5927\u548c\u7b80\u5355\u6613\u7528\u4e24\u4e2a\u7279\u5f81\u3002'),\n(3, 'HTML5\u5927\u524d\u7aef', 'HTML5 \u5c06\u6210\u4e3a HTML\u3001XHTML \u4ee5\u53ca HTML DOM \u7684\u65b0\u6807\u51c6\u3002'),\n(4, '\u5168\u6808\u8f6f\u4ef6\u6d4b\u8bd5', '\u5728\u89c4\u5b9a\u7684\u6761\u4ef6\u4e0b\u5bf9\u7a0b\u5e8f\u8fdb\u884c\u64cd\u4f5c\uff0c\u4ee5\u53d1\u73b0\u7a0b\u5e8f\u9519\u8bef\uff0c\u8861\u91cf\u8f6f\u4ef6\u8d28\u91cf\uff0c\u5e76\u5bf9\u5176\u662f\u5426\u80fd\u6ee1\u8db3\u8bbe\u8ba1\u8981\u6c42\u8fdb\u884c\u8bc4\u4f30\u7684\u8fc7\u7a0b'),\n(5, '\u5168\u94fe\u8defUI/UE', '\u5168\u94fe\u8def\u8981\u6c42\u8bbe\u8ba1\u5e08\u5173\u6ce8\u6574\u4e2a\u4e1a\u52a1\u94fe\u4e2d\u7684\u6bcf\u4e00\u4e2a\u73af\u8282\uff0c\u5c06\u8bbe\u8ba1\u7684\u4ef7\u503c\u878d\u5165\u6bcf\u4e00\u4e2a\u548c\u7528\u6237\u7684\u63a5\u89e6\u70b9\u4e2d\uff0c\u8ba9\u6574\u4e2a\u4e1a\u52a1\u7684\u7528\u6237\u4f53\u9a8c\u8d28\u91cf\u5f97\u5230\u51e0\u4f55\u7ea7\u6570\u7684\u589e\u957f\u3002');\n\nINSERT INTO `tb_teacher` (`no`,`name`,`gender`,`birth`,`intro`,`good_count`,`bad_count`,`photo`,`sno`) \nVALUES \n(1, '\u9a86\u660a', 1, '1980-11-28', '10\u5e74\u4ee5\u4e0a\u8f6f\u786c\u4ef6\u4ea7\u54c1\u8bbe\u8ba1\u3001\u7814\u53d1\u3001\u67b6\u6784\u548c\u7ba1\u7406\u7ecf\u9a8c\uff0c2003\u5e74\u6bd5\u4e1a\u4e8e\u56db\u5ddd\u5927\u5b66\uff0c\u56db\u5ddd\u5927\u5b66Java\u6280\u672f\u4ff1\u4e50\u90e8\u521b\u59cb\u4eba\uff0c\u56db\u5ddd\u7701\u4f18\u79c0\u5927\u5b66\u6bd5\u4e1a\u751f\uff0c\u5728\u56db\u5ddd\u7701\u7f51\u7edc\u901a\u4fe1\u6280\u672f\u91cd\u70b9\u5b9e\u9a8c\u5ba4\u5de5\u4f5c\u671f\u95f4\uff0c\u53c2\u4e0e\u4e862\u9879\u56fd\u5bb6\u81ea\u7136\u79d1\u5b66\u57fa\u91d1\u9879\u76ee\u30011\u9879\u4e2d\u56fd\u79d1\u5b66\u9662\u4e2d\u957f\u671f\u7814\u7a76\u9879\u76ee\u548c\u591a\u9879\u56db\u5ddd\u7701\u79d1\u6280\u653b\u5173\u9879\u76ee\uff0c\u5728\u56fd\u9645\u4f1a\u8bae\u548c\u56fd\u5185\u9876\u7ea7\u671f\u520a\u4e0a\u53d1\u8868\u591a\u7bc7\u8bba\u6587\uff081\u7bc7\u88abSCI\u6536\u5f55\uff0c3\u7bc7\u88abEI\u6536\u5f55\uff09\uff0c\u5927\u89c4\u6a21\u7f51\u7edc\u6027\u80fd\u6d4b\u91cf\u7cfb\u7edfDMC-TS\u7684\u8bbe\u8ba1\u8005\u548c\u5f00\u53d1\u8005\uff0cperf-TTCN\u8bed\u8a00\u7684\u53d1\u660e\u8005\u3002\u56fd\u5185\u6700\u5927\u7a0b\u5e8f\u5458\u793e\u533aCSDN\u7684\u535a\u5ba2\u4e13\u5bb6\uff0c\u5728Github\u4e0a\u53c2\u4e0e\u548c\u7ef4\u62a4\u4e86\u591a\u4e2a\u9ad8\u8d28\u91cf\u5f00\u6e90\u9879\u76ee\uff0c\u7cbe\u901aC/C++\u3001Java\u3001Python\u3001R\u3001Swift\u3001JavaScript\u7b49\u7f16\u7a0b\u8bed\u8a00\uff0c\u64c5\u957fOOAD\u3001\u7cfb\u7edf\u67b6\u6784\u3001\u7b97\u6cd5\u8bbe\u8ba1\u3001\u534f\u8bae\u5206\u6790\u548c\u7f51\u7edc\u6d4b\u91cf\uff0c\u4e3b\u6301\u548c\u53c2\u4e0e\u8fc7\u7535\u5b50\u653f\u52a1\u7cfb\u7edf\u3001KPI\u8003\u6838\u7cfb\u7edf\u3001P2P\u501f\u8d37\u5e73\u53f0\u7b49\u4ea7\u54c1\u7684\u7814\u53d1\uff0c\u4e00\u76f4\u8df5\u884c\u201c\u7528\u77e5\u8bc6\u521b\u9020\u5feb\u4e50\u201d\u7684\u6559\u5b66\u7406\u5ff5\uff0c\u5584\u4e8e\u603b\u7ed3\uff0c\u4e50\u4e8e\u5206\u4eab\u3002', 0, 0, 'images/luohao.png', 1),\n(2, '\u738b\u6d77\u98de', 1, '1993-05-24', '5\u5e74\u4ee5\u4e0aPython\u5f00\u53d1\u7ecf\u9a8c\uff0c\u5148\u540e\u53c2\u4e0e\u4e86O2O\u5546\u57ce\u3001CRM\u7cfb\u7edf\u3001CMS\u5e73\u53f0\u3001ERP\u7cfb\u7edf\u7b49\u9879\u76ee\u7684\u8bbe\u8ba1\u4e0e\u7814\u53d1\uff0c\u66fe\u5728\u5168\u56fd\u6700\u5927\u6700\u4e13\u4e1a\u7684\u6c7d\u8f66\u9886\u57df\u76f8\u5173\u670d\u52a1\u7f51\u7ad9\u62c5\u4efbPython\u9ad8\u7ea7\u7814\u53d1\u5de5\u7a0b\u5e08\u3001\u9879\u76ee\u7ecf\u7406\u7b49\u804c\u52a1\uff0c\u64c5\u957f\u57fa\u4e8ePython\u3001Java\u3001PHP\u7b49\u5f00\u53d1\u8bed\u8a00\u7684\u4f01\u4e1a\u7ea7\u5e94\u7528\u5f00\u53d1\uff0c\u5168\u7a0b\u53c2\u4e0e\u4e86\u591a\u4e2a\u4f01\u4e1a\u7ea7\u5e94\u7528\u4ece\u9700\u6c42\u5230\u4e0a\u7ebf\u6240\u6d89\u53ca\u7684\u5404\u79cd\u5de5\u4f5c\uff0c\u7cbe\u901aDjango\u3001Flask\u7b49\u6846\u67b6\uff0c\u719f\u6089\u57fa\u4e8e\u5fae\u670d\u52a1\u7684\u4f01\u4e1a\u7ea7\u9879\u76ee\u5f00\u53d1\uff0c\u62e5\u6709\u4e30\u5bcc\u7684\u9879\u76ee\u5b9e\u6218\u7ecf\u9a8c\u3002\u5584\u4e8e\u7528\u6d45\u663e\u6613\u61c2\u7684\u65b9\u5f0f\u5728\u8bfe\u5802\u4e0a\u4f20\u6388\u77e5\u8bc6\u70b9\uff0c\u5728\u6388\u8bfe\u8fc7\u7a0b\u4e2d\u7ecf\u5e38\u7a7f\u63d2\u4f01\u4e1a\u5f00\u53d1\u7684\u5b9e\u9645\u6848\u4f8b\u5e76\u5206\u6790\u5176\u4e2d\u7684\u91cd\u70b9\u548c\u96be\u70b9\uff0c\u901a\u8fc7\u8fd9\u79cd\u4e92\u52a8\u6027\u6781\u5f3a\u7684\u6559\u5b66\u6a21\u5f0f\u5e2e\u52a9\u5b66\u5458\u627e\u5230\u89e3\u51b3\u95ee\u9898\u7684\u529e\u6cd5\u5e76\u63d0\u5347\u5b66\u5458\u7684\u7efc\u5408\u7d20\u8d28\u3002', 0, 0, 'images/wangdachui.png', 1),\n(3, '\u4f59\u5a77', 0, '1992-03-12', '5\u5e74\u4ee5\u4e0a\u79fb\u52a8\u4e92\u8054\u7f51\u9879\u76ee\u5f00\u53d1\u7ecf\u9a8c\u548c\u6559\u5b66\u7ecf\u9a8c\uff0c\u66fe\u62c5\u4efb\u4e0a\u5e02\u6e38\u620f\u516c\u53f8\u9ad8\u7ea7\u8f6f\u4ef6\u7814\u53d1\u5de5\u7a0b\u5e08\u548c\u79fb\u52a8\u7aef\uff08iOS\uff09\u6280\u672f\u8d1f\u8d23\u4eba\uff0c\u53c2\u4e86\u591a\u4e2a\u4f01\u4e1a\u7ea7\u5e94\u7528\u548c\u6e38\u620f\u7c7b\u5e94\u7528\u7684\u79fb\u52a8\u7aef\u5f00\u53d1\u548c\u540e\u53f0\u670d\u52a1\u5668\u5f00\u53d1\uff0c\u62e5\u6709\u4e30\u5bcc\u7684\u5f00\u53d1\u7ecf\u9a8c\u548c\u9879\u76ee\u7ba1\u7406\u7ecf\u9a8c\uff0c\u4ee5\u4e2a\u4eba\u5f00\u53d1\u8005\u548c\u534f\u4f5c\u5f00\u53d1\u8005\u7684\u8eab\u4efd\u5728\u82f9\u679c\u7684AppStore\u4e0a\u53d1\u5e03\u8fc7\u591a\u6b3eApp\u3002\u7cbe\u901aPython\u3001C\u3001Objective-C\u3001Swift\u7b49\u5f00\u53d1\u8bed\u8a00\uff0c\u719f\u6089iOS\u539f\u751fApp\u5f00\u53d1\u3001RESTful\u63a5\u53e3\u8bbe\u8ba1\u4ee5\u53ca\u57fa\u4e8eCocos2d-x\u7684\u6e38\u620f\u5f00\u53d1\u3002\u6388\u8bfe\u6761\u7406\u6e05\u6670\u3001\u7ec6\u81f4\u5165\u5fae\uff0c\u6027\u683c\u6d3b\u6cfc\u5f00\u6717\u3001\u6709\u8f83\u5f3a\u7684\u4eb2\u548c\u529b\uff0c\u6559\u5b66\u8fc7\u7a0b\u6ce8\u91cd\u7406\u8bba\u548c\u5b9e\u8df5\u7684\u7ed3\u5408\uff0c\u5728\u5b66\u5458\u4e2d\u6709\u826f\u597d\u7684\u53e3\u7891\u3002', 0, 0, 'images/yuting.png', 1),\n(4, '\u8096\u4e16\u8363', 1, '1977-07-02', '10\u5e74\u4ee5\u4e0a\u4e92\u8054\u7f51\u548c\u79fb\u52a8\u4e92\u8054\u7f51\u4ea7\u54c1\u8bbe\u8ba1\u3001\u7814\u53d1\u3001\u6280\u672f\u67b6\u6784\u548c\u9879\u76ee\u7ba1\u7406\u7ecf\u9a8c\uff0c\u66fe\u5728\u4e2d\u56fd\u79fb\u52a8\u3001symbio\u3001ajinga.com\u3001\u4e07\u8fbe\u4fe1\u606f\u7b49\u516c\u53f8\u62c5\u4efb\u67b6\u6784\u5e08\u3001\u9879\u76ee\u7ecf\u7406\u3001\u6280\u672f\u603b\u76d1\u7b49\u804c\u52a1\uff0c\u957f\u671f\u4e3a\u82f9\u679c\u3001\u4fdd\u65f6\u6377\u3001\u8010\u514b\u3001\u6c83\u5c14\u739b\u7b49\u56fd\u9645\u5ba2\u6237\u4ee5\u53ca\u56fd\u5185\u7684\u653f\u5e9c\u673a\u6784\u63d0\u4f9b\u4fe1\u606f\u5316\u670d\u52a1\uff0c\u4e3b\u5bfc\u7684\u9879\u76ee\u66fe\u83b7\u5f97\u201c\u4e16\u754c\u79d1\u6280\u5148\u950b\u201d\u79f0\u53f7\uff0c\u4e2a\u4eba\u4f5c\u54c1\u201c\u8bb8\u613f\u5427\u201d\u66fe\u5728\u817e\u8baf\u5e94\u7528\u5e02\u573a\u751f\u6d3b\u7c7bApp\u6392\u540d\u524d3\uff0c\u62e5\u6709\u767e\u4e07\u7ea7\u7528\u6237\u7fa4\u4f53\uff0c\u8fd0\u8425\u7684\u516c\u4f17\u53f7\u201c\u5375\u77f3\u574a\u201d\u662f\u56fd\u5185\u77e5\u540d\u7684\u667a\u80fd\u7a7f\u6234\u8bbe\u5907\u5e73\u53f0\u3002\u7cbe\u901aPython\u3001C++\u3001Java\u3001Ruby\u3001JavaScript\u7b49\u5f00\u53d1\u8bed\u8a00\uff0c\u4e3b\u5bfc\u548c\u53c2\u4e0e\u4e8620\u591a\u4e2a\u4f01\u4e1a\u7ea7\u9879\u76ee\uff08\u542b\u56fd\u5bb6\u7ea7\u91cd\u5927\u9879\u76ee\u548c\u4e92\u8054\u7f51\u521b\u65b0\u9879\u76ee\uff09\uff0c\u6d89\u53ca\u7684\u9886\u57df\u5305\u62ec\u653f\u52a1\u3001\u793e\u4ea4\u3001\u7535\u4fe1\u3001\u536b\u751f\u548c\u91d1\u878d\uff0c\u6709\u6781\u4e3a\u4e30\u5bcc\u7684\u9879\u76ee\u5b9e\u6218\u7ecf\u9a8c\u3002\u6388\u8bfe\u6df1\u5165\u6d45\u51fa\u3001\u6761\u7406\u6e05\u6670\uff0c\u5584\u4e8e\u8c03\u52a8\u5b66\u5458\u7684\u5b66\u4e60\u70ed\u60c5\u5e76\u5e2e\u52a9\u5b66\u5458\u7406\u6e05\u601d\u8def\u548c\u65b9\u6cd5\u3002', 0, 0, 'images/xiaoshirong.png', 1),\n(5, '\u5f20\u65e0\u5fcc', 1, '1987-07-07', '\u51fa\u751f\u8d77\u4fbf\u5728\u51b0\u706b\u5c9b\u8fc7\u7740\u539f\u59cb\u751f\u6d3b\uff0c\u8e0f\u5165\u4e2d\u571f\u540e\u56e0\u4e2d\u7384\u51a5\u795e\u638c\u547d\u5371\u800c\u5e26\u75c5\u4e60\u533b\uff0c\u5fcd\u53d7\u5bd2\u6bd2\u714e\u71ac\u4e03\u5e74\u6700\u540e\u56e0\u798f\u7f18\u9645\u4f1a\u7ec3\u6210\u201c\u4e5d\u9633\u795e\u529f\u201d\u66f4\u5728\u4e4b\u540e\u53c8\u7ec3\u6210\u4e86\u201c\u4e7e\u5764\u5927\u632a\u79fb\u201d\u7b49\u76d6\u4e16\u6b66\u529f\uff0c\u51e0\u4e4e\u65e0\u654c\u4e8e\u5929\u4e0b\u3002 \u751f\u6027\u968f\u548c\uff0c\u5b85\u5fc3\u4ec1\u539a\uff0c\u7cbe\u901a\u533b\u672f\u548c\u836f\u7406\u300220\u5c81\u65f6\u4fbf\u51ed\u7740\u76d6\u4e16\u795e\u529f\u5f53\u4e0a\u660e\u6559\u6559\u4e3b\uff0c\u7387\u9886\u767e\u4e07\u6559\u4f17\u53ca\u6b66\u6797\u7fa4\u96c4\u53cd\u6297\u8499\u53e4\u653f\u6743\u5143\u671d\u7684\u9ad8\u538b\u7edf\u6cbb\uff0c\u6700\u540e\u63a8\u7ffb\u4e86\u5143\u671d\u3002\u7531\u4e8e\u64c5\u957f\u4e7e\u5764\u5927\u632a\u79fb\u795e\u529f\uff0c\u4e0a\u8bfe\u9047\u5230\u95ee\u9898\u5c31\u8f6c\u79fb\u8bdd\u9898\uff0c\u5c5e\u4e8e\u62c9\u4e0d\u51fa\u5c4e\u602a\u5730\u7403\u6ca1\u6709\u5f15\u529b\u7684\u7c7b\u578b\u3002', 0, 0, 'images/zhangwuji.png', 5),\n(6, '\u97e6\u4e00\u7b11', 1, '1975-12-15', '\u5916\u53f7\u201c\u9752\u7ffc\u8760\u738b\u201d\uff0c\u4e3a\u660e\u6559\u56db\u5927\u62a4\u6559\u6cd5\u738b\u4e4b\u4e00\u3002  \u8eab\u62ab\u9752\u6761\u5b50\u767d\u8272\u957f\u888d\uff0c\u8f7b\u529f\u5341\u5206\u4e86\u5f97\u3002\u7531\u4e8e\u5728\u4fee\u70bc\u81f3\u9634\u81f3\u5bd2\u7684\u201c\u5bd2\u51b0\u7ef5\u638c\u201d\u65f6\u51fa\u4e86\u5dee\u9519\uff0c\u7ecf\u8109\u4e2d\u90c1\u79ef\u4e86\u81f3\u5bd2\u9634\u6bd2\uff0c\u53ea\u8981\u8fd0\u4e0a\u5185\u529b\uff0c\u5bd2\u6bd2\u5c31\u4f1a\u53d1\u4f5c\uff0c\u5982\u679c\u4e0d\u5438\u4eba\u8840\u89e3\u6bd2\uff0c\u5168\u8eab\u8840\u8109\u5c31\u4f1a\u51dd\u7ed3\u6210\u51b0\uff0c\u540e\u5f97\u5f20\u65e0\u5fcc\u76f8\u52a9\uff0c\u4ee5\u5176\u9ad8\u660e\u533b\u672f\u914d\u4ee5\u201c\u4e5d\u9633\u795e\u529f\u201d\uff0c\u7ec8\u5c06\u5bd2\u6bd2\u9a71\u53bb\uff0c\u6446\u8131\u4e86\u5438\u542e\u4eba\u8840\u8fd9\u4e00\u547d\u8fd0\u3002\u7531\u4e8e\u8f7b\u529f\u7edd\u9876\uff0c\u5b66\u751f\u4e00\u95ee\u95ee\u9898\u5c31\u8dd1\u4e86\u3002', 0, 0, 'images/weiyixiao.png', 3);\n</code></pre> <p>\u5f53\u7136\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528Django\u63d0\u4f9b\u7684\u540e\u53f0\u7ba1\u7406\u5e94\u7528\u6765\u6dfb\u52a0\u5b66\u79d1\u548c\u8001\u5e08\u4fe1\u606f\uff0c\u8fd9\u9700\u8981\u5148\u6ce8\u518c\u6a21\u578b\u7c7b\u548c\u6a21\u578b\u7ba1\u7406\u7c7b\u3002</p> <pre><code>from django.contrib import admin\nfrom django.contrib.admin import ModelAdmin\n\nfrom vote.models import Teacher, Subject\n\n\nclass SubjectModelAdmin(ModelAdmin):\n    \"\"\"\u5b66\u79d1\u6a21\u578b\u7ba1\u7406\"\"\"\n    list_display = ('no', 'name')\n    ordering = ('no', )\n\n\nclass TeacherModelAdmin(ModelAdmin):\n    \"\"\"\u8001\u5e08\u6a21\u578b\u7ba1\u7406\"\"\"\n    list_display = ('no', 'name', 'gender', 'birth', 'good_count', 'bad_count', 'subject')\n    ordering = ('no', )\n    search_fields = ('name', )\n\n\nadmin.site.register(Subject, SubjectModelAdmin)\nadmin.site.register(Teacher, TeacherModelAdmin)\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4fee\u6539views.py\u6587\u4ef6\uff0c\u901a\u8fc7\u7f16\u5199\u89c6\u56fe\u51fd\u6570\u5148\u5b9e\u73b0\u201c\u5b66\u79d1\u4ecb\u7ecd\u201d\u9875\u9762\u3002</p> <pre><code>def show_subjects(request):\n    \"\"\"\u67e5\u770b\u6240\u6709\u5b66\u79d1\"\"\"\n    subjects = Subject.objects.all()\n    return render(request, 'subject.html', {'subjects': subjects})\n</code></pre> <p>\u81f3\u6b64\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u4e00\u4e2a\u6a21\u677f\u9875\uff0c\u6a21\u677f\u7684\u914d\u7f6e\u4ee5\u53ca\u6a21\u677f\u9875\u4e2d\u6a21\u677f\u8bed\u8a00\u7684\u7528\u6cd5\u5728\u4e4b\u524d\u5df2\u7ecf\u8fdb\u884c\u8fc7\u7b80\u8981\u7684\u4ecb\u7ecd\uff0c\u5982\u679c\u4e0d\u719f\u6089\u53ef\u4ee5\u770b\u770b\u4e0b\u9762\u7684\u4ee3\u7801\uff0c\u76f8\u4fe1\u8fd9\u5e76\u4e0d\u662f\u4e00\u4ef6\u56f0\u96be\u7684\u4e8b\u60c5\u3002</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;\u5b66\u79d1\u4fe1\u606f&lt;/title&gt;\n    &lt;style&gt;/* \u6b64\u5904\u7565\u53bb\u4e86\u5c42\u53e0\u6837\u5f0f\u8868\u7684\u9009\u62e9\u5668 */&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;\u5343\u950b\u4e92\u8054\u6240\u6709\u5b66\u79d1\u4fe1\u606f&lt;/h1&gt;\n    &lt;hr&gt;\n    &lt;div id=\"container\"&gt;\n        {% for subject in subjects %}\n        &lt;dl&gt;\n            &lt;dt&gt;\n                &lt;a href=\"/teachers?sno={{ subject.no }}\"&gt;\n                    {{ subject.name }}\n                &lt;/a&gt;\n            &lt;/dt&gt;\n            &lt;dd&gt;{{ subject.intro }}&lt;/dd&gt;\n        &lt;/dl&gt;\n        {% endfor %}\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u6a21\u677f\u4e2d\uff0c\u6211\u4eec\u4e3a\u6bcf\u4e2a\u5b66\u79d1\u6dfb\u52a0\u4e86\u4e00\u4e2a\u8d85\u94fe\u63a5\uff0c\u70b9\u51fb\u8d85\u94fe\u63a5\u53ef\u4ee5\u67e5\u770b\u8be5\u5b66\u79d1\u7684\u8bb2\u5e08\u4fe1\u606f\uff0c\u4e3a\u6b64\u9700\u8981\u518d\u7f16\u5199\u4e00\u4e2a\u89c6\u56fe\u51fd\u6570\u6765\u5904\u7406\u67e5\u770b\u6307\u5b9a\u5b66\u79d1\u8001\u5e08\u4fe1\u606f\u3002</p> <pre><code>def show_teachers(request):\n    \"\"\"\u67e5\u770b\u6307\u5b9a\u5b66\u79d1\u7684\u8001\u5e08\"\"\"\n    try:\n        sno = int(request.GET['sno'])\n        subject = Subject.objects.get(no=sno)\n        teachers = Teacher.objects.filter(subject__no=sno)\n        context = {'subject': subject, 'teachers': teachers}\n        return render(request, 'teacher.html', context)\n    except (KeyError, ValueError, Subject.DoesNotExist):\n        return redirect('/')\n</code></pre> <p>\u663e\u793a\u8001\u5e08\u4fe1\u606f\u7684\u6a21\u677f\u9875\u3002</p> <pre><code>&lt;!DOCTYPE html&gt;\n{% load static %}\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;\u8001\u5e08\u4fe1\u606f&lt;/title&gt;\n    &lt;style&gt;/* \u6b64\u5904\u7565\u53bb\u4e86\u5c42\u53e0\u6837\u5f0f\u8868\u7684\u9009\u62e9\u5668 */&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;{{ subject.name }}\u5b66\u79d1\u8001\u5e08\u4fe1\u606f&lt;/h1&gt;\n    &lt;hr&gt;\n    {% if teachers %}\n    &lt;div id=\"container\"&gt;\n        {% for teacher in teachers %}\n        &lt;div class=\"teacher\"&gt;\n            &lt;div class=\"photo\"&gt;\n                &lt;img src=\"{% static teacher.photo %}\" height=\"140\" alt=\"\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"info\"&gt;\n                &lt;div&gt;\n                    &lt;span&gt;&lt;strong&gt;\u59d3\u540d\uff1a{{ teacher.name }}&lt;/strong&gt;&lt;/span&gt;\n                    &lt;span&gt;\u6027\u522b\uff1a{{ teacher.gender | yesno:'\u7537,\u5973' }}&lt;/span&gt;\n                    &lt;span&gt;\u51fa\u751f\u65e5\u671f\uff1a{{ teacher.birth }}&lt;/span&gt;\n                &lt;/div&gt;\n                &lt;div class=\"intro\"&gt;{{ teacher.intro }}&lt;/div&gt;\n                &lt;div class=\"comment\"&gt;\n                    &lt;a href=\"\"&gt;\u597d\u8bc4\uff08{{ teacher.good_count }}\uff09&lt;/a&gt;\n                    &lt;a href=\"\"&gt;\u5dee\u8bc4\uff08{{ teacher.bad_count }}\uff09&lt;/a&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        {% endfor %}\n    &lt;/div&gt;\n    {% else %}\n    &lt;h2&gt;\u6682\u65f6\u6ca1\u6709\u8be5\u5b66\u79d1\u7684\u8001\u5e08\u4fe1\u606f&lt;/h2&gt;\n    {% endif %}\n    &lt;div class=\"back\"&gt;\n        &lt;a href=\"/\"&gt;&amp;lt;&amp;lt;&amp;nbsp;\u8fd4\u56de\u5b66\u79d1&lt;/a&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"python/Py-100Days/Day41-55/43.%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%92%8CAjax%E8%AF%B7%E6%B1%82/#_2","title":"\u52a0\u8f7d\u9759\u6001\u8d44\u6e90","text":"<p>\u5728\u4e0a\u9762\u7684\u6a21\u677f\u9875\u9762\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86<code>&lt;img&gt;</code>\u6807\u7b7e\u6765\u52a0\u8f7d\u8001\u5e08\u7684\u7167\u7247\uff0c\u5176\u4e2d\u4f7f\u7528\u4e86\u5f15\u7528\u9759\u6001\u8d44\u6e90\u7684\u6a21\u677f\u6307\u4ee4<code>{% static %}</code>\uff0c\u8981\u4f7f\u7528\u8be5\u6307\u4ee4\uff0c\u9996\u5148\u8981\u4f7f\u7528<code>{% load static %}</code>\u6307\u4ee4\u6765\u52a0\u8f7d\u9759\u6001\u8d44\u6e90\uff0c\u6211\u4eec\u5c06\u8fd9\u6bb5\u4ee3\u7801\u653e\u5728\u4e86\u9875\u7801\u5f00\u59cb\u7684\u4f4d\u7f6e\u3002\u5728\u4e0a\u9762\u7684\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u5c06\u9759\u6001\u8d44\u6e90\u7f6e\u4e8e\u540d\u4e3astatic\u7684\u6587\u4ef6\u5939\u4e2d\uff0c\u5728\u8be5\u6587\u4ef6\u5939\u4e0b\u53c8\u521b\u5efa\u4e86\u4e09\u4e2a\u6587\u4ef6\u5939\uff1acss\u3001js\u548cimages\uff0c\u5206\u522b\u7528\u6765\u4fdd\u5b58\u5916\u90e8\u5c42\u53e0\u6837\u5f0f\u8868\u3001\u5916\u90e8JavaScript\u6587\u4ef6\u548c\u56fe\u7247\u8d44\u6e90\u3002\u4e3a\u4e86\u80fd\u591f\u627e\u5230\u4fdd\u5b58\u9759\u6001\u8d44\u6e90\u7684\u6587\u4ef6\u5939\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u4fee\u6539Django\u9879\u76ee\u7684\u914d\u7f6e\u6587\u4ef6settings.py\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code># \u6b64\u5904\u7701\u7565\u4e0a\u9762\u7684\u4ee3\u7801\n\nSTATICFILES_DIRS = [os.path.join(BASE_DIR, 'static'), ]\nSTATIC_URL = '/static/'\n\n# \u6b64\u5904\u7701\u7565\u4e0b\u9762\u7684\u4ee3\u7801\n</code></pre> <p>\u63a5\u4e0b\u6765\u4fee\u6539urls.py\u6587\u4ef6\uff0c\u914d\u7f6e\u7528\u6237\u8bf7\u6c42\u7684URL\u548c\u89c6\u56fe\u51fd\u6570\u7684\u5bf9\u5e94\u5173\u7cfb\u3002</p> <pre><code>from django.contrib import admin\nfrom django.urls import path\n\nfrom vote import views\n\nurlpatterns = [\n    path('', views.show_subjects),\n    path('teachers/', views.show_teachers),\n    path('admin/', admin.site.urls),\n]\n</code></pre> <p>\u542f\u52a8\u670d\u52a1\u5668\u8fd0\u884c\u9879\u76ee\uff0c\u8fdb\u5165\u9996\u9875\u67e5\u770b\u5b66\u79d1\u4fe1\u606f\u3002</p> <p></p> <p>\u70b9\u51fb\u5b66\u79d1\u67e5\u770b\u8001\u5e08\u4fe1\u606f\u3002</p> <p></p>"},{"location":"python/Py-100Days/Day41-55/43.%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%92%8CAjax%E8%AF%B7%E6%B1%82/#ajax_1","title":"Ajax\u8bf7\u6c42","text":"<p>\u63a5\u4e0b\u6765\u5c31\u53ef\u4ee5\u5b9e\u73b0\u201c\u597d\u8bc4\u201d\u548c\u201c\u5dee\u8bc4\u201d\u7684\u529f\u80fd\u4e86\uff0c\u5f88\u660e\u663e\u5982\u679c\u80fd\u591f\u5728\u4e0d\u5237\u65b0\u9875\u9762\u7684\u60c5\u51b5\u4e0b\u5b9e\u73b0\u8fd9\u4e24\u4e2a\u529f\u80fd\u4f1a\u5e26\u6765\u66f4\u597d\u7684\u7528\u6237\u4f53\u9a8c\uff0c\u56e0\u6b64\u6211\u4eec\u8003\u8651\u4f7f\u7528Ajax\u6280\u672f\u6765\u5b9e\u73b0\u201c\u597d\u8bc4\u201d\u548c\u201c\u5dee\u8bc4\u201d\uff0cAjax\u6280\u672f\u6211\u4eec\u5728\u4e4b\u524d\u7684\u7ae0\u8282\u4e2d\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u4e86\uff0c\u6b64\u5904\u4e0d\u518d\u8d58\u8ff0\u3002</p> <p>\u9996\u5148\u4fee\u6539\u9879\u76ee\u7684urls.py\u6587\u4ef6\uff0c\u4e3a\u201c\u597d\u8bc4\u201d\u548c\u201c\u5dee\u8bc4\u201d\u529f\u80fd\u6620\u5c04\u5bf9\u5e94\u7684URL\u3002</p> <pre><code>from django.contrib import admin\nfrom django.urls import path\n\nfrom vote import views\n\nurlpatterns = [\n    path('', views.show_subjects),\n    path('teachers/', views.show_teachers),\n    path('praise/', views.prise_or_criticize),\n    path('criticize/', views.prise_or_criticize),\n    path('admin/', admin.site.urls),\n]\n</code></pre> <p>\u8bbe\u8ba1\u89c6\u56fe\u51fd\u6570<code>praise_or_criticize</code>\u6765\u652f\u6301\u201c\u597d\u8bc4\u201d\u548c\u201c\u5dee\u8bc4\u201d\u529f\u80fd\uff0c\u8be5\u89c6\u56fe\u51fd\u6570\u901a\u8fc7Django\u5c01\u88c5\u7684JsonResponse\u7c7b\u5c06\u5b57\u5178\u5e8f\u5217\u5316\u6210JSON\u5b57\u7b26\u4e32\u4f5c\u4e3a\u8fd4\u56de\u7ed9\u6d4f\u89c8\u5668\u7684\u54cd\u5e94\u5185\u5bb9\u3002</p> <pre><code>def praise_or_criticize(request):\n    \"\"\"\u597d\u8bc4\"\"\"\n    try:\n        tno = int(request.GET['tno'])\n        teacher = Teacher.objects.get(no=tno)\n        if request.path.startswith('/prise'):\n            teacher.good_count += 1\n        else:\n            teacher.bad_count += 1\n        teacher.save()\n        data = {'code': 200, 'hint': '\u64cd\u4f5c\u6210\u529f'}\n    except (KeyError, ValueError, Teacher.DoseNotExist):\n        data = {'code': 404, 'hint': '\u64cd\u4f5c\u5931\u8d25'}\n    return JsonResponse(data)\n</code></pre> <p>\u4fee\u6539\u663e\u793a\u8001\u5e08\u4fe1\u606f\u7684\u6a21\u677f\u9875\uff0c\u5f15\u5165jQuery\u5e93\u6765\u5b9e\u73b0\u4e8b\u4ef6\u5904\u7406\u3001Ajax\u8bf7\u6c42\u548cDOM\u64cd\u4f5c\u3002</p> <pre><code>&lt;script src=\"{% static 'js/jquery.min.js' %}\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    $(() =&gt; {\n        $('.comment&gt;a').on('click', (evt) =&gt; {\n            evt.preventDefault();\n            let a = $(evt.target)\n            let span = a.next()\n            $.getJSON(a.attr('href'), (json) =&gt; {\n                if (json.code == 200) {\n                    span.text(parseInt(span.text()) + 1)\n                } else {\n                    alert(json.hint)\n                }\n            })\n        })\n    })\n&lt;/script&gt;\n</code></pre>"},{"location":"python/Py-100Days/Day41-55/43.%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%92%8CAjax%E8%AF%B7%E6%B1%82/#_3","title":"\u5c0f\u7ed3","text":"<p>\u5230\u6b64\u4e3a\u6b62\uff0c\u8fd9\u4e2a\u6295\u7968\u9879\u76ee\u7684\u6838\u5fc3\u529f\u80fd\u5df2\u7136\u5b8c\u6210\uff0c\u5728\u4e0b\u9762\u7684\u7ae0\u8282\u4e2d\u6211\u4eec\u4f1a\u8981\u6c42\u7528\u6237\u5fc5\u987b\u767b\u5f55\u624d\u80fd\u6295\u7968\uff0c\u6ca1\u6709\u8d26\u53f7\u7684\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u6ce8\u518c\u529f\u80fd\u6ce8\u518c\u4e00\u4e2a\u8d26\u53f7\u3002</p>"},{"location":"python/Py-100Days/Day41-55/44.%E8%A1%A8%E5%8D%95%E7%9A%84%E5%BA%94%E7%94%A8/","title":"44.\u8868\u5355\u7684\u5e94\u7528","text":""},{"location":"python/Py-100Days/Day41-55/44.%E8%A1%A8%E5%8D%95%E7%9A%84%E5%BA%94%E7%94%A8/#_1","title":"\u8868\u5355\u7684\u5e94\u7528","text":"<p>\u6211\u4eec\u7ee7\u7eed\u6765\u5b8c\u6210\u4e0a\u4e00\u7ae0\u8282\u4e2d\u7684\u9879\u76ee\uff0c\u5b9e\u73b0\u201c\u7528\u6237\u6ce8\u518c\u201d\u548c\u201c\u7528\u6237\u767b\u5f55\u201d\u7684\u529f\u80fd\uff0c\u5e76\u9650\u5236\u53ea\u6709\u767b\u5f55\u7684\u7528\u6237\u624d\u80fd\u4e3a\u8001\u5e08\u6295\u7968\u3002Django\u6846\u67b6\u4e2d\u63d0\u4f9b\u4e86\u5bf9\u8868\u5355\u7684\u5c01\u88c5\uff0c\u800c\u4e14\u63d0\u4f9b\u4e86\u591a\u79cd\u4e0d\u540c\u7684\u4f7f\u7528\u65b9\u5f0f\u3002</p> <p>\u9996\u5148\u6dfb\u52a0\u7528\u6237\u6a21\u578b\u3002</p> <pre><code>class User(models.Model):\n    \"\"\"\u7528\u6237\"\"\"\n    no = models.AutoField(primary_key=True, verbose_name='\u7f16\u53f7')\n    username = models.CharField(max_length=20, unique=True, verbose_name='\u7528\u6237\u540d')\n    password = models.CharField(max_length=32, verbose_name='\u5bc6\u7801')\n    regdate = models.DateTimeField(auto_now_add=True, verbose_name='\u6ce8\u518c\u65f6\u95f4')\n\n    class Meta:\n        db_table = 'tb_user'\n        verbose_name_plural = '\u7528\u6237'\n</code></pre> <p>\u901a\u8fc7\u751f\u6210\u8fc1\u79fb\u548c\u6267\u884c\u8fc1\u79fb\u64cd\u4f5c\uff0c\u5728\u6570\u636e\u5e93\u4e2d\u521b\u5efa\u5bf9\u5e94\u7684\u7528\u6237\u8868\u3002</p> <pre><code>python manage.py makemigrations \u5e94\u7528\u540d\npython manage.py migrate\n</code></pre> <p>\u5b9a\u5236\u4e00\u4e2a\u975e\u5e38\u7b80\u5355\u7684\u6ce8\u518c\u6a21\u677f\u9875\u9762\u3002</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;\u7528\u6237\u6ce8\u518c&lt;/title&gt;\n    &lt;style&gt;/* \u6b64\u5904\u7701\u7565\u5c42\u53e0\u6837\u5f0f\u8868\u9009\u62e9\u5668 */&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;\u7528\u6237\u6ce8\u518c&lt;/h1&gt;\n    &lt;hr&gt;\n    &lt;p class=\"hint\"&gt;{{ hint }}&lt;/p&gt;\n    &lt;form action=\"/register/\" method=\"post\"&gt;\n        {% csrf_token %}\n        &lt;div class=\"input\"&gt;\n            &lt;label for=\"username\"&gt;\u7528\u6237\u540d\uff1a&lt;/label&gt;\n            &lt;input type=\"text\" id=\"username\" name=\"username\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;label for=\"password\"&gt;\u5bc6\u7801\uff1a&lt;/label&gt;\n            &lt;input type=\"password\" id=\"password\" name=\"password\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;label for=\"repassword\"&gt;\u786e\u8ba4\u5bc6\u7801\uff1a&lt;/label&gt;\n            &lt;input type=\"password\" id=\"repassword\" name=\"repassword\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;input type=\"submit\" value=\"\u6ce8\u518c\"&gt;\n            &lt;input type=\"reset\" value=\"\u91cd\u7f6e\"&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n    &lt;a href=\"/login\"&gt;\u8fd4\u56de\u767b\u5f55&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u6ce8\u610f\uff0c\u5728\u4e0a\u9762\u7684\u8868\u5355\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u6a21\u677f\u6307\u4ee4<code>{% csrf_token %}</code>\u4e3a\u8868\u5355\u6dfb\u52a0\u4e00\u4e2a\u9690\u85cf\u57df\uff08type\u5c5e\u6027\u503c\u4e3ahidden\u7684input\u6807\u7b7e\uff09\uff0c\u5b83\u7684\u4f5c\u7528\u662f\u5728\u8868\u5355\u4e2d\u751f\u6210\u4e00\u4e2a\u968f\u673a\u4ee4\u724c\uff08token\uff09\u6765\u9632\u8303\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\uff08\u901a\u5e38\u7b80\u79f0\u4e3aCSRF\uff09\uff0c\u8fd9\u4e5f\u662fDjango\u5728\u63d0\u4ea4\u8868\u5355\u65f6\u7684\u786c\u6027\u8981\u6c42\uff0c\u9664\u975e\u6211\u4eec\u4e13\u95e8\u8bbe\u7f6e\u4e86\u514d\u9664CSRF\u4ee4\u724c\u3002\u4e0b\u56fe\u662f\u4e00\u4e2a\u5173\u4e8eCSRF\u7b80\u5355\u751f\u52a8\u7684\u4f8b\u5b50\uff0c\u5b83\u6765\u81ea\u4e8e\u7ef4\u57fa\u767e\u79d1\u3002</p> <p></p> <p>\u7528\u6237\u5728\u63d0\u4ea4\u6ce8\u518c\u8868\u5355\u65f6\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u5bf9\u7528\u6237\u7684\u8f93\u5165\u8fdb\u884c\u9a8c\u8bc1\uff0c\u4f8b\u5982\u6211\u4eec\u7684\u7f51\u7ad9\u8981\u6c42\u7528\u6237\u540d\u5fc5\u987b\u7531\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u6784\u6210\u4e14\u957f\u5ea6\u57284-20\u4e2a\u5b57\u7b26\u4e4b\u95f4\uff0c\u5bc6\u7801\u7684\u957f\u5ea6\u4e3a8-20\u4e2a\u5b57\u7b26\uff0c\u786e\u8ba4\u5bc6\u7801\u5fc5\u987b\u8ddf\u5bc6\u7801\u4fdd\u6301\u4e00\u81f4\u3002\u8fd9\u4e9b\u9a8c\u8bc1\u64cd\u4f5c\u9996\u5148\u53ef\u4ee5\u901a\u8fc7\u6d4f\u89c8\u5668\u4e2d\u7684JavaScript\u4ee3\u7801\u6765\u5b8c\u6210\uff0c\u4f46\u662f\u5373\u4fbf\u5982\u6b64\uff0c\u5728\u670d\u52a1\u5668\u7aef\u4ecd\u7136\u8981\u5bf9\u7528\u6237\u8f93\u5165\u518d\u6b21\u8fdb\u884c\u9a8c\u8bc1\u6765\u907f\u514d\u5c06\u65e0\u6548\u7684\u6570\u636e\u5e93\u4ea4\u7ed9\u6570\u636e\u5e93\uff0c\u56e0\u4e3a\u7528\u6237\u53ef\u80fd\u4f1a\u7981\u7528\u6d4f\u89c8\u5668\u7684JavaScript\u529f\u80fd\uff0c\u4e5f\u6709\u53ef\u80fd\u7ed5\u8fc7\u6d4f\u89c8\u5668\u7684\u8f93\u5165\u68c0\u67e5\u5c06\u6ce8\u518c\u6570\u636e\u63d0\u4ea4\u7ed9\u670d\u52a1\u5668\uff0c\u6240\u4ee5\u670d\u52a1\u5668\u7aef\u7684\u7528\u6237\u8f93\u5165\u68c0\u67e5\u4ecd\u7136\u662f\u5fc5\u8981\u7684\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u5229\u7528Django\u6846\u67b6\u5c01\u88c5\u7684\u8868\u5355\u529f\u80fd\u6765\u5bf9\u7528\u6237\u8f93\u5165\u7684\u6709\u6548\u6027\u8fdb\u884c\u68c0\u67e5\uff0c\u867d\u7136Django\u5c01\u88c5\u7684\u8868\u5355\u8fd8\u80fd\u5e2e\u52a9\u6211\u4eec\u5b9a\u5236\u51fa\u9875\u9762\u4e0a\u7684\u8868\u5355\u5143\u7d20\uff0c\u4f46\u662f\u8fd9\u663e\u7136\u662f\u4e00\u79cd\u7075\u6d3b\u6027\u5f88\u5dee\u7684\u8bbe\u8ba1\uff0c\u8fd9\u6837\u7684\u529f\u80fd\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\u57fa\u672c\u4e0d\u8003\u8651\uff0c\u6240\u4ee5\u8868\u5355\u4e3b\u8981\u7684\u4f5c\u7528\u5c31\u5728\u4e8e\u6570\u636e\u9a8c\u8bc1\uff0c\u5177\u4f53\u7684\u505a\u6cd5\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>USERNAME_PATTERN = re.compile(r'\\w{4,20}')\n\nclass RegisterForm(forms.ModelForm):\n    repassword = forms.CharField(min_length=8, max_length=20)\n\n    def clean_username(self):\n        username = self.cleaned_data['username']\n        if not USERNAME_PATTERN.fullmatch(username):\n            raise ValidationError('\u7528\u6237\u540d\u7531\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\u6784\u6210\u4e14\u957f\u5ea6\u4e3a4-20\u4e2a\u5b57\u7b26')\n        return username\n\n    def clean_password(self):\n        password = self.cleaned_data['password']\n        if len(password) &lt; 8 or len(password) &gt; 20:\n            raise ValidationError('\u65e0\u6548\u7684\u5bc6\u7801\uff0c\u5bc6\u7801\u957f\u5ea6\u4e3a8-20\u4e2a\u5b57\u7b26')\n        return to_md5_hex(self.cleaned_data['password'])\n\n    def clean_repassword(self):\n        repassword = to_md5_hex(self.cleaned_data['repassword'])\n        if repassword != self.cleaned_data['password']:\n            raise ValidationError('\u5bc6\u7801\u548c\u786e\u8ba4\u5bc6\u7801\u4e0d\u4e00\u81f4')\n        return repassword\n\n    class Meta:\n        model = User\n        exclude = ('no', 'regdate')\n</code></pre> <p>\u4e0a\u9762\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u4e0eUser\u6a21\u578b\u7ed1\u5b9a\u7684\u8868\u5355\uff08\u7ee7\u627f\u81eaModelForm\uff09\uff0c\u6211\u4eec\u6392\u9664\u4e86\u7528\u6237\u7f16\u53f7\uff08no\uff09\u548c\u6ce8\u518c\u65e5\u671f\uff08regdate\uff09\u8fd9\u4e24\u4e2a\u5c5e\u6027\uff0c\u5e76\u6dfb\u52a0\u4e86\u4e00\u4e2arepassword\u5c5e\u6027\u7528\u6765\u63a5\u6536\u4ece\u7528\u6237\u8868\u5355\u4f20\u7ed9\u670d\u52a1\u5668\u7684\u786e\u8ba4\u5bc6\u7801\u3002\u6211\u4eec\u5728\u5b9a\u4e49User\u6a21\u578b\u65f6\u5df2\u7ecf\u5bf9\u7528\u6237\u540d\u7684\u6700\u5927\u957f\u5ea6\u8fdb\u884c\u4e86\u9650\u5236\uff0c\u4e0a\u9762\u6211\u4eec\u53c8\u5bf9\u786e\u8ba4\u5bc6\u7801\u7684\u6700\u5c0f\u548c\u6700\u5927\u957f\u5ea6\u8fdb\u884c\u4e86\u9650\u5236\uff0c\u4f46\u662f\u8fd9\u4e9b\u90fd\u4e0d\u8db3\u4ee5\u5b8c\u6210\u6211\u4eec\u5bf9\u7528\u6237\u8f93\u5165\u7684\u9a8c\u8bc1\u3002\u4e0a\u9762\u4ee5<code>clean_</code>\u6253\u5934\u7684\u65b9\u6cd5\u5c31\u662f\u6211\u4eec\u81ea\u5b9a\u4e49\u7684\u9a8c\u8bc1\u89c4\u5219\u3002\u5f88\u660e\u663e\uff0c<code>clean_username</code>\u662f\u5bf9\u7528\u6237\u540d\u7684\u68c0\u67e5\uff0c\u800c<code>clean_password</code>\u662f\u5bf9\u5bc6\u7801\u7684\u68c0\u67e5\u3002\u7531\u4e8e\u6570\u636e\u5e93\u4e8c\u7ef4\u8868\u4e2d\u4e0d\u5e94\u8be5\u4fdd\u5b58\u5bc6\u7801\u7684\u539f\u6587\uff0c\u6240\u4ee5\u5bf9\u5bc6\u7801\u505a\u4e86\u4e00\u4e2a\u7b80\u5355\u7684MD5\u6458\u8981\u5904\u7406\uff0c\u5b9e\u9645\u5f00\u53d1\u4e2d\u8fd9\u6837\u5904\u7406\u8fd8\u4e0d\u592a\u591f\uff0c\u56e0\u4e3a\u6709\u88ab\u5b9e\u65bd\u53cd\u5411\u67e5\u8868\u6cd5\uff08\u5229\u7528\u5f69\u8679\u8868\u53cd\u5411\u67e5\u8be2\uff09\u7834\u89e3\u7528\u6237\u5bc6\u7801\u7684\u98ce\u9669\u3002\u4e3a\u5b57\u7b26\u4e32\u751f\u6210MD5\u6458\u8981\u7684\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>def to_md5_hex(message):\n    return hashlib.md5(message.encode()).hexdigest()\n</code></pre> <p>\u65b0\u589e\u4e00\u4e2a\u89c6\u56fe\u51fd\u6570\u5b9e\u73b0\u7528\u6237\u6ce8\u518c\u7684\u529f\u80fd\u3002</p> <pre><code>def register(request):\n    page, hint = 'register.html', ''\n    if request.method == 'POST':\n        form = RegisterForm(request.POST)\n        if form.is_valid():\n            form.save()\n            page = 'login.html'\n            hint = '\u6ce8\u518c\u6210\u529f\uff0c\u8bf7\u767b\u5f55'\n        else:\n            hint = '\u8bf7\u8f93\u5165\u6709\u6548\u7684\u6ce8\u518c\u4fe1\u606f'\n    return render(request, page, {'hint': hint})\n</code></pre> <p>\u5982\u679c\u7528\u6237\u53d1\u8d77GET\u8bf7\u6c42\uff0c\u5c06\u76f4\u63a5\u8df3\u8f6c\u5230\u6ce8\u518c\u7684\u9875\u9762\uff1b\u5982\u679c\u7528\u6237\u4ee5POST\u65b9\u5f0f\u63d0\u4ea4\u6ce8\u518c\u8868\u5355\uff0c\u5219\u521b\u5efa\u81ea\u5b9a\u4e49\u7684\u6ce8\u518c\u8868\u5355\u5bf9\u8c61\u5e76\u83b7\u53d6\u7528\u6237\u8f93\u5165\u3002\u53ef\u4ee5\u901a\u8fc7\u8868\u5355\u5bf9\u8c61\u7684<code>is_valid</code>\u65b9\u6cd5\u5bf9\u8868\u5355\u8fdb\u884c\u9a8c\u8bc1\uff0c\u5982\u679c\u7528\u6237\u8f93\u5165\u6ca1\u6709\u95ee\u9898\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56deTrue\uff0c\u5426\u5219\u8fd4\u56deFalse\uff1b\u7531\u4e8e\u6211\u4eec\u5b9a\u4e49\u7684RegisterForm\u7ee7\u627f\u81eaModelForm\uff0c\u56e0\u6b64\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u8868\u5355\u5bf9\u8c61\u7684<code>save</code>\u65b9\u6cd5\u6765\u4fdd\u5b58\u6a21\u578b\u3002\u4e0b\u9762\u662f\u6ce8\u518c\u8bf7\u6c42\u7684URL\u914d\u7f6e\u3002</p> <pre><code>from django.contrib import admin\nfrom django.urls import path\n\nfrom vote import views\n\nurlpatterns = [\n    path('', views.show_subjects),\n    path('captcha/', views.get_captcha),\n    path('teachers/', views.show_teachers),\n    path('prise/', views.praise_or_criticize),\n    path('criticize/', views.praise_or_criticize),\n    path('login/', views.login, name='login'),\n    path('register/', views.register, name='register'),\n    path('admin/', admin.site.urls),\n]\n</code></pre> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\u6211\u4eec\u628a\u5f85\u4f1a\u8981\u7528\u5230\u7684\u767b\u5f55\u548c\u9a8c\u8bc1\u7801\u7684URL\u4e5f\u987a\u4fbf\u505a\u4e86\u6620\u5c04\u3002<code>path</code>\u51fd\u6570\u8fd8\u53ef\u4ee5\u901a\u8fc7name\u53c2\u6570\u7ed9URL\u7ed1\u5b9a\u4e00\u4e2a\u9006\u5411\u89e3\u6790\u7684\u540d\u5b57\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u9700\u8981\u53ef\u4ee5\u4ece\u540e\u9762\u7ed9\u7684\u540d\u5b57\u9006\u5411\u5f97\u5230\u5bf9\u5e94\u7684URL\u3002</p> <p>\u6211\u4eec\u518d\u6765\u5b9a\u5236\u4e00\u4e2a\u975e\u5e38\u7b80\u5355\u7684\u767b\u5f55\u9875\u3002</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;\u7528\u6237\u767b\u5f55&lt;/title&gt;\n    &lt;style&gt;/* \u6b64\u5904\u7701\u7565\u5c42\u53e0\u6837\u5f0f\u8868\u9009\u62e9\u5668 */&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;\u7528\u6237\u767b\u5f55&lt;/h1&gt;\n    &lt;hr&gt;\n    &lt;p class=\"hint\"&gt;{{ hint }}&lt;/p&gt;\n    &lt;form action=\"/login/\" method=\"post\"&gt;\n        &lt;input type=\"hidden\" name=\"backurl\" value=\"{{ backurl }}\"&gt;\n        {% csrf_token %}\n        &lt;div class=\"input\"&gt;\n            &lt;label for=\"username\"&gt;\u7528\u6237\u540d\uff1a&lt;/label&gt;\n            &lt;input type=\"text\" id=\"username\" name=\"username\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;label for=\"password\"&gt;\u5bc6\u7801\uff1a&lt;/label&gt;\n            &lt;input type=\"password\" id=\"password\" name=\"password\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"input captcha\"&gt;\n            &lt;label for=\"captcha\"&gt;\u9a8c\u8bc1\u7801\uff1a&lt;/label&gt;\n            &lt;input type=\"text\" id=\"captcha\" name=\"captcha\"&gt;\n            &lt;img src=\"/captcha/\" width=\"120\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;input type=\"submit\" value=\"\u767b\u5f55\"&gt;\n            &lt;input type=\"reset\" value=\"\u91cd\u7f6e\"&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n    &lt;a href=\"/register\"&gt;\u6ce8\u518c\u65b0\u7528\u6237&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u4e0a\u9762\u7684\u767b\u5f55\u9875\u4e2d\uff0c\u6211\u4eec\u8981\u6c42\u7528\u6237\u63d0\u4f9b\u9a8c\u8bc1\u7801\uff0c\u9a8c\u8bc1\u7801\u5168\u79f0\u662f\u5168\u81ea\u52a8\u533a\u5206\u8ba1\u7b97\u673a\u548c\u4eba\u7c7b\u7684\u516c\u5f00\u56fe\u7075\u6d4b\u8bd5\uff0c\u5b83\u662f\u4e00\u79cd\u7528\u6765\u533a\u5206\u7cfb\u7edf\u7684\u4f7f\u7528\u8005\u662f\u8ba1\u7b97\u673a\u8fd8\u662f\u4eba\u7c7b\u7684\u7a0b\u5e8f\u3002\u7b80\u5355\u7684\u8bf4\u5c31\u662f\u7a0b\u5e8f\u51fa\u4e00\u4e2a\u53ea\u6709\u4eba\u7c7b\u80fd\u591f\u56de\u7b54\u7684\u95ee\u9898\uff0c\u7531\u7cfb\u7edf\u4f7f\u7528\u8005\u6765\u89e3\u7b54\uff0c\u7531\u4e8e\u8ba1\u7b97\u673a\u7406\u8bba\u4e0a\u65e0\u6cd5\u89e3\u7b54\u7a0b\u5e8f\u63d0\u51fa\u7684\u95ee\u9898\uff0c\u6240\u4ee5\u56de\u7b54\u51fa\u95ee\u9898\u7684\u7528\u6237\u5c31\u53ef\u4ee5\u88ab\u8ba4\u4e3a\u662f\u4eba\u7c7b\u3002\u5927\u591a\u6570\u7684\u7f51\u7ad9\u90fd\u4f7f\u7528\u4e86\u4e0d\u540c\u7c7b\u578b\u7684\u9a8c\u8bc1\u7801\u6280\u672f\u6765\u9632\u8303\u8ba1\u7b97\u673a\u81ea\u52a8\u6ce8\u518c\u7528\u6237\u6216\u6a21\u62df\u7528\u6237\u767b\u5f55\uff08\u66b4\u529b\u7834\u89e3\u7528\u6237\u5bc6\u7801\uff09\uff0c\u56e0\u4e3a\u9a8c\u8bc1\u7801\u5177\u6709\u4e00\u6b21\u6d88\u8d39\u6027\uff0c\u800c\u6ca1\u6709\u901a\u8fc7\u56fe\u7075\u6d4b\u8bd5\u7684\u8ba1\u7b97\u673a\u662f\u4e0d\u80fd\u591f\u6ce8\u518c\u6216\u767b\u5f55\u7684\u3002</p> <p>\u5728Python\u7a0b\u5e8f\u4e2d\u751f\u6210\u9a8c\u8bc1\u7801\u5e76\u4e0d\u7b97\u7279\u522b\u590d\u6742\uff0c\u4f46\u9700\u8981\u4e09\u65b9\u5e93pillow\u7684\u652f\u6301\uff08PIL\u7684\u5206\u652f\uff09\u3002\u6211\u4eec\u53ef\u4ee5\u501f\u9274\u73b0\u6709\u7684\u65b9\u6cd5\u7528Python\u7a0d\u4f5c\u5c01\u88c5\u5373\u53ef\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u5df2\u7ecf\u5b9e\u73b0\u4e86\u751f\u6210\u9a8c\u8bc1\u7801\u56fe\u7247\u5e76\u5f97\u5230\u56fe\u7247\u4e8c\u8fdb\u5236\u6570\u636e\u7684\u529f\u80fd\u3002</p> <pre><code>\"\"\"\n\u56fe\u7247\u9a8c\u8bc1\u7801\n\"\"\"\nimport os\nimport random\n\nfrom io import BytesIO\n\nfrom PIL import Image\nfrom PIL import ImageFilter\nfrom PIL.ImageDraw import Draw\nfrom PIL.ImageFont import truetype\n\n\nclass Bezier(object):\n    \"\"\"\u8d1d\u585e\u5c14\u66f2\u7ebf\"\"\"\n\n    def __init__(self):\n        self.tsequence = tuple([t / 20.0 for t in range(21)])\n        self.beziers = {}\n\n    def make_bezier(self, n):\n        \"\"\"\u7ed8\u5236\u8d1d\u585e\u5c14\u66f2\u7ebf\"\"\"\n        try:\n            return self.beziers[n]\n        except KeyError:\n            combinations = pascal_row(n - 1)\n            result = []\n            for t in self.tsequence:\n                tpowers = (t ** i for i in range(n))\n                upowers = ((1 - t) ** i for i in range(n - 1, -1, -1))\n                coefs = [c * a * b for c, a, b in zip(combinations,\n                                                      tpowers, upowers)]\n                result.append(coefs)\n            self.beziers[n] = result\n            return result\n\n\nclass Captcha(object):\n    \"\"\"\u9a8c\u8bc1\u7801\"\"\"\n\n    def __init__(self, width, height, fonts=None, color=None):\n        self._image = None\n        self._fonts = fonts if fonts else \\\n            [os.path.join(os.path.dirname(__file__), 'fonts', font)\n             for font in ['Action.ttf', 'Silom.ttf', 'Verdana.ttf']]\n        self._color = color if color else random_color(0, 200, random.randint(220, 255))\n        self._width, self._height = width, height\n\n    @classmethod\n    def instance(cls, width=200, height=75):\n        if not hasattr(Captcha, \"_instance\"):\n            cls._instance = cls(width, height)\n        return cls._instance\n\n    def background(self):\n        \"\"\"\u7ed8\u5236\u80cc\u666f\"\"\"\n        Draw(self._image).rectangle([(0, 0), self._image.size],\n                                    fill=random_color(230, 255))\n\n    def smooth(self):\n        \"\"\"\u5e73\u6ed1\u56fe\u50cf\"\"\"\n        return self._image.filter(ImageFilter.SMOOTH)\n\n    def curve(self, width=4, number=6, color=None):\n        \"\"\"\u7ed8\u5236\u66f2\u7ebf\"\"\"\n        dx, height = self._image.size\n        dx /= number\n        path = [(dx * i, random.randint(0, height))\n                for i in range(1, number)]\n        bcoefs = Bezier().make_bezier(number - 1)\n        points = []\n        for coefs in bcoefs:\n            points.append(tuple(sum([coef * p for coef, p in zip(coefs, ps)])\n                                for ps in zip(*path)))\n        Draw(self._image).line(points, fill=color if color else self._color, width=width)\n\n    def noise(self, number=62, level=2, color=None):\n        \"\"\"\u7ed8\u5236\u6270\u7801\"\"\"\n        width, height = self._image.size\n        dx, dy = width / 10, height / 10\n        width, height = width - dx, height - dy\n        draw = Draw(self._image)\n        for i in range(number):\n            x = int(random.uniform(dx, width))\n            y = int(random.uniform(dy, height))\n            draw.line(((x, y), (x + level, y)),\n                      fill=color if color else self._color, width=level)\n\n    def text(self, captcha_text, fonts, font_sizes=None, drawings=None, squeeze_factor=0.75, color=None):\n        \"\"\"\u7ed8\u5236\u6587\u672c\"\"\"\n        color = color if color else self._color\n        fonts = tuple([truetype(name, size)\n                       for name in fonts\n                       for size in font_sizes or (65, 70, 75)])\n        draw = Draw(self._image)\n        char_images = []\n        for c in captcha_text:\n            font = random.choice(fonts)\n            c_width, c_height = draw.textsize(c, font=font)\n            char_image = Image.new('RGB', (c_width, c_height), (0, 0, 0))\n            char_draw = Draw(char_image)\n            char_draw.text((0, 0), c, font=font, fill=color)\n            char_image = char_image.crop(char_image.getbbox())\n            for drawing in drawings:\n                d = getattr(self, drawing)\n                char_image = d(char_image)\n            char_images.append(char_image)\n        width, height = self._image.size\n        offset = int((width - sum(int(i.size[0] * squeeze_factor)\n                                  for i in char_images[:-1]) -\n                      char_images[-1].size[0]) / 2)\n        for char_image in char_images:\n            c_width, c_height = char_image.size\n            mask = char_image.convert('L').point(lambda i: i * 1.97)\n            self._image.paste(char_image,\n                        (offset, int((height - c_height) / 2)),\n                        mask)\n            offset += int(c_width * squeeze_factor)\n\n    @staticmethod\n    def warp(image, dx_factor=0.3, dy_factor=0.3):\n        \"\"\"\u56fe\u50cf\u626d\u66f2\"\"\"\n        width, height = image.size\n        dx = width * dx_factor\n        dy = height * dy_factor\n        x1 = int(random.uniform(-dx, dx))\n        y1 = int(random.uniform(-dy, dy))\n        x2 = int(random.uniform(-dx, dx))\n        y2 = int(random.uniform(-dy, dy))\n        warp_image = Image.new(\n            'RGB',\n            (width + abs(x1) + abs(x2), height + abs(y1) + abs(y2)))\n        warp_image.paste(image, (abs(x1), abs(y1)))\n        width2, height2 = warp_image.size\n        return warp_image.transform(\n            (width, height),\n            Image.QUAD,\n            (x1, y1, -x1, height2 - y2, width2 + x2, height2 + y2, width2 - x2, -y1))\n\n    @staticmethod\n    def offset(image, dx_factor=0.1, dy_factor=0.2):\n        \"\"\"\u56fe\u50cf\u504f\u79fb\"\"\"\n        width, height = image.size\n        dx = int(random.random() * width * dx_factor)\n        dy = int(random.random() * height * dy_factor)\n        offset_image = Image.new('RGB', (width + dx, height + dy))\n        offset_image.paste(image, (dx, dy))\n        return offset_image\n\n    @staticmethod\n    def rotate(image, angle=25):\n        \"\"\"\u56fe\u50cf\u65cb\u8f6c\"\"\"\n        return image.rotate(random.uniform(-angle, angle),\n                            Image.BILINEAR, expand=1)\n\n    def generate(self, captcha_text='', fmt='PNG'):\n        \"\"\"\u751f\u6210\u9a8c\u8bc1\u7801(\u6587\u5b57\u548c\u56fe\u7247)\"\"\"\n        self._image = Image.new('RGB', (self._width, self._height), (255, 255, 255))\n        self.background()\n        self.text(captcha_text, self._fonts,\n                  drawings=['warp', 'rotate', 'offset'])\n        self.curve(), self.noise(), self.smooth()\n        image_bytes = BytesIO()\n        self._image.save(image_bytes, format=fmt)\n        return image_bytes.getvalue()\n\n\ndef pascal_row(n=0):\n    \"\"\"\u751f\u6210Pascal\u4e09\u89d2\u7b2cn\u884c\"\"\"\n    result = [1]\n    x, numerator = 1, n\n    for denominator in range(1, n // 2 + 1):\n        x *= numerator\n        x /= denominator\n        result.append(x)\n        numerator -= 1\n    if n &amp; 1 == 0:\n        result.extend(reversed(result[:-1]))\n    else:\n        result.extend(reversed(result))\n    return result\n\n\ndef random_color(start=0, end=255, opacity=255):\n    \"\"\"\u83b7\u5f97\u968f\u673a\u989c\u8272\"\"\"\n    red = random.randint(start, end)\n    green = random.randint(start, end)\n    blue = random.randint(start, end)\n    if opacity is None:\n        return red, green, blue\n    return red, green, blue, opacity\n</code></pre> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u7684\u4ee3\u7801\u5728\u751f\u6210\u9a8c\u8bc1\u7801\u56fe\u7247\u65f6\u7528\u5230\u4e86\u4e09\u79cd\u5b57\u4f53\u6587\u4ef6\uff0c\u4f7f\u7528\u4e0a\u9762\u7684\u4ee3\u7801\u65f6\u9700\u8981\u6dfb\u52a0\u5b57\u4f53\u6587\u4ef6\u5230\u5e94\u7528\u76ee\u5f55\u4e0b\u7684fonts\u76ee\u5f55\u4e2d\u3002</p> <p>\u4e0b\u9762\u7684\u89c6\u56fe\u51fd\u6570\u7528\u6765\u751f\u6210\u9a8c\u8bc1\u7801\u5e76\u901a\u8fc7HttpResponse\u5bf9\u8c61\u8f93\u51fa\u5230\u7528\u6237\u6d4f\u89c8\u5668\u4e2d\u3002</p> <pre><code>ALL_CHARS = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'\n\n\ndef get_captcha_text(length=4):\n    selected_chars = random.choices(ALL_CHARS, k=length)\n    return ''.join(selected_chars)\n\n\ndef get_captcha(request):\n    \"\"\"\u83b7\u5f97\u9a8c\u8bc1\u7801\"\"\"\n    captcha_text = get_captcha_text()\n    image = Captcha.instance().generate(captcha_text)\n    return HttpResponse(image, content_type='image/png')\n</code></pre> <p>\u751f\u6210\u7684\u9a8c\u8bc1\u7801\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p> <p>\u4e3a\u4e86\u9a8c\u8bc1\u7528\u6237\u63d0\u4ea4\u7684\u767b\u5f55\u8868\u5355\uff0c\u6211\u4eec\u518d\u5b9a\u4e49\u4e2a\u8868\u5355\u7c7b\u3002</p> <pre><code>class LoginForm(forms.Form):\n    username = forms.CharField(min_length=4, max_length=20)\n    password = forms.CharField(min_length=8, max_length=20)\n    captcha = forms.CharField(min_length=4, max_length=4)\n\n    def clean_username(self):\n        username = self.cleaned_data['username']\n        if not USERNAME_PATTERN.fullmatch(username):\n            raise ValidationError('\u65e0\u6548\u7684\u7528\u6237\u540d')\n        return username\n\n    def clean_password(self):\n        return to_md5_hex(self.cleaned_data['password'])\n</code></pre> <p>\u8ddf\u4e4b\u524d\u6211\u4eec\u5b9a\u4e49\u7684\u6ce8\u518c\u8868\u5355\u7c7b\u7565\u6709\u533a\u522b\uff0c\u767b\u5f55\u8868\u5355\u7c7b\u76f4\u63a5\u7ee7\u627f\u81eaForm\u6ca1\u6709\u8ddf\u6a21\u578b\u7ed1\u5b9a\uff0c\u5b9a\u4e49\u4e86\u4e09\u4e2a\u5b57\u6bb5\u5206\u522b\u5bf9\u5e94\u767b\u5f55\u8868\u5355\u4e2d\u7684\u7528\u6237\u540d\u3001\u5bc6\u7801\u548c\u9a8c\u8bc1\u7801\u3002\u63a5\u4e0b\u6765\u662f\u5904\u7406\u7528\u6237\u767b\u5f55\u7684\u89c6\u56fe\u51fd\u6570\u3002</p> <pre><code>def login(request):\n    hint = ''\n    if request.method == 'POST':\n        form = LoginForm(request.POST)\n        if form.is_valid():\n            username = form.cleaned_data['username']\n            password = form.cleaned_data['password']\n            user = User.objects.filter(username=username, password=password).first()\n            if user:\n                return redirect('/')\n            else:\n                hint = '\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef'\n        else:\n            hint = '\u8bf7\u8f93\u5165\u6709\u6548\u7684\u767b\u5f55\u4fe1\u606f'\n    return render(request, 'login.html', {'hint': hint})\n</code></pre> <p>\u9700\u8981\u6307\u51fa\uff0c\u4e0a\u9762\u6211\u4eec\u8bbe\u5b9a\u7528\u6237\u767b\u5f55\u6210\u529f\u65f6\u76f4\u63a5\u8fd4\u56de\u9996\u9875\uff0c\u800c\u4e14\u5728\u7528\u6237\u767b\u5f55\u65f6\u5e76\u6ca1\u6709\u9a8c\u8bc1\u7528\u6237\u8f93\u5165\u7684\u9a8c\u8bc1\u7801\u662f\u5426\u6b63\u786e\uff0c\u8fd9\u4e9b\u6211\u4eec\u7559\u5230\u4e0b\u4e00\u4e2a\u5355\u5143\u518d\u4e3a\u5927\u5bb6\u8bb2\u89e3\u3002</p>"},{"location":"python/Py-100Days/Day41-55/45.Cookie%E5%92%8CSession/","title":"45.Cookie\u548cSession","text":""},{"location":"python/Py-100Days/Day41-55/45.Cookie%E5%92%8CSession/#cookiesession","title":"Cookie\u548cSession","text":""},{"location":"python/Py-100Days/Day41-55/45.Cookie%E5%92%8CSession/#_1","title":"\u5b9e\u73b0\u7528\u6237\u8ddf\u8e2a","text":"<p>\u5982\u4eca\uff0c\u4e00\u4e2a\u7f51\u7ad9\u5982\u679c\u4e0d\u901a\u8fc7\u67d0\u79cd\u65b9\u5f0f\u8bb0\u4f4f\u4f60\u662f\u8c01\u4ee5\u53ca\u4f60\u4e4b\u524d\u5728\u7f51\u7ad9\u7684\u6d3b\u52a8\u60c5\u51b5\uff0c\u5931\u53bb\u7684\u5c31\u662f\u7f51\u7ad9\u7684\u53ef\u7528\u6027\u548c\u4fbf\u5229\u6027\uff0c\u7ee7\u800c\u5f88\u6709\u53ef\u80fd\u5bfc\u81f4\u7f51\u7ad9\u7528\u6237\u7684\u6d41\u5f0f\uff0c\u6240\u4ee5\u8bb0\u4f4f\u4e00\u4e2a\u7528\u6237\uff08\u66f4\u4e13\u4e1a\u7684\u8bf4\u6cd5\u53eb\u7528\u6237\u8ddf\u8e2a\uff09\u5bf9\u7edd\u5927\u591a\u6570Web\u5e94\u7528\u6765\u8bf4\u90fd\u662f\u5fc5\u9700\u7684\u529f\u80fd\u3002</p> <p>\u5728\u670d\u52a1\u5668\u7aef\uff0c\u6211\u4eec\u60f3\u8bb0\u4f4f\u4e00\u4e2a\u7528\u6237\u6700\u7b80\u5355\u7684\u529e\u6cd5\u5c31\u662f\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\uff0c\u901a\u8fc7\u8fd9\u4e2a\u5bf9\u8c61\u5c31\u53ef\u4ee5\u628a\u7528\u6237\u76f8\u5173\u7684\u4fe1\u606f\u90fd\u4fdd\u5b58\u8d77\u6765\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u5c31\u662f\u6211\u4eec\u5e38\u8bf4\u7684session\uff08\u7528\u6237\u4f1a\u8bdd\u5bf9\u8c61\uff09\u3002\u90a3\u4e48\u95ee\u9898\u6765\u4e86\uff0cHTTP\u672c\u8eab\u662f\u4e00\u4e2a\u65e0\u8fde\u63a5\uff08\u6bcf\u6b21\u8bf7\u6c42\u548c\u54cd\u5e94\u7684\u8fc7\u7a0b\u4e2d\uff0c\u670d\u52a1\u5668\u4e00\u65e6\u5b8c\u6210\u5bf9\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u54cd\u5e94\u4e4b\u540e\u5c31\u65ad\u5f00\u8fde\u63a5\uff09\u3001\u65e0\u72b6\u6001\uff08\u5ba2\u6237\u7aef\u518d\u6b21\u53d1\u8d77\u5bf9\u670d\u52a1\u5668\u7684\u8bf7\u6c42\u65f6\uff0c\u670d\u52a1\u5668\u65e0\u6cd5\u5f97\u77e5\u8fd9\u4e2a\u5ba2\u6237\u7aef\u4e4b\u524d\u7684\u4efb\u4f55\u4fe1\u606f\uff09\u7684\u534f\u8bae\uff0c\u5373\u4fbf\u670d\u52a1\u5668\u901a\u8fc7session\u5bf9\u8c61\u4fdd\u7559\u4e86\u7528\u6237\u6570\u636e\uff0c\u8fd8\u5f97\u901a\u8fc7\u67d0\u79cd\u65b9\u5f0f\u6765\u786e\u5b9a\u5f53\u524d\u7684\u8bf7\u6c42\u4e0e\u4e4b\u524d\u4fdd\u5b58\u8fc7\u7684\u54ea\u4e00\u4e2asession\u662f\u6709\u5173\u8054\u7684\u3002\u76f8\u4fe1\u5f88\u591a\u4eba\u90fd\u80fd\u60f3\u5230\uff0c\u6211\u4eec\u53ef\u4ee5\u7ed9\u6bcf\u4e2asession\u5bf9\u8c61\u5206\u914d\u4e00\u4e2a\u5168\u5c40\u552f\u4e00\u7684\u6807\u8bc6\u7b26\u6765\u8bc6\u522bsession\u5bf9\u8c61\uff0c\u6211\u4eec\u59d1\u4e14\u79f0\u4e4b\u4e3asessionid\uff0c\u6bcf\u6b21\u5ba2\u6237\u7aef\u53d1\u8d77\u8bf7\u6c42\u65f6\uff0c\u53ea\u8981\u643a\u5e26\u4e0a\u8fd9\u4e2asessionid\uff0c\u5c31\u6709\u529e\u6cd5\u627e\u5230\u4e0e\u4e4b\u5bf9\u5e94\u7684session\u5bf9\u8c61\uff0c\u4ece\u800c\u5b9e\u73b0\u5728\u4e24\u6b21\u8bf7\u6c42\u4e4b\u95f4\u8bb0\u4f4f\u8be5\u7528\u6237\u7684\u4fe1\u606f\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u4e4b\u524d\u8bf4\u7684\u7528\u6237\u8ddf\u8e2a\u3002</p> <p>\u8981\u8ba9\u5ba2\u6237\u7aef\u8bb0\u4f4f\u5e76\u5728\u6bcf\u6b21\u8bf7\u6c42\u65f6\u5e26\u4e0asessionid\u53c8\u6709\u4ee5\u4e0b\u51e0\u79cd\u505a\u6cd5\uff1a</p> <ol> <li> <p>URL\u91cd\u5199\u3002\u6240\u8c13URL\u91cd\u5199\u5c31\u662f\u5728URL\u4e2d\u643a\u5e26sessionid\uff0c\u4f8b\u5982\uff1a<code>http://www.example.com/index.html?sessionid=123456</code>\uff0c\u670d\u52a1\u5668\u901a\u8fc7\u83b7\u53d6sessionid\u53c2\u6570\u7684\u503c\u6765\u53d6\u5230\u4e0e\u4e4b\u5bf9\u5e94\u7684session\u5bf9\u8c61\u3002</p> </li> <li> <p>\u9690\u85cf\u57df\uff08\u9690\u5f0f\u8868\u5355\u57df\uff09\u3002\u5728\u63d0\u4ea4\u8868\u5355\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u901a\u8fc7\u5728\u8868\u5355\u4e2d\u8bbe\u7f6e\u9690\u85cf\u57df\u5411\u670d\u52a1\u5668\u53d1\u9001\u989d\u5916\u7684\u6570\u636e\u3002\u4f8b\u5982\uff1a<code>&lt;input type=\"hidden\" name=\"sessionid\" value=\"123456\"&gt;</code>\u3002</p> </li> <li> <p>Cookie\u3002Cookie\u662f\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668\u4e34\u65f6\u6587\u4ef6\u4e2d\u7684\u6570\u636e\uff0c\u6bcf\u6b21\u8bf7\u6c42\u65f6\uff0c\u8bf7\u6c42\u5934\u4e2d\u4f1a\u643a\u5e26\u672c\u7ad9\u70b9\u7684cookie\u5230\u670d\u52a1\u5668\uff0c\u90a3\u4e48\u53ea\u8981\u5c06sessionid\u5199\u5165cookie\uff0c\u4e0b\u6b21\u8bf7\u6c42\u65f6\u670d\u52a1\u5668\u53ea\u8981\u8bfb\u53d6\u8bf7\u6c42\u5934\u4e2d\u7684cookie\u5c31\u80fd\u591f\u83b7\u5f97\u8fd9\u4e2asessionid\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> </li> </ol> <p></p> <p>\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u5728HTML5\u65f6\u4ee3\u8981\u60f3\u5728\u6d4f\u89c8\u5668\u4e2d\u4fdd\u5b58\u6570\u636e\uff0c\u9664\u4e86\u4f7f\u7528cookie\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u65b0\u7684\u672c\u5730\u5b58\u50a8API\uff0c\u5305\u62eclocalStorage\u3001sessionStorage\u3001IndexedDB\u7b49\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p>"},{"location":"python/Py-100Days/Day41-55/45.Cookie%E5%92%8CSession/#djangosession","title":"Django\u6846\u67b6\u5bf9session\u7684\u652f\u6301","text":"<p>\u5728\u521b\u5efaDjango\u9879\u76ee\u65f6\uff0c\u9ed8\u8ba4\u7684\u914d\u7f6e\u6587\u4ef6<code>settings.py</code>\u6587\u4ef6\u4e2d\u5df2\u7ecf\u6fc0\u6d3b\u4e86\u4e00\u4e2a\u540d\u4e3a<code>SessionMiddleware</code>\u7684\u4e2d\u95f4\u4ef6\uff08\u5173\u4e8e\u4e2d\u95f4\u4ef6\u7684\u77e5\u8bc6\u6211\u4eec\u5728\u4e0b\u4e00\u4e2a\u7ae0\u8282\u505a\u8be6\u7ec6\u7684\u8bb2\u89e3\uff0c\u8fd9\u91cc\u53ea\u9700\u8981\u77e5\u9053\u5b83\u7684\u5b58\u5728\u5373\u53ef\uff09\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u4e2d\u95f4\u4ef6\u7684\u5b58\u5728\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u8bf7\u6c42\u5bf9\u8c61\u7684<code>session</code>\u5c5e\u6027\u6765\u64cd\u4f5c\u4f1a\u8bdd\u5bf9\u8c61\u3002<code>session</code>\u5c5e\u6027\u662f\u4e00\u4e2a\u50cf\u5b57\u5178\u4e00\u6837\u53ef\u4ee5\u8bfb\u5199\u6570\u636e\u7684\u5bb9\u5668\u5bf9\u8c61\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u201c\u952e\u503c\u5bf9\u201d\u7684\u65b9\u5f0f\u6765\u4fdd\u7559\u7528\u6237\u6570\u636e\u3002\u4e0e\u6b64\u540c\u65f6\uff0c<code>SessionMiddleware</code>\u4e2d\u95f4\u4ef6\u8fd8\u5c01\u88c5\u4e86\u5bf9cookie\u7684\u64cd\u4f5c\uff0c\u5728cookie\u4e2d\u4fdd\u5b58\u4e86sessionid\uff0c\u5c31\u5982\u540c\u6211\u4eec\u4e4b\u524d\u63cf\u8ff0\u7684\u90a3\u6837\u3002</p> <p>\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cDjango\u5c06session\u7684\u6570\u636e\u5e8f\u5217\u5316\u540e\u4fdd\u5b58\u5728\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\uff0c\u5728Django 1.6\u4ee5\u540e\u7684\u7248\u672c\u4e2d\uff0c\u9ed8\u8ba4\u7684\u5e8f\u5217\u5316\u6570\u636e\u7684\u65b9\u5f0f\u662fJSON\u5e8f\u5217\u5316\uff0c\u800c\u5728\u6b64\u4e4b\u524d\u4e00\u76f4\u4f7f\u7528Pickle\u5e8f\u5217\u5316\u3002JSON\u5e8f\u5217\u5316\u548cPickle\u5e8f\u5217\u5316\u7684\u5dee\u522b\u5728\u4e8e\u524d\u8005\u5c06\u5bf9\u8c61\u5e8f\u5217\u5316\u4e3a\u5b57\u7b26\u4e32\uff08\u5b57\u7b26\u5f62\u5f0f\uff09\uff0c\u800c\u540e\u8005\u5c06\u5bf9\u8c61\u5e8f\u5217\u5316\u4e3a\u5b57\u8282\u4e32\uff08\u4e8c\u8fdb\u5236\u5f62\u5f0f\uff09\uff0c\u56e0\u4e3a\u5b89\u5168\u65b9\u9762\u7684\u539f\u56e0\uff0cJSON\u5e8f\u5217\u5316\u6210\u4e3a\u4e86\u76ee\u524dDjango\u6846\u67b6\u9ed8\u8ba4\u5e8f\u5217\u5316\u6570\u636e\u7684\u65b9\u5f0f\uff0c\u8fd9\u5c31\u8981\u6c42\u5728\u6211\u4eec\u4fdd\u5b58\u5728session\u4e2d\u7684\u6570\u636e\u5fc5\u987b\u662f\u80fd\u591fJSON\u5e8f\u5217\u5316\u7684\uff0c\u5426\u5219\u5c31\u4f1a\u5f15\u53d1\u5f02\u5e38\u3002\u8fd8\u6709\u4e00\u70b9\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u4f7f\u7528\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4fdd\u5b58session\u4e2d\u7684\u6570\u636e\u5728\u5927\u591a\u6570\u65f6\u5019\u5e76\u4e0d\u662f\u6700\u597d\u7684\u9009\u62e9\uff0c\u56e0\u4e3a\u6570\u636e\u5e93\u53ef\u80fd\u4f1a\u627f\u53d7\u5de8\u5927\u7684\u538b\u529b\u800c\u6210\u4e3a\u7cfb\u7edf\u6027\u80fd\u7684\u74f6\u9888\uff0c\u5728\u540e\u9762\u7684\u7ae0\u8282\u4e2d\u6211\u4eec\u4f1a\u544a\u8bc9\u5927\u5bb6\u5982\u4f55\u5c06session\u7684\u6570\u636e\u4fdd\u5b58\u5230\u7f13\u5b58\u670d\u52a1\u4e2d\u3002</p> <p>\u6211\u4eec\u7ee7\u7eed\u5b8c\u5584\u4e4b\u524d\u7684\u6295\u7968\u5e94\u7528\uff0c\u524d\u4e00\u4e2a\u7ae0\u8282\u4e2d\u6211\u4eec\u5b9e\u73b0\u4e86\u7528\u6237\u7684\u767b\u5f55\u548c\u6ce8\u518c\uff0c\u4e0b\u9762\u6211\u4eec\u9996\u5148\u5b8c\u5584\u767b\u5f55\u65f6\u5bf9\u9a8c\u8bc1\u7801\u7684\u68c0\u67e5\u3002</p> <pre><code>def get_captcha(request):\n    \"\"\"\u9a8c\u8bc1\u7801\"\"\"\n    captcha_text = random_captcha_text()\n    request.session['captcha'] = captcha_text\n    image_data = Captcha.instance().generate(captcha_text)\n    return HttpResponse(image_data, content_type='image/png')\n</code></pre> <p>\u6ce8\u610f\u4e0a\u9762\u4ee3\u7801\u4e2d\u7684\u7b2c4\u884c\uff0c\u6211\u4eec\u5c06\u968f\u673a\u751f\u6210\u7684\u9a8c\u8bc1\u7801\u5b57\u7b26\u4e32\u4fdd\u5b58\u5230session\u4e2d\uff0c\u7a0d\u540e\u7528\u6237\u767b\u5f55\u65f6\uff0c\u6211\u4eec\u8981\u5c06\u4fdd\u5b58\u5728session\u4e2d\u7684\u9a8c\u8bc1\u7801\u5b57\u7b26\u4e32\u548c\u7528\u6237\u8f93\u5165\u7684\u9a8c\u8bc1\u7801\u5b57\u7b26\u4e32\u8fdb\u884c\u6bd4\u5bf9\uff0c\u5982\u679c\u7528\u6237\u8f93\u5165\u4e86\u6b63\u786e\u7684\u9a8c\u8bc1\u7801\u624d\u80fd\u591f\u6267\u884c\u540e\u7eed\u7684\u767b\u5f55\u6d41\u7a0b\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>def login(request: HttpRequest):\n    \"\"\"\u767b\u5f55\"\"\"\n    hint = ''\n    if request.method == 'POST':\n        form = LoginForm(request.POST)\n        if form.is_valid():\n            # \u5bf9\u9a8c\u8bc1\u7801\u7684\u6b63\u786e\u6027\u8fdb\u884c\u9a8c\u8bc1\n            captcha_from_user = form.cleaned_data['captcha']\n            captcha_from_sess = request.session.get('captcha', '')\n            if captcha_from_sess.lower() != captcha_from_user.lower():\n                hint = '\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u9a8c\u8bc1\u7801'\n            else:\n                username = form.cleaned_data['username']\n                password = form.cleaned_data['password']\n                user = User.objects.filter(username=username, password=password).first()\n                if user:\n                    # \u767b\u5f55\u6210\u529f\u540e\u5c06\u7528\u6237\u7f16\u53f7\u548c\u7528\u6237\u540d\u4fdd\u5b58\u5728session\u4e2d\n                    request.session['no'] = user.no\n                    request.session['username'] = user.username\n                    return redirect('/')\n                else:\n                    hint = '\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef'\n        else:\n            hint = '\u8bf7\u8f93\u5165\u6709\u6548\u7684\u767b\u5f55\u4fe1\u606f'\n    return render(request, 'login.html', {'hint': hint})\n</code></pre> <p>\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u8bbe\u5b9a\u4e86\u767b\u5f55\u6210\u529f\u540e\u4f1a\u5728session\u4e2d\u4fdd\u5b58\u7528\u6237\u7684\u7f16\u53f7\uff08<code>no</code>\uff09\u548c\u7528\u6237\u540d\uff08<code>username</code>\uff09\uff0c\u9875\u9762\u4f1a\u91cd\u5b9a\u5411\u5230\u9996\u9875\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u53ef\u4ee5\u7a0d\u5fae\u5bf9\u9996\u9875\u7684\u4ee3\u7801\u8fdb\u884c\u8c03\u6574\uff0c\u5728\u9875\u9762\u7684\u53f3\u4e0a\u89d2\u663e\u793a\u51fa\u767b\u5f55\u7528\u6237\u7684\u7528\u6237\u540d\u3002\u6211\u4eec\u5c06\u8fd9\u6bb5\u4ee3\u7801\u5355\u72ec\u5199\u6210\u4e86\u4e00\u4e2a\u540d\u4e3aheader.html\u7684HTML\u6587\u4ef6\uff0c\u9996\u9875\u4e2d\u53ef\u4ee5\u901a\u8fc7\u5728<code>&lt;body&gt;</code>\u6807\u7b7e\u4e2d\u6dfb\u52a0<code>{% include 'header.html' %}</code>\u6765\u5305\u542b\u8fd9\u4e2a\u9875\u9762\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>&lt;div class=\"user\"&gt;\n    {% if request.session.no %}\n    &lt;span&gt;{{ request.session.username }}&lt;/span&gt;\n    &lt;a href=\"/vote/logout\"&gt;\u6ce8\u9500&lt;/a&gt;\n    {% else %}\n    &lt;a href=\"/vote/login\"&gt;\u767b\u5f55&lt;/a&gt;&amp;nbsp;&amp;nbsp;\n    {% endif %}\n    &lt;a href=\"/vote/register\"&gt;\u6ce8\u518c&lt;/a&gt;\n&lt;/div&gt;\n</code></pre> <p>\u5982\u679c\u7528\u6237\u6ca1\u6709\u767b\u5f55\uff0c\u9875\u9762\u4f1a\u663e\u793a\u767b\u5f55\u548c\u6ce8\u518c\u7684\u8d85\u94fe\u63a5\uff1b\u800c\u7528\u6237\u767b\u5f55\u6210\u529f\u540e\uff0c\u9875\u9762\u4e0a\u4f1a\u663e\u793a\u7528\u6237\u540d\u548c\u6ce8\u9500\u7684\u94fe\u63a5\uff0c\u6ce8\u9500\u94fe\u63a5\u5bf9\u5e94\u7684\u89c6\u56fe\u51fd\u6570\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>def logout(request):\n    \"\"\"\u6ce8\u9500\"\"\"\n    request.session.flush()\n    return redirect('/')\n</code></pre> <p>\u4e0a\u9762\u7684\u4ee3\u7801\u901a\u8fc7session\u5bf9\u8c61<code>flush</code>\u65b9\u6cd5\u6765\u9500\u6bc1session\uff0c\u4e00\u65b9\u9762\u6e05\u9664\u4e86\u670d\u52a1\u5668\u4e0asession\u5bf9\u8c61\u4fdd\u5b58\u7684\u7528\u6237\u6570\u636e\uff0c\u4e00\u65b9\u9762\u5c06\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668cookie\u4e2d\u7684sessionid\u5220\u9664\u6389\uff0c\u7a0d\u540e\u6211\u4eec\u4f1a\u5bf9\u5982\u4f55\u8bfb\u5199cookie\u7684\u64cd\u4f5c\u52a0\u4ee5\u8bf4\u660e\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u9879\u76ee\u4f7f\u7528\u7684\u6570\u636e\u5e93\u4e2d\u540d\u4e3a<code>django_session</code> \u7684\u8868\u6765\u627e\u5230\u6240\u6709\u7684session\uff0c\u8be5\u8868\u7684\u7ed3\u6784\u5982\u4e0b\u6240\u793a\uff1a</p> session_key session_data expire_date c9g2gt5cxo0k2evykgpejhic5ae7bfpl MmI4YzViYjJhOGMyMDJkY2M5Yzg3... 2019-05-25 23:16:13.898522 <p>\u5176\u4e2d\uff0c\u7b2c1\u5217\u5c31\u662f\u6d4f\u89c8\u5668cookie\u4e2d\u4fdd\u5b58\u7684sessionid\uff1b\u7b2c2\u5217\u662f\u7ecf\u8fc7BASE64\u7f16\u7801\u540e\u7684session\u4e2d\u7684\u6570\u636e\uff0c\u5982\u679c\u4f7f\u7528Python\u7684<code>base64</code>\u5bf9\u5176\u8fdb\u884c\u89e3\u7801\uff0c\u89e3\u7801\u7684\u8fc7\u7a0b\u548c\u7ed3\u679c\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>&gt;&gt;&gt; import base64\n&gt;&gt;&gt; base64.b64decode('MmI4YzViYjJhOGMyMDJkY2M5Yzg3ZWIyZGViZmUzYmYxNzdlNDdmZjp7ImNhcHRjaGEiOiJzS3d0Iiwibm8iOjEsInVzZXJuYW1lIjoiamFja2ZydWVkIn0=')    \n'2b8c5bb2a8c202dcc9c87eb2debfe3bf177e47ff:{\"captcha\":\"sKwt\",\"no\":1,\"username\":\"jackfrued\"}'\n</code></pre> <p>\u7b2c3\u5217\u662fsession\u7684\u8fc7\u671f\u65f6\u95f4\uff0csession\u8fc7\u671f\u540e\u6d4f\u89c8\u5668\u4fdd\u5b58\u7684cookie\u4e2d\u7684sessionid\u5c31\u4f1a\u5931\u6548\uff0c\u4f46\u662f\u6570\u636e\u5e93\u4e2d\u7684\u8fd9\u6761\u5bf9\u5e94\u7684\u8bb0\u5f55\u4ecd\u7136\u4f1a\u5b58\u5728\uff0c\u5982\u679c\u60f3\u6e05\u9664\u8fc7\u671f\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u3002</p> <pre><code>python manage.py clearsessions\n</code></pre> <p>Django\u6846\u67b6\u9ed8\u8ba4\u7684session\u8fc7\u671f\u65f6\u95f4\u4e3a\u4e24\u5468\uff081209600\u79d2\uff09\uff0c\u5982\u679c\u60f3\u4fee\u6539\u8fd9\u4e2a\u65f6\u95f4\uff0c\u53ef\u4ee5\u5728\u9879\u76ee\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u5982\u4e0b\u6240\u793a\u7684\u4ee3\u7801\u3002</p> <pre><code># \u914d\u7f6e\u4f1a\u8bdd\u7684\u8d85\u65f6\u65f6\u95f4\u4e3a1\u5929\uff0886400\u79d2\uff09\nSESSION_COOKIE_AGE = 86400\n</code></pre> <p>\u6709\u5f88\u591a\u5bf9\u5b89\u5168\u6027\u8981\u6c42\u8f83\u9ad8\u7684\u5e94\u7528\u90fd\u5fc5\u987b\u5728\u5173\u95ed\u6d4f\u89c8\u5668\u7a97\u53e3\u65f6\u8ba9\u4f1a\u8bdd\u8fc7\u671f\uff0c\u4e0d\u518d\u4fdd\u7559\u7528\u6237\u7684\u4efb\u4f55\u4fe1\u606f\uff0c\u5982\u679c\u5e0c\u671b\u5728\u5173\u95ed\u6d4f\u89c8\u5668\u7a97\u53e3\u65f6\u5c31\u8ba9\u4f1a\u8bdd\u8fc7\u671f\uff08cookie\u4e2d\u7684sessionid\u5931\u6548\uff09\uff0c\u53ef\u4ee5\u52a0\u5165\u5982\u4e0b\u6240\u793a\u7684\u914d\u7f6e\u3002</p> <pre><code># \u8bbe\u7f6e\u4e3aTrue\u5728\u5173\u95ed\u6d4f\u89c8\u5668\u7a97\u53e3\u65f6session\u5c31\u8fc7\u671f\nSESSION_EXPIRE_AT_BROWSER_CLOSE = True\n</code></pre> <p>\u5982\u679c\u4e0d\u5e0c\u671b\u5c06session\u7684\u6570\u636e\u4fdd\u5b58\u5728\u6570\u636e\u5e93\u4e2d\uff0c\u53ef\u4ee5\u5c06\u5176\u653e\u5165\u7f13\u5b58\u4e2d\uff0c\u5bf9\u5e94\u7684\u914d\u7f6e\u5982\u4e0b\u6240\u793a\uff0c\u7f13\u5b58\u7684\u914d\u7f6e\u548c\u4f7f\u7528\u6211\u4eec\u5728\u540e\u9762\u8bb2\u89e3\u3002</p> <pre><code># \u914d\u7f6e\u5c06\u4f1a\u8bdd\u5bf9\u8c61\u653e\u5230\u7f13\u5b58\u4e2d\u5b58\u50a8\nSESSION_ENGINE = 'django.contrib.sessions.backends.cache'\n# \u914d\u7f6e\u4f7f\u7528\u54ea\u4e00\u7ec4\u7f13\u5b58\u6765\u4fdd\u5b58\u4f1a\u8bdd\nSESSION_CACHE_ALIAS = 'default'\n</code></pre> <p>\u5982\u679c\u8981\u4fee\u6539session\u6570\u636e\u9ed8\u8ba4\u7684\u5e8f\u5217\u5316\u65b9\u5f0f\uff0c\u53ef\u4ee5\u5c06\u9ed8\u8ba4\u7684<code>JSONSerializer</code>\u4fee\u6539\u4e3a<code>PickleSerializer</code>\u3002</p> <pre><code>SESSION_SERIALIZER = 'django.contrib.sessions.serializers.PickleSerializer'\n</code></pre>"},{"location":"python/Py-100Days/Day41-55/45.Cookie%E5%92%8CSession/#cookie","title":"\u5728\u89c6\u56fe\u51fd\u6570\u4e2d\u8bfb\u5199cookie","text":"<p>Django\u5c01\u88c5\u7684<code>HttpRequest</code>\u548c<code>HttpResponse</code>\u5bf9\u8c61\u5206\u522b\u63d0\u4f9b\u4e86\u8bfb\u5199cookie\u7684\u64cd\u4f5c\u3002</p> <p>HttpRequest\u5c01\u88c5\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff1a</p> <ol> <li><code>COOKIES</code>\u5c5e\u6027 - \u8be5\u5c5e\u6027\u5305\u542b\u4e86HTTP\u8bf7\u6c42\u643a\u5e26\u7684\u6240\u6709cookie\u3002</li> <li><code>get_signed_cookie</code>\u65b9\u6cd5 - \u83b7\u53d6\u5e26\u7b7e\u540d\u7684cookie\uff0c\u5982\u679c\u7b7e\u540d\u9a8c\u8bc1\u5931\u8d25\uff0c\u4f1a\u4ea7\u751f<code>BadSignature</code>\u5f02\u5e38\u3002</li> </ol> <p>HttpResponse\u5c01\u88c5\u7684\u65b9\u6cd5\uff1a</p> <ol> <li><code>set_cookie</code>\u65b9\u6cd5 - \u8be5\u65b9\u6cd5\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u7ec4\u952e\u503c\u5bf9\u5e76\u5c06\u5176\u6700\u7ec8\u5c06\u5199\u5165\u6d4f\u89c8\u5668\u3002</li> <li><code>set_signed_cookie</code>\u65b9\u6cd5 - \u8ddf\u4e0a\u9762\u7684\u65b9\u6cd5\u4f5c\u7528\u76f8\u4f3c\uff0c\u4f46\u662f\u4f1a\u5bf9cookie\u8fdb\u884c\u7b7e\u540d\u6765\u8fbe\u5230\u9632\u7be1\u6539\u7684\u4f5c\u7528\u3002\u56e0\u4e3a\u5982\u679c\u7be1\u6539\u4e86cookie\u4e2d\u7684\u6570\u636e\uff0c\u5728\u4e0d\u77e5\u9053\u5bc6\u94a5\u548c\u76d0\u7684\u60c5\u51b5\u4e0b\u662f\u65e0\u6cd5\u751f\u6210\u6709\u6548\u7684\u7b7e\u540d\uff0c\u8fd9\u6837\u670d\u52a1\u5668\u5728\u8bfb\u53d6cookie\u65f6\u4f1a\u53d1\u73b0\u6570\u636e\u4e0e\u7b7e\u540d\u4e0d\u4e00\u81f4\u4ece\u800c\u4ea7\u751f<code>BadSignature</code>\u5f02\u5e38\u3002\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u8fd9\u91cc\u6240\u8bf4\u7684\u5bc6\u94a5\u5c31\u662f\u6211\u4eec\u5728Django\u9879\u76ee\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u7684<code>SECRET_KEY</code>\uff0c\u800c\u76d0\u662f\u7a0b\u5e8f\u4e2d\u8bbe\u5b9a\u7684\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4f60\u613f\u610f\u8bbe\u5b9a\u4e3a\u4ec0\u4e48\u90fd\u53ef\u4ee5\uff0c\u53ea\u8981\u662f\u4e00\u4e2a\u6709\u6548\u7684\u5b57\u7b26\u4e32\u3002</li> </ol> <p>\u4e0a\u9762\u63d0\u5230\u7684\u65b9\u6cd5\uff0c\u5982\u679c\u4e0d\u6e05\u695a\u5b83\u4eec\u7684\u5177\u4f53\u7528\u6cd5\uff0c\u53ef\u4ee5\u81ea\u5df1\u67e5\u9605\u4e00\u4e0bDjango\u7684\u5b98\u65b9\u6587\u6863\uff0c\u6ca1\u6709\u4ec0\u4e48\u8d44\u6599\u6bd4\u5b98\u65b9\u6587\u6863\u80fd\u591f\u66f4\u6e05\u695a\u7684\u544a\u8bc9\u4f60\u8fd9\u4e9b\u65b9\u6cd5\u5230\u5e95\u5982\u4f55\u4f7f\u7528\u3002</p> <p>\u521a\u624d\u6211\u4eec\u8bf4\u8fc7\u4e86\uff0c\u6fc0\u6d3b<code>SessionMiddleware</code>\u4e4b\u540e\uff0c\u6bcf\u4e2a<code>HttpRequest</code>\u5bf9\u8c61\u90fd\u4f1a\u7ed1\u5b9a\u4e00\u4e2asession\u5c5e\u6027\uff0c\u5b83\u662f\u4e00\u4e2a\u7c7b\u4f3c\u5b57\u5178\u7684\u5bf9\u8c61\uff0c\u9664\u4e86\u4fdd\u5b58\u7528\u6237\u6570\u636e\u4e4b\u5916\u8fd8\u63d0\u4f9b\u4e86\u68c0\u6d4b\u6d4f\u89c8\u5668\u662f\u5426\u652f\u6301cookie\u7684\u65b9\u6cd5\uff0c\u5305\u62ec\uff1a</p> <ol> <li><code>set_test_cookie</code>\u65b9\u6cd5 - \u8bbe\u7f6e\u7528\u4e8e\u6d4b\u8bd5\u7684cookie\u3002</li> <li><code>test_cookie_worked</code>\u65b9\u6cd5 - \u68c0\u6d4b\u6d4b\u8bd5cookie\u662f\u5426\u5de5\u4f5c\u3002</li> <li><code>delete_test_cookie</code>\u65b9\u6cd5 - \u5220\u9664\u7528\u4e8e\u6d4b\u8bd5\u7684cookie\u3002</li> <li><code>set_expiry</code>\u65b9\u6cd5 - \u8bbe\u7f6e\u4f1a\u8bdd\u7684\u8fc7\u671f\u65f6\u95f4\u3002</li> <li><code>get_expire_age</code>/<code>get_expire_date</code>\u65b9\u6cd5 - \u83b7\u53d6\u4f1a\u8bdd\u7684\u8fc7\u671f\u65f6\u95f4\u3002</li> <li><code>clear_expired</code>\u65b9\u6cd5 - \u6e05\u7406\u8fc7\u671f\u7684\u4f1a\u8bdd\u3002</li> </ol> <p>\u4e0b\u9762\u662f\u5728\u6267\u884c\u767b\u5f55\u4e4b\u524d\u68c0\u67e5\u6d4f\u89c8\u5668\u662f\u5426\u652f\u6301cookie\u7684\u4ee3\u7801\u3002</p> <pre><code>def login(request):\n    if request.method == 'POST':\n        if request.session.test_cookie_worked():\n            request.session.delete_test_cookie()\n            # Add your code to perform login process here\n        else:\n            return HttpResponse(\"Please enable cookies and try again.\")\n    request.session.set_test_cookie()\n    return render_to_response('login.html')\n</code></pre>"},{"location":"python/Py-100Days/Day41-55/45.Cookie%E5%92%8CSession/#cookie_1","title":"Cookie\u7684\u66ff\u4ee3\u54c1","text":"<p>\u4e4b\u524d\u6211\u4eec\u8bf4\u8fc7\u4e86\uff0ccookie\u7684\u540d\u58f0\u4e00\u76f4\u90fd\u4e0d\u600e\u4e48\u597d\uff0c\u5f53\u7136\u6211\u4eec\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\u662f\u4e0d\u4f1a\u5728cookie\u4e2d\u4fdd\u5b58\u7528\u6237\u7684\u654f\u611f\u4fe1\u606f\uff08\u5982\u7528\u6237\u7684\u5bc6\u7801\u3001\u4fe1\u7528\u5361\u7684\u8d26\u53f7\u7b49\uff09\u7684\uff0c\u800c\u4e14\u4fdd\u5b58\u5728cookie\u4e2d\u7684\u6570\u636e\u4e00\u822c\u4e5f\u4f1a\u505a\u597d\u7f16\u7801\u548c\u7b7e\u540d\u7684\u5de5\u4f5c\u3002\u5373\u4fbf\u5982\u6b64\uff0cHTML5\u4e2d\u8fd8\u662f\u7ed9\u51fa\u4e86\u7528\u4e8e\u66ff\u4ee3cookie\u7684\u6280\u672f\u65b9\u6848\uff0c\u5176\u4e2d\u4f7f\u7528\u5f97\u6700\u4e3a\u5e7f\u6cdb\u7684\u5c31\u662flocalStorage\u548csessionStorage\uff0c\u76f8\u4fe1\u4ece\u540d\u5b57\u4e0a\u4f60\u5c31\u80fd\u542c\u51fa\u4e8c\u8005\u7684\u5dee\u522b\uff0c\u5b58\u50a8\u5728<code>localStorage</code>\u7684\u6570\u636e\u53ef\u4ee5\u957f\u671f\u4fdd\u7559\uff1b\u800c\u5b58\u50a8\u5728<code>sessionStorage</code>\u7684\u6570\u636e\u4f1a\u5728\u6d4f\u89c8\u5668\u5173\u95ed\u65f6\u4f1a\u88ab\u6e05\u9664 \u3002\u5173\u4e8e\u8fd9\u4e9bcookie\u66ff\u4ee3\u54c1\u7684\u7528\u6cd5\uff0c\u5efa\u8bae\u5927\u5bb6\u67e5\u9605MDN\u6765\u8fdb\u884c\u4e86\u89e3\u3002</p>"},{"location":"python/Py-100Days/Day41-55/46.%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84%E5%BA%94%E7%94%A8/","title":"46.\u4e2d\u95f4\u4ef6\u7684\u5e94\u7528","text":""},{"location":"python/Py-100Days/Day41-55/46.%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84%E5%BA%94%E7%94%A8/#_1","title":"\u4e2d\u95f4\u4ef6\u7684\u5e94\u7528","text":"<p>\u6211\u4eec\u7ee7\u7eed\u6765\u5b8c\u5584\u6295\u7968\u5e94\u7528\u3002\u5728\u4e0a\u4e00\u4e2a\u7ae0\u8282\u4e2d\uff0c\u6211\u4eec\u5728\u7528\u6237\u767b\u5f55\u6210\u529f\u540e\u901a\u8fc7session\u4fdd\u7559\u4e86\u7528\u6237\u4fe1\u606f\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u53ef\u4ee5\u5e94\u7528\u505a\u4e00\u4e9b\u8c03\u6574\uff0c\u8981\u6c42\u5728\u4e3a\u8001\u5e08\u6295\u7968\u65f6\u5fc5\u987b\u8981\u5148\u767b\u5f55\uff0c\u767b\u5f55\u8fc7\u7684\u7528\u6237\u53ef\u4ee5\u6295\u7968\uff0c\u5426\u5219\u5c31\u5c06\u7528\u6237\u5f15\u5bfc\u5230\u767b\u5f55\u9875\u9762\uff0c\u4e3a\u6b64\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u4fee\u6539\u89c6\u56fe\u51fd\u6570\u3002</p> <pre><code>def praise_or_criticize(request: HttpRequest):\n    \"\"\"\u6295\u7968\"\"\"\n    if 'username' in request.session:\n        try:\n            tno = int(request.GET.get('tno', '0'))\n            teacher = Teacher.objects.get(no=tno)\n            if request.path.startswith('/vote/praise'):\n                teacher.good_count += 1\n            else:\n                teacher.bad_count += 1\n            teacher.save()\n            data = {'code': 200, 'message': '\u64cd\u4f5c\u6210\u529f'}\n        except (ValueError, Teacher.DoesNotExist):\n            data = {'code': 404, 'message': '\u64cd\u4f5c\u5931\u8d25'}\n    else:\n        data = {'code': 401, 'message': '\u8bf7\u5148\u767b\u5f55'}\n    return JsonResponse(data)\n</code></pre> <p>\u524d\u7aef\u9875\u9762\u5728\u6536\u5230<code>{'code': 401, 'message': '\u8bf7\u5148\u767b\u5f55'}</code>\u540e\uff0c\u53ef\u4ee5\u5c06\u7528\u6237\u5f15\u5bfc\u5230\u767b\u5f55\u9875\u9762\uff0c\u4fee\u6539\u540e\u7684teacher.html\u9875\u9762\u7684JavaScript\u4ee3\u7801\u90e8\u95e8\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>&lt;script&gt;\n    $(() =&gt; {\n        $('.comment &gt; a').on('click', (evt) =&gt; {\n            evt.preventDefault()\n            let a = $(evt.target)\n            $.ajax({\n                url: a.attr('href'),\n                type: 'get',\n                dataType: 'json',\n                success: (json) =&gt; {\n                    if (json.code == 200) {\n                        let span = a.next()\n                        span.text(parseInt(span.text()) + 1)\n                    } else if (json.code == 401) {\n                        location.href = '/vote/login/?backurl=' + location.href\n                    } else {\n                        alert(json.message)\n                    }\n                }\n            })\n        })\n    })\n&lt;/script&gt;\n</code></pre> <p>\u6ce8\u610f\uff1a\u4e3a\u4e86\u5728\u767b\u5f55\u6210\u529f\u4e4b\u540e\u80fd\u591f\u56de\u5230\u521a\u624d\u6295\u7968\u7684\u9875\u9762\uff0c\u6211\u4eec\u5728\u8df3\u8f6c\u767b\u5f55\u65f6\u8bbe\u7f6e\u4e86\u4e00\u4e2a<code>backurl</code>\u53c2\u6570\uff0c\u628a\u5f53\u524d\u6d4f\u89c8\u5668\u4e2d\u7684URL\u4f5c\u4e3a\u8fd4\u56de\u7684\u9875\u9762\u5730\u5740\u3002</p> <p>\u8fd9\u6837\u6211\u4eec\u5df2\u7ecf\u5b9e\u73b0\u4e86\u7528\u6237\u5fc5\u987b\u767b\u5f55\u624d\u80fd\u6295\u7968\u7684\u9650\u5236\uff0c\u4f46\u662f\u4e00\u4e2a\u65b0\u7684\u95ee\u9898\u6765\u4e86\u3002\u5982\u679c\u6211\u4eec\u7684\u5e94\u7528\u4e2d\u6709\u5f88\u591a\u529f\u80fd\u90fd\u9700\u8981\u7528\u6237\u5148\u767b\u5f55\u624d\u80fd\u6267\u884c\uff0c\u90a3\u4e48\u6211\u4eec\u662f\u4e0d\u662f\u9700\u8981\u5728\u6bcf\u4e2a\u89c6\u56fe\u51fd\u6570\u4e2d\u6dfb\u52a0\u4ee3\u7801\u6765\u68c0\u67e5session\u4e2d\u662f\u5426\u5305\u542b\u4e86\u767b\u5f55\u7528\u6237\u7684\u4fe1\u606f\u5462\uff1f\u7b54\u6848\u662f\u5426\u5b9a\u7684\uff0c\u5982\u679c\u8fd9\u6837\u505a\u4e86\uff0c\u6211\u4eec\u7684\u89c6\u56fe\u51fd\u6570\u4e2d\u5fc5\u7136\u4f1a\u5145\u65a5\u7740\u5927\u91cf\u7684\u91cd\u590d\u4ee3\u7801\u3002\u7f16\u7a0b\u5927\u5e08Martin Fowler\u66fe\u7ecf\u8bf4\u8fc7\uff1a\u4ee3\u7801\u6709\u5f88\u591a\u79cd\u574f\u5473\u9053\uff0c\u91cd\u590d\u662f\u6700\u574f\u7684\u4e00\u79cd\u3002\u6211\u4eec\u53ef\u4ee5\u628a\u9a8c\u8bc1\u7528\u6237\u662f\u5426\u767b\u5f55\u8fd9\u6837\u7684\u4ee3\u7801\u653e\u5230Django\u7684\u4e2d\u95f4\u4ef6\u4e2d\u3002</p>"},{"location":"python/Py-100Days/Day41-55/46.%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84%E5%BA%94%E7%94%A8/#django","title":"Django\u4e2d\u95f4\u4ef6\u6982\u8ff0","text":"<p>\u4e2d\u95f4\u4ef6\u662f\u5b89\u63d2\u5728Web\u5e94\u7528\u8bf7\u6c42\u548c\u54cd\u5e94\u8fc7\u7a0b\u4e4b\u95f4\u7684\u7ec4\u4ef6\uff0c\u5b83\u5728\u6574\u4e2aWeb\u5e94\u7528\u4e2d\u626e\u6f14\u4e86\u62e6\u622a\u8fc7\u6ee4\u5668\u7684\u89d2\u8272\uff0c\u901a\u8fc7\u4e2d\u95f4\u4ef6\u53ef\u4ee5\u62e6\u622a\u8bf7\u6c42\u548c\u54cd\u5e94\uff0c\u5e76\u5bf9\u8bf7\u6c42\u548c\u54cd\u5e94\u8fdb\u884c\u8fc7\u6ee4\uff08\u7b80\u5355\u7684\u8bf4\u5c31\u662f\u6267\u884c\u989d\u5916\u7684\u5904\u7406\uff09\u3002\u901a\u5e38\uff0c\u4e00\u4e2a\u4e2d\u95f4\u4ef6\u7ec4\u4ef6\u53ea\u4e13\u6ce8\u4e8e\u5b8c\u6210\u4e00\u4ef6\u7279\u5b9a\u7684\u4e8b\uff0c\u4f8b\u5982\uff1aDjango\u6846\u67b6\u901a\u8fc7<code>SessionMiddleware</code>\u4e2d\u95f4\u4ef6\u5b9e\u73b0\u4e86\u5bf9session\u7684\u652f\u6301\uff0c\u53c8\u901a\u8fc7<code>AuthenticationMiddleware</code>\u4e2d\u95f4\u4ef6\u5b9e\u73b0\u4e86\u57fa\u4e8esession\u7684\u8bf7\u6c42\u8ba4\u8bc1\u3002\u901a\u8fc7\u628a\u591a\u4e2a\u4e2d\u95f4\u4ef6\u7ec4\u5408\u5728\u4e00\u8d77\uff0c\u6211\u4eec\u53ef\u4ee5\u5b8c\u6210\u66f4\u4e3a\u590d\u6742\u7684\u4efb\u52a1\uff0cDjango\u6846\u67b6\u5c31\u662f\u8fd9\u4e48\u505a\u7684\u3002</p> <p>Django\u9879\u76ee\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u5c31\u5305\u542b\u4e86\u5bf9\u4e2d\u95f4\u4ef6\u7684\u914d\u7f6e\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>MIDDLEWARE = [\n    'django.middleware.security.SecurityMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n]\n</code></pre> <p>\u6211\u4eec\u7a0d\u5fae\u4e3a\u5927\u5bb6\u89e3\u91ca\u4e00\u4e0b\u8fd9\u4e9b\u4e2d\u95f4\u4ef6\u7684\u4f5c\u7528\uff1a</p> <ol> <li>CommonMiddleware - \u57fa\u7840\u8bbe\u7f6e\u4e2d\u95f4\u4ef6\uff0c\u53ef\u4ee5\u5904\u7406\u4ee5\u4e0b\u4e00\u4e9b\u914d\u7f6e\u53c2\u6570\u3002</li> <li>DISALLOWED_USER_AGENTS - \u4e0d\u88ab\u5141\u8bb8\u7684\u7528\u6237\u4ee3\u7406\uff08\u6d4f\u89c8\u5668\uff09</li> <li>APPEND_SLASH - \u662f\u5426\u8ffd\u52a0<code>/</code></li> <li>USE_ETAG - \u6d4f\u89c8\u5668\u7f13\u5b58\u76f8\u5173</li> <li>SecurityMiddleware - \u5b89\u5168\u76f8\u5173\u4e2d\u95f4\u4ef6\uff0c\u53ef\u4ee5\u5904\u7406\u548c\u5b89\u5168\u76f8\u5173\u7684\u914d\u7f6e\u9879\u3002</li> <li>SECURE_HSTS_SECONDS - \u5f3a\u5236\u4f7f\u7528HTTPS\u7684\u65f6\u95f4</li> <li>SECURE_HSTS_INCLUDE_SUBDOMAINS - HTTPS\u662f\u5426\u8986\u76d6\u5b50\u57df\u540d</li> <li>SECURE_CONTENT_TYPE_NOSNIFF - \u662f\u5426\u5141\u8bb8\u6d4f\u89c8\u5668\u63a8\u65ad\u5185\u5bb9\u7c7b\u578b</li> <li>SECURE_BROWSER_XSS_FILTER - \u662f\u5426\u542f\u7528\u8de8\u7ad9\u811a\u672c\u653b\u51fb\u8fc7\u6ee4\u5668</li> <li>SECURE_SSL_REDIRECT - \u662f\u5426\u91cd\u5b9a\u5411\u5230HTTPS\u8fde\u63a5</li> <li>SECURE_REDIRECT_EXEMPT - \u514d\u9664\u91cd\u5b9a\u5411\u5230HTTPS</li> <li>SessionMiddleware - \u4f1a\u8bdd\u4e2d\u95f4\u4ef6\u3002</li> <li>CsrfViewMiddleware - \u901a\u8fc7\u751f\u6210\u4ee4\u724c\uff0c\u9632\u8303\u8de8\u8bf7\u6c42\u4efd\u4f2a\u7684\u9020\u4e2d\u95f4\u4ef6\u3002</li> <li>XFrameOptionsMiddleware - \u901a\u8fc7\u8bbe\u7f6e\u8bf7\u6c42\u5934\u53c2\u6570\uff0c\u9632\u8303\u70b9\u51fb\u52ab\u6301\u653b\u51fb\u7684\u4e2d\u95f4\u4ef6\u3002</li> </ol> <p>\u5728\u8bf7\u6c42\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e0a\u9762\u7684\u4e2d\u95f4\u4ef6\u4f1a\u6309\u7167\u4e66\u5199\u7684\u987a\u5e8f\u4ece\u4e0a\u5230\u4e0b\u6267\u884c\uff0c\u7136\u540e\u662fURL\u89e3\u6790\uff0c\u6700\u540e\u8bf7\u6c42\u624d\u4f1a\u6765\u5230\u89c6\u56fe\u51fd\u6570\uff1b\u5728\u54cd\u5e94\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e0a\u9762\u7684\u4e2d\u95f4\u4ef6\u4f1a\u6309\u7167\u4e66\u5199\u7684\u987a\u5e8f\u4ece\u4e0b\u5230\u4e0a\u6267\u884c\uff0c\u4e0e\u8bf7\u6c42\u65f6\u4e2d\u95f4\u4ef6\u6267\u884c\u7684\u987a\u5e8f\u6b63\u597d\u76f8\u53cd\u3002</p>"},{"location":"python/Py-100Days/Day41-55/46.%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84%E5%BA%94%E7%94%A8/#_2","title":"\u81ea\u5b9a\u4e49\u4e2d\u95f4\u4ef6","text":"<p>Django\u4e2d\u7684\u4e2d\u95f4\u4ef6\u6709\u4e24\u79cd\u5b9e\u73b0\u65b9\u5f0f\uff1a\u57fa\u4e8e\u7c7b\u7684\u5b9e\u73b0\u65b9\u5f0f\u548c\u57fa\u4e8e\u51fd\u6570\u7684\u5b9e\u73b0\u65b9\u5f0f\uff0c\u540e\u8005\u66f4\u63a5\u8fd1\u4e8e\u88c5\u9970\u5668\u7684\u5199\u6cd5\u3002\u88c5\u9970\u5668\u5b9e\u9645\u4e0a\u662f\u4ee3\u7406\u6a21\u5f0f\u7684\u5e94\u7528\uff0c\u5c06\u6a2a\u5207\u5173\u6ce8\u529f\u80fd\uff08\u4e0e\u6b63\u5e38\u4e1a\u52a1\u903b\u8f91\u6ca1\u6709\u5fc5\u7136\u8054\u7cfb\u7684\u529f\u80fd\uff0c\u4f8b\u5982\uff1a\u8eab\u4efd\u8ba4\u8bc1\u3001\u65e5\u5fd7\u8bb0\u5f55\u3001\u7f16\u7801\u8f6c\u6362\u4e4b\u7c7b\u7684\u529f\u80fd\uff09\u7f6e\u4e8e\u4ee3\u7406\u4e2d\uff0c\u7531\u4ee3\u7406\u5bf9\u8c61\u6765\u5b8c\u6210\u88ab\u4ee3\u7406\u5bf9\u8c61\u7684\u884c\u4e3a\u5e76\u6dfb\u52a0\u989d\u5916\u7684\u529f\u80fd\u3002\u4e2d\u95f4\u4ef6\u5bf9\u7528\u6237\u8bf7\u6c42\u548c\u54cd\u5e94\u8fdb\u884c\u62e6\u622a\u8fc7\u6ee4\u5e76\u589e\u52a0\u989d\u5916\u7684\u5904\u7406\uff0c\u5728\u8fd9\u4e00\u70b9\u4e0a\u5b83\u8ddf\u88c5\u9970\u5668\u662f\u5b8c\u5168\u4e00\u81f4\u7684\uff0c\u6240\u4ee5\u57fa\u4e8e\u51fd\u6570\u7684\u5199\u6cd5\u6765\u5b9e\u73b0\u4e2d\u95f4\u4ef6\u5c31\u8ddf\u88c5\u9970\u5668\u7684\u5199\u6cd5\u51e0\u4e4e\u4e00\u6a21\u4e00\u6837\u3002\u4e0b\u9762\u6211\u4eec\u7528\u81ea\u5b9a\u4e49\u7684\u4e2d\u95f4\u4ef6\u6765\u5b9e\u73b0\u5bf9\u7528\u6237\u8fdb\u884c\u767b\u5f55\u9a8c\u8bc1\u7684\u529f\u80fd\u3002</p> <pre><code>\"\"\"\nmiddlewares.py\n\"\"\"\nfrom django.shortcuts import redirect\n\n\ndef check_login_middleware(func):\n\n    def wrapper(request, *args, **kwargs):\n        # \u83b7\u53d6\u8bf7\u6c42\u7684\u8d44\u6e90\u8def\u5f84\n        path = request.path\n        # \u5982\u679c\u8bf7\u6c42\u7684\u8d44\u6e90\u8def\u5f84\u5728\u8bbe\u5b9a\u7684\u5143\u7ec4\u4e2d\u5c31\u8868\u793a\u9700\u8981\u767b\u5f55\u9a8c\u8bc1\n        if path in ('/vote/praise/', '/vote/criticize/'):\n            if 'username' not in request.session:\n                # session\u4e2d\u6ca1\u6709username\u5c31\u91cd\u5b9a\u5411\u5230\u767b\u5f55\u9875\n                return redirect('login')\n        return func(request, *args, **kwargs)\n\n    return wrapper\n</code></pre> <p>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u6fc0\u6d3b\u4e2d\u95f4\u4ef6\u4f7f\u5176\u751f\u6548\u3002</p> <pre><code>MIDDLEWARE = [\n    'django.middleware.security.SecurityMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n    'debug_toolbar.middleware.DebugToolbarMiddleware',\n    'vote.middlewares.check_login_middleware',\n]\n</code></pre>"},{"location":"python/Py-100Days/Day41-55/47.%E6%97%A5%E5%BF%97%E5%92%8C%E8%B0%83%E8%AF%95/","title":"47.\u65e5\u5fd7\u548c\u8c03\u8bd5","text":""},{"location":"python/Py-100Days/Day41-55/47.%E6%97%A5%E5%BF%97%E5%92%8C%E8%B0%83%E8%AF%95/#_1","title":"\u65e5\u5fd7\u548c\u8c03\u8bd5","text":"<p>\u5728\u9879\u76ee\u5f00\u53d1\u9636\u6bb5\uff0c\u663e\u793a\u8db3\u591f\u7684\u8c03\u8bd5\u4fe1\u606f\u4ee5\u8f85\u52a9\u5f00\u53d1\u4eba\u5458\u8c03\u8bd5\u4ee3\u7801\u8fd8\u662f\u975e\u5e38\u5fc5\u8981\u7684.</p>"},{"location":"python/Py-100Days/Day41-55/48.%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%92%8C%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91/","title":"48.\u6587\u4ef6\u4e0a\u4f20\u548c\u5bcc\u6587\u672c\u7f16\u8f91","text":""},{"location":"python/Py-100Days/Day41-55/48.%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%92%8C%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91/#_1","title":"\u6587\u4ef6\u4e0a\u4f20\u548c\u5bcc\u6587\u672c\u7f16\u8f91","text":""},{"location":"python/Py-100Days/Day41-55/49.%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E5%92%8C%E6%8A%A5%E8%A1%A8/","title":"49.\u6587\u4ef6\u4e0b\u8f7d\u548c\u62a5\u8868","text":""},{"location":"python/Py-100Days/Day41-55/49.%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E5%92%8C%E6%8A%A5%E8%A1%A8/#_1","title":"\u6587\u4ef6\u4e0b\u8f7d\u548c\u62a5\u8868","text":""},{"location":"python/Py-100Days/Day41-55/50.RESTful%E6%9E%B6%E6%9E%84%E5%92%8CDRF%E5%85%A5%E9%97%A8/","title":"50.RESTful\u67b6\u6784\u548cDRF\u5165\u95e8","text":""},{"location":"python/Py-100Days/Day41-55/50.RESTful%E6%9E%B6%E6%9E%84%E5%92%8CDRF%E5%85%A5%E9%97%A8/#restfuldrf","title":"RESTful\u67b6\u6784\u548cDRF\u5165\u95e8","text":""},{"location":"python/Py-100Days/Day41-55/51.RESTful%E6%9E%B6%E6%9E%84%E5%92%8CDRF%E8%BF%9B%E9%98%B6/","title":"51.RESTful\u67b6\u6784\u548cDRF\u8fdb\u9636","text":""},{"location":"python/Py-100Days/Day41-55/51.RESTful%E6%9E%B6%E6%9E%84%E5%92%8CDRF%E8%BF%9B%E9%98%B6/#restfuldrf","title":"RESTful\u67b6\u6784\u548cDRF\u8fdb\u9636","text":""},{"location":"python/Py-100Days/Day41-55/52.%E4%BD%BF%E7%94%A8%E7%BC%93%E5%AD%98/","title":"52.\u4f7f\u7528\u7f13\u5b58","text":""},{"location":"python/Py-100Days/Day41-55/52.%E4%BD%BF%E7%94%A8%E7%BC%93%E5%AD%98/#_1","title":"\u4f7f\u7528\u7f13\u5b58","text":""},{"location":"python/Py-100Days/Day41-55/53.%E7%9F%AD%E4%BF%A1%E5%92%8C%E9%82%AE%E4%BB%B6/","title":"53.\u77ed\u4fe1\u548c\u90ae\u4ef6","text":""},{"location":"python/Py-100Days/Day41-55/53.%E7%9F%AD%E4%BF%A1%E5%92%8C%E9%82%AE%E4%BB%B6/#_1","title":"\u77ed\u4fe1\u548c\u90ae\u4ef6","text":""},{"location":"python/Py-100Days/Day41-55/54.%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1%E5%92%8C%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/","title":"54.\u5f02\u6b65\u4efb\u52a1\u548c\u5b9a\u65f6\u4efb\u52a1","text":""},{"location":"python/Py-100Days/Day41-55/54.%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1%E5%92%8C%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#_1","title":"\u5f02\u6b65\u4efb\u52a1\u548c\u5b9a\u65f6\u4efb\u52a1","text":""},{"location":"python/Py-100Days/Day41-55/55.%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E5%92%8C%E9%A1%B9%E7%9B%AE%E4%B8%8A%E7%BA%BF/","title":"55.\u5355\u5143\u6d4b\u8bd5\u548c\u9879\u76ee\u4e0a\u7ebf","text":""},{"location":"python/Py-100Days/Day41-55/55.%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E5%92%8C%E9%A1%B9%E7%9B%AE%E4%B8%8A%E7%BA%BF/#_1","title":"\u5355\u5143\u6d4b\u8bd5\u548c\u9879\u76ee\u4e0a\u7ebf","text":""},{"location":"python/Py-100Days/Day56-60/56.Flask%E5%85%A5%E9%97%A8/","title":"56.Flask\u5165\u95e8","text":""},{"location":"python/Py-100Days/Day56-60/56.Flask%E5%85%A5%E9%97%A8/#flask","title":"Flask\u5165\u95e8","text":""},{"location":"python/Py-100Days/Day56-60/57.%E6%A8%A1%E6%9D%BF%E7%9A%84%E4%BD%BF%E7%94%A8/","title":"57.\u6a21\u677f\u7684\u4f7f\u7528","text":""},{"location":"python/Py-100Days/Day56-60/57.%E6%A8%A1%E6%9D%BF%E7%9A%84%E4%BD%BF%E7%94%A8/#_1","title":"\u6a21\u677f\u7684\u4f7f\u7528","text":""},{"location":"python/Py-100Days/Day56-60/58.%E8%A1%A8%E5%8D%95%E7%9A%84%E5%A4%84%E7%90%86/","title":"58.\u8868\u5355\u7684\u5904\u7406","text":""},{"location":"python/Py-100Days/Day56-60/58.%E8%A1%A8%E5%8D%95%E7%9A%84%E5%A4%84%E7%90%86/#_1","title":"\u8868\u5355\u7684\u5904\u7406","text":""},{"location":"python/Py-100Days/Day56-60/59.%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/","title":"59.\u6570\u636e\u5e93\u64cd\u4f5c","text":""},{"location":"python/Py-100Days/Day56-60/59.%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/#_1","title":"\u6570\u636e\u5e93\u64cd\u4f5c","text":""},{"location":"python/Py-100Days/Day56-60/60.%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/","title":"60.\u9879\u76ee\u5b9e\u6218","text":""},{"location":"python/Py-100Days/Day56-60/60.%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#_1","title":"\u9879\u76ee\u5b9e\u6218","text":""},{"location":"python/Py-100Days/Day61-65/61.%E9%A2%84%E5%A4%87%E7%9F%A5%E8%AF%86/","title":"61.\u9884\u5907\u77e5\u8bc6","text":""},{"location":"python/Py-100Days/Day61-65/61.%E9%A2%84%E5%A4%87%E7%9F%A5%E8%AF%86/#_1","title":"\u9884\u5907\u77e5\u8bc6","text":""},{"location":"python/Py-100Days/Day61-65/61.%E9%A2%84%E5%A4%87%E7%9F%A5%E8%AF%86/#_2","title":"\u5e76\u53d1\u7f16\u7a0b","text":"<p>\u6240\u8c13\u5e76\u53d1\u7f16\u7a0b\u5c31\u662f\u8ba9\u7a0b\u5e8f\u4e2d\u6709\u591a\u4e2a\u90e8\u5206\u80fd\u591f\u5e76\u53d1\u6216\u540c\u65f6\u6267\u884c\uff0c\u5e76\u53d1\u7f16\u7a0b\u5e26\u6765\u7684\u597d\u5904\u4e0d\u8a00\u800c\u55bb\uff0c\u5176\u4e2d\u6700\u4e3a\u5173\u952e\u7684\u4e24\u70b9\u662f\u63d0\u5347\u4e86\u6267\u884c\u6548\u7387\u548c\u6539\u5584\u4e86\u7528\u6237\u4f53\u9a8c\u3002\u4e0b\u9762\u7b80\u5355\u9610\u8ff0\u4e00\u4e0bPython\u4e2d\u5b9e\u73b0\u5e76\u53d1\u7f16\u7a0b\u7684\u4e09\u79cd\u65b9\u5f0f\uff1a</p> <ol> <li> <p>\u591a\u7ebf\u7a0b\uff1aPython\u4e2d\u901a\u8fc7<code>threading</code>\u6a21\u5757\u7684<code>Thread</code>\u7c7b\u5e76\u8f85\u4ee5<code>Lock</code>\u3001<code>Condition</code>\u3001<code>Event</code>\u3001<code>Semaphore</code>\u548c<code>Barrier</code>\u7b49\u7c7b\u6765\u652f\u6301\u591a\u7ebf\u7a0b\u7f16\u7a0b\u3002Python\u89e3\u91ca\u5668\u901a\u8fc7GIL\uff08\u5168\u5c40\u89e3\u91ca\u5668\u9501\uff09\u6765\u9632\u6b62\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u6267\u884c\u672c\u5730\u5b57\u8282\u7801\uff0c\u8fd9\u4e2a\u9501\u5bf9\u4e8eCPython\uff08Python\u89e3\u91ca\u5668\u7684\u5b98\u65b9\u5b9e\u73b0\uff09\u662f\u5fc5\u987b\u7684\uff0c\u56e0\u4e3aCPython\u7684\u5185\u5b58\u7ba1\u7406\u5e76\u4e0d\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\u3002\u56e0\u4e3aGIL\u7684\u5b58\u5728\uff0cPython\u7684\u591a\u7ebf\u7a0b\u5e76\u4e0d\u80fd\u5229\u7528CPU\u7684\u591a\u6838\u7279\u6027\u3002</p> </li> <li> <p>\u591a\u8fdb\u7a0b\uff1a\u4f7f\u7528\u591a\u8fdb\u7a0b\u53ef\u4ee5\u6709\u6548\u7684\u89e3\u51b3GIL\u7684\u95ee\u9898\uff0cPython\u4e2d\u7684<code>multiprocessing</code>\u6a21\u5757\u63d0\u4f9b\u4e86<code>Process</code>\u7c7b\u6765\u5b9e\u73b0\u591a\u8fdb\u7a0b\uff0c\u5176\u4ed6\u7684\u8f85\u52a9\u7c7b\u8ddf<code>threading</code>\u6a21\u5757\u4e2d\u7684\u7c7b\u7c7b\u4f3c\uff0c\u7531\u4e8e\u8fdb\u7a0b\u95f4\u7684\u5185\u5b58\u662f\u76f8\u4e92\u9694\u79bb\u7684\uff08\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u8fdb\u7a0b\u7684\u4fdd\u62a4\uff09\uff0c\u8fdb\u7a0b\u95f4\u901a\u4fe1\uff08\u5171\u4eab\u6570\u636e\uff09\u5fc5\u987b\u4f7f\u7528\u7ba1\u9053\u3001\u5957\u63a5\u5b57\u7b49\u65b9\u5f0f\uff0c\u8fd9\u4e00\u70b9\u4ece\u7f16\u7a0b\u7684\u89d2\u5ea6\u6765\u8bb2\u662f\u6bd4\u8f83\u9ebb\u70e6\u7684\uff0c\u4e3a\u6b64\uff0cPython\u7684<code>multiprocessing</code>\u6a21\u5757\u63d0\u4f9b\u4e86\u4e00\u4e2a\u540d\u4e3a<code>Queue</code>\u7684\u7c7b\uff0c\u5b83\u57fa\u4e8e\u7ba1\u9053\u548c\u9501\u673a\u5236\u63d0\u4f9b\u4e86\u591a\u4e2a\u8fdb\u7a0b\u5171\u4eab\u7684\u961f\u5217\u3002</p> </li> </ol> <pre><code>\"\"\"\n\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u8fd0\u884c\u7a0b\u5e8f\u5e76\u67e5\u770b\u6267\u884c\u65f6\u95f4\uff0c\u4f8b\u5982\uff1a\ntime python3 example06.py\nreal    0m20.657s\nuser    1m17.749s\nsys     0m0.158s\n\u4f7f\u7528\u591a\u8fdb\u7a0b\u540e\u5b9e\u9645\u6267\u884c\u65f6\u95f4\u4e3a20.657\u79d2\uff0c\u800c\u7528\u6237\u65f6\u95f41\u520617.749\u79d2\u7ea6\u4e3a\u5b9e\u9645\u6267\u884c\u65f6\u95f4\u76844\u500d\n\u8fd9\u5c31\u8bc1\u660e\u6211\u4eec\u7684\u7a0b\u5e8f\u901a\u8fc7\u591a\u8fdb\u7a0b\u4f7f\u7528\u4e86CPU\u7684\u591a\u6838\u7279\u6027\uff0c\u800c\u4e14\u8fd9\u53f0\u8ba1\u7b97\u673a\u914d\u7f6e\u4e864\u6838\u7684CPU\n\"\"\"\nimport concurrent.futures\nimport math\n\nPRIMES = [\n    1116281,\n    1297337,\n    104395303,\n    472882027,\n    533000389,\n    817504243,\n    982451653,\n    112272535095293,\n    112582705942171,\n    112272535095293,\n    115280095190773,\n    115797848077099,\n    1099726899285419\n] * 5\n\n\ndef is_prime(num):\n    \"\"\"\u5224\u65ad\u7d20\u6570\"\"\"\n    assert num &gt; 0\n    for i in range(2, int(math.sqrt(num)) + 1):\n        if num % i == 0:\n            return False\n    return num != 1\n\n\ndef main():\n    \"\"\"\u4e3b\u51fd\u6570\"\"\"\n    with concurrent.futures.ProcessPoolExecutor() as executor:\n        for number, prime in zip(PRIMES, executor.map(is_prime, PRIMES)):\n            print('%d is prime: %s' % (number, prime))\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <ol> <li>\u5f02\u6b65\u7f16\u7a0b\uff08\u5f02\u6b65I/O\uff09\uff1a\u6240\u8c13\u5f02\u6b65\u7f16\u7a0b\u662f\u901a\u8fc7\u8c03\u5ea6\u7a0b\u5e8f\u4ece\u4efb\u52a1\u961f\u5217\u4e2d\u6311\u9009\u4efb\u52a1\uff0c\u8c03\u5ea6\u7a0b\u5e8f\u4ee5\u4ea4\u53c9\u7684\u5f62\u5f0f\u6267\u884c\u8fd9\u4e9b\u4efb\u52a1\uff0c\u6211\u4eec\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u4efb\u52a1\u5c06\u4ee5\u67d0\u79cd\u987a\u5e8f\u53bb\u6267\u884c\uff0c\u56e0\u4e3a\u6267\u884c\u987a\u5e8f\u53d6\u51b3\u4e8e\u961f\u5217\u4e2d\u7684\u4e00\u9879\u4efb\u52a1\u662f\u5426\u613f\u610f\u5c06CPU\u5904\u7406\u65f6\u95f4\u8ba9\u4f4d\u7ed9\u53e6\u4e00\u9879\u4efb\u52a1\u3002\u5f02\u6b65\u7f16\u7a0b\u901a\u5e38\u901a\u8fc7\u591a\u4efb\u52a1\u534f\u4f5c\u5904\u7406\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\uff0c\u7531\u4e8e\u6267\u884c\u65f6\u95f4\u548c\u987a\u5e8f\u7684\u4e0d\u786e\u5b9a\uff0c\u56e0\u6b64\u9700\u8981\u901a\u8fc7\u94a9\u5b50\u51fd\u6570\uff08\u56de\u8c03\u51fd\u6570\uff09\u6216\u8005<code>Future</code>\u5bf9\u8c61\u6765\u83b7\u53d6\u4efb\u52a1\u6267\u884c\u7684\u7ed3\u679c\u3002\u76ee\u524d\u6211\u4eec\u4f7f\u7528\u7684Python 3\u901a\u8fc7<code>asyncio</code>\u6a21\u5757\u4ee5\u53ca<code>await</code>\u548c<code>async</code>\u5173\u952e\u5b57\uff08Python 3.5\u4e2d\u5f15\u5165\uff0cPython 3.7\u4e2d\u6b63\u5f0f\u6210\u4e3a\u5173\u952e\u5b57\uff09\u63d0\u4f9b\u4e86\u5bf9\u5f02\u6b65I/O\u7684\u652f\u6301\u3002</li> </ol> <pre><code>import asyncio\n\n\nasync def fetch(host):\n    \"\"\"\u4ece\u6307\u5b9a\u7684\u7ad9\u70b9\u6293\u53d6\u4fe1\u606f(\u534f\u7a0b\u51fd\u6570)\"\"\"\n    print(f'Start fetching {host}\\n')\n    # \u8ddf\u670d\u52a1\u5668\u5efa\u7acb\u8fde\u63a5\n    reader, writer = await asyncio.open_connection(host, 80)\n    # \u6784\u9020\u8bf7\u6c42\u884c\u548c\u8bf7\u6c42\u5934\n    writer.write(b'GET / HTTP/1.1\\r\\n')\n    writer.write(f'Host: {host}\\r\\n'.encode())\n    writer.write(b'\\r\\n')\n    # \u6e05\u7a7a\u7f13\u5b58\u533a(\u53d1\u9001\u8bf7\u6c42)\n    await writer.drain()\n    # \u63a5\u6536\u670d\u52a1\u5668\u7684\u54cd\u5e94(\u8bfb\u53d6\u54cd\u5e94\u884c\u548c\u54cd\u5e94\u5934)\n    line = await reader.readline()\n    while line != b'\\r\\n':\n        print(line.decode().rstrip())\n        line = await reader.readline()\n    print('\\n')\n    writer.close()\n\n\ndef main():\n    \"\"\"\u4e3b\u51fd\u6570\"\"\"\n    urls = ('www.sohu.com', 'www.douban.com', 'www.163.com')\n    # \u83b7\u53d6\u7cfb\u7edf\u9ed8\u8ba4\u7684\u4e8b\u4ef6\u5faa\u73af\n    loop = asyncio.get_event_loop()\n    # \u7528\u751f\u6210\u5f0f\u8bed\u6cd5\u6784\u9020\u4e00\u4e2a\u5305\u542b\u591a\u4e2a\u534f\u7a0b\u5bf9\u8c61\u7684\u5217\u8868\n    tasks = [fetch(url) for url in urls]\n    # \u901a\u8fc7asyncio\u6a21\u5757\u7684wait\u51fd\u6570\u5c06\u534f\u7a0b\u5217\u8868\u5305\u88c5\u6210Task\uff08Future\u5b50\u7c7b\uff09\u5e76\u7b49\u5f85\u5176\u6267\u884c\u5b8c\u6210\n    # \u901a\u8fc7\u4e8b\u4ef6\u5faa\u73af\u7684run_until_complete\u65b9\u6cd5\u8fd0\u884c\u4efb\u52a1\u76f4\u5230Future\u5b8c\u6210\u5e76\u8fd4\u56de\u5b83\u7684\u7ed3\u679c\n    loop.run_until_complete(asyncio.wait(tasks))\n    loop.close()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8bf4\u660e\uff1a\u76ee\u524d\u5927\u591a\u6570\u7f51\u7ad9\u90fd\u8981\u6c42\u57fa\u4e8eHTTPS\u901a\u4fe1\uff0c\u56e0\u6b64\u4e0a\u9762\u4f8b\u5b50\u4e2d\u7684\u7f51\u7edc\u8bf7\u6c42\u4e0d\u4e00\u5b9a\u80fd\u6536\u5230\u6b63\u5e38\u7684\u54cd\u5e94\uff0c\u4e5f\u5c31\u662f\u8bf4\u54cd\u5e94\u72b6\u6001\u7801\u4e0d\u4e00\u5b9a\u662f200\uff0c\u6709\u53ef\u80fd\u662f3xx\u6216\u80054xx\u3002\u5f53\u7136\u6211\u4eec\u8fd9\u91cc\u7684\u91cd\u70b9\u4e0d\u5728\u4e8e\u83b7\u5f97\u7f51\u7ad9\u54cd\u5e94\u7684\u5185\u5bb9\uff0c\u800c\u662f\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3<code>asyncio</code>\u6a21\u5757\u4ee5\u53ca<code>async</code>\u548c<code>await</code>\u4e24\u4e2a\u5173\u952e\u5b57\u7684\u4f7f\u7528\u3002</p> <p>\u6211\u4eec\u5bf9\u4e09\u79cd\u65b9\u5f0f\u7684\u4f7f\u7528\u573a\u666f\u505a\u4e00\u4e2a\u7b80\u5355\u7684\u603b\u7ed3\u3002</p> <p>\u4ee5\u4e0b\u60c5\u51b5\u9700\u8981\u4f7f\u7528\u591a\u7ebf\u7a0b\uff1a</p> <ol> <li>\u7a0b\u5e8f\u9700\u8981\u7ef4\u62a4\u8bb8\u591a\u5171\u4eab\u7684\u72b6\u6001\uff08\u5c24\u5176\u662f\u53ef\u53d8\u72b6\u6001\uff09\uff0cPython\u4e2d\u7684\u5217\u8868\u3001\u5b57\u5178\u3001\u96c6\u5408\u90fd\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\uff0c\u6240\u4ee5\u4f7f\u7528\u7ebf\u7a0b\u800c\u4e0d\u662f\u8fdb\u7a0b\u7ef4\u62a4\u5171\u4eab\u72b6\u6001\u7684\u4ee3\u4ef7\u76f8\u5bf9\u8f83\u5c0f\u3002</li> <li>\u7a0b\u5e8f\u4f1a\u82b1\u8d39\u5927\u91cf\u65f6\u95f4\u5728I/O\u64cd\u4f5c\u4e0a\uff0c\u6ca1\u6709\u592a\u591a\u5e76\u884c\u8ba1\u7b97\u7684\u9700\u6c42\u4e14\u4e0d\u9700\u5360\u7528\u592a\u591a\u7684\u5185\u5b58\u3002</li> </ol> <p>\u4ee5\u4e0b\u60c5\u51b5\u9700\u8981\u4f7f\u7528\u591a\u8fdb\u7a0b\uff1a</p> <ol> <li>\u7a0b\u5e8f\u6267\u884c\u8ba1\u7b97\u5bc6\u96c6\u578b\u4efb\u52a1\uff08\u5982\uff1a\u5b57\u8282\u7801\u64cd\u4f5c\u3001\u6570\u636e\u5904\u7406\u3001\u79d1\u5b66\u8ba1\u7b97\uff09\u3002</li> <li>\u7a0b\u5e8f\u7684\u8f93\u5165\u53ef\u4ee5\u5e76\u884c\u7684\u5206\u6210\u5757\uff0c\u5e76\u4e14\u53ef\u4ee5\u5c06\u8fd0\u7b97\u7ed3\u679c\u5408\u5e76\u3002</li> <li>\u7a0b\u5e8f\u5728\u5185\u5b58\u4f7f\u7528\u65b9\u9762\u6ca1\u6709\u4efb\u4f55\u9650\u5236\u4e14\u4e0d\u5f3a\u4f9d\u8d56\u4e8eI/O\u64cd\u4f5c\uff08\u5982\uff1a\u8bfb\u5199\u6587\u4ef6\u3001\u5957\u63a5\u5b57\u7b49\uff09\u3002</li> </ol> <p>\u6700\u540e\uff0c\u5982\u679c\u7a0b\u5e8f\u4e0d\u9700\u8981\u771f\u6b63\u7684\u5e76\u53d1\u6027\u6216\u5e76\u884c\u6027\uff0c\u800c\u662f\u66f4\u591a\u7684\u4f9d\u8d56\u4e8e\u5f02\u6b65\u5904\u7406\u548c\u56de\u8c03\u65f6\uff0c\u5f02\u6b65I/O\u5c31\u662f\u4e00\u79cd\u5f88\u597d\u7684\u9009\u62e9\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u5f53\u7a0b\u5e8f\u4e2d\u6709\u5927\u91cf\u7684\u7b49\u5f85\u4e0e\u4f11\u7720\u65f6\uff0c\u4e5f\u5e94\u8be5\u8003\u8651\u4f7f\u7528\u5f02\u6b65I/O\u3002</p> <p>\u6269\u5c55\uff1a\u5173\u4e8e\u8fdb\u7a0b\uff0c\u8fd8\u9700\u8981\u505a\u4e00\u4e9b\u8865\u5145\u8bf4\u660e\u3002\u9996\u5148\uff0c\u4e3a\u4e86\u63a7\u5236\u8fdb\u7a0b\u7684\u6267\u884c\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u5fc5\u987b\u6709\u80fd\u529b\u6302\u8d77\u6b63\u5728CPU\u4e0a\u8fd0\u884c\u7684\u8fdb\u7a0b\uff0c\u5e76\u6062\u590d\u4ee5\u524d\u6302\u8d77\u7684\u67d0\u4e2a\u8fdb\u7a0b\u4f7f\u4e4b\u7ee7\u7eed\u6267\u884c\uff0c\u8fd9\u79cd\u884c\u4e3a\u88ab\u79f0\u4e3a\u8fdb\u7a0b\u5207\u6362\uff08\u4e5f\u53eb\u8c03\u5ea6\uff09\u3002\u8fdb\u7a0b\u5207\u6362\u662f\u6bd4\u8f83\u8017\u8d39\u8d44\u6e90\u7684\u64cd\u4f5c\uff0c\u56e0\u4e3a\u5728\u8fdb\u884c\u5207\u6362\u65f6\u9996\u5148\u8981\u4fdd\u5b58\u5f53\u524d\u8fdb\u7a0b\u7684\u4e0a\u4e0b\u6587\uff08\u5185\u6838\u518d\u6b21\u5524\u9192\u8be5\u8fdb\u7a0b\u65f6\u6240\u9700\u8981\u7684\u72b6\u6001\uff0c\u5305\u62ec\uff1a\u7a0b\u5e8f\u8ba1\u6570\u5668\u3001\u72b6\u6001\u5bc4\u5b58\u5668\u3001\u6570\u636e\u6808\u7b49\uff09\uff0c\u7136\u540e\u8fd8\u8981\u6062\u590d\u51c6\u5907\u6267\u884c\u7684\u8fdb\u7a0b\u7684\u4e0a\u4e0b\u6587\u3002\u6b63\u5728\u6267\u884c\u7684\u8fdb\u7a0b\u7531\u4e8e\u671f\u5f85\u7684\u67d0\u4e9b\u4e8b\u4ef6\u672a\u53d1\u751f\uff0c\u5982\u8bf7\u6c42\u7cfb\u7edf\u8d44\u6e90\u5931\u8d25\u3001\u7b49\u5f85\u67d0\u4e2a\u64cd\u4f5c\u5b8c\u6210\u3001\u65b0\u6570\u636e\u5c1a\u672a\u5230\u8fbe\u7b49\u539f\u56e0\u4f1a\u4e3b\u52a8\u7531\u8fd0\u884c\u72b6\u6001\u53d8\u4e3a\u963b\u585e\u72b6\u6001\uff0c\u5f53\u8fdb\u7a0b\u8fdb\u5165\u963b\u585e\u72b6\u6001\uff0c\u662f\u4e0d\u5360\u7528CPU\u8d44\u6e90\u7684\u3002\u8fd9\u4e9b\u77e5\u8bc6\u5bf9\u4e8e\u7406\u89e3\u5230\u5e95\u9009\u62e9\u54ea\u79cd\u65b9\u5f0f\u8fdb\u884c\u5e76\u53d1\u7f16\u7a0b\u4e5f\u662f\u5f88\u91cd\u8981\u7684\u3002</p>"},{"location":"python/Py-100Days/Day61-65/61.%E9%A2%84%E5%A4%87%E7%9F%A5%E8%AF%86/#io","title":"I/O\u6a21\u5f0f\u548c\u4e8b\u4ef6\u9a71\u52a8","text":"<p>\u5bf9\u4e8e\u4e00\u6b21I/O\u64cd\u4f5c\uff08\u4ee5\u8bfb\u64cd\u4f5c\u4e3a\u4f8b\uff09\uff0c\u6570\u636e\u4f1a\u5148\u88ab\u62f7\u8d1d\u5230\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u7684\u7f13\u51b2\u533a\u4e2d\uff0c\u7136\u540e\u4ece\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u7684\u7f13\u51b2\u533a\u62f7\u8d1d\u5230\u5e94\u7528\u7a0b\u5e8f\u7684\u7f13\u51b2\u533a\uff08\u8fd9\u79cd\u65b9\u5f0f\u79f0\u4e3a\u6807\u51c6I/O\u6216\u7f13\u5b58I/O\uff0c\u5927\u591a\u6570\u6587\u4ef6\u7cfb\u7edf\u7684\u9ed8\u8ba4I/O\u90fd\u662f\u8fd9\u79cd\u65b9\u5f0f\uff09\uff0c\u6700\u540e\u4ea4\u7ed9\u8fdb\u7a0b\u3002\u6240\u4ee5\u8bf4\uff0c\u5f53\u4e00\u4e2a\u8bfb\u64cd\u4f5c\u53d1\u751f\u65f6\uff08\u5199\u64cd\u4f5c\u4e0e\u4e4b\u7c7b\u4f3c\uff09\uff0c\u5b83\u4f1a\u7ecf\u5386\u4e24\u4e2a\u9636\u6bb5\uff1a(1)\u7b49\u5f85\u6570\u636e\u51c6\u5907\u5c31\u7eea\uff1b(2)\u5c06\u6570\u636e\u4ece\u5185\u6838\u62f7\u8d1d\u5230\u8fdb\u7a0b\u4e2d\u3002</p> <p>\u7531\u4e8e\u5b58\u5728\u8fd9\u4e24\u4e2a\u9636\u6bb5\uff0c\u56e0\u6b64\u4ea7\u751f\u4e86\u4ee5\u4e0b\u51e0\u79cdI/O\u6a21\u5f0f\uff1a</p> <ol> <li>\u963b\u585e I/O\uff08blocking I/O\uff09\uff1a\u8fdb\u7a0b\u53d1\u8d77\u8bfb\u64cd\u4f5c\uff0c\u5982\u679c\u5185\u6838\u6570\u636e\u5c1a\u672a\u5c31\u7eea\uff0c\u8fdb\u7a0b\u4f1a\u963b\u585e\u7b49\u5f85\u6570\u636e\u76f4\u5230\u5185\u6838\u6570\u636e\u5c31\u7eea\u5e76\u62f7\u8d1d\u5230\u8fdb\u7a0b\u7684\u5185\u5b58\u4e2d\u3002</li> <li>\u975e\u963b\u585e I/O\uff08non-blocking I/O\uff09\uff1a\u8fdb\u7a0b\u53d1\u8d77\u8bfb\u64cd\u4f5c\uff0c\u5982\u679c\u5185\u6838\u6570\u636e\u5c1a\u672a\u5c31\u7eea\uff0c\u8fdb\u7a0b\u4e0d\u963b\u585e\u800c\u662f\u6536\u5230\u5185\u6838\u8fd4\u56de\u7684\u9519\u8bef\u4fe1\u606f\uff0c\u8fdb\u7a0b\u6536\u5230\u9519\u8bef\u4fe1\u606f\u53ef\u4ee5\u518d\u6b21\u53d1\u8d77\u8bfb\u64cd\u4f5c\uff0c\u4e00\u65e6\u5185\u6838\u6570\u636e\u51c6\u5907\u5c31\u7eea\uff0c\u5c31\u7acb\u5373\u5c06\u6570\u636e\u62f7\u8d1d\u5230\u4e86\u7528\u6237\u5185\u5b58\u4e2d\uff0c\u7136\u540e\u8fd4\u56de\u3002</li> <li>\u591a\u8defI/O\u590d\u7528\uff08 I/O multiplexing\uff09\uff1a\u76d1\u542c\u591a\u4e2aI/O\u5bf9\u8c61\uff0c\u5f53I/O\u5bf9\u8c61\u6709\u53d8\u5316\uff08\u6570\u636e\u5c31\u7eea\uff09\u7684\u65f6\u5019\u5c31\u901a\u77e5\u7528\u6237\u8fdb\u7a0b\u3002\u591a\u8defI/O\u590d\u7528\u7684\u4f18\u52bf\u5e76\u4e0d\u5728\u4e8e\u5355\u4e2aI/O\u64cd\u4f5c\u80fd\u5904\u7406\u5f97\u66f4\u5feb\uff0c\u800c\u662f\u5728\u4e8e\u80fd\u5904\u7406\u66f4\u591a\u7684I/O\u64cd\u4f5c\u3002</li> <li>\u5f02\u6b65 I/O\uff08asynchronous I/O\uff09\uff1a\u8fdb\u7a0b\u53d1\u8d77\u8bfb\u64cd\u4f5c\u540e\u5c31\u53ef\u4ee5\u53bb\u505a\u522b\u7684\u4e8b\u60c5\u4e86\uff0c\u5185\u6838\u6536\u5230\u5f02\u6b65\u8bfb\u64cd\u4f5c\u540e\u4f1a\u7acb\u5373\u8fd4\u56de\uff0c\u6240\u4ee5\u7528\u6237\u8fdb\u7a0b\u4e0d\u963b\u585e\uff0c\u5f53\u5185\u6838\u6570\u636e\u51c6\u5907\u5c31\u7eea\u65f6\uff0c\u5185\u6838\u53d1\u9001\u4e00\u4e2a\u4fe1\u53f7\u7ed9\u7528\u6237\u8fdb\u7a0b\uff0c\u544a\u8bc9\u5b83\u8bfb\u64cd\u4f5c\u5b8c\u6210\u4e86\u3002</li> </ol> <p>\u901a\u5e38\uff0c\u6211\u4eec\u7f16\u5199\u4e00\u4e2a\u5904\u7406\u7528\u6237\u8bf7\u6c42\u7684\u670d\u52a1\u5668\u7a0b\u5e8f\u65f6\uff0c\u6709\u4ee5\u4e0b\u4e09\u79cd\u65b9\u5f0f\u53ef\u4f9b\u9009\u62e9\uff1a</p> <ol> <li>\u6bcf\u6536\u5230\u4e00\u4e2a\u8bf7\u6c42\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8fdb\u7a0b\uff0c\u6765\u5904\u7406\u8be5\u8bf7\u6c42\uff1b</li> <li>\u6bcf\u6536\u5230\u4e00\u4e2a\u8bf7\u6c42\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7ebf\u7a0b\uff0c\u6765\u5904\u7406\u8be5\u8bf7\u6c42\uff1b</li> <li>\u6bcf\u6536\u5230\u4e00\u4e2a\u8bf7\u6c42\uff0c\u653e\u5165\u4e00\u4e2a\u4e8b\u4ef6\u5217\u8868\uff0c\u8ba9\u4e3b\u8fdb\u7a0b\u901a\u8fc7\u975e\u963b\u585eI/O\u65b9\u5f0f\u6765\u5904\u7406\u8bf7\u6c42</li> </ol> <p>\u7b2c1\u79cd\u65b9\u5f0f\u5b9e\u73b0\u6bd4\u8f83\u7b80\u5355\uff0c\u4f46\u7531\u4e8e\u521b\u5efa\u8fdb\u7a0b\u5f00\u9500\u6bd4\u8f83\u5927\uff0c\u4f1a\u5bfc\u81f4\u670d\u52a1\u5668\u6027\u80fd\u6bd4\u8f83\u5dee\uff1b\u7b2c2\u79cd\u65b9\u5f0f\uff0c\u7531\u4e8e\u8981\u6d89\u53ca\u5230\u7ebf\u7a0b\u7684\u540c\u6b65\uff0c\u6709\u53ef\u80fd\u4f1a\u9762\u4e34\u7ade\u4e89\u3001\u6b7b\u9501\u7b49\u95ee\u9898\uff1b\u7b2c3\u79cd\u65b9\u5f0f\uff0c\u5c31\u662f\u6240\u8c13\u4e8b\u4ef6\u9a71\u52a8\u7684\u65b9\u5f0f\uff0c\u5b83\u5229\u7528\u4e86\u591a\u8defI/O\u590d\u7528\u548c\u5f02\u6b65I/O\u7684\u4f18\u70b9\uff0c\u867d\u7136\u4ee3\u7801\u903b\u8f91\u6bd4\u524d\u9762\u4e24\u79cd\u90fd\u590d\u6742\uff0c\u4f46\u80fd\u8fbe\u5230\u6700\u597d\u7684\u6027\u80fd\uff0c\u8fd9\u4e5f\u662f\u76ee\u524d\u5927\u591a\u6570\u7f51\u7edc\u670d\u52a1\u5668\u91c7\u7528\u7684\u65b9\u5f0f\u3002</p>"},{"location":"python/Py-100Days/Day61-65/62.Tornado%E5%85%A5%E9%97%A8/","title":"62.Tornado\u5165\u95e8","text":""},{"location":"python/Py-100Days/Day61-65/62.Tornado%E5%85%A5%E9%97%A8/#tornado","title":"Tornado\u5165\u95e8","text":""},{"location":"python/Py-100Days/Day61-65/62.Tornado%E5%85%A5%E9%97%A8/#tornado_1","title":"Tornado\u6982\u8ff0","text":"<p>Python\u7684Web\u6846\u67b6\u79cd\u7c7b\u7e41\u591a\uff08\u6bd4Python\u8bed\u8a00\u7684\u5173\u952e\u5b57\u8fd8\u8981\u591a\uff09\uff0c\u4f46\u5728\u4f17\u591a\u4f18\u79c0\u7684Web\u6846\u67b6\u4e2d\uff0cTornado\u6846\u67b6\u6700\u9002\u5408\u7528\u6765\u5f00\u53d1\u9700\u8981\u5904\u7406\u957f\u8fde\u63a5\u548c\u5e94\u5bf9\u9ad8\u5e76\u53d1\u7684Web\u5e94\u7528\u3002Tornado\u6846\u67b6\u5728\u8bbe\u8ba1\u4e4b\u521d\u5c31\u8003\u8651\u5230\u6027\u80fd\u95ee\u9898\uff0c\u901a\u8fc7\u5bf9\u975e\u963b\u585eI/O\u548cepoll\uff08Linux 2.5.44\u5185\u6838\u5f15\u5165\u7684\u4e00\u79cd\u591a\u8defI/O\u590d\u7528\u65b9\u5f0f\uff0c\u65e8\u5728\u5b9e\u73b0\u9ad8\u6027\u80fd\u7f51\u7edc\u670d\u52a1\uff0c\u5728BSD\u548cmacOS\u4e2d\u662fkqueue\uff09\u7684\u8fd0\u7528\uff0cTornado\u53ef\u4ee5\u5904\u7406\u5927\u91cf\u7684\u5e76\u53d1\u8fde\u63a5\uff0c\u66f4\u8f7b\u677e\u7684\u5e94\u5bf9C10K\uff08\u4e07\u7ea7\u5e76\u53d1\uff09\u95ee\u9898\uff0c\u662f\u975e\u5e38\u7406\u60f3\u7684\u5b9e\u65f6\u901a\u4fe1Web\u6846\u67b6\u3002</p> <p>\u6269\u5c55\uff1a\u57fa\u4e8e\u7ebf\u7a0b\u7684Web\u670d\u52a1\u5668\u4ea7\u54c1\uff08\u5982\uff1aApache\uff09\u4f1a\u7ef4\u62a4\u4e00\u4e2a\u7ebf\u7a0b\u6c60\u6765\u5904\u7406\u7528\u6237\u8bf7\u6c42\uff0c\u5f53\u7528\u6237\u8bf7\u6c42\u5230\u8fbe\u65f6\u5c31\u4e3a\u8be5\u8bf7\u6c42\u5206\u914d\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u5982\u679c\u7ebf\u7a0b\u6c60\u4e2d\u6ca1\u6709\u7a7a\u95f2\u7ebf\u7a0b\u4e86\uff0c\u90a3\u4e48\u53ef\u4ee5\u901a\u8fc7\u521b\u5efa\u65b0\u7684\u7ebf\u7a0b\u6765\u5e94\u4ed8\u65b0\u7684\u8bf7\u6c42\uff0c\u4f46\u524d\u63d0\u662f\u7cfb\u7edf\u5c1a\u6709\u7a7a\u95f2\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u663e\u7136\u8fd9\u79cd\u65b9\u5f0f\u5f88\u5bb9\u6613\u5c06\u670d\u52a1\u5668\u7684\u7a7a\u95f2\u5185\u5b58\u8017\u5c3d\uff08\u5927\u591a\u6570Linux\u53d1\u884c\u7248\u672c\u4e2d\uff0c\u9ed8\u8ba4\u7684\u7ebf\u7a0b\u6808\u5927\u5c0f\u4e3a8M\uff09\u3002\u60f3\u8c61\u4e00\u4e0b\uff0c\u5982\u679c\u6211\u4eec\u8981\u5f00\u53d1\u4e00\u4e2a\u793e\u4ea4\u7c7b\u5e94\u7528\uff0c\u8fd9\u7c7b\u5e94\u7528\u4e2d\uff0c\u901a\u5e38\u9700\u8981\u663e\u793a\u5b9e\u65f6\u66f4\u65b0\u7684\u6d88\u606f\u3001\u5bf9\u8c61\u72b6\u6001\u7684\u53d8\u5316\u548c\u5404\u79cd\u7c7b\u578b\u7684\u901a\u77e5\uff0c\u90a3\u4e5f\u5c31\u610f\u5473\u7740\u5ba2\u6237\u7aef\u9700\u8981\u4fdd\u6301\u8bf7\u6c42\u8fde\u63a5\u6765\u63a5\u6536\u670d\u52a1\u5668\u7684\u5404\u79cd\u54cd\u5e94\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u670d\u52a1\u5668\u4e0a\u7684\u5de5\u4f5c\u7ebf\u7a0b\u5f88\u5bb9\u6613\u88ab\u8017\u5c3d\uff0c\u8fd9\u4e5f\u5c31\u610f\u5473\u7740\u65b0\u7684\u8bf7\u6c42\u5f88\u6709\u53ef\u80fd\u65e0\u6cd5\u5f97\u5230\u54cd\u5e94\u3002</p> <p>Tornado\u6846\u67b6\u6e90\u4e8eFriendFeed\u7f51\u7ad9\uff0c\u5728FriendFeed\u7f51\u7ad9\u88abFacebook\u6536\u8d2d\u4e4b\u540e\u5f97\u4ee5\u5f00\u6e90\uff0c\u6b63\u5f0f\u53d1\u5e03\u7684\u65e5\u671f\u662f2009\u5e749\u670810\u65e5\u3002Tornado\u80fd\u8ba9\u4f60\u80fd\u591f\u5feb\u901f\u5f00\u53d1\u9ad8\u901f\u7684Web\u5e94\u7528\uff0c\u5982\u679c\u4f60\u60f3\u7f16\u5199\u4e00\u4e2a\u53ef\u6269\u5c55\u7684\u793e\u4ea4\u5e94\u7528\u3001\u5b9e\u65f6\u5206\u6790\u5f15\u64ce\uff0c\u6216RESTful API\uff0c\u90a3\u4e48Tornado\u6846\u67b6\u5c31\u662f\u5f88\u597d\u7684\u9009\u62e9\u3002Tornado\u5176\u5b9e\u4e0d\u4ec5\u4ec5\u662f\u4e00\u4e2aWeb\u5f00\u53d1\u7684\u6846\u67b6\uff0c\u5b83\u8fd8\u662f\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684\u4e8b\u4ef6\u9a71\u52a8\u7f51\u7edc\u8bbf\u95ee\u5f15\u64ce\uff0c\u5185\u7f6e\u4e86\u9ad8\u6027\u80fd\u7684HTTP\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\uff08\u652f\u6301\u540c\u6b65\u548c\u5f02\u6b65\u8bf7\u6c42\uff09\uff0c\u540c\u65f6\u8fd8\u5bf9WebSocket\u63d0\u4f9b\u4e86\u5b8c\u7f8e\u7684\u652f\u6301\u3002</p> <p>\u4e86\u89e3\u548c\u5b66\u4e60Tornado\u6700\u597d\u7684\u8d44\u6599\u5c31\u662f\u5b83\u7684\u5b98\u65b9\u6587\u6863\uff0c\u5728tornadoweb.org\u4e0a\u9762\u6709\u5f88\u591a\u4e0d\u9519\u7684\u4f8b\u5b50\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5728Github\u4e0a\u627e\u5230Tornado\u7684\u6e90\u4ee3\u7801\u548c\u5386\u53f2\u7248\u672c\u3002</p>"},{"location":"python/Py-100Days/Day61-65/62.Tornado%E5%85%A5%E9%97%A8/#5tornado","title":"5\u5206\u949f\u4e0a\u624bTornado","text":"<ol> <li>\u521b\u5efa\u5e76\u6fc0\u6d3b\u865a\u62df\u73af\u5883\u3002</li> </ol> <pre><code>mkdir hello-tornado\ncd hello-tornado\npython3 -m venv venv\nsource venv/bin/activate\n</code></pre> <ol> <li>\u5b89\u88c5Tornado\u3002</li> </ol> <pre><code>pip install tornado\n</code></pre> <ol> <li>\u7f16\u5199Web\u5e94\u7528\u3002</li> </ol> <pre><code>\"\"\"\nexample01.py\n\"\"\"\nimport tornado.ioloop\nimport tornado.web\n\n\nclass MainHandler(tornado.web.RequestHandler):\n\n    def get(self):\n        self.write('&lt;h1&gt;Hello, world!&lt;/h1&gt;')\n\n\ndef main():\n    app = tornado.web.Application(handlers=[(r'/', MainHandler), ])\n    app.listen(8888)\n    tornado.ioloop.IOLoop.current().start()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <ol> <li>\u8fd0\u884c\u5e76\u8bbf\u95ee\u5e94\u7528\u3002</li> </ol> <pre><code>python example01.py\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u4ee3\u7801example01.py\u901a\u8fc7\u5b9a\u4e49\u4e00\u4e2a\u7ee7\u627f\u81ea<code>RequestHandler</code>\u7684\u7c7b\uff08<code>MainHandler</code>\uff09\u6765\u5904\u7406\u7528\u6237\u8bf7\u6c42\uff0c\u5f53\u8bf7\u6c42\u5230\u8fbe\u65f6\uff0cTornado\u4f1a\u5b9e\u4f8b\u5316\u8fd9\u4e2a\u7c7b\uff08\u521b\u5efa<code>MainHandler</code>\u5bf9\u8c61\uff09\uff0c\u5e76\u8c03\u7528\u4e0eHTTP\u8bf7\u6c42\u65b9\u6cd5\uff08GET\u3001POST\u7b49\uff09\u5bf9\u5e94\u7684\u65b9\u6cd5\uff0c\u663e\u7136\u4e0a\u9762\u7684<code>MainHandler</code>\u53ea\u80fd\u5904\u7406GET\u8bf7\u6c42\uff0c\u5728\u6536\u5230GET\u8bf7\u6c42\u65f6\uff0c\u5b83\u4f1a\u5c06\u4e00\u6bb5HTML\u7684\u5185\u5bb9\u5199\u5165\u5230HTTP\u54cd\u5e94\u4e2d\u3002<code>main</code>\u51fd\u6570\u7684\u7b2c1\u884c\u4ee3\u7801\u521b\u5efa\u4e86Tornado\u6846\u67b6\u4e2d<code>Application</code>\u7c7b\u7684\u5b9e\u4f8b\uff0c\u5b83\u4ee3\u8868\u4e86\u6211\u4eec\u7684Web\u5e94\u7528\uff0c\u800c\u521b\u5efa\u8be5\u5b9e\u4f8b\u6700\u4e3a\u91cd\u8981\u7684\u53c2\u6570\u5c31\u662f<code>handlers</code>\uff0c\u8be5\u53c2\u6570\u544a\u77e5<code>Application</code>\u5bf9\u8c61\uff0c\u5f53\u6536\u5230\u4e00\u4e2a\u8bf7\u6c42\u65f6\u5e94\u8be5\u901a\u8fc7\u54ea\u4e2a\u7c7b\u7684\u5bf9\u8c61\u6765\u5904\u7406\u8fd9\u4e2a\u8bf7\u6c42\u3002\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u5f53\u901a\u8fc7HTTP\u7684GET\u8bf7\u6c42\u8bbf\u95ee\u7ad9\u70b9\u6839\u8def\u5f84\u65f6\uff0c\u5c31\u4f1a\u8c03\u7528<code>MainHandler</code>\u7684<code>get</code>\u65b9\u6cd5\u3002 <code>main</code>\u51fd\u6570\u7684\u7b2c2\u884c\u4ee3\u7801\u901a\u8fc7<code>Application</code>\u5bf9\u8c61\u7684<code>listen</code>\u65b9\u6cd5\u6307\u5b9a\u4e86\u76d1\u542cHTTP\u8bf7\u6c42\u7684\u7aef\u53e3\u3002<code>main</code>\u51fd\u6570\u7684\u7b2c3\u884c\u4ee3\u7801\u7528\u4e8e\u83b7\u53d6Tornado\u6846\u67b6\u7684<code>IOLoop</code>\u5b9e\u4f8b\u5e76\u542f\u52a8\u5b83\uff0c\u8be5\u5b9e\u4f8b\u4ee3\u8868\u4e00\u4e2a\u6761\u4ef6\u89e6\u53d1\u7684I/O\u5faa\u73af\uff0c\u7528\u4e8e\u6301\u7eed\u7684\u63a5\u6536\u6765\u81ea\u4e8e\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u3002</p> <p>\u6269\u5c55\uff1a\u5728Python 3\u4e2d\uff0c<code>IOLoop</code>\u5b9e\u4f8b\u7684\u672c\u8d28\u5c31\u662f<code>asyncio</code>\u7684\u4e8b\u4ef6\u5faa\u73af\uff0c\u8be5\u4e8b\u4ef6\u5faa\u73af\u5728\u975eWindows\u7cfb\u7edf\u4e2d\u5c31\u662f<code>SelectorEventLoop</code>\u5bf9\u8c61\uff0c\u5b83\u57fa\u4e8e<code>selectors</code>\u6a21\u5757\uff08\u9ad8\u7ea7I/O\u590d\u7528\u6a21\u5757\uff09\uff0c\u4f1a\u4f7f\u7528\u5f53\u524d\u64cd\u4f5c\u7cfb\u7edf\u6700\u9ad8\u6548\u7684I/O\u590d\u7528\u9009\u62e9\u5668\uff0c\u4f8b\u5982\u5728Linux\u73af\u5883\u4e0b\u5b83\u4f7f\u7528<code>EpollSelector</code>\uff0c\u800c\u5728macOS\u548cBSD\u73af\u5883\u4e0b\u5b83\u4f7f\u7528\u7684\u662f<code>KqueueSelector</code>\uff1b\u5728Python 2\u4e2d\uff0c<code>IOLoop</code>\u76f4\u63a5\u4f7f\u7528<code>select</code>\u6a21\u5757\uff08\u4f4e\u7ea7I/O\u590d\u7528\u6a21\u5757\uff09\u7684<code>epoll</code>\u6216<code>kqueue</code>\u51fd\u6570\uff0c\u5982\u679c\u8fd9\u4e24\u79cd\u65b9\u5f0f\u90fd\u4e0d\u53ef\u7528\uff0c\u5219\u8c03\u7528<code>select</code>\u51fd\u6570\u5b9e\u73b0\u591a\u8defI/O\u590d\u7528\u3002\u5f53\u7136\uff0c\u5982\u679c\u8981\u652f\u6301\u9ad8\u5e76\u53d1\uff0c\u4f60\u7684\u7cfb\u7edf\u6700\u597d\u80fd\u591f\u652f\u6301epoll\u6216\u8005kqueue\u8fd9\u4e24\u79cd\u591a\u8defI/O\u590d\u7528\u65b9\u5f0f\u4e2d\u7684\u4e00\u79cd\u3002</p> <p>\u5982\u679c\u5e0c\u671b\u901a\u8fc7\u547d\u4ee4\u884c\u53c2\u6570\u6765\u6307\u5b9aWeb\u5e94\u7528\u7684\u76d1\u542c\u7aef\u53e3\uff0c\u53ef\u4ee5\u5bf9\u4e0a\u9762\u7684\u4ee3\u7801\u7a0d\u4f5c\u4fee\u6539\u3002</p> <pre><code>\"\"\"\nexample01.py\n\"\"\"\nimport tornado.ioloop\nimport tornado.web\n\nfrom tornado.options import define, options, parse_command_line\n\n\n# \u5b9a\u4e49\u9ed8\u8ba4\u7aef\u53e3\ndefine('port', default=8000, type=int)\n\n\nclass MainHandler(tornado.web.RequestHandler):\n\n    def get(self):\n        self.write('&lt;h1&gt;Hello, world!&lt;/h1&gt;')\n\n\ndef main():\n    # python example01.py --port=8000\n    parse_command_line()\n    app = tornado.web.Application(handlers=[(r'/', MainHandler), ])\n    app.listen(options.port)\n    tornado.ioloop.IOLoop.current().start()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u5728\u542f\u52a8Web\u5e94\u7528\u65f6\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u7aef\u53e3\uff0c\u5c06\u4f7f\u7528<code>define</code>\u51fd\u6570\u4e2d\u8bbe\u7f6e\u7684\u9ed8\u8ba4\u7aef\u53e38000\uff0c\u5982\u679c\u8981\u6307\u5b9a\u7aef\u53e3\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u65b9\u5f0f\u6765\u542f\u52a8Web\u5e94\u7528\u3002</p> <pre><code>python example01.py --port=8000\n</code></pre>"},{"location":"python/Py-100Days/Day61-65/62.Tornado%E5%85%A5%E9%97%A8/#_1","title":"\u8def\u7531\u89e3\u6790","text":"<p>\u4e0a\u9762\u6211\u4eec\u66fe\u7ecf\u63d0\u5230\u8fc7\u521b\u5efa<code>Application</code>\u5b9e\u4f8b\u65f6\u9700\u8981\u6307\u5b9a<code>handlers</code>\u53c2\u6570\uff0c\u8fd9\u4e2a\u53c2\u6570\u975e\u5e38\u91cd\u8981\uff0c\u5b83\u5e94\u8be5\u662f\u4e00\u4e2a\u5143\u7ec4\u7684\u5217\u8868\uff0c\u5143\u7ec4\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u662f\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u5b83\u7528\u4e8e\u5339\u914d\u7528\u6237\u8bf7\u6c42\u7684\u8d44\u6e90\u8def\u5f84\uff1b\u7b2c\u4e8c\u4e2a\u5143\u7d20\u662f<code>RequestHandler</code>\u7684\u5b50\u7c7b\u3002\u5728\u521a\u624d\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ea\u5728<code>handlers</code>\u5217\u8868\u4e2d\u653e\u7f6e\u4e86\u4e00\u4e2a\u5143\u7ec4\uff0c\u4e8b\u5b9e\u4e0a\u6211\u4eec\u53ef\u4ee5\u653e\u7f6e\u591a\u4e2a\u5143\u7ec4\u6765\u5339\u914d\u4e0d\u540c\u7684\u8bf7\u6c42\uff08\u8d44\u6e90\u8def\u5f84\uff09\uff0c\u800c\u4e14\u53ef\u4ee5\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u6355\u83b7\u7ec4\u6765\u83b7\u53d6\u5339\u914d\u7684\u5185\u5bb9\u5e76\u5c06\u5176\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u5230<code>get</code>\u3001<code>post</code>\u8fd9\u4e9b\u65b9\u6cd5\u4e2d\u3002</p> <pre><code>\"\"\"\nexample02.py\n\"\"\"\nimport os\nimport random\n\nimport tornado.ioloop\nimport tornado.web\n\nfrom tornado.options import define, options, parse_command_line\n\n\n# \u5b9a\u4e49\u9ed8\u8ba4\u7aef\u53e3\ndefine('port', default=8000, type=int)\n\n\nclass SayingHandler(tornado.web.RequestHandler):\n    \"\"\"\u81ea\u5b9a\u4e49\u8bf7\u6c42\u5904\u7406\u5668\"\"\"\n\n    def get(self):\n        sayings = [\n            '\u4e16\u4e0a\u6ca1\u6709\u7edd\u671b\u7684\u5904\u5883\uff0c\u53ea\u6709\u5bf9\u5904\u5883\u7edd\u671b\u7684\u4eba',\n            '\u4eba\u751f\u7684\u9053\u8def\u5728\u6001\u5ea6\u7684\u5c94\u53e3\u4e00\u5206\u4e3a\u4e8c\uff0c\u4ece\u6b64\u901a\u5411\u6210\u529f\u6216\u5931\u8d25',\n            '\u6240\u8c13\u63aa\u624b\u4e0d\u53ca\uff0c\u4e0d\u662f\u8bf4\u6ca1\u6709\u65f6\u95f4\u51c6\u5907\uff0c\u800c\u662f\u6709\u65f6\u95f4\u7684\u65f6\u5019\u6ca1\u6709\u51c6\u5907',\n            '\u90a3\u4e9b\u4f60\u8ba4\u4e3a\u4e0d\u9760\u8c31\u7684\u4eba\u751f\u91cc\uff0c\u5145\u6ee1\u4f60\u6ca1\u6709\u52c7\u6c14\u505a\u7684\u4e8b',\n            '\u5728\u81ea\u5df1\u559c\u6b22\u7684\u65f6\u95f4\u91cc\uff0c\u6309\u7167\u81ea\u5df1\u559c\u6b22\u7684\u65b9\u5f0f\uff0c\u53bb\u505a\u81ea\u5df1\u559c\u6b22\u505a\u7684\u4e8b\uff0c\u8fd9\u4fbf\u662f\u81ea\u7531',\n            '\u6709\u4e9b\u4eba\u4e0d\u5c5e\u4e8e\u81ea\u5df1\uff0c\u4f46\u662f\u9047\u89c1\u4e86\u4e5f\u5f25\u8db3\u73cd\u8d35'\n        ]\n        # \u6e32\u67d3index.html\u6a21\u677f\u9875\n        self.render('index.html', message=random.choice(sayings))\n\n\nclass WeatherHandler(tornado.web.RequestHandler):\n    \"\"\"\u81ea\u5b9a\u4e49\u8bf7\u6c42\u5904\u7406\u5668\"\"\"\n\n    def get(self, city):\n        # Tornado\u6846\u67b6\u4f1a\u81ea\u52a8\u5904\u7406\u767e\u5206\u53f7\u7f16\u7801\u7684\u95ee\u9898\n        weathers = {\n            '\u5317\u4eac': {'temperature': '-4~4', 'pollution': '195 \u4e2d\u5ea6\u6c61\u67d3'},\n            '\u6210\u90fd': {'temperature': '3~9', 'pollution': '53 \u826f'},\n            '\u6df1\u5733': {'temperature': '20~25', 'pollution': '25 \u4f18'},\n            '\u5e7f\u5dde': {'temperature': '18~23', 'pollution': '56 \u826f'},\n            '\u4e0a\u6d77': {'temperature': '6~8', 'pollution': '65 \u826f'}\n        }\n        if city in weathers:\n            self.render('weather.html', city=city, weather=weathers[city])\n        else:\n            self.render('index.html', message=f'\u6ca1\u6709{city}\u7684\u5929\u6c14\u4fe1\u606f')\n\n\nclass ErrorHandler(tornado.web.RequestHandler):\n    \"\"\"\u81ea\u5b9a\u4e49\u8bf7\u6c42\u5904\u7406\u5668\"\"\"\n\n    def get(self):\n        # \u91cd\u5b9a\u5411\u5230\u6307\u5b9a\u7684\u8def\u5f84\n        self.redirect('/saying')\n\n\ndef main():\n    \"\"\"\u4e3b\u51fd\u6570\"\"\"\n    parse_command_line()\n    app = tornado.web.Application(\n        # handlers\u662f\u6309\u5217\u8868\u4e2d\u7684\u987a\u5e8f\u4f9d\u6b21\u8fdb\u884c\u5339\u914d\u7684\n        handlers=[\n            (r'/saying/?', SayingHandler),\n            (r'/weather/([^/]{2,})/?', WeatherHandler),\n            (r'/.+', ErrorHandler),\n        ],\n        # \u901a\u8fc7template_path\u53c2\u6570\u8bbe\u7f6e\u6a21\u677f\u9875\u7684\u8def\u5f84\n        template_path=os.path.join(os.path.dirname(__file__), 'templates')\n    )\n    app.listen(options.port)\n    tornado.ioloop.IOLoop.current().start()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u6a21\u677f\u9875index.html\u3002</p> <pre><code>&lt;!-- index.html --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;Tornado\u57fa\u7840&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;{{message}}&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u6a21\u677f\u9875weather.html\u3002</p> <pre><code>&lt;!-- weather.html --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;Tornado\u57fa\u7840&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;{{city}}&lt;/h1&gt;\n    &lt;hr&gt;\n    &lt;h2&gt;\u6e29\u5ea6\uff1a{{weather['temperature']}}\u6444\u6c0f\u5ea6&lt;/h2&gt;\n    &lt;h2&gt;\u6c61\u67d3\u6307\u6570\uff1a{{weather['pollution']}}&lt;/h2&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Tornado\u7684\u6a21\u677f\u8bed\u6cd5\u4e0e\u5176\u4ed6\u7684Web\u6846\u67b6\u4e2d\u4f7f\u7528\u7684\u6a21\u677f\u8bed\u6cd5\u5e76\u6ca1\u6709\u4ec0\u4e48\u5b9e\u8d28\u6027\u7684\u533a\u522b\uff0c\u800c\u4e14\u76ee\u524d\u7684Web\u5e94\u7528\u5f00\u53d1\u66f4\u5021\u5bfc\u4f7f\u7528\u524d\u7aef\u6e32\u67d3\u7684\u65b9\u5f0f\u6765\u51cf\u8f7b\u670d\u52a1\u5668\u7684\u8d1f\u62c5\uff0c\u6240\u4ee5\u8fd9\u91cc\u6211\u4eec\u5e76\u4e0d\u5bf9\u6a21\u677f\u8bed\u6cd5\u548c\u540e\u7aef\u6e32\u67d3\u8fdb\u884c\u6df1\u5165\u7684\u8bb2\u89e3\u3002</p>"},{"location":"python/Py-100Days/Day61-65/62.Tornado%E5%85%A5%E9%97%A8/#_2","title":"\u8bf7\u6c42\u5904\u7406\u5668","text":"<p>\u901a\u8fc7\u4e0a\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u770b\u51fa\uff0c<code>RequestHandler</code>\u662f\u5904\u7406\u7528\u6237\u8bf7\u6c42\u7684\u6838\u5fc3\u7c7b\uff0c\u901a\u8fc7\u91cd\u5199<code>get</code>\u3001<code>post</code>\u3001<code>put</code>\u3001<code>delete</code>\u7b49\u65b9\u6cd5\u53ef\u4ee5\u5904\u7406\u4e0d\u540c\u7c7b\u578b\u7684HTTP\u8bf7\u6c42\uff0c\u9664\u4e86\u8fd9\u4e9b\u65b9\u6cd5\u4e4b\u5916\uff0c<code>RequestHandler</code>\u8fd8\u5b9e\u73b0\u4e86\u5f88\u591a\u91cd\u8981\u7684\u65b9\u6cd5\uff0c\u4e0b\u9762\u662f\u90e8\u5206\u65b9\u6cd5\u7684\u5217\u8868\uff1a</p> <ol> <li><code>get_argument</code> / <code>get_arguments</code> / <code>get_body_argument</code> / <code>get_body_arguments</code> / <code>get_query_arugment</code> / <code>get_query_arguments</code>\uff1a\u83b7\u53d6\u8bf7\u6c42\u53c2\u6570\u3002</li> <li><code>set_status</code> / <code>send_error</code> / <code>set_header</code> / <code>add_header</code> / <code>clear_header</code> / <code>clear</code>\uff1a\u64cd\u4f5c\u72b6\u6001\u7801\u548c\u54cd\u5e94\u5934\u3002</li> <li><code>write</code> / <code>flush</code> / <code>finish</code> / <code>write_error</code>\uff1a\u548c\u8f93\u51fa\u76f8\u5173\u7684\u65b9\u6cd5\u3002</li> <li><code>render</code> / <code>render_string</code>\uff1a\u6e32\u67d3\u6a21\u677f\u3002</li> <li><code>redirect</code>\uff1a\u8bf7\u6c42\u91cd\u5b9a\u5411\u3002</li> <li><code>get_cookie</code> / <code>set_cookie</code> / <code>get_secure_cookie</code> / <code>set_secure_cookie</code> / <code>create_signed_value</code> / <code>clear_cookie</code> / <code>clear_all_cookies</code>\uff1a\u64cd\u4f5cCookie\u3002</li> </ol> <p>\u6211\u4eec\u7528\u4e0a\u9762\u8bb2\u5230\u7684\u8fd9\u4e9b\u65b9\u6cd5\u6765\u5b8c\u6210\u4e0b\u9762\u7684\u9700\u6c42\uff0c\u8bbf\u95ee\u9875\u9762\u65f6\uff0c\u5982\u679cCookie\u4e2d\u6ca1\u6709\u8bfb\u53d6\u5230\u7528\u6237\u4fe1\u606f\u5219\u8981\u6c42\u7528\u6237\u586b\u5199\u4e2a\u4eba\u4fe1\u606f\uff0c\u5982\u679c\u4eceCookie\u4e2d\u8bfb\u53d6\u5230\u7528\u6237\u4fe1\u606f\u5219\u76f4\u63a5\u663e\u793a\u7528\u6237\u4fe1\u606f\u3002</p> <pre><code>\"\"\"\nexample03.py\n\"\"\"\nimport os\nimport re\n\nimport tornado.ioloop\nimport tornado.web\n\nfrom tornado.options import define, options, parse_command_line\n\n\n# \u5b9a\u4e49\u9ed8\u8ba4\u7aef\u53e3\ndefine('port', default=8000, type=int)\n\nusers = {}\n\n\nclass User(object):\n    \"\"\"\u7528\u6237\"\"\"\n\n    def __init__(self, nickname, gender, birthday):\n        self.nickname = nickname\n        self.gender = gender\n        self.birthday = birthday\n\n\nclass MainHandler(tornado.web.RequestHandler):\n    \"\"\"\u81ea\u5b9a\u4e49\u8bf7\u6c42\u5904\u7406\u5668\"\"\"\n\n    def get(self):\n        # \u4eceCookie\u4e2d\u8bfb\u53d6\u7528\u6237\u6635\u79f0\n        nickname = self.get_cookie('nickname')\n        if nickname in users:\n            self.render('userinfo.html', user=users[nickname])\n        else:\n            self.render('userform.html', hint='\u8bf7\u586b\u5199\u4e2a\u4eba\u4fe1\u606f')\n\n\nclass UserHandler(tornado.web.RequestHandler):\n    \"\"\"\u81ea\u5b9a\u4e49\u8bf7\u6c42\u5904\u7406\u5668\"\"\"\n\n    def post(self):\n        # \u4ece\u8868\u5355\u53c2\u6570\u4e2d\u8bfb\u53d6\u7528\u6237\u6635\u79f0\u3001\u6027\u522b\u548c\u751f\u65e5\u4fe1\u606f\n        nickname = self.get_body_argument('nickname').strip()\n        gender = self.get_body_argument('gender')\n        birthday = self.get_body_argument('birthday')\n        # \u68c0\u67e5\u7528\u6237\u6635\u79f0\u662f\u5426\u6709\u6548\n        if not re.fullmatch(r'\\w{6,20}', nickname):\n            self.render('userform.html', hint='\u8bf7\u8f93\u5165\u6709\u6548\u7684\u6635\u79f0')\n        elif nickname in users:\n            self.render('userform.html', hint='\u6635\u79f0\u5df2\u7ecf\u88ab\u4f7f\u7528\u8fc7')\n        else:\n            users[nickname] = User(nickname, gender, birthday)\n            # \u5c06\u7528\u6237\u6635\u79f0\u5199\u5165Cookie\u5e76\u8bbe\u7f6e\u6709\u6548\u671f\u4e3a7\u5929\n            self.set_cookie('nickname', nickname, expires_days=7)\n            self.render('userinfo.html', user=users[nickname])\n\n\ndef main():\n    \"\"\"\u4e3b\u51fd\u6570\"\"\"\n    parse_command_line()\n    app = tornado.web.Application(\n        handlers=[\n            (r'/', MainHandler), (r'/register', UserHandler)\n        ],\n        template_path=os.path.join(os.path.dirname(__file__), 'templates')\n    )\n    app.listen(options.port)\n    tornado.ioloop.IOLoop.current().start()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u6a21\u677f\u9875userform.html\u3002</p> <pre><code>&lt;!-- userform.html --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Tornado\u57fa\u7840&lt;/title&gt;\n    &lt;style&gt;\n        .em { color: red; }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;\u586b\u5199\u7528\u6237\u4fe1\u606f&lt;/h1&gt;\n    &lt;hr&gt;\n    &lt;p class=\"em\"&gt;{{hint}}&lt;/p&gt;\n    &lt;form action=\"/register\" method=\"post\"&gt;\n        &lt;p&gt;\n            &lt;label&gt;\u6635\u79f0\uff1a&lt;/label&gt;\n            &lt;input type=\"text\" name=\"nickname\"&gt;\n            \uff08\u5b57\u6bcd\u6570\u5b57\u4e0b\u5212\u7ebf\uff0c6-20\u4e2a\u5b57\u7b26\uff09\n        &lt;/p&gt;\n        &lt;p&gt;\n            &lt;label&gt;\u6027\u522b\uff1a&lt;/label&gt;\n            &lt;input type=\"radio\" name=\"gender\" value=\"\u7537\" checked&gt;\u7537\n            &lt;input type=\"radio\" name=\"gender\" value=\"\u5973\"&gt;\u5973\n        &lt;/p&gt;\n        &lt;p&gt;\n            &lt;label&gt;\u751f\u65e5\uff1a&lt;/label&gt;\n            &lt;input type=\"date\" name=\"birthday\" value=\"1990-01-01\"&gt;\n        &lt;/p&gt;\n        &lt;p&gt;\n            &lt;input type=\"submit\" value=\"\u786e\u5b9a\"&gt;\n        &lt;/p&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u6a21\u677f\u9875userinfo.html\u3002</p> <pre><code>&lt;!-- userinfo.html --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Tornado\u57fa\u7840&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;\u7528\u6237\u4fe1\u606f&lt;/h1&gt;\n    &lt;hr&gt;\n    &lt;h2&gt;\u6635\u79f0\uff1a{{user.nickname}}&lt;/h2&gt;\n    &lt;h2&gt;\u6027\u522b\uff1a{{user.gender}}&lt;/h2&gt;\n    &lt;h2&gt;\u51fa\u751f\u65e5\u671f\uff1a{{user.birthday}}&lt;/h2&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"python/Py-100Days/Day61-65/63.%E5%BC%82%E6%AD%A5%E5%8C%96/","title":"63.\u5f02\u6b65\u5316","text":""},{"location":"python/Py-100Days/Day61-65/63.%E5%BC%82%E6%AD%A5%E5%8C%96/#_1","title":"\u5f02\u6b65\u5316","text":"<p>\u5728\u524d\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5e76\u6ca1\u6709\u5bf9<code>RequestHandler</code>\u4e2d\u7684<code>get</code>\u6216<code>post</code>\u65b9\u6cd5\u8fdb\u884c\u5f02\u6b65\u5904\u7406\uff0c\u8fd9\u5c31\u610f\u5473\u7740\uff0c\u4e00\u65e6\u5728<code>get</code>\u6216<code>post</code>\u65b9\u6cd5\u4e2d\u51fa\u73b0\u4e86\u8017\u65f6\u95f4\u7684\u64cd\u4f5c\uff0c\u4e0d\u4ec5\u4ec5\u662f\u5f53\u524d\u8bf7\u6c42\u88ab\u963b\u585e\uff0c\u6309\u7167Tornado\u6846\u67b6\u7684\u5de5\u4f5c\u6a21\u5f0f\uff0c\u5176\u4ed6\u7684\u8bf7\u6c42\u4e5f\u4f1a\u88ab\u963b\u585e\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5bf9\u8017\u65f6\u95f4\u7684\u64cd\u4f5c\u8fdb\u884c\u5f02\u6b65\u5316\u5904\u7406\u3002</p> <p>\u5728Tornado\u7a0d\u65e9\u4e00\u4e9b\u7684\u7248\u672c\u4e2d\uff0c\u53ef\u4ee5\u7528\u88c5\u9970\u5668\u5b9e\u73b0\u8bf7\u6c42\u65b9\u6cd5\u7684\u5f02\u6b65\u5316\u6216\u534f\u7a0b\u5316\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002</p> <ul> <li>\u7ed9<code>RequestHandler</code>\u7684\u8bf7\u6c42\u5904\u7406\u51fd\u6570\u6dfb\u52a0<code>@tornado.web.asynchronous</code>\u88c5\u9970\u5668\uff0c\u5982\u4e0b\u6240\u793a\uff1a</li> </ul> <pre><code>class AsyncReqHandler(RequestHandler):\n\n    @tornado.web.asynchronous\n    def get(self):\n       http = httpclient.AsyncHTTPClient()\n       http.fetch(\"http://example.com/\", self._on_download)\n\n    def _on_download(self, response):\n       do_something_with_response(response)\n       self.render(\"template.html\")\n</code></pre> <ul> <li>\u7ed9<code>RequestHandler</code>\u7684\u8bf7\u6c42\u5904\u7406\u51fd\u6570\u6dfb\u52a0<code>@tornado.gen.coroutine</code>\u88c5\u9970\u5668\uff0c\u5982\u4e0b\u6240\u793a\uff1a</li> </ul> <pre><code>class GenAsyncHandler(RequestHandler):\n\n    @tornado.gen.coroutine\n    def get(self):\n        http_client = AsyncHTTPClient()\n        response = yield http_client.fetch(\"http://example.com\")\n        do_something_with_response(response)\n        self.render(\"template.html\")\n</code></pre> <ul> <li>\u4f7f\u7528<code>@return_future</code>\u88c5\u9970\u5668\uff0c\u5982\u4e0b\u6240\u793a\uff1a</li> </ul> <pre><code>@return_future\ndef future_func(arg1, arg2, callback):\n    # Do stuff (possibly asynchronous)\n    callback(result)\n\nasync def caller():\n    await future_func(arg1, arg2)\n</code></pre> <p>\u5728Tornado 5.x\u7248\u672c\u4e2d\uff0c\u8fd9\u51e0\u4e2a\u88c5\u9970\u5668\u90fd\u88ab\u6807\u8bb0\u4e3adeprcated\uff08\u8fc7\u65f6\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7Python 3.5\u4e2d\u5f15\u5165\u7684<code>async</code>\u548c<code>await</code>\uff08\u5728Python 3.7\u4e2d\u5df2\u7ecf\u6210\u4e3a\u6b63\u5f0f\u7684\u5173\u952e\u5b57\uff09\u6765\u8fbe\u5230\u540c\u6837\u7684\u6548\u679c\u3002\u5f53\u7136\uff0c\u8981\u5b9e\u73b0\u5f02\u6b65\u5316\u8fd8\u5f97\u9760\u5176\u4ed6\u7684\u652f\u6301\u5f02\u6b65\u64cd\u4f5c\u7684\u4e09\u65b9\u5e93\u6765\u652f\u6301\uff0c\u5982\u679c\u8bf7\u6c42\u5904\u7406\u51fd\u6570\u4e2d\u7528\u5230\u4e86\u4e0d\u652f\u6301\u5f02\u6b65\u64cd\u4f5c\u7684\u4e09\u65b9\u5e93\uff0c\u5c31\u9700\u8981\u9760\u81ea\u5df1\u5199\u5305\u88c5\u7c7b\u6765\u652f\u6301\u5f02\u6b65\u5316\u3002</p> <p>\u4e0b\u9762\u7684\u4ee3\u7801\u6f14\u793a\u4e86\u5728\u8bfb\u5199\u6570\u636e\u5e93\u65f6\u5982\u4f55\u5b9e\u73b0\u8bf7\u6c42\u5904\u7406\u7684\u5f02\u6b65\u5316\u3002\u6211\u4eec\u7528\u5230\u7684\u6570\u636e\u5e93\u5efa\u8868\u8bed\u53e5\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>create database hrs default charset utf8;\n\nuse hrs;\n\n/* \u521b\u5efa\u90e8\u95e8\u8868 */\ncreate table tb_dept\n(\n    dno     int not null comment '\u90e8\u95e8\u7f16\u53f7',\n    dname   varchar(10) not null comment '\u90e8\u95e8\u540d\u79f0',\n    dloc    varchar(20) not null comment '\u90e8\u95e8\u6240\u5728\u5730',\n    primary key (dno)\n);\n\ninsert into tb_dept values\n    (10, '\u4f1a\u8ba1\u90e8', '\u5317\u4eac'),\n    (20, '\u7814\u53d1\u90e8', '\u6210\u90fd'),\n    (30, '\u9500\u552e\u90e8', '\u91cd\u5e86'),\n    (40, '\u8fd0\u7ef4\u90e8', '\u6df1\u5733');\n</code></pre> <p>\u6211\u4eec\u901a\u8fc7\u4e0b\u9762\u7684\u4ee3\u7801\u5b9e\u73b0\u4e86\u67e5\u8be2\u548c\u65b0\u589e\u90e8\u95e8\u4e24\u4e2a\u64cd\u4f5c\u3002</p> <pre><code>import json\n\nimport aiomysql\nimport tornado\nimport tornado.web\n\nfrom tornado.ioloop import IOLoop\nfrom tornado.options import define, parse_command_line, options\n\ndefine('port', default=8000, type=int)\n\n\nasync def connect_mysql():\n    return await aiomysql.connect(\n        host='120.77.222.217',\n        port=3306,\n        db='hrs',\n        user='root',\n        password='123456',\n    )\n\n\nclass HomeHandler(tornado.web.RequestHandler):\n\n    async def get(self, no):\n        async with self.settings['mysql'].cursor(aiomysql.DictCursor) as cursor:\n            await cursor.execute(\"select * from tb_dept where dno=%s\", (no, ))\n            if cursor.rowcount == 0:\n                self.finish(json.dumps({\n                    'code': 20001,\n                    'mesg': f'\u6ca1\u6709\u7f16\u53f7\u4e3a{no}\u7684\u90e8\u95e8'\n                }))\n                return\n            row = await cursor.fetchone()\n            self.finish(json.dumps(row))\n\n    async def post(self, *args, **kwargs):\n        no = self.get_argument('no')\n        name = self.get_argument('name')\n        loc = self.get_argument('loc')\n        conn = self.settings['mysql']\n        try:\n            async with conn.cursor() as cursor:\n                await cursor.execute('insert into tb_dept values (%s, %s, %s)',\n                                     (no, name, loc))\n            await conn.commit()\n        except aiomysql.MySQLError:\n            self.finish(json.dumps({\n                'code': 20002,\n                'mesg': '\u6dfb\u52a0\u90e8\u95e8\u5931\u8d25\u8bf7\u786e\u8ba4\u90e8\u95e8\u4fe1\u606f'\n            }))\n        else:\n            self.set_status(201)\n            self.finish()\n\n\ndef make_app(config):\n    return tornado.web.Application(\n        handlers=[(r'/api/depts/(.*)', HomeHandler), ],\n        **config\n    )\n\n\ndef main():\n    parse_command_line()\n    app = make_app({\n        'debug': True,\n        'mysql': IOLoop.current().run_sync(connect_mysql)\n    })\n    app.listen(options.port)\n    IOLoop.current().start()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u7528\u5230\u4e86<code>aiomysql</code>\u8fd9\u4e2a\u4e09\u65b9\u5e93\uff0c\u5b83\u57fa\u4e8e<code>pymysql</code>\u5c01\u88c5\uff0c\u5b9e\u73b0\u4e86\u5bf9MySQL\u64cd\u4f5c\u7684\u5f02\u6b65\u5316\u3002\u64cd\u4f5cRedis\u53ef\u4ee5\u4f7f\u7528<code>aioredis</code>\uff0c\u8bbf\u95eeMongoDB\u53ef\u4ee5\u4f7f\u7528<code>motor</code>\uff0c\u8fd9\u4e9b\u90fd\u662f\u652f\u6301\u5f02\u6b65\u64cd\u4f5c\u7684\u4e09\u65b9\u5e93\u3002</p>"},{"location":"python/Py-100Days/Day61-65/64.WebSocket%E7%9A%84%E5%BA%94%E7%94%A8/","title":"64.WebSocket\u7684\u5e94\u7528","text":""},{"location":"python/Py-100Days/Day61-65/64.WebSocket%E7%9A%84%E5%BA%94%E7%94%A8/#websocket","title":"WebSocket\u7684\u5e94\u7528","text":"<p>Tornado\u7684\u5f02\u6b65\u7279\u6027\u4f7f\u5176\u975e\u5e38\u9002\u5408\u5904\u7406\u9ad8\u5e76\u53d1\u7684\u4e1a\u52a1\uff0c\u540c\u65f6\u4e5f\u9002\u5408\u90a3\u4e9b\u9700\u8981\u5728\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7ef4\u6301\u957f\u8fde\u63a5\u7684\u4e1a\u52a1\u3002\u4f20\u7edf\u7684\u57fa\u4e8eHTTP\u534f\u8bae\u7684Web\u5e94\u7528\uff0c\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\uff08\u6d4f\u89c8\u5668\uff09\u7684\u901a\u4fe1\u53ea\u80fd\u7531\u5ba2\u6237\u7aef\u53d1\u8d77\uff0c\u8fd9\u79cd\u5355\u5411\u8bf7\u6c42\u6ce8\u5b9a\u4e86\u5982\u679c\u670d\u52a1\u5668\u6709\u8fde\u7eed\u7684\u72b6\u6001\u53d8\u5316\uff0c\u5ba2\u6237\u7aef\uff08\u6d4f\u89c8\u5668\uff09\u662f\u5f88\u96be\u5f97\u77e5\u7684\u3002\u4e8b\u5b9e\u4e0a\uff0c\u4eca\u5929\u7684\u5f88\u591aWeb\u5e94\u7528\u90fd\u9700\u8981\u670d\u52a1\u5668\u4e3b\u52a8\u5411\u5ba2\u6237\u7aef\uff08\u6d4f\u89c8\u5668\uff09\u53d1\u9001\u6570\u636e\uff0c\u6211\u4eec\u5c06\u8fd9\u79cd\u901a\u4fe1\u65b9\u5f0f\u79f0\u4e4b\u4e3a\u201c\u63a8\u9001\u201d\u3002\u8fc7\u53bb\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\uff0c\u7a0b\u5e8f\u5458\u90fd\u662f\u7528\u5b9a\u65f6\u8f6e\u8be2\uff08Polling\uff09\u6216\u957f\u8f6e\u8be2\uff08Long Polling\uff09\u7b49\u65b9\u5f0f\u6765\u5b9e\u73b0\u201c\u63a8\u9001\u201d\uff0c\u4f46\u662f\u8fd9\u4e9b\u90fd\u4e0d\u662f\u771f\u6b63\u610f\u4e49\u4e0a\u7684\u201c\u63a8\u9001\u201d\uff0c\u800c\u4e14\u6d6a\u8d39\u8d44\u6e90\u4e14\u6548\u7387\u4f4e\u4e0b\u3002\u5728HTML5\u65f6\u4ee3\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e00\u79cd\u540d\u4e3aWebSocket\u7684\u6280\u672f\u5728\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\uff08\u6d4f\u89c8\u5668\uff09\u4e4b\u95f4\u7ef4\u6301\u4f20\u8f93\u6570\u636e\u7684\u957f\u8fde\u63a5\uff0c\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5b9e\u73b0\u771f\u6b63\u7684\u201c\u63a8\u9001\u201d\u670d\u52a1\u3002</p>"},{"location":"python/Py-100Days/Day61-65/64.WebSocket%E7%9A%84%E5%BA%94%E7%94%A8/#websocket_1","title":"WebSocket\u7b80\u4ecb","text":"<p>WebSocket \u534f\u8bae\u57282008\u5e74\u8bde\u751f\uff0c2011\u5e74\u6210\u4e3a\u56fd\u9645\u6807\u51c6\uff08RFC 6455\uff09\uff0c\u73b0\u5728\u7684\u6d4f\u89c8\u5668\u90fd\u80fd\u591f\u652f\u6301\u5b83\uff0c\u5b83\u53ef\u4ee5\u5b9e\u73b0\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u5168\u53cc\u5de5\u901a\u4fe1\u3002\u6211\u4eec\u4e4b\u524d\u5b66\u4e60\u6216\u4e86\u89e3\u8fc7Python\u7684Socket\u7f16\u7a0b\uff0c\u901a\u8fc7Socket\u7f16\u7a0b\uff0c\u53ef\u4ee5\u57fa\u4e8eTCP\u6216UDP\u8fdb\u884c\u6570\u636e\u4f20\u8f93\uff1b\u800cWebSocket\u4e0e\u4e4b\u7c7b\u4f3c\uff0c\u53ea\u4e0d\u8fc7\u5b83\u662f\u57fa\u4e8eHTTP\u6765\u5b9e\u73b0\u901a\u4fe1\u63e1\u624b\uff0c\u4f7f\u7528TCP\u6765\u8fdb\u884c\u6570\u636e\u4f20\u8f93\u3002WebSocket\u7684\u51fa\u73b0\u6253\u7834\u4e86HTTP\u8bf7\u6c42\u548c\u54cd\u5e94\u53ea\u80fd\u4e00\u5bf9\u4e00\u901a\u4fe1\u7684\u6a21\u5f0f\uff0c\u4e5f\u6539\u53d8\u4e86\u670d\u52a1\u5668\u53ea\u80fd\u88ab\u52a8\u63a5\u53d7\u5ba2\u6237\u7aef\u8bf7\u6c42\u7684\u72b6\u51b5\u3002\u76ee\u524d\u6709\u5f88\u591aWeb\u5e94\u7528\u662f\u9700\u8981\u670d\u52a1\u5668\u4e3b\u52a8\u5411\u5ba2\u6237\u7aef\u53d1\u9001\u4fe1\u606f\u7684\uff0c\u4f8b\u5982\u80a1\u7968\u4fe1\u606f\u7684\u7f51\u7ad9\u53ef\u80fd\u9700\u8981\u5411\u6d4f\u89c8\u5668\u53d1\u9001\u80a1\u7968\u6da8\u505c\u901a\u77e5\uff0c\u793e\u4ea4\u7f51\u7ad9\u53ef\u80fd\u9700\u8981\u5411\u7528\u6237\u53d1\u9001\u597d\u53cb\u4e0a\u7ebf\u63d0\u9192\u6216\u804a\u5929\u4fe1\u606f\u3002</p> <p></p> <p>WebSocket\u7684\u7279\u70b9\u5982\u4e0b\u6240\u793a\uff1a</p> <ol> <li>\u5efa\u7acb\u5728TCP\u534f\u8bae\u4e4b\u4e0a\uff0c\u670d\u52a1\u5668\u7aef\u7684\u5b9e\u73b0\u6bd4\u8f83\u5bb9\u6613\u3002</li> <li>\u4e0eHTTP\u534f\u8bae\u6709\u7740\u826f\u597d\u7684\u517c\u5bb9\u6027\uff0c\u9ed8\u8ba4\u7aef\u53e3\u662f80\uff08WS\uff09\u548c443\uff08WSS\uff09\uff0c\u901a\u4fe1\u63e1\u624b\u9636\u6bb5\u91c7\u7528HTTP\u534f\u8bae\uff0c\u80fd\u901a\u8fc7\u5404\u79cd HTTP \u4ee3\u7406\u670d\u52a1\u5668\uff08\u4e0d\u5bb9\u6613\u88ab\u9632\u706b\u5899\u963b\u62e6\uff09\u3002</li> <li>\u6570\u636e\u683c\u5f0f\u6bd4\u8f83\u8f7b\u91cf\uff0c\u6027\u80fd\u5f00\u9500\u5c0f\uff0c\u901a\u4fe1\u9ad8\u6548\u3002</li> <li>\u53ef\u4ee5\u53d1\u9001\u6587\u672c\uff0c\u4e5f\u53ef\u4ee5\u53d1\u9001\u4e8c\u8fdb\u5236\u6570\u636e\u3002</li> <li>\u6ca1\u6709\u540c\u6e90\u7b56\u7565\u7684\u9650\u5236\uff0c\u5ba2\u6237\u7aef\uff08\u6d4f\u89c8\u5668\uff09\u53ef\u4ee5\u4e0e\u4efb\u610f\u670d\u52a1\u5668\u901a\u4fe1\u3002</li> </ol> <p></p>"},{"location":"python/Py-100Days/Day61-65/64.WebSocket%E7%9A%84%E5%BA%94%E7%94%A8/#websocket_2","title":"WebSocket\u670d\u52a1\u5668\u7aef\u7f16\u7a0b","text":"<p>Tornado\u6846\u67b6\u4e2d\u6709\u4e00\u4e2a<code>tornado.websocket.WebSocketHandler</code>\u7c7b\u4e13\u95e8\u7528\u4e8e\u5904\u7406\u6765\u81eaWebSocket\u7684\u8bf7\u6c42\uff0c\u901a\u8fc7\u7ee7\u627f\u8be5\u7c7b\u5e76\u91cd\u5199<code>open</code>\u3001<code>on_message</code>\u3001<code>on_close</code> \u7b49\u65b9\u6cd5\u6765\u5904\u7406WebSocket\u901a\u4fe1\uff0c\u4e0b\u9762\u6211\u4eec\u5bf9<code>WebSocketHandler</code>\u7684\u6838\u5fc3\u65b9\u6cd5\u505a\u4e00\u4e2a\u7b80\u5355\u7684\u4ecb\u7ecd\u3002</p> <ol> <li> <p><code>open(*args, **kwargs)</code>\u65b9\u6cd5\uff1a\u5efa\u7acb\u65b0\u7684WebSocket\u8fde\u63a5\u540e\uff0cTornado\u6846\u67b6\u4f1a\u8c03\u7528\u8be5\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u4e0e<code>RequestHandler</code>\u7684<code>get</code>\u65b9\u6cd5\u7684\u53c2\u6570\u7c7b\u4f3c\uff0c\u8fd9\u4e5f\u5c31\u610f\u5473\u7740\u5728<code>open</code>\u65b9\u6cd5\u4e2d\u53ef\u4ee5\u6267\u884c\u83b7\u53d6\u8bf7\u6c42\u53c2\u6570\u3001\u8bfb\u53d6Cookie\u4fe1\u606f\u8fd9\u6837\u7684\u64cd\u4f5c\u3002</p> </li> <li> <p><code>on_message(message)</code>\u65b9\u6cd5\uff1a\u5efa\u7acbWebSocket\u4e4b\u540e\uff0c\u5f53\u6536\u5230\u6765\u81ea\u5ba2\u6237\u7aef\u7684\u6d88\u606f\u65f6\uff0cTornado\u6846\u67b6\u4f1a\u8c03\u7528\u8be5\u65b9\u6cd5\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5bf9\u6536\u5230\u7684\u6d88\u606f\u8fdb\u884c\u5bf9\u5e94\u7684\u5904\u7406\uff0c\u5fc5\u987b\u91cd\u5199\u8fd9\u4e2a\u65b9\u6cd5\u3002</p> </li> <li> <p><code>on_close()</code>\u65b9\u6cd5\uff1a\u5f53WebSocket\u88ab\u5173\u95ed\u65f6\uff0cTornado\u6846\u67b6\u4f1a\u8c03\u7528\u8be5\u65b9\u6cd5\uff0c\u5728\u8be5\u65b9\u6cd5\u4e2d\u53ef\u4ee5\u901a\u8fc7<code>close_code</code>\u548c<code>close_reason</code>\u4e86\u89e3\u5173\u95ed\u7684\u539f\u56e0\u3002</p> </li> <li> <p><code>write_message(message, binary=False)</code>\u65b9\u6cd5\uff1a\u5c06\u6307\u5b9a\u7684\u6d88\u606f\u901a\u8fc7WebSocket\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\uff0c\u53ef\u4ee5\u4f20\u9012utf-8\u5b57\u7b26\u5e8f\u5217\u6216\u8005\u5b57\u8282\u5e8f\u5217\uff0c\u5982\u679cmessage\u662f\u4e00\u4e2a\u5b57\u5178\uff0c\u5c06\u4f1a\u6267\u884cJSON\u5e8f\u5217\u5316\u3002\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u8be5\u65b9\u6cd5\u4f1a\u8fd4\u56de\u4e00\u4e2a<code>Future</code>\u5bf9\u8c61\uff1b\u5982\u679cWebSocket\u88ab\u5173\u95ed\u4e86\uff0c\u5c06\u5f15\u53d1<code>WebSocketClosedError</code>\u3002</p> </li> <li> <p><code>set_nodelay(value)</code>\u65b9\u6cd5\uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u56e0\u4e3aTCP\u7684Nagle\u7b97\u6cd5\u4f1a\u5bfc\u81f4\u77ed\u5c0f\u7684\u6d88\u606f\u88ab\u5ef6\u8fdf\u53d1\u9001\uff0c\u5728\u8003\u8651\u5230\u4ea4\u4e92\u6027\u7684\u60c5\u51b5\u4e0b\u5c31\u8981\u901a\u8fc7\u5c06\u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u8bbe\u7f6e\u4e3a<code>True</code>\u6765\u907f\u514d\u5ef6\u8fdf\u3002</p> </li> <li> <p><code>close(code=None, reason=None)</code>\u65b9\u6cd5\uff1a\u4e3b\u52a8\u5173\u95edWebSocket\uff0c\u53ef\u4ee5\u6307\u5b9a\u72b6\u6001\u7801\uff08\u8be6\u89c1RFC 6455 7.4.1\u8282\uff09\u548c\u539f\u56e0\u3002</p> </li> </ol>"},{"location":"python/Py-100Days/Day61-65/64.WebSocket%E7%9A%84%E5%BA%94%E7%94%A8/#websocket_3","title":"WebSocket\u5ba2\u6237\u7aef\u7f16\u7a0b","text":"<ol> <li>\u521b\u5efaWebSocket\u5bf9\u8c61\u3002</li> </ol> <pre><code>var webSocket = new WebSocket('ws://localhost:8000/ws');\n</code></pre> <p>\u8bf4\u660e\uff1awebSocket\u5bf9\u8c61\u7684readyState\u5c5e\u6027\u8868\u793a\u8be5\u5bf9\u8c61\u5f53\u524d\u72b6\u6001\uff0c\u53d6\u503c\u4e3aCONNECTING-\u6b63\u5728\u8fde\u63a5\uff0cOPEN-\u8fde\u63a5\u6210\u529f\u53ef\u4ee5\u901a\u4fe1\uff0cCLOSING-\u6b63\u5728\u5173\u95ed\uff0cCLOSED-\u5df2\u7ecf\u5173\u95ed\u3002</p> <ol> <li>\u7f16\u5199\u56de\u8c03\u51fd\u6570\u3002</li> </ol> <pre><code>webSocket.onopen = function(evt) { webSocket.send('...'); };\nwebSocket.onmessage = function(evt) { console.log(evt.data); };\nwebSocket.onclose = function(evt) {};\nwebSocket.onerror = function(evt) {};\n</code></pre> <p>\u8bf4\u660e\uff1a\u5982\u679c\u8981\u7ed1\u5b9a\u591a\u4e2a\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\uff0c\u53ef\u4ee5\u7528addEventListener\u65b9\u6cd5\u3002\u53e6\u5916\uff0c\u901a\u8fc7\u4e8b\u4ef6\u5bf9\u8c61\u7684data\u5c5e\u6027\u83b7\u5f97\u7684\u6570\u636e\u53ef\u80fd\u662f\u5b57\u7b26\u4e32\uff0c\u4e5f\u6709\u53ef\u80fd\u662f\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u53ef\u4ee5\u901a\u8fc7webSocket\u5bf9\u8c61\u7684binaryType\u5c5e\u6027\uff08blob\u3001arraybuffer\uff09\u6216\u8005\u901a\u8fc7typeof\u3001instanceof\u8fd0\u7b97\u7b26\u68c0\u67e5\u7c7b\u578b\u8fdb\u884c\u5224\u5b9a\u3002</p>"},{"location":"python/Py-100Days/Day61-65/64.WebSocket%E7%9A%84%E5%BA%94%E7%94%A8/#web","title":"\u9879\u76ee\uff1aWeb\u804a\u5929\u5ba4","text":"<pre><code>\"\"\"\nhandlers.py - \u7528\u6237\u767b\u5f55\u548c\u804a\u5929\u7684\u5904\u7406\u5668\n\"\"\"\nimport tornado.web\nimport tornado.websocket\n\nnicknames = set()\nconnections = {}\n\n\nclass LoginHandler(tornado.web.RequestHandler):\n\n    def get(self):\n        self.render('login.html', hint='')\n\n    def post(self):\n        nickname = self.get_argument('nickname')\n        if nickname in nicknames:\n            self.render('login.html', hint='\u6635\u79f0\u5df2\u88ab\u4f7f\u7528\uff0c\u8bf7\u66f4\u6362\u6635\u79f0')\n        self.set_secure_cookie('nickname', nickname)\n        self.render('chat.html')\n\n\nclass ChatHandler(tornado.websocket.WebSocketHandler):\n\n    def open(self):\n        nickname = self.get_secure_cookie('nickname').decode()\n        nicknames.add(nickname)\n        for conn in connections.values():\n            conn.write_message(f'~~~{nickname}\u8fdb\u5165\u4e86\u804a\u5929\u5ba4~~~')\n        connections[nickname] = self\n\n    def on_message(self, message):\n        nickname = self.get_secure_cookie('nickname').decode()\n        for conn in connections.values():\n            if conn is not self:\n                conn.write_message(f'{nickname}\u8bf4\uff1a{message}')\n\n    def on_close(self):\n        nickname = self.get_secure_cookie('nickname').decode()\n        del connections[nickname]\n        nicknames.remove(nickname)\n        for conn in connections.values():\n            conn.write_message(f'~~~{nickname}\u79bb\u5f00\u4e86\u804a\u5929\u5ba4~~~')\n</code></pre> <pre><code>\"\"\"\nrun_chat_server.py - \u804a\u5929\u670d\u52a1\u5668\n\"\"\"\nimport os\n\nimport tornado.web\nimport tornado.ioloop\n\nfrom handlers import LoginHandler, ChatHandler\n\n\nif __name__ == '__main__':\n    app = tornado.web.Application(\n        handlers=[(r'/login', LoginHandler), (r'/chat', ChatHandler)],\n        template_path=os.path.join(os.path.dirname(__file__), 'templates'),\n        static_path=os.path.join(os.path.dirname(__file__), 'static'),\n        cookie_secret='MWM2MzEyOWFlOWRiOWM2MGMzZThhYTk0ZDNlMDA0OTU=',\n    )\n    app.listen(8888)\n    tornado.ioloop.IOLoop.current().start()\n</code></pre> <pre><code>&lt;!-- login.html --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;Tornado\u804a\u5929\u5ba4&lt;/title&gt;\n    &lt;style&gt;\n        .hint { color: red; font-size: 0.8em; }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div&gt;\n        &lt;div id=\"container\"&gt;\n            &lt;h1&gt;\u8fdb\u5165\u804a\u5929\u5ba4&lt;/h1&gt;\n            &lt;hr&gt;\n            &lt;p class=\"hint\"&gt;{{hint}}&lt;/p&gt;\n            &lt;form method=\"post\" action=\"/login\"&gt;\n                &lt;label&gt;\u6635\u79f0\uff1a&lt;/label&gt;\n                &lt;input type=\"text\" placeholder=\"\u8bf7\u8f93\u5165\u4f60\u7684\u6635\u79f0\" name=\"nickname\"&gt;\n                &lt;button type=\"submit\"&gt;\u767b\u5f55&lt;/button&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <pre><code>&lt;!-- chat.html --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Tornado\u804a\u5929\u5ba4&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;\u804a\u5929\u5ba4&lt;/h1&gt;\n    &lt;hr&gt;\n    &lt;div&gt;\n        &lt;textarea id=\"contents\" rows=\"20\" cols=\"120\" readonly&gt;&lt;/textarea&gt;\n    &lt;/div&gt;\n    &lt;div class=\"send\"&gt;\n        &lt;input type=\"text\" id=\"content\" size=\"50\"&gt;\n        &lt;input type=\"button\" id=\"send\" value=\"\u53d1\u9001\"&gt;\n    &lt;/div&gt;\n    &lt;p&gt;\n        &lt;a id=\"quit\" href=\"javascript:void(0);\"&gt;\u9000\u51fa\u804a\u5929\u5ba4&lt;/a&gt;\n    &lt;/p&gt;\n    &lt;script src=\"https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n        $(function() {\n            // \u5c06\u5185\u5bb9\u8ffd\u52a0\u5230\u6307\u5b9a\u7684\u6587\u672c\u533a\n            function appendContent($ta, message) {\n                var contents = $ta.val();\n                contents += '\\n' + message;\n                $ta.val(contents);\n                $ta[0].scrollTop = $ta[0].scrollHeight;\n            }\n            // \u901a\u8fc7WebSocket\u53d1\u9001\u6d88\u606f\n            function sendMessage() {\n                message = $('#content').val().trim();\n                if (message.length &gt; 0) {\n                    ws.send(message);\n                    appendContent($('#contents'), '\u6211\u8bf4\uff1a' + message);\n                    $('#content').val('');\n                }\n            }\n            // \u521b\u5efaWebSocket\u5bf9\u8c61\n            var ws= new WebSocket('ws://localhost:8888/chat');\n            // \u8fde\u63a5\u5efa\u7acb\u540e\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570\n            ws.onopen = function(evt) {\n                $('#contents').val('~~~\u6b22\u8fce\u60a8\u8fdb\u5165\u804a\u5929\u5ba4~~~');\n            };\n            // \u6536\u5230\u6d88\u606f\u540e\u6267\u884c\u7684\u56de\u8c03\u51fd\u6570\n            ws.onmessage = function(evt) {\n                appendContent($('#contents'), evt.data);\n            };\n            // \u4e3a\u53d1\u9001\u6309\u94ae\u7ed1\u5b9a\u70b9\u51fb\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\n            $('#send').on('click', sendMessage);\n            // \u4e3a\u6587\u672c\u6846\u7ed1\u5b9a\u6309\u4e0b\u56de\u8f66\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\n            $('#content').on('keypress', function(evt) {\n                keycode = evt.keyCode || evt.which;\n                if (keycode == 13) {\n                    sendMessage();\n                }\n            });\n            // \u4e3a\u9000\u51fa\u804a\u5929\u5ba4\u8d85\u94fe\u63a5\u7ed1\u5b9a\u70b9\u51fb\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\n            $('#quit').on('click', function(evt) {\n                ws.close();\n                location.href = '/login';\n            });\n        });\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"python/Py-100Days/Day61-65/65.%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/","title":"65.\u9879\u76ee\u5b9e\u6218","text":""},{"location":"python/Py-100Days/Day61-65/65.%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#_1","title":"\u9879\u76ee\u5b9e\u6218","text":""},{"location":"python/Py-100Days/Day66-75/66.%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E5%92%8C%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/","title":"66.\u7f51\u7edc\u722c\u866b\u548c\u76f8\u5173\u5de5\u5177","text":""},{"location":"python/Py-100Days/Day66-75/66.%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E5%92%8C%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#_1","title":"\u7f51\u7edc\u722c\u866b\u548c\u76f8\u5173\u5de5\u5177","text":""},{"location":"python/Py-100Days/Day66-75/66.%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E5%92%8C%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#_2","title":"\u7f51\u7edc\u722c\u866b","text":"<p>\u7f51\u7edc\u722c\u866b\uff08web crawler\uff09\uff0c\u4ee5\u524d\u7ecf\u5e38\u79f0\u4e4b\u4e3a\u7f51\u7edc\u8718\u86db\uff08spider\uff09\uff0c\u662f\u6309\u7167\u4e00\u5b9a\u7684\u89c4\u5219\u81ea\u52a8\u6d4f\u89c8\u4e07\u7ef4\u7f51\u5e76\u83b7\u53d6\u4fe1\u606f\u7684\u673a\u5668\u4eba\u7a0b\u5e8f\uff08\u6216\u811a\u672c\uff09\uff0c\u66fe\u7ecf\u88ab\u5e7f\u6cdb\u7684\u5e94\u7528\u4e8e\u4e92\u8054\u7f51\u641c\u7d22\u5f15\u64ce\u3002\u4f7f\u7528\u8fc7\u4e92\u8054\u7f51\u548c\u6d4f\u89c8\u5668\u7684\u4eba\u90fd\u77e5\u9053\uff0c\u7f51\u9875\u4e2d\u9664\u4e86\u4f9b\u7528\u6237\u9605\u8bfb\u7684\u6587\u5b57\u4fe1\u606f\u4e4b\u5916\uff0c\u8fd8\u5305\u542b\u4e00\u4e9b\u8d85\u94fe\u63a5\u3002\u7f51\u7edc\u722c\u866b\u7cfb\u7edf\u6b63\u662f\u901a\u8fc7\u7f51\u9875\u4e2d\u7684\u8d85\u94fe\u63a5\u4fe1\u606f\u4e0d\u65ad\u83b7\u5f97\u7f51\u7edc\u4e0a\u7684\u5176\u5b83\u9875\u9762\u3002\u6b63\u56e0\u5982\u6b64\uff0c\u7f51\u7edc\u6570\u636e\u91c7\u96c6\u7684\u8fc7\u7a0b\u5c31\u50cf\u4e00\u4e2a\u722c\u866b\u6216\u8005\u8718\u86db\u5728\u7f51\u7edc\u4e0a\u6f2b\u6e38\uff0c\u6240\u4ee5\u624d\u88ab\u5f62\u8c61\u7684\u79f0\u4e3a\u7f51\u7edc\u722c\u866b\u6216\u8005\u7f51\u7edc\u8718\u86db\u3002</p>"},{"location":"python/Py-100Days/Day66-75/66.%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E5%92%8C%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#_3","title":"\u722c\u866b\u7684\u5e94\u7528\u9886\u57df","text":"<p>\u5728\u7406\u60f3\u7684\u72b6\u6001\u4e0b\uff0c\u6240\u6709ICP\uff08Internet Content Provider\uff09\u90fd\u5e94\u8be5\u4e3a\u81ea\u5df1\u7684\u7f51\u7ad9\u63d0\u4f9bAPI\u63a5\u53e3\u6765\u5171\u4eab\u5b83\u4eec\u5141\u8bb8\u5176\u4ed6\u7a0b\u5e8f\u83b7\u53d6\u7684\u6570\u636e\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u722c\u866b\u5c31\u4e0d\u662f\u5fc5\u9700\u54c1\uff0c\u56fd\u5185\u6bd4\u8f83\u6709\u540d\u7684\u7535\u5546\u5e73\u53f0\uff08\u5982\u6dd8\u5b9d\u3001\u4eac\u4e1c\u7b49\uff09\u3001\u793e\u4ea4\u5e73\u53f0\uff08\u5982\u817e\u8baf\u5fae\u535a\u7b49\uff09\u7b49\u7f51\u7ad9\u90fd\u63d0\u4f9b\u4e86\u81ea\u5df1\u7684Open API\uff0c\u4f46\u662f\u8fd9\u7c7bOpen API\u901a\u5e38\u4f1a\u5bf9\u53ef\u4ee5\u6293\u53d6\u7684\u6570\u636e\u4ee5\u53ca\u6293\u53d6\u6570\u636e\u7684\u9891\u7387\u8fdb\u884c\u9650\u5236\u3002\u5bf9\u4e8e\u5927\u591a\u6570\u7684\u516c\u53f8\u800c\u8a00\uff0c\u53ca\u65f6\u7684\u83b7\u53d6\u884c\u4e1a\u76f8\u5173\u6570\u636e\u662f\u4f01\u4e1a\u751f\u5b58\u7684\u91cd\u8981\u73af\u8282\u4e4b\u4e00\uff0c\u7136\u800c\u5927\u90e8\u5206\u4f01\u4e1a\u5728\u884c\u4e1a\u6570\u636e\u65b9\u9762\u7684\u532e\u4e4f\u662f\u5176\u4e0e\u751f\u4ff1\u6765\u7684\u77ed\u677f\uff0c\u5408\u7406\u7684\u5229\u7528\u722c\u866b\u6765\u83b7\u53d6\u6570\u636e\u5e76\u4ece\u4e2d\u63d0\u53d6\u51fa\u6709\u5546\u4e1a\u4ef7\u503c\u7684\u4fe1\u606f\u662f\u81f3\u5173\u91cd\u8981\u7684\u3002\u5f53\u7136\u722c\u866b\u8fd8\u6709\u5f88\u591a\u91cd\u8981\u7684\u5e94\u7528\u9886\u57df\uff0c\u4e0b\u9762\u5217\u4e3e\u4e86\u5176\u4e2d\u7684\u4e00\u90e8\u5206\uff1a</p> <ol> <li>\u641c\u7d22\u5f15\u64ce</li> <li>\u65b0\u95fb\u805a\u5408</li> <li>\u793e\u4ea4\u5e94\u7528</li> <li>\u8206\u60c5\u76d1\u63a7</li> <li>\u884c\u4e1a\u6570\u636e</li> </ol>"},{"location":"python/Py-100Days/Day66-75/66.%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E5%92%8C%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#_4","title":"\u5408\u6cd5\u6027\u548c\u80cc\u666f\u8c03\u7814","text":""},{"location":"python/Py-100Days/Day66-75/66.%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E5%92%8C%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#_5","title":"\u722c\u866b\u5408\u6cd5\u6027\u63a2\u8ba8","text":"<ol> <li>\u7f51\u7edc\u722c\u866b\u9886\u57df\u76ee\u524d\u8fd8\u5c5e\u4e8e\u62d3\u8352\u9636\u6bb5\uff0c\u867d\u7136\u4e92\u8054\u7f51\u4e16\u754c\u5df2\u7ecf\u901a\u8fc7\u81ea\u5df1\u7684\u6e38\u620f\u89c4\u5219\u5efa\u7acb\u8d77\u4e00\u5b9a\u7684\u9053\u5fb7\u89c4\u8303(Robots\u534f\u8bae\uff0c\u5168\u79f0\u662f\u201c\u7f51\u7edc\u722c\u866b\u6392\u9664\u6807\u51c6\u201d)\uff0c\u4f46\u6cd5\u5f8b\u90e8\u5206\u8fd8\u5728\u5efa\u7acb\u548c\u5b8c\u5584\u4e2d\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u73b0\u5728\u8fd9\u4e2a\u9886\u57df\u6682\u65f6\u8fd8\u662f\u7070\u8272\u5730\u5e26\u3002</li> <li>\u201c\u6cd5\u4e0d\u7981\u6b62\u5373\u4e3a\u8bb8\u53ef\u201d\uff0c\u5982\u679c\u722c\u866b\u5c31\u50cf\u6d4f\u89c8\u5668\u4e00\u6837\u83b7\u53d6\u7684\u662f\u524d\u7aef\u663e\u793a\u7684\u6570\u636e\uff08\u7f51\u9875\u4e0a\u7684\u516c\u5f00\u4fe1\u606f\uff09\u800c\u4e0d\u662f\u7f51\u7ad9\u540e\u53f0\u7684\u79c1\u5bc6\u654f\u611f\u4fe1\u606f\uff0c\u5c31\u4e0d\u592a\u62c5\u5fc3\u6cd5\u5f8b\u6cd5\u89c4\u7684\u7ea6\u675f\uff0c\u56e0\u4e3a\u76ee\u524d\u5927\u6570\u636e\u4ea7\u4e1a\u94fe\u7684\u53d1\u5c55\u901f\u5ea6\u8fdc\u8fdc\u8d85\u8fc7\u4e86\u6cd5\u5f8b\u7684\u5b8c\u5584\u7a0b\u5ea6\u3002</li> <li>\u5728\u722c\u53d6\u7f51\u7ad9\u7684\u65f6\u5019\uff0c\u9700\u8981\u9650\u5236\u81ea\u5df1\u7684\u722c\u866b\u9075\u5b88Robots\u534f\u8bae\uff0c\u540c\u65f6\u63a7\u5236\u7f51\u7edc\u722c\u866b\u7a0b\u5e8f\u7684\u6293\u53d6\u6570\u636e\u7684\u901f\u5ea6\uff1b\u5728\u4f7f\u7528\u6570\u636e\u7684\u65f6\u5019\uff0c\u5fc5\u987b\u8981\u5c0a\u91cd\u7f51\u7ad9\u7684\u77e5\u8bc6\u4ea7\u6743\uff08\u4eceWeb 2.0\u65f6\u4ee3\u5f00\u59cb\uff0c\u867d\u7136Web\u4e0a\u7684\u6570\u636e\u5f88\u591a\u90fd\u662f\u7531\u7528\u6237\u63d0\u4f9b\u7684\uff0c\u4f46\u662f\u7f51\u7ad9\u5e73\u53f0\u662f\u6295\u5165\u4e86\u8fd0\u8425\u6210\u672c\u7684\uff0c\u5f53\u7528\u6237\u5728\u6ce8\u518c\u548c\u53d1\u5e03\u5185\u5bb9\u65f6\uff0c\u5e73\u53f0\u901a\u5e38\u5c31\u5df2\u7ecf\u83b7\u5f97\u4e86\u5bf9\u6570\u636e\u7684\u6240\u6709\u6743\u3001\u4f7f\u7528\u6743\u548c\u5206\u53d1\u6743\uff09\u3002\u5982\u679c\u8fdd\u53cd\u4e86\u8fd9\u4e9b\u89c4\u5b9a\uff0c\u5728\u6253\u5b98\u53f8\u7684\u65f6\u5019\u8d25\u8bc9\u51e0\u7387\u76f8\u5f53\u9ad8\u3002</li> </ol>"},{"location":"python/Py-100Days/Day66-75/66.%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E5%92%8C%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#robotstxt","title":"Robots.txt\u6587\u4ef6","text":"<p>\u5927\u591a\u6570\u7f51\u7ad9\u90fd\u4f1a\u5b9a\u4e49robots.txt\u6587\u4ef6\uff0c\u4e0b\u9762\u4ee5\u6dd8\u5b9d\u7684robots.txt\u6587\u4ef6\u4e3a\u4f8b\uff0c\u770b\u770b\u8be5\u7f51\u7ad9\u5bf9\u722c\u866b\u6709\u54ea\u4e9b\u9650\u5236\u3002</p> <pre><code>User-agent:  Baiduspider\nAllow:  /article\nAllow:  /oshtml\nDisallow:  /product/\nDisallow:  /\n\nUser-Agent:  Googlebot\nAllow:  /article\nAllow:  /oshtml\nAllow:  /product\nAllow:  /spu\nAllow:  /dianpu\nAllow:  /oversea\nAllow:  /list\nDisallow:  /\n\nUser-agent:  Bingbot\nAllow:  /article\nAllow:  /oshtml\nAllow:  /product\nAllow:  /spu\nAllow:  /dianpu\nAllow:  /oversea\nAllow:  /list\nDisallow:  /\n\nUser-Agent:  360Spider\nAllow:  /article\nAllow:  /oshtml\nDisallow:  /\n\nUser-Agent:  Yisouspider\nAllow:  /article\nAllow:  /oshtml\nDisallow:  /\n\nUser-Agent:  Sogouspider\nAllow:  /article\nAllow:  /oshtml\nAllow:  /product\nDisallow:  /\n\nUser-Agent:  Yahoo!  Slurp\nAllow:  /product\nAllow:  /spu\nAllow:  /dianpu\nAllow:  /oversea\nAllow:  /list\nDisallow:  /\n\nUser-Agent:  *\nDisallow:  /\n</code></pre> <p>\u6ce8\u610f\u4e0a\u9762robots.txt\u7b2c\u4e00\u6bb5\u7684\u6700\u540e\u4e00\u884c\uff0c\u901a\u8fc7\u8bbe\u7f6e\u201cDisallow: /\u201d\u7981\u6b62\u767e\u5ea6\u722c\u866b\u8bbf\u95ee\u9664\u4e86\u201cAllow\u201d\u89c4\u5b9a\u9875\u9762\u5916\u7684\u5176\u4ed6\u6240\u6709\u9875\u9762\u3002\u56e0\u6b64\u5f53\u4f60\u5728\u767e\u5ea6\u641c\u7d22\u201c\u6dd8\u5b9d\u201d\u7684\u65f6\u5019\uff0c\u641c\u7d22\u7ed3\u679c\u4e0b\u65b9\u4f1a\u51fa\u73b0\uff1a\u201c\u7531\u4e8e\u8be5\u7f51\u7ad9\u7684robots.txt\u6587\u4ef6\u5b58\u5728\u9650\u5236\u6307\u4ee4\uff08\u9650\u5236\u641c\u7d22\u5f15\u64ce\u6293\u53d6\uff09\uff0c\u7cfb\u7edf\u65e0\u6cd5\u63d0\u4f9b\u8be5\u9875\u9762\u7684\u5185\u5bb9\u63cf\u8ff0\u201d\u3002\u767e\u5ea6\u4f5c\u4e3a\u4e00\u4e2a\u641c\u7d22\u5f15\u64ce\uff0c\u81f3\u5c11\u5728\u8868\u9762\u4e0a\u9075\u5b88\u4e86\u6dd8\u5b9d\u7f51\u7684robots.txt\u534f\u8bae\uff0c\u6240\u4ee5\u7528\u6237\u4e0d\u80fd\u4ece\u767e\u5ea6\u4e0a\u641c\u7d22\u5230\u6dd8\u5b9d\u5185\u90e8\u7684\u4ea7\u54c1\u4fe1\u606f\u3002</p> <p> </p>"},{"location":"python/Py-100Days/Day66-75/66.%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E5%92%8C%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#_6","title":"\u76f8\u5173\u5de5\u5177\u4ecb\u7ecd","text":""},{"location":"python/Py-100Days/Day66-75/66.%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E5%92%8C%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#http","title":"HTTP\u534f\u8bae","text":"<p>\u5728\u5f00\u59cb\u8bb2\u89e3\u722c\u866b\u4e4b\u524d\uff0c\u6211\u4eec\u7a0d\u5fae\u5bf9HTTP\uff08\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae\uff09\u505a\u4e00\u4e9b\u56de\u987e\uff0c\u56e0\u4e3a\u6211\u4eec\u5728\u7f51\u9875\u4e0a\u770b\u5230\u7684\u5185\u5bb9\u901a\u5e38\u662f\u6d4f\u89c8\u5668\u6267\u884cHTML\u8bed\u8a00\u5f97\u5230\u7684\u7ed3\u679c\uff0c\u800cHTTP\u5c31\u662f\u4f20\u8f93HTML\u6570\u636e\u7684\u534f\u8bae\u3002HTTP\u548c\u5176\u4ed6\u5f88\u591a\u5e94\u7528\u7ea7\u534f\u8bae\u4e00\u6837\u662f\u6784\u5efa\u5728TCP\uff08\u4f20\u8f93\u63a7\u5236\u534f\u8bae\uff09\u4e4b\u4e0a\u7684\uff0c\u5b83\u5229\u7528\u4e86TCP\u63d0\u4f9b\u7684\u53ef\u9760\u7684\u4f20\u8f93\u670d\u52a1\u5b9e\u73b0\u4e86Web\u5e94\u7528\u4e2d\u7684\u6570\u636e\u4ea4\u6362\u3002\u6309\u7167\u7ef4\u57fa\u767e\u79d1\u4e0a\u7684\u4ecb\u7ecd\uff0c\u8bbe\u8ba1HTTP\u6700\u521d\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u63d0\u4f9b\u4e00\u79cd\u53d1\u5e03\u548c\u63a5\u6536HTML\u9875\u9762\u7684\u65b9\u6cd5\uff0c\u4e5f\u5c31\u662f\u8bf4\u8fd9\u4e2a\u534f\u8bae\u662f\u6d4f\u89c8\u5668\u548cWeb\u670d\u52a1\u5668\u4e4b\u95f4\u4f20\u8f93\u7684\u6570\u636e\u7684\u8f7d\u4f53\u3002\u5173\u4e8e\u8fd9\u4e2a\u534f\u8bae\u7684\u8be6\u7ec6\u4fe1\u606f\u4ee5\u53ca\u76ee\u524d\u7684\u53d1\u5c55\u72b6\u51b5\uff0c\u5927\u5bb6\u53ef\u4ee5\u9605\u8bfb\u962e\u4e00\u5cf0\u8001\u5e08\u7684\u300aHTTP \u534f\u8bae\u5165\u95e8\u300b\u3001\u300a\u4e92\u8054\u7f51\u534f\u8bae\u5165\u95e8\u300b\u7cfb\u5217\u4ee5\u53ca\u300a\u56fe\u89e3HTTPS\u534f\u8bae\u300b\u8fdb\u884c\u4e86\u89e3\uff0c\u4e0b\u56fe\u662f\u6211\u5728\u56db\u5ddd\u7701\u7f51\u7edc\u901a\u4fe1\u6280\u672f\u91cd\u70b9\u5b9e\u9a8c\u5ba4\u5de5\u4f5c\u671f\u95f4\u7528\u5f00\u6e90\u534f\u8bae\u5206\u6790\u5de5\u5177Ethereal\uff08\u6293\u5305\u5de5\u5177WireShark\u7684\u524d\u8eab\uff09\u622a\u53d6\u7684\u8bbf\u95ee\u767e\u5ea6\u9996\u9875\u65f6\u7684HTTP\u8bf7\u6c42\u548c\u54cd\u5e94\u7684\u62a5\u6587\uff08\u534f\u8bae\u6570\u636e\uff09\uff0c\u7531\u4e8eEthereal\u622a\u53d6\u7684\u662f\u7ecf\u8fc7\u7f51\u7edc\u9002\u914d\u5668\u7684\u6570\u636e\uff0c\u56e0\u6b64\u53ef\u4ee5\u6e05\u6670\u7684\u770b\u5230\u4ece\u7269\u7406\u94fe\u8def\u5c42\u5230\u5e94\u7528\u5c42\u7684\u534f\u8bae\u6570\u636e\u3002</p> <p>HTTP\u8bf7\u6c42\uff08\u8bf7\u6c42\u884c+\u8bf7\u6c42\u5934+\u7a7a\u884c+[\u6d88\u606f\u4f53]\uff09\uff1a</p> <p></p> <p>HTTP\u54cd\u5e94\uff08\u54cd\u5e94\u884c+\u54cd\u5e94\u5934+\u7a7a\u884c+\u6d88\u606f\u4f53\uff09\uff1a</p> <p></p> <p>\u8bf4\u660e\uff1a\u4f46\u613f\u8fd9\u4e24\u5f20\u5982\u540c\u6cdb\u9ec4\u7684\u7167\u7247\u822c\u7684\u622a\u56fe\u5e2e\u52a9\u4f60\u5927\u6982\u7684\u4e86\u89e3\u5230HTTP\u662f\u4e00\u4e2a\u600e\u6837\u7684\u534f\u8bae\u3002 </p>"},{"location":"python/Py-100Days/Day66-75/66.%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E5%92%8C%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#_7","title":"\u76f8\u5173\u5de5\u5177","text":"<ol> <li>Chrome Developer Tools\uff1a\u8c37\u6b4c\u6d4f\u89c8\u5668\u5185\u7f6e\u7684\u5f00\u53d1\u8005\u5de5\u5177\u3002</li> </ol> <ol> <li>POSTMAN\uff1a\u529f\u80fd\u5f3a\u5927\u7684\u7f51\u9875\u8c03\u8bd5\u4e0eRESTful\u8bf7\u6c42\u5de5\u5177\u3002</li> </ol> <ol> <li>HTTPie\uff1a\u547d\u4ee4\u884cHTTP\u5ba2\u6237\u7aef\u3002</li> </ol> <pre><code>$ http --header http://www.scu.edu.cn\nHTTP/1.1 200 OK\nAccept-Ranges: bytes\nCache-Control: private, max-age=600\nConnection: Keep-Alive\nContent-Encoding: gzip\nContent-Language: zh-CN\nContent-Length: 14403\nContent-Type: text/html\nDate: Sun, 27 May 2018 15:38:25 GMT\nETag: \"e6ec-56d3032d70a32-gzip\"\nExpires: Sun, 27 May 2018 15:48:25 GMT\nKeep-Alive: timeout=5, max=100\nLast-Modified: Sun, 27 May 2018 13:44:22 GMT\nServer: VWebServer\nVary: User-Agent,Accept-Encoding\nX-Frame-Options: SAMEORIGIN\n</code></pre> <ol> <li>BuiltWith\uff1a\u8bc6\u522b\u7f51\u7ad9\u6240\u7528\u6280\u672f\u7684\u5de5\u5177\u3002</li> </ol> <pre><code>&gt;&gt;&gt; import builtwith\n&gt;&gt;&gt; builtwith.parse('http://www.bootcss.com/')\n{'web-servers': ['Nginx'], 'font-scripts': ['Font Awesome'], 'javascript-frameworks': ['Lo-dash', 'Underscore.js', 'Vue.js', 'Zepto', 'jQuery'], 'web-frameworks': ['Twitter Bootstrap']}\n&gt;&gt;&gt;\n&gt;&gt;&gt; import ssl\n&gt;&gt;&gt; ssl._create_default_https_context = ssl._create_unverified_context\n&gt;&gt;&gt; builtwith.parse('https://www.jianshu.com/')\n{'web-servers': ['Tengine'], 'web-frameworks': ['Twitter Bootstrap', 'Ruby on Rails'], 'programming-languages': ['Ruby']}\n</code></pre> <ol> <li>python-whois\uff1a\u67e5\u8be2\u7f51\u7ad9\u6240\u6709\u8005\u7684\u5de5\u5177\u3002</li> </ol> <pre><code>&gt;&gt;&gt; import whois\n&gt;&gt;&gt; whois.whois('baidu.com')\n{'domain_name': ['BAIDU.COM', 'baidu.com'], 'registrar': 'MarkMonitor, Inc.', 'whois_server': 'whois.markmonitor.com', 'referral_url': None, 'updated_date': [datetime.datetime(2017, 7, 28, 2, 36, 28), datetime.datetime(2017, 7, 27, 19, 36, 28)], 'creation_date': [datetime.datetime(1999, 10, 11, 11, 5, 17), datetime.datetime(1999, 10, 11, 4, 5, 17)], 'expiration_date': [datetime.datetime(2026, 10, 11, 11, 5, 17), datetime.datetime(2026, 10, 11, 0, 0)], 'name_servers': ['DNS.BAIDU.COM', 'NS2.BAIDU.COM', 'NS3.BAIDU.COM', 'NS4.BAIDU.COM', 'NS7.BAIDU.COM', 'dns.baidu.com', 'ns4.baidu.com', 'ns3.baidu.com', 'ns7.baidu.com', 'ns2.baidu.com'], 'status': ['clientDeleteProhibited https://icann.org/epp#clientDeleteProhibited', 'clientTransferProhibited https://icann.org/epp#clientTransferProhibited', 'clientUpdateProhibited https://icann.org/epp#clientUpdateProhibited', 'serverDeleteProhibited https://icann.org/epp#serverDeleteProhibited', 'serverTransferProhibited https://icann.org/epp#serverTransferProhibited', 'serverUpdateProhibited https://icann.org/epp#serverUpdateProhibited', 'clientUpdateProhibited (https://www.icann.org/epp#clientUpdateProhibited)', 'clientTransferProhibited (https://www.icann.org/epp#clientTransferProhibited)', 'clientDeleteProhibited (https://www.icann.org/epp#clientDeleteProhibited)', 'serverUpdateProhibited (https://www.icann.org/epp#serverUpdateProhibited)', 'serverTransferProhibited (https://www.icann.org/epp#serverTransferProhibited)', 'serverDeleteProhibited (https://www.icann.org/epp#serverDeleteProhibited)'], 'emails': ['abusecomplaints@markmonitor.com', 'whoisrelay@markmonitor.com'], 'dnssec': 'unsigned', 'name': None, 'org': 'Beijing Baidu Netcom Science Technology Co., Ltd.', 'address': None, 'city': None, 'state': 'Beijing', 'zipcode': None, 'country': 'CN'}\n</code></pre> <ol> <li>robotparser\uff1a\u89e3\u6790robots.txt\u7684\u5de5\u5177\u3002</li> </ol> <pre><code>&gt;&gt;&gt; from urllib import robotparser\n&gt;&gt;&gt; parser = robotparser.RobotFileParser()\n&gt;&gt;&gt; parser.set_url('https://www.taobao.com/robots.txt')\n&gt;&gt;&gt; parser.read()\n&gt;&gt;&gt; parser.can_fetch('Hellokitty', 'http://www.taobao.com/article')\nFalse\n&gt;&gt;&gt; parser.can_fetch('Baiduspider', 'http://www.taobao.com/article')\nTrue\n&gt;&gt;&gt; parser.can_fetch('Baiduspider', 'http://www.taobao.com/product')\nFalse\n</code></pre>"},{"location":"python/Py-100Days/Day66-75/66.%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E5%92%8C%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#_8","title":"\u4e00\u4e2a\u7b80\u5355\u7684\u722c\u866b","text":"<p>\u4e00\u4e2a\u57fa\u672c\u7684\u722c\u866b\u901a\u5e38\u5206\u4e3a\u6570\u636e\u91c7\u96c6\uff08\u7f51\u9875\u4e0b\u8f7d\uff09\u3001\u6570\u636e\u5904\u7406\uff08\u7f51\u9875\u89e3\u6790\uff09\u548c\u6570\u636e\u5b58\u50a8\uff08\u5c06\u6709\u7528\u7684\u4fe1\u606f\u6301\u4e45\u5316\uff09\u4e09\u4e2a\u90e8\u5206\u7684\u5185\u5bb9\uff0c\u5f53\u7136\u66f4\u4e3a\u9ad8\u7ea7\u7684\u722c\u866b\u5728\u6570\u636e\u91c7\u96c6\u548c\u5904\u7406\u65f6\u4f1a\u4f7f\u7528\u5e76\u53d1\u7f16\u7a0b\u6216\u5206\u5e03\u5f0f\u6280\u672f\uff0c\u8fd9\u5c31\u9700\u8981\u6709\u8c03\u5ea6\u5668\uff08\u5b89\u6392\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u6267\u884c\u5bf9\u5e94\u7684\u4efb\u52a1\uff09\u3001\u540e\u53f0\u7ba1\u7406\u7a0b\u5e8f\uff08\u76d1\u63a7\u722c\u866b\u7684\u5de5\u4f5c\u72b6\u6001\u4ee5\u53ca\u68c0\u67e5\u6570\u636e\u6293\u53d6\u7684\u7ed3\u679c\uff09\u7b49\u7684\u53c2\u4e0e\u3002</p> <p></p> <p>\u4e00\u822c\u6765\u8bf4\uff0c\u722c\u866b\u7684\u5de5\u4f5c\u6d41\u7a0b\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\uff1a</p> <ol> <li>\u8bbe\u5b9a\u6293\u53d6\u76ee\u6807\uff08\u79cd\u5b50\u9875\u9762/\u8d77\u59cb\u9875\u9762\uff09\u5e76\u83b7\u53d6\u7f51\u9875\u3002</li> <li>\u5f53\u670d\u52a1\u5668\u65e0\u6cd5\u8bbf\u95ee\u65f6\uff0c\u6309\u7167\u6307\u5b9a\u7684\u91cd\u8bd5\u6b21\u6570\u5c1d\u8bd5\u91cd\u65b0\u4e0b\u8f7d\u9875\u9762\u3002</li> <li>\u5728\u9700\u8981\u7684\u65f6\u5019\u8bbe\u7f6e\u7528\u6237\u4ee3\u7406\u6216\u9690\u85cf\u771f\u5b9eIP\uff0c\u5426\u5219\u53ef\u80fd\u65e0\u6cd5\u8bbf\u95ee\u9875\u9762\u3002</li> <li>\u5bf9\u83b7\u53d6\u7684\u9875\u9762\u8fdb\u884c\u5fc5\u8981\u7684\u89e3\u7801\u64cd\u4f5c\u7136\u540e\u6293\u53d6\u51fa\u9700\u8981\u7684\u4fe1\u606f\u3002</li> <li>\u5728\u83b7\u53d6\u7684\u9875\u9762\u4e2d\u901a\u8fc7\u67d0\u79cd\u65b9\u5f0f\uff08\u5982\u6b63\u5219\u8868\u8fbe\u5f0f\uff09\u62bd\u53d6\u51fa\u9875\u9762\u4e2d\u7684\u94fe\u63a5\u4fe1\u606f\u3002</li> <li>\u5bf9\u94fe\u63a5\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u5904\u7406\uff08\u83b7\u53d6\u9875\u9762\u5e76\u91cd\u590d\u4e0a\u9762\u7684\u52a8\u4f5c\uff09\u3002</li> <li>\u5c06\u6709\u7528\u7684\u4fe1\u606f\u8fdb\u884c\u6301\u4e45\u5316\u4ee5\u5907\u540e\u7eed\u7684\u5904\u7406\u3002</li> </ol> <p>\u4e0b\u9762\u7684\u4f8b\u5b50\u7ed9\u51fa\u4e86\u4e00\u4e2a\u4ece\u201c\u641c\u72d0\u4f53\u80b2\u201d\u4e0a\u83b7\u53d6NBA\u65b0\u95fb\u6807\u9898\u548c\u94fe\u63a5\u7684\u722c\u866b\u3002</p> <pre><code>from urllib.error import URLError\nfrom urllib.request import urlopen\n\nimport re\nimport pymysql\nimport ssl\n\nfrom pymysql import Error\n\n\n# \u901a\u8fc7\u6307\u5b9a\u7684\u5b57\u7b26\u96c6\u5bf9\u9875\u9762\u8fdb\u884c\u89e3\u7801(\u4e0d\u662f\u6bcf\u4e2a\u7f51\u7ad9\u90fd\u5c06\u5b57\u7b26\u96c6\u8bbe\u7f6e\u4e3autf-8)\ndef decode_page(page_bytes, charsets=('utf-8',)):\n    page_html = None\n    for charset in charsets:\n        try:\n            page_html = page_bytes.decode(charset)\n            break\n        except UnicodeDecodeError:\n            pass\n            # logging.error('Decode:', error)\n    return page_html\n\n\n# \u83b7\u53d6\u9875\u9762\u7684HTML\u4ee3\u7801(\u901a\u8fc7\u9012\u5f52\u5b9e\u73b0\u6307\u5b9a\u6b21\u6570\u7684\u91cd\u8bd5\u64cd\u4f5c)\ndef get_page_html(seed_url, *, retry_times=3, charsets=('utf-8',)):\n    page_html = None\n    try:\n        page_html = decode_page(urlopen(seed_url).read(), charsets)\n    except URLError:\n        # logging.error('URL:', error)\n        if retry_times &gt; 0:\n            return get_page_html(seed_url, retry_times=retry_times - 1,\n                                 charsets=charsets)\n    return page_html\n\n\n# \u4ece\u9875\u9762\u4e2d\u63d0\u53d6\u9700\u8981\u7684\u90e8\u5206(\u901a\u5e38\u662f\u94fe\u63a5\u4e5f\u53ef\u4ee5\u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u8fdb\u884c\u6307\u5b9a)\ndef get_matched_parts(page_html, pattern_str, pattern_ignore_case=re.I):\n    pattern_regex = re.compile(pattern_str, pattern_ignore_case)\n    return pattern_regex.findall(page_html) if page_html else []\n\n\n# \u5f00\u59cb\u6267\u884c\u722c\u866b\u7a0b\u5e8f\u5e76\u5bf9\u6307\u5b9a\u7684\u6570\u636e\u8fdb\u884c\u6301\u4e45\u5316\u64cd\u4f5c\ndef start_crawl(seed_url, match_pattern, *, max_depth=-1):\n    conn = pymysql.connect(host='localhost', port=3306,\n                           database='crawler', user='root',\n                           password='123456', charset='utf8')\n    try:\n        with conn.cursor() as cursor:\n            url_list = [seed_url]\n            # \u901a\u8fc7\u4e0b\u9762\u7684\u5b57\u5178\u907f\u514d\u91cd\u590d\u6293\u53d6\u5e76\u63a7\u5236\u6293\u53d6\u6df1\u5ea6\n            visited_url_list = {seed_url: 0}\n            while url_list:\n                current_url = url_list.pop(0)\n                depth = visited_url_list[current_url]\n                if depth != max_depth:\n                    # \u5c1d\u8bd5\u7528utf-8/gbk/gb2312\u4e09\u79cd\u5b57\u7b26\u96c6\u8fdb\u884c\u9875\u9762\u89e3\u7801\n                    page_html = get_page_html(current_url, charsets=('utf-8', 'gbk', 'gb2312'))\n                    links_list = get_matched_parts(page_html, match_pattern)\n                    param_list = []\n                    for link in links_list:\n                        if link not in visited_url_list:\n                            visited_url_list[link] = depth + 1\n                            page_html = get_page_html(link, charsets=('utf-8', 'gbk', 'gb2312'))\n                            headings = get_matched_parts(page_html, r'&lt;h1&gt;(.*)&lt;span')\n                            if headings:\n                                param_list.append((headings[0], link))\n                    cursor.executemany('insert into tb_result values (default, %s, %s)',\n                                       param_list)\n                    conn.commit()\n    except Error:\n        pass\n        # logging.error('SQL:', error)\n    finally:\n        conn.close()\n\n\ndef main():\n    ssl._create_default_https_context = ssl._create_unverified_context\n    start_crawl('http://sports.sohu.com/nba_a.shtml',\n                r'&lt;a[^&gt;]+test=a\\s[^&gt;]*href=[\"\\'](.*?)[\"\\']',\n                max_depth=2)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u7531\u4e8e\u4f7f\u7528\u4e86MySQL\u5b9e\u73b0\u6301\u4e45\u5316\u64cd\u4f5c\uff0c\u6240\u4ee5\u8981\u5148\u542f\u52a8MySQL\u670d\u52a1\u5668\u518d\u8fd0\u884c\u8be5\u7a0b\u5e8f\u3002</p>"},{"location":"python/Py-100Days/Day66-75/66.%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E5%92%8C%E7%9B%B8%E5%85%B3%E5%B7%A5%E5%85%B7/#_9","title":"\u722c\u866b\u6ce8\u610f\u4e8b\u9879","text":"<p>\u901a\u8fc7\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u6211\u4eec\u5bf9\u722c\u866b\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u611f\u6027\u7684\u8ba4\u8bc6\uff0c\u5728\u7f16\u5199\u722c\u866b\u65f6\u6709\u4ee5\u4e0b\u4e00\u4e9b\u6ce8\u610f\u4e8b\u9879\uff1a</p> <ol> <li> <p>\u5904\u7406\u76f8\u5bf9\u94fe\u63a5\u3002\u6709\u7684\u65f6\u5019\u6211\u4eec\u4ece\u9875\u9762\u4e2d\u83b7\u53d6\u7684\u94fe\u63a5\u4e0d\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u7edd\u5bf9\u94fe\u63a5\u800c\u662f\u4e00\u4e2a\u76f8\u5bf9\u94fe\u63a5\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u9700\u8981\u5c06\u5176\u4e0eURL\u524d\u7f00\u8fdb\u884c\u62fc\u63a5\uff08<code>urllib.parse</code>\u4e2d\u7684<code>urljoin()</code>\u51fd\u6570\u53ef\u4ee5\u5b8c\u6210\u6b64\u9879\u64cd\u4f5c\uff09\u3002</p> </li> <li> <p>\u8bbe\u7f6e\u4ee3\u7406\u670d\u52a1\u3002\u6709\u4e9b\u7f51\u7ad9\u4f1a\u9650\u5236\u8bbf\u95ee\u7684\u533a\u57df\uff08\u4f8b\u5982\u7f8e\u56fd\u7684Netflix\u5c4f\u853d\u4e86\u5f88\u591a\u56fd\u5bb6\u7684\u8bbf\u95ee\uff09\uff0c\u6709\u4e9b\u722c\u866b\u9700\u8981\u9690\u85cf\u81ea\u5df1\u7684\u8eab\u4efd\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u53ef\u4ee5\u8bbe\u7f6e\u4f7f\u7528\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u4ee3\u7406\u670d\u52a1\u5668\u6709\u514d\u8d39\uff08\u5982\u897f\u523a\u4ee3\u7406\u3001\u5feb\u4ee3\u7406\uff09\u548c\u4ed8\u8d39\u4e24\u79cd\uff08\u5982\u8baf\u4ee3\u7406\u3001\u963f\u5e03\u4e91\u4ee3\u7406)\uff0c\u4ed8\u8d39\u7684\u4e00\u822c\u7a33\u5b9a\u6027\u548c\u53ef\u7528\u6027\u90fd\u66f4\u597d\uff0c\u53ef\u4ee5\u901a\u8fc7<code>urllib.request</code>\u4e2d\u7684<code>ProxyHandler</code>\u6765\u4e3a\u8bf7\u6c42\u8bbe\u7f6e\u4ee3\u7406\u3002</p> </li> <li> <p>\u9650\u5236\u4e0b\u8f7d\u901f\u5ea6\u3002\u5982\u679c\u6211\u4eec\u7684\u722c\u866b\u83b7\u53d6\u7f51\u9875\u7684\u901f\u5ea6\u8fc7\u5feb\uff0c\u53ef\u80fd\u5c31\u4f1a\u9762\u4e34\u88ab\u5c01\u7981\u6216\u8005\u4ea7\u751f\u201c\u635f\u5bb3\u52a8\u4ea7\u201d\u7684\u98ce\u9669\uff08\u8fd9\u4e2a\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5403\u5b98\u53f8\u4e14\u8d25\u8bc9\uff09\uff0c\u53ef\u4ee5\u5728\u4e24\u6b21\u4e0b\u8f7d\u4e4b\u95f4\u6dfb\u52a0\u5ef6\u65f6\u4ece\u800c\u5bf9\u722c\u866b\u8fdb\u884c\u9650\u901f\u3002</p> </li> <li> <p>\u907f\u514d\u722c\u866b\u9677\u9631\u3002\u6709\u4e9b\u7f51\u7ad9\u4f1a\u52a8\u6001\u751f\u6210\u9875\u9762\u5185\u5bb9\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u4ea7\u751f\u65e0\u9650\u591a\u7684\u9875\u9762\uff08\u4f8b\u5982\u5728\u7ebf\u4e07\u5e74\u5386\u901a\u5e38\u4f1a\u6709\u65e0\u7a77\u65e0\u5c3d\u7684\u94fe\u63a5\uff09\u3002\u53ef\u4ee5\u901a\u8fc7\u8bb0\u5f55\u5230\u8fbe\u5f53\u524d\u9875\u9762\u7ecf\u8fc7\u4e86\u591a\u5c11\u4e2a\u94fe\u63a5\uff08\u94fe\u63a5\u6df1\u5ea6\uff09\u6765\u89e3\u51b3\u8be5\u95ee\u9898\uff0c\u5f53\u8fbe\u5230\u4e8b\u5148\u8bbe\u5b9a\u7684\u6700\u5927\u6df1\u5ea6\u65f6\u722c\u866b\u5c31\u4e0d\u518d\u50cf\u961f\u5217\u4e2d\u6dfb\u52a0\u8be5\u7f51\u9875\u4e2d\u7684\u94fe\u63a5\u4e86\u3002</p> </li> <li> <p>SSL\u76f8\u5173\u95ee\u9898\u3002\u5728\u4f7f\u7528<code>urlopen</code>\u6253\u5f00\u4e00\u4e2aHTTPS\u94fe\u63a5\u65f6\u4f1a\u9a8c\u8bc1\u4e00\u6b21SSL\u8bc1\u4e66\uff0c\u5982\u679c\u4e0d\u505a\u51fa\u5904\u7406\u4f1a\u4ea7\u751f\u9519\u8bef\u63d0\u793a\u201cSSL: CERTIFICATE_VERIFY_FAILED\u201d\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f\u52a0\u4ee5\u89e3\u51b3\uff1a</p> </li> <li> <p>\u4f7f\u7528\u672a\u7ecf\u9a8c\u8bc1\u7684\u4e0a\u4e0b\u6587</p> <pre><code>import ssl\n\nrequest = urllib.request.Request(url='...', headers={...}) \ncontext = ssl._create_unverified_context()\nweb_page = urllib.request.urlopen(request, context=context)\n</code></pre> </li> <li> <p>\u8bbe\u7f6e\u5168\u5c40\u7684\u53d6\u6d88\u8bc1\u4e66\u9a8c\u8bc1</p> <pre><code>import ssl\n\nssl._create_default_https_context = ssl._create_unverified_context\n</code></pre> </li> </ol>"},{"location":"python/Py-100Days/Day66-75/67.%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E5%92%8C%E8%A7%A3%E6%9E%90/","title":"67.\u6570\u636e\u91c7\u96c6\u548c\u89e3\u6790","text":""},{"location":"python/Py-100Days/Day66-75/67.%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E5%92%8C%E8%A7%A3%E6%9E%90/#_1","title":"\u6570\u636e\u91c7\u96c6\u548c\u89e3\u6790","text":"<p>\u901a\u8fc7\u300a\u7f51\u7edc\u722c\u866b\u548c\u76f8\u5173\u5de5\u5177\u300b\u4e00\u6587\uff0c\u6211\u4eec\u5df2\u7ecf\u4e86\u89e3\u5230\u4e86\u5f00\u53d1\u4e00\u4e2a\u722c\u866b\u9700\u8981\u505a\u7684\u5de5\u4f5c\u4ee5\u53ca\u4e00\u4e9b\u5e38\u89c1\u7684\u95ee\u9898\uff0c\u81f3\u6b64\u6211\u4eec\u53ef\u4ee5\u5bf9\u722c\u866b\u5f00\u53d1\u9700\u8981\u505a\u7684\u5de5\u4f5c\u4ee5\u53ca\u76f8\u5173\u7684\u6280\u672f\u505a\u4e00\u4e2a\u7b80\u5355\u7684\u6c47\u603b\uff0c\u8fd9\u5176\u4e2d\u53ef\u80fd\u4f1a\u6709\u4e00\u4e9b\u6211\u4eec\u4e4b\u524d\u6ca1\u6709\u4f7f\u7528\u8fc7\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u4e0d\u8fc7\u522b\u62c5\u5fc3\uff0c\u8fd9\u4e9b\u5185\u5bb9\u6211\u4eec\u7a0d\u540e\u90fd\u4f1a\u4e00\u4e00\u8bb2\u5230\u3002</p> <ol> <li>\u4e0b\u8f7d\u6570\u636e - urllib / requests / aiohttp\u3002</li> <li>\u89e3\u6790\u6570\u636e - re / lxml / beautifulsoup4\uff08bs4\uff09/ pyquery\u3002</li> <li>\u7f13\u5b58\u548c\u6301\u4e45\u5316 - pymysql / sqlalchemy / peewee/ redis / pymongo\u3002</li> <li>\u751f\u6210\u6570\u5b57\u7b7e\u540d - hashlib\u3002</li> <li>\u5e8f\u5217\u5316\u548c\u538b\u7f29 - pickle / json / zlib\u3002</li> <li>\u8c03\u5ea6\u5668 - \u8fdb\u7a0b\uff08multiprocessing\uff09 / \u7ebf\u7a0b\uff08threading\uff09 / \u534f\u7a0b\uff08coroutine\uff09\u3002</li> </ol>"},{"location":"python/Py-100Days/Day66-75/67.%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E5%92%8C%E8%A7%A3%E6%9E%90/#html","title":"HTML\u9875\u9762\u5206\u6790","text":"<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;title&gt;\u9996\u9875&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Hello, world!&lt;/h1&gt;\n        &lt;p&gt;\u8fd9\u662f\u4e00\u4e2a\u795e\u5947\u7684\u7f51\u7ad9\uff01&lt;/p&gt;\n        &lt;hr&gt;\n        &lt;div&gt;\n            &lt;h2&gt;\u8fd9\u662f\u4e00\u4e2a\u4f8b\u5b50\u7a0b\u5e8f&lt;/h2&gt;\n            &lt;p&gt;\u9759\u591c\u601d&lt;/p&gt;\n            &lt;p class=\"foo\"&gt;\u5e8a\u524d\u660e\u6708\u5149&lt;/p&gt;\n            &lt;p id=\"bar\"&gt;\u7591\u4f3c\u5730\u4e0a\u971c&lt;/p&gt;\n            &lt;p class=\"foo\"&gt;\u4e3e\u5934\u671b\u660e\u6708&lt;/p&gt;\n            &lt;div&gt;&lt;a href=\"http://www.baidu.com\"&gt;&lt;p&gt;\u4f4e\u5934\u601d\u6545\u4e61&lt;/p&gt;&lt;/a&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;a class=\"foo\" href=\"http://www.qq.com\"&gt;\u817e\u8baf\u7f51&lt;/a&gt;\n        &lt;img src=\"./img/pretty-girl.png\" alt=\"\u7f8e\u5973\"&gt;\n        &lt;img src=\"./img/hellokitty.png\" alt=\"\u51ef\u8482\u732b\"&gt;\n        &lt;img src=\"/static/img/pretty-girl.png\" alt=\"\u7f8e\u5973\"&gt;\n        &lt;table&gt;\n            &lt;tr&gt;\n                &lt;th&gt;\u59d3\u540d&lt;/th&gt;\n                &lt;th&gt;\u4e0a\u573a\u65f6\u95f4&lt;/th&gt;\n                &lt;th&gt;\u5f97\u5206&lt;/th&gt;\n                &lt;th&gt;\u7bee\u677f&lt;/th&gt;\n                &lt;th&gt;\u52a9\u653b&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u5982\u679c\u4f60\u5bf9\u4e0a\u9762\u7684\u4ee3\u7801\u5e76\u4e0d\u611f\u5230\u964c\u751f\uff0c\u90a3\u4e48\u4f60\u4e00\u5b9a\u77e5\u9053HTML\u9875\u9762\u901a\u5e38\u7531\u4e09\u90e8\u5206\u6784\u6210\uff0c\u5206\u522b\u662f\u7528\u6765\u627f\u8f7d\u5185\u5bb9\u7684Tag\uff08\u6807\u7b7e\uff09\u3001\u8d1f\u8d23\u6e32\u67d3\u9875\u9762\u7684CSS\uff08\u5c42\u53e0\u6837\u5f0f\u8868\uff09\u4ee5\u53ca\u63a7\u5236\u4ea4\u4e92\u5f0f\u884c\u4e3a\u7684JavaScript\u3002\u901a\u5e38\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u7684\u53f3\u952e\u83dc\u5355\u4e2d\u901a\u8fc7\u201c\u67e5\u770b\u7f51\u9875\u6e90\u4ee3\u7801\u201d\u7684\u65b9\u5f0f\u83b7\u53d6\u7f51\u9875\u7684\u4ee3\u7801\u5e76\u4e86\u89e3\u9875\u9762\u7684\u7ed3\u6784\uff1b\u5f53\u7136\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7\u6d4f\u89c8\u5668\u63d0\u4f9b\u7684\u5f00\u53d1\u4eba\u5458\u5de5\u5177\u6765\u4e86\u89e3\u7f51\u9875\u66f4\u591a\u7684\u4fe1\u606f\u3002</p>"},{"location":"python/Py-100Days/Day66-75/67.%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E5%92%8C%E8%A7%A3%E6%9E%90/#requests","title":"\u4f7f\u7528requests\u83b7\u53d6\u9875\u9762","text":"<ol> <li>GET\u8bf7\u6c42\u548cPOST\u8bf7\u6c42\u3002</li> </ol> <ol> <li>URL\u53c2\u6570\u548c\u8bf7\u6c42\u5934\u3002</li> </ol> <ol> <li>\u590d\u6742\u7684POST\u8bf7\u6c42\uff08\u6587\u4ef6\u4e0a\u4f20\uff09\u3002</li> </ol> <ol> <li>\u64cd\u4f5cCookie\u3002</li> </ol> <ol> <li>\u8bbe\u7f6e\u4ee3\u7406\u670d\u52a1\u5668\u3002</li> </ol> <p>\u8bf4\u660e\uff1a\u5173\u4e8erequests\u7684\u8be6\u7ec6\u7528\u6cd5\u53ef\u4ee5\u53c2\u8003\u5b83\u7684\u5b98\u65b9\u6587\u6863\u3002</p>"},{"location":"python/Py-100Days/Day66-75/67.%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E5%92%8C%E8%A7%A3%E6%9E%90/#_2","title":"\u56db\u79cd\u91c7\u96c6\u65b9\u5f0f","text":""},{"location":"python/Py-100Days/Day66-75/67.%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E5%92%8C%E8%A7%A3%E6%9E%90/#_3","title":"\u56db\u79cd\u91c7\u96c6\u65b9\u5f0f\u7684\u6bd4\u8f83","text":"\u6293\u53d6\u65b9\u6cd5 \u901f\u5ea6 \u4f7f\u7528\u96be\u5ea6 \u5907\u6ce8 \u6b63\u5219\u8868\u8fbe\u5f0f \u5feb \u56f0\u96be \u5e38\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u5728\u7ebf\u6b63\u5219\u8868\u8fbe\u5f0f\u6d4b\u8bd5 lxml \u5feb \u4e00\u822c \u9700\u8981\u5b89\u88c5C\u8bed\u8a00\u4f9d\u8d56\u5e93\u552f\u4e00\u652f\u6301XML\u7684\u89e3\u6790\u5668 Beautiful \u8f83\u5feb/\u8f83\u6162\uff08\u53d6\u51b3\u4e8e\u89e3\u6790\u5668\uff09 \u7b80\u5355 PyQuery \u8f83\u5feb \u7b80\u5355 Python\u7248\u7684jQuery <p>\u8bf4\u660e\uff1aBeautiful\u7684\u89e3\u6790\u5668\u5305\u62ec\uff1aPython\u6807\u51c6\u5e93\uff08html.parser\uff09\u3001lxml\u7684HTML\u89e3\u6790\u5668\u3001lxml\u7684XML\u89e3\u6790\u5668\u548chtml5lib\u3002</p>"},{"location":"python/Py-100Days/Day66-75/67.%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E5%92%8C%E8%A7%A3%E6%9E%90/#_4","title":"\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f","text":"<p>\u5982\u679c\u4f60\u5bf9\u6b63\u5219\u8868\u8fbe\u5f0f\u6ca1\u6709\u4efb\u4f55\u7684\u6982\u5ff5\uff0c\u90a3\u4e48\u63a8\u8350\u5148\u9605\u8bfb\u300a\u6b63\u5219\u8868\u8fbe\u5f0f30\u5206\u949f\u5165\u95e8\u6559\u7a0b\u300b\uff0c\u7136\u540e\u518d\u9605\u8bfb\u6211\u4eec\u4e4b\u524d\u8bb2\u89e3\u5728Python\u4e2d\u5982\u4f55\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u4e00\u6587\u3002</p>"},{"location":"python/Py-100Days/Day66-75/67.%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E5%92%8C%E8%A7%A3%E6%9E%90/#xpathlxml","title":"\u4f7f\u7528XPath\u548cLxml","text":""},{"location":"python/Py-100Days/Day66-75/67.%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E5%92%8C%E8%A7%A3%E6%9E%90/#beautifulsoup","title":"BeautifulSoup\u7684\u4f7f\u7528","text":"<p>BeautifulSoup\u662f\u4e00\u4e2a\u53ef\u4ee5\u4eceHTML\u6216XML\u6587\u4ef6\u4e2d\u63d0\u53d6\u6570\u636e\u7684Python\u5e93\u3002\u5b83\u80fd\u591f\u901a\u8fc7\u4f60\u559c\u6b22\u7684\u8f6c\u6362\u5668\u5b9e\u73b0\u60ef\u7528\u7684\u6587\u6863\u5bfc\u822a\u3001\u67e5\u627e\u3001\u4fee\u6539\u6587\u6863\u7684\u65b9\u5f0f\u3002</p> <ol> <li>\u904d\u5386\u6587\u6863\u6811</li> <li>\u83b7\u53d6\u6807\u7b7e</li> <li>\u83b7\u53d6\u6807\u7b7e\u5c5e\u6027</li> <li>\u83b7\u53d6\u6807\u7b7e\u5185\u5bb9</li> <li>\u83b7\u53d6\u5b50\uff08\u5b59\uff09\u8282\u70b9</li> <li>\u83b7\u53d6\u7236\u8282\u70b9/\u7956\u5148\u8282\u70b9</li> <li>\u83b7\u53d6\u5144\u5f1f\u8282\u70b9</li> <li>\u641c\u7d22\u6811\u8282\u70b9</li> <li>find / find_all\uff1a\u5b57\u7b26\u4e32\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u3001\u5217\u8868\u3001True\u3001\u51fd\u6570\u6216Lambda\u3002</li> <li>select_one / select\uff1aCSS\u9009\u62e9\u5668</li> </ol> <p>\u8bf4\u660e\uff1a\u66f4\u591a\u5185\u5bb9\u53ef\u4ee5\u53c2\u8003BeautifulSoup\u7684\u5b98\u65b9\u6587\u6863\u3002</p>"},{"location":"python/Py-100Days/Day66-75/67.%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E5%92%8C%E8%A7%A3%E6%9E%90/#pyquery","title":"PyQuery\u7684\u4f7f\u7528","text":"<p>pyquery\u76f8\u5f53\u4e8ejQuery\u7684Python\u5b9e\u73b0\uff0c\u53ef\u4ee5\u7528\u4e8e\u89e3\u6790HTML\u7f51\u9875\u3002</p>"},{"location":"python/Py-100Days/Day66-75/67.%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E5%92%8C%E8%A7%A3%E6%9E%90/#-","title":"\u5b9e\u4f8b - \u83b7\u53d6\u77e5\u4e4e\u53d1\u73b0\u4e0a\u7684\u95ee\u9898\u94fe\u63a5","text":"<pre><code>from urllib.parse import urljoin\n\nimport re\nimport requests\n\nfrom bs4 import BeautifulSoup\n\n\ndef main():\n    headers = {'user-agent': 'Baiduspider'}\n    proxies = {\n        'http': 'http://122.114.31.177:808'\n    }\n    base_url = 'https://www.zhihu.com/'\n    seed_url = urljoin(base_url, 'explore')\n    resp = requests.get(seed_url,\n                        headers=headers,\n                        proxies=proxies)\n    soup = BeautifulSoup(resp.text, 'lxml')\n    href_regex = re.compile(r'^/question')\n    link_set = set()\n    for a_tag in soup.find_all('a', {'href': href_regex}):\n        if 'href' in a_tag.attrs:\n            href = a_tag.attrs['href']\n            full_url = urljoin(base_url, href)\n            link_set.add(full_url)\n    print('Total %d question pages found.' % len(link_set))\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day66-75/68.%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE/","title":"68.\u5b58\u50a8\u6570\u636e","text":""},{"location":"python/Py-100Days/Day66-75/68.%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE/#_1","title":"\u5b58\u50a8\u6570\u636e","text":""},{"location":"python/Py-100Days/Day66-75/68.%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE/#_2","title":"\u5b58\u50a8\u6d77\u91cf\u6570\u636e","text":"<p>\u6570\u636e\u6301\u4e45\u5316\u7684\u9996\u9009\u65b9\u6848\u5e94\u8be5\u662f\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff0c\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u4ea7\u54c1\u5f88\u591a\uff0c\u5305\u62ec\uff1aOracle\u3001MySQL\u3001SQLServer\u3001PostgreSQL\u7b49\u3002\u5982\u679c\u8981\u5b58\u50a8\u6d77\u91cf\u7684\u4f4e\u4ef7\u503c\u6570\u636e\uff0c\u6587\u6863\u6570\u636e\u5e93\u4e5f\u662f\u4e0d\u9519\u7684\u9009\u62e9\uff0cMongoDB\u662f\u6587\u6863\u6570\u636e\u5e93\u4e2d\u7684\u4f7c\u4f7c\u8005\uff0c\u4e4b\u524d\u6211\u4eec\u5df2\u7ecf\u8bb2\u89e3\u8fc7MongDB\u7684\u76f8\u5173\u77e5\u8bc6\uff0c\u5728\u6b64\u4e0d\u518d\u8fdb\u884c\u8d58\u8ff0\u3002</p>"},{"location":"python/Py-100Days/Day66-75/68.%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE/#_3","title":"\u6570\u636e\u7f13\u5b58","text":"<p>\u901a\u8fc7\u300a\u7f51\u7edc\u6570\u636e\u91c7\u96c6\u548c\u89e3\u6790\u300b\u4e00\u6587\uff0c\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u4e86\u5982\u4f55\u4ece\u6307\u5b9a\u7684\u9875\u9762\u4e2d\u6293\u53d6\u6570\u636e\uff0c\u4ee5\u53ca\u5982\u4f55\u4fdd\u5b58\u6293\u53d6\u7684\u7ed3\u679c\uff0c\u4f46\u662f\u6211\u4eec\u6ca1\u6709\u8003\u8651\u8fc7\u8fd9\u4e48\u4e00\u79cd\u60c5\u51b5\uff0c\u5c31\u662f\u6211\u4eec\u53ef\u80fd\u9700\u8981\u4ece\u5df2\u7ecf\u6293\u53d6\u8fc7\u7684\u9875\u9762\u4e2d\u63d0\u53d6\u51fa\u66f4\u591a\u7684\u6570\u636e\uff0c\u91cd\u65b0\u53bb\u4e0b\u8f7d\u8fd9\u4e9b\u9875\u9762\u5bf9\u4e8e\u89c4\u6a21\u4e0d\u5927\u7684\u7f51\u7ad9\u5012\u662f\u95ee\u9898\u4e5f\u4e0d\u5927\uff0c\u4f46\u662f\u5982\u679c\u80fd\u591f\u628a\u8fd9\u4e9b\u9875\u9762\u7f13\u5b58\u8d77\u6765\uff0c\u5bf9\u5e94\u7528\u7684\u6027\u80fd\u4f1a\u6709\u660e\u663e\u7684\u6539\u5584\u3002\u53ef\u4ee5\u4f7f\u7528Redis\u6765\u63d0\u4f9b\u9ad8\u901f\u7f13\u5b58\u670d\u52a1\uff0c\u5173\u4e8eRedis\u7684\u77e5\u8bc6\uff0c\u6211\u4eec\u5728\u300aNoSQL\u5165\u95e8\u300b\u4e00\u6587\u4e2d\u5df2\u7ecf\u505a\u8fc7\u7b80\u8981\u7684\u4ecb\u7ecd\u3002</p>"},{"location":"python/Py-100Days/Day66-75/68.%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE/#-","title":"\u5b9e\u4f8b - \u7f13\u5b58\u77e5\u4e4e\u53d1\u73b0\u4e0a\u7684\u94fe\u63a5\u548c\u9875\u9762\u4ee3\u7801","text":"<pre><code>from hashlib import sha1\nfrom urllib.parse import urljoin\n\nimport pickle\nimport re\nimport requests\nimport zlib\n\nfrom bs4 import BeautifulSoup\nfrom redis import Redis\n\n\ndef main():\n    # \u6307\u5b9a\u79cd\u5b50\u9875\u9762\n    base_url = 'https://www.zhihu.com/'\n    seed_url = urljoin(base_url, 'explore')\n    # \u521b\u5efaRedis\u5ba2\u6237\u7aef\n    client = Redis(host='1.2.3.4', port=6379, password='1qaz2wsx')\n    # \u8bbe\u7f6e\u7528\u6237\u4ee3\u7406(\u5426\u5219\u8bbf\u95ee\u4f1a\u88ab\u62d2\u7edd)\n    headers = {'user-agent': 'Baiduspider'}\n    # \u901a\u8fc7requests\u6a21\u5757\u53d1\u9001GET\u8bf7\u6c42\u5e76\u6307\u5b9a\u7528\u6237\u4ee3\u7406\n    resp = requests.get(seed_url, headers=headers)\n    # \u521b\u5efaBeautifulSoup\u5bf9\u8c61\u5e76\u6307\u5b9a\u4f7f\u7528lxml\u4f5c\u4e3a\u89e3\u6790\u5668\n    soup = BeautifulSoup(resp.text, 'lxml')\n    href_regex = re.compile(r'^/question')\n    # \u5c06URL\u5904\u7406\u6210SHA1\u6458\u8981(\u957f\u5ea6\u56fa\u5b9a\u66f4\u7b80\u77ed)\n    hasher_proto = sha1()\n    # \u67e5\u627e\u6240\u6709href\u5c5e\u6027\u4ee5/question\u6253\u5934\u7684a\u6807\u7b7e\n    for a_tag in soup.find_all('a', {'href': href_regex}):\n        # \u83b7\u53d6a\u6807\u7b7e\u7684href\u5c5e\u6027\u503c\u5e76\u7ec4\u88c5\u5b8c\u6574\u7684URL\n        href = a_tag.attrs['href']\n        full_url = urljoin(base_url, href)\n        # \u4f20\u5165URL\u751f\u6210SHA1\u6458\u8981\n        hasher = hasher_proto.copy()\n        hasher.update(full_url.encode('utf-8'))\n        field_key = hasher.hexdigest()\n        # \u5982\u679cRedis\u7684\u952e'zhihu'\u5bf9\u5e94\u7684hash\u6570\u636e\u7c7b\u578b\u4e2d\u6ca1\u6709URL\u7684\u6458\u8981\u5c31\u8bbf\u95ee\u9875\u9762\u5e76\u7f13\u5b58\n        if not client.hexists('zhihu', field_key):\n            html_page = requests.get(full_url, headers=headers).text\n            # \u5bf9\u9875\u9762\u8fdb\u884c\u5e8f\u5217\u5316\u548c\u538b\u7f29\u64cd\u4f5c\n            zipped_page = zlib.compress(pickle.dumps(html_page))\n            # \u4f7f\u7528hash\u6570\u636e\u7c7b\u578b\u4fdd\u5b58URL\u6458\u8981\u53ca\u5176\u5bf9\u5e94\u7684\u9875\u9762\u4ee3\u7801\n            client.hset('zhihu', field_key, zipped_page)\n    # \u663e\u793a\u603b\u5171\u7f13\u5b58\u4e86\u591a\u5c11\u4e2a\u9875\u9762\n    print('Total %d question pages found.' % client.hlen('zhihu'))\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day66-75/69.%E5%B9%B6%E5%8F%91%E4%B8%8B%E8%BD%BD/","title":"69.\u5e76\u53d1\u4e0b\u8f7d","text":""},{"location":"python/Py-100Days/Day66-75/69.%E5%B9%B6%E5%8F%91%E4%B8%8B%E8%BD%BD/#_1","title":"\u5e76\u53d1\u4e0b\u8f7d","text":""},{"location":"python/Py-100Days/Day66-75/69.%E5%B9%B6%E5%8F%91%E4%B8%8B%E8%BD%BD/#_2","title":"\u591a\u7ebf\u7a0b\u548c\u591a\u8fdb\u7a0b\u56de\u987e","text":"<p>\u5728\u524d\u9762\u7684\u300a\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u300b\u4e00\u6587\u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u5bf9\u5728Python\u4e2d\u4f7f\u7528\u591a\u8fdb\u7a0b\u548c\u591a\u7ebf\u7a0b\u5b9e\u73b0\u5e76\u53d1\u7f16\u7a0b\u8fdb\u884c\u4e86\u7b80\u660e\u7684\u8bb2\u89e3\uff0c\u5728\u6b64\u6211\u4eec\u8865\u5145\u51e0\u4e2a\u77e5\u8bc6\u70b9\u3002</p>"},{"location":"python/Py-100Days/Day66-75/69.%E5%B9%B6%E5%8F%91%E4%B8%8B%E8%BD%BD/#threadinglocal","title":"threading.local\u7c7b","text":"<p>\u4f7f\u7528\u7ebf\u7a0b\u65f6\u6700\u4e0d\u613f\u610f\u9047\u5230\u7684\u60c5\u51b5\u5c31\u662f\u591a\u4e2a\u7ebf\u7a0b\u7ade\u4e89\u8d44\u6e90\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e3a\u4e86\u4fdd\u8bc1\u8d44\u6e90\u72b6\u6001\u7684\u6b63\u786e\u6027\uff0c\u6211\u4eec\u53ef\u80fd\u9700\u8981\u5bf9\u8d44\u6e90\u8fdb\u884c\u52a0\u9501\u4fdd\u62a4\u7684\u5904\u7406\uff0c\u8fd9\u4e00\u65b9\u9762\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u5931\u53bb\u5e76\u53d1\u6027\uff0c\u53e6\u5916\u5982\u679c\u591a\u4e2a\u7ebf\u7a0b\u7ade\u4e89\u591a\u4e2a\u8d44\u6e90\u65f6\uff0c\u8fd8\u6709\u53ef\u80fd\u56e0\u4e3a\u52a0\u9501\u65b9\u5f0f\u7684\u4e0d\u5f53\u5bfc\u81f4\u6b7b\u9501\u3002\u8981\u89e3\u51b3\u591a\u4e2a\u7ebf\u7a0b\u7ade\u4e89\u8d44\u6e90\u7684\u95ee\u9898\uff0c\u5176\u4e2d\u4e00\u4e2a\u65b9\u6848\u5c31\u662f\u8ba9\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u6301\u6709\u8d44\u6e90\u7684\u526f\u672c\uff08\u62f7\u8d1d\uff09\uff0c\u8fd9\u6837\u6bcf\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u64cd\u4f5c\u81ea\u5df1\u6240\u6301\u6709\u7684\u8d44\u6e90\uff0c\u4ece\u800c\u89c4\u907f\u5bf9\u8d44\u6e90\u7684\u7ade\u4e89\u3002</p> <p>\u8981\u5b9e\u73b0\u5c06\u8d44\u6e90\u548c\u6301\u6709\u8d44\u6e90\u7684\u7ebf\u7a0b\u8fdb\u884c\u7ed1\u5b9a\u7684\u64cd\u4f5c\uff0c\u6700\u7b80\u5355\u7684\u505a\u6cd5\u5c31\u662f\u4f7f\u7528threading\u6a21\u5757\u7684local\u7c7b\uff0c\u5728\u7f51\u7edc\u722c\u866b\u5f00\u53d1\u4e2d\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528local\u7c7b\u4e3a\u6bcf\u4e2a\u7ebf\u7a0b\u7ed1\u5b9a\u4e00\u4e2aMySQL\u6570\u636e\u5e93\u8fde\u63a5\u6216Redis\u5ba2\u6237\u7aef\u5bf9\u8c61\uff0c\u8fd9\u6837\u901a\u8fc7\u7ebf\u7a0b\u53ef\u4ee5\u76f4\u63a5\u83b7\u5f97\u8fd9\u4e9b\u8d44\u6e90\uff0c\u65e2\u89e3\u51b3\u4e86\u8d44\u6e90\u7ade\u4e89\u7684\u95ee\u9898\uff0c\u53c8\u907f\u514d\u4e86\u5728\u51fd\u6570\u548c\u65b9\u6cd5\u8c03\u7528\u65f6\u4f20\u9012\u8fd9\u4e9b\u8d44\u6e90\u3002\u5177\u4f53\u7684\u8bf7\u53c2\u8003\u672c\u7ae0\u591a\u7ebf\u7a0b\u722c\u53d6\u201c\u624b\u673a\u641c\u72d0\u7f51\u201d\uff08Redis\u7248\uff09\u7684\u5b9e\u4f8b\u4ee3\u7801\u3002</p>"},{"location":"python/Py-100Days/Day66-75/69.%E5%B9%B6%E5%8F%91%E4%B8%8B%E8%BD%BD/#concurrentfutures","title":"concurrent.futures\u6a21\u5757","text":"<p>Python3.2\u5e26\u6765\u4e86<code>concurrent.futures</code>\u00a0\u6a21\u5757\uff0c\u8fd9\u4e2a\u6a21\u5757\u5305\u542b\u4e86\u7ebf\u7a0b\u6c60\u548c\u8fdb\u7a0b\u6c60\u3001\u7ba1\u7406\u5e76\u884c\u7f16\u7a0b\u4efb\u52a1\u3001\u5904\u7406\u975e\u786e\u5b9a\u6027\u7684\u6267\u884c\u6d41\u7a0b\u3001\u8fdb\u7a0b/\u7ebf\u7a0b\u540c\u6b65\u7b49\u529f\u80fd\u3002\u5173\u4e8e\u8fd9\u90e8\u5206\u7684\u5185\u5bb9\u63a8\u8350\u5927\u5bb6\u9605\u8bfb\u300aPython\u5e76\u884c\u7f16\u7a0b\u300b\u3002</p>"},{"location":"python/Py-100Days/Day66-75/69.%E5%B9%B6%E5%8F%91%E4%B8%8B%E8%BD%BD/#_3","title":"\u5206\u5e03\u5f0f\u8fdb\u7a0b","text":"<p>\u4f7f\u7528\u591a\u8fdb\u7a0b\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u5c06\u8fdb\u7a0b\u90e8\u7f72\u5728\u591a\u4e2a\u4e3b\u673a\u8282\u70b9\u4e0a\uff0cPython\u7684<code>multiprocessing</code>\u6a21\u5757\u4e0d\u4f46\u652f\u6301\u591a\u8fdb\u7a0b\uff0c\u5176\u4e2d<code>managers</code>\u5b50\u6a21\u5757\u8fd8\u652f\u6301\u628a\u591a\u8fdb\u7a0b\u90e8\u7f72\u5230\u591a\u4e2a\u8282\u70b9\u4e0a\u3002\u5f53\u7136\uff0c\u8981\u90e8\u7f72\u5206\u5e03\u5f0f\u8fdb\u7a0b\uff0c\u9996\u5148\u9700\u8981\u4e00\u4e2a\u670d\u52a1\u8fdb\u7a0b\u4f5c\u4e3a\u8c03\u5ea6\u8005\uff0c\u8fdb\u7a0b\u4e4b\u95f4\u901a\u8fc7\u7f51\u7edc\u8fdb\u884c\u901a\u4fe1\u6765\u5b9e\u73b0\u5bf9\u8fdb\u7a0b\u7684\u63a7\u5236\u548c\u8c03\u5ea6\uff0c\u7531\u4e8e<code>managers</code>\u6a21\u5757\u5df2\u7ecf\u5bf9\u8fd9\u4e9b\u505a\u51fa\u4e86\u5f88\u597d\u7684\u5c01\u88c5\uff0c\u56e0\u6b64\u5728\u65e0\u9700\u4e86\u89e3\u7f51\u7edc\u901a\u4fe1\u7ec6\u8282\u7684\u524d\u63d0\u4e0b\uff0c\u5c31\u53ef\u4ee5\u7f16\u5199\u5206\u5e03\u5f0f\u591a\u8fdb\u7a0b\u5e94\u7528\u3002\u5177\u4f53\u7684\u8bf7\u53c2\u7167\u672c\u7ae0\u5206\u5e03\u5f0f\u591a\u8fdb\u7a0b\u722c\u53d6\u201c\u624b\u673a\u641c\u72d0\u7f51\u201d\u7684\u5b9e\u4f8b\u4ee3\u7801\u3002</p>"},{"location":"python/Py-100Days/Day66-75/69.%E5%B9%B6%E5%8F%91%E4%B8%8B%E8%BD%BD/#io","title":"\u534f\u7a0b\u548c\u5f02\u6b65I/O","text":""},{"location":"python/Py-100Days/Day66-75/69.%E5%B9%B6%E5%8F%91%E4%B8%8B%E8%BD%BD/#_4","title":"\u534f\u7a0b\u7684\u6982\u5ff5","text":"<p>\u534f\u7a0b\uff08coroutine\uff09\u901a\u5e38\u53c8\u79f0\u4e4b\u4e3a\u5fae\u7ebf\u7a0b\u6216\u7ea4\u7a0b\uff0c\u5b83\u662f\u76f8\u4e92\u534f\u4f5c\u7684\u4e00\u7ec4\u5b50\u7a0b\u5e8f\uff08\u51fd\u6570\uff09\u3002\u6240\u8c13\u76f8\u4e92\u534f\u4f5c\u6307\u7684\u662f\u5728\u6267\u884c\u51fd\u6570A\u65f6\uff0c\u53ef\u4ee5\u968f\u65f6\u4e2d\u65ad\u53bb\u6267\u884c\u51fd\u6570B\uff0c\u7136\u540e\u53c8\u4e2d\u65ad\u7ee7\u7eed\u6267\u884c\u51fd\u6570A\u3002\u6ce8\u610f\uff0c\u8fd9\u4e00\u8fc7\u7a0b\u5e76\u4e0d\u662f\u51fd\u6570\u8c03\u7528\uff08\u56e0\u4e3a\u6ca1\u6709\u8c03\u7528\u8bed\u53e5\uff09\uff0c\u6574\u4e2a\u8fc7\u7a0b\u770b\u4f3c\u50cf\u591a\u7ebf\u7a0b\uff0c\u7136\u800c\u534f\u7a0b\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u6267\u884c\u3002\u534f\u7a0b\u901a\u8fc7<code>yield</code>\u5173\u952e\u5b57\u548c <code>send()</code>\u64cd\u4f5c\u6765\u8f6c\u79fb\u6267\u884c\u6743\uff0c\u534f\u7a0b\u4e4b\u95f4\u4e0d\u662f\u8c03\u7528\u8005\u4e0e\u88ab\u8c03\u7528\u8005\u7684\u5173\u7cfb\u3002</p> <p>\u534f\u7a0b\u7684\u4f18\u52bf\u5728\u4e8e\u4ee5\u4e0b\u4e24\u70b9\uff1a</p> <ol> <li>\u6267\u884c\u6548\u7387\u6781\u9ad8\uff0c\u56e0\u4e3a\u5b50\u7a0b\u5e8f\uff08\u51fd\u6570\uff09\u5207\u6362\u4e0d\u662f\u7ebf\u7a0b\u5207\u6362\uff0c\u7531\u7a0b\u5e8f\u81ea\u8eab\u63a7\u5236\uff0c\u6ca1\u6709\u5207\u6362\u7ebf\u7a0b\u7684\u5f00\u9500\u3002</li> <li>\u4e0d\u9700\u8981\u591a\u7ebf\u7a0b\u7684\u9501\u673a\u5236\uff0c\u56e0\u4e3a\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u4e5f\u4e0d\u5b58\u5728\u7ade\u4e89\u8d44\u6e90\u7684\u95ee\u9898\uff0c\u5f53\u7136\u4e5f\u5c31\u4e0d\u9700\u8981\u5bf9\u8d44\u6e90\u52a0\u9501\u4fdd\u62a4\uff0c\u56e0\u6b64\u6267\u884c\u6548\u7387\u9ad8\u5f88\u591a\u3002</li> </ol> <p>\u8bf4\u660e\uff1a\u534f\u7a0b\u9002\u5408\u5904\u7406\u7684\u662fI/O\u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u5904\u7406CPU\u5bc6\u96c6\u578b\u4efb\u52a1\u5e76\u4e0d\u662f\u5b83\u7684\u957f\u5904\uff0c\u5982\u679c\u8981\u63d0\u5347CPU\u7684\u5229\u7528\u7387\u53ef\u4ee5\u8003\u8651\u201c\u591a\u8fdb\u7a0b+\u534f\u7a0b\u201d\u7684\u6a21\u5f0f\u3002</p>"},{"location":"python/Py-100Days/Day66-75/69.%E5%B9%B6%E5%8F%91%E4%B8%8B%E8%BD%BD/#_5","title":"\u5386\u53f2\u56de\u987e","text":"<ol> <li>Python 2.2\uff1a\u7b2c\u4e00\u6b21\u63d0\u51fa\u4e86\u751f\u6210\u5668\uff08\u6700\u521d\u79f0\u4e4b\u4e3a\u8fed\u4ee3\u5668\uff09\u7684\u6982\u5ff5\uff08PEP 255\uff09\u3002</li> <li>Python 2.5\uff1a\u5f15\u5165\u4e86\u5c06\u5bf9\u8c61\u53d1\u9001\u56de\u6682\u505c\u4e86\u7684\u751f\u6210\u5668\u8fd9\u4e00\u7279\u6027\u5373\u751f\u6210\u5668\u7684<code>send()</code>\u65b9\u6cd5\uff08PEP 342\uff09\u3002</li> <li>Python 3.3\uff1a\u6dfb\u52a0\u4e86<code>yield from</code>\u7279\u6027\uff0c\u5141\u8bb8\u4ece\u8fed\u4ee3\u5668\u4e2d\u8fd4\u56de\u4efb\u4f55\u503c\uff08\u6ce8\u610f\u751f\u6210\u5668\u672c\u8eab\u4e5f\u662f\u8fed\u4ee3\u5668\uff09\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u4e32\u8054\u751f\u6210\u5668\u5e76\u4e14\u91cd\u6784\u51fa\u66f4\u597d\u7684\u751f\u6210\u5668\u3002</li> <li>Python 3.4\uff1a\u5f15\u5165<code>asyncio.coroutine</code>\u88c5\u9970\u5668\u7528\u6765\u6807\u8bb0\u4f5c\u4e3a\u534f\u7a0b\u7684\u51fd\u6570\uff0c\u534f\u7a0b\u51fd\u6570\u548c<code>asyncio</code>\u53ca\u5176\u4e8b\u4ef6\u5faa\u73af\u4e00\u8d77\u4f7f\u7528\uff0c\u6765\u5b9e\u73b0\u5f02\u6b65I/O\u64cd\u4f5c\u3002</li> <li>Python 3.5\uff1a\u5f15\u5165\u4e86<code>async</code>\u548c<code>await</code>\uff0c\u53ef\u4ee5\u4f7f\u7528<code>async def</code>\u6765\u5b9a\u4e49\u4e00\u4e2a\u534f\u7a0b\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u4e2d\u4e0d\u80fd\u5305\u542b\u4efb\u4f55\u5f62\u5f0f\u7684<code>yield</code>\u8bed\u53e5\uff0c\u4f46\u662f\u53ef\u4ee5\u4f7f\u7528<code>return</code>\u6216<code>await</code>\u4ece\u534f\u7a0b\u4e2d\u8fd4\u56de\u503c\u3002</li> </ol>"},{"location":"python/Py-100Days/Day66-75/69.%E5%B9%B6%E5%8F%91%E4%B8%8B%E8%BD%BD/#_6","title":"\u793a\u4f8b\u4ee3\u7801","text":"<ol> <li>\u751f\u6210\u5668 - \u6570\u636e\u7684\u751f\u4ea7\u8005\u3002</li> </ol> <pre><code>from time import sleep\n\n\n# \u5012\u8ba1\u6570\u751f\u6210\u5668\ndef countdown(n):\n    while n &gt; 0:\n        yield n\n        n -= 1\n\n\ndef main():\n    for num in countdown(5):\n        print(f'Countdown: {num}')\n        sleep(1)\n    print('Countdown Over!')\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u751f\u6210\u5668\u8fd8\u53ef\u4ee5\u53e0\u52a0\u6765\u7ec4\u6210\u751f\u6210\u5668\u7ba1\u9053\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code># Fibonacci\u6570\u751f\u6210\u5668\ndef fib():\n    a, b = 0, 1\n    while True:\n        a, b = b, a + b\n        yield a\n\n\n# \u5076\u6570\u751f\u6210\u5668\ndef even(gen):\n    for val in gen:\n        if val % 2 == 0:\n            yield val\n\n\ndef main():\n    gen = even(fib())\n    for _ in range(10):\n        print(next(gen))\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <ol> <li>\u534f\u7a0b - \u6570\u636e\u7684\u6d88\u8d39\u8005\u3002</li> </ol> <pre><code>from time import sleep\n\n\n# \u751f\u6210\u5668 - \u6570\u636e\u751f\u4ea7\u8005\ndef countdown_gen(n, consumer):\n    consumer.send(None)\n    while n &gt; 0:\n        consumer.send(n)\n        n -= 1\n    consumer.send(None)\n\n\n# \u534f\u7a0b - \u6570\u636e\u6d88\u8d39\u8005\ndef countdown_con():\n    while True:\n        n = yield\n        if n:\n            print(f'Countdown {n}')\n            sleep(1)\n        else:\n            print('Countdown Over!')\n\n\ndef main():\n    countdown_gen(5, countdown_con())\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u4ee3\u7801\u4e2dcountdown_gen\u51fd\u6570\u4e2d\u7684\u7b2c1\u884cconsumer.send(None)\u662f\u4e3a\u4e86\u6fc0\u6d3b\u751f\u6210\u5668\uff0c\u901a\u4fd7\u7684\u8bf4\u5c31\u662f\u8ba9\u751f\u6210\u5668\u6267\u884c\u5230\u6709yield\u5173\u952e\u5b57\u7684\u5730\u65b9\u6302\u8d77\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u901a\u8fc7next(consumer)\u6765\u8fbe\u5230\u540c\u6837\u7684\u6548\u679c\u3002\u5982\u679c\u4e0d\u613f\u610f\u6bcf\u6b21\u90fd\u7528\u8fd9\u6837\u7684\u4ee3\u7801\u6765\u201c\u9884\u6fc0\u201d\u751f\u6210\u5668\uff0c\u53ef\u4ee5\u5199\u4e00\u4e2a\u5305\u88c5\u5668\u6765\u5b8c\u6210\u8be5\u64cd\u4f5c\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>from functools import wraps\n\n\ndef coroutine(fn):\n\n    @wraps(fn)\n    def wrapper(*args, **kwargs):\n        gen = fn(*args, **kwargs)\n        next(gen)\n        return gen\n\n    return wrapper\n</code></pre> <p>\u8fd9\u6837\u5c31\u53ef\u4ee5\u4f7f\u7528<code>@coroutine</code>\u88c5\u9970\u5668\u5bf9\u534f\u7a0b\u8fdb\u884c\u9884\u6fc0\u64cd\u4f5c\uff0c\u4e0d\u9700\u8981\u518d\u5199\u91cd\u590d\u4ee3\u7801\u6765\u6fc0\u6d3b\u534f\u7a0b\u3002</p> <ol> <li>\u5f02\u6b65I/O - \u975e\u963b\u585e\u5f0fI/O\u64cd\u4f5c\u3002</li> </ol> <pre><code>import asyncio\n\n\n@asyncio.coroutine\ndef countdown(name, n):\n    while n &gt; 0:\n        print(f'Countdown[{name}]: {n}')\n        yield from asyncio.sleep(1)\n        n -= 1\n\n\ndef main():\n    loop = asyncio.get_event_loop()\n    tasks = [\n        countdown(\"A\", 10), countdown(\"B\", 5),\n    ]\n    loop.run_until_complete(asyncio.wait(tasks))\n    loop.close()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <ol> <li><code>async</code>\u548c<code>await</code>\u3002</li> </ol> <pre><code>import asyncio\nimport aiohttp\n\n\nasync def download(url):\n    print('Fetch:', url)\n    async with aiohttp.ClientSession() as session:\n        async with session.get(url) as resp:\n            print(url, '---&gt;', resp.status)\n            print(url, '---&gt;', resp.cookies)\n            print('\\n\\n', await resp.text())\n\n\ndef main():\n    loop = asyncio.get_event_loop()\n    urls = [\n        'https://www.baidu.com',\n        'http://www.sohu.com/',\n        'http://www.sina.com.cn/',\n        'https://www.taobao.com/',\n        'https://www.jd.com/'\n    ]\n    tasks = [download(url) for url in urls]\n    loop.run_until_complete(asyncio.wait(tasks))\n    loop.close()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u4e0a\u9762\u7684\u4ee3\u7801\u4f7f\u7528\u4e86AIOHTTP\u8fd9\u4e2a\u975e\u5e38\u8457\u540d\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u5b83\u5b9e\u73b0\u4e86HTTP\u5ba2\u6237\u7aef\u548cHTTP\u670d\u52a1\u5668\u7684\u529f\u80fd\uff0c\u5bf9\u5f02\u6b65\u64cd\u4f5c\u63d0\u4f9b\u4e86\u975e\u5e38\u597d\u7684\u652f\u6301\uff0c\u6709\u5174\u8da3\u53ef\u4ee5\u9605\u8bfb\u5b83\u7684\u5b98\u65b9\u6587\u6863\u3002</p>"},{"location":"python/Py-100Days/Day66-75/69.%E5%B9%B6%E5%8F%91%E4%B8%8B%E8%BD%BD/#-","title":"\u5b9e\u4f8b - \u591a\u7ebf\u7a0b\u722c\u53d6\u201c\u624b\u673a\u641c\u72d0\u7f51\u201d\u6240\u6709\u9875\u9762","text":"<p>\u4e0b\u9762\u6211\u4eec\u628a\u4e4b\u95f4\u8bb2\u7684\u6240\u6709\u77e5\u8bc6\u7ed3\u5408\u8d77\u6765\uff0c\u7528\u9762\u5411\u5bf9\u8c61\u7684\u65b9\u5f0f\u5b9e\u73b0\u4e00\u4e2a\u722c\u53d6\u201c\u624b\u673a\u641c\u72d0\u7f51\u201d\u7684\u591a\u7ebf\u7a0b\u722c\u866b\u3002</p> <pre><code>import pickle\nimport zlib\nfrom enum import Enum, unique\nfrom hashlib import sha1\nfrom random import random\nfrom threading import Thread, current_thread, local\nfrom time import sleep\nfrom urllib.parse import urlparse\n\nimport pymongo\nimport redis\nimport requests\nfrom bs4 import BeautifulSoup\nfrom bson import Binary\n\n\n@unique\nclass SpiderStatus(Enum):\n    IDLE = 0\n    WORKING = 1\n\n\ndef decode_page(page_bytes, charsets=('utf-8',)):\n    page_html = None\n    for charset in charsets:\n        try:\n            page_html = page_bytes.decode(charset)\n            break\n        except UnicodeDecodeError:\n            pass\n    return page_html\n\n\nclass Retry(object):\n\n    def __init__(self, *, retry_times=3,\n                 wait_secs=5, errors=(Exception, )):\n        self.retry_times = retry_times\n        self.wait_secs = wait_secs\n        self.errors = errors\n\n    def __call__(self, fn):\n\n        def wrapper(*args, **kwargs):\n            for _ in range(self.retry_times):\n                try:\n                    return fn(*args, **kwargs)\n                except self.errors as e:\n                    print(e)\n                    sleep((random() + 1) * self.wait_secs)\n            return None\n\n        return wrapper\n\n\nclass Spider(object):\n\n    def __init__(self):\n        self.status = SpiderStatus.IDLE\n\n    @Retry()\n    def fetch(self, current_url, *, charsets=('utf-8', ),\n              user_agent=None, proxies=None):\n        thread_name = current_thread().name\n        print(f'[{thread_name}]: {current_url}')\n        headers = {'user-agent': user_agent} if user_agent else {}\n        resp = requests.get(current_url,\n                            headers=headers, proxies=proxies)\n        return decode_page(resp.content, charsets) \\\n            if resp.status_code == 200 else None\n\n    def parse(self, html_page, *, domain='m.sohu.com'):\n        soup = BeautifulSoup(html_page, 'lxml')\n        for a_tag in soup.body.select('a[href]'):\n            parser = urlparse(a_tag.attrs['href'])\n            scheme = parser.scheme or 'http'\n            netloc = parser.netloc or domain\n            if scheme != 'javascript' and netloc == domain:\n                path = parser.path\n                query = '?' + parser.query if parser.query else ''\n                full_url = f'{scheme}://{netloc}{path}{query}'\n                redis_client = thread_local.redis_client\n                if not redis_client.sismember('visited_urls', full_url):\n                    redis_client.rpush('m_sohu_task', full_url)\n\n    def extract(self, html_page):\n        pass\n\n    def store(self, data_dict):\n        # redis_client = thread_local.redis_client\n        # mongo_db = thread_local.mongo_db\n        pass\n\n\nclass SpiderThread(Thread):\n\n    def __init__(self, name, spider):\n        super().__init__(name=name, daemon=True)\n        self.spider = spider\n\n    def run(self):\n        redis_client = redis.Redis(host='1.2.3.4', port=6379, password='1qaz2wsx')\n        mongo_client = pymongo.MongoClient(host='1.2.3.4', port=27017)\n        thread_local.redis_client = redis_client\n        thread_local.mongo_db = mongo_client.msohu \n        while True:\n            current_url = redis_client.lpop('m_sohu_task')\n            while not current_url:\n                current_url = redis_client.lpop('m_sohu_task')\n            self.spider.status = SpiderStatus.WORKING\n            current_url = current_url.decode('utf-8')\n            if not redis_client.sismember('visited_urls', current_url):\n                redis_client.sadd('visited_urls', current_url)\n                html_page = self.spider.fetch(current_url)\n                if html_page not in [None, '']:\n                    hasher = hasher_proto.copy()\n                    hasher.update(current_url.encode('utf-8'))\n                    doc_id = hasher.hexdigest()\n                    sohu_data_coll = mongo_client.msohu.webpages\n                    if not sohu_data_coll.find_one({'_id': doc_id}):\n                        sohu_data_coll.insert_one({\n                            '_id': doc_id,\n                            'url': current_url,\n                            'page': Binary(zlib.compress(pickle.dumps(html_page)))\n                        })\n                    self.spider.parse(html_page)\n            self.spider.status = SpiderStatus.IDLE\n\n\ndef is_any_alive(spider_threads):\n    return any([spider_thread.spider.status == SpiderStatus.WORKING\n                for spider_thread in spider_threads])\n\n\nthread_local = local()\nhasher_proto = sha1()\n\n\ndef main():\n    redis_client = redis.Redis(host='1.2.3.4', port=6379, password='1qaz2wsx')\n    if not redis_client.exists('m_sohu_task'):\n        redis_client.rpush('m_sohu_task', 'http://m.sohu.com/')\n\n    spider_threads = [SpiderThread('thread-%d' % i, Spider())\n                      for i in range(10)]\n    for spider_thread in spider_threads:\n        spider_thread.start()\n\n    while redis_client.exists('m_sohu_task') or is_any_alive(spider_threads):\n        sleep(5)\n\n    print('Over!')\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"python/Py-100Days/Day66-75/70.%E8%A7%A3%E6%9E%90%E5%8A%A8%E6%80%81%E5%86%85%E5%AE%B9/","title":"70.\u89e3\u6790\u52a8\u6001\u5185\u5bb9","text":""},{"location":"python/Py-100Days/Day66-75/70.%E8%A7%A3%E6%9E%90%E5%8A%A8%E6%80%81%E5%86%85%E5%AE%B9/#_1","title":"\u89e3\u6790\u52a8\u6001\u5185\u5bb9","text":"<p>\u6839\u636e\u6743\u5a01\u673a\u6784\u53d1\u5e03\u7684\u5168\u7403\u4e92\u8054\u7f51\u53ef\u8bbf\u95ee\u6027\u5ba1\u8ba1\u62a5\u544a\uff0c\u5168\u7403\u7ea6\u6709\u56db\u5206\u4e4b\u4e09\u7684\u7f51\u7ad9\u5176\u5185\u5bb9\u6216\u90e8\u5206\u5185\u5bb9\u662f\u901a\u8fc7JavaScript\u52a8\u6001\u751f\u6210\u7684\uff0c\u8fd9\u5c31\u610f\u5473\u7740\u5728\u6d4f\u89c8\u5668\u7a97\u53e3\u4e2d\u201c\u67e5\u770b\u7f51\u9875\u6e90\u4ee3\u7801\u201d\u65f6\u65e0\u6cd5\u5728HTML\u4ee3\u7801\u4e2d\u627e\u5230\u8fd9\u4e9b\u5185\u5bb9\uff0c\u4e5f\u5c31\u662f\u8bf4\u6211\u4eec\u4e4b\u524d\u7528\u7684\u6293\u53d6\u6570\u636e\u7684\u65b9\u5f0f\u65e0\u6cd5\u6b63\u5e38\u8fd0\u8f6c\u4e86\u3002\u89e3\u51b3\u8fd9\u6837\u7684\u95ee\u9898\u57fa\u672c\u4e0a\u6709\u4e24\u79cd\u65b9\u6848\uff0c\u4e00\u662fJavaScript\u9006\u5411\u5de5\u7a0b\uff1b\u53e6\u4e00\u79cd\u662f\u6e32\u67d3JavaScript\u83b7\u5f97\u6e32\u67d3\u540e\u7684\u5185\u5bb9\u3002</p>"},{"location":"python/Py-100Days/Day66-75/70.%E8%A7%A3%E6%9E%90%E5%8A%A8%E6%80%81%E5%86%85%E5%AE%B9/#javascript","title":"JavaScript\u9006\u5411\u5de5\u7a0b","text":"<p>\u4e0b\u9762\u6211\u4eec\u4ee5\u201c360\u56fe\u7247\u201d\u7f51\u7ad9\u4e3a\u4f8b\uff0c\u8bf4\u660e\u4ec0\u4e48\u662fJavaScript\u9006\u5411\u5de5\u7a0b\u3002\u5176\u5b9e\u6240\u8c13\u7684JavaScript\u9006\u5411\u5de5\u7a0b\u5c31\u662f\u627e\u5230\u901a\u8fc7Ajax\u6280\u672f\u52a8\u6001\u83b7\u53d6\u6570\u636e\u7684\u63a5\u53e3\u3002\u5728\u6d4f\u89c8\u5668\u4e2d\u8f93\u5165http://image.so.com/z?ch=beauty\u5c31\u53ef\u4ee5\u6253\u5f00\u201c360\u56fe\u7247\u201d\u7684\u201c\u7f8e\u5973\u201d\u7248\u5757\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p> <p>\u4f46\u662f\u5f53\u6211\u4eec\u5728\u6d4f\u89c8\u5668\u4e2d\u901a\u8fc7\u53f3\u952e\u83dc\u5355\u201c\u663e\u793a\u7f51\u9875\u6e90\u4ee3\u7801\u201d\u7684\u65f6\u5019\uff0c\u5c45\u7136\u60ca\u5947\u7684\u53d1\u73b0\u9875\u9762\u7684HTML\u4ee3\u7801\u4e2d\u8fde\u4e00\u4e2a<code>&lt;img&gt;</code>\u6807\u7b7e\u90fd\u6ca1\u6709\uff0c\u90a3\u4e48\u6211\u4eec\u770b\u5230\u7684\u56fe\u7247\u662f\u600e\u4e48\u663e\u793a\u51fa\u6765\u7684\u5462\uff1f\u539f\u6765\u6240\u6709\u7684\u56fe\u7247\u90fd\u662f\u901a\u8fc7JavaScript\u52a8\u6001\u52a0\u8f7d\u7684\uff0c\u800c\u5728\u6d4f\u89c8\u5668\u7684\u201c\u5f00\u53d1\u4eba\u5458\u5de5\u5177\u201d\u7684\u201c\u7f51\u7edc\u201d\u4e2d\u53ef\u4ee5\u627e\u5230\u83b7\u53d6\u8fd9\u4e9b\u56fe\u7247\u6570\u636e\u7684\u7f51\u7edcAPI\u63a5\u53e3\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p> <p>\u90a3\u4e48\u7ed3\u8bba\u5c31\u5f88\u7b80\u5355\u4e86\uff0c\u53ea\u8981\u6211\u4eec\u627e\u5230\u4e86\u8fd9\u4e9b\u7f51\u7edcAPI\u63a5\u53e3\uff0c\u90a3\u4e48\u5c31\u80fd\u901a\u8fc7\u8fd9\u4e9b\u63a5\u53e3\u83b7\u53d6\u5230\u6570\u636e\uff0c\u5f53\u7136\u5b9e\u9645\u5f00\u53d1\u7684\u65f6\u5019\u53ef\u80fd\u8fd8\u8981\u5bf9\u8fd9\u4e9b\u63a5\u53e3\u7684\u53c2\u6570\u4ee5\u53ca\u63a5\u53e3\u8fd4\u56de\u7684\u6570\u636e\u8fdb\u884c\u5206\u6790\uff0c\u4e86\u89e3\u6bcf\u4e2a\u53c2\u6570\u7684\u610f\u4e49\u4ee5\u53ca\u8fd4\u56de\u7684JSON\u6570\u636e\u7684\u683c\u5f0f\uff0c\u8fd9\u6837\u624d\u80fd\u5728\u6211\u4eec\u7684\u722c\u866b\u4e2d\u4f7f\u7528\u8fd9\u4e9b\u6570\u636e\u3002</p> <p>\u5173\u4e8e\u5982\u4f55\u4ece\u7f51\u7edcAPI\u4e2d\u83b7\u53d6JSON\u683c\u5f0f\u7684\u6570\u636e\u5e76\u63d0\u53d6\u51fa\u6211\u4eec\u9700\u8981\u7684\u5185\u5bb9\uff0c\u5728\u4e4b\u524d\u7684\u300a\u6587\u4ef6\u548c\u5f02\u5e38\u300b\u4e00\u6587\u4e2d\u5df2\u7ecf\u8bb2\u89e3\u8fc7\u4e86\uff0c\u8fd9\u91cc\u4e0d\u518d\u8fdb\u884c\u8d58\u8ff0\u3002</p>"},{"location":"python/Py-100Days/Day66-75/70.%E8%A7%A3%E6%9E%90%E5%8A%A8%E6%80%81%E5%86%85%E5%AE%B9/#selenium","title":"\u4f7f\u7528Selenium","text":"<p>\u5c3d\u7ba1\u5f88\u591a\u7f51\u7ad9\u5bf9\u81ea\u5df1\u7684\u7f51\u7edcAPI\u63a5\u53e3\u8fdb\u884c\u4e86\u4fdd\u62a4\uff0c\u589e\u52a0\u4e86\u83b7\u53d6\u6570\u636e\u7684\u96be\u5ea6\uff0c\u4f46\u662f\u53ea\u8981\u7ecf\u8fc7\u8db3\u591f\u7684\u52aa\u529b\uff0c\u7edd\u5927\u591a\u6570\u8fd8\u662f\u53ef\u4ee5\u88ab\u9006\u5411\u5de5\u7a0b\u7684\uff0c\u4f46\u662f\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6d4f\u89c8\u5668\u6e32\u67d3\u5f15\u64ce\u6765\u907f\u514d\u8fd9\u4e9b\u7e41\u7410\u7684\u5de5\u4f5c\uff0cWebKit\u5c31\u662f\u4e00\u4e2a\u5229\u7528\u7684\u6e32\u67d3\u5f15\u64ce\u3002</p> <p>WebKit\u7684\u4ee3\u7801\u59cb\u4e8e1998\u5e74\u7684KHTML\u9879\u76ee\uff0c\u5f53\u65f6\u5b83\u662fKonqueror\u6d4f\u89c8\u5668\u7684\u6e32\u67d3\u5f15\u64ce\u30022001\u5e74\uff0c\u82f9\u679c\u516c\u53f8\u4ece\u8fd9\u4e2a\u9879\u76ee\u7684\u4ee3\u7801\u4e2d\u884d\u751f\u51fa\u4e86WebKit\u5e76\u5e94\u7528\u4e8eSafari\u6d4f\u89c8\u5668\uff0c\u65e9\u671f\u7684Chrome\u6d4f\u89c8\u5668\u4e5f\u4f7f\u7528\u4e86\u8be5\u5185\u6838\u3002\u5728Python\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7Qt\u6846\u67b6\u83b7\u5f97WebKit\u5f15\u64ce\u5e76\u4f7f\u7528\u5b83\u6765\u6e32\u67d3\u9875\u9762\u83b7\u5f97\u52a8\u6001\u5185\u5bb9\uff0c\u5173\u4e8e\u8fd9\u4e2a\u5185\u5bb9\u8bf7\u5927\u5bb6\u81ea\u884c\u9605\u8bfb\u300a\u722c\u866b\u6280\u672f:\u52a8\u6001\u9875\u9762\u6293\u53d6\u8d85\u7ea7\u6307\u5357\u300b\u4e00\u6587\u3002</p> <p>\u5982\u679c\u6ca1\u6709\u6253\u7b97\u7528\u4e0a\u9762\u6240\u8bf4\u7684\u65b9\u5f0f\u6765\u6e32\u67d3\u9875\u9762\u5e76\u83b7\u5f97\u52a8\u6001\u5185\u5bb9\uff0c\u5176\u5b9e\u8fd8\u6709\u4e00\u79cd\u66ff\u4ee3\u65b9\u6848\u5c31\u662f\u4f7f\u7528\u81ea\u52a8\u5316\u6d4b\u8bd5\u5de5\u5177Selenium\uff0c\u5b83\u63d0\u4f9b\u4e86\u6d4f\u89c8\u5668\u81ea\u52a8\u5316\u7684API\u63a5\u53e3\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u901a\u8fc7\u64cd\u63a7\u6d4f\u89c8\u5668\u6765\u83b7\u53d6\u52a8\u6001\u5185\u5bb9\u3002\u9996\u5148\u53ef\u4ee5\u4f7f\u7528pip\u6765\u5b89\u88c5Selenium\u3002</p> <pre><code>pip3 install selenium\n</code></pre> <p>\u4e0b\u9762\u4ee5\u201c\u963f\u91ccV\u4efb\u52a1\u201d\u7684\u201c\u76f4\u64ad\u670d\u52a1\u201d\u4e3a\u4f8b\uff0c\u6765\u6f14\u793a\u5982\u4f55\u4f7f\u7528Selenium\u83b7\u53d6\u5230\u52a8\u6001\u5185\u5bb9\u5e76\u6293\u53d6\u4e3b\u64ad\u56fe\u7247\u3002</p> <pre><code>import requests\n\nfrom bs4 import BeautifulSoup\n\n\ndef main():\n    resp = requests.get('https://v.taobao.com/v/content/live?catetype=704&amp;from=taonvlang')\n    soup = BeautifulSoup(resp.text, 'lxml')\n    for img_tag in soup.select('img[src]'):\n        print(img_tag.attrs['src'])\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8fd0\u884c\u4e0a\u9762\u7684\u7a0b\u5e8f\u4f1a\u53d1\u73b0\u6ca1\u6709\u4efb\u4f55\u7684\u8f93\u51fa\uff0c\u56e0\u4e3a\u9875\u9762\u7684HTML\u4ee3\u7801\u4e0a\u6839\u672c\u627e\u4e0d\u5230<code>&lt;img&gt;</code>\u6807\u7b7e\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u4f7f\u7528Selenium\u6765\u83b7\u53d6\u5230\u9875\u9762\u4e0a\u7684\u52a8\u6001\u5185\u5bb9\uff0c\u518d\u63d0\u53d6\u4e3b\u64ad\u56fe\u7247\u3002</p> <pre><code>from bs4 import BeautifulSoup\nfrom selenium import webdriver\nfrom selenium.webdriver.common.keys import Keys\n\n\ndef main():\n    driver = webdriver.Chrome()\n    driver.get('https://v.taobao.com/v/content/live?catetype=704&amp;from=taonvlang')\n    soup = BeautifulSoup(driver.page_source, 'lxml')\n    for img_tag in soup.body.select('img[src]'):\n        print(img_tag.attrs['src'])\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u7a0b\u5e8f\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7Selenium\u5b9e\u73b0\u5bf9Chrome\u6d4f\u89c8\u5668\u7684\u64cd\u63a7\uff0c\u5982\u679c\u8981\u64cd\u63a7\u5176\u4ed6\u7684\u6d4f\u89c8\u5668\uff0c\u53ef\u4ee5\u521b\u5bf9\u5e94\u7684\u6d4f\u89c8\u5668\u5bf9\u8c61\uff0c\u4f8b\u5982Firefox\u3001IE\u7b49\u3002\u8fd0\u884c\u4e0a\u9762\u7684\u7a0b\u5e8f\uff0c\u5982\u679c\u770b\u5230\u5982\u4e0b\u6240\u793a\u7684\u9519\u8bef\u63d0\u793a\uff0c\u90a3\u662f\u8bf4\u660e\u6211\u4eec\u8fd8\u6ca1\u6709\u5c06Chrome\u6d4f\u89c8\u5668\u7684\u9a71\u52a8\u6dfb\u52a0\u5230PATH\u73af\u5883\u53d8\u91cf\u4e2d\uff0c\u4e5f\u6ca1\u6709\u5728\u7a0b\u5e8f\u4e2d\u6307\u5b9aChrome\u6d4f\u89c8\u5668\u9a71\u52a8\u6240\u5728\u7684\u4f4d\u7f6e\u3002</p> <pre><code>selenium.common.exceptions.WebDriverException: Message: 'chromedriver' executable needs to be in PATH. Please see https://sites.google.com/a/chromium.org/chromedriver/home\n</code></pre> <p>\u4e3a\u4e86\u89e3\u51b3\u4e0a\u9762\u7684\u95ee\u9898\uff0c\u53ef\u4ee5\u5230Selenium\u7684\u5b98\u65b9\u7f51\u7ad9\u627e\u5230\u6d4f\u89c8\u5668\u9a71\u52a8\u7684\u4e0b\u8f7d\u94fe\u63a5\u5e76\u4e0b\u8f7d\u9700\u8981\u7684\u9a71\u52a8\uff0c\u5728Linux\u6216macOS\u7cfb\u7edf\u4e0b\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u8bbe\u7f6ePATH\u73af\u5883\u53d8\u91cf\uff0cWindows\u4e0b\u914d\u7f6e\u73af\u5883\u53d8\u91cf\u4e5f\u975e\u5e38\u7b80\u5355\uff0c\u4e0d\u6e05\u695a\u7684\u53ef\u4ee5\u81ea\u884c\u4e86\u89e3\u3002</p> <pre><code>export PATH=$PATH:/Users/Hao/Downloads/Tools/chromedriver/\n</code></pre> <p>\u5176\u4e2d<code>/Users/Hao/Downloads/Tools/chromedriver/</code>\u5c31\u662fchromedriver\u6240\u5728\u7684\u8def\u5f84\u3002</p>"},{"location":"python/Py-100Days/Day66-75/71.%E8%A1%A8%E5%8D%95%E4%BA%A4%E4%BA%92%E5%92%8C%E9%AA%8C%E8%AF%81%E7%A0%81%E5%A4%84%E7%90%86/","title":"71.\u8868\u5355\u4ea4\u4e92\u548c\u9a8c\u8bc1\u7801\u5904\u7406","text":""},{"location":"python/Py-100Days/Day66-75/71.%E8%A1%A8%E5%8D%95%E4%BA%A4%E4%BA%92%E5%92%8C%E9%AA%8C%E8%AF%81%E7%A0%81%E5%A4%84%E7%90%86/#_1","title":"\u8868\u5355\u4ea4\u4e92\u548c\u9a8c\u8bc1\u7801\u5904\u7406","text":""},{"location":"python/Py-100Days/Day66-75/71.%E8%A1%A8%E5%8D%95%E4%BA%A4%E4%BA%92%E5%92%8C%E9%AA%8C%E8%AF%81%E7%A0%81%E5%A4%84%E7%90%86/#_2","title":"\u63d0\u4ea4\u8868\u5355","text":""},{"location":"python/Py-100Days/Day66-75/71.%E8%A1%A8%E5%8D%95%E4%BA%A4%E4%BA%92%E5%92%8C%E9%AA%8C%E8%AF%81%E7%A0%81%E5%A4%84%E7%90%86/#_3","title":"\u624b\u52a8\u63d0\u4ea4","text":""},{"location":"python/Py-100Days/Day66-75/71.%E8%A1%A8%E5%8D%95%E4%BA%A4%E4%BA%92%E5%92%8C%E9%AA%8C%E8%AF%81%E7%A0%81%E5%A4%84%E7%90%86/#_4","title":"\u81ea\u52a8\u63d0\u4ea4","text":""},{"location":"python/Py-100Days/Day66-75/71.%E8%A1%A8%E5%8D%95%E4%BA%A4%E4%BA%92%E5%92%8C%E9%AA%8C%E8%AF%81%E7%A0%81%E5%A4%84%E7%90%86/#_5","title":"\u9a8c\u8bc1\u7801\u5904\u7406","text":""},{"location":"python/Py-100Days/Day66-75/71.%E8%A1%A8%E5%8D%95%E4%BA%A4%E4%BA%92%E5%92%8C%E9%AA%8C%E8%AF%81%E7%A0%81%E5%A4%84%E7%90%86/#_6","title":"\u52a0\u8f7d\u9a8c\u8bc1\u7801","text":""},{"location":"python/Py-100Days/Day66-75/71.%E8%A1%A8%E5%8D%95%E4%BA%A4%E4%BA%92%E5%92%8C%E9%AA%8C%E8%AF%81%E7%A0%81%E5%A4%84%E7%90%86/#_7","title":"\u5149\u5b66\u5b57\u7b26\u8bc6\u522b","text":"<p>\u5149\u5b66\u5b57\u7b26\u8bc6\u522b\uff08OCR\uff09\u662f\u4ece\u56fe\u50cf\u4e2d\u62bd\u53d6\u6587\u672c\u7684\u5de5\u5177\uff0c\u53ef\u4ee5\u5e94\u7528\u4e8e\u516c\u5b89\u3001\u7535\u4fe1\u3001\u7269\u6d41\u3001\u91d1\u878d\u7b49\u8bf8\u591a\u884c\u4e1a\uff0c\u4f8b\u5982\u8bc6\u522b\u8f66\u724c\uff0c\u8eab\u4efd\u8bc1\u626b\u63cf\u8bc6\u522b\u3001\u540d\u7247\u4fe1\u606f\u63d0\u53d6\u7b49\u3002\u5728\u722c\u866b\u5f00\u53d1\u4e2d\uff0c\u5982\u679c\u906d\u9047\u4e86\u6709\u6587\u5b57\u9a8c\u8bc1\u7801\u7684\u8868\u5355\uff0c\u5c31\u53ef\u4ee5\u5229\u7528OCR\u6765\u8fdb\u884c\u9a8c\u8bc1\u7801\u5904\u7406\u3002Tesseract-OCR\u5f15\u64ce\u6700\u521d\u662f\u7531\u60e0\u666e\u516c\u53f8\u5f00\u53d1\u7684\u5149\u5b66\u5b57\u7b26\u8bc6\u522b\u7cfb\u7edf\uff0c\u76ee\u524d\u53d1\u5e03\u5728Github\u4e0a\uff0c\u7531Google\u8d5e\u52a9\u5f00\u53d1\u3002</p> <p></p>"},{"location":"python/Py-100Days/Day66-75/71.%E8%A1%A8%E5%8D%95%E4%BA%A4%E4%BA%92%E5%92%8C%E9%AA%8C%E8%AF%81%E7%A0%81%E5%A4%84%E7%90%86/#ocr","title":"\u6539\u5584OCR","text":""},{"location":"python/Py-100Days/Day66-75/71.%E8%A1%A8%E5%8D%95%E4%BA%A4%E4%BA%92%E5%92%8C%E9%AA%8C%E8%AF%81%E7%A0%81%E5%A4%84%E7%90%86/#_8","title":"\u5904\u7406\u66f4\u590d\u6742\u7684\u9a8c\u8bc1\u7801","text":"<p>\u5f88\u591a\u7f51\u7ad9\u4e3a\u4e86\u5206\u522b\u51fa\u63d0\u4f9b\u9a8c\u8bc1\u7801\u7684\u662f\u4eba\u8fd8\u662f\u673a\u5668\u4f7f\u7528\u4e86\u66f4\u4e3a\u590d\u6742\u7684\u9a8c\u8bc1\u7801\uff0c\u4f8b\u5982\u62fc\u56fe\u9a8c\u8bc1\u7801\u3001\u70b9\u89e6\u9a8c\u8bc1\u7801\u3001\u4e5d\u5bab\u683c\u9a8c\u8bc1\u7801\u7b49\u3002\u5173\u4e8e\u8fd9\u65b9\u9762\u7684\u77e5\u8bc6\uff0c\u5728\u5d14\u5e86\u624d\u540c\u5b66\u7684\u300aPython 3\u7f51\u7edc\u722c\u866b\u5f00\u53d1\u5b9e\u6218\u300b\u6709\u8f83\u4e3a\u8be6\u7ec6\u7684\u8bb2\u89e3\uff0c\u6709\u5174\u8da3\u7684\u53ef\u4ee5\u8d2d\u4e70\u9605\u8bfb\u3002</p>"},{"location":"python/Py-100Days/Day66-75/71.%E8%A1%A8%E5%8D%95%E4%BA%A4%E4%BA%92%E5%92%8C%E9%AA%8C%E8%AF%81%E7%A0%81%E5%A4%84%E7%90%86/#_9","title":"\u9a8c\u8bc1\u7801\u5904\u7406\u670d\u52a1","text":""},{"location":"python/Py-100Days/Day66-75/72.Scrapy%E5%85%A5%E9%97%A8/","title":"72.Scrapy\u5165\u95e8","text":""},{"location":"python/Py-100Days/Day66-75/72.Scrapy%E5%85%A5%E9%97%A8/#scrapy","title":"Scrapy\u722c\u866b\u6846\u67b6\u5165\u95e8","text":""},{"location":"python/Py-100Days/Day66-75/72.Scrapy%E5%85%A5%E9%97%A8/#scrapy_1","title":"Scrapy\u6982\u8ff0","text":"<p>Scrapy\u662fPython\u5f00\u53d1\u7684\u4e00\u4e2a\u975e\u5e38\u6d41\u884c\u7684\u7f51\u7edc\u722c\u866b\u6846\u67b6\uff0c\u53ef\u4ee5\u7528\u6765\u6293\u53d6Web\u7ad9\u70b9\u5e76\u4ece\u9875\u9762\u4e2d\u63d0\u53d6\u7ed3\u6784\u5316\u7684\u6570\u636e\uff0c\u88ab\u5e7f\u6cdb\u7684\u7528\u4e8e\u6570\u636e\u6316\u6398\u3001\u6570\u636e\u76d1\u6d4b\u548c\u81ea\u52a8\u5316\u6d4b\u8bd5\u7b49\u9886\u57df\u3002\u4e0b\u56fe\u5c55\u793a\u4e86Scrapy\u7684\u57fa\u672c\u67b6\u6784\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u4e3b\u8981\u7ec4\u4ef6\u548c\u7cfb\u7edf\u7684\u6570\u636e\u5904\u7406\u6d41\u7a0b\uff08\u56fe\u4e2d\u5e26\u6570\u5b57\u7684\u7ea2\u8272\u7bad\u5934\uff09\u3002</p> <p></p>"},{"location":"python/Py-100Days/Day66-75/72.Scrapy%E5%85%A5%E9%97%A8/#_1","title":"\u7ec4\u4ef6","text":"<ol> <li>Scrapy\u5f15\u64ce\uff08Engine\uff09\uff1aScrapy\u5f15\u64ce\u662f\u7528\u6765\u63a7\u5236\u6574\u4e2a\u7cfb\u7edf\u7684\u6570\u636e\u5904\u7406\u6d41\u7a0b\u3002</li> <li>\u8c03\u5ea6\u5668\uff08Scheduler\uff09\uff1a\u8c03\u5ea6\u5668\u4eceScrapy\u5f15\u64ce\u63a5\u53d7\u8bf7\u6c42\u5e76\u6392\u5e8f\u5217\u5165\u961f\u5217\uff0c\u5e76\u5728Scrapy\u5f15\u64ce\u53d1\u51fa\u8bf7\u6c42\u540e\u8fd4\u8fd8\u7ed9\u5b83\u4eec\u3002</li> <li>\u4e0b\u8f7d\u5668\uff08Downloader\uff09\uff1a\u4e0b\u8f7d\u5668\u7684\u4e3b\u8981\u804c\u8d23\u662f\u6293\u53d6\u7f51\u9875\u5e76\u5c06\u7f51\u9875\u5185\u5bb9\u8fd4\u8fd8\u7ed9\u8718\u86db\uff08Spiders\uff09\u3002</li> <li>\u8718\u86db\uff08Spiders\uff09\uff1a\u8718\u86db\u662f\u6709Scrapy\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u7528\u6765\u89e3\u6790\u7f51\u9875\u5e76\u6293\u53d6\u7279\u5b9aURL\u8fd4\u56de\u7684\u5185\u5bb9\u7684\u7c7b\uff0c\u6bcf\u4e2a\u8718\u86db\u90fd\u80fd\u5904\u7406\u4e00\u4e2a\u57df\u540d\u6216\u4e00\u7ec4\u57df\u540d\uff0c\u7b80\u5355\u7684\u8bf4\u5c31\u662f\u7528\u6765\u5b9a\u4e49\u7279\u5b9a\u7f51\u7ad9\u7684\u6293\u53d6\u548c\u89e3\u6790\u89c4\u5219\u3002</li> <li>\u6761\u76ee\u7ba1\u9053\uff08Item Pipeline\uff09\uff1a\u6761\u76ee\u7ba1\u9053\u7684\u4e3b\u8981\u8d23\u4efb\u662f\u8d1f\u8d23\u5904\u7406\u6709\u8718\u86db\u4ece\u7f51\u9875\u4e2d\u62bd\u53d6\u7684\u6570\u636e\u6761\u76ee\uff0c\u5b83\u7684\u4e3b\u8981\u4efb\u52a1\u662f\u6e05\u7406\u3001\u9a8c\u8bc1\u548c\u5b58\u50a8\u6570\u636e\u3002\u5f53\u9875\u9762\u88ab\u8718\u86db\u89e3\u6790\u540e\uff0c\u5c06\u88ab\u53d1\u9001\u5230\u6761\u76ee\u7ba1\u9053\uff0c\u5e76\u7ecf\u8fc7\u51e0\u4e2a\u7279\u5b9a\u7684\u6b21\u5e8f\u5904\u7406\u6570\u636e\u3002\u6bcf\u4e2a\u6761\u76ee\u7ba1\u9053\u7ec4\u4ef6\u90fd\u662f\u4e00\u4e2aPython\u7c7b\uff0c\u5b83\u4eec\u83b7\u53d6\u4e86\u6570\u636e\u6761\u76ee\u5e76\u6267\u884c\u5bf9\u6570\u636e\u6761\u76ee\u8fdb\u884c\u5904\u7406\u7684\u65b9\u6cd5\uff0c\u540c\u65f6\u8fd8\u9700\u8981\u786e\u5b9a\u662f\u5426\u9700\u8981\u5728\u6761\u76ee\u7ba1\u9053\u4e2d\u7ee7\u7eed\u6267\u884c\u4e0b\u4e00\u6b65\u6216\u662f\u76f4\u63a5\u4e22\u5f03\u6389\u4e0d\u5904\u7406\u3002\u6761\u76ee\u7ba1\u9053\u901a\u5e38\u6267\u884c\u7684\u4efb\u52a1\u6709\uff1a\u6e05\u7406HTML\u6570\u636e\u3001\u9a8c\u8bc1\u89e3\u6790\u5230\u7684\u6570\u636e\uff08\u68c0\u67e5\u6761\u76ee\u662f\u5426\u5305\u542b\u5fc5\u8981\u7684\u5b57\u6bb5\uff09\u3001\u68c0\u67e5\u662f\u4e0d\u662f\u91cd\u590d\u6570\u636e\uff08\u5982\u679c\u91cd\u590d\u5c31\u4e22\u5f03\uff09\u3001\u5c06\u89e3\u6790\u5230\u7684\u6570\u636e\u5b58\u50a8\u5230\u6570\u636e\u5e93\uff08\u5173\u7cfb\u578b\u6570\u636e\u5e93\u6216NoSQL\u6570\u636e\u5e93\uff09\u4e2d\u3002</li> <li>\u4e2d\u95f4\u4ef6\uff08Middlewares\uff09\uff1a\u4e2d\u95f4\u4ef6\u662f\u4ecb\u4e8eScrapy\u5f15\u64ce\u548c\u5176\u4ed6\u7ec4\u4ef6\u4e4b\u95f4\u7684\u4e00\u4e2a\u94a9\u5b50\u6846\u67b6\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u63d0\u4f9b\u81ea\u5b9a\u4e49\u7684\u4ee3\u7801\u6765\u62d3\u5c55Scrapy\u7684\u529f\u80fd\uff0c\u5305\u62ec\u4e0b\u8f7d\u5668\u4e2d\u95f4\u4ef6\u548c\u8718\u86db\u4e2d\u95f4\u4ef6\u3002</li> </ol>"},{"location":"python/Py-100Days/Day66-75/72.Scrapy%E5%85%A5%E9%97%A8/#_2","title":"\u6570\u636e\u5904\u7406\u6d41\u7a0b","text":"<p>Scrapy\u7684\u6574\u4e2a\u6570\u636e\u5904\u7406\u6d41\u7a0b\u7531Scrapy\u5f15\u64ce\u8fdb\u884c\u63a7\u5236\uff0c\u901a\u5e38\u7684\u8fd0\u8f6c\u6d41\u7a0b\u5305\u62ec\u4ee5\u4e0b\u7684\u6b65\u9aa4\uff1a</p> <ol> <li> <p>\u5f15\u64ce\u8be2\u95ee\u8718\u86db\u9700\u8981\u5904\u7406\u54ea\u4e2a\u7f51\u7ad9\uff0c\u5e76\u8ba9\u8718\u86db\u5c06\u7b2c\u4e00\u4e2a\u9700\u8981\u5904\u7406\u7684URL\u4ea4\u7ed9\u5b83\u3002</p> </li> <li> <p>\u5f15\u64ce\u8ba9\u8c03\u5ea6\u5668\u5c06\u9700\u8981\u5904\u7406\u7684URL\u653e\u5728\u961f\u5217\u4e2d\u3002</p> </li> <li> <p>\u5f15\u64ce\u4ece\u8c03\u5ea6\u90a3\u83b7\u53d6\u63a5\u4e0b\u6765\u8fdb\u884c\u722c\u53d6\u7684\u9875\u9762\u3002</p> </li> <li> <p>\u8c03\u5ea6\u5c06\u4e0b\u4e00\u4e2a\u722c\u53d6\u7684URL\u8fd4\u56de\u7ed9\u5f15\u64ce\uff0c\u5f15\u64ce\u5c06\u5b83\u901a\u8fc7\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\u53d1\u9001\u5230\u4e0b\u8f7d\u5668\u3002</p> </li> <li> <p>\u5f53\u7f51\u9875\u88ab\u4e0b\u8f7d\u5668\u4e0b\u8f7d\u5b8c\u6210\u4ee5\u540e\uff0c\u54cd\u5e94\u5185\u5bb9\u901a\u8fc7\u4e0b\u8f7d\u4e2d\u95f4\u4ef6\u88ab\u53d1\u9001\u5230\u5f15\u64ce\uff1b\u5982\u679c\u4e0b\u8f7d\u5931\u8d25\u4e86\uff0c\u5f15\u64ce\u4f1a\u901a\u77e5\u8c03\u5ea6\u5668\u8bb0\u5f55\u8fd9\u4e2aURL\uff0c\u5f85\u4f1a\u518d\u91cd\u65b0\u4e0b\u8f7d\u3002</p> </li> <li> <p>\u5f15\u64ce\u6536\u5230\u4e0b\u8f7d\u5668\u7684\u54cd\u5e94\u5e76\u5c06\u5b83\u901a\u8fc7\u8718\u86db\u4e2d\u95f4\u4ef6\u53d1\u9001\u5230\u8718\u86db\u8fdb\u884c\u5904\u7406\u3002</p> </li> <li> <p>\u8718\u86db\u5904\u7406\u54cd\u5e94\u5e76\u8fd4\u56de\u722c\u53d6\u5230\u7684\u6570\u636e\u6761\u76ee\uff0c\u6b64\u5916\u8fd8\u8981\u5c06\u9700\u8981\u8ddf\u8fdb\u7684\u65b0\u7684URL\u53d1\u9001\u7ed9\u5f15\u64ce\u3002</p> </li> <li> <p>\u5f15\u64ce\u5c06\u6293\u53d6\u5230\u7684\u6570\u636e\u6761\u76ee\u9001\u5165\u6761\u76ee\u7ba1\u9053\uff0c\u628a\u65b0\u7684URL\u53d1\u9001\u7ed9\u8c03\u5ea6\u5668\u653e\u5165\u961f\u5217\u4e2d\u3002</p> </li> </ol> <p>\u4e0a\u8ff0\u64cd\u4f5c\u4e2d\u76842-8\u6b65\u4f1a\u4e00\u76f4\u91cd\u590d\u76f4\u5230\u8c03\u5ea6\u5668\u4e2d\u6ca1\u6709\u9700\u8981\u8bf7\u6c42\u7684URL\uff0c\u722c\u866b\u505c\u6b62\u5de5\u4f5c\u3002</p>"},{"location":"python/Py-100Days/Day66-75/72.Scrapy%E5%85%A5%E9%97%A8/#scrapy_2","title":"\u5b89\u88c5\u548c\u4f7f\u7528Scrapy","text":"<p>\u53ef\u4ee5\u5148\u521b\u5efa\u865a\u62df\u73af\u5883\u5e76\u5728\u865a\u62df\u73af\u5883\u4e0b\u4f7f\u7528pip\u5b89\u88c5scrapy\u3002</p> <p>\u9879\u76ee\u7684\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <pre><code>(venv) $ tree\n.\n|____ scrapy.cfg\n|____ douban\n| |____ spiders\n| | |____ __init__.py\n| | |____ __pycache__\n| |____ __init__.py\n| |____ __pycache__\n| |____ middlewares.py\n| |____ settings.py\n| |____ items.py\n| |____ pipelines.py\n</code></pre> <p>\u8bf4\u660e\uff1aWindows\u7cfb\u7edf\u7684\u547d\u4ee4\u884c\u63d0\u793a\u7b26\u4e0b\u6709tree\u547d\u4ee4\uff0c\u4f46\u662fLinux\u548cMacOS\u7684\u7ec8\u7aef\u662f\u6ca1\u6709tree\u547d\u4ee4\u7684\uff0c\u53ef\u4ee5\u7528\u4e0b\u9762\u7ed9\u51fa\u7684\u547d\u4ee4\u6765\u5b9a\u4e49tree\u547d\u4ee4\uff0c\u5176\u5b9e\u662f\u5bf9find\u547d\u4ee4\u8fdb\u884c\u4e86\u5b9a\u5236\u5e76\u522b\u540d\u4e3atree\u3002 </p> <p><code>alias tree=\"find . -print | sed -e 's;[^/]*/;|____;g;s;____|; |;g'\"</code></p> <p>Linux\u7cfb\u7edf\u4e5f\u53ef\u4ee5\u901a\u8fc7yum\u6216\u5176\u4ed6\u7684\u5305\u7ba1\u7406\u5de5\u5177\u6765\u5b89\u88c5tree\u3002</p> <p><code>yum install tree</code></p> <p>\u6839\u636e\u521a\u624d\u63cf\u8ff0\u7684\u6570\u636e\u5904\u7406\u6d41\u7a0b\uff0c\u57fa\u672c\u4e0a\u9700\u8981\u6211\u4eec\u505a\u7684\u6709\u4ee5\u4e0b\u51e0\u4ef6\u4e8b\u60c5\uff1a</p> <ol> <li>\u5728items.py\u6587\u4ef6\u4e2d\u5b9a\u4e49\u5b57\u6bb5\uff0c\u8fd9\u4e9b\u5b57\u6bb5\u7528\u6765\u4fdd\u5b58\u6570\u636e\uff0c\u65b9\u4fbf\u540e\u7eed\u7684\u64cd\u4f5c\u3002</li> </ol> <pre><code># -*- coding: utf-8 -*-\n\n# Define here the models for your scraped items\n#\n# See documentation in:\n# https://doc.scrapy.org/en/latest/topics/items.html\n\nimport scrapy\n\n\nclass DoubanItem(scrapy.Item):\n\n    name = scrapy.Field()\n    year = scrapy.Field()\n    score = scrapy.Field()\n    director = scrapy.Field()\n    classification = scrapy.Field()\n    actor = scrapy.Field()\n</code></pre> <ol> <li>\u5728spiders\u6587\u4ef6\u5939\u4e2d\u7f16\u5199\u81ea\u5df1\u7684\u722c\u866b\u3002</li> </ol> <pre><code>(venv) $ scrapy genspider movie movie.douban.com --template=crawl\n</code></pre> <pre><code># -*- coding: utf-8 -*-\nimport scrapy\nfrom scrapy.selector import Selector\nfrom scrapy.linkextractors import LinkExtractor\nfrom scrapy.spiders import CrawlSpider, Rule\n\nfrom douban.items import DoubanItem\n\n\nclass MovieSpider(CrawlSpider):\n    name = 'movie'\n    allowed_domains = ['movie.douban.com']\n    start_urls = ['https://movie.douban.com/top250']\n    rules = (\n        Rule(LinkExtractor(allow=(r'https://movie.douban.com/top250\\?start=\\d+.*'))),\n        Rule(LinkExtractor(allow=(r'https://movie.douban.com/subject/\\d+')), callback='parse_item'),\n    )\n\n    def parse_item(self, response):\n        sel = Selector(response)\n        item = DoubanItem()\n        item['name']=sel.xpath('//*[@id=\"content\"]/h1/span[1]/text()').extract()\n        item['year']=sel.xpath('//*[@id=\"content\"]/h1/span[2]/text()').re(r'\\((\\d+)\\)')\n        item['score']=sel.xpath('//*[@id=\"interest_sectl\"]/div/p[1]/strong/text()').extract()\n        item['director']=sel.xpath('//*[@id=\"info\"]/span[1]/a/text()').extract()\n        item['classification']= sel.xpath('//span[@property=\"v:genre\"]/text()').extract()\n        item['actor']= sel.xpath('//*[@id=\"info\"]/span[3]/a[1]/text()').extract()\n        return item\n</code></pre> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u6211\u4eec\u901a\u8fc7Scrapy\u63d0\u4f9b\u7684\u722c\u866b\u6a21\u677f\u521b\u5efa\u4e86Spider\uff0c\u5176\u4e2d\u7684rules\u4e2d\u7684LinkExtractor\u5bf9\u8c61\u4f1a\u81ea\u52a8\u5b8c\u6210\u5bf9\u65b0\u7684\u94fe\u63a5\u7684\u89e3\u6790\uff0c\u8be5\u5bf9\u8c61\u4e2d\u6709\u4e00\u4e2a\u540d\u4e3aextract_link\u7684\u56de\u8c03\u65b9\u6cd5\u3002Scrapy\u652f\u6301\u7528XPath\u8bed\u6cd5\u548cCSS\u9009\u62e9\u5668\u8fdb\u884c\u6570\u636e\u89e3\u6790\uff0c\u5bf9\u5e94\u7684\u65b9\u6cd5\u5206\u522b\u662fxpath\u548ccss\uff0c\u4e0a\u9762\u6211\u4eec\u4f7f\u7528\u4e86XPath\u8bed\u6cd5\u5bf9\u9875\u9762\u8fdb\u884c\u89e3\u6790\uff0c\u5982\u679c\u4e0d\u719f\u6089XPath\u8bed\u6cd5\u53ef\u4ee5\u770b\u770b\u540e\u9762\u7684\u8865\u5145\u8bf4\u660e\u3002</p> <p>\u5230\u8fd9\u91cc\uff0c\u6211\u4eec\u5df2\u7ecf\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u547d\u4ee4\u8ba9\u722c\u866b\u8fd0\u8f6c\u8d77\u6765\u3002</p> <pre><code>(venv)$ scrapy crawl movie\n</code></pre> <p>\u53ef\u4ee5\u5728\u63a7\u5236\u53f0\u770b\u5230\u722c\u53d6\u5230\u7684\u6570\u636e\uff0c\u5982\u679c\u60f3\u5c06\u8fd9\u4e9b\u6570\u636e\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7<code>-o</code>\u53c2\u6570\u6765\u6307\u5b9a\u6587\u4ef6\u540d\uff0cScrapy\u652f\u6301\u6211\u4eec\u5c06\u722c\u53d6\u5230\u7684\u6570\u636e\u5bfc\u51fa\u6210JSON\u3001CSV\u3001XML\u3001pickle\u3001marshal\u7b49\u683c\u5f0f\u3002</p> <pre><code>(venv)$ scrapy crawl moive -o result.json\n</code></pre> <ol> <li>\u5728pipelines.py\u4e2d\u5b8c\u6210\u5bf9\u6570\u636e\u8fdb\u884c\u6301\u4e45\u5316\u7684\u64cd\u4f5c\u3002</li> </ol> <p><pre><code># -*- coding: utf-8 -*-\n\n# Define your item pipelines here\n#\n# Don't forget to add your pipeline to the ITEM_PIPELINES setting\n# See: https://doc.scrapy.org/en/latest/topics/item-pipeline.html\nimport pymongo\n\nfrom scrapy.exceptions import DropItem\nfrom scrapy.conf import settings\nfrom scrapy import log\n\n\nclass DoubanPipeline(object):\n\n    def __init__(self):\n        connection = pymongo.MongoClient(settings['MONGODB_SERVER'], settings['MONGODB_PORT'])\n        db = connection[settings['MONGODB_DB']]\n        self.collection = db[settings['MONGODB_COLLECTION']]\n\n    def process_item(self, item, spider):\n        #Remove invalid data\n        valid = True\n        for data in item:\n          if not data:\n            valid = False\n            raise DropItem(\"Missing %s of blogpost from %s\" %(data, item['url']))\n        if valid:\n        #Insert data into database\n            new_moive=[{\n                \"name\":item['name'][0],\n                \"year\":item['year'][0],\n                \"score\":item['score'],\n                \"director\":item['director'],\n                \"classification\":item['classification'],\n                \"actor\":item['actor']\n            }]\n            self.collection.insert(new_moive)\n            log.msg(\"Item wrote to MongoDB database %s/%s\" %\n            (settings['MONGODB_DB'], settings['MONGODB_COLLECTION']),\n            level=log.DEBUG, spider=spider) \n        return item\n</code></pre>    \u5229\u7528Pipeline\u6211\u4eec\u53ef\u4ee5\u5b8c\u6210\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <ul> <li>\u6e05\u7406HTML\u6570\u636e\uff0c\u9a8c\u8bc1\u722c\u53d6\u7684\u6570\u636e\u3002</li> <li>\u4e22\u5f03\u91cd\u590d\u7684\u4e0d\u5fc5\u8981\u7684\u5185\u5bb9\u3002</li> <li> <p>\u5c06\u722c\u53d6\u7684\u7ed3\u679c\u8fdb\u884c\u6301\u4e45\u5316\u64cd\u4f5c\u3002</p> </li> <li> <p>\u4fee\u6539settings.py\u6587\u4ef6\u5bf9\u9879\u76ee\u8fdb\u884c\u914d\u7f6e\u3002</p> </li> </ul> <pre><code># -*- coding: utf-8 -*-\n\n# Scrapy settings for douban project\n#\n# For simplicity, this file contains only settings considered important or\n# commonly used. You can find more settings consulting the documentation:\n#\n#     https://doc.scrapy.org/en/latest/topics/settings.html\n#     https://doc.scrapy.org/en/latest/topics/downloader-middleware.html\n#     https://doc.scrapy.org/en/latest/topics/spider-middleware.html\n\nBOT_NAME = 'douban'\n\nSPIDER_MODULES = ['douban.spiders']\nNEWSPIDER_MODULE = 'douban.spiders'\n\n\n# Crawl responsibly by identifying yourself (and your website) on the user-agent\nUSER_AGENT = 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_3) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.54 Safari/536.5'\n\n# Obey robots.txt rules\nROBOTSTXT_OBEY = True\n\n# Configure maximum concurrent requests performed by Scrapy (default: 16)\n# CONCURRENT_REQUESTS = 32\n\n# Configure a delay for requests for the same website (default: 0)\n# See https://doc.scrapy.org/en/latest/topics/settings.html#download-delay\n# See also autothrottle settings and docs\nDOWNLOAD_DELAY = 3\nRANDOMIZE_DOWNLOAD_DELAY = True\n# The download delay setting will honor only one of:\n# CONCURRENT_REQUESTS_PER_DOMAIN = 16\n# CONCURRENT_REQUESTS_PER_IP = 16\n\n# Disable cookies (enabled by default)\nCOOKIES_ENABLED = True\n\nMONGODB_SERVER = '120.77.222.217'\nMONGODB_PORT = 27017\nMONGODB_DB = 'douban'\nMONGODB_COLLECTION = 'movie'\n\n# Disable Telnet Console (enabled by default)\n# TELNETCONSOLE_ENABLED = False\n\n# Override the default request headers:\n# DEFAULT_REQUEST_HEADERS = {\n#   'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',\n#   'Accept-Language': 'en',\n# }\n\n# Enable or disable spider middlewares\n# See https://doc.scrapy.org/en/latest/topics/spider-middleware.html\n# SPIDER_MIDDLEWARES = {\n#    'douban.middlewares.DoubanSpiderMiddleware': 543,\n# }\n\n# Enable or disable downloader middlewares\n# See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html\n# DOWNLOADER_MIDDLEWARES = {\n#    'douban.middlewares.DoubanDownloaderMiddleware': 543,\n# }\n\n# Enable or disable extensions\n# See https://doc.scrapy.org/en/latest/topics/extensions.html\n# EXTENSIONS = {\n#    'scrapy.extensions.telnet.TelnetConsole': None,\n# }\n\n# Configure item pipelines\n# See https://doc.scrapy.org/en/latest/topics/item-pipeline.html\nITEM_PIPELINES = {\n    'douban.pipelines.DoubanPipeline': 400,\n}\n\nLOG_LEVEL = 'DEBUG'\n\n# Enable and configure the AutoThrottle extension (disabled by default)\n# See https://doc.scrapy.org/en/latest/topics/autothrottle.html\n#AUTOTHROTTLE_ENABLED = True\n# The initial download delay\n#AUTOTHROTTLE_START_DELAY = 5\n# The maximum download delay to be set in case of high latencies\n#AUTOTHROTTLE_MAX_DELAY = 60\n# The average number of requests Scrapy should be sending in parallel to\n# each remote server\n#AUTOTHROTTLE_TARGET_CONCURRENCY = 1.0\n# Enable showing throttling stats for every response received:\n#AUTOTHROTTLE_DEBUG = False\n\n# Enable and configure HTTP caching (disabled by default)\n# See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html#httpcache-middleware-settings\nHTTPCACHE_ENABLED = True\nHTTPCACHE_EXPIRATION_SECS = 0\nHTTPCACHE_DIR = 'httpcache'\nHTTPCACHE_IGNORE_HTTP_CODES = []\nHTTPCACHE_STORAGE = 'scrapy.extensions.httpcache.FilesystemCacheStorage'\n</code></pre>"},{"location":"python/Py-100Days/Day66-75/72.Scrapy%E5%85%A5%E9%97%A8/#_3","title":"\u8865\u5145\u8bf4\u660e","text":""},{"location":"python/Py-100Days/Day66-75/72.Scrapy%E5%85%A5%E9%97%A8/#xpath","title":"XPath\u8bed\u6cd5","text":"<ol> <li> <p>XPath\u8def\u5f84\u8868\u8fbe\u5f0f\uff1aXPath\u4f7f\u7528\u8def\u5f84\u8868\u8fbe\u5f0f\u6765\u9009\u53d6XML\u6587\u6863\u4e2d\u7684\u8282\u70b9\u6216\u8005\u8282\u70b9\u96c6\u3002</p> </li> <li> <p>XPath\u8282\u70b9\uff1a\u5143\u7d20\u3001\u5c5e\u6027\u3001\u6587\u672c\u3001\u547d\u540d\u7a7a\u95f4\u3001\u5904\u7406\u6307\u4ee4\u3001\u6ce8\u91ca\u3001\u6839\u8282\u70b9\u3002</p> </li> <li> <p>XPath\u8bed\u6cd5\u3002\uff08\u6ce8\uff1a\u4e0b\u9762\u7684\u4f8b\u5b50\u6765\u81ea\u4e8e\u83dc\u9e1f\u6559\u7a0b\u7f51\u7ad9\u7684XPath\u6559\u7a0b\u3002)</p> </li> </ol> <p>XML\u6587\u4ef6\u3002</p> <p><pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;bookstore&gt;\n\n    &lt;book&gt;\n      &lt;title lang=\"eng\"&gt;Harry Potter&lt;/title&gt;\n      &lt;price&gt;29.99&lt;/price&gt;\n    &lt;/book&gt;\n\n    &lt;book&gt;\n      &lt;title lang=\"eng\"&gt;Learning XML&lt;/title&gt;\n      &lt;price&gt;39.95&lt;/price&gt;\n    &lt;/book&gt;\n\n&lt;/bookstore&gt;\n</code></pre>    XPath\u8bed\u6cd5\u3002</p> \u8def\u5f84\u8868\u8fbe\u5f0f \u7ed3\u679c bookstore \u9009\u53d6 bookstore \u5143\u7d20\u7684\u6240\u6709\u5b50\u8282\u70b9\u3002 /bookstore \u9009\u53d6\u6839\u5143\u7d20 bookstore\u3002\u6ce8\u91ca\uff1a\u5047\u5982\u8def\u5f84\u8d77\u59cb\u4e8e\u6b63\u659c\u6760( / )\uff0c\u5219\u6b64\u8def\u5f84\u59cb\u7ec8\u4ee3\u8868\u5230\u67d0\u5143\u7d20\u7684\u7edd\u5bf9\u8def\u5f84\uff01 bookstore/book \u9009\u53d6\u5c5e\u4e8e bookstore \u7684\u5b50\u5143\u7d20\u7684\u6240\u6709 book \u5143\u7d20\u3002 //book \u9009\u53d6\u6240\u6709 book \u5b50\u5143\u7d20\uff0c\u800c\u4e0d\u7ba1\u5b83\u4eec\u5728\u6587\u6863\u4e2d\u7684\u4f4d\u7f6e\u3002 bookstore//book \u9009\u62e9\u5c5e\u4e8e bookstore \u5143\u7d20\u7684\u540e\u4ee3\u7684\u6240\u6709 book \u5143\u7d20\uff0c\u800c\u4e0d\u7ba1\u5b83\u4eec\u4f4d\u4e8e bookstore \u4e4b\u4e0b\u7684\u4ec0\u4e48\u4f4d\u7f6e\u3002 //@lang \u9009\u53d6\u540d\u4e3a lang \u7684\u6240\u6709\u5c5e\u6027\u3002 <p>XPath\u8c13\u8bcd\u3002</p> \u8def\u5f84\u8868\u8fbe\u5f0f \u7ed3\u679c /bookstore/book[1] \u9009\u53d6\u5c5e\u4e8e bookstore \u5b50\u5143\u7d20\u7684\u7b2c\u4e00\u4e2a book \u5143\u7d20\u3002 /bookstore/book[last()] \u9009\u53d6\u5c5e\u4e8e bookstore \u5b50\u5143\u7d20\u7684\u6700\u540e\u4e00\u4e2a book \u5143\u7d20\u3002 /bookstore/book[last()-1] \u9009\u53d6\u5c5e\u4e8e bookstore \u5b50\u5143\u7d20\u7684\u5012\u6570\u7b2c\u4e8c\u4e2a book \u5143\u7d20\u3002 /bookstore/book[position()&lt;3] \u9009\u53d6\u6700\u524d\u9762\u7684\u4e24\u4e2a\u5c5e\u4e8e bookstore \u5143\u7d20\u7684\u5b50\u5143\u7d20\u7684 book \u5143\u7d20\u3002 //title[@lang] \u9009\u53d6\u6240\u6709\u62e5\u6709\u540d\u4e3a lang \u7684\u5c5e\u6027\u7684 title \u5143\u7d20\u3002 //title[@lang='eng'] \u9009\u53d6\u6240\u6709 title \u5143\u7d20\uff0c\u4e14\u8fd9\u4e9b\u5143\u7d20\u62e5\u6709\u503c\u4e3a eng \u7684 lang \u5c5e\u6027\u3002 /bookstore/book[price&gt;35.00] \u9009\u53d6 bookstore \u5143\u7d20\u7684\u6240\u6709 book \u5143\u7d20\uff0c\u4e14\u5176\u4e2d\u7684 price \u5143\u7d20\u7684\u503c\u987b\u5927\u4e8e 35.00\u3002 /bookstore/book[price&gt;35.00]/title \u9009\u53d6 bookstore \u5143\u7d20\u4e2d\u7684 book \u5143\u7d20\u7684\u6240\u6709 title \u5143\u7d20\uff0c\u4e14\u5176\u4e2d\u7684 price \u5143\u7d20\u7684\u503c\u987b\u5927\u4e8e 35.00\u3002 <p>\u901a\u914d\u7b26\u7528\u6cd5\u3002</p> \u8def\u5f84\u8868\u8fbe\u5f0f \u7ed3\u679c /bookstore/* \u9009\u53d6 bookstore \u5143\u7d20\u7684\u6240\u6709\u5b50\u5143\u7d20\u3002 //* \u9009\u53d6\u6587\u6863\u4e2d\u7684\u6240\u6709\u5143\u7d20\u3002 //title[@*] \u9009\u53d6\u6240\u6709\u5e26\u6709\u5c5e\u6027\u7684 title \u5143\u7d20\u3002 <p>\u9009\u53d6\u591a\u4e2a\u8def\u5f84\u3002</p> \u8def\u5f84\u8868\u8fbe\u5f0f \u7ed3\u679c //book/title | //book/price \u9009\u53d6 book \u5143\u7d20\u7684\u6240\u6709 title \u548c price \u5143\u7d20\u3002 //title | //price \u9009\u53d6\u6587\u6863\u4e2d\u7684\u6240\u6709 title \u548c price \u5143\u7d20\u3002 /bookstore/book/title | //price \u9009\u53d6\u5c5e\u4e8e bookstore \u5143\u7d20\u7684 book \u5143\u7d20\u7684\u6240\u6709 title \u5143\u7d20\uff0c\u4ee5\u53ca\u6587\u6863\u4e2d\u6240\u6709\u7684 price \u5143\u7d20\u3002"},{"location":"python/Py-100Days/Day66-75/72.Scrapy%E5%85%A5%E9%97%A8/#chromexpath","title":"\u5728Chrome\u6d4f\u89c8\u5668\u4e2d\u67e5\u770b\u5143\u7d20XPath\u8bed\u6cd5","text":""},{"location":"python/Py-100Days/Day66-75/73.Scrapy%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8/","title":"73.Scrapy\u9ad8\u7ea7\u5e94\u7528","text":""},{"location":"python/Py-100Days/Day66-75/73.Scrapy%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8/#scrapy","title":"Scrapy\u722c\u866b\u6846\u67b6\u9ad8\u7ea7\u5e94\u7528","text":""},{"location":"python/Py-100Days/Day66-75/73.Scrapy%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8/#spider","title":"Spider\u7684\u7528\u6cd5","text":"<p>\u5728Scrapy\u6846\u67b6\u4e2d\uff0c\u6211\u4eec\u81ea\u5b9a\u4e49\u7684\u8718\u86db\u90fd\u7ee7\u627f\u81eascrapy.spiders.Spider\uff0c\u8fd9\u4e2a\u7c7b\u6709\u4e00\u7cfb\u5217\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u5177\u4f53\u5982\u4e0b\u6240\u793a\uff1a</p> <ol> <li>name\uff1a\u722c\u866b\u7684\u540d\u5b57\u3002</li> <li>allowed_domains\uff1a\u5141\u8bb8\u722c\u53d6\u7684\u57df\u540d\uff0c\u4e0d\u5728\u6b64\u8303\u56f4\u7684\u94fe\u63a5\u4e0d\u4f1a\u88ab\u8ddf\u8fdb\u722c\u53d6\u3002</li> <li>start_urls\uff1a\u8d77\u59cbURL\u5217\u8868\uff0c\u5f53\u6211\u4eec\u6ca1\u6709\u91cd\u5199start_requests()\u65b9\u6cd5\u65f6\uff0c\u5c31\u4f1a\u4ece\u8fd9\u4e2a\u5217\u8868\u5f00\u59cb\u722c\u53d6\u3002</li> <li>custom_settings\uff1a\u7528\u6765\u5b58\u653e\u8718\u86db\u4e13\u5c5e\u914d\u7f6e\u7684\u5b57\u5178\uff0c\u8fd9\u91cc\u7684\u8bbe\u7f6e\u4f1a\u8986\u76d6\u5168\u5c40\u7684\u8bbe\u7f6e\u3002</li> <li>crawler\uff1a\u7531from_crawler()\u65b9\u6cd5\u8bbe\u7f6e\u7684\u548c\u8718\u86db\u5bf9\u5e94\u7684Crawler\u5bf9\u8c61\uff0cCrawler\u5bf9\u8c61\u5305\u542b\u4e86\u5f88\u591a\u9879\u76ee\u7ec4\u4ef6\uff0c\u5229\u7528\u5b83\u6211\u4eec\u53ef\u4ee5\u83b7\u53d6\u9879\u76ee\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u5982\u8c03\u7528crawler.settings.get()\u65b9\u6cd5\u3002</li> <li>settings\uff1a\u7528\u6765\u83b7\u53d6\u722c\u866b\u5168\u5c40\u8bbe\u7f6e\u7684\u53d8\u91cf\u3002</li> <li>start_requests()\uff1a\u6b64\u65b9\u6cd5\u7528\u4e8e\u751f\u6210\u521d\u59cb\u8bf7\u6c42\uff0c\u5b83\u8fd4\u56de\u4e00\u4e2a\u53ef\u8fed\u4ee3\u5bf9\u8c61\u3002\u8be5\u65b9\u6cd5\u9ed8\u8ba4\u662f\u4f7f\u7528GET\u8bf7\u6c42\u8bbf\u95ee\u8d77\u59cbURL\uff0c\u5982\u679c\u8d77\u59cbURL\u9700\u8981\u4f7f\u7528POST\u8bf7\u6c42\u6765\u8bbf\u95ee\u5c31\u5fc5\u987b\u91cd\u5199\u8fd9\u4e2a\u65b9\u6cd5\u3002</li> <li>parse()\uff1a\u5f53Response\u6ca1\u6709\u6307\u5b9a\u56de\u8c03\u51fd\u6570\u65f6\uff0c\u8be5\u65b9\u6cd5\u5c31\u4f1a\u88ab\u8c03\u7528\uff0c\u5b83\u8d1f\u8d23\u5904\u7406Response\u5bf9\u8c61\u5e76\u8fd4\u56de\u7ed3\u679c\uff0c\u4ece\u4e2d\u63d0\u53d6\u51fa\u9700\u8981\u7684\u6570\u636e\u548c\u540e\u7eed\u7684\u8bf7\u6c42\uff0c\u8be5\u65b9\u6cd5\u9700\u8981\u8fd4\u56de\u7c7b\u578b\u4e3aRequest\u6216Item\u7684\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff08\u751f\u6210\u5668\u5f53\u524d\u4e5f\u5305\u542b\u5728\u5176\u4e2d\uff0c\u56e0\u6b64\u6839\u636e\u5b9e\u9645\u9700\u8981\u53ef\u4ee5\u7528return\u6216yield\u6765\u4ea7\u751f\u8fd4\u56de\u503c\uff09\u3002</li> <li>closed()\uff1a\u5f53\u8718\u86db\u5173\u95ed\u65f6\uff0c\u8be5\u65b9\u6cd5\u4f1a\u88ab\u8c03\u7528\uff0c\u901a\u5e38\u7528\u6765\u505a\u4e00\u4e9b\u91ca\u653e\u8d44\u6e90\u7684\u5584\u540e\u64cd\u4f5c\u3002</li> </ol>"},{"location":"python/Py-100Days/Day66-75/73.Scrapy%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8/#_1","title":"\u4e2d\u95f4\u4ef6\u7684\u5e94\u7528","text":""},{"location":"python/Py-100Days/Day66-75/73.Scrapy%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8/#_2","title":"\u4e0b\u8f7d\u4e2d\u95f4\u4ef6","text":""},{"location":"python/Py-100Days/Day66-75/73.Scrapy%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8/#_3","title":"\u8718\u86db\u4e2d\u95f4\u4ef6","text":""},{"location":"python/Py-100Days/Day66-75/73.Scrapy%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8/#scrapyselenium","title":"Scrapy\u5bf9\u63a5Selenium","text":""},{"location":"python/Py-100Days/Day66-75/73.Scrapy%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8/#scrapydocker","title":"Scrapy\u90e8\u7f72\u5230Docker","text":""},{"location":"python/Py-100Days/Day66-75/74.Scrapy%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%9E%E7%8E%B0/","title":"74.Scrapy\u5206\u5e03\u5f0f\u5b9e\u73b0","text":""},{"location":"python/Py-100Days/Day66-75/74.Scrapy%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%9E%E7%8E%B0/#scrapy","title":"Scrapy\u722c\u866b\u6846\u67b6\u5206\u5e03\u5f0f\u5b9e\u73b0","text":""},{"location":"python/Py-100Days/Day66-75/74.Scrapy%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%9E%E7%8E%B0/#_1","title":"\u5206\u5e03\u5f0f\u722c\u866b\u539f\u7406","text":""},{"location":"python/Py-100Days/Day66-75/74.Scrapy%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%9E%E7%8E%B0/#scrapy_1","title":"Scrapy\u5206\u5e03\u5f0f\u5b9e\u73b0","text":"<ol> <li>\u5b89\u88c5Scrapy-Redis\u3002</li> <li>\u914d\u7f6eRedis\u670d\u52a1\u5668\u3002</li> <li>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u3002</li> <li>SCHEDULER = 'scrapy_redis.scheduler.Scheduler'</li> <li>DUPEFILTER_CLASS = 'scrapy_redis.dupefilter.RFPDupeFilter'</li> <li>REDIS_HOST = '1.2.3.4'</li> <li>REDIS_PORT = 6379</li> <li>REDIS_PASSWORD = '1qaz2wsx'</li> <li>SCHEDULER_QUEUE_CLASS = 'scrapy_redis.queue.FifoQueue'</li> <li>SCHEDULER_PERSIST = True\uff08\u901a\u8fc7\u6301\u4e45\u5316\u652f\u6301\u63a5\u7eed\u722c\u53d6\uff09</li> <li>SCHEDULER_FLUSH_ON_START = True\uff08\u6bcf\u6b21\u542f\u52a8\u65f6\u91cd\u65b0\u722c\u53d6\uff09</li> </ol>"},{"location":"python/Py-100Days/Day66-75/74.Scrapy%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%9E%E7%8E%B0/#scrapyd","title":"Scrapyd\u5206\u5e03\u5f0f\u90e8\u7f72","text":"<ol> <li>\u5b89\u88c5Scrapyd</li> <li>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6</li> <li>mkdir /etc/scrapyd</li> <li>vim /etc/scrapyd/scrapyd.conf</li> <li>\u5b89\u88c5Scrapyd-Client</li> <li>\u5c06\u9879\u76ee\u6253\u5305\u6210Egg\u6587\u4ef6\u3002</li> <li>\u5c06\u6253\u5305\u7684Egg\u6587\u4ef6\u901a\u8fc7addversion.json\u63a5\u53e3\u90e8\u7f72\u5230Scrapyd\u4e0a\u3002</li> </ol>"},{"location":"python/Py-100Days/Day66-75/75.%E7%88%AC%E8%99%AB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/","title":"75.\u722c\u866b\u9879\u76ee\u5b9e\u6218","text":""},{"location":"python/Py-100Days/Day66-75/75.%E7%88%AC%E8%99%AB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/#_1","title":"\u722c\u866b\u9879\u76ee\u5b9e\u6218","text":""},{"location":"python/Py-100Days/Day76-90/76.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/","title":"76.\u673a\u5668\u5b66\u4e60\u57fa\u7840","text":""},{"location":"python/Py-100Days/Day76-90/76.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/#_1","title":"\u673a\u5668\u5b66\u4e60\u57fa\u7840","text":"<p>\u6240\u8c13\u201c\u673a\u5668\u5b66\u4e60\u201d\u5c31\u662f\u5229\u7528\u8ba1\u7b97\u673a\u5c06\u7eb7\u7e41\u590d\u6742\u7684\u6570\u636e\u5904\u7406\u6210\u6709\u7528\u7684\u4fe1\u606f\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u53d1\u6398\u51fa\u6570\u636e\u5e26\u6765\u7684\u610f\u4e49\u4ee5\u53ca\u9690\u85cf\u5728\u6570\u636e\u80cc\u540e\u7684\u89c4\u5f8b\u3002\u73b0\u5982\u4eca\uff0c\u201c\u673a\u5668\u5b66\u4e60\u201d\u548c\u201c\u5927\u6570\u636e\u201d\u53ef\u4ee5\u8bf4\u662fIT\u884c\u4e1a\u4e2d\u6700\u70ed\u70b9\u7684\u4e24\u4e2a\u8bcd\u6c47\uff0c\u800c\u65e0\u8bba\u662f\u201c\u673a\u5668\u5b66\u4e60\u201d\u8fd8\u662f\u201c\u5927\u6570\u636e\u201d\u6700\u7ec8\u8981\u89e3\u51b3\u7684\u95ee\u9898\u672c\u8d28\u4e0a\u662f\u4e00\u6837\u7684\uff0c\u7528\u6700\u4e3a\u76f4\u767d\u7684\u8bdd\u6765\u8bf4\u5c31\u662f\u7528\u73b0\u6709\u7684\u6570\u636e\u53bb\u9884\u6d4b\u5c06\u6765\u7684\u72b6\u51b5\u3002</p> <p>\u6309\u7167\u95ee\u9898\u7684\u201c\u8f93\u5165\u201d\u548c\u201c\u8f93\u51fa\u201d\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u7528\u8ba1\u7b97\u673a\u89e3\u51b3\u7684\u95ee\u9898\u5206\u4e3a\u56db\u5927\u7c7b\uff1a</p> <ol> <li>\u8f93\u5165\u7684\u4fe1\u606f\u662f\u7cbe\u786e\u7684\uff0c\u8981\u6c42\u8f93\u51fa\u6700\u4f18\u89e3\u3002</li> <li>\u8f93\u5165\u7684\u4fe1\u606f\u662f\u7cbe\u786e\u7684\uff0c\u65e0\u6cd5\u627e\u5230\u6700\u4f18\u89e3\u3002</li> <li>\u8f93\u5165\u7684\u4fe1\u606f\u662f\u6a21\u7cca\u7684\uff0c\u8981\u6c42\u8f93\u51fa\u6700\u4f18\u89e3\u3002</li> <li>\u8f93\u5165\u7684\u4fe1\u606f\u662f\u6a21\u7cca\u7684\uff0c\u65e0\u6cd5\u627e\u5230\u6700\u4f18\u89e3\u3002</li> </ol> <p>\u5728\u4e0a\u9762\u7684\u56db\u5927\u7c7b\u95ee\u9898\u4e2d\uff0c\u7b2c1\u7c7b\u95ee\u9898\u662f\u8ba1\u7b97\u673a\u6700\u64c5\u957f\u89e3\u51b3\u7684\uff0c\u8fd9\u7c7b\u95ee\u9898\u5176\u5b9e\u5c31\u662f\u201c\u6570\u503c\u8ba1\u7b97\u201d\u548c\u201c\u903b\u8f91\u63a8\u7406\u201d\u65b9\u9762\u7684\u95ee\u9898\uff0c\u800c\u4f20\u7edf\u610f\u4e49\u4e0a\u7684\u4eba\u5de5\u667a\u80fd\u4e5f\u5c31\u662f\u5229\u7528\u903b\u8f91\u63a8\u7406\u6765\u89e3\u51b3\u95ee\u9898\uff08\u5982\u65e9\u671f\u7684\u201c\u4eba\u673a\u5bf9\u5f08\u201d\uff09\u3002\u4e00\u76f4\u4ee5\u6765\uff0c\u6211\u4eec\u90fd\u4e60\u60ef\u4e8e\u5c06\u8ba1\u7b97\u673a\u79f0\u4e3a\u201c\u7535\u8111\u201d\uff0c\u800c\u57fa\u4e8e\u201c\u51af\u8bfa\u4f9d\u66fc\u201d\u4f53\u7cfb\u7ed3\u6784\u7684\u201c\u7535\u8111\u201d\u5b9e\u9645\u4e0a\u53ea\u662f\u5b9e\u73b0\u4e86\u201c\u4eba\u8111\u201d\u7406\u6027\u601d\u7ef4\u8fd9\u90e8\u5206\u7684\u529f\u80fd\uff0c\u800c\u4e14\u5728\u8fd9\u4e00\u70b9\u4e0a\u201c\u7535\u8111\u201d\u901a\u5e38\u662f\u4f18\u4e8e\u201c\u4eba\u8111\u201d\u7684\uff0c\u800c\u201c\u4eba\u8111\u201d\u5728\u5904\u7406\u8f93\u5165\u6a21\u7cca\u4fe1\u606f\u65f6\u8868\u73b0\u51fa\u6765\u7684\u5f3a\u5927\u7684\u5904\u7406\u80fd\u529b\uff0c\u5728\u4eca\u5929\u770b\u6765\u4e5f\u4e0d\u662f\u201c\u7535\u8111\u201d\u53ef\u4ee5\u5b8c\u5168\u4f01\u53ca\u7684\u3002\u6240\u4ee5\u6211\u4eec\u7814\u7a76\u4eba\u5de5\u667a\u80fd\u4e5f\u597d\uff0c\u7814\u7a76\u673a\u5668\u5b66\u4e60\u4e5f\u597d\uff0c\u662f\u5e0c\u671b\u8f93\u5165\u6a21\u7cca\u4fe1\u606f\u65f6\uff0c\u8ba1\u7b97\u673a\u80fd\u591f\u7ed9\u51fa\u6ee1\u610f\u7684\u751a\u81f3\u662f\u6700\u4f18\u7684\u7b54\u6848\u3002</p> <p>\u81f3\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u7ed9\u201c\u673a\u5668\u5b66\u4e60\u201d\u4e0b\u4e00\u4e2a\u5b9a\u4e49\uff1a\u673a\u5668\u5b66\u4e60\u662f\u4e00\u95e8\u4e13\u95e8\u7814\u7a76\u8ba1\u7b97\u673a\u600e\u6837\u6a21\u62df\u6216\u5b9e\u73b0\u4eba\u7c7b\u7684\u5b66\u4e60\u884c\u4e3a\uff0c\u4ee5\u83b7\u53d6\u65b0\u7684\u77e5\u8bc6\u6216\u6280\u80fd\uff0c\u91cd\u65b0\u7ec4\u7ec7\u5df2\u6709\u7684\u77e5\u8bc6\u7ed3\u6784\u4f7f\u4e4b\u4e0d\u65ad\u6539\u5584\u81ea\u8eab\u6027\u80fd\u7684\u5b66\u79d1\u3002\u673a\u5668\u5b66\u4e60\u76ee\u524d\u5df2\u7ecf\u5e7f\u6cdb\u7684\u5e94\u7528\u5230\u751f\u4ea7\u751f\u6d3b\u7684\u5404\u4e2a\u9886\u57df\uff0c\u4ee5\u4e0b\u5217\u4e3e\u4e86\u4e00\u4e9b\u7ecf\u5178\u7684\u573a\u666f\uff1a</p> <ol> <li>\u641c\u7d22\u5f15\u64ce\uff1a\u6839\u636e\u641c\u7d22\u548c\u4f7f\u7528\u4e60\u60ef\uff0c\u4f18\u5316\u4e0b\u4e00\u6b21\u641c\u7d22\u7684\u7ed3\u679c\u3002</li> <li>\u7535\u5546\u7f51\u7ad9\uff1a\u81ea\u52a8\u63a8\u8350\u4f60\u53ef\u80fd\u611f\u5174\u8da3\u7684\u5546\u54c1\u3002</li> <li>\u8d37\u6b3e\u7533\u8bf7\uff1a\u901a\u8fc7\u4f60\u6700\u8fd1\u7684\u91d1\u878d\u6d3b\u52a8\u4fe1\u606f\u8fdb\u884c\u7efc\u5408\u8bc4\u5b9a\u3002</li> <li>\u56fe\u50cf\u8bc6\u522b\uff1a\u81ea\u52a8\u8bc6\u522b\u56fe\u7247\u4e2d\u6709\u6ca1\u6709\u4e0d\u548c\u8c10\u7684\u5185\u5bb9\u3002</li> </ol> <p>\u673a\u5668\u5b66\u4e60\u53ef\u4ee5\u5206\u4e3a\u76d1\u7763\u5b66\u4e60\u548c\u975e\u76d1\u7763\u5b66\u4e60\u3002\u76d1\u7763\u5b66\u4e60\u662f\u4ece\u7ed9\u5b9a\u7684\u8bad\u7ec3\u6570\u636e\u96c6\u4e2d\u5b66\u4e60\u5f97\u5230\u4e00\u4e2a\u51fd\u6570\uff0c\u5f53\u65b0\u7684\u6570\u636e\u5230\u6765\u65f6\uff0c\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u51fd\u6570\u9884\u6d4b\u7ed3\u679c\uff0c\u76d1\u7763\u5b66\u4e60\u7684\u8bad\u7ec3\u96c6\u5305\u62ec\u8f93\u5165\u548c\u8f93\u51fa\uff0c\u4e5f\u53ef\u4ee5\u8bf4\u662f\u7279\u5f81\u548c\u76ee\u6807\u3002\u76d1\u7763\u5b66\u4e60\u7684\u76ee\u6807\u662f\u7531\u4eba\u6765\u6807\u6ce8\u7684\uff0c\u800c\u975e\u76d1\u7763\u5b66\u4e60\u7684\u6570\u636e\u6ca1\u6709\u7c7b\u522b\u4fe1\u606f\uff0c\u8bad\u7ec3\u96c6\u4e5f\u6ca1\u6709\u4eba\u4e3a\u6807\u6ce8\u7ed3\u679c\uff0c\u901a\u8fc7\u65e0\u76d1\u7763\u5b66\u4e60\u53ef\u4ee5\u51cf\u5c11\u6570\u636e\u7279\u5f81\u7684\u7ef4\u5ea6\uff0c\u4ee5\u4fbf\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e8c\u7ef4\u6216\u4e09\u7ef4\u56fe\u5f62\u66f4\u52a0\u76f4\u89c2\u5730\u5c55\u793a\u6570\u636e\u4fe1\u606f \u3002</p> <p>\u5b9e\u73b0\u673a\u5668\u5b66\u4e60\u7684\u4e00\u822c\u6b65\u9aa4\uff1a</p> <ol> <li>\u6570\u636e\u6536\u96c6</li> <li>\u6570\u636e\u51c6\u5907</li> <li>\u6570\u636e\u5206\u6790</li> <li>\u8bad\u7ec3\u7b97\u6cd5</li> <li>\u6d4b\u8bd5\u7b97\u6cd5</li> <li>\u5e94\u7528\u7b97\u6cd5</li> </ol>"},{"location":"python/Py-100Days/Day76-90/77.Pandas%E7%9A%84%E5%BA%94%E7%94%A8/","title":"77.Pandas\u7684\u5e94\u7528","text":""},{"location":"python/Py-100Days/Day76-90/77.Pandas%E7%9A%84%E5%BA%94%E7%94%A8/#pandas","title":"Pandas\u7684\u5e94\u7528","text":""},{"location":"python/Py-100Days/Day76-90/77.Pandas%E7%9A%84%E5%BA%94%E7%94%A8/#1pandas","title":"1\u3001Pandas\u5165\u95e8","text":""},{"location":"python/Py-100Days/Day76-90/77.Pandas%E7%9A%84%E5%BA%94%E7%94%A8/#2pandas","title":"2\u3001Pandas\u7d22\u5f15","text":""},{"location":"python/Py-100Days/Day76-90/77.Pandas%E7%9A%84%E5%BA%94%E7%94%A8/#3pandas","title":"3\u3001Pandas\u6570\u636e\u6e05\u6d17\u4e4b\u7a7a\u6570\u636e","text":""},{"location":"python/Py-100Days/Day76-90/77.Pandas%E7%9A%84%E5%BA%94%E7%94%A8/#4pandas","title":"4\u3001Pandas\u591a\u5c42\u7d22\u5f15","text":""},{"location":"python/Py-100Days/Day76-90/77.Pandas%E7%9A%84%E5%BA%94%E7%94%A8/#5pandas","title":"5\u3001Pandas\u591a\u5c42\u7d22\u5f15\u8ba1\u7b97","text":""},{"location":"python/Py-100Days/Day76-90/77.Pandas%E7%9A%84%E5%BA%94%E7%94%A8/#6pandasconcat","title":"6\u3001Pandas\u6570\u636e\u96c6\u6210concat","text":""},{"location":"python/Py-100Days/Day76-90/77.Pandas%E7%9A%84%E5%BA%94%E7%94%A8/#7pandasmerge","title":"7\u3001Pandas\u6570\u636e\u96c6\u6210merge","text":""},{"location":"python/Py-100Days/Day76-90/77.Pandas%E7%9A%84%E5%BA%94%E7%94%A8/#8pandas","title":"8\u3001Pandas\u5206\u7ec4\u805a\u5408\u64cd\u4f5c","text":""},{"location":"python/Py-100Days/Day76-90/77.Pandas%E7%9A%84%E5%BA%94%E7%94%A8/#9pandas","title":"9\u3001Pandas\u6570\u636e\u96c6\u6210\u5b9e\u6218","text":""},{"location":"python/Py-100Days/Day76-90/77.Pandas%E7%9A%84%E5%BA%94%E7%94%A8/#10","title":"10\u3001\u7f8e\u56fd\u5927\u9009\u9879\u76ee","text":""},{"location":"python/Py-100Days/Day76-90/78.NumPy%E5%92%8CSciPy%E7%9A%84%E5%BA%94%E7%94%A8/","title":"78.NumPy\u548cSciPy\u7684\u5e94\u7528","text":""},{"location":"python/Py-100Days/Day76-90/78.NumPy%E5%92%8CSciPy%E7%9A%84%E5%BA%94%E7%94%A8/#numpyscipy","title":"NumPy\u548cSciPy\u7684\u5e94\u7528","text":""},{"location":"python/Py-100Days/Day76-90/79.Matplotlib%E5%92%8C%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/","title":"79.Matplotlib\u548c\u6570\u636e\u53ef\u89c6\u5316","text":""},{"location":"python/Py-100Days/Day76-90/79.Matplotlib%E5%92%8C%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/#matplotlib","title":"Matplotlib\u548c\u6570\u636e\u53ef\u89c6\u5316","text":"<p>\u6570\u636e\u7684\u5904\u7406\u3001\u5206\u6790\u548c\u53ef\u89c6\u5316\u5df2\u7ecf\u6210\u4e3aPython\u8fd1\u5e74\u6765\u6700\u4e3a\u91cd\u8981\u7684\u5e94\u7528\u9886\u57df\u4e4b\u4e00\uff0c\u5176\u4e2d\u6570\u636e\u7684\u53ef\u89c6\u5316\u6307\u7684\u662f\u5c06\u6570\u636e\u5448\u73b0\u4e3a\u6f02\u4eae\u7684\u7edf\u8ba1\u56fe\u8868\uff0c\u7136\u540e\u8fdb\u4e00\u6b65\u53d1\u73b0\u6570\u636e\u4e2d\u5305\u542b\u7684\u89c4\u5f8b\u4ee5\u53ca\u9690\u85cf\u7684\u4fe1\u606f\u3002\u6570\u636e\u53ef\u89c6\u5316\u53c8\u8ddf\u6570\u636e\u6316\u6398\u548c\u5927\u6570\u636e\u5206\u6790\u7d27\u5bc6\u76f8\u5173\uff0c\u800c\u8fd9\u4e9b\u9886\u57df\u4ee5\u53ca\u5f53\u4e0b\u88ab\u70ed\u8bae\u7684\u201c\u6df1\u5ea6\u5b66\u4e60\u201d\u5176\u6700\u7ec8\u7684\u76ee\u6807\u90fd\u662f\u4e3a\u4e86\u5b9e\u73b0\u4ece\u8fc7\u53bb\u7684\u6570\u636e\u53bb\u5bf9\u672a\u6765\u7684\u72b6\u51b5\u8fdb\u884c\u9884\u6d4b\u3002Python\u5728\u5b9e\u73b0\u6570\u636e\u53ef\u89c6\u5316\u65b9\u9762\u662f\u975e\u5e38\u68d2\u7684\uff0c\u5373\u4fbf\u662f\u4f7f\u7528\u4e2a\u4eba\u7535\u8111\u4e5f\u80fd\u591f\u5b9e\u73b0\u5bf9\u767e\u4e07\u7ea7\u751a\u81f3\u66f4\u5927\u4f53\u91cf\u7684\u6570\u636e\u8fdb\u884c\u63a2\u7d22\u7684\u5de5\u4f5c\uff0c\u800c\u8fd9\u4e9b\u5de5\u4f5c\u90fd\u53ef\u4ee5\u5728\u73b0\u6709\u7684\u7b2c\u4e09\u65b9\u5e93\u7684\u57fa\u7840\u4e0a\u6765\u5b8c\u6210\uff08\u65e0\u9700\u201c\u91cd\u590d\u7684\u53d1\u660e\u8f6e\u5b50\u201d\uff09\u3002Matplotlib\u5c31\u662fPython\u7ed8\u56fe\u5e93\u4e2d\u7684\u4f7c\u4f7c\u8005\uff0c\u5b83\u5305\u542b\u4e86\u5927\u91cf\u7684\u5de5\u5177\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u5de5\u5177\u521b\u5efa\u5404\u79cd\u56fe\u5f62\uff08\u5305\u62ec\u6563\u70b9\u56fe\u3001\u6298\u7ebf\u56fe\u3001\u76f4\u65b9\u56fe\u3001\u997c\u56fe\u3001\u96f7\u8fbe\u56fe\u7b49\uff09\uff0cPython\u79d1\u5b66\u8ba1\u7b97\u793e\u533a\u4e5f\u7ecf\u5e38\u4f7f\u7528\u5b83\u6765\u5b8c\u6210\u6570\u636e\u53ef\u89c6\u5316\u7684\u5de5\u4f5c\u3002</p>"},{"location":"python/Py-100Days/Day76-90/79.Matplotlib%E5%92%8C%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/#matplotlib_1","title":"\u5b89\u88c5matplotlib","text":"<p>\u53ef\u4ee5\u4f7f\u7528pip\u6765\u5b89\u88c5matplotlib\uff0c\u547d\u4ee4\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>pip install matplotlib\n</code></pre>"},{"location":"python/Py-100Days/Day76-90/79.Matplotlib%E5%92%8C%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/#_1","title":"\u7ed8\u5236\u6298\u7ebf\u56fe","text":"<pre><code># coding: utf-8\nimport matplotlib.pyplot as plt\n\n\ndef main():\n    # \u4fdd\u5b58x\u8f74\u6570\u636e\u7684\u5217\u8868\n    x_values = [x for x in range(1, 11)]\n    # \u4fdd\u5b58y\u8f74\u6570\u636e\u7684\u5217\u8868\n    y_values = [x ** 2 for x in range(1, 11)]\n    # \u8bbe\u7f6e\u56fe\u8868\u7684\u6807\u9898\u4ee5\u53cax\u548cy\u8f74\u7684\u8bf4\u660e\n    plt.title('Square Numbers')\n    plt.xlabel('Value', fontsize=18)\n    plt.ylabel('Square', fontsize=18)\n    # \u8bbe\u7f6e\u523b\u5ea6\u6807\u8bb0\u7684\u6587\u5b57\u5927\u5c0f\n    plt.tick_params(axis='both', labelsize=16)\n    # \u7ed8\u5236\u6298\u7ebf\u56fe\n    plt.plot(x_values, y_values)\n    plt.show()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8fd0\u884c\u7a0b\u5e8f\uff0c\u6548\u679c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p> <p>\u5982\u679c\u4f7f\u7528jupyter\u7684notebook\uff0c\u9700\u8981\u4f7f\u7528\u9b54\u6cd5\u6307\u4ee4<code>%matplotlib inresline</code>\u6765\u8bbe\u7f6e\u5728\u9875\u9762\u4e2d\u663e\u793a\u56fe\u8868\uff0c\u6548\u679c\u5982\u4e0b\u6240\u793a\u3002</p> <p></p>"},{"location":"python/Py-100Days/Day76-90/79.Matplotlib%E5%92%8C%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/#_2","title":"\u7ed8\u5236\u6563\u70b9\u56fe","text":"<p>\u53ef\u4ee5\u5c06\u4e0a\u9762\u4ee3\u7801\u4e2d\u7684\u7684<code>plot</code>\u51fd\u6570\u6362\u6210<code>scatter</code>\u51fd\u6570\u6765\u7ed8\u5236\u6563\u70b9\u56fe\uff0c\u6548\u679c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p> <p>\u5f53\u7136\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7<code>plot</code>\u51fd\u6570\u8bbe\u7f6e\u7ed8\u56fe\u7684\u989c\u8272\u548c\u7ebf\u6761\u7684\u5f62\u72b6\u5c06\u6298\u7ebf\u56fe\u6539\u9020\u4e3a\u6563\u70b9\u56fe\uff0c\u5bf9\u5e94\u7684\u4ee3\u7801\u5982\u4e0b\u6240\u793a\uff0c\u5176\u4e2d\u53c2\u6570'xr'\u8868\u793a\u6bcf\u4e2a\u70b9\u7684\u8bb0\u53f7\u662f\u2018x\u2019\u56fe\u5f62\uff0c\u989c\u8272\u662f\u7ea2\u8272\uff08red\uff09\u3002</p> <pre><code>plt.plot(x_values, y_values, 'xr')\n</code></pre> <p>\u91cd\u65b0\u8fd0\u884c\u7a0b\u5e8f\uff0c\u6548\u679c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p> <p>\u53ef\u80fd\u5927\u5bb6\u5df2\u7ecf\u6ce8\u610f\u5230\u4e86\uff0c1\u548c10\u5bf9\u5e94\u7684\u2018x\u2019\u8bb0\u53f7\u5728\u56fe\u5f62\u8fb9\u89d2\u7684\u4f4d\u7f6e\u4e0d\u592a\u660e\u663e\uff0c\u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0\u4e0b\u9762\u7684\u4ee3\u7801\u8c03\u6574x\u8f74\u548cy\u8f74\u7684\u5750\u6807\u8303\u56f4\u3002</p> <pre><code>plt.axis([0, 12, 0, 120])\n</code></pre> <p>\u8c03\u6574\u540e\u7684\u6548\u679c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p>"},{"location":"python/Py-100Days/Day76-90/79.Matplotlib%E5%92%8C%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/#_3","title":"\u7ed8\u5236\u6b63\u5f26\u66f2\u7ebf","text":"<p>\u5728\u4e0b\u9762\u7684\u7a0b\u5e8f\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u540d\u4e3aNumPy\u7684\u7b2c\u4e09\u65b9\u5e93\u6765\u4ea7\u751f\u6837\u672c\u5e76\u8ba1\u7b97\u6b63\u5f26\u503c\u3002NumPy\u662f\u4e00\u4e2a\u8fd0\u884c\u901f\u5ea6\u975e\u5e38\u5feb\u7684\u6570\u5b66\u5e93\uff0c\u4e3b\u8981\u7528\u4e8e\u6570\u7ec4\u8ba1\u7b97\u3002\u5b83\u53ef\u4ee5\u8ba9\u4f60\u5728Python\u4e2d\u4f7f\u7528\u5411\u91cf\u548c\u6570\u5b66\u77e9\u9635\uff0c\u4ee5\u53ca\u8bb8\u591a\u7528C\u8bed\u8a00\u5b9e\u73b0\u7684\u5e95\u5c42\u51fd\u6570\u3002\u5982\u679c\u60f3\u901a\u8fc7Python\u5b66\u4e60\u6570\u636e\u79d1\u5b66\u6216\u8005\u673a\u5668\u5b66\u4e60\u76f8\u5173\u7684\u5185\u5bb9\uff0c\u90a3\u4e48\u5c31\u5f97\u5148\u5b66\u4f1a\u4f7f\u7528NumPy\u3002</p> <pre><code># coding: utf-8\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n\ndef main():\n    # \u6307\u5b9a\u91c7\u6837\u7684\u8303\u56f4\u4ee5\u53ca\u6837\u672c\u7684\u6570\u91cf\n    x_values = np.linspace(0, 2 * np.pi, 1000)\n    # \u8ba1\u7b97\u6bcf\u4e2a\u6837\u672c\u5bf9\u5e94\u7684\u6b63\u5f26\u503c\n    y_values = np.sin(x_values)\n    # \u7ed8\u5236\u6298\u7ebf\u56fe(\u7ebf\u6761\u5f62\u72b6\u4e3a--, \u989c\u8272\u4e3a\u84dd\u8272)\n    plt.plot(x_values, y_values, '--b')\n    plt.show()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8fd0\u884c\u7a0b\u5e8f\uff0c\u6548\u679c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p> <p>\u5982\u679c\u8981\u5728\u4e00\u4e2a\u5750\u6807\u7cfb\u4e0a\u7ed8\u5236\u591a\u4e2a\u56fe\u50cf\uff0c\u53ef\u4ee5\u6309\u7167\u5982\u4e0b\u7684\u65b9\u5f0f\u4fee\u6539\u4ee3\u7801\u3002</p> <pre><code># coding: utf-8\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n\ndef main():\n    x_values = np.linspace(0, 2 * np.pi, 1000)\n    plt.plot(x_values, np.sin(x_values), '--b')\n    plt.plot(x_values, np.sin(2 * x_values), '--r')\n    plt.show()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u4fee\u6539\u540e\u7684\u4ee3\u7801\u8fd0\u884c\u6548\u679c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p> <p>\u5982\u679c\u9700\u8981\u5206\u522b\u5728\u4e24\u4e2a\u5750\u6807\u7cfb\u4e0a\u7ed8\u5236\u51fa\u4e24\u6761\u66f2\u7ebf\uff0c\u53ef\u4ee5\u6309\u7167\u5982\u4e0b\u7684\u65b9\u5f0f\u64cd\u4f5c\u3002</p> <pre><code># coding: utf-8\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n\ndef main():\n    # \u5c06\u6837\u672c\u6570\u91cf\u51cf\u5c11\u4e3a50\u4e2a\n    x_values = np.linspace(0, 2 * np.pi, 50)\n    # \u8bbe\u7f6e\u7ed8\u56fe\u4e3a2\u884c1\u5217\u6d3b\u8dc3\u533a\u4e3a1\u533a(\u7b2c\u4e00\u4e2a\u56fe)\n    plt.subplot(2, 1, 1)\n    plt.plot(x_values, np.sin(x_values), 'o-b')\n    # \u8bbe\u7f6e\u7ed8\u56fe\u4e3a2\u884c1\u5217\u6d3b\u8dc3\u533a\u4e3a2\u533a(\u7b2c\u4e8c\u4e2a\u56fe)\n    plt.subplot(2, 1, 2)\n    plt.plot(x_values, np.sin(2 * x_values), '.-r')\n    plt.show()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u6548\u679c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p>"},{"location":"python/Py-100Days/Day76-90/79.Matplotlib%E5%92%8C%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/#_4","title":"\u7ed8\u5236\u76f4\u65b9\u56fe","text":"<p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7NumPy\u7684random\u6a21\u5757\u7684normal\u51fd\u6570\u6765\u751f\u6210\u6b63\u6001\u5206\u5e03\u7684\u91c7\u6837\u6570\u636e\uff0c\u5176\u4e2d\u7684\u4e09\u4e2a\u53c2\u6570\u5206\u522b\u8868\u793a\u671f\u671b\u3001\u6807\u51c6\u5dee\u548c\u6837\u672c\u6570\u91cf\uff0c\u7136\u540e\u7ed8\u5236\u6210\u76f4\u65b9\u56fe\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code># coding: utf-8\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n\ndef main():\n    # \u901a\u8fc7random\u6a21\u5757\u7684normal\u51fd\u6570\u4ea7\u751f1000\u4e2a\u6b63\u6001\u5206\u5e03\u7684\u6837\u672c\n    data = np.random.normal(10.0, 5.0, 1000)\n    # \u7ed8\u5236\u76f4\u65b9\u56fe(\u76f4\u65b9\u7684\u6570\u91cf\u4e3a10\u4e2a)\n    plt.hist(data, 10)\n    plt.show()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8fd0\u884c\u6548\u679c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p>"},{"location":"python/Py-100Days/Day76-90/79.Matplotlib%E5%92%8C%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/#pygal","title":"\u4f7f\u7528Pygal\u7ed8\u5236\u77e2\u91cf\u56fe","text":"<p>\u77e2\u91cf\u56fe\uff08SVG\uff09\u662f\u8ba1\u7b97\u673a\u56fe\u5f62\u5b66\u4e2d\u7528\u70b9\u3001\u76f4\u7ebf\u6216\u8005\u591a\u8fb9\u5f62\u7b49\u57fa\u4e8e\u6570\u5b66\u65b9\u7a0b\u7684\u51e0\u4f55\u56fe\u5143\u8868\u793a\u7684\u56fe\u50cf\uff0c\u4e5f\u662f\u76ee\u524d\u5e94\u7528\u5f97\u975e\u5e38\u591a\u7684\u4e00\u79cd\u56fe\u50cf\u6587\u4ef6\u683c\u5f0f\uff0c\u5168\u79f0\u662f\u201cScalable Vector Graphics\u201d\u3002\u548c\u4f7f\u7528\u50cf\u7d20\u8868\u793a\u56fe\u50cf\u7684\u4f4d\u56fe\u4e0d\u540c\uff0cSVG\u57fa\u4e8eXML\u5b58\u50a8\u56fe\u50cf\u6570\u636e\uff0c\u5b83\u662fW3C\u5b9a\u4e49\u7684\u4e00\u79cd\u5f00\u653e\u6807\u51c6\u7684\u77e2\u91cf\u56fe\u5f62\u8bed\u8a00\uff0c\u53ef\u4ee5\u7528\u6765\u8bbe\u8ba1\u66f4\u4e3a\u6e05\u6670\u7684Web\u56fe\u50cf\uff0c\u56e0\u4e3aSVG\u4e0e\u5206\u8fa8\u7387\u65e0\u5173\uff0c\u5728\u4efb\u610f\u653e\u5927\u65f6\u4e0d\u4f1a\u4e22\u5931\u7ec6\u8282\u6216\u5f71\u54cd\u6e05\u6670\u5ea6\u3002SVG\u53ef\u4ee5\u76f4\u63a5\u7528\u4ee3\u7801\u6765\u63cf\u7ed8\u56fe\u50cf\uff0c\u4e5f\u53ef\u4ee5\u7528\u4efb\u4f55\u6587\u5b57\u5904\u7406\u5de5\u5177\u6765\u6253\u5f00\u5b83\uff0c\u901a\u8fc7\u6539\u53d8SVG\u7684\u4ee3\u7801\u6211\u4eec\u53ef\u4ee5\u8ba9\u56fe\u50cf\u5177\u5907\u4ea4\u4e92\u529f\u80fd\u3002</p> <p>Python\u4e2d\u53ef\u4ee5\u4f7f\u7528Pygal\u6765\u751f\u6210SVG\uff0c\u53ef\u4ee5\u901a\u8fc7pip\u6765\u5b89\u88c5\u5b83\u3002</p> <pre><code>from random import randint\nimport pygal\n\n\ndef roll_dice(n=1):\n    total = 0\n    for _ in range(n):\n        total += randint(1, 6)\n    return total\n\n\ndef main():\n    results = []\n    # \u5c06\u4e24\u9897\u8272\u5b50\u644710000\u6b21\u8bb0\u5f55\u70b9\u6570\n    for _ in range(10000):\n        face = roll_dice(2)\n        results.append(face)\n    freqs = []\n    # \u7edf\u8ba12~12\u70b9\u5404\u51fa\u73b0\u4e86\u591a\u5c11\u6b21\n    for value in range(2, 13):\n        freq = results.count(value)\n        freqs.append(freq)\n    # \u7ed8\u5236\u67f1\u72b6\u56fe\n    hist = pygal.Bar()\n    hist.title = 'Result of rolling two dice'\n    hist.x_labels = [x for x in range(2, 13)]\n    hist.add('Frequency', freqs)\n    # \u4fdd\u5b58\u77e2\u91cf\u56fe\n    hist.render_to_file('result.svg')\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u8fd0\u884c\u4e0a\u9762\u7684\u7a0b\u5e8f\uff0c\u6548\u679c\u5982\u4e0b\u56fe\u6240\u793a\u3002</p> <p></p>"},{"location":"python/Py-100Days/Day76-90/79.Matplotlib%E5%92%8C%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/#_5","title":"\u540e\u8bb0","text":"<p>Matplotlib\u548cNumPy\u7684\u5f3a\u5927\u6211\u4eec\u5728\u8fd9\u91cc\u4e5f\u53ea\u662f\u7aa5\u89c6\u4e86\u5176\u51b0\u5c71\u4e00\u89d2\uff0c\u6211\u4eec\u5728\u540e\u7eed\u7684\u5185\u5bb9\u91cc\u9762\u8fd8\u4f1a\u4f7f\u7528\u5230\u8fd9\u4e24\u4e2a\u7b2c\u4e09\u65b9\u5e93\uff0c\u5230\u65f6\u5019\u6211\u4eec\u518d\u7eed\u70b9\u4e3a\u5927\u5bb6\u4ecb\u7ecd\u5176\u4ed6\u7684\u529f\u80fd\u3002</p>"},{"location":"python/Py-100Days/Day76-90/80.k%E6%9C%80%E8%BF%91%E9%82%BB%E5%88%86%E7%B1%BB/","title":"80.k\u6700\u8fd1\u90bb\u5206\u7c7b","text":""},{"location":"python/Py-100Days/Day76-90/80.k%E6%9C%80%E8%BF%91%E9%82%BB%E5%88%86%E7%B1%BB/#k","title":"k\u6700\u8fd1\u90bb\u5206\u7c7b","text":""},{"location":"python/Py-100Days/Day76-90/81.%E5%86%B3%E7%AD%96%E6%A0%91/","title":"81.\u51b3\u7b56\u6811","text":""},{"location":"python/Py-100Days/Day76-90/81.%E5%86%B3%E7%AD%96%E6%A0%91/#_1","title":"\u51b3\u7b56\u6811","text":""},{"location":"python/Py-100Days/Day76-90/82.%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%88%86%E7%B1%BB/","title":"82.\u8d1d\u53f6\u65af\u5206\u7c7b","text":""},{"location":"python/Py-100Days/Day76-90/82.%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%88%86%E7%B1%BB/#_1","title":"\u8d1d\u53f6\u65af\u5206\u7c7b","text":""},{"location":"python/Py-100Days/Day76-90/83.%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F%E6%9C%BA/","title":"83.\u652f\u6301\u5411\u91cf\u673a","text":""},{"location":"python/Py-100Days/Day76-90/83.%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F%E6%9C%BA/#_1","title":"\u652f\u6301\u5411\u91cf\u673a","text":""},{"location":"python/Py-100Days/Day76-90/84.K-%E5%9D%87%E5%80%BC%E8%81%9A%E7%B1%BB/","title":"84.K \u5747\u503c\u805a\u7c7b","text":""},{"location":"python/Py-100Days/Day76-90/84.K-%E5%9D%87%E5%80%BC%E8%81%9A%E7%B1%BB/#k-","title":"K-\u5747\u503c\u805a\u7c7b","text":""},{"location":"python/Py-100Days/Day76-90/85.%E5%9B%9E%E5%BD%92%E5%88%86%E6%9E%90/","title":"85.\u56de\u5f52\u5206\u6790","text":""},{"location":"python/Py-100Days/Day76-90/85.%E5%9B%9E%E5%BD%92%E5%88%86%E6%9E%90/#_1","title":"\u56de\u5f52\u5206\u6790","text":""},{"location":"python/Py-100Days/Day76-90/86.%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%85%A5%E9%97%A8/","title":"86.\u5927\u6570\u636e\u5206\u6790\u5165\u95e8","text":""},{"location":"python/Py-100Days/Day76-90/86.%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%85%A5%E9%97%A8/#_1","title":"\u5927\u6570\u636e\u5206\u6790\u5165\u95e8","text":""},{"location":"python/Py-100Days/Day76-90/87.%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E8%BF%9B%E9%98%B6/","title":"87.\u5927\u6570\u636e\u5206\u6790\u8fdb\u9636","text":""},{"location":"python/Py-100Days/Day76-90/87.%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E8%BF%9B%E9%98%B6/#_1","title":"\u5927\u6570\u636e\u5206\u6790\u8fdb\u9636","text":""},{"location":"python/Py-100Days/Day76-90/88.Tensorflow%E5%85%A5%E9%97%A8/","title":"88.Tensorflow\u5165\u95e8","text":""},{"location":"python/Py-100Days/Day76-90/88.Tensorflow%E5%85%A5%E9%97%A8/#tensorflow","title":"Tensorflow\u5165\u95e8","text":""},{"location":"python/Py-100Days/Day76-90/89.Tensorflow%E5%AE%9E%E6%88%98/","title":"89.Tensorflow\u5b9e\u6218","text":""},{"location":"python/Py-100Days/Day76-90/89.Tensorflow%E5%AE%9E%E6%88%98/#tensorflow","title":"Tensorflow\u5b9e\u6218","text":""},{"location":"python/Py-100Days/Day76-90/90.%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98/","title":"90.\u63a8\u8350\u7cfb\u7edf\u5b9e\u6218","text":""},{"location":"python/Py-100Days/Day76-90/90.%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E5%AE%9E%E6%88%98/#_1","title":"\u63a8\u8350\u7cfb\u7edf\u5b9e\u6218","text":""},{"location":"python/Py-100Days/Day91-100/100.%E8%8B%B1%E8%AF%AD%E9%9D%A2%E8%AF%95/","title":"100.\u82f1\u8bed\u9762\u8bd5","text":""},{"location":"python/Py-100Days/Day91-100/100.%E8%8B%B1%E8%AF%AD%E9%9D%A2%E8%AF%95/#_1","title":"\u82f1\u8bed\u9762\u8bd5","text":"<p>\u4ee5\u4e0b\u7528I\u8868\u793a\u9762\u8bd5\u5b98\uff08Interviewer\uff09\uff0c\u7528C\u8868\u793a\u9762\u8bd5\u8005\uff08Candidate\uff09\u3002</p>"},{"location":"python/Py-100Days/Day91-100/100.%E8%8B%B1%E8%AF%AD%E9%9D%A2%E8%AF%95/#_2","title":"\u5f00\u573a\u5bd2\u6684","text":"<ol> <li>I: Thanks for waiting. (Please follow me.)</li> </ol> <p>C: It's no problem.</p> <ol> <li>I: How are you doing this morning?</li> </ol> <p>C: I'm great. / I'm doing fine. Thank you. / How about you?</p> <ol> <li>I: How did you get here?</li> </ol> <p>C: I took the subway here. / I drove here.</p> <ol> <li>I: Glad to meet you.</li> </ol> <p>C: Glad to meet you. / It's great to finally meet you in person. (\u4e4b\u524d\u7535\u8bdd\u6c9f\u901a\u8fc7\u7684)</p>"},{"location":"python/Py-100Days/Day91-100/100.%E8%8B%B1%E8%AF%AD%E9%9D%A2%E8%AF%95/#_3","title":"\u6b63\u5f0f\u9762\u8bd5","text":""},{"location":"python/Py-100Days/Day91-100/100.%E8%8B%B1%E8%AF%AD%E9%9D%A2%E8%AF%95/#_4","title":"\u4eba\u529b\u9762\u8bd5","text":"<ol> <li>I: Can you tell me a little bit about yourself? (\u4ecb\u7ecd\u4e0b\u81ea\u5df1)</li> </ol> <p>\u539f\u5219\uff1a\u4e0d\u8981\u8c08\u79c1\u751f\u6d3b\u548c\u5947\u602a\u7684\u7656\u597d\uff08\u82f1\u96c4\u8054\u76df\u5e72\u5230\u94bb\u77f3\uff09\uff0c\u56e0\u4e3a\u522b\u4eba\u66f4\u60f3\u77e5\u9053\u7684\u662f\u4f60\u7684\u4e13\u4e1a\u6280\u80fd\uff08qulifications\uff09\u548c\u5de5\u4f5c\u7ecf\u9a8c\uff08experience\uff09\uff0c\u6240\u4ee5\u91cd\u70b9\u5728\u4f60\u4e4b\u524d\u7684\u516c\u53f8\uff08company name\uff09\u3001\u804c\u4f4d\uff08title\uff09\u3001\u65f6\u95f4\uff08years\uff09\u548c\u4e3b\u8981\u804c\u8d23\uff08major responsibilities\uff09</p> <p>C: Thank you for having me. My name is Dachui WANG. I'm 25 years old, and I'm single. I have a Bachelor's Degree of Computer Science from Tsinghua University. I was a Junior Java Programmer for ABC Technologies during my college life. Then I become an intermediate Java engineer for XYZ Corporation in last two years. Programming is my everyday life and programming is where my passion is. I think I have a good knowledge of Java enterprise application developement using light-weight frameworks like Spring, Guice, Hibernate and other open source middle-ware like Dubbo, Mycat, rocketmq and so on and so forth. I love reading, travelling and playing basketball in my spare time. That's all! Thank you!</p> <ol> <li>I: How would you describe your personality? (\u4f60\u7684\u6027\u683c)</li> </ol> <p>C: I'm hard working, eager to learn, and very serious about my work. I enjoy working with other people and I love challenges.</p> <ol> <li>I: What do you know about our company? (\u4f60\u5bf9\u6211\u4eec\u516c\u53f8\u6709\u4ec0\u4e48\u4e86\u89e3)</li> </ol> <p>(\u9700\u8981\u505a\u529f\u8bfe\uff0c\u4e86\u89e3\u516c\u53f8\u7684\u72b6\u51b5\u548c\u4f01\u4e1a\u6587\u5316\uff0c\u8be5\u516c\u53f8\u5728\u8fd9\u4e2a\u884c\u4e1a\u4e2d\u7684\u4e00\u4e2a\u72b6\u51b5\uff0c\u6709\u4ec0\u4e48\u6838\u5fc3\u4e1a\u52a1\uff0c\u4e3b\u8981\u7684\u7ade\u4e89\u5bf9\u624b\u6709\u54ea\u4e9b)</p> <p>C: The one thing that I like the most about our company is your core values. I think they're very important in this industry because \u2026(\u81ea\u7531\u53d1\u6325\u7684\u90e8\u5206)... I personally really believe in the cause as well. Of course, I'm very interested in your products such as \u2026(\u529f\u8bfe\u90e8\u5206)\u2026 and the techniques behind them.</p> <ol> <li>I: Why are you leaving your last job? (\u4e3a\u4ec0\u4e48\u79bb\u804c)</li> </ol> <p>C: I want to advance my career and I think this job offers more challenges and  opportunities for me do to that.</p> <ol> <li>I: What do you see yourself in 3 or 5 years? (3-5\u5e74\u804c\u4e1a\u89c4\u5212)</li> </ol> <p>C: My long term goals involve growing with the company, where I can continue to learn, to take on additional responsibilities and to contribute as much value as I can. I intend to take advantage of all of these.</p> <ol> <li>I: What's your salary expectation? (\u671f\u671b\u85aa\u8d44)</li> </ol> <p>C: My salary expectation is in line with my experience and qualifications. I believe our company will pay me and every other employee fairly. (\u628a\u7403\u8e22\u7ed9\u5bf9\u65b9\u5148\u770b\u770b\u5bf9\u65b9\u62a5\u4ef7\u662f\u591a\u5c11\uff0c\u5982\u679c\u5bf9\u65b9\u975e\u8981\u4f60\u62a5\u4ef7\u518d\u8bf4\u540e\u9762\u7684\u5185\u5bb9) I think 15 thousands RMB or above is fitting for me to leave in Chengdu.</p> <ol> <li>I: Do you have any questions for me? (\u95ee\u9762\u8bd5\u5b98\u7684\u95ee\u9898)</li> </ol> <p>C: What's the growth potential for this position?</p>"},{"location":"python/Py-100Days/Day91-100/100.%E8%8B%B1%E8%AF%AD%E9%9D%A2%E8%AF%95/#_5","title":"\u6280\u672f\u9762\u8bd5","text":"<ol> <li>I: What's difference between an interface and an abstract class?</li> <li>I: What are pass by reference and pass by value?</li> <li>I: What's the difference between process and threads?</li> <li>I: Explain the available thread state in high-level.</li> <li>I: What's deadlocks? How to avoid them?</li> <li>I: How HashMap works in Java?</li> <li>I: What's the difference between ArrayList and LinkedList? (\u7c7b\u4f3c\u7684\u95ee\u9898\u8fd8\u6709\u5f88\u591a\uff0c\u6bd4\u5982\u6bd4\u8f83HashSet\u548cTreeSet\u3001HashMap\u548cHashtable)</li> <li>I: Tell me what you know about garbage collection in Java.</li> <li>I: What're two types of exceptions in Java?</li> <li>I: What's the advantage of PreparedStatement over Statement?</li> <li>I: What's the use of CallableStatement?</li> <li>I: What does connection pool mean?</li> <li>I: Explain the life cycle of a Servlet.</li> <li>I: What's the difference between redirect and forward?</li> <li>I: What's EL? What're implicit objects of EL?</li> <li>I: Tell me what you know about Spring framework and its benefits.</li> <li>I: What're different types of dependency injection.</li> <li>I: Are singleton beans thread safe in Spring framework?</li> <li>I: What're the benefits of Spring framework's transaction management?</li> <li>I: Explain what's AOP.</li> <li>I: What's a proxy and how to implement proxy pattern?</li> <li>I: How Spring MVC works?</li> <li>I: What's the working scenario of Hibernate and MyBatis?</li> <li>I: How to implement SOA?</li> <li>I: Make a brief introduction of the projects you are involved before?</li> </ol> <p>\u4e0a\u9762\u4e3b\u8981\u662f\u9762\u8bd5Java\u7a0b\u5e8f\u5458\u7684\u95ee\u9898\uff0c\u4f46\u662f\u6574\u4e2a\u6d41\u7a0b\u5927\u81f4\u5982\u6b64\u3002</p>"},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/","title":"91.\u56e2\u961f\u9879\u76ee\u5f00\u53d1\u51c6\u5907","text":""},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/#_1","title":"\u56e2\u961f\u9879\u76ee\u5f00\u53d1\u51c6\u5907","text":"<p>\u6211\u4eec\u7ecf\u5e38\u542c\u5230\u4e2a\u4eba\u5f00\u53d1\u548c\u56e2\u961f\u5f00\u53d1\u8fd9\u4e24\u4e2a\u8bcd\uff0c\u6240\u8c13\u4e2a\u4eba\u5f00\u53d1\u5c31\u662f\u4e00\u4e2a\u4eba\u628a\u63a7\u4ea7\u54c1\u7684\u6240\u6709\u5185\u5bb9\uff1b\u800c\u56e2\u961f\u5f00\u53d1\u5219\u662f\u7531\u591a\u4e2a\u4eba\u7ec4\u6210\u56e2\u961f\u5e76\u5b8c\u6210\u4ea7\u54c1\u7684\u5f00\u53d1\u3002\u8981\u5b9e\u65bd\u56e2\u961f\u5f00\u53d1\u4ee5\u4e0b\u51e0\u70b9\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\uff1a</p> <ol> <li>\u5fc5\u987b\u5bf9\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u7684\u5404\u79cd\u4e8b\u4ef6\uff08\u4f8b\u5982\uff1a\u8c01\u5230\u4ec0\u4e48\u65f6\u95f4\u5b8c\u6210\u4e86\u4ec0\u4e48\u4e8b\u60c5\uff09\u8fdb\u884c\u7ba1\u7406\u548c\u5171\u4eab\u3002</li> <li>\u5404\u7c7b\u5de5\u4f5c\u6210\u679c\u4ee5\u53ca\u65b0\u7684\u77e5\u8bc6\u6280\u5de7\u7b49\u5fc5\u987b\u5728\u56e2\u961f\u5185\u90e8\u5171\u4eab\u3002</li> <li>\u7ba1\u7406\u5de5\u4f5c\u6210\u679c\u7684\u53d8\u66f4\uff0c\u65e2\u8981\u9632\u6b62\u6210\u679c\u88ab\u7834\u574f\uff0c\u53c8\u8981\u4fdd\u8bc1\u5404\u4e2a\u6210\u5458\u5229\u7528\u73b0\u6709\u6210\u679c\u5e76\u884c\u4f5c\u4e1a\u3002</li> <li>\u80fd\u591f\u8bc1\u660e\u56e2\u961f\u5f00\u53d1\u51fa\u7684\u8f6f\u4ef6\u5728\u4efb\u4f55\u65f6\u5019\u90fd\u662f\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\u7684\u3002</li> <li>\u5c3d\u53ef\u80fd\u7684\u4f7f\u7528\u81ea\u52a8\u5316\u7684\u5de5\u4f5c\u6d41\u7a0b\uff0c\u8ba9\u56e2\u961f\u6210\u5458\u80fd\u591f\u6b63\u786e\u7684\u5b9e\u65bd\u5f00\u53d1\u3001\u6d4b\u8bd5\u548c\u90e8\u7f72\u3002</li> </ol>"},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/#_2","title":"\u56e2\u961f\u9879\u76ee\u5f00\u53d1\u5e38\u89c1\u95ee\u9898","text":""},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/#1","title":"\u95ee\u98981\uff1a\u4f20\u7edf\u7684\u6c9f\u901a\u65b9\u5f0f\u65e0\u6cd5\u786e\u5b9a\u5904\u7406\u7684\u4f18\u5148\u7ea7","text":"<p>\u4f8b\u5982\uff1a\u4f7f\u7528\u90ae\u4ef6\u8fdb\u884c\u6c9f\u901a\u53ef\u80fd\u51fa\u73b0\u90ae\u4ef6\u6570\u91cf\u592a\u591a\u5bfc\u81f4\u91cd\u8981\u7684\u90ae\u4ef6\u88ab\u57cb\u6ca1\uff0c\u65e0\u6cd5\u7ba1\u7406\u72b6\u6001\uff0c\u4e0d\u77e5\u9053\u54ea\u4e9b\u95ee\u9898\u5df2\u7ecf\u89e3\u51b3\uff0c\u54ea\u4e9b\u95ee\u9898\u5c1a\u672a\u5904\u7406\uff0c\u5982\u679c\u7528\u5168\u6587\u68c0\u7d22\u90ae\u4ef6\u7684\u65b9\u5f0f\u6765\u67e5\u8be2\u76f8\u5173\u95ee\u9898\u6548\u7387\u8fc7\u4e8e\u4f4e\u4e0b\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a\u4f7f\u7528\u7f3a\u9677\u7ba1\u7406\u5de5\u5177\u3002</p>"},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/#2","title":"\u95ee\u98982\uff1a\u6ca1\u6709\u80fd\u591f\u7528\u4e8e\u9a8c\u8bc1\u7684\u73af\u5883","text":"<p>\u4f8b\u5982\uff1a\u6536\u5230\u9879\u76ee\u6b63\u5f0f\u73af\u5883\u4e2d\u53d1\u751f\u7684\u6545\u969c\u62a5\u544a\u540e\uff0c\u9700\u8981\u8fd8\u539f\u6b63\u5f0f\u73af\u5883\u9700\u8981\u82b1\u8d39\u5f88\u957f\u7684\u65f6\u95f4\u3002</p> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a\u5b9e\u65bd\u6301\u7eed\u4ea4\u4ed8\u3002</p>"},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/#3","title":"\u95ee\u98983\uff1a\u7528\u522b\u540d\u76ee\u5f55\u7ba1\u7406\u9879\u76ee\u5206\u652f","text":"<p>\u89e3\u51b3\u65b9\u6cd5\uff1a\u5b9e\u65bd\u7248\u672c\u63a7\u5236\u3002</p>"},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/#4","title":"\u95ee\u98984\uff1a\u91cd\u65b0\u5236\u4f5c\u6570\u636e\u5e93\u975e\u5e38\u56f0\u96be","text":"<p>\u4f8b\u5982\uff1a\u6b63\u5f0f\u73af\u5883\u548c\u5f00\u53d1\u73af\u5883\u4e2d\u6570\u636e\u5e93\u8868\u7ed3\u6784\u4e0d\u4e00\u81f4\u6216\u8005\u67d0\u4e2a\u8868\u5217\u7684\u987a\u5e8f\u4e0d\u4e00\u81f4\u3002</p> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a\u5b9e\u65bd\u7248\u672c\u63a7\u5236\u3002</p>"},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/#5","title":"\u95ee\u98985\uff1a\u4e0d\u8fd0\u884c\u7cfb\u7edf\u5c31\u65e0\u6cd5\u5bdf\u89c9\u95ee\u9898","text":"<p>\u4f8b\u5982\uff1a\u89e3\u51b3\u4e00\u4e2abug\u53ef\u80fd\u5f15\u5165\u5176\u4ed6\u7684bug\u6216\u8005\u9020\u6210\u7cfb\u7edf\u9000\u5316\uff0c\u4e0d\u6b63\u786e\u7684\u4f7f\u7528\u7248\u672c\u7cfb\u7edf\u8986\u76d6\u4e86\u5176\u4ed6\u4eba\u7684\u4fee\u6539\uff0c\u4fee\u6539\u7684\u5185\u5bb9\u76f8\u4e92\u53d1\u751f\u4e86\u5e72\u6270\uff0c\u5982\u679c\u95ee\u9898\u4e0d\u80fd\u5c3d\u65e9\u53d1\u73b0\uff0c\u90a3\u4e48\u7b49\u8fc7\u53bb\u51e0\u4e2a\u6708\u540e\u518d\u60f3\u8ffd\u6eaf\u95ee\u9898\u5c31\u975e\u5e38\u9ebb\u70e6\u4e86\u3002</p> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a\u5b9e\u65bd\u6301\u7eed\u96c6\u6210\uff0c\u5c06\u56e2\u961f\u6210\u5458\u7684\u5de5\u4f5c\u6210\u679c\u7ecf\u5e38\u3001\u6301\u7eed\u7684\u8fdb\u884c\u6784\u5efa\u548c\u6d4b\u8bd5\u3002</p>"},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/#6","title":"\u95ee\u98986\uff1a\u8986\u76d6\u4e86\u5176\u4ed6\u6210\u5458\u4fee\u6b63\u7684\u4ee3\u7801","text":"<p>\u89e3\u51b3\u65b9\u6cd5\uff1a\u5b9e\u65bd\u7248\u672c\u63a7\u5236\u3002</p>"},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/#7","title":"\u95ee\u98987\uff1a\u65e0\u6cd5\u5b9e\u65bd\u4ee3\u7801\u91cd\u6784","text":"<p>\u91cd\u6784\uff1a\u5728\u4e0d\u5f71\u54cd\u4ee3\u7801\u4ea7\u751f\u7684\u7ed3\u679c\u7684\u524d\u63d0\u4e0b\u5bf9\u4ee3\u7801\u5185\u90e8\u7684\u6784\u9020\u8fdb\u884c\u8c03\u6574\u3002</p> <p>\u4f8b\u5982\uff1a\u5728\u5b9e\u65bd\u4ee3\u7801\u91cd\u6784\u65f6\u53ef\u80fd\u5f15\u53d1\u9000\u5316\u3002</p> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a\u5927\u91cf\u7684\u53ef\u91cd\u7528\u7684\u6d4b\u8bd5\u5e76\u5b9e\u65bd\u6301\u7eed\u96c6\u6210\u3002</p>"},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/#8bug","title":"\u95ee\u98988\uff1a\u4e0d\u77e5\u9053bug\u7684\u4fee\u6b63\u65e5\u671f\u65e0\u6cd5\u8ffd\u8e2a\u9000\u5316","text":"<p>\u89e3\u51b3\u65b9\u6cd5\uff1a\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u3001\u7f3a\u9677\u7ba1\u7406\u7cfb\u7edf\u548c\u6301\u7eed\u96c6\u6210\u4e4b\u95f4\u9700\u8981\u4ea4\u4e92\uff0c\u6700\u597d\u80fd\u591f\u548c\u81ea\u52a8\u5316\u90e8\u7f72\u5de5\u5177\u96c6\u6210\u5230\u4e00\u8d77\u6765\u4f7f\u7528\u3002</p>"},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/#9","title":"\u95ee\u98989\uff1a\u53d1\u5e03\u8fc7\u7a0b\u592a\u590d\u6742","text":"<p>\u89e3\u51b3\u65b9\u6cd5\uff1a\u5b9e\u65bd\u6301\u7eed\u4ea4\u4ed8\u3002</p> <p>\u57fa\u4e8e\u5bf9\u4e0a\u8ff0\u95ee\u9898\u7684\u9610\u8ff0\u548c\u5206\u6790\uff0c\u6211\u4eec\u57fa\u672c\u4e0a\u53ef\u4ee5\u5f97\u5230\u4ee5\u4e0b\u7684\u7ed3\u8bba\uff0c\u5728\u56e2\u961f\u5f00\u53d1\u4e2d\u7248\u672c\u63a7\u5236\u3001\u7f3a\u9677\u7ba1\u7406\u548c\u6301\u7eed\u96c6\u6210\u90fd\u662f\u975e\u5e38\u91cd\u8981\u4e14\u4e0d\u53ef\u6216\u7f3a\u7684\u3002</p>"},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/#_3","title":"\u7248\u672c\u63a7\u5236","text":"<p>\u9488\u5bf9\u4e0a\u9762\u63d0\u5230\u7684\u4e00\u4e9b\u95ee\u9898\uff0c\u5728\u56e2\u961f\u5f00\u53d1\u7684\u9996\u8981\u524d\u63d0\u5c31\u662f\u5b9e\u65bd\u7248\u672c\u63a7\u5236\uff0c\u5bf9\u5fc5\u8981\u7684\u4fe1\u606f\u8fdb\u884c\u7ba1\u7406\uff0c\u9700\u8981\u7ba1\u7406\u7684\u5185\u5bb9\u5305\u62ec\uff1a</p> <ol> <li>\u4ee3\u7801\u3002</li> <li>\u9700\u6c42\u548c\u8bbe\u8ba1\u7684\u76f8\u5173\u6587\u6863\u3002</li> <li>\u6570\u636e\u5e93\u6a21\u5f0f\u548c\u521d\u59cb\u6570\u636e\u3002</li> <li>\u914d\u7f6e\u6587\u4ef6\u3002</li> <li>\u5e93\u7684\u4f9d\u8d56\u5173\u7cfb\u5b9a\u4e49\u3002</li> </ol>"},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/#git","title":"Git\u7b80\u4ecb","text":"<p>Git\u662f\u8bde\u751f\u4e8e2005\u5e74\u7684\u4e00\u4e2a\u5f00\u6e90\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u7cfb\u7edf\uff0c\u6700\u521d\u662fLinus Torvalds\uff08Linux\u4e4b\u7236\uff09 \u4e3a\u4e86\u5e2e\u52a9\u7ba1\u7406Linux\u5185\u6838\u5f00\u53d1\u800c\u5f00\u53d1\u7684\u4e00\u4e2a\u7248\u672c\u63a7\u5236\u8f6f\u4ef6\u3002Git\u4e0e\u5e38\u7528\u7684\u7248\u672c\u63a7\u5236\u5de5\u5177Subversion\u7b49\u4e0d\u540c\uff0c\u5b83\u91c7\u7528\u4e86\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u7684\u65b9\u5f0f\uff0c\u5728\u6ca1\u6709\u4e2d\u592e\u670d\u52a1\u5668\u652f\u6301\u7684\u73af\u5883\u4e0b\u4e5f\u80fd\u591f\u5b9e\u65bd\u7248\u672c\u63a7\u5236\u3002</p> <p>\u5bf9\u4e8e\u6709\u4f7f\u7528Subversion\uff08\u4ee5\u4e0b\u7b80\u79f0\u4e3aSVN\uff09\u7ecf\u9a8c\u7684\u4eba\u6765\u8bf4\uff0cGit\u548cSVN\u4e00\u6837\u6452\u5f03\u4e86\u57fa\u4e8e\u9501\u5b9a\u6a21\u5f0f\u7684\u7248\u672c\u63a7\u5236\u65b9\u6848\uff08\u65e9\u671f\u7684CVS\u548cVSS\u4f7f\u7528\u7684\u5c31\u662f\u9501\u5b9a\u6a21\u5f0f\uff09\u91c7\u7528\u4e86\u5408\u5e76\u6a21\u5f0f\uff0c\u800c\u4e8c\u8005\u7684\u533a\u522b\u5728\u4e8e\uff1a     1. Git\u662f\u5206\u5e03\u5f0f\u7684\uff0cSVN\u662f\u96c6\u4e2d\u5f0f\u7684\uff0cSVN\u9700\u8981\u4e2d\u592e\u670d\u52a1\u5668\u624d\u80fd\u5de5\u4f5c\u3002     2. Git\u628a\u5185\u5bb9\u6309\u5143\u6570\u636e\u65b9\u5f0f\u5b58\u50a8\uff0c\u800cSVN\u662f\u6309\u6587\u4ef6\uff0c\u5373\u628a\u6587\u4ef6\u7684\u5143\u4fe1\u606f\u9690\u85cf\u5728\u4e00\u4e2a.svn\u6587\u4ef6\u5939\u91cc\u3002     3. Git\u5206\u652f\u548cSVN\u7684\u5206\u652f\u4e0d\u540c\u3002     4. Git\u6ca1\u6709\u4e00\u4e2a\u5168\u5c40\u7248\u672c\u53f7\u800cSVN\u6709\u3002     5. Git\u7684\u5185\u5bb9\u5b8c\u6574\u6027\u8981\u4f18\u4e8eSVN\uff0cGit\u7684\u5185\u5bb9\u5b58\u50a8\u4f7f\u7528\u7684\u662fSHA-1\u54c8\u5e0c\u7b97\u6cd5\u3002\u8fd9\u80fd\u786e\u4fdd\u4ee3\u7801\u5185\u5bb9\u7684\u5b8c\u6574\u6027\uff0c\u786e\u4fdd\u5728\u9047\u5230\u78c1\u76d8\u6545\u969c\u548c\u7f51\u7edc\u95ee\u9898\u65f6\u964d\u4f4e\u5bf9\u7248\u672c\u5e93\u7684\u7834\u574f\u3002  </p>"},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/#git_1","title":"\u5b89\u88c5Git","text":"<p>\u53ef\u4ee5\u5728Git\u5b98\u65b9\u7f51\u7ad9\u627e\u5230\u9002\u5408\u81ea\u5df1\u7cfb\u7edf\u7684Git\u4e0b\u8f7d\u94fe\u63a5\u5e76\u8fdb\u884c\u5b89\u88c5\uff0c\u5b89\u88c5\u6210\u529f\u540e\u53ef\u4ee5\u5728\u7ec8\u7aef\u4e2d\u952e\u5165\u4e0b\u9762\u7684\u547d\u4ee4\u68c0\u67e5\u81ea\u5df1\u7684Git\u7248\u672c\u3002</p> <pre><code>git --version\n</code></pre> <p>\u5982\u679c\u4e4b\u524d\u5b8c\u5168\u6ca1\u6709\u63a5\u89e6\u8fc7Git\uff0c\u53ef\u4ee5\u5148\u9605\u8bfb\u300agit - \u7b80\u6613\u6307\u5357\u300b\u6765\u5bf9Git\u6709\u4e00\u4e2a\u5927\u81f4\u7684\u4e86\u89e3\u3002</p>"},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/#_4","title":"\u672c\u5730\u5b9e\u65bd\u7248\u672c\u63a7\u5236","text":"<p>\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u5c06\u76ee\u5f55\u521b\u5efa\u4e3aGit\u4ed3\u5e93\u3002 <pre><code>git init \n</code></pre></p> <p>\u5f53\u4f60\u5b8c\u6210\u4e86\u4e0a\u8ff0\u64cd\u4f5c\u540e\uff0c\u672c\u5730\u76ee\u5f55\u5c31\u53d8\u6210\u4e86\u4e0b\u9762\u7684\u6837\u5b50\uff0c\u5de6\u8fb9\u662f\u4f60\u6b63\u5728\u64cd\u4f5c\u7684\u5de5\u4f5c\u76ee\u5f55\uff0c\u800c\u53f3\u8fb9\u662f\u4f60\u7684\u672c\u5730\u4ed3\u5e93\uff0c\u4e2d\u95f4\u662f\u5de5\u4f5c\u76ee\u5f55\u548c\u672c\u5730\u4ed3\u5e93\u4e4b\u95f4\u7684\u4e00\u4e2a\u6682\u5b58\u533a\uff08\u4e5f\u79f0\u4e3a\u7f13\u5b58\u533a\uff09\u3002</p> <p></p> <p>\u901a\u8fc7<code>git add</code>\u53ef\u4ee5\u5c06\u6587\u4ef6\u6dfb\u52a0\u5230\u6682\u5b58\u533a\u3002</p> <pre><code>git add &lt;file&gt; ...\n</code></pre> <p>\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u65b9\u5f0f\u5c06\u6682\u5b58\u533a\u7684\u6307\u5b9a\u6587\u4ef6\u6062\u590d\u5230\u5de5\u4f5c\u533a\u3002</p> <pre><code>git checkout -- &lt;file&gt;\n</code></pre> <p>\u901a\u8fc7\u4e0b\u9762\u7684\u547d\u4ee4\u53ef\u4ee5\u5c06\u6682\u5b58\u533a\u7684\u5185\u5bb9\u7eb3\u5165\u672c\u5730\u4ed3\u5e93\u3002</p> <pre><code>git commit -m '\u672c\u6b21\u63d0\u4ea4\u7684\u8bf4\u660e'\n</code></pre> <p>\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u67e5\u770b\u6587\u4ef6\u72b6\u6001\u548c\u8fdb\u884c\u7248\u672c\u6bd4\u8f83\u3002</p> <pre><code>git status -s\ngit diff\n</code></pre> <p>\u53ef\u4ee5\u901a\u8fc7<code>git log</code>\u67e5\u770b\u63d0\u4ea4\u65e5\u5fd7\u3002</p> <pre><code>git log\ngit log --graph --pretty=oneline --abbrev-commit\n</code></pre> <p>\u5982\u679c\u8981\u56de\u5230\u5386\u53f2\u7248\u672c\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u3002</p> <pre><code>git reset --hard &lt;commit-id&gt;\ngit reset --hard HEAD^\n</code></pre> <p>\u5176\u4ed6\u7684\u4e00\u4e9b\u547d\u4ee4\u53ef\u4ee5\u53c2\u8003\u962e\u4e00\u5cf0\u8001\u5e08\u7684\u300a\u5e38\u7528Git\u547d\u4ee4\u6e05\u5355\u300b\u6216\u8005\u662f\u7801\u4e91\u4e0a\u7684\u300aGit\u5927\u5168\u300b\u3002</p>"},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/#git_2","title":"Git\u670d\u52a1\u5668\u6982\u8ff0","text":"<p>\u5bf9\u4e8eGit\u6765\u8bf4\u4e0d\u50cfSVN\u90a3\u6837\u4e00\u5b9a\u9700\u8981\u4e00\u4e2a\u4e2d\u5fc3\u670d\u52a1\u5668\uff0c\u521a\u624d\u6211\u4eec\u7684\u64cd\u4f5c\u90fd\u662f\u5728\u672c\u5730\u6267\u884c\u7684\uff0c\u5982\u679c\u4f60\u60f3\u901a\u8fc7Git\u5206\u4eab\u4f60\u7684\u4ee3\u7801\u6216\u8005\u4e0e\u5176\u4ed6\u4eba\u534f\u4f5c\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u670d\u52a1\u5668\u7684\u652f\u6301\u3002Github\u4e3aGit\u63d0\u4f9b\u4e86\u8fdc\u7a0b\u4ed3\u5e93\uff0c\u5b83\u662f\u4e00\u4e2a\u57fa\u4e8eGit\u7684\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0\uff0c\u4f01\u4e1a\u7528\u6237\uff08\u4ed8\u8d39\u7528\u6237\uff09\u53ef\u4ee5\u521b\u5efa\u4ed3\u5e93\uff0c\u666e\u901a\u7528\u6237\u53ea\u80fd\u521b\u5efa\u516c\u5f00\u4ed3\u5e93\uff08\u4ee3\u7801\u662f\u53ef\u4ee5\u662f\u4ed6\u4eba\u53ef\u89c1\u7684\uff09\u3002Github\u662f\u57282008\u5e744\u6708\u521b\u529e\u7684\uff0c\u5b83\u4e0a\u9762\u4ee3\u7801\u5e93\u60ca\u4eba\u7684\u589e\u957f\u901f\u5ea6\u5df2\u7ecf\u8bc1\u660e\u4e86\u5b83\u662f\u975e\u5e38\u6210\u529f\u7684\uff0c\u57282018\u5e746\u6708\uff0c\u5fae\u8f6f\u4ee575\u4ebf\u7f8e\u5143\u7684\u5929\u4ef7\u6536\u8d2d\u4e86Github\u3002\u56fd\u5185\u4e5f\u6709\u7c7b\u4f3c\u7684\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0\uff0c\u6700\u6709\u540d\u7684\u5f53\u5c5e\u7801\u4e91\u548cCODING\uff0c\u76ee\u524d\u7801\u4e91\u548cCODING\u5bf9\u6ce8\u518c\u7528\u6237\u90fd\u63d0\u4f9b\u4e86\u53d7\u9650\u7684\u4f7f\u7528\u79c1\u6709\u4ed3\u5e93\u7684\u529f\u80fd\uff0c\u540c\u65f6\u8fd8\u63d0\u4f9b\u4e86\u5bf9Pull Request\u7684\u652f\u6301\uff08\u540e\u9762\u4f1a\u8bb2\u5230\uff09\uff0c\u800c\u4e14\u76ee\u524d\u63d0\u4f9b\u4ee3\u7801\u6258\u7ba1\u670d\u52a1\u7684\u5e73\u53f0\u90fd\u96c6\u6210\u4e86\u201c\u7f3a\u9677\u7ba1\u7406\u201d\u3001\u201cWebHook\u201d\u7b49\u4e00\u7cfb\u5217\u7684\u529f\u80fd\uff0c\u8ba9\u6211\u4eec\u80fd\u505a\u7684\u4e8b\u60c5\u4e0d\u4ec5\u4ec5\u662f\u7248\u672c\u63a7\u5236\u3002\u5f53\u7136\uff0c\u5982\u679c\u516c\u53f8\u9700\u8981\u4e5f\u53ef\u4ee5\u642d\u5efa\u81ea\u5df1\u7684Git\u670d\u52a1\u5668\uff0c\u5177\u4f53\u7684\u65b9\u5f0f\u6211\u4eec\u5c31\u4e0d\u5728\u8fd9\u91cc\u8fdb\u884c\u4ecb\u7ecd\u4e86\uff0c\u6709\u5174\u8da3\u7684\u53ef\u4ee5\u81ea\u884c\u4e86\u89e3\u3002</p> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u5728\u7801\u4e91\u6216\u8005CODING\u4e0a\u6ce8\u518c\u8d26\u53f7\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u7b2c\u4e09\u65b9\u767b\u5f55\uff08github\u8d26\u53f7\u3001\u5fae\u4fe1\u8d26\u53f7\u3001\u65b0\u6d6a\u5fae\u535a\u8d26\u53f7\u3001CSDN\u8d26\u53f7\u7b49\uff09\u7684\u65b9\u5f0f\u3002\u767b\u5f55\u6210\u529f\u540e\u5c31\u53ef\u4ee5\u521b\u5efa\u9879\u76ee\uff0c\u521b\u5efa\u9879\u76ee\u51e0\u4e4e\u662f\u201c\u50bb\u74dc\u5f0f\u201d\u7684\uff0c\u6211\u4eec\u53ea\u8bf4\u51e0\u4e2a\u503c\u5f97\u6ce8\u610f\u7684\u5730\u65b9\u3002</p> <ol> <li> <p>\u6dfb\u52a0\u9879\u76ee\u6210\u5458\u3002\u521b\u5efa\u9879\u76ee\u540e\uff0c\u53ef\u4ee5\u5728\u9879\u76ee\u7684\u201c\u8bbe\u7f6e\u201d\u6216\u201c\u7ba1\u7406\u201d\u4e2d\u627e\u5230\u201c\u6210\u5458\u7ba1\u7406\u201d\u529f\u80fd\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5c06\u5176\u4ed6\u5f00\u53d1\u8005\u8bbe\u7f6e\u4e3a\u9879\u76ee\u56e2\u961f\u7684\u6210\u5458\uff0c\u9879\u76ee\u6210\u5458\u901a\u5e38\u5206\u4e3a\u201c\u6240\u6709\u8005\u201d\u3001\u201c\u7ba1\u7406\u8005\u201d\u3001\u201c\u666e\u901a\u6210\u5458\u201d\u548c\u201c\u53d7\u9650\u6210\u5458\u201d\u51e0\u79cd\u89d2\u8272\u3002</p> </li> <li> <p>\u8bbe\u7f6e\u516c\u94a5\u5b9e\u73b0\u514d\u5bc6\u64cd\u4f5c\u3002\u5728\u9879\u76ee\u7684\u201c\u8bbe\u7f6e\u201d\u6216\u201c\u7ba1\u7406\u201d\u4e2d\u6211\u4eec\u8fd8\u53ef\u4ee5\u627e\u5230\u201c\u90e8\u7f72\u516c\u94a5\u7ba1\u7406\u201d\u7684\u9009\u9879\uff0c\u901a\u8fc7\u6dfb\u52a0\u90e8\u7f72\u516c\u94a5\uff0c\u53ef\u4ee5\u901a\u8fc7SSH\uff08\u5b89\u5168\u8fdc\u7a0b\u8fde\u63a5\uff09\u7684\u5f62\u5f0f\u8bbf\u95ee\u670d\u52a1\u5668\u800c\u4e0d\u7528\u6bcf\u6b21\u8f93\u5165\u7528\u6237\u540d\u548c\u53e3\u4ee4\u3002\u53ef\u4ee5\u4f7f\u7528<code>ssh-keygen</code>\u547d\u4ee4\u6765\u521b\u5efa\u5bc6\u94a5\u5bf9\u3002</p> </li> </ol> <pre><code>ssh-keygen -t rsa -C \"your_email@example.com\"\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/#git_3","title":"\u4f7f\u7528Git\u8fdb\u884c\u5f00\u53d1","text":"<p>\u514b\u9686\u670d\u52a1\u5668\u4e0a\u7684\u4ee3\u7801\u5230\u672c\u5730\u673a\u5668\u3002</p> <pre><code>git clone &lt;url&gt;\n</code></pre> <p>\u5728\u81ea\u5df1\u7684\u5206\u652f\u4e0a\u8fdb\u884c\u5f00\u53d1\u3002</p> <pre><code>git branch &lt;branch-name&gt;\ngit checkout &lt;branch-name&gt;\n</code></pre> <p>\u6216\u8005</p> <pre><code>git checkout -b &lt;branch-name&gt;\n</code></pre> <p>\u63a5\u4e0b\u6765\u53ef\u4ee5\u5148\u5728\u672c\u5730\u5b9e\u65bd\u7248\u672c\u63a7\u5236\uff08\u64cd\u4f5c\u7684\u65b9\u5f0f\u4e0e\u524d\u9762\u76f8\u540c\u4e0d\u518d\u8d58\u8ff0\uff09\uff0c\u7136\u540e\u518d\u5c06\u81ea\u5df1\u7684\u5206\u652fPush\u5230\u670d\u52a1\u5668\u3002</p> <pre><code>git push origin &lt;branch-name&gt;\n</code></pre> <p>\u6700\u540e\uff0c\u5f53\u5de5\u4f5c\u5b8c\u6210\u65f6\uff0c\u53ef\u4ee5\u53d1\u8d77\u4e00\u4e2aPull Request\uff0c\u8bf7\u6c42\u5c06\u4ee3\u7801\u5408\u5e76\u5230master\u5206\u652f\u3002</p>"},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/#_5","title":"\u5206\u652f\u7b56\u7565\u7684\u6a21\u5f0f","text":"<p>\u4e0a\u9762\u8bb2\u89e3\u7684\u65b9\u5f0f\uff0c\u5176\u5b9e\u662f\u4e00\u79cd\u79f0\u4e3agithub-flow\u7684\u5206\u652f\u7b56\u7565\u6a21\u5f0f\uff0c\u8fd9\u79cd\u6a21\u5f0f\u7684\u64cd\u4f5c\u6b65\u9aa4\u5305\u62ec\uff1a</p> <ol> <li>master\u7684\u5185\u5bb9\u90fd\u662f\u53ef\u4ee5\u8fdb\u884c\u53d1\u5e03\u7684\u5185\u5bb9\u3002</li> <li>\u5f00\u53d1\u65f6\u5e94\u8be5\u4ee5master\u4e3a\u57fa\u7840\u5efa\u7acb\u65b0\u5206\u652f\u3002</li> <li>\u5206\u652f\u5148\u5728\u672c\u5730\u5b9e\u65bd\u7248\u672c\u63a7\u5236\uff0c\u7136\u540e\u4ee5\u540c\u540d\u5206\u652f\u5b9a\u671f\u5411\u670d\u52a1\u5668\u8fdb\u884cPush\u3002</li> <li>\u5f00\u53d1\u7ed3\u675f\u540e\u5411master\u53d1\u9001Pull Request\u3002</li> <li>Pull Request\u901a\u8fc7\u4ee3\u7801\u5ba1\u67e5\u4e4b\u540e\u5408\u5e76\u5230master\uff0c\u5e76\u4ecemaster\u5411\u6b63\u5f0f\u73af\u5883\u53d1\u5e03\u3002</li> </ol> <p>\u5728\u4f7f\u7528github-flow\u65f6\u7684\u6ce8\u610f\u4e8b\u9879\u6709\u4ee5\u4e0b\u4e09\u70b9\uff1a</p> <ol> <li>master\u662f\u7528\u4e8e\u53d1\u5e03\u7684\uff0c\u4e0d\u80fd\u76f4\u63a5\u5728master\u4e0a\u8fdb\u884c\u4fee\u6539\u3002</li> <li>\u5f00\u59cb\u65e5\u5e38\u5f00\u53d1\u5de5\u4f5c\u65f6\u8981\u9996\u5148\u5efa\u7acb\u5206\u652f\u3002</li> <li>\u5de5\u4f5c\u5b8c\u6210\u540e\u5411master\u53d1\u9001Pull Request\u3002</li> </ol> <p>\u9664\u4e86\u4e0a\u8ff0\u7684github-flow\u5de5\u4f5c\u65b9\u5f0f\u5916\uff0c\u8fd8\u6709\u4e00\u79cd\u540d\u4e3agit-flow\u7684\u5206\u652f\u7b56\u7565\u6a21\u5f0f\uff0c\u5b83\u501f\u9274\u4e86\u4e2d\u592e\u96c6\u6743\u578b\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u7684\u957f\u5904\uff0c\u4e3a\u56e2\u961f\u5185\u90e8\u7edf\u4e00\u7ba1\u7406\u5efa\u7acb\u5206\u652f\u7684\u65b9\u6cd5\u3001\u5408\u5e76\u64cd\u4f5c\u548c\u5173\u95ed\u5206\u652f\u7684\u65b9\u6cd5\u3002\u5728\u8fd9\u79cd\u6a21\u5f0f\u4e0b\uff0c\u9879\u76ee\u6709\u4e24\u4e2a\u957f\u7ebf\u5206\u652f\uff0c\u5206\u522b\u662fmaster\u548cdevelop\uff0c\u5176\u4ed6\u7684\u90fd\u662f\u4e34\u65f6\u7684\u3001\u77ed\u6682\u7684\u8f85\u52a9\u5206\u652f\uff0c\u5305\u62ecfeature\uff08\u5f00\u53d1\u7279\u5b9a\u529f\u80fd\u7684\u5206\u652f\uff0c\u5f00\u53d1\u7ed3\u675f\u540e\u5408\u5e76\u5230develop\uff09\u3001release\uff08\u4ecedevelop\u5206\u79bb\u51fa\u6765\u7684\u4e3a\u53d1\u5e03\u505a\u51c6\u5907\u7684\u5206\u652f\uff0c\u53d1\u5e03\u7ed3\u675f\u540e\u5408\u5e76\u5230master\u548cdevelop\uff09\u548chotfix\uff08\u4ea7\u54c1\u53d1\u5e03\u540e\u51fa\u73b0\u95ee\u9898\u65f6\u7d27\u6025\u5efa\u7acb\u7684\u5206\u652f\uff0c\u76f4\u63a5\u4ecemaster\u5206\u79bb\uff0c\u95ee\u9898\u4fee\u590d\u540e\u5408\u5e76\u5230master\u5e76\u6253\u4e0a\u6807\u7b7e\uff0c\u540c\u65f6\u8fd8\u8981\u5408\u5e76\u5230develop\u6765\u907f\u514d\u5c06\u6765\u7684\u7248\u672c\u9057\u6f0f\u4e86\u8fd9\u4e2a\u4fee\u590d\u5de5\u4f5c\uff0c\u5982\u679c\u6b64\u65f6\u6709\u6b63\u5728\u53d1\u5e03\u4e2d\u7684release\u5206\u652f\uff0c\u8fd8\u8981\u5408\u5e76\u5230release\u5206\u652f\uff09\u3002\u8fd9\u5957\u65b9\u5f0f\u5206\u652f\u7b56\u7565\u7b80\u5355\u6e05\u6670\u4e14\u5bb9\u6613\u7406\u89e3\uff0c\u4f46\u662f\u5728\u8fd0\u7528\u4e0a\u4f1a\u7a0d\u5fae\u6709\u4e9b\u590d\u6742\uff0c\u9700\u8981\u4e00\u4e9b\u811a\u672c\u6765\u8f85\u52a9\u7248\u672c\u63a7\u5236\u7684\u5b9e\u65bd\u3002</p>"},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/#_6","title":"\u7f3a\u9677\u7ba1\u7406","text":"<p>\u6ca1\u6709\u597d\u7684\u56e2\u961f\u7ba1\u7406\u5de5\u5177\u5fc5\u7136\u5bfc\u81f4\u9879\u76ee\u8fdb\u5c55\u4e0d\u987a\u5229\uff0c\u4efb\u52a1\u7ba1\u7406\u56f0\u96be\uff0c\u800c\u5f15\u5165\u7f3a\u9677\u7ba1\u7406\u7cfb\u7edf\u6b63\u597d\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0c\u901a\u5e38\u4e00\u4e2a\u7f3a\u9677\u7ba1\u7406\u7cfb\u7edf\u90fd\u5305\u542b\u4e86\u4ee5\u4e0b\u7684\u529f\u80fd\uff1a</p> <ol> <li>\u4efb\u52a1\u7ba1\u7406\uff08\u5305\u62ec\u5fc5\u987b\u505a\u4ec0\u4e48\u3001\u8c01\u6765\u505a\u3001\u4ec0\u4e48\u65f6\u5019\u5b8c\u6210\u3001\u73b0\u5728\u5904\u4e8e\u4ec0\u4e48\u72b6\u6001\u7b49\uff09\u3002</li> <li>\u76f4\u89c2\u800c\u4e14\u53ef\u4ee5\u68c0\u7d22\u8fc7\u53bb\u53d1\u751f\u7684\u5404\u79cd\u95ee\u9898\u3002</li> <li>\u80fd\u591f\u5bf9\u4fe1\u606f\u8fdb\u884c\u7edf\u4e00\u7684\u7ba1\u7406\u548c\u5171\u4eab\u3002</li> <li>\u80fd\u591f\u751f\u6210\u5404\u7c7b\u62a5\u8868\u3002</li> <li>\u80fd\u591f\u5173\u8054\u5230\u5176\u4ed6\u7cfb\u7edf\uff0c\u5177\u6709\u53ef\u6269\u5c55\u6027\u3002</li> </ol> <p>Redmine\u662f\u57fa\u4e8eRuby on Rails\u6846\u67b6\u7684\u5f00\u6e90\u7f3a\u9677\u7ba1\u7406\u7cfb\u7edf\uff0c\u63d0\u4f9b\u4e86\u95ee\u9898\u7ba1\u7406\u3001\u4ee3\u7801\u7ba1\u7406\u3001Wiki\u7b49\u5fc5\u8981\u7684\u529f\u80fd\uff0c\u800c\u4e14\u652f\u6301\u63d2\u4ef6\u7cfb\u7edf\uff0c\u6269\u5c55\u8d77\u6765\u4e5f\u975e\u5e38\u5bb9\u6613\u3002</p> <p></p> <p>\u5982\u679c\u5e0c\u671b\u4e86\u89e3\u548c\u4f7f\u7528Redmine\uff0c\u53ef\u4ee5\u5173\u6ce8Redmine\u4e2d\u6587\u7f51\uff0c\u4e0a\u9762\u63d0\u4f9b\u4e86\u89c6\u9891\u6559\u7a0b\u3001\u7ecf\u9a8c\u5206\u4eab\u4ee5\u53ca\u5176\u4ed6\u7684\u5b89\u88c5\u548c\u4f7f\u7528\u4e0a\u7684\u6307\u5bfc\u3002</p>"},{"location":"python/Py-100Days/Day91-100/91.%E5%9B%A2%E9%98%9F%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%87%86%E5%A4%87/#_7","title":"\u6301\u7eed\u96c6\u6210","text":"<p>\u4e3a\u4e86\u5feb\u901f\u7684\u4ea7\u751f\u9ad8\u54c1\u8d28\u7684\u8f6f\u4ef6\uff0c\u5728\u56e2\u961f\u5f00\u53d1\u4e2d\uff0c\u6301\u7eed\u96c6\u6210\uff08CI\uff09\u4e5f\u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u57fa\u7840\u3002\u6309\u7167\u7ecf\u5178\u7684\u8f6f\u4ef6\u8fc7\u7a0b\u6a21\u578b\uff08\u7011\u5e03\u6a21\u578b\uff09\uff0c\u96c6\u6210\u7684\u5de5\u4f5c\u4e00\u822c\u8981\u7b49\u5230\u6240\u6709\u7684\u5f00\u53d1\u5de5\u4f5c\u90fd\u7ed3\u675f\u540e\u624d\u80fd\u5f00\u59cb\uff0c\u4f46\u8fd9\u4e2a\u65f6\u5019\u5982\u679c\u53d1\u73b0\u4e86\u95ee\u9898\uff0c\u4fee\u590d\u95ee\u9898\u7684\u4ee3\u4ef7\u662f\u975e\u5e38\u5177\u4f53\u7684\u3002\u57fa\u672c\u4e0a\uff0c\u96c6\u6210\u5b9e\u65bd\u5f97\u8d8a\u665a\uff0c\u4ee3\u7801\u91cf\u8d8a\u5927\uff0c\u89e3\u51b3\u95ee\u9898\u5c31\u8d8a\u56f0\u96be\u3002\u6301\u7eed\u96c6\u6210\u5c06\u7248\u672c\u63a7\u5236\u3001\u81ea\u52a8\u5316\u6784\u5efa\u3001\u4ee3\u7801\u6d4b\u8bd5\u878d\u5165\u5230\u4e00\u8d77\uff0c\u8ba9\u8fd9\u4e9b\u5de5\u4f5c\u53d8\u5f97\u81ea\u52a8\u5316\u548c\u53ef\u534f\u4f5c\u3002\u7531\u4e8e\u5176\u9891\u7e41\u91cd\u590d\u6574\u4e2a\u5f00\u53d1\u6d41\u7a0b\uff08\u5728\u6307\u5b9a\u65f6\u95f4\u5185\u591a\u6b21pull\u6e90\u4ee3\u7801\u5e76\u8fd0\u884c\u6d4b\u8bd5\u4ee3\u7801\uff09\uff0c\u6240\u4ee5\u80fd\u5e2e\u52a9\u5f00\u53d1\u8005\u63d0\u65e9\u53d1\u73b0\u95ee\u9898\u3002</p> <p>\u5728\u6240\u6709\u7684CI\u5de5\u5177\u4e2d\uff0cJenkins\u548cTravisCI\u662f\u6700\u5177\u6709\u4ee3\u8868\u6027\u7684\u3002</p> <p>Jenkins \u662f\u57fa Java\u7684\u5f00\u6e90CI\u5de5\u5177\uff0c\u5176\u5b89\u88c5\u548c\u64cd\u4f5c\u90fd\u5f88\u7b80\u5355\u3002\u53e6\u5916\uff0cJenkins\u4e0d\u4ec5\u80fd\u5728\u9762\u677f\u4e0a\u8f7b\u677e\u770b\u51fa\u4efb\u52a1\u6210\u529f\u6216\u5931\u8d25\uff0c\u8fd8\u53ef\u4ee5\u501f\u52a9\u901a\u77e5\u529f\u80fd\u5c06\u7ed3\u679c\u4ee5\u90ae\u4ef6\u6216RSS\u8ba2\u9605\u7684\u5f62\u5f0f\u53d1\u7ed9\u7528\u6237\u3002\u4e0e\u6b64\u540c\u65f6\uff0cJenkins\u4e5f\u5141\u8bb8\u901a\u8fc7\u63d2\u4ef6\u8fdb\u884c\u529f\u80fd\u6269\u5c55\uff0c\u6240\u9700\u529f\u80fd\u53ef\u4ee5\u968f\u7528\u968f\u6dfb\u52a0\uff0c\u800c\u4e14\u8fd8\u652f\u6301\u4e3b\u4ece\u5f0f\u96c6\u7fa4\uff0c\u80fd\u591f\u8f7b\u677e\u7684\u8fdb\u884c\u6c34\u5e73\u6269\u5c55\u3002</p>"},{"location":"python/Py-100Days/Day91-100/92.Docker%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8/","title":"92.Docker\u5728\u9879\u76ee\u4e2d\u7684\u5e94\u7528","text":""},{"location":"python/Py-100Days/Day91-100/92.Docker%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8/#docker","title":"Docker\u5728\u9879\u76ee\u4e2d\u7684\u5e94\u7528","text":""},{"location":"python/Py-100Days/Day91-100/92.Docker%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8/#docker_1","title":"Docker\u7b80\u4ecb","text":"<p>\u8f6f\u4ef6\u5f00\u53d1\u4e2d\u6700\u4e3a\u9ebb\u70e6\u7684\u4e8b\u60c5\u53ef\u80fd\u5c31\u662f\u914d\u7f6e\u73af\u5883\u4e86\u3002\u7531\u4e8e\u7528\u6237\u4f7f\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u5177\u6709\u591a\u6837\u6027\uff0c\u5373\u4fbf\u4f7f\u7528\u8de8\u5e73\u53f0\u7684\u5f00\u53d1\u8bed\u8a00\uff08\u5982Java\u548cPython\uff09\u90fd\u4e0d\u80fd\u4fdd\u8bc1\u4ee3\u7801\u80fd\u591f\u5728\u5404\u79cd\u5e73\u53f0\u4e0b\u90fd\u53ef\u4ee5\u6b63\u5e38\u7684\u8fd0\u8f6c\uff0c\u800c\u4e14\u53ef\u80fd\u5728\u4e0d\u540c\u7684\u73af\u5883\u4e0b\u6211\u4eec\u7684\u8f6f\u4ef6\u9700\u8981\u4f9d\u8d56\u7684\u5176\u4ed6\u8f6f\u4ef6\u5305\u4e5f\u662f\u4e0d\u4e00\u6837\u7684\u3002</p> <p>\u90a3\u4e48\u95ee\u9898\u6765\u4e86\uff0c\u6211\u4eec\u5b89\u88c5\u8f6f\u4ef6\u7684\u65f6\u5019\u53ef\u4e0d\u53ef\u4ee5\u628a\u8f6f\u4ef6\u8fd0\u884c\u7684\u73af\u5883\u4e00\u5e76\u5b89\u88c5\uff1f\u6211\u4eec\u662f\u4e0d\u662f\u53ef\u4ee5\u628a\u539f\u59cb\u73af\u5883\u4e00\u6a21\u4e00\u6837\u5730\u590d\u5236\u8fc7\u6765\u5462\uff1f</p> <p>\u865a\u62df\u673a\uff08virtual machine\uff09\u5c31\u662f\u5e26\u73af\u5883\u5b89\u88c5\u7684\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\uff0c\u5b83\u53ef\u4ee5\u5728\u4e00\u79cd\u64cd\u4f5c\u7cfb\u7edf\u91cc\u9762\u8fd0\u884c\u53e6\u4e00\u79cd\u64cd\u4f5c\u7cfb\u7edf\uff0c\u6bd4\u5982\u5728Windows\u7cfb\u7edf\u91cc\u9762\u8fd0\u884cLinux\u7cfb\u7edf\uff0c\u5728macOS\u4e0a\u8fd0\u884cWindows\uff0c\u800c\u5e94\u7528\u7a0b\u5e8f\u5bf9\u6b64\u6beb\u65e0\u611f\u77e5\u3002\u4f7f\u7528\u8fc7\u865a\u62df\u673a\u7684\u4eba\u90fd\u77e5\u9053\uff0c\u865a\u62df\u673a\u7528\u8d77\u6765\u8ddf\u771f\u5b9e\u7cfb\u7edf\u4e00\u6a21\u4e00\u6837\uff0c\u800c\u5bf9\u4e8e\u865a\u62df\u673a\u7684\u5bbf\u4e3b\u7cfb\u7edf\u6765\u8bf4\uff0c\u865a\u62df\u673a\u5c31\u662f\u4e00\u4e2a\u666e\u901a\u6587\u4ef6\uff0c\u4e0d\u9700\u8981\u4e86\u5c31\u5220\u6389\uff0c\u5bf9\u5bbf\u4e3b\u7cfb\u7edf\u6216\u8005\u5176\u4ed6\u7684\u7a0b\u5e8f\u5e76\u6ca1\u6709\u5f71\u54cd\u3002\u4f46\u662f\u865a\u62df\u673a\u901a\u5e38\u4f1a\u5360\u7528\u8f83\u591a\u7684\u7cfb\u7edf\u8d44\u6e90\uff0c\u542f\u52a8\u548c\u5173\u95ed\u4e5f\u975e\u5e38\u7684\u7f13\u6162\uff0c\u603b\u4e4b\u7528\u6237\u4f53\u9a8c\u6ca1\u6709\u60f3\u8c61\u4e2d\u7684\u90a3\u4e48\u597d\u3002</p> <p>Docker\u5c5e\u4e8e\u5bf9Linux\u5bb9\u5668\u6280\u672f\u7684\u4e00\u79cd\u5c01\u88c5\uff08\u5229\u7528\u4e86Linux\u7684namespace\u548ccgroup\u6280\u672f\uff09\uff0c\u5b83\u63d0\u4f9b\u4e86\u7b80\u5355\u6613\u7528\u7684\u5bb9\u5668\u4f7f\u7528\u63a5\u53e3\uff0c\u662f\u76ee\u524d\u6700\u6d41\u884c\u7684 Linux \u5bb9\u5668\u89e3\u51b3\u65b9\u6848\u3002Docker\u5c06\u5e94\u7528\u7a0b\u5e8f\u4e0e\u8be5\u7a0b\u5e8f\u7684\u4f9d\u8d56\u6253\u5305\u5728\u4e00\u4e2a\u6587\u4ef6\u91cc\u9762\uff0c\u8fd0\u884c\u8fd9\u4e2a\u6587\u4ef6\uff0c\u5c31\u4f1a\u751f\u6210\u4e00\u4e2a\u865a\u62df\u5bb9\u5668\u3002\u7a0b\u5e8f\u5728\u8fd9\u4e2a\u865a\u62df\u5bb9\u5668\u91cc\u8fd0\u884c\uff0c\u5c31\u597d\u50cf\u5728\u771f\u5b9e\u7684\u7269\u7406\u673a\u4e0a\u8fd0\u884c\u4e00\u6837\u3002\u6709\u4e86Docker\u5c31\u518d\u4e5f\u4e0d\u7528\u62c5\u5fc3\u73af\u5883\u95ee\u9898\u4e86\u3002</p> <p></p> <p>\u76ee\u524d\uff0cDocker\u4e3b\u8981\u7528\u4e8e\u51e0\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a</p> <ol> <li>\u63d0\u4f9b\u4e00\u6b21\u6027\u7684\u73af\u5883\u3002</li> <li>\u63d0\u4f9b\u5f39\u6027\u7684\u4e91\u670d\u52a1\uff08\u5229\u7528Docker\u5f88\u5bb9\u6613\u5b9e\u73b0\u6269\u5bb9\u548c\u6536\u7f29\uff09\u3002</li> <li>\u5b9e\u8df5\u5fae\u670d\u52a1\u67b6\u6784\uff08\u9694\u79bb\u771f\u5b9e\u73af\u5883\u5728\u5bb9\u5668\u4e2d\u8fd0\u884c\u591a\u4e2a\u670d\u52a1\uff09\u3002</li> </ol>"},{"location":"python/Py-100Days/Day91-100/92.Docker%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8/#docker_2","title":"\u5b89\u88c5Docker","text":"<p>\u4e0b\u9762\u7684\u8bb2\u89e3\u4ee5CentOS\u4e3a\u4f8b\uff0c\u4f7f\u7528Ubuntu\u3001macOS\u6216Windows\u7684\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u70b9\u51fb\u94fe\u63a5\u4e86\u89e3\u8fd9\u4e9b\u5e73\u53f0\u4e0b\u5982\u4f55\u5b89\u88c5\u548c\u4f7f\u7528Docker\u3002</p> <ol> <li>\u786e\u5b9a\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u7248\u672c\uff08CentOS 7\u8981\u6c4264\u4f4d\uff0c\u5185\u6838\u7248\u672c3.10+\uff1bCentOS 6\u8981\u6c4264\u4f4d\uff0c\u5185\u6838\u7248\u672c2.6+\uff09\u3002</li> </ol> <pre><code>uname -r\n</code></pre> <ol> <li>\u5728CentOS\u4e0b\u4f7f\u7528yum\u5b89\u88c5Docker\u5e76\u542f\u52a8\u3002</li> </ol> <pre><code>yum -y install docker-io\nsystemctl start docker\n</code></pre> <ol> <li>\u68c0\u89c6Docker\u7684\u4fe1\u606f\u548c\u7248\u672c\u3002</li> </ol> <pre><code>docker version\ndocker info\n</code></pre> <ol> <li>\u8fd0\u884cHello-World\u9879\u76ee\u6765\u6d4b\u8bd5Docker\u3002\u7b2c\u4e00\u6b21\u8fd0\u884c\u65f6\u7531\u4e8e\u672c\u5730\u6ca1\u6709hello-world\u7684\u955c\u50cf\u56e0\u6b64\u9700\u8981\u8054\u7f51\u8fdb\u884c\u4e0b\u8f7d\u3002</li> </ol> <pre><code>docker run hello-world\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u5148\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u4e0b\u8f7d\u955c\u50cf\uff0c\u7136\u540e\u518d\u6765\u8fd0\u884c\u3002</p> <p><code>Shell docker pull &lt;name&gt;</code></p> <ol> <li>\u8fd0\u884c\u955c\u50cf\u6587\u4ef6\u3002</li> </ol> <pre><code>docker run &lt;image-id&gt;\ndocker run -p &lt;port1&gt;:&lt;port2&gt; &lt;name&gt;\n</code></pre> <ol> <li>\u67e5\u770b\u955c\u50cf\u6587\u4ef6\u3002</li> </ol> <pre><code>docker image ls\ndocker images\n</code></pre> <ol> <li>\u5220\u9664\u955c\u50cf\u6587\u4ef6\u3002</li> </ol> <pre><code>docker rmi &lt;name&gt;\n</code></pre> <ol> <li>\u67e5\u770b\u6b63\u5728\u8fd0\u884c\u5bb9\u5668\u3002</li> </ol> <pre><code>docker ps\n</code></pre> <ol> <li>\u505c\u6b62\u8fd0\u884c\u7684\u5bb9\u5668\u3002</li> </ol> <pre><code>docker stop &lt;container-id&gt;\ndocker stop &lt;name&gt;\n</code></pre> <p>\u5bf9\u4e8e\u90a3\u4e9b\u4e0d\u4f1a\u81ea\u52a8\u7ec8\u6b62\u7684\u5bb9\u5668\uff0c\u5c31\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u65b9\u5f0f\u6765\u505c\u6b62\u3002</p> <pre><code>docker container kill &lt;container-id&gt;\n</code></pre> <p>\u5728Ubuntu\uff08\u5185\u6838\u7248\u672c3.10+\uff09\u4e0b\u9762\u5b89\u88c5\u548c\u542f\u52a8Docker\uff0c\u53ef\u4ee5\u6309\u7167\u5982\u4e0b\u7684\u6b65\u9aa4\u8fdb\u884c\u3002</p> <pre><code>apt update\napt install docker-ce\nservice docker start\n</code></pre> <p>\u5728\u6709\u5fc5\u8981\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u66f4\u6362Ubuntu\u8f6f\u4ef6\u4e0b\u8f7d\u6e90\u6765\u63d0\u5347\u4e0b\u8f7d\u901f\u5ea6\uff0c\u5177\u4f53\u7684\u505a\u6cd5\u8bf7\u53c2\u7167https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/\u3002</p> <p>\u5b89\u88c5Docker\u540e\uff0c\u7531\u4e8e\u76f4\u63a5\u8bbf\u95eedockerhub\u4e0b\u8f7d\u955c\u50cf\u4f1a\u975e\u5e38\u7f13\u6162\uff0c\u5efa\u8bae\u66f4\u6362\u56fd\u5185\u955c\u50cf\uff0c\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539<code>/etc/docker/daemon.js</code>\u6587\u4ef6\u6765\u505a\u5230\u3002\u5982\u679c\u4f7f\u7528\u4e91\u670d\u52a1\u5668\uff08\u5982\uff1a\u963f\u91cc\u4e91\uff09\uff0c\u901a\u5e38\u4e91\u670d\u52a1\u5668\u63d0\u4f9b\u5546\u4f1a\u63d0\u4f9b\u9ed8\u8ba4\u7684\u955c\u50cf\u670d\u52a1\u5668\uff0c\u5e76\u4e0d\u9700\u8981\u624b\u52a8\u8fdb\u884c\u6307\u5b9a\u3002</p> <pre><code>{\n    \"registry-mirrors\": [\n        \"http://hub-mirror.c.163.com\",\n        \"https://registry.docker-cn.com\"\n    ]\n}\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/92.Docker%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8/#docker_3","title":"\u4f7f\u7528Docker","text":""},{"location":"python/Py-100Days/Day91-100/92.Docker%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8/#nginx","title":"\u5b89\u88c5Nginx","text":"<p>\u4e0b\u9762\u6211\u4eec\u5c31\u57fa\u4e8eDocker\u6765\u8fd0\u884c\u4e00\u53f0HTTP\u670d\u52a1\u5668\uff0c\u6211\u4eec\u9009\u62e9\u7528Nginx\u6765\u642d\u5efa\u8be5\u670d\u52a1\uff0c\u56e0\u4e3aNginx\u662f\u9ad8\u6027\u80fd\u7684Web\u670d\u52a1\u5668\uff0c\u540c\u65f6\u4e5f\u662f\u505a\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u5668\u7684\u4e0a\u4f73\u9009\u62e9\u3002\u8981\u505a\u5230\u8fd9\u4ef6\u4e8b\u60c5\uff0c\u53ea\u9700\u8981\u4e0b\u9762\u8fd9\u6761\u547d\u4ee4\u5728Docker\u4e2d\u521b\u5efa\u4e00\u4e2a\u5bb9\u5668\u5373\u53ef\u3002</p> <pre><code>docker container run -d -p 80:80 --rm --name mynginx nginx\n</code></pre> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u7684\u53c2\u6570<code>-d</code>\u8868\u793a\u5bb9\u5668\u5728\u540e\u53f0\u8fd0\u884c\uff08\u4e0d\u4ea7\u751f\u8f93\u51fa\u5230Shell\uff09\u5e76\u663e\u793a\u5bb9\u5668\u7684ID\uff1b<code>-p</code>\u662f\u7528\u6765\u6620\u5c04\u5bb9\u5668\u7684\u7aef\u53e3\u5230\u5bbf\u4e3b\u673a\u7684\u7aef\u53e3\uff1b<code>--rm</code>\u8868\u793a\u5bb9\u5668\u505c\u6b62\u540e\u81ea\u52a8\u5220\u9664\u5bb9\u5668\uff0c\u4f8b\u5982\u901a\u8fc7<code>docker container stop mynginx</code>\u4ee5\u540e\uff0c\u5bb9\u5668\u5c31\u6ca1\u6709\u4e86\uff1b<code>\u2014name</code>\u540e\u9762\u7684mynginx\u5c31\u662f\u81ea\u5b9a\u4e49\u5bb9\u5668\u7684\u540d\u5b57\u3002\u5728\u521b\u5efa\u5bb9\u5668\u7684\u8fc7\u7a0b\u4e2d\uff0c\u9700\u8981\u7528\u5230nginx\u7684\u955c\u50cf\u6587\u4ef6\uff0c\u955c\u50cf\u6587\u4ef6\u7684\u4e0b\u8f7d\u662f\u81ea\u52a8\u5b8c\u6210\u7684\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u7248\u672c\u53f7\uff0c\u9ed8\u8ba4\u662f\u6700\u65b0\u7248\u672c\uff08latest\uff09\u3002</p> <p>\u5982\u679c\u9700\u8981\u5c06\u81ea\u5df1\u7684Web\u9879\u76ee\uff08\u9875\u9762\uff09\u90e8\u7f72\u5230Nginx\u4e0a\uff0c\u53ef\u4ee5\u4f7f\u7528\u5bb9\u5668\u62f7\u8d1d\u547d\u4ee4\u5c06\u6307\u5b9a\u8def\u5f84\u4e0b\u6240\u6709\u7684\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u62f7\u8d1d\u5230\u5bb9\u5668\u7684\u6307\u5b9a\u76ee\u5f55\u4e2d\u3002</p> <pre><code>docker container cp /root/web/index.html mynginx:/usr/share/nginx/html\n</code></pre> <p>\u5982\u679c\u4e0d\u613f\u610f\u62f7\u8d1d\u6587\u4ef6\u4e5f\u53ef\u4ee5\u5728\u521b\u5efa\u5bb9\u5668\u65f6\u901a\u8fc7\u6570\u636e\u5377\u64cd\u4f5c<code>--volume</code>\u5c06\u6307\u5b9a\u7684\u6587\u4ef6\u5939\u6620\u5c04\u5230\u5bb9\u5668\u7684\u67d0\u4e2a\u76ee\u5f55\u4e2d\uff0c\u4f8b\u5982\u5c06Web\u9879\u76ee\u7684\u6587\u4ef6\u5939\u76f4\u63a5\u6620\u5c04\u5230<code>/usr/share/nginx/html</code>\u76ee\u5f55\u3002</p> <pre><code>docker container run -d -p 80:80 --rm --name mynginx --volume $PWD/html:/usr/share/nginx/html nginx\n</code></pre> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u521b\u5efa\u5bb9\u5668\u548c\u62f7\u8d1d\u6587\u4ef6\u7684\u547d\u4ee4\u4e2d\uff0c<code>container</code>\u662f\u53ef\u4ee5\u7701\u7565\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4<code>docker container run</code>\u548c<code>docker run</code>\u662f\u4e00\u6837\u7684\uff0c\u800c<code>docker container cp</code>\u548c<code>docker cp</code>\u662f\u4e00\u6837\u7684\u3002\u6b64\u5916\uff0c\u547d\u4ee4\u4e2d\u7684<code>--volume</code>\u4e5f\u53ef\u4ee5\u7f29\u5199\u4e3a<code>-v</code>\uff0c\u5c31\u5982\u540c<code>-d</code>\u662f<code>--detach</code>\u7684\u7f29\u5199\uff0c<code>-p</code>\u662f<code>--publish</code>\u7684\u7f29\u5199\u3002<code>$PWD</code>\u4ee3\u8868\u5bbf\u4e3b\u7cfb\u7edf\u5f53\u524d\u6587\u4ef6\u5939\uff0c\u8fd9\u4e2a\u7528\u8fc7Linux\u7cfb\u7edf\u7684\u4eba\u76f8\u4fe1\u5f88\u5bb9\u6613\u7406\u89e3\u3002</p> <p>\u8981\u67e5\u770b\u8fd0\u884c\u4e2d\u7684\u5bb9\u5668\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u3002</p> <pre><code>docker ps\n</code></pre> <p>\u8981\u8ba9\u521a\u624d\u521b\u5efa\u7684\u5bb9\u5668\u505c\u4e0b\u6765\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u3002</p> <pre><code>docker stop mynginx\n</code></pre> <p>\u7531\u4e8e\u5728\u521b\u5efa\u5bb9\u5668\u65f6\u4f7f\u7528\u4e86<code>--rm</code>\u9009\u9879\uff0c\u5bb9\u5668\u5728\u505c\u6b62\u65f6\u4f1a\u88ab\u79fb\u9664\uff0c\u5f53\u6211\u4eec\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u67e5\u770b\u6240\u6709\u5bb9\u5668\u65f6\uff0c\u5e94\u8be5\u5df2\u7ecf\u770b\u4e0d\u5230\u521a\u624d\u7684<code>mynginx</code>\u5bb9\u5668\u4e86\u3002</p> <pre><code>docker container ls -a\n</code></pre> <p>\u5982\u679c\u5728\u521b\u5efa\u5bb9\u5668\u65f6\u6ca1\u6709\u6307\u5b9a<code>--rm</code>\u9009\u9879\uff0c\u90a3\u4e48\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u5220\u9664\u5bb9\u5668\u3002</p> <pre><code>docker rm mynginx\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/92.Docker%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8/#mysql","title":"\u5b89\u88c5MySQL","text":"<p>\u6211\u4eec\u53ef\u4ee5\u5148\u68c0\u67e5\u4e00\u4e0b\u670d\u52a1\u5668\u4e0a\u6709\u6ca1\u6709MySQL\u7684\u955c\u50cf\u6587\u4ef6\u3002</p> <pre><code>docker search mysql\n</code></pre> <p>\u4e0b\u8f7dMySQL\u955c\u50cf\u5e76\u6307\u5b9a\u955c\u50cf\u7684\u7248\u672c\u53f7\u3002</p> <pre><code>docker pull mysql:5.7\n</code></pre> <p>\u5982\u679c\u9700\u8981\u67e5\u770b\u5df2\u7ecf\u4e0b\u8f7d\u7684\u955c\u50cf\u6587\u4ef6\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u3002</p> <pre><code>docker images\n</code></pre> <p>\u521b\u5efa\u5e76\u8fd0\u884cMySQL\u5bb9\u5668\u3002</p> <pre><code>docker run -d -p 3306:3306 --name mysql57 -v $PWD/mysql/conf:/etc/mysql/mysql.cnf.d -v $PWD/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 mysql:5.7\n</code></pre> <p>\u6ce8\u610f\uff0c\u4e0a\u9762\u521b\u5efa\u5bb9\u5668\u65f6\u6211\u4eec\u53c8\u4e00\u6b21\u4f7f\u7528\u4e86\u6570\u636e\u5377\u64cd\u4f5c\uff0c\u90a3\u662f\u56e0\u4e3a\u901a\u5e38\u5bb9\u5668\u662f\u968f\u65f6\u521b\u5efa\u968f\u65f6\u5220\u9664\u7684\uff0c\u800c\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u5374\u662f\u9700\u8981\u4fdd\u7559\u4e0b\u6765\u7684\uff0c\u6240\u4ee5\u4e0a\u9762\u7684\u4e24\u4e2a\u6570\u636e\u5377\u64cd\u4f5c\u4e00\u4e2a\u662f\u6620\u5c04\u4e86MySQL\u914d\u7f6e\u6587\u4ef6\u6240\u5728\u7684\u6587\u4ef6\u5939\uff0c\u4e00\u4e2a\u662f\u6620\u5c04\u4e86MySQL\u6570\u636e\u6240\u5728\u7684\u6587\u4ef6\u5939\uff0c\u8fd9\u91cc\u7684\u6570\u636e\u5377\u64cd\u4f5c\u975e\u5e38\u91cd\u8981\u3002\u6211\u4eec\u53ef\u4ee5\u5c06MySQL\u7684\u914d\u7f6e\u6587\u4ef6\u653e\u5728<code>$PWD/mysql/conf</code>\u76ee\u5f55\u4e0b\uff0c\u914d\u7f6e\u6587\u4ef6\u7684\u5177\u4f53\u5185\u5bb9\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>[mysqld]\npid-file=/var/run/mysqld/mysqld.pid\nsocket=/var/run/mysqld/mysqld.sock\ndatadir=/var/lib/mysql\nlog-error=/var/log/mysql/error.log\nserver-id=1\nlog-bin=/var/log/mysql/mysql-bin.log\nexpire_logs_days=30\nmax_binlog_size=256M\nsymbolic-links=0\n</code></pre> <p>\u5982\u679c\u5b89\u88c5\u4e86MySQL 8.x\u7248\u672c\uff08\u76ee\u524d\u7684\u6700\u65b0\u7248\u672c\uff09\uff0c\u5728\u4f7f\u7528\u5ba2\u6237\u7aef\u5de5\u5177\u8fde\u63a5\u670d\u52a1\u5668\u65f6\u53ef\u80fd\u4f1a\u9047\u5230\u201cerror 2059: Authentication plugin 'caching_sha2_password' cannot be loaded\u201d\u7684\u95ee\u9898\uff0c\u8fd9\u662f\u56e0\u4e3aMySQL 8.x\u9ed8\u8ba4\u4f7f\u7528\u4e86\u540d\u4e3a\u201ccaching_sha2_password\u201d\u7684\u673a\u5236\u5bf9\u7528\u6237\u53e3\u4ee4\u8fdb\u884c\u4e86\u66f4\u597d\u7684\u4fdd\u62a4\uff0c\u4f46\u662f\u5982\u679c\u5ba2\u6237\u7aef\u5de5\u5177\u4e0d\u652f\u6301\u65b0\u7684\u8ba4\u8bc1\u65b9\u5f0f\uff0c\u8fde\u63a5\u5c31\u4f1a\u5931\u8d25\u3002\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a\u4e00\u662f\u5347\u7ea7\u5ba2\u6237\u7aef\u5de5\u5177\u6765\u652f\u6301MySQL 8.x\u7684\u8ba4\u8bc1\u65b9\u5f0f\uff1b\u4e8c\u662f\u8fdb\u5165\u5bb9\u5668\uff0c\u4fee\u6539MySQL\u7684\u7528\u6237\u53e3\u4ee4\u8ba4\u8bc1\u65b9\u5f0f\u3002\u4e0b\u9762\u662f\u5177\u4f53\u7684\u6b65\u9aa4\uff0c\u6211\u4eec\u5148\u7528<code>docker exec</code>\u547d\u4ee4\u8fdb\u5165\u5bb9\u5668\u7684\u4ea4\u4e92\u5f0f\u73af\u5883\uff0c\u5047\u8bbe\u8fd0\u884cMySQL 8.x\u7684\u5bb9\u5668\u540d\u5b57\u53eb<code>mysql8x</code>\u3002</p> <pre><code>docker exec -it mysql8x /bin/bash\n</code></pre> <p>\u8fdb\u5165\u5bb9\u5668\u7684\u4ea4\u4e92\u5f0fShell\u4e4b\u540e\uff0c\u53ef\u4ee5\u9996\u5148\u5229\u7528MySQL\u7684\u5ba2\u6237\u7aef\u5de5\u5177\u8fde\u63a5MySQL\u670d\u52a1\u5668\u3002</p> <pre><code>mysql -u root -p\nEnter password:\nYour MySQL connection id is 16\nServer version: 8.0.12 MySQL Community Server - GPL\nCopyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\nmysql&gt;\n</code></pre> <p>\u63a5\u4e0b\u6765\u901a\u8fc7SQL\u6765\u4fee\u6539\u7528\u6237\u53e3\u4ee4\u5c31\u53ef\u4ee5\u4e86\u3002</p> <pre><code>alter user 'root'@'%' identified with mysql_native_password by '123456' password expire never;\n</code></pre> <p>\u5f53\u7136\uff0c\u5982\u679c\u613f\u610f\u4f60\u4e5f\u53ef\u4ee5\u67e5\u770b\u4e00\u4e0b\u7528\u6237\u8868\u68c0\u67e5\u662f\u5426\u4fee\u6539\u6210\u529f\u3002</p> <pre><code>use mysql;\nselect user, host, plugin, authentication_string from user where user='root';\n+------+-----------+-----------------------+-------------------------------------------+\n| user | host      | plugin                | authentication_string                     |\n+------+-----------+-----------------------+-------------------------------------------+\n| root | %         | mysql_native_password | *6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9 |\n| root | localhost | mysql_native_password | *6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9 |\n+------+-----------+-----------------------+-------------------------------------------+\n2 rows in set (0.00 sec)\n</code></pre> <p>\u5728\u5b8c\u6210\u4e0a\u9762\u7684\u6b65\u9aa4\u540e\uff0c\u73b0\u5728\u5373\u4fbf\u4e0d\u66f4\u65b0\u5ba2\u6237\u7aef\u5de5\u5177\u4e5f\u53ef\u4ee5\u8fde\u63a5MySQL 8.x\u4e86\u3002</p>"},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/","title":"93.\u6570\u636e\u5e93\u8bbe\u8ba1\u548cOOAD","text":""},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#ooad","title":"\u6570\u636e\u5e93\u8bbe\u8ba1\u548cOOAD","text":""},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#_1","title":"\u5b58\u50a8\u5f15\u64ce","text":"<ol> <li>InnoDB</li> <li>MyISAM</li> </ol>"},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#_2","title":"\u6570\u636e\u7c7b\u578b","text":""},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#_3","title":"\u7d22\u5f15","text":""},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#_4","title":"\u7d22\u5f15\u7684\u7c7b\u578b","text":"<ol> <li>B-Tree\u7d22\u5f15</li> <li>HASH\u7d22\u5f15</li> <li>R-Tree\u7d22\u5f15\uff08\u7a7a\u95f4\u7d22\u5f15\uff09</li> <li>Full-text\u7d22\u5f15\uff08\u5168\u6587\u7d22\u5f15\uff09</li> </ol>"},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#_5","title":"\u89c6\u56fe","text":"<p>\u67e5\u8be2\u7684\u5feb\u7167\uff0c\u53ef\u4ee5\u5c06\u8bbf\u95ee\u6743\u9650\u63a7\u5236\u5230\u5217\u4e0a\u3002</p> <pre><code>create view ... as select ...\ndrop view ...\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#_6","title":"\u5b58\u50a8\u8fc7\u7a0b","text":"<pre><code>create procedure ... (params)\nbegin\n...\nend;\n\ncall ...\n</code></pre> <pre><code>cursor.callproc('...')\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#_7","title":"\u89e6\u53d1\u5668","text":"<p>\u4e0d\u80fd\u7528\uff0c\u56e0\u4e3a\u591a\u4e2a\u884c\u9501\u53ef\u80fd\u76f4\u63a5\u5347\u7ea7\u4e3a\u8868\u9501\uff0c\u5bfc\u81f4\u6027\u80fd\u4f4e\u4e0b\u3002</p>"},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#_8","title":"\u4e8b\u52a1\u63a7\u5236","text":""},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#sql","title":"SQL\u6ce8\u5165\u653b\u51fb","text":""},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#_9","title":"\u6570\u636e\u5206\u533a","text":""},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#sql_1","title":"SQL\u4f18\u5316","text":""},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#_10","title":"\u4f18\u5316\u6b65\u9aa4","text":"<ol> <li>\u901a\u8fc7<code>show status</code>\u4e86\u89e3\u5404\u79cdSQL\u7684\u6267\u884c\u9891\u7387\u3002</li> </ol> <pre><code>show status like 'com_%';\nshow status like 'innodb_%';\nshow status like 'connections';\nshow status like 'slow_queries';\n</code></pre> <ol> <li>\u5b9a\u4f4d\u4f4e\u6548\u7387\u7684SQL\u8bed\u53e5 - \u6162\u67e5\u8be2\u65e5\u5fd7\u3002</li> </ol> <pre><code>show processlist\n</code></pre> <ol> <li> <p>\u901a\u8fc7<code>explain</code>\u4e86\u89e3SQL\u7684\u6267\u884c\u8ba1\u5212\u3002</p> </li> <li> <p>select_type\uff1a\u67e5\u8be2\u7c7b\u578b\uff08simple\u3001primary\u3001union\u3001subquery\uff09</p> </li> <li>table\uff1a\u8f93\u51fa\u7ed3\u679c\u96c6\u7684\u8868</li> <li>type\uff1a\u8bbf\u95ee\u7c7b\u578b\uff08ALL\u3001index\u3001range\u3001ref\u3001eq_ref\u3001const\u3001NULL\uff09</li> <li>possible_keys\uff1a\u67e5\u8be2\u65f6\u53ef\u80fd\u7528\u5230\u7684\u7d22\u5f15</li> <li>key\uff1a\u5b9e\u9645\u4f7f\u7528\u7684\u7d22\u5f15</li> <li>key_len\uff1a\u7d22\u5f15\u5b57\u6bb5\u7684\u957f\u5ea6</li> <li>rows\uff1a\u626b\u63cf\u7684\u884c\u6570</li> <li> <p>extra\uff1a\u989d\u5916\u4fe1\u606f</p> </li> <li> <p>\u901a\u8fc7<code>show profiles</code>\u548c<code>show profile for query</code>\u5206\u6790SQL\u3002</p> </li> </ol>"},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#sql_2","title":"SQL\u4f18\u5316","text":"<ol> <li>\u4f18\u5316insert\u8bed\u53e5</li> <li>\u4f18\u5316order by\u8bed\u53e5</li> <li>\u4f18\u5316group by\u8bed\u53e5</li> <li>\u4f18\u5316\u5d4c\u5957\u67e5\u8be2</li> <li>\u4f18\u5316or\u6761\u4ef6</li> <li>\u4f18\u5316\u5206\u9875\u67e5\u8be2</li> <li>\u4f7f\u7528SQL\u63d0\u793a</li> <li>USE INDEX</li> <li>IGNORE INDEX</li> <li>FORCE INDEX</li> </ol>"},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#_11","title":"\u914d\u7f6e\u4f18\u5316","text":"<ol> <li>\u8c03\u6574max_connections</li> <li>\u8c03\u6574back_log</li> <li>\u8c03\u6574table_open_cache</li> <li>\u8c03\u6574thread_cache_size</li> <li>\u8c03\u6574innodb_lock_wait_timeout</li> </ol>"},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#_12","title":"\u67b6\u6784\u4f18\u5316","text":"<ol> <li>\u901a\u8fc7\u62c6\u5206\u63d0\u9ad8\u8868\u7684\u8bbf\u95ee\u6548\u7387</li> <li>\u5782\u76f4\u62c6\u5206</li> <li>\u6c34\u5e73\u62c6\u5206</li> <li>\u9006\u8303\u5f0f\u7406\u8bba</li> <li>\u6570\u636e\u8868\u8bbe\u8ba1\u7684\u89c4\u8303\u7a0b\u5ea6\u79f0\u4e4b\u4e3a\u8303\u5f0f\uff08Normal Form\uff09<ul> <li>1NF\uff1a\u5217\u4e0d\u80fd\u518d\u62c6\u5206</li> <li>2NF\uff1a\u6240\u6709\u7684\u5c5e\u6027\u90fd\u4f9d\u8d56\u4e8e\u4e3b\u952e</li> <li>3NF\uff1a\u6240\u6709\u7684\u5c5e\u6027\u90fd\u76f4\u63a5\u4f9d\u8d56\u4e8e\u4e3b\u952e\uff08\u6d88\u9664\u4f20\u9012\u4f9d\u8d56\uff09</li> <li>BCNF\uff1a\u6d88\u9664\u975e\u5e73\u51e1\u591a\u503c\u4f9d\u8d56</li> </ul> </li> <li>\u4f7f\u7528\u4e2d\u95f4\u8868\u63d0\u9ad8\u7edf\u8ba1\u67e5\u8be2\u901f\u5ea6</li> </ol>"},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#_13","title":"\u6570\u636e\u5907\u4efd","text":""},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#_14","title":"\u5bfc\u5165\u548c\u5bfc\u51fa","text":"<ol> <li>select ... into outfile ...</li> <li>load data infile ... into table ...</li> <li>mysqldump</li> <li>mysqlimport</li> </ol>"},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#ibbackup","title":"ibbackup\u5de5\u5177","text":""},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#xtrabackup","title":"xtrabackup\u5de5\u5177","text":""},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#_15","title":"\u4e3b\u4ece\u590d\u5236","text":""},{"location":"python/Py-100Days/Day91-100/93.%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E5%92%8COOAD/#_16","title":"\u96c6\u7fa4","text":""},{"location":"python/Py-100Days/Day91-100/94.%E7%BD%91%E7%BB%9CAPI%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1/","title":"94.\u7f51\u7edcAPI\u63a5\u53e3\u8bbe\u8ba1","text":""},{"location":"python/Py-100Days/Day91-100/94.%E7%BD%91%E7%BB%9CAPI%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1/#api","title":"\u7f51\u7edcAPI\u63a5\u53e3\u8bbe\u8ba1","text":"<p>\u624b\u673aApp\u4ee5\u53ca\u4f7f\u7528\u4e86Ajax\u6280\u672f\u6216\u505a\u4e86\u524d\u540e\u7aef\u5206\u79bb\u7684\u9875\u9762\u90fd\u9700\u8981\u901a\u8fc7\u7f51\u7edcAPI\uff08Application Programming Interface\uff09\u548c\u540e\u53f0\u8fdb\u884c\u4ea4\u4e92\uff0c\u6240\u8c13API\uff0c\u6307\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u7f16\u7a0b\u63a5\u53e3\uff1b\u800c\u7f51\u7edcAPI\u901a\u7545\u6307\u7684\u662f\u57fa\u4e8eHTTP\u6216HTTPS\u534f\u8bae\u7684\u4e00\u4e2aURL\uff08\u7edf\u4e00\u8d44\u6e90\u5b9a\u4f4d\u7b26\uff09\uff0c\u901a\u8fc7\u8fd9\u4e2aURL\u6211\u4eec\u53ef\u4ee5\u8ba9\u670d\u52a1\u5668\u5bf9\u67d0\u4e2a\u8d44\u6e90\u8fdb\u884c\u64cd\u4f5c\u5e76\u8fd4\u56de\u64cd\u4f5c\u7684\u7ed3\u679c\u3002\u57fa\u4e8eHTTP(S)\u534f\u8bae\u6700\u5927\u7684\u597d\u5904\u5c31\u5728\u4e8e\u8bbf\u95ee\u8d77\u6765\u975e\u5e38\u7684\u7b80\u5355\u65b9\u4fbf\uff0c\u800c\u4e14\u6ca1\u6709\u7f16\u7a0b\u8bed\u8a00\u548c\u5e94\u7528\u73af\u5883\u4e0a\u7684\u5dee\u522b\u3002</p>"},{"location":"python/Py-100Days/Day91-100/94.%E7%BD%91%E7%BB%9CAPI%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1/#_1","title":"\u8bbe\u8ba1\u539f\u5219","text":""},{"location":"python/Py-100Days/Day91-100/94.%E7%BD%91%E7%BB%9CAPI%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1/#_2","title":"\u5173\u952e\u95ee\u9898","text":"<p>\u4e3a\u79fb\u52a8\u7aef\u6216\u8005PC\u7aef\u8bbe\u8ba1\u7f51\u7edcAPI\u63a5\u53e3\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u539f\u5219\u662f\uff1a\u6839\u636e\u4e1a\u52a1\u5b9e\u4f53\u800c\u4e0d\u662f\u7528\u6237\u754c\u9762\u6216\u64cd\u4f5c\u6765\u8bbe\u8ba1\u3002\u5982\u679cAPI\u63a5\u53e3\u7684\u8bbe\u8ba1\u662f\u6839\u636e\u7528\u6237\u7684\u64cd\u4f5c\u6216\u8005\u754c\u9762\u4e0a\u7684\u529f\u80fd\u8bbe\u7f6e\u6765\u8bbe\u8ba1\uff0c\u968f\u7740\u9700\u6c42\u7684\u53d8\u66f4\uff0c\u7528\u6237\u754c\u9762\u4e5f\u4f1a\u8fdb\u884c\u8c03\u6574\uff0c\u9700\u8981\u7684\u6570\u636e\u4e5f\u5728\u53d1\u751f\u53d8\u5316\uff0c\u90a3\u4e48\u540e\u7aef\u5f00\u53d1\u8005\u5c31\u8981\u4e0d\u505c\u7684\u8c03\u6574API\uff0c\u6216\u8005\u7ed9\u4e00\u4e2aAPI\u8bbe\u8ba1\u51fa\u591a\u4e2a\u7248\u672c\uff0c\u8fd9\u4e9b\u90fd\u4f1a\u4f7f\u9879\u76ee\u7684\u5f00\u53d1\u548c\u7ef4\u62a4\u6210\u672c\u589e\u52a0\u3002</p> <p>\u4e0b\u9762\u662f\u67d0\u4e2a\u7f51\u7ad9\u5f00\u653eAPI\u7684\u63a5\u53e3\uff0c\u53ef\u4ee5\u770b\u51faAPI\u7684\u8bbe\u8ba1\u662f\u56f4\u7ed5\u4e1a\u52a1\u5b9e\u4f53\u6765\u8fdb\u884c\u7684\uff0c\u800c\u4e14\u90fd\u505a\u5230\u4e86\u201c\u89c1\u540d\u77e5\u610f\u201d\u3002</p> \u8bc4\u8bba comments/show \u83b7\u53d6\u67d0\u6761\u5fae\u535a\u7684\u8bc4\u8bba\u5217\u8868 comments/by_me \u81ea\u5df1\u7684\u8bc4\u8bba\u5217\u8868 comments/to_me \u6536\u5230\u7684\u8bc4\u8bba\u5217\u8868 comments/mentions @\u4e86\u81ea\u5df1\u7684\u8bc4\u8bba\u5217\u8868 comments/create \u521b\u5efa\u4e00\u6761\u8bc4\u8bba comments/destroy \u5220\u9664\u4e00\u6761\u8bc4\u8bba comments/reply \u56de\u590d\u4e00\u6761\u8bc4\u8bba <p>\u6ce8\u610f\uff1a\u4e0a\u9762\u7684API\u63a5\u53e3\u5e76\u4e0d\u662fREST\u98ce\u683c\u7684\uff0c\u5173\u4e8eREST\u7684\u77e5\u8bc6\uff0c\u53ef\u4ee5\u9605\u8bfb\u962e\u4e00\u5cf0\u8001\u5e08\u7684\u300a\u7406\u89e3RESTful\u67b6\u6784\u300b\u4ee5\u53ca\u300aRESTful API\u8bbe\u8ba1\u6307\u5357\u300b\u3002</p> <p>API\u63a5\u53e3\u8fd4\u56de\u7684\u6570\u636e\u901a\u5e38\u90fd\u662fJSON\u6216XML\u683c\u5f0f\uff0c\u6211\u4eec\u8fd9\u91cc\u4e0d\u8ba8\u8bba\u540e\u8005\u3002\u5bf9\u4e8eJSON\u683c\u5f0f\u7684\u6570\u636e\uff0c\u6211\u4eec\u9700\u8981\u505a\u5230\u4e0d\u8981\u8fd4\u56denull\u8fd9\u7684\u503c\uff0c\u56e0\u4e3a\u8fd9\u6837\u7684\u503c\u4e00\u65e6\u5904\u7f6e\u5931\u5f53\uff0c\u4f1a\u7ed9\u79fb\u52a8\u7aef\u7684\u5f00\u53d1\u5e26\u6765\u9ebb\u70e6\uff08\u79fb\u52a8\u7aef\u53ef\u80fd\u4f7f\u7528\u5f3a\u7c7b\u578b\u8bed\u8a00\uff09\u3002\u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u4ece\u6e90\u5934\u5165\u624b\uff0c\u5728\u8bbe\u8ba1\u6570\u636e\u5e93\u7684\u65f6\u5019\uff0c\u5c3d\u91cf\u7ed9\u6bcf\u4e2a\u5b57\u6bb5\u90fd\u52a0\u4e0a\u201cnot null\u201d\u7ea6\u675f\u6216\u8005\u8bbe\u7f6e\u5408\u7406\u7684\u9ed8\u8ba4\u503c\u7ea6\u675f\u3002</p>"},{"location":"python/Py-100Days/Day91-100/94.%E7%BD%91%E7%BB%9CAPI%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1/#_3","title":"\u5176\u4ed6\u95ee\u9898","text":"<ol> <li>\u66f4\u65b0\u63d0\u793a\u95ee\u9898\uff1a\u8bbe\u8ba1\u4e00\u4e2a\u6bcf\u6b21\u4f7f\u7528\u7cfb\u7edf\u9996\u5148\u8981\u8bbf\u95ee\u7684API\uff0c\u8be5API\u4f1a\u5411\u79fb\u52a8\u7aef\u8fd4\u56de\u7cfb\u7edf\u66f4\u65b0\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u63d0\u5347\u7528\u6237\u66f4\u65b0App\u4e86\u3002</li> <li>\u7248\u672c\u5347\u7ea7\u95ee\u9898\uff1aAPI\u7248\u672c\u5347\u7ea7\u65f6\u5e94\u8be5\u8003\u8651\u5bf9\u4f4e\u7248\u672c\u7684\u517c\u5bb9\uff0c\u540c\u65f6\u8981\u8ba9\u65b0\u7248\u672c\u548c\u65e7\u7248\u672c\u90fd\u80fd\u591f\u88ab\u8bbf\u95ee\uff0c\u53ef\u4ee5\u5728URL\u4e2d\u5305\u542b\u7248\u672c\u4fe1\u606f\u6216\u8005\u5728\u5c06\u7248\u672c\u53f7\u653e\u5728HTTP(S)\u534f\u8bae\u5934\u90e8\uff0c\u5173\u4e8e\u8fd9\u4e2a\u95ee\u9898\u6709\u5f88\u591a\u7684\u4e89\u8bba\uff0c\u6709\u5174\u8da3\u7684\u53ef\u4ee5\u770b\u770bstack overflow\u4e0a\u9762\u5bf9\u8fd9\u4e2a\u95ee\u9898\u7684\u8ba8\u8bba\u3002</li> <li>\u56fe\u7247\u5c3a\u5bf8\u95ee\u9898\uff1a\u79fb\u52a8\u7aef\u5bf9\u4e8e\u4e00\u5f20\u56fe\u7247\u53ef\u80fd\u9700\u8981\u4e0d\u540c\u7684\u5c3a\u5bf8\uff0c\u53ef\u4ee5\u5728\u83b7\u53d6\u56fe\u7247\u65f6\u4f20\u5165\u5c3a\u5bf8\u53c2\u6570\u5e76\u83b7\u53d6\u5bf9\u5e94\u7684\u8d44\u6e90\uff1b\u66f4\u597d\u7684\u505a\u6cd5\u662f\u76f4\u63a5\u4f7f\u7528\u4e91\u5b58\u50a8\u6216CDN\uff08\u76f4\u63a5\u63d0\u4f9b\u4e86\u56fe\u7247\u7f29\u653e\u7684\u529f\u80fd\uff09\uff0c\u8fd9\u6837\u53ef\u4ee5\u52a0\u901f\u5bf9\u8d44\u6e90\u7684\u8bbf\u95ee\u3002</li> </ol>"},{"location":"python/Py-100Days/Day91-100/94.%E7%BD%91%E7%BB%9CAPI%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1/#_4","title":"\u6587\u6863\u64b0\u5199","text":"<p>\u4e0b\u9762\u4ee5\u8bbe\u8ba1\u8bc4\u8bba\u63a5\u53e3\u4e3a\u4f8b\uff0c\u7b80\u5355\u8bf4\u660e\u63a5\u53e3\u6587\u6863\u5e94\u8be5\u5982\u4f55\u64b0\u5199\u3002</p>"},{"location":"python/Py-100Days/Day91-100/94.%E7%BD%91%E7%BB%9CAPI%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1/#_5","title":"\u8bc4\u8bba\u63a5\u53e3","text":"<p>\u5168\u5c40\u8fd4\u56de\u72b6\u6001\u7801</p> \u8fd4\u56de\u7801 \u8fd4\u56de\u4fe1\u606f \u8bf4\u660e 10000 \u83b7\u53d6\u8bc4\u8bba\u6210\u529f 10001 \u521b\u5efa\u8bc4\u8bba\u6210\u529f 10002 \u65e0\u6cd5\u521b\u5efa\u8bc4\u8bba \u521b\u5efa\u8bc4\u8bba\u65f6\u56e0\u8fdd\u53cd\u5ba1\u6838\u673a\u5236\u800c\u65e0\u6cd5\u521b\u5efa 10003 \u8bc4\u8bba\u5df2\u88ab\u5220\u9664 \u67e5\u770b\u8bc4\u8bba\u65f6\u8bc4\u8bba\u56e0\u4e0d\u548c\u8c10\u56e0\u7d20\u5df2\u88ab\u5220\u9664 10004 \u2026\u2026 \u2026\u2026 <ol> <li>GET <code>/articles/{article-id}/comments/</code></li> </ol> <p>\u5f00\u53d1\u8005\uff1a\u738b\u5927\u9524</p> <p>\u6700\u540e\u66f4\u65b0\u65f6\u95f4\uff1a2018\u5e748\u670810\u65e5</p> <p>\u6807\u7b7e\uff1av 1.0</p> <p>\u63a5\u53e3\u8bf4\u660e\uff1a\u83b7\u53d6\u6307\u5b9a\u6587\u7ae0\u7684\u6240\u6709\u8bc4\u8bba</p> <p>\u4f7f\u7528\u5e2e\u52a9\uff1a\u9ed8\u8ba4\u8fd4\u56de20\u6761\u6570\u636e\uff0c\u9700\u8981\u5728\u8bf7\u6c42\u5934\u4e2d\u8bbe\u7f6e\u8eab\u4efd\u6807\u8bc6\uff08key\uff09</p> <p>\u8bf7\u6c42\u53c2\u6570\uff1a</p> \u53c2\u6570\u540d \u7c7b\u578b \u662f\u5426\u5fc5\u586b \u53c2\u6570\u4f4d\u7f6e \u8bf4\u660e page \u6574\u6570 \u5426 \u67e5\u8be2\u53c2\u6570 \u9875\u7801\uff0c\u9ed8\u8ba4\u503c1 size \u6574\u6570 \u5426 \u67e5\u8be2\u53c2\u6570 \u6bcf\u6b21\u83b7\u53d6\u8bc4\u8bba\u6570\u91cf\uff0810~100\uff09\uff0c\u9ed8\u8ba4\u503c20 key \u5b57\u7b26\u4e32 \u662f \u8bf7\u6c42\u5934 \u7528\u6237\u7684\u8eab\u4efd\u6807\u8bc6 <p>\u54cd\u5e94\u4fe1\u606f\uff1a</p> <pre><code>{\n    \"code\": 10000,\n    \"message\": \"\u83b7\u53d6\u8bc4\u8bba\u6210\u529f\",\n    \"page\": 1,\n    \"size\": 10,\n    \"totalPage\": 35,\n    \"contents\": [\n        {\n            \"userId\": 1700095,\n            \"nickname\": \"\u738b\u5927\u9524\",\n            \"pubDate\": \"2018\u5e747\u670831\u65e5\",\n            \"content\": \"\u5c0f\u7f16\u662f\u4e0d\u662f\u6709\u75c5\u5440\",\n            /* ... */\n        },\n        {\n         \"userId\", 1995322,\n            \"nickname\": \"\u767d\u5143\u82b3\",\n            \"pubDate\": \"2018\u5e748\u67082\u65e5\",\n            \"content\": \"\u697c\u4e0a\u8bf4\u5f97\u597d\",\n            /* ... */\n        }\n    ]\n    /* ... */\n}\n</code></pre> <ol> <li>POST <code>/articles/{article-id}/comments</code></li> </ol> <p>\u5f00\u53d1\u8005\uff1a\u738b\u5927\u9524</p> <p>\u6700\u540e\u66f4\u65b0\u65f6\u95f4\uff1a2018\u5e748\u670810\u65e5</p> <p>\u6807\u7b7e\uff1av 1.0</p> <p>\u63a5\u53e3\u8bf4\u660e\uff1a\u4e3a\u6307\u5b9a\u7684\u6587\u7ae0\u521b\u5efa\u8bc4\u8bba</p> <p>\u4f7f\u7528\u5e2e\u52a9\uff1a\u6682\u65e0</p> <p>\u8bf7\u6c42\u53c2\u6570\uff1a</p> \u53c2\u6570\u540d \u7c7b\u578b \u662f\u5426\u5fc5\u586b \u53c2\u6570\u4f4d\u7f6e \u8bf4\u660e userId \u5b57\u7b26\u4e32 \u662f \u6d88\u606f\u4f53 \u7528\u6237ID key \u5b57\u7b26\u4e32 \u662f \u8bf7\u6c42\u5934 \u7528\u6237\u7684\u4ee4\u724c content \u5b57\u7b26\u4e32 \u662f \u6d88\u606f\u4f53 \u8bc4\u8bba\u7684\u5185\u5bb9 <p>\u54cd\u5e94\u4fe1\u606f\uff1a</p> <pre><code>{\n    \"code\": 10001,\n    \"message\": \"\u521b\u5efa\u8bc4\u8bba\u6210\u529f\",\n    \"comment\": {\n        \"pubDate\": \"2018\u5e747\u670831\u65e5\",\n        \"content\": \"\u5c0f\u7f16\u662f\u4e0d\u662f\u6709\u75c5\u5440\"\n        /* ... */\n    }\n    /* ... */\n}\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/","title":"95.\u4f7f\u7528Django\u5f00\u53d1\u9879\u76ee","text":""},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#django","title":"\u4f7f\u7528Django\u5f00\u53d1\u9879\u76ee","text":"<p>\u8bf4\u660e\uff1a\u672c\u6587\u7684\u90e8\u5206\u63d2\u56fe\u6765\u81ea\u4e8e\u300aPython\u9879\u76ee\u5f00\u53d1\u5b9e\u6218\u300b\u548c\u300a\u7cbe\u901aDjango\u300b\uff0c\u8fd9\u4e24\u672c\u4e66\u4e2d\u90fd\u5305\u542b\u4e86\u5bf9Django\u6846\u67b6\u7cbe\u5f69\u7684\u8bb2\u89e3\uff0c\u6709\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u81ea\u884c\u8d2d\u4e70\u9605\u8bfb\u3002</p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#web","title":"Web\u5e94\u7528","text":"<p>\u95ee\u98981\uff1a\u63cf\u8ff0\u4e00\u4e2aWeb\u5e94\u7528\u7684\u5de5\u4f5c\u6d41\u7a0b\u3002</p> <p></p> <p>\u95ee\u98982\uff1a\u63cf\u8ff0\u9879\u76ee\u7684\u7269\u7406\u67b6\u6784\u3002\uff08\u4e0a\u56fe\u4e2d\u8865\u5145\u8d1f\u8f7d\u5747\u8861\uff08\u53cd\u5411\u4ee3\u7406\uff09\u670d\u52a1\u5668\u3001\u6570\u636e\u5e93\u670d\u52a1\u5668\u3001\u6587\u4ef6\u670d\u52a1\u5668\u3001\u90ae\u4ef6\u670d\u52a1\u5668\u3001\u7f13\u5b58\u670d\u52a1\u5668\u3001\u9632\u706b\u5899\u7b49\uff0c\u800c\u4e14\u6bcf\u4e2a\u8282\u70b9\u90fd\u6709\u53ef\u80fd\u662f\u591a\u8282\u70b9\u6784\u6210\u7684\u96c6\u7fa4\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u67b6\u6784\u5e76\u4e0d\u662f\u4e00\u5f00\u59cb\u5c31\u662f\u8fd9\u6837\uff0c\u800c\u662f\u9010\u6b65\u6f14\u8fdb\u7684\uff09</p> <p></p> <p>\u95ee\u98983\uff1a\u63cf\u8ff0Django\u9879\u76ee\u7684\u5de5\u4f5c\u6d41\u7a0b\u3002\uff08\u5982\u4e0b\u56fe\u6240\u793a\uff09</p> <p></p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#mvc","title":"MVC\u67b6\u6784\u6a21\u5f0f","text":"<p>\u95ee\u98981\uff1a\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528MVC\u67b6\u6784\u6a21\u5f0f\uff1f\uff08\u6a21\u578b\u548c\u89c6\u56fe\u89e3\u8026\u5408\uff09</p> <p>\u95ee\u98982\uff1aMVC\u67b6\u6784\u4e2d\u6bcf\u4e2a\u90e8\u5206\u7684\u4f5c\u7528\uff1f\uff08\u5982\u4e0b\u56fe\u6240\u793a\uff09</p> <p></p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#http","title":"HTTP\u8bf7\u6c42\u548c\u54cd\u5e94","text":""},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#http_1","title":"HTTP\u8bf7\u6c42 = \u8bf7\u6c42\u884c+\u8bf7\u6c42\u5934+\u7a7a\u884c+[\u6d88\u606f\u4f53]","text":""},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#http_2","title":"HTTP\u54cd\u5e94 = \u54cd\u5e94\u884c+\u54cd\u5e94\u5934+\u7a7a\u884c+\u6d88\u606f\u4f53","text":"<ol> <li> <p><code>HTTPRequest</code>\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff1a</p> </li> <li> <p><code>method</code> - \u83b7\u53d6\u8bf7\u6c42\u65b9\u6cd5</p> </li> <li><code>path</code> / <code>get_full_path()</code> - \u83b7\u53d6\u8bf7\u6c42\u8def\u5f84/\u5e26\u67e5\u8be2\u5b57\u7b26\u4e32\u7684\u8def\u5f84</li> <li><code>scheme</code> / <code>is_secure()</code> / <code>get_host()</code> / <code>get_port()</code> - \u83b7\u53d6\u8bf7\u6c42\u7684\u534f\u8bae/\u4e3b\u673a/\u7aef\u53e3</li> <li><code>META</code> / <code>COOKIES</code> - \u83b7\u53d6\u8bf7\u6c42\u5934/Cookie\u4fe1\u606f</li> <li><code>GET</code> / <code>POST</code> / <code>FILES</code> - \u83b7\u53d6GET\u6216POST\u8bf7\u6c42\u53c2\u6570/\u4e0a\u4f20\u7684\u6587\u4ef6</li> <li><code>get_signed_cookie()</code> - \u83b7\u53d6\u5e26\u7b7e\u540d\u7684Cookie</li> <li><code>is_ajax()</code> - \u662f\u4e0d\u662fAjax\u5f02\u6b65\u8bf7\u6c42</li> <li><code>body</code> / <code>content_type</code> / <code>encoding</code> - \u83b7\u53d6\u8bf7\u6c42\u7684\u6d88\u606f\u4f53\uff08bytes\u6d41\uff09/MIME\u7c7b\u578b/\u7f16\u7801</li> <li> <p>\u4e2d\u95f4\u4ef6\u6dfb\u52a0\u7684\u5c5e\u6027\uff1a</p> </li> <li> <p><code>session</code> / <code>user</code> / <code>site</code></p> </li> <li> <p><code>HttpResponse</code>\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff1a</p> </li> <li> <p><code>set_cookie()</code> / <code>set_signed_cookie()</code> / <code>delete_cookie()</code> - \u6dfb\u52a0/\u5220\u9664Cookie</p> </li> <li><code>__setitem__</code> / <code>__getitem__</code> / <code>__delitem__</code> - \u6dfb\u52a0/\u83b7\u53d6/\u5220\u9664\u54cd\u5e94\u5934</li> <li><code>charset</code> / <code>content</code> / <code>status_code</code> - \u54cd\u5e94\u7684\u5b57\u7b26\u96c6/\u6d88\u606f\u4f53\uff08bytes\u6d41\uff09/\u72b6\u6001\u7801<ul> <li>1xx\uff1a\u8bf7\u6c42\u5df2\u7ecf\u6536\u5230\uff0c\u7ee7\u7eed\u5904\u7406</li> <li>2xx\uff08\u6210\u529f\uff09\uff1a\u8bf7\u6c42\u5df2\u7ecf\u6210\u529f\u6536\u5230\u3001\u7406\u89e3\u548c\u63a5\u6536\u3002</li> <li>3xx\uff08\u91cd\u5b9a\u5411\uff09\uff1a\u4e3a\u5b8c\u6210\u8bf7\u6c42\u8981\u7ee7\u7eed\u6267\u884c\u540e\u7eed\u7684\u64cd\u4f5c\u3002</li> <li>4xx\uff08\u5ba2\u6237\u7aef\u9519\u8bef\uff09\uff1a\u8bf7\u6c42\u4e0d\u6b63\u786e\u6216\u4e0d\u80fd\u591f\u88ab\u53d7\u7406\u3002</li> <li>5xx\uff08\u670d\u52a1\u5668\u9519\u8bef\uff09\uff1a\u670d\u52a1\u5668\u5904\u7406\u8bf7\u6c42\u5931\u8d25\u3002</li> </ul> </li> <li> <p><code>JsonResponse</code>\uff08<code>HttpResponse</code>\u7684\u5b50\u7c7b\u578b\uff09\u5bf9\u8c61</p> <pre><code>&gt;&gt;&gt; from django.http import HttpResponse, JsonResponse\n&gt;&gt;&gt;\n&gt;&gt;&gt; response = JsonResponse({'foo': 'bar'})\n&gt;&gt;&gt; response.content\n&gt;&gt;&gt;\n&gt;&gt;&gt; response = JsonResponse([1, 2, 3], safe=False)\n&gt;&gt;&gt; response.content\n&gt;&gt;&gt;\n&gt;&gt;&gt; response = HttpResponse(b'...')\n&gt;&gt;&gt; response['cotent-type'] = 'application/pdf';\n&gt;&gt;&gt; response['content-disposition'] = 'inline; filename=\"xyz.pdf\"'\n&gt;&gt;&gt; response['content-disposition'] = 'attachment; filename=\"xyz.pdf\"'\n&gt;&gt;&gt;\n&gt;&gt;&gt; response.set_signed_cookie('foo', 'bar', salt='')\n&gt;&gt;&gt; response.status_code = 200\n</code></pre> </li> </ol>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#model","title":"\u6570\u636e\u6a21\u578b(Model)","text":"<p>\u95ee\u98981\uff1a\u5173\u7cfb\u578b\u6570\u636e\u5e93\u8868\u7684\u8bbe\u8ba1\u5e94\u8be5\u6ce8\u610f\u54ea\u4e9b\u95ee\u9898\uff08\u8303\u5f0f\u7406\u8bba\u548c\u9006\u8303\u5f0f\uff09\uff1f\u5982\u4f55\u901a\u8fc7\u8868\u6765\u521b\u5efa\u6a21\u578b\u7c7b\uff08\u53cd\u5411\u5de5\u7a0b\uff09\uff1f\u5982\u4f55\u901a\u8fc7\u6a21\u578b\u7c7b\u6765\u521b\u5efa\u8868\uff08\u6b63\u5411\u5de5\u7a0b\uff09\uff1f</p> <pre><code>python manage.py makemigrations &lt;appname&gt;\npython manage.py migrate\n\npython manage.py inspectdb &gt; &lt;appname&gt;/models.py\n</code></pre> <p>\u95ee\u98982\uff1a\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u6570\u636e\u5b8c\u6574\u6027\u6307\u7684\u662f\u4ec0\u4e48\uff1f\u4ec0\u4e48\u65f6\u5019\u9700\u8981\u727a\u7272\u6570\u636e\u5b8c\u6574\u6027\uff1f\uff08\u5b9e\u4f53\u5b8c\u6574\u6027/\u53c2\u7167\u5b8c\u6574\u6027/\u57df\u5b8c\u6574\u6027\uff09</p> <p>\u95ee\u98983\uff1aORM\u662f\u4ec0\u4e48\u4ee5\u53ca\u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898\uff1f\uff08\u5bf9\u8c61\u6a21\u578b-\u5173\u7cfb\u6a21\u578b\u53cc\u5411\u8f6c\u6362\uff09</p> <ol> <li> <p><code>Field</code>\u53ca\u5176\u5b50\u7c7b\u7684\u5c5e\u6027\uff1a</p> </li> <li> <p>\u901a\u7528\u9009\u9879\uff1a</p> <ul> <li><code>db_column</code> / <code>db_tablespace</code></li> <li><code>null</code> / <code>blank</code> / <code>default</code></li> <li><code>primary_key</code></li> <li><code>db_index</code> / <code>unqiue</code></li> <li><code>choices</code> / <code>help_text</code> / <code>error_message</code> / <code>editable</code> / <code>hidden</code></li> </ul> </li> <li> <p>\u5176\u4ed6\u9009\u9879\uff1a</p> <ul> <li><code>CharField</code>: <code>max_length</code></li> <li><code>DateField</code>: <code>auto_now</code> / <code>auto_now_add</code></li> <li><code>DecimalField</code>: <code>max_digits</code> / <code>decimal_places</code></li> <li><code>FileField</code>: <code>storage</code> / <code>upload_to</code></li> <li><code>ImageField</code>: <code>height_field</code> / <code>width_field</code></li> </ul> </li> <li> <p><code>ForeignKey</code>\u7684\u5c5e\u6027\uff1a</p> </li> <li> <p>\u91cd\u8981\u5c5e\u6027\uff1a</p> <ul> <li> <p><code>db_constraint</code>\uff08\u63d0\u5347\u6027\u80fd\u6216\u8005\u6570\u636e\u5206\u7247\u7684\u60c5\u51b5\u53ef\u80fd\u9700\u8981\u8bbe\u7f6e\u4e3a<code>False</code>\uff09</p> </li> <li> <p><code>on_delete</code></p> </li> <li> <p><code>CASCADE</code>\uff1a\u7ea7\u8054\u5220\u9664\u3002</p> </li> <li> <p><code>PROTECT</code>\uff1a\u629b\u51fa<code>ProtectedError</code>\u5f02\u5e38\uff0c\u963b\u6b62\u5220\u9664\u5f15\u7528\u7684\u5bf9\u8c61\u3002</p> </li> <li><code>SET_NULL</code>\uff1a\u628a\u5916\u952e\u8bbe\u7f6e\u4e3a<code>null</code>\uff0c\u5f53<code>null</code>\u5c5e\u6027\u88ab\u8bbe\u7f6e\u4e3a<code>True</code>\u65f6\u624d\u80fd\u8fd9\u4e48\u505a\u3002</li> <li> <p><code>SET_DEFAULT</code>\uff1a\u628a\u5916\u952e\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u503c\uff0c\u63d0\u4f9b\u4e86\u9ed8\u8ba4\u503c\u624d\u80fd\u8fd9\u4e48\u505a\u3002</p> </li> <li> <p><code>related_name</code></p> </li> </ul> <pre><code>class Dept(models.Model):\n    pass\n\n\nclass Emp(models.Model):\n    dept = models.ForeignKey(related_name='+', ...)\n\n\nDept.objects.get(no=10).emp_set.all()\nEmp.objects.filter(dept__no=10)\n</code></pre> <p>\u8bf4\u660e\uff1a<code>related_name</code>\u8bbe\u7f6e\u4e3a<code>'+'</code>\uff0c\u53ef\u4ee5\u9632\u6b62\u4e00\u5bf9\u591a\u5916\u952e\u5173\u8054\u4ece\u201c\u4e00\u201d\u7684\u4e00\u65b9\u67e5\u8be2\u201c\u591a\u201d\u7684\u4e00\u65b9\u3002</p> </li> <li> <p>\u5176\u4ed6\u5c5e\u6027\uff1a</p> <ul> <li><code>to_field</code> / <code>limit_choices_to</code> / <code>swappable</code></li> </ul> </li> <li> <p><code>Model</code>\u7684\u5c5e\u6027\u548c\u65b9\u6cd5</p> </li> <li> <p><code>objects</code> / <code>pk</code></p> </li> <li> <p><code>save()</code> / <code>delete()</code> </p> </li> <li> <p><code>clean()</code> / <code>validate_unique()</code> / <code>full_clean()</code></p> </li> <li> <p><code>QuerySet</code>\u7684\u65b9\u6cd5</p> </li> <li> <p><code>get()</code> / <code>all()</code> / <code>values()</code></p> <p>\u8bf4\u660e\uff1a<code>values()</code>\u8fd4\u56de\u7684<code>QuerySet</code>\u4e2d\u4e0d\u662f\u6a21\u578b\u5bf9\u8c61\u800c\u662f\u5b57\u5178</p> </li> <li> <p><code>count()</code> / <code>order_by()</code> / <code>exists()</code> / <code>reverse()</code></p> </li> <li> <p><code>filter()</code> / <code>exclude()</code></p> <ul> <li> <p><code>exact</code> / <code>iexact</code>\uff1a\u7cbe\u786e\u5339\u914d/\u5ffd\u7565\u5927\u5c0f\u5199\u7684\u7cbe\u786e\u5339\u914d\u67e5\u8be2</p> </li> <li> <p><code>contains</code> / <code>icontains</code> / <code>startswith / istartswith / endswith / iendswith</code>\uff1a\u57fa\u4e8e<code>like</code>\u7684\u6a21\u7cca\u67e5\u8be2</p> </li> <li> <p><code>in</code>\uff1a\u96c6\u5408\u8fd0\u7b97</p> </li> <li> <p><code>gt</code> / <code>gte</code> / <code>lt</code> / <code>lte</code>\uff1a\u5927\u4e8e/\u5927\u4e8e\u7b49\u4e8e/\u5c0f\u4e8e/\u5c0f\u4e8e\u7b49\u4e8e\u5173\u7cfb\u8fd0\u7b97</p> </li> <li> <p><code>range</code>\uff1a\u6307\u5b9a\u8303\u56f4\u67e5\u8be2\uff08SQL\u4e2d\u7684<code>between\u2026and\u2026</code>\uff09</p> </li> <li> <p><code>year</code> / <code>month</code> / <code>day</code> / <code>week_day</code> / <code>hour</code> / <code>minute</code> / <code>second</code>\uff1a\u67e5\u8be2\u65f6\u95f4\u65e5\u671f</p> </li> <li> <p><code>isnull</code>\uff1a\u67e5\u8be2\u7a7a\u503c\uff08<code>True</code>\uff09\u6216\u975e\u7a7a\u503c\uff08<code>False</code>\uff09</p> </li> <li> <p><code>search</code>\uff1a\u57fa\u4e8e\u5168\u6587\u7d22\u5f15\u7684\u5168\u6587\u68c0\u7d22</p> </li> <li> <p><code>regex</code> / <code>iregex</code>\uff1a\u57fa\u4e8e\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u6a21\u7cca\u5339\u914d\u67e5\u8be2</p> </li> <li> <p><code>aggregate()</code> / <code>annotate()</code></p> </li> <li> <p><code>Avg</code> / <code>Count</code> / <code>Sum</code> / <code>Max</code> / <code>Min</code></p> </li> </ul> <pre><code>&gt;&gt;&gt; from django.db.models import Avg\n&gt;&gt;&gt; Emp.objects.aggregate(avg_sal=Avg('sal'))\n(0.001) SELECT AVG(`TbEmp`.`sal`) AS `avg_sal` FROM `TbEmp`; args=()\n{'avg_sal': 3521.4286}\n</code></pre> <pre><code>&gt;&gt;&gt; Emp.objects.values('dept').annotate(total=Count('dept'))\n(0.001) SELECT `TbEmp`.`dno`, COUNT(`TbEmp`.`dno`) AS `total` FROM `TbEmp` GROUP BY `TbEmp`.`dno` ORDER BY NULL LIMIT 21; args=()\n&lt;QuerySet [{'dept': 10, 'total': 4}, {'dept': 20, 'total': 7}, {'dept': 30, 'total': 3}]\n</code></pre> </li> <li> <p><code>first()</code> / <code>last()</code></p> <p>\u8bf4\u660e\uff1a\u8c03\u7528<code>first()</code>\u65b9\u6cd5\u76f8\u5f53\u4e8e\u7528<code>[0]</code>\u5bf9<code>QuerySet</code>\u8fdb\u884c\u5207\u7247\u3002</p> </li> <li> <p><code>only()</code> / <code>defer()</code></p> <pre><code>&gt;&gt;&gt; Emp.objects.filter(pk=7800).only('name', 'sal')\n(0.001) SELECT `TbEmp`.`empno`, `TbEmp`.`ename`, `TbEmp`.`sal` FROM `TbEmp` WHERE `TbEmp`.`empno` = 7800 LIMIT 21; args=(7800,)\n&lt;QuerySet [&lt;Emp: Emp object (7800)&gt;]&gt;\n&gt;&gt;&gt; Emp.objects.filter(pk=7800).defer('name', 'sal')\n(0.001) SELECT `TbEmp`.`empno`, `TbEmp`.`job`, `TbEmp`.`mgr`, `TbEmp`.`comm`, `TbEmp`.`dno` FROM `TbEmp` WHERE `TbEmp`.`empno` = 7800 LIMIT 21; args=(7800,)\n&lt;QuerySet [&lt;Emp: Emp object (7800)&gt;]&gt;\n</code></pre> </li> <li> <p><code>create()</code> / <code>update()</code> / <code>raw()</code> </p> <pre><code>&gt;&gt;&gt; Emp.objects.filter(dept__no=20).update(sal=F('sal') + 100)\n(0.011) UPDATE `TbEmp` SET `sal` = (`TbEmp`.`sal` + 100) WHERE `TbEmp`.`dno` = 20; args=(100, 20)\n&gt;&gt;&gt;\n&gt;&gt;&gt; Emp.objects.raw('select empno, ename, job from TbEmp where dno=10')\n&lt;RawQuerySet: select empno, ename, job from TbEmp where dno=10&gt;\n</code></pre> </li> <li> <p><code>Q</code>\u5bf9\u8c61\u548c<code>F</code>\u5bf9\u8c61</p> </li> </ol> <p>\u8bf4\u660e\uff1aQ\u5bf9\u8c61\u4e3b\u8981\u7528\u6765\u89e3\u51b3\u591a\u6761\u4ef6\u7ec4\u5408\u7684\u590d\u6742\u67e5\u8be2\uff1bF\u5bf9\u8c61\u4e3b\u8981\u7528\u4e8e\u66f4\u65b0\u6570\u636e\u3002</p> <pre><code>&gt;&gt;&gt; from django.db.models import Q\n&gt;&gt;&gt; Emp.objects.filter(\n...     Q(name__startswith='\u5f20'),\n...     Q(sal__lte=5000) | Q(comm__gte=1000)\n... ) # \u67e5\u8be2\u540d\u5b57\u4ee5\u201c\u5f20\u201d\u5f00\u5934\u4e14\u5de5\u8d44\u5c0f\u4e8e\u7b49\u4e8e5000\u6216\u8865\u8d34\u5927\u4e8e\u7b49\u4e8e1000\u7684\u5458\u5de5\n&lt;QuerySet [&lt;Emp: \u5f20\u4e09\u4e30&gt;]&gt;\n</code></pre> <pre><code>&gt;&gt;&gt; from backend.models import Emp, Dept\n&gt;&gt;&gt; emps = Emp.objects.filter(dept__no=20)\n&gt;&gt;&gt; from django.db.models import F\n&gt;&gt;&gt; emps.update(sal=F('sal') + 100)\n</code></pre> <ol> <li>\u539f\u751fSQL\u67e5\u8be2</li> </ol> <pre><code>from django.db import connections\n\n\nwith connections['...'].cursor() as cursor:\n    cursor.execute(\"UPDATE TbEmp SET sal=sal+10 WHERE dno=30\")\n    cursor.execute(\"SELECT ename, job FROM TbEmp WHERE dno=10\")\n    row = cursor.fetchall()\n</code></pre> <ol> <li>\u6a21\u578b\u7ba1\u7406\u5668</li> </ol> <pre><code>class BookManager(models.Manager):\n\n    def title_count(self, keyword):\n        return self.filter(title__icontains=keyword).count()\n\nclass Book(models.Model):\n\n    objects = BookManager()\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#controller","title":"\u89c6\u56fe\u51fd\u6570(Controller)","text":""},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_1","title":"\u5982\u4f55\u8bbe\u8ba1\u89c6\u56fe\u51fd\u6570","text":"<ol> <li> <p>\u7528\u6237\u7684\u6bcf\u4e2a\u64cd\u4f5c\uff08\u7528\u6237\u6545\u4e8b\uff09\u5bf9\u5e94\u4e00\u4e2a\u89c6\u56fe\u51fd\u6570\u3002</p> </li> <li> <p>\u6bcf\u4e2a\u89c6\u56fe\u51fd\u6570\u53ef\u4ee5\u6784\u6210\u4e00\u4e2a\u4e8b\u52a1\u8fb9\u754c\u3002</p> </li> <li> <p>\u4e8b\u52a1\u7684ACID\u7279\u6027\u3002</p> <ul> <li>\u539f\u5b50\u6027\uff08Atomicity\uff09\uff1a\u4e8b\u52a1\u4e2d\u5404\u9879\u7684\u64cd\u4f5c\u8981\u4e48\u5168\u505a\u8981\u4e48\u5168\u4e0d\u505a\uff1b</li> <li>\u4e00\u81f4\u6027\uff08Consistentcy\uff09\uff1a\u4e8b\u52a1\u524d\u540e\u7cfb\u7edf\u7684\u72b6\u6001\u662f\u4e00\u81f4\u7684\uff1b</li> <li>\u9694\u79bb\u6027\uff08Isolation\uff09\uff1a\u5e76\u53d1\u6267\u884c\u7684\u4e8b\u52a1\u65e0\u6cd5\u770b\u5230\u5f7c\u6b64\u7684\u4e2d\u95f4\u72b6\u6001\uff1b</li> <li>\u6301\u4e45\u6027\uff08Duration\uff09\uff1a\u4e8b\u52a1\u5b8c\u6210\u540e\u6240\u505a\u7684\u6539\u52a8\u90fd\u4f1a\u88ab\u6301\u4e45\u5316\u3002</li> </ul> </li> <li> <p>\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b - \u8bbe\u7f6e\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u662f\u4e3a\u4e86\u6570\u636e\u5e93\u5e95\u5c42\u4f9d\u636e\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u4e3a\u6570\u636e\u52a0\u4e0a\u9002\u5f53\u7684\u9501\u3002\u5982\u679c\u9700\u8981\u4fdd\u8bc1\u6570\u636e\u7684\u5f3a\u4e00\u81f4\u6027\uff0c\u90a3\u4e48\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4ecd\u7136\u662f\u552f\u4e00\u7684\u4e5f\u662f\u6700\u597d\u7684\u9009\u62e9\uff0c\u56e0\u4e3a\u5173\u7cfb\u578b\u6570\u636e\u5e93\u53ef\u4ee5\u901a\u8fc7\u9501\u673a\u5236\u6765\u4fdd\u62a4\u6570\u636e\u3002\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u4ece\u4f4e\u5230\u9ad8\u4f9d\u6b21\u662f\uff1aRead Uncommitted\uff08\u8bfb\u672a\u63d0\u4ea4\uff09\u3001Read Committed\uff08\u8bfb\u63d0\u4ea4\uff09\u3001Repeatable Read\uff08\u53ef\u91cd\u590d\u8bfb\uff09\u3001Serializable\uff08\u4e32\u884c\u5316\uff09\u3002\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u8d8a\u9ad8\uff0c\u6570\u636e\u5e76\u53d1\u8bbf\u95ee\u7684\u95ee\u9898\u8d8a\u5c11\uff0c\u4f46\u662f\u6027\u80fd\u8d8a\u5dee\uff1b\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u8d8a\u4f4e\uff0c\u6570\u636e\u5e76\u53d1\u8bbf\u95ee\u7684\u95ee\u9898\u8d8a\u591a\uff0c\u4f46\u662f\u6027\u80fd\u8d8a\u597d\u3002</p> </li> <li> <p>\u6570\u636e\u5e76\u53d1\u8bbf\u95ee\u4f1a\u4ea7\u751f5\u79cd\u95ee\u9898\uff08\u8bf7\u53c2\u8003\u6211\u7684\u300aJava\u9762\u8bd5\u9898\u5168\u96c6\uff08\u4e0a\uff09\u300b\u7b2c80\u9898\u5bf9\u8be5\u95ee\u9898\u7684\u8bb2\u89e3\uff09\uff1a</p> <ul> <li>\u7b2c1\u7c7b\u4e22\u5931\u66f4\u65b0\uff08A\u4e8b\u52a1\u64a4\u9500\u8986\u76d6B\u4e8b\u52a1\u66f4\u65b0\u7684\u6570\u636e\uff09\u548c\u7b2c2\u7c7b\u4e22\u5931\u66f4\u65b0\uff08A\u4e8b\u52a1\u63d0\u4ea4\u8986\u76d6B\u4e8b\u52a1\u66f4\u65b0\u7684\u6570\u636e\uff09\u3002</li> <li>\u810f\u8bfb\uff08\u8bfb\u810f\u6570\u636e\uff09\uff1a\u4e00\u4e2a\u4e8b\u52a1\u8bfb\u53d6\u5230\u5176\u4ed6\u5c1a\u672a\u63d0\u4ea4\u7684\u4e8b\u52a1\u7684\u6570\u636e\u3002</li> <li>\u4e0d\u53ef\u91cd\u590d\u8bfb\uff1a \u4e00\u4e2a\u4e8b\u52a1\u5728\u8bfb\u53d6\u5b83\u7684\u67e5\u8be2\u7ed3\u679c\u65f6\uff0c\u88ab\u53e6\u4e00\u4e2a\u4e8b\u52a1\u66f4\u65b0\u4e86\u5b83\u7684\u67e5\u8be2\u8bb0\u5f55\u5bfc\u81f4\u65e0\u6cd5\u8bfb\u5230\u6570\u636e\u3002</li> <li>\u5e7b\u8bfb\uff1a\u4e00\u4e2a\u4e8b\u52a1\u5728\u8bfb\u53d6\u5b83\u7684\u67e5\u8be2\u7ed3\u679c\u65f6\uff0c\u53d1\u73b0\u8bfb\u5230\u4e86\u88ab\u53e6\u4e00\u4e2a\u4e8b\u52a1\u63d0\u4ea4\u7684\u65b0\u6570\u636e\u3002</li> </ul> <pre><code>-- \u8bbe\u7f6e\u5168\u5c40\u9ed8\u8ba4\u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\nset global transaction isolation level repeatable read;\n-- \u8bbe\u7f6e\u5f53\u524d\u4f1a\u8bdd\u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\nset session transaction isolation level read committed;\n-- \u67e5\u8be2\u5f53\u524d\u4f1a\u8bdd\u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\nselect @@tx_isolation;\n</code></pre> </li> <li> <p>Django\u4e2d\u7684\u4e8b\u52a1\u63a7\u5236\u3002</p> <ul> <li>\u7ed9\u6bcf\u4e2a\u8bf7\u6c42\u7ed1\u5b9a\u4e8b\u52a1\u73af\u5883\uff08\u53cd\u6a21\u5f0f\uff09\u3002</li> </ul> <pre><code>ATOMIC_REQUESTS = True\n</code></pre> <ul> <li>\u4f7f\u7528\u4e8b\u52a1\u88c5\u9970\u5668\uff08\u7b80\u5355\u6613\u7528\uff09 - \u7c97\u7c92\u5ea6\uff08\u63a7\u5236\u4e0d\u591f\u7cbe\u7ec6\uff09\u3002</li> </ul> <pre><code>@transaction.non_atomic_requests\n@transaction.atomic\n</code></pre> <ul> <li>\u4f7f\u7528\u4e0a\u4e0b\u6587\u8bed\u6cd5\uff08\u7ec6\u7c92\u5ea6 - \u4e8b\u52a1\u63a7\u5236\u7684\u8303\u56f4\u66f4\u52a0\u7cbe\u51c6\uff09\u3002</li> </ul> <pre><code>with transaction.atomic():\n    pass\n</code></pre> <ul> <li>\u5173\u95ed\u81ea\u52a8\u63d0\u4ea4\u4f7f\u7528\u624b\u52a8\u63d0\u4ea4\u3002</li> </ul> <pre><code>AUTOCOMMIT = False\n</code></pre> <pre><code>transaction.commit()\ntransaction.rollback()\n</code></pre> </li> </ol>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#url","title":"URL\u914d\u7f6e","text":"<ol> <li>\u53ef\u4ee5\u8ba9\u90e8\u5206URL\u53ea\u5728\u8c03\u8bd5\u6a21\u5f0f\u4e0b\u751f\u6548\u3002</li> </ol> <pre><code>from django.conf import settings\n\nurlpatterns = [\n    ...\n]\n\nif settings.DEBUG:\n    urlpatterns += [ ... ]\n</code></pre> <ol> <li>\u53ef\u4ee5\u4f7f\u7528\u547d\u540d\u6355\u83b7\u7ec4\u6355\u83b7\u8def\u5f84\u53c2\u6570\u3002</li> </ol> <pre><code>url(r'api/code/(?P&lt;mobile&gt;1[3-9]\\d{9})'),\npath('api/code/&lt;str:mobile&gt;'),\n</code></pre> <ol> <li> <p>URL\u914d\u7f6e\u4e0d\u5173\u5fc3\u8bf7\u6c42\u4f7f\u7528\u7684\u65b9\u6cd5\uff08\u4e00\u4e2a\u89c6\u56fe\u51fd\u6570\u53ef\u4ee5\u5904\u7406\u4e0d\u540c\u7684\u8bf7\u6c42\u65b9\u5f0f\uff09\u3002</p> </li> <li> <p>\u5982\u679c\u4f7f\u7528<code>url</code>\u51fd\u6570\u6355\u83b7\u7684\u8def\u5f84\u53c2\u6570\u90fd\u662f\u5b57\u7b26\u4e32\uff0c<code>path</code>\u51fd\u6570\u53ef\u4ee5\u6307\u5b9a\u8def\u5f84\u53c2\u6570\u7c7b\u578b\u3002</p> </li> <li> <p>\u53ef\u4ee5\u4f7f\u7528<code>include</code>\u51fd\u6570\u5f15\u5165\u5176\u4ed6URL\u914d\u7f6e\uff0c\u6355\u83b7\u7684\u53c2\u6570\u4f1a\u5411\u4e0b\u4f20\u9012\u3002</p> </li> <li> <p>\u5728<code>url</code>\u548c<code>path</code>\u51fd\u6570\u751a\u81f3\u662f<code>include</code>\u51fd\u6570\u4e2d\u90fd\u53ef\u4ee5\u7528\u5b57\u5178\u5411\u89c6\u56fe\u4f20\u5165\u989d\u5916\u7684\u53c2\u6570\uff0c\u5982\u679c\u53c2\u6570\u4e0e\u6355\u83b7\u7684\u53c2\u6570\u540c\u540d\uff0c\u5219\u4f7f\u7528\u5b57\u5178\u4e2d\u7684\u53c2\u6570\u3002</p> </li> <li> <p>\u53ef\u4ee5\u7528<code>reverse</code>\u51fd\u6570\u5b9e\u73b0URL\u7684\u9006\u5411\u89e3\u6790\uff08\u4ece\u540d\u5b57\u89e3\u6790\u51faURL\uff09\uff0c\u5728\u6a21\u677f\u4e2d\u4e5f\u53ef\u4ee5\u7528<code>{% url %}</code>\u5b9e\u73b0\u540c\u6837\u7684\u64cd\u4f5c\u3002</p> </li> </ol> <pre><code>path('', views.index, name='index')\n\nreturn redirect(reverse('index'))\nreturn redirect('index')\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#view","title":"\u6a21\u677f(View)","text":""},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_2","title":"\u540e\u7aef\u6e32\u67d3","text":"<ol> <li>\u6a21\u677f\u7684\u914d\u7f6e\u548c\u6e32\u67d3\u51fd\u6570\u3002</li> </ol> <pre><code>TEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR, 'templates'), ],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n</code></pre> <pre><code>resp = render(request, 'index.html', {'foo': ...})\n</code></pre> <ol> <li> <p>\u6a21\u677f\u9047\u5230\u53d8\u91cf\u540d\u7684\u67e5\u627e\u987a\u5e8f\u3002</p> </li> <li> <p>\u5b57\u5178\u67e5\u627e\uff08\u5982\uff1a<code>foo['bar']</code>\uff09</p> </li> <li>\u5c5e\u6027\u67e5\u627e\uff08\u5982\uff1a<code>foo.bar</code>\uff09</li> <li>\u65b9\u6cd5\u8c03\u7528\uff08\u5982\uff1a<code>foo.bar()</code>\uff09<ul> <li>\u65b9\u6cd5\u4e0d\u80fd\u6709\u5fc5\u987b\u4f20\u503c\u7684\u53c2\u6570</li> <li>\u5728\u6a21\u677f\u4e2d\u4e0d\u80fd\u591f\u7ed9\u65b9\u6cd5\u4f20\u53c2</li> <li>\u5982\u679c\u65b9\u6cd5\u7684<code>alters_data</code>\u88ab\u8bbe\u7f6e\u4e3a<code>True</code>\u5219\u4e0d\u80fd\u8c03\u7528\u8be5\u65b9\u6cd5\uff08\u907f\u514d\u8bef\u64cd\u4f5c\u7684\u98ce\u9669\uff09\uff0c\u6a21\u578b\u5bf9\u8c61\u52a8\u6001\u751f\u6210\u7684<code>delete()</code>\u548c<code>save()</code>\u65b9\u6cd5\u90fd\u8bbe\u5b9a\u4e86<code>alters_data = True</code>\u3002</li> </ul> </li> <li> <p>\u5217\u8868\u7d22\u5f15\u67e5\u627e\uff08\u5982\uff1a<code>foo[0]</code>\uff09</p> </li> <li> <p>\u6a21\u677f\u6807\u7b7e\u7684\u4f7f\u7528\u3002</p> </li> <li> <p><code>{% if %}</code> / <code>{% else %}</code> / <code>{% endif %}</code></p> </li> <li><code>{% for %}</code> / <code>{% endfor %}</code></li> <li><code>{% ifequal %}</code> / <code>{% endifequal %}</code> / <code>{% ifnotequal %}</code> / <code>{% endifnotequal %}</code></li> <li> <p><code>{# comment #}</code> / <code>{% comment %}</code> / <code>{% endcomment %}</code></p> </li> <li> <p>\u8fc7\u6ee4\u5668\u7684\u4f7f\u7528\u3002</p> </li> <li> <p><code>lower</code> / <code>upper</code> / <code>first</code> / <code>last</code> / <code>truncatewords</code> / <code>date</code>/ <code>time</code> / <code>length</code> / <code>pluralize</code> / <code>center</code> / <code>ljust</code> / <code>rjust</code> / <code>cut</code> / <code>urlencode</code> / <code>default_if_none</code> / <code>filesizeformat</code> / <code>join</code> / <code>slice</code> / <code>slugify</code></p> </li> <li> <p>\u6a21\u677f\u7684\u5305\u542b\u548c\u7ee7\u627f\u3002</p> </li> <li> <p><code>{% include %}</code> / <code>{% block %}</code></p> </li> <li> <p><code>{% extends %}</code></p> </li> <li> <p>\u6a21\u677f\u52a0\u8f7d\u5668\uff08\u540e\u9762\u4f18\u5316\u90e8\u5206\u4f1a\u8bb2\u5230\uff09\u3002</p> </li> <li> <p>\u6587\u4ef6\u7cfb\u7edf\u52a0\u8f7d\u5668</p> <pre><code>TEMPLATES = [{\n    'BACKEND': 'django.template.backends.django.DjangoTemplates',\n    'DIRS': [os.path.join(BASE_DIR, 'templates')],\n}]\n</code></pre> </li> <li> <p>\u5e94\u7528\u76ee\u5f55\u52a0\u8f7d\u5668</p> <pre><code>TEMPLATES = [{\n    'BACKEND': 'django.template.backends.django.DjangoTemplates',\n    'APP_DIRS': True,\n}]\n</code></pre> </li> </ol>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_3","title":"\u524d\u7aef\u6e32\u67d3","text":"<ol> <li>\u524d\u7aef\u6a21\u677f\u5f15\u64ce\uff1aHandlebars / Mustache\u3002</li> <li>\u524d\u7aefMV*\u6846\u67b6\u3002</li> <li>MVC - AngularJS</li> <li>MVVM(Model-View-ViewModel) - Vue.js</li> </ol>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_4","title":"\u5176\u4ed6\u89c6\u56fe","text":"<ol> <li>MIME\uff08\u591a\u7528\u9014Internet\u90ae\u4ef6\u6269\u5c55\uff09\u7c7b\u578b - \u544a\u77e5\u6d4f\u89c8\u5668\u4f20\u8f93\u7684\u6570\u636e\u7c7b\u578b\u3002</li> </ol> Content-Type \u8bf4\u660e application/json JSON\uff08JavaScript Object Notation\uff09 application/pdf PDF\uff08Portable Document Format\uff09 audio/mpeg MP3\u6216\u5176\u4ed6MPEG\u97f3\u9891\u6587\u4ef6 audio/vnd.wave WAV\u97f3\u9891\u6587\u4ef6 image/gif GIF\u56fe\u50cf\u6587\u4ef6 image/jpeg JPEG\u56fe\u50cf\u6587\u4ef6 image/png PNG\u56fe\u50cf\u6587\u4ef6 text/html HTML\u6587\u4ef6 text/xml XML video/mp4 MP4\u89c6\u9891\u6587\u4ef6 video/quicktime QuickTime\u89c6\u9891\u6587\u4ef6 <ol> <li>\u5982\u4f55\u5904\u7f6e\u751f\u6210\u7684\u5185\u5bb9\uff08inline / attachment\uff09\u3002</li> </ol> <pre><code>&gt;&gt;&gt; from urllib.parse import quote\n&gt;&gt;&gt;\n&gt;&gt;&gt; response['content-type'] = 'application/pdf'\n&gt;&gt;&gt; filename = quote('Python\u8bed\u8a00\u89c4\u8303.pdf')\n&gt;&gt;&gt; filename\n'Python%E8%AF%AD%E8%A8%80%E8%A7%84%E8%8C%83.pdf'\n&gt;&gt;&gt; response['content-disposition'] = f'attachment; filename=\"{filename}\"'\n</code></pre> <p>\u63d0\u9192\uff1aURL\u4ee5\u53ca\u8bf7\u6c42\u548c\u54cd\u5e94\u5934\u4e2d\u7684\u4e2d\u6587\u90fd\u5e94\u8be5\u5904\u7406\u6210\u767e\u5206\u53f7\u7f16\u7801\u3002</p> <ol> <li> <p>\u751f\u6210CSV / Excel / PDF / \u7edf\u8ba1\u62a5\u8868\u3002</p> </li> <li> <p>\u5411\u6d4f\u89c8\u5668\u4f20\u8f93\u4e8c\u8fdb\u5236\u6570\u636e\u3002</p> <pre><code>buffer = ByteIO()\n\nresp = HttpResponse(content_type='...')\nresp['Content-Disposition'] = 'attachment; filename=\"...\"'\nresp.write(buffer.getvalue())\n</code></pre> <pre><code>def get_style(name, color=0, bold=False, italic=False):\n    style = xlwt.XFStyle()\n    font = xlwt.Font()\n    font.name = name\n    font.colour_index = color\n    font.bold = bold\n    font.italic = italic\n    style.font = font\n    return style\n\n\ndef export_emp_excel(request):\n    # \u521b\u5efaExcel\u5de5\u4f5c\u7c3f(\u4f7f\u7528\u4e09\u65b9\u5e93xlwt)\n    workbook = xlwt.Workbook()\n    # \u5411\u5de5\u4f5c\u7c3f\u4e2d\u6dfb\u52a0\u5de5\u4f5c\u8868\n    sheet = workbook.add_sheet('\u5458\u5de5\u8be6\u7ec6\u4fe1\u606f')\n    # \u8bbe\u7f6e\u8868\u5934\n    titles = ['\u7f16\u53f7', '\u59d3\u540d', '\u4e3b\u7ba1', '\u804c\u4f4d', '\u5de5\u8d44', '\u90e8\u95e8\u540d\u79f0']\n    for col, title in enumerate(titles):\n        sheet.write(0, col, title, get_style('HanziPenSC-W3', 2, True))\n    # \u4f7f\u7528Django\u7684ORM\u6846\u67b6\u67e5\u8be2\u5458\u5de5\u6570\u636e\n    emps = Emp.objects.all().select_related('dept').select_related('mgr')\n    cols = ['no', 'name', 'mgr', 'job', 'sal', 'dept']\n    # \u901a\u8fc7\u5d4c\u5957\u7684\u5faa\u73af\u5c06\u5458\u5de5\u8868\u7684\u6570\u636e\u5199\u5165Excel\u5de5\u4f5c\u8868\u7684\u5355\u5143\u683c\n    for row, emp in enumerate(emps):\n        for col, prop in enumerate(cols):\n            val = getattr(emp, prop, '')\n            if isinstance(val, (Dept, Emp)):\n                val = val.name\n            sheet.write(row + 1, col, val)\n    # \u5c06Excel\u6587\u4ef6\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u5199\u5165\u5185\u5b58\n    buffer = BytesIO()\n    workbook.save(buffer)\n    # \u901a\u8fc7HttpResponse\u5bf9\u8c61\u5411\u6d4f\u89c8\u5668\u8f93\u51faExcel\u6587\u4ef6\n    resp = HttpResponse(buffer.getvalue())\n    resp['content-type'] = 'application/msexcel'\n    # \u5982\u679c\u6587\u4ef6\u540d\u6709\u4e2d\u6587\u9700\u8981\u5904\u7406\u6210\u767e\u5206\u53f7\u7f16\u7801\n    resp['content-disposition'] = 'attachment; filename=\"detail.xls\"'\n    return resp\n</code></pre> </li> <li> <p>\u5927\u6587\u4ef6\u7684\u6d41\u5f0f\u5904\u7406\uff1a<code>StreamingHttpResponse</code>\u3002</p> <pre><code>def download_file(request):\n    file_stream = open('...', 'rb')\n    # \u5982\u679c\u6587\u4ef6\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u8f83\u5927\u5219\u6700\u597d\u7528\u8fed\u4ee3\u5668\u8fdb\u884c\u5904\u7406\u907f\u514d\u8fc7\u591a\u7684\u5360\u7528\u670d\u52a1\u5668\u5185\u5b58\n    file_iter = iter(lambda: file_stream.read(4096), b'')\n    resp = StreamingHttpResponse(file_iter)\n    # \u4e2d\u6587\u6587\u4ef6\u540d\u8981\u5904\u7406\u6210\u767e\u5206\u53f7\u7f16\u7801\n    filename = quote('...', 'utf-8')\n    resp['Content-Type'] = '...'\n    resp['Content-Disposition'] = f'attachment; filename=\"{filename}\"'\n    return resp\n</code></pre> <p>\u8bf4\u660e\uff1a\u5982\u679c\u9700\u8981\u751f\u6210PDF\u6587\u4ef6\uff0c\u53ef\u4ee5\u9700\u8981\u5b89\u88c5<code>reportlab</code>\u3002\u53e6\u5916\uff0c\u4f7f\u7528StreamingHttpResponse\u53ea\u80fd\u51cf\u5c11\u5185\u5b58\u7684\u5f00\u9500\uff0c\u4f46\u662f\u5982\u679c\u4e0b\u8f7d\u4e00\u4e2a\u5927\u6587\u4ef6\u4f1a\u5bfc\u81f4\u4e00\u4e2a\u8bf7\u6c42\u957f\u65f6\u95f4\u5360\u7528\u670d\u52a1\u5668\u8d44\u6e90\uff0c\u6bd4\u8f83\u597d\u7684\u505a\u6cd5\u8fd8\u662f\u628a\u62a5\u8868\u63d0\u524d\u751f\u6210\u597d\uff08\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u5b9a\u65f6\u4efb\u52a1\uff09\uff0c\u653e\u5728\u9759\u6001\u8d44\u6e90\u670d\u52a1\u5668\u6216\u8005\u662f\u4e91\u5b58\u50a8\u670d\u52a1\u5668\u4e0a\u4ee5\u8bbf\u95ee\u9759\u6001\u8d44\u6e90\u7684\u65b9\u5f0f\u8bbf\u95ee\u3002</p> </li> <li> <p>ECharts\u6216Chart.js\u3002</p> <ul> <li>\u601d\u8def\uff1a\u540e\u7aef\u53ea\u63d0\u4f9bJSON\u683c\u5f0f\u7684\u6570\u636e\uff0c\u524d\u7aefJavaScript\u6e32\u67d3\u751f\u6210\u56fe\u8868\u3002</li> </ul> <pre><code>def get_charts_data(request):\n    \"\"\"\u83b7\u53d6\u7edf\u8ba1\u56fe\u8868JSON\u6570\u636e\"\"\"\n    names = []\n    totals = []\n    # \u901a\u8fc7connections\u83b7\u53d6\u6307\u5b9a\u6570\u636e\u5e93\u8fde\u63a5\u5e76\u521b\u5efa\u6e38\u6807\u5bf9\u8c61\n    with connections['backend'].cursor() as cursor:\n        # \u5728\u4f7f\u7528ORM\u6846\u67b6\u65f6\u53ef\u4ee5\u4f7f\u7528\u5bf9\u8c61\u7ba1\u7406\u5668\u7684aggregate()\u548cannotate()\u65b9\u6cd5\u5b9e\u73b0\u5206\u7ec4\u548c\u805a\u5408\u51fd\u6570\u67e5\u8be2\n        # \u6267\u884c\u539f\u751fSQL\u67e5\u8be2(\u5982\u679cORM\u6846\u67b6\u4e0d\u80fd\u6ee1\u8db3\u4e1a\u52a1\u6216\u6027\u80fd\u9700\u6c42)\n        cursor.execute('select dname, total from vw_dept_emp')\n        for row in cursor.fetchall():\n            names.append(row[0])\n            totals.append(row[1])\n    return JsonResponse({'names': names, 'totals': totals})\n</code></pre> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;\u7edf\u8ba1\u56fe\u8868&lt;/title&gt;\n    &lt;style&gt;\n        #main {\n            width: 600px;\n            height: 400px;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"main\"&gt;&lt;/div&gt;\n    &lt;script src=\"https://cdn.bootcss.com/echarts/4.2.0-rc.2/echarts.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n        var myChart = echarts.init($('#main')[0]);\n        $.ajax({\n            'url': 'charts_data',\n            'type': 'get',\n            'data': {},\n            'dataType': 'json',\n            'success': function(json) {\n                var option = {\n                    title: {\n                        text: '\u5458\u5de5\u5206\u5e03\u7edf\u8ba1\u56fe'\n                    },\n                    tooltip: {},\n                    legend: {\n                        data:['\u4eba\u6570']\n                    },\n                    xAxis: {\n                        data: json.names\n                    },\n                    yAxis: {},\n                    series: [{\n                        name: '\u4eba\u6570',\n                        type: 'bar',\n                        data: json.totals\n                    }]\n                };\n                myChart.setOption(option);\n            },\n            'error': function() {}\n        });\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> </li> </ol>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_5","title":"\u4e2d\u95f4\u4ef6","text":"<p>\u95ee\u98981\uff1a\u4e2d\u95f4\u4ef6\u80cc\u540e\u7684\u8bbe\u8ba1\u7406\u5ff5\u662f\u4ec0\u4e48\uff1f\uff08\u5206\u79bb\u6a2a\u5207\u5173\u6ce8\u529f\u80fd/\u62e6\u622a\u8fc7\u6ee4\u5668\u6a21\u5f0f\uff09</p> <p>\u95ee\u98982\uff1a\u4e2d\u95f4\u4ef6\u6709\u54ea\u4e9b\u4e0d\u540c\u7684\u5b9e\u73b0\u65b9\u5f0f\uff1f\uff08\u53c2\u8003\u4e0b\u9762\u7684\u4ee3\u7801\uff09</p> <p>\u95ee\u98983\uff1a\u63cf\u8ff0Django\u5185\u7f6e\u7684\u4e2d\u95f4\u4ef6\u53ca\u5176\u6267\u884c\u987a\u5e8f\u3002\uff08\u63a8\u8350\u9605\u8bfb\uff1aDjango\u5b98\u65b9\u6587\u6863 - \u4e2d\u95f4\u4ef6 - \u4e2d\u95f4\u4ef6\u987a\u5e8f\uff09</p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_6","title":"\u6fc0\u6d3b\u4e2d\u95f4\u4ef6","text":"<pre><code>MIDDLEWARE = [\n    'django.middleware.security.SecurityMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n    'common.middlewares.block_sms_middleware',\n]\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_7","title":"\u81ea\u5b9a\u4e49\u4e2d\u95f4\u4ef6","text":"<pre><code>def simple_middleware(get_response):\n\n    def middleware(request, *args, **kwargs):\n\n        response = get_response(request, *args, **kwargs)\n\n        return response\n\n    return middleware\n</code></pre> <pre><code>class MyMiddleware(object):\n\n    def __init__(self, get_response):\n        self.get_response = get_response\n\n    def __call__(self, request):\n\n        response = self.get_response(request)\n\n        return response\n</code></pre> <pre><code>class MyMiddleware(object):\n\n    def __init__(self):\n        pass\n\n    def process_request(request):\n        pass\n\n    def process_view(request, view_func, view_args, view_kwargs):\n        pass\n\n    def process_template_response(request, response):\n        pass\n\n    def process_response(request, response):\n        pass\n\n    def process_exception(request, exception):\n        pass\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_8","title":"\u5185\u7f6e\u4e2d\u95f4\u4ef6","text":"<ol> <li>CommonMiddleware - \u57fa\u7840\u8bbe\u7f6e\u4e2d\u95f4\u4ef6</li> <li>DISALLOWED_USER_AGENTS - \u4e0d\u88ab\u5141\u8bb8\u7684\u7528\u6237\u4ee3\u7406\uff08\u6d4f\u89c8\u5668\uff09</li> <li>APPEND_SLASH - \u662f\u5426\u8ffd\u52a0<code>/</code></li> <li> <p>USE_ETAG - \u6d4f\u89c8\u5668\u7f13\u5b58\u76f8\u5173</p> </li> <li> <p>SecurityMiddleware - \u5b89\u5168\u76f8\u5173\u4e2d\u95f4\u4ef6</p> </li> <li>SECURE_HSTS_SECONDS - \u5f3a\u5236\u4f7f\u7528HTTPS\u7684\u65f6\u95f4</li> <li>SECURE_HSTS_INCLUDE_SUBDOMAINS - HTTPS\u662f\u5426\u8986\u76d6\u5b50\u57df\u540d</li> <li>SECURE_CONTENT_TYPE_NOSNIFF - \u662f\u5426\u5141\u8bb8\u6d4f\u89c8\u5668\u63a8\u65ad\u5185\u5bb9\u7c7b\u578b</li> <li>SECURE_BROWSER_XSS_FILTER - \u662f\u5426\u542f\u7528\u8de8\u7ad9\u811a\u672c\u653b\u51fb\u8fc7\u6ee4\u5668</li> <li>SECURE_SSL_REDIRECT - \u662f\u5426\u91cd\u5b9a\u5411\u5230HTTPS\u8fde\u63a5</li> <li> <p>SECURE_REDIRECT_EXEMPT - \u514d\u9664\u91cd\u5b9a\u5411\u5230HTTPS</p> </li> <li> <p>SessionMiddleware - \u4f1a\u8bdd\u4e2d\u95f4\u4ef6</p> </li> <li> <p>CsrfViewMiddleware - \u9632\u8303\u8de8\u7ad9\u8eab\u4efd\u4f2a\u9020\u4e2d\u95f4\u4ef6</p> </li> <li> <p>XFrameOptionsMiddleware - \u9632\u8303\u70b9\u51fb\u52ab\u6301\u653b\u51fb\u4e2d\u95f4\u4ef6</p> </li> </ol> <p></p> <p></p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_9","title":"\u8868\u5355","text":"<ol> <li>\u7528\u6cd5\uff1a\u901a\u5e38\u4e0d\u8981\u7528\u6765\u751f\u6210\u9875\u9762\u4e0a\u7684\u8868\u5355\u63a7\u4ef6\uff08\u8026\u5408\u5ea6\u592a\u9ad8\u4e0d\u5bb9\u6613\u5b9a\u5236\uff09\uff0c\u4e3b\u8981\u7528\u6765\u9a8c\u8bc1\u6570\u636e\u3002</li> <li>Form\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff1a</li> <li><code>is_valid()</code> / <code>is_multipart()</code></li> <li><code>errors</code> / <code>fields</code> / <code>is_bound</code> / <code>changed_data</code> / <code>cleaned_data</code></li> <li><code>add_error()</code> / <code>has_errors()</code> / <code>non_field_errors()</code></li> <li><code>clean()</code></li> <li>Form.errors\u7684\u65b9\u6cd5\uff1a</li> <li><code>as_data()</code> / <code>as_json()</code> / <code>get_json_data()</code></li> </ol> <p>\u95ee\u98981\uff1aDjango\u4e2d\u7684<code>Form</code>\u548c<code>ModelForm</code>\u6709\u4ec0\u4e48\u4f5c\u7528\uff1f\uff08\u901a\u5e38\u4e0d\u7528\u6765\u751f\u6210\u8868\u5355\u4e3b\u8981\u7528\u6765\u9a8c\u8bc1\u6570\u636e\uff09</p> <p>\u95ee\u98982\uff1a\u8868\u5355\u4e0a\u4f20\u6587\u4ef6\u65f6\u5e94\u8be5\u6ce8\u610f\u54ea\u4e9b\u95ee\u9898\uff1f\uff08\u8868\u5355\u7684\u8bbe\u7f6e\u3001\u591a\u6587\u4ef6\u4e0a\u4f20\u3001\u56fe\u7247\u9884\u89c8\uff08FileReader\uff09\u3001Ajax\u4e0a\u4f20\u6587\u4ef6\u3001\u4e0a\u4f20\u540e\u7684\u6587\u4ef6\u5982\u4f55\u5b58\u50a8\u3001\u8c03\u7528\u4e91\u5b58\u50a8\uff08\u5982\u963f\u91cc\u4e91OSS\u3001\u4e03\u725b\u4e91\u3001LeanCloud\u7b49\uff09\uff09</p> <pre><code>&lt;form action=\"\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n    &lt;input type=\"file\" name=\"...\" multiple&gt;\n    &lt;input type=\"file\" name=\"foo\"&gt;\n    &lt;input type=\"file\" name=\"foo\"&gt;\n    &lt;input type=\"file\" name=\"foo\"&gt;\n&lt;/form&gt;\n</code></pre> <p>\u8bf4\u660e\uff1a\u4e0a\u4f20\u56fe\u7247\u6587\u4ef6\u7684\u9884\u89c8\u6548\u679c\u53ef\u4ee5\u901a\u8fc7HTML5\u7684FileReader\u6765\u5b9e\u73b0\u3002</p> <p>\u8bf4\u660e\uff1a\u4f7f\u7528\u4e91\u5b58\u50a8\u901a\u5e38\u662f\u6bd4\u81ea\u5df1\u914d\u7f6e\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u8fd9\u79cd\u65b9\u5f0f\u66f4\u9760\u8c31\u7684\u505a\u6cd5\uff0c\u800c\u4e14\u4e91\u5b58\u50a8\u901a\u5e38\u6210\u672c\u5e76\u4e0d\u592a\u9ad8\uff0c\u4e0d\u4ec5\u5982\u6b64\u5927\u591a\u6570\u4e91\u5b58\u50a8\u8fd8\u63d0\u4f9b\u4e86\u5982\u56fe\u7247\u526a\u88c1\u3001\u751f\u6210\u6c34\u5370\u3001\u89c6\u9891\u8f6c\u7801\u3001CDN\u7b49\u670d\u52a1\u3002\u5982\u679c\u8981\u81ea\u5df1\u505a\u4e0a\u4f20\u7684\u89c6\u9891\u6587\u4ef6\u8f6c\u7801\uff0c\u9700\u8981\u5b89\u88c5\u4e09\u65b9\u5e93ffmpeg\uff0c\u5728\u7a0b\u5e8f\u4e2d\u8c03\u7528\u8be5\u4e09\u65b9\u5e93\u53ef\u4ee5\u5b9e\u73b0\u8f6c\u7801\u3002</p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#cookiesession","title":"Cookie\u548cSession","text":"<p>\u95ee\u98981\uff1a\u4f7f\u7528Cookie\u80fd\u89e3\u51b3\u4ec0\u4e48\u95ee\u9898\uff1f\uff08\u7528\u6237\u8ddf\u8e2a\uff0c\u89e3\u51b3HTTP\u534f\u8bae\u65e0\u72b6\u6001\u95ee\u9898\uff09</p> <ol> <li>URL\u91cd\u5199</li> </ol> <pre><code>http://www.abc.com/path/resource?foo=bar\n</code></pre> <ol> <li>\u9690\u85cf\u57df\uff08\u9690\u5f0f\u8868\u5355\u57df\uff09- \u57cb\u70b9</li> </ol> <pre><code>&lt;form action=\"\" method=\"post\"&gt;\n\n    &lt;input type=\"hidden\" name=\"foo\" value=\"bar\"&gt;\n\n&lt;/form&gt;\n</code></pre> <ol> <li>Cookie - \u6d4f\u89c8\u5668\u4e2d\u7684\u4e34\u65f6\u6587\u4ef6\uff08\u6587\u672c\u6587\u4ef6\uff09- BASE64</li> </ol> <p>\u95ee\u98982\uff1aCookie\u548cSession\u4e4b\u95f4\u5173\u7cfb\u662f\u4ec0\u4e48\uff1f\uff08Session\u7684\u6807\u8bc6\u901a\u8fc7Cookie\u4fdd\u5b58\u548c\u4f20\u8f93\uff09</p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#session","title":"Session\u7684\u914d\u7f6e","text":"<ol> <li> <p>Session\u5bf9\u5e94\u7684\u4e2d\u95f4\u4ef6\uff1a<code>django.contrib.sessions.middleware.SessionMiddleware</code>\u3002</p> </li> <li> <p>Session\u5f15\u64ce\u3002</p> </li> <li> <p>\u57fa\u4e8e\u6570\u636e\u5e93\uff08\u9ed8\u8ba4\u65b9\u5f0f\uff09</p> <pre><code>INSTALLED_APPS = [\n    'django.contrib.sessions',\n]\n</code></pre> </li> <li> <p>\u57fa\u4e8e\u7f13\u5b58\uff08\u63a8\u8350\u4f7f\u7528\uff09</p> <pre><code>SESSION_ENGINE = 'django.contrib.sessions.backends.cache'\nSESSION_CACHE_ALIAS = 'session'\n</code></pre> </li> <li> <p>\u57fa\u4e8e\u6587\u4ef6\uff08\u57fa\u672c\u4e0d\u8003\u8651\uff09</p> </li> <li> <p>\u57fa\u4e8eCookie\uff08\u4e0d\u9760\u8c31\uff09</p> <pre><code>SESSION_ENGINE = 'django.contrib.sessions.backends.signed_cookies'\n</code></pre> </li> <li> <p>Cookie\u76f8\u5173\u7684\u914d\u7f6e\u3002</p> </li> </ol> <pre><code>SESSION_COOKIE_NAME = 'djang_session_id'\nSESSION_COOKIE_AGE = 1209600\n# \u5982\u679c\u8bbe\u7f6e\u4e3aTrue\uff0cCookie\u5c31\u662f\u57fa\u4e8e\u6d4f\u89c8\u5668\u7a97\u53e3\u7684Cookie\uff0c\u4e0d\u4f1a\u6301\u4e45\u5316\nSESSION_EXPIRE_AT_BROWSER_CLOSE = False \nSESSION_SAVE_EVERY_REQUEST = False\nSESSION_COOKIE_HTTPONLY = True\n</code></pre> <ol> <li> <p>session\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002</p> </li> <li> <p><code>session_key</code> / <code>session_data</code> / <code>expire_date</code></p> </li> <li><code>__getitem__</code> / <code>__setitem__</code> / <code>__delitem__</code> / <code>__contains__</code></li> <li><code>set_expiry()</code> / <code>get_expiry_age()</code> / <code>get_expiry_date()</code> - \u8bbe\u7f6e/\u83b7\u53d6\u4f1a\u8bdd\u8d85\u671f\u65f6\u95f4</li> <li><code>flush()</code> - \u9500\u6bc1\u4f1a\u8bdd</li> <li> <p><code>set_test_cookie()</code> / <code>test_cookie_worked()</code> / <code>delete_test_cookie()</code> - \u6d4b\u8bd5\u6d4f\u89c8\u5668\u662f\u5426\u652f\u6301Cookie\uff08\u63d0\u793a\u7528\u6237\u5982\u679c\u6d4f\u89c8\u5668\u7981\u7528Cookie\u53ef\u80fd\u4f1a\u5f71\u54cd\u7f51\u7ad9\u7684\u4f7f\u7528\uff09</p> </li> <li> <p>session\u7684\u5e8f\u5217\u5316\u3002</p> </li> </ol> <pre><code>SESSION_SERIALIZER = 'django.contrib.sessions.serializers.JSONSerializer'\n</code></pre> <ul> <li>JSONSerializer\uff081.6\u53ca\u4ee5\u540e\u9ed8\u8ba4\uff09- \u5982\u679c\u60f3\u5c06\u81ea\u5b9a\u4e49\u7684\u5bf9\u8c61\u653e\u5230session\u4e2d\uff0c\u4f1a\u9047\u5230\u201cObject of type 'XXX' is not JSON serializable\u201d\u7684\u95ee\u9898\uff08\u5982\u679c\u914d\u7f6e\u4f7f\u7528Redis\u4fdd\u5b58Session\uff0cdjango-redis\u4f7f\u7528\u4e86Pickle\u5e8f\u5217\u5316\uff0c\u8fd9\u4e2a\u95ee\u9898\u5c31\u4e0d\u5b58\u5728\u4e86\uff09\u3002</li> <li> <p>PickleSerializer\uff081.6\u4ee5\u524d\u7684\u9ed8\u8ba4\uff09- \u56e0\u4e3a\u5b89\u5168\u95ee\u9898\u4e0d\u63a8\u8350\u4f7f\u7528\uff0c\u4f46\u662f\u53ea\u8981\u4e0d\u53bb\u53cd\u5e8f\u5217\u5316\u7528\u6237\u6784\u9020\u7684\u6076\u610f\u7684Payload\u5176\u5b9e\u4e5f\u6ca1\u6709\u4ec0\u4e48\u98ce\u9669\u3002\u5173\u4e8e\u8fd9\u79cd\u65b9\u5f0f\u7684\u5b89\u5168\u6f0f\u6d1e\uff0c\u53ef\u4ee5\u53c2\u8003\u300aPython Pickle\u7684\u4efb\u610f\u4ee3\u7801\u6267\u884c\u6f0f\u6d1e\u5b9e\u8df5\u548cPayload\u6784\u9020\u300b\u4e00\u6587\u6216\u300a\u8f6f\u4ef6\u67b6\u6784-Python\u8bed\u8a00\u5b9e\u73b0\u300b\u4e0a\u5173\u4e8e\u8fd9\u4e2a\u95ee\u9898\u7684\u8bb2\u89e3\u3002</p> <p>\u8bf4\u660e\uff1a\u5982\u679c\u4f7f\u7528\u4e86django_redis\u6574\u5408Redis\u4f5c\u4e3asession\u7684\u5b58\u50a8\u5f15\u64ce\uff0c\u90a3\u4e48\u7531\u4e8edjango_redis\u53c8\u5c01\u88c5\u4e86\u4e00\u4e2aPickleSerializer\u6765\u63d0\u4f9b\u5e8f\u5217\u5316\uff0c\u6240\u4ee5\u4e0d\u4f1a\u5b58\u5728\u4e0a\u8ff0\u7684\u95ee\u9898\uff0c\u4e14Redis\u4e2d\u4fdd\u5b58\u7684value\u662fpickle\u5e8f\u5217\u5316\u4e4b\u540e\u7684\u7ed3\u679c\u3002</p> </li> </ul>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_10","title":"\u7f13\u5b58","text":""},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_11","title":"\u914d\u7f6e\u7f13\u5b58","text":"<pre><code>CACHES = {\n    # \u9ed8\u8ba4\u7f13\u5b58\n    'default': {\n        'BACKEND': 'django_redis.cache.RedisCache',\n        'LOCATION': [\n            'redis://1.2.3.4:6379/0',\n        ],\n        'KEY_PREFIX': 'teamproject',\n        'OPTIONS': {\n            'CLIENT_CLASS': 'django_redis.client.DefaultClient',\n            'CONNECTION_POOL_KWARGS': {\n                'max_connections': 1000,\n            },\n            'PASSWORD': '1qaz2wsx',\n        }\n    },\n    # \u9875\u9762\u7f13\u5b58\n    'page': {\n        'BACKEND': 'django_redis.cache.RedisCache',\n        'LOCATION': [\n            'redis://1.2.3.4:6379/1',\n        ],\n        'KEY_PREFIX': 'teamproject:page',\n        'OPTIONS': {\n            'CLIENT_CLASS': 'django_redis.client.DefaultClient',\n            'CONNECTION_POOL_KWARGS': {\n                'max_connections': 500,\n            },\n            'PASSWORD': '1qaz2wsx',\n        }\n    },\n    # \u4f1a\u8bdd\u7f13\u5b58\n    'session': {\n        'BACKEND': 'django_redis.cache.RedisCache',\n        'LOCATION': [\n            'redis://1.2.3.4:6379/2',\n        ],\n        'KEY_PREFIX': 'teamproject:session',\n        'TIMEOUT': 1209600,\n        'OPTIONS': {\n            'CLIENT_CLASS': 'django_redis.client.DefaultClient',\n            'CONNECTION_POOL_KWARGS': {\n                'max_connections': 2000,\n            },\n            'PASSWORD': '1qaz2wsx',\n        }\n    },\n    # \u63a5\u53e3\u6570\u636e\u7f13\u5b58\n    'api': {\n        'BACKEND': 'django_redis.cache.RedisCache',\n        'LOCATION': [\n            'redis://1.2.3.4:6379/3',\n        ],\n        'KEY_PREFIX': 'teamproject:api',\n        'OPTIONS': {\n            'CLIENT_CLASS': 'django_redis.client.DefaultClient',\n            'CONNECTION_POOL_KWARGS': {\n                'max_connections': 500,\n            },\n            'PASSWORD': '1qaz2wsx',\n        }\n    },\n}\n</code></pre> <p>\u8bf4\u660e\uff1a\u901a\u8fc7Redis\u5e95\u5c42\u63d0\u4f9b\u7684\u591a\u4e2a\u6570\u636e\u5e93\u6765\u9694\u79bb\u7f13\u5b58\u6570\u636e\u6709\u52a9\u4e8e\u7f13\u5b58\u6570\u636e\u7684\u7ba1\u7406\u3002\u5982\u679c\u914d\u7f6e\u4e86Redis\u7684\u4e3b\u4ece\u590d\u5236\uff08\u8bfb\u5199\u5206\u79bb\uff09\uff0cLOCATION\u5217\u8868\u4e2d\u53ef\u4ee5\u914d\u7f6e\u591a\u4e2aRedis\u8fde\u63a5\uff0c\u7b2c\u4e00\u4e2a\u88ab\u89c6\u4e3amaster\u7528\u6765\u8fdb\u884c\u5199\u64cd\u4f5c\uff0c\u540e\u9762\u7684\u88ab\u89c6\u4e3aslave\u7528\u6765\u8fdb\u884c\u8bfb\u64cd\u4f5c\u3002</p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_12","title":"\u5168\u7ad9\u7f13\u5b58","text":"<pre><code>MIDDLEWARE_CLASSES = [\n    'django.middleware.cache.UpdateCacheMiddleware',\n    ...\n    'django.middleware.common.CommonMiddleware',\n    ...\n    'django.middleware.cache.FetchFromCacheMiddleware',\n]\n\nCACHE_MIDDLEWARE_ALIAS = 'default'\nCACHE_MIDDLEWARE_SECONDS = 300\nCACHE_MIDDLEWARE_KEY_PREFIX = 'djang:cache'\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_13","title":"\u89c6\u56fe\u5c42\u7f13\u5b58","text":"<pre><code>from django.views.decorators.cache import cache_page\nfrom django.views.decorators.vary import vary_on_cookie\n\n\n@cache_page(timeout=60 * 15, cache='page')\n@vary_on_cookie\ndef my_view(request):\n    pass\n</code></pre> <pre><code>from django.views.decorators.cache import cache_page\n\nurlpatterns = [\n    url(r'^foo/([0-9]{1,2})/$', cache_page(60 * 15)(my_view)),\n]\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_14","title":"\u5176\u4ed6\u5185\u5bb9","text":"<ol> <li> <p>\u6a21\u677f\u7247\u6bb5\u7f13\u5b58\u3002</p> </li> <li> <p><code>{% load cache %}</code></p> </li> <li> <p><code>{% cache %}</code> / <code>{% endcache %}</code></p> </li> <li> <p>\u4f7f\u7528\u5e95\u5c42API\u8bbf\u95ee\u7f13\u5b58\u3002</p> </li> </ol> <pre><code>&gt;&gt;&gt; from django.core.cache import cache\n&gt;&gt;&gt;\n&gt;&gt;&gt; cache.set('my_key', 'hello, world!', 30)\n&gt;&gt;&gt; cache.get('my_key')\n&gt;&gt;&gt; cache.clear()\n</code></pre> <pre><code>&gt;&gt;&gt; from django.core.cache import caches\n&gt;&gt;&gt; cache1 = caches['page']\n&gt;&gt;&gt; cache2 = caches['page']\n&gt;&gt;&gt; cache1 is cache2\nTrue\n&gt;&gt;&gt; cache3 = caches['session']\n&gt;&gt;&gt; cache2 is cache3\nFalse\n</code></pre> <pre><code>&gt;&gt;&gt; from django_redis import get_redis_connection\n&gt;&gt;&gt;\n&gt;&gt;&gt; redis_client = get_redis_connection()\n&gt;&gt;&gt; redis_client.hgetall()\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_15","title":"\u65e5\u5fd7","text":""},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_16","title":"\u65e5\u5fd7\u7ea7\u522b","text":"<p>NOTSET &lt; DEBUG &lt; INFO &lt; WARNING &lt; ERROR &lt; FATAL</p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_17","title":"\u65e5\u5fd7\u914d\u7f6e","text":"<pre><code>LOGGING = {\n    'version': 1,\n    'disable_existing_loggers': False,\n    # \u914d\u7f6e\u65e5\u5fd7\u683c\u5f0f\u5316\u5668\n    'formatters': {\n        'simple': {\n            'format': '%(asctime)s %(module)s.%(funcName)s: %(message)s',\n            'datefmt': '%Y-%m-%d %H:%M:%S',\n        },\n        'verbose': {\n            'format': '%(asctime)s %(levelname)s [%(process)d-%(threadName)s] '\n                      '%(module)s.%(funcName)s line %(lineno)d: %(message)s',\n            'datefmt': '%Y-%m-%d %H:%M:%S',\n        }\n    },\n    # \u914d\u7f6e\u65e5\u5fd7\u8fc7\u6ee4\u5668\n    'filters': {\n        'require_debug_true': {\n            '()': 'django.utils.log.RequireDebugTrue',\n        },\n    },\n    # \u914d\u7f6e\u65e5\u5fd7\u5904\u7406\u5668\n    'handlers': {\n        'console': {\n            'class': 'logging.StreamHandler',\n            'level': 'DEBUG',\n            'filters': ['require_debug_true'],\n            'formatter': 'simple',\n        },\n        'file1': {\n            'class': 'logging.handlers.TimedRotatingFileHandler',\n            'filename': 'access.log',\n            'when': 'W0',\n            'backupCount': 12,\n            'formatter': 'simple',\n            'level': 'INFO',\n        },\n        'file2': {\n            'class': 'logging.handlers.TimedRotatingFileHandler',\n            'filename': 'error.log',\n            'when': 'D',\n            'backupCount': 31,\n            'formatter': 'verbose',\n            'level': 'WARNING',\n        },\n    },\n    # \u914d\u7f6e\u65e5\u5fd7\u5668\n    'loggers': {\n        'django': {\n            'handlers': ['console', 'file1', 'file2'],\n            'propagate': True,\n            'level': 'DEBUG',\n        },\n    }\n}\n</code></pre> <p>\u65e5\u5fd7\u914d\u7f6e\u5b98\u65b9\u793a\u4f8b\u3002</p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_18","title":"\u65e5\u5fd7\u5206\u6790","text":"<ol> <li>Linux\u76f8\u5173\u547d\u4ee4\uff1ahead\u3001tail\u3001grep\u3001awk\u3001uniq\u3001sort</li> </ol> <pre><code>tail -10000 access.log | awk '{print $1}' | uniq -c | sort -r\n</code></pre> <ol> <li> <p>\u5b9e\u65f6\u65e5\u5fd7\u6587\u4ef6\u5206\u6790\uff1aPython + \u6b63\u5219\u8868\u8fbe\u5f0f + Crontab</p> </li> <li> <p>\u300aPython\u65e5\u5fd7\u5206\u6790\u5de5\u5177\u300b\u3002</p> </li> <li> <p>\u300a\u96c6\u4e2d\u5f0f\u65e5\u5fd7\u7cfb\u7edfELK\u300b\u3002</p> </li> <li> <p>ElasticSearch\uff1a\u641c\u7d22\u5f15\u64ce\uff0c\u5b9e\u73b0\u5168\u6587\u68c0\u7d22\u3002</p> </li> <li>Logstash\uff1a\u8d1f\u8d23\u4ece\u6307\u5b9a\u8282\u70b9\u6536\u96c6\u65e5\u5fd7\u3002</li> <li> <p>Kibana\uff1a\u65e5\u5fd7\u53ef\u89c6\u5316\u5de5\u5177\u3002</p> </li> <li> <p>\u5927\u6570\u636e\u65e5\u5fd7\u5904\u7406\uff1aFlume+Kafka\u65e5\u5fd7\u91c7\u96c6\u3001Storm / Spark\u5b9e\u65f6\u6570\u636e\u5904\u7406\u3001Impala\u5b9e\u65f6\u67e5\u8be2\u3002</p> </li> </ol>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#restful","title":"RESTful","text":"<p>\u95ee\u98981\uff1aRESTful\u67b6\u6784\u5230\u5e95\u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898\uff1f\uff08URL\u5177\u6709\u81ea\u63cf\u8ff0\u6027\u3001\u8d44\u6e90\u8868\u8ff0\u4e0e\u89c6\u56fe\u7684\u89e3\u8026\u548c\u3001\u4e92\u64cd\u4f5c\u6027\u5229\u7528\u6784\u5efa\u5fae\u670d\u52a1\u4ee5\u53ca\u96c6\u6210\u7b2c\u4e09\u65b9\u7cfb\u7edf\u3001\u65e0\u72b6\u6001\u6027\u63d0\u9ad8\u6c34\u5e73\u6269\u5c55\u80fd\u529b\uff09</p> <p>\u95ee\u98982\uff1a\u9879\u76ee\u5728\u4f7f\u7528RESTful\u67b6\u6784\u65f6\u6709\u6ca1\u6709\u9047\u5230\u4e00\u4e9b\u95ee\u9898\u6216\u9690\u60a3\uff1f\uff08\u5bf9\u8d44\u6e90\u8bbf\u95ee\u7684\u9650\u5236\u3001\u8d44\u6e90\u4ece\u5c5e\u5173\u7cfb\u68c0\u67e5\u3001\u907f\u514d\u6cc4\u9732\u4e1a\u52a1\u4fe1\u606f\u3001\u9632\u8303\u53ef\u80fd\u7684\u653b\u51fb\uff09</p> <p>\u8865\u5145\uff1a\u4e0b\u9762\u7684\u51e0\u4e2a\u548c\u5b89\u5168\u6027\u76f8\u5173\u7684\u54cd\u5e94\u5934\u5728\u524d\u9762\u8bb2\u4e2d\u95f4\u4ef6\u7684\u65f6\u5019\u63d0\u5230\u8fc7\u7684\u3002</p> <ul> <li>X-Frame-Options: DENY</li> <li>X-Content-Type-Options: nosniff</li> <li>X-XSS-Protection: 1; mode=block;</li> <li>Strict\u00ad-Transport-\u00adSecurity: max-age=31536000;</li> </ul> <p>\u95ee\u98983\uff1a\u5982\u4f55\u4fdd\u62a4API\u4e2d\u7684\u654f\u611f\u4fe1\u606f\u4ee5\u53ca\u9632\u8303\u91cd\u653e\u653b\u51fb\uff1f\uff08\u6458\u8981\u548c\u4ee4\u724c\uff09</p> <p>\u63a8\u8350\u9605\u8bfb\uff1a\u300a\u5982\u4f55\u6709\u6548\u9632\u6b62API\u7684\u91cd\u653e\u653b\u51fb\u300b\u3002</p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#djangorestframework","title":"\u4f7f\u7528djangorestframework","text":"<p>\u5b89\u88c5djangorestfrmework\uff08\u4e3a\u4e86\u63cf\u8ff0\u65b9\u4fbf\uff0c\u4ee5\u4e0b\u7edf\u4e00\u7b80\u79f0\u4e3adrf\uff09\u3002</p> <pre><code>pip install djangorestframework\n</code></pre> <p>\u914d\u7f6edrf\u3002</p> <pre><code>INSTALLED_APPS = [\n\n    'rest_framework',\n\n]\n\nREST_FRAMEWORK = {\n    # \u914d\u7f6e\u9ed8\u8ba4\u9875\u9762\u5927\u5c0f\n    'PAGE_SIZE': 10,\n    # \u914d\u7f6e\u9ed8\u8ba4\u7684\u5206\u9875\u7c7b\n    'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination',\n    # \u914d\u7f6e\u5f02\u5e38\u5904\u7406\u5668\n    # 'EXCEPTION_HANDLER': 'api.exceptions.exception_handler',\n    # \u914d\u7f6e\u9ed8\u8ba4\u89e3\u6790\u5668\n    # 'DEFAULT_PARSER_CLASSES': (\n    #     'rest_framework.parsers.JSONParser',\n    #     'rest_framework.parsers.FormParser',\n    #     'rest_framework.parsers.MultiPartParser',\n    # ),\n    # \u914d\u7f6e\u9ed8\u8ba4\u9650\u6d41\u7c7b\n    # 'DEFAULT_THROTTLE_CLASSES': (),\n    # \u914d\u7f6e\u9ed8\u8ba4\u6388\u6743\u7c7b\n    # 'DEFAULT_PERMISSION_CLASSES': (\n    #     'rest_framework.permissions.IsAuthenticated',\n    # ),\n    # \u914d\u7f6e\u9ed8\u8ba4\u8ba4\u8bc1\u7c7b\n    # 'DEFAULT_AUTHENTICATION_CLASSES': (\n    #     'rest_framework_jwt.authentication.JSONWebTokenAuthentication',\n    # ),\n}\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_19","title":"\u7f16\u5199\u5e8f\u5217\u5316\u5668","text":"<pre><code>from rest_framework import serializers\nfrom rest_framework.serializers import ModelSerializer\n\nfrom common.models import District, HouseType, Estate, Agent\n\n\nclass DistrictSerializer(ModelSerializer):\n\n    class Meta:\n        model = District\n        fields = ('distid', 'name')\n\n\nclass HouseTypeSerializer(ModelSerializer):\n\n    class Meta:\n        model = HouseType\n        fields = '__all__'\n\n\nclass AgentSerializer(ModelSerializer):\n\n    class Meta:\n        model = Agent\n        fields = ('agentid', 'name', 'tel', 'servstar', 'certificated')\n\n\nclass EstateSerializer(ModelSerializer):\n    district = serializers.SerializerMethodField()\n    agents = serializers.SerializerMethodField()\n\n    @staticmethod\n    def get_agents(estate):\n        return AgentSerializer(estate.agents, many=True).data\n\n    @staticmethod\n    def get_district(estate):\n        return DistrictSerializer(estate.district).data\n\n    class Meta:\n        model = Estate\n        fields = '__all__'\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#1","title":"\u65b9\u6cd51\uff1a\u4f7f\u7528\u88c5\u9970\u5668","text":"<pre><code>@api_view(['GET'])\n@cache_page(timeout=None, cache='api')\ndef provinces(request):\n    queryset = District.objects.filter(parent__isnull=True)\n    serializer = DistrictSerializer(queryset, many=True)\n    return Response(serializer.data)\n\n\n@api_view(['GET'])\n@cache_page(timeout=300, cache='api')\ndef cities(request, provid):\n    queryset = District.objects.filter(parent__distid=provid)\n    serializer = DistrictSerializer(queryset, many=True)\n    return Response(serializer.data)\n</code></pre> <pre><code>urlpatterns = [\n    path('districts/', views.provinces, name='districts'),\n    path('districts/&lt;int:provid&gt;/', views.cities, name='cities'),\n]\n</code></pre> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u4f7f\u7528\u4e86Django\u81ea\u5e26\u7684\u89c6\u56fe\u88c5\u9970\u5668\uff08@cache_page\uff09\u6765\u5b9e\u73b0\u5bf9API\u63a5\u53e3\u8fd4\u56de\u6570\u636e\u7684\u7f13\u5b58\u3002</p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#2apiview","title":"\u65b9\u6cd52\uff1a\u4f7f\u7528APIView\u53ca\u5176\u5b50\u7c7b","text":"<p>\u66f4\u597d\u7684\u590d\u7528\u4ee3\u7801\uff0c\u4e0d\u8981\u91cd\u201c\u590d\u53d1\u660e\u8f6e\u5b50\u201d\u3002</p> <pre><code>class HouseTypeApiView(CacheResponseMixin, ListAPIView):\n    queryset = HouseType.objects.all()\n    serializer_class = HouseTypeSerializer\n</code></pre> <pre><code>urlpatterns = [\n    path('housetypes/', views.HouseTypeApiView.as_view(), name='housetypes'),\n]\n</code></pre> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u4f7f\u7528\u4e86drf_extensions\u63d0\u4f9b\u7684CacheResponseMixin\u6df7\u5165\u7c7b\u5b9e\u73b0\u4e86\u5bf9\u63a5\u53e3\u6570\u636e\u7684\u7f13\u5b58\u3002\u5982\u679c\u91cd\u5199\u4e86\u83b7\u53d6\u6570\u636e\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u4f7f\u7528drf_extensions\u63d0\u4f9b\u7684@cache_response\u6765\u5b9e\u73b0\u5bf9\u63a5\u53e3\u6570\u636e\u7684\u7f13\u5b58\uff0c\u4e5f\u53ef\u4ee5\u7528\u81ea\u5b9a\u4e49\u7684\u51fd\u6570\u6765\u751f\u6210\u7f13\u5b58\u4e2d\u7684key\u3002\u5f53\u7136\u8fd8\u6709\u4e00\u4e2a\u9009\u62e9\u5c31\u662f\u901a\u8fc7Django\u63d0\u4f9b\u7684@method_decorator\u88c5\u9970\u5668\uff0c\u5c06@cache_page\u88c5\u9970\u5668\u5904\u7406\u4e3a\u88c5\u9970\u65b9\u6cd5\u7684\u88c5\u9970\u5668\uff0c\u8fd9\u6837\u4e5f\u80fd\u63d0\u4f9b\u4f7f\u7528\u7f13\u5b58\u670d\u52a1\u3002</p> <p><code>drf-extensions</code>\u914d\u7f6e\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code># \u914d\u7f6eDRF\u6269\u5c55\u6765\u652f\u6301\u7f13\u5b58API\u63a5\u53e3\u8c03\u7528\u7ed3\u679c\nREST_FRAMEWORK_EXTENSIONS = {\n    'DEFAULT_CACHE_RESPONSE_TIMEOUT': 300,\n    'DEFAULT_USE_CACHE': 'default',\n    # \u914d\u7f6e\u9ed8\u8ba4\u7f13\u5b58\u5355\u4e2a\u5bf9\u8c61\u7684key\u51fd\u6570\n    'DEFAULT_OBJECT_CACHE_KEY_FUNC': 'rest_framework_extensions.utils.default_object_cache_key_func',\n    # \u914d\u7f6e\u9ed8\u8ba4\u7f13\u5b58\u5bf9\u8c61\u5217\u8868\u7684key\u51fd\u6570\n    'DEFAULT_LIST_CACHE_KEY_FUNC': 'rest_framework_extensions.utils.default_list_cache_key_func',\n}\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#3viewset","title":"\u65b9\u6cd53\uff1a\u4f7f\u7528ViewSet\u53ca\u5176\u5b50\u7c7b","text":"<pre><code>class HouseTypeViewSet(CacheResponseMixin, viewsets.ModelViewSet):\n    queryset = HouseType.objects.all()\n    serializer_class = HouseTypeSerializer\n    pagination_class = None\n</code></pre> <pre><code>router = DefaultRouter()\nrouter.register('housetypes', views.HouseTypeViewSet)\n\nurlpatterns += router.urls\n</code></pre> <p>djangorestframework\u63d0\u4f9b\u4e86\u57fa\u4e8eBootstrap\u5b9a\u5236\u7684\u9875\u9762\u6765\u663e\u793a\u63a5\u53e3\u8fd4\u56de\u7684JSON\u6570\u636e\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u4f7f\u7528POSTMAN\u8fd9\u6837\u7684\u5de5\u5177\u5bf9API\u63a5\u53e3\u8fdb\u884c\u6d4b\u8bd5\u3002</p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_20","title":"\u8865\u5145\u8bf4\u660e","text":"<p>\u5728\u8fd9\u91cc\u987a\u4fbf\u63d0\u4e00\u4e0b\u8ddf\u524d\u7aef\u76f8\u5173\u7684\u51e0\u4e2a\u95ee\u9898\u3002</p> <p>\u95ee\u98981\uff1a\u5982\u4f55\u8ba9\u6d4f\u89c8\u5668\u80fd\u591f\u53d1\u8d77DELETE/PUT/PATCH\uff1f</p> <pre><code>&lt;form method=\"post\"&gt;\n\n    &lt;input type=\"hidden\" name=\"_method\" value=\"delete\"&gt;\n\n&lt;/form&gt;\n</code></pre> <pre><code>if request.method == 'POST' and '_method' in request.POST:\n    request.method = request.POST['_method'].upper()\n</code></pre> <pre><code>&lt;script&gt;\n    $.ajax({\n        'url': '/api/provinces',\n        'type': 'put',\n        'data': {},\n        'dataType': 'json',\n        'success': function(json) {\n            // Web = \u6807\u7b7e(\u5185\u5bb9) + CSS(\u663e\u793a) + JS(\u884c\u4e3a)\n            // JavaScript = ES + BOM + DOM\n            // DOM\u64cd\u4f5c\u5b9e\u73b0\u9875\u9762\u7684\u5c40\u90e8\u5237\u65b0\n        },\n        'error': function() {}\n    });\n    $.getJSON('/api/provinces', function(json) {\n        // DOM\u64cd\u4f5c\u5b9e\u73b0\u9875\u9762\u7684\u5c40\u90e8\u5237\u65b0\n    });\n&lt;/script&gt;\n</code></pre> <p>\u95ee\u98982\uff1a\u5982\u4f55\u89e3\u51b3\u591a\u4e2aJavaScript\u5e93\u4e4b\u95f4\u67d0\u4e2a\u5b9a\u4e49\uff08\u5982$\u51fd\u6570\uff09\u51b2\u7a81\u7684\u95ee\u9898\uff1f</p> <pre><code>&lt;script src=\"js/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/abc.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    // $\u5df2\u7ecf\u88ab\u540e\u52a0\u8f7d\u7684JavaScript\u5e93\u5360\u7528\u4e86\n    // \u4f46\u662f\u53ef\u4ee5\u76f4\u63a5\u7528\u7ed1\u5b9a\u5728window\u5bf9\u8c61\u4e0a\u7684jQuery\u53bb\u4ee3\u66ff$\n    jQuery(function() {\n        jQuery('#okBtn').on('click', function() {});\n    });\n&lt;/script&gt;\n</code></pre> <pre><code>&lt;script src=\"js/abc.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    // \u5c06$\u8ba9\u51fa\u7ed9\u5176\u4ed6\u7684JavaScript\u5e93\u4f7f\u7528\n    jQuery.noConflict();\n    jQuery(function() {\n        jQuery('#okBtn').on('click', function() {});\n    });\n&lt;/script&gt;\n</code></pre> <p>\u95ee\u98983\uff1ajQuery\u5bf9\u8c61\u4e0e\u539f\u751fDOM\u5bf9\u8c61\u4e4b\u95f4\u5982\u4f55\u8f6c\u6362\uff1f</p> <pre><code>&lt;button id=\"okBtn\"&gt;\u70b9\u6211&lt;/button&gt;\n&lt;script src=\"js/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    var btn = document.getElementById('okBtn'); // \u539f\u751fJavaScript\u5bf9\u8c61(\u4f7f\u7528\u76f8\u5bf9\u9ebb\u70e6)\n    var $btn = $('#okBtn'); // jQuery\u5bf9\u8c61(\u62e5\u6709\u66f4\u591a\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u800c\u4e14\u6ca1\u6709\u6d4f\u89c8\u5668\u517c\u5bb9\u6027\u95ee\u9898)\n    $btn.on('click', function() {});\n    // $(btn)\u53ef\u4ee5\u5c06\u539f\u751fJavaScript\u5bf9\u8c61\u8f6c\u6210jQuery\u5bf9\u8c61\n    // $btn.get(0)\u6216$btn[0]\u53ef\u4ee5\u83b7\u5f97\u539f\u751f\u7684JavaScript\u5bf9\u8c61\n&lt;/script&gt;\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_21","title":"\u8fc7\u6ee4\u6570\u636e","text":"<p>\u5982\u679c\u9700\u8981\u8fc7\u6ee4\u6570\u636e\uff08\u5bf9\u6570\u636e\u63a5\u53e3\u8bbe\u7f6e\u7b5b\u9009\u6761\u4ef6\u3001\u6392\u5e8f\u6761\u4ef6\u7b49\uff09\uff0c\u53ef\u4ee5\u4f7f\u7528<code>django-filter</code>\u4e09\u65b9\u5e93\u6765\u5b9e\u73b0\u3002</p> <pre><code>pip install django-filter\n</code></pre> <pre><code>INSTALLED_APPS = [\n\n    'django_filters',\n\n]\nREST_FRAMEWORK = {\n\n    'DEFAULT_FILTER_BACKENDS': (\n        'django_filters.rest_framework.DjangoFilterBackend',\n        'rest_framework.filters.OrderingFilter',\n    ),\n\n}\n</code></pre> <pre><code>from django.utils.decorators import method_decorator\nfrom django.views.decorators.cache import cache_page\nfrom django_filters.rest_framework import DjangoFilterBackend\nfrom rest_framework.filters import OrderingFilter\nfrom rest_framework.generics import RetrieveAPIView, ListCreateAPIView\n\nfrom api.serializers import EstateSerializer\nfrom common.models import Estate\n\n\n@method_decorator(decorator=cache_page(timeout=120, cache='api', key_prefix='estates'), name='get')\nclass EstateView(RetrieveAPIView, ListCreateAPIView):\n    queryset = Estate.objects.all().select_related('district').prefetch_related('agents')\n    serializer_class = EstateSerializer\n    filter_backends = (DjangoFilterBackend, OrderingFilter)\n    filter_fields = ('name', 'district')\n    ordering = ('-hot', )\n    ordering_fields = ('hot', 'estateid')\n</code></pre> <pre><code>from django_filters import rest_framework as drf\nfrom common.models import HouseInfo\n\n\nclass HouseInfoFilter(drf.FilterSet):\n    \"\"\"\u81ea\u5b9a\u4e49\u623f\u6e90\u6570\u636e\u8fc7\u6ee4\u5668\"\"\"\n\n    title = drf.CharFilter(lookup_expr='starts')\n    dist = drf.NumberFilter(field_name='district')\n    min_price = drf.NumberFilter(field_name='price', lookup_expr='gte')\n    max_price = drf.NumberFilter(field_name='price', lookup_expr='lte')\n    type = drf.NumberFilter()\n\n    class Meta:\n        model = HouseInfo\n        fields = ('title', 'district', 'min_price', 'max_price', 'type')\n</code></pre> <pre><code>class HouseInfoViewSet(CacheResponseMixin, ReadOnlyModelViewSet):\n    queryset = HouseInfo.objects.all() \\\n        .select_related('type', 'district', 'estate', 'agent') \\\n        .prefetch_related('tags').order_by('-pubdate')\n    serializer_class = HouseInfoSerializer\n    filter_backends = (DjangoFilterBackend, OrderingFilter)\n    filterset_class = HouseInfoFilter\n    ordering = ('price',)\n    ordering_fields = ('price', 'area')\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_22","title":"\u8eab\u4efd\u8ba4\u8bc1","text":"<p>\u67e5\u770bdrf\u4e2dAPIView\u7c7b\u7684\u4ee3\u7801\u53ef\u4ee5\u770b\u51fa\uff0cdrf\u9ed8\u8ba4\u7684\u8ba4\u8bc1\u65b9\u6848\u662f <code>DEFAULT_AUTHENTICATION_CLASSES</code>\uff0c\u5982\u679c\u4fee\u6539authentication_classes\u5c31\u53ef\u4ee5\u81ea\u884c\u5b9a\u5236\u8eab\u4efd\u8ba4\u8bc1\u7684\u65b9\u6848\u3002</p> <pre><code>class APIView(View):\n\n    # The following policies may be set at either globally, or per-view.\n    renderer_classes = api_settings.DEFAULT_RENDERER_CLASSES\n    parser_classes = api_settings.DEFAULT_PARSER_CLASSES\n    authentication_classes = api_settings.DEFAULT_AUTHENTICATION_CLASSES\n    throttle_classes = api_settings.DEFAULT_THROTTLE_CLASSES\n    permission_classes = api_settings.DEFAULT_PERMISSION_CLASSES\n    content_negotiation_class = api_settings.DEFAULT_CONTENT_NEGOTIATION_CLASS\n    metadata_class = api_settings.DEFAULT_METADATA_CLASS\n    versioning_class = api_settings.DEFAULT_VERSIONING_CLASS\n\n    # \u6b64\u5904\u7701\u7565\u4e0b\u9762\u7684\u4ee3\u7801\n</code></pre> <pre><code>DEFAULTS = {\n    # Base API policies\n    'DEFAULT_RENDERER_CLASSES': (\n        'rest_framework.renderers.JSONRenderer',\n        'rest_framework.renderers.BrowsableAPIRenderer',\n    ),\n    'DEFAULT_PARSER_CLASSES': (\n        'rest_framework.parsers.JSONParser',\n        'rest_framework.parsers.FormParser',\n        'rest_framework.parsers.MultiPartParser'\n    ),\n    'DEFAULT_AUTHENTICATION_CLASSES': (\n        'rest_framework.authentication.SessionAuthentication',\n        'rest_framework.authentication.BasicAuthentication'\n    ),\n    'DEFAULT_PERMISSION_CLASSES': (\n        'rest_framework.permissions.AllowAny',\n    ),\n    'DEFAULT_THROTTLE_CLASSES': (),\n    'DEFAULT_CONTENT_NEGOTIATION_CLASS': 'rest_framework.negotiation.DefaultContentNegotiation',\n    'DEFAULT_METADATA_CLASS': 'rest_framework.metadata.SimpleMetadata',\n    'DEFAULT_VERSIONING_CLASS': None,\n\n    # \u6b64\u5904\u7701\u7565\u4e0b\u9762\u7684\u4ee3\u7801\n}\n</code></pre> <p>\u81ea\u5b9a\u4e49\u8ba4\u8bc1\u7c7b\uff0c\u7ee7\u627f<code>BaseAuthentication</code>\u5e76\u91cd\u5199<code>authenticate(self, request)</code>\u65b9\u6cd5\uff0c\u901a\u8fc7\u8bf7\u6c42\u4e2d\u7684userid\u548ctoken\u6765\u786e\u5b9a\u7528\u6237\u8eab\u4efd\u3002\u5982\u679c\u8ba4\u8bc1\u6210\u529f\uff0c\u8be5\u65b9\u6cd5\u5e94\u8fd4\u56de\u4e00\u4e2a\u4e8c\u5143\u7ec4\uff08\u7528\u6237\u548c\u4ee4\u724c\u7684\u4fe1\u606f\uff09\uff0c\u5426\u5219\u4ea7\u751f\u5f02\u5e38\u3002\u4e5f\u53ef\u4ee5\u91cd\u5199 <code>authenticate_header(self, request)</code>\u65b9\u6cd5\u6765\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8be5\u5b57\u7b26\u4e32\u5c06\u7528\u4e8e<code>HTTP 401 Unauthorized</code>\u54cd\u5e94\u4e2d\u7684WWW-Authenticate\u54cd\u5e94\u5934\u7684\u503c\u3002\u5982\u679c\u672a\u91cd\u5199\u8be5\u65b9\u6cd5\uff0c\u90a3\u4e48\u5f53\u672a\u7ecf\u8eab\u4efd\u9a8c\u8bc1\u7684\u8bf7\u6c42\u88ab\u62d2\u7edd\u8bbf\u95ee\u65f6\uff0c\u8eab\u4efd\u9a8c\u8bc1\u65b9\u6848\u5c06\u8fd4\u56de<code>HTTP 403 Forbidden</code>\u54cd\u5e94\u3002</p> <pre><code>class MyAuthentication(BaseAuthentication):\n    \"\"\"\u81ea\u5b9a\u4e49\u7528\u6237\u8eab\u4efd\u8ba4\u8bc1\u7c7b\"\"\"\n\n    def authenticate(self, request):\n        try:\n            token = request.GET['token'] or request.POST['token']\n            user_token = UserToken.objects.filter(token=token).first()\n            if user_token:\n                return user_token.user, user_token\n            else:\n                raise AuthenticationFailed('\u8bf7\u63d0\u4f9b\u6709\u6548\u7684\u7528\u6237\u8eab\u4efd\u6807\u8bc6')\n        except KeyError:\n            raise AuthenticationFailed('\u8bf7\u63d0\u4f9b\u6709\u6548\u7684\u7528\u6237\u8eab\u4efd\u6807\u8bc6')\n\n    def authenticate_header(self, request):\n        pass\n</code></pre> <p>\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u8ba4\u8bc1\u7c7b\u3002</p> <pre><code>class EstateViewSet(CacheResponseMixin, ModelViewSet):\n    # \u901a\u8fc7queryset\u6307\u5b9a\u5982\u4f55\u83b7\u53d6\u6570\u636e\uff08\u8d44\u6e90\uff09\n    queryset = Estate.objects.all().select_related('district').prefetch_related('agents')\n    # \u901a\u8fc7serializer_class\u6307\u5b9a\u5982\u4f55\u5e8f\u5217\u5316\u6570\u636e\n    serializer_class = EstateSerializer\n    # \u6307\u5b9a\u6839\u636e\u54ea\u4e9b\u5b57\u6bb5\u8fdb\u884c\u6570\u636e\u7b5b\u9009\n    filter_fields = ('district', 'name')\n    # \u6307\u5b9a\u6839\u636e\u54ea\u4e9b\u5b57\u6bb5\u5bf9\u6570\u636e\u8fdb\u884c\u6392\u5e8f\n    ordering_fields = ('hot', )\n    # \u6307\u5b9a\u7528\u4e8e\u8fdb\u884c\u7528\u6237\u8eab\u4efd\u9a8c\u8bc1\u7684\u7c7b\n    authentication_classes = (MyAuthentication, )\n</code></pre> <p>\u8bf4\u660e\uff1a\u4e5f\u53ef\u4ee5\u5728Django\u914d\u7f6e\u6587\u4ef6\u4e2d\u5c06\u81ea\u5b9a\u4e49\u7684\u8ba4\u8bc1\u7c7b\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u8ba4\u8bc1\u65b9\u5f0f\u3002</p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_23","title":"\u6388\u4e88\u6743\u9650","text":"<p>\u6743\u9650\u68c0\u67e5\u603b\u662f\u5728\u89c6\u56fe\u7684\u6700\u5f00\u59cb\u5904\u8fd0\u884c\uff0c\u5728\u4efb\u4f55\u5176\u4ed6\u4ee3\u7801\u88ab\u5141\u8bb8\u8fdb\u884c\u4e4b\u524d\u3002\u6700\u7b80\u5355\u7684\u6743\u9650\u662f\u5141\u8bb8\u901a\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u7684\u7528\u6237\u8bbf\u95ee\uff0c\u5e76\u62d2\u7edd\u672a\u7ecf\u8eab\u4efd\u9a8c\u8bc1\u7684\u7528\u6237\u8bbf\u95ee\uff0c\u8fd9\u5bf9\u5e94\u4e8edfr\u4e2d\u7684<code>IsAuthenticated</code>\u7c7b\uff0c\u53ef\u4ee5\u7528\u5b83\u6765\u53d6\u4ee3\u9ed8\u8ba4\u7684<code>AllowAny</code>\u7c7b\u3002\u6743\u9650\u7b56\u7565\u53ef\u4ee5\u5728Django\u7684drf\u914d\u7f6e\u4e2d\u7528<code>DEFAULT_PERMISSION_CLASSES</code>\u5168\u5c40\u8bbe\u7f6e\u3002</p> <pre><code>REST_FRAMEWORK = {\n    'DEFAULT_PERMISSION_CLASSES': (\n        'rest_framework.permissions.IsAuthenticated',\n    )\n}\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u5728\u57fa\u4e8e<code>APIView</code>\u7c7b\u7684\u89c6\u56fe\u4e0a\u8bbe\u7f6e\u8eab\u4efd\u9a8c\u8bc1\u7b56\u7565\u3002</p> <pre><code>from rest_framework.permissions import IsAuthenticated\nfrom rest_framework.views import APIView\n\nclass ExampleView(APIView):\n    permission_classes = (IsAuthenticated, )\n    # \u6b64\u5904\u7701\u7565\u5176\u4ed6\u4ee3\u7801\n</code></pre> <p>\u6216\u8005\u5728\u57fa\u4e8e<code>@api_view</code>\u88c5\u9970\u5668\u7684\u89c6\u56fe\u51fd\u6570\u4e0a\u8bbe\u7f6e\u3002</p> <pre><code>from rest_framework.decorators import api_view, permission_classes\nfrom rest_framework.permissions import IsAuthenticated\n\n@api_view(['GET'])\n@permission_classes((IsAuthenticated, ))\ndef example_view(request, format=None):\n    # \u6b64\u5904\u7701\u7565\u5176\u4ed6\u4ee3\u7801\n</code></pre> <p>\u81ea\u5b9a\u4e49\u6743\u9650\u9700\u8981\u7ee7\u627f<code>BasePermission</code>\u5e76\u5b9e\u73b0\u4ee5\u4e0b\u65b9\u6cd5\u4e2d\u7684\u4e00\u4e2a\u6216\u4e24\u4e2a\uff0c\u4e0b\u9762\u662fBasePermission\u7684\u4ee3\u7801\u3002</p> <pre><code>@six.add_metaclass(BasePermissionMetaclass)\nclass BasePermission(object):\n    \"\"\"\n    A base class from which all permission classes should inherit.\n    \"\"\"\n\n    def has_permission(self, request, view):\n        \"\"\"\n        Return `True` if permission is granted, `False` otherwise.\n        \"\"\"\n        return True\n\n    def has_object_permission(self, request, view, obj):\n        \"\"\"\n        Return `True` if permission is granted, `False` otherwise.\n        \"\"\"\n        return True\n</code></pre> <p>\u5982\u679c\u8bf7\u6c42\u88ab\u6388\u4e88\u8bbf\u95ee\u6743\u9650\uff0c\u5219\u65b9\u6cd5\u5e94\u8be5\u8fd4\u56deTrue\uff0c\u5426\u5219\u8fd4False\u3002\u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u4e86\u963b\u6b62\u9ed1\u540d\u5355\u4e2d\u7684IP\u5730\u5740\u8bbf\u95ee\u63a5\u53e3\u6570\u636e\uff08\u8fd9\u4e2a\u5728\u53cd\u722c\u866b\u7684\u65f6\u5019\u5f88\u6709\u7528\u54df\uff09\u3002</p> <pre><code>from rest_framework import permissions\n\n\nclass BlacklistPermission(permissions.BasePermission):\n    \"\"\"\n    Global permission check for blacklisted IPs.\n    \"\"\"\n\n    def has_permission(self, request, view):\n        ip_addr = request.META['REMOTE_ADDR']\n        blacklisted = Blacklist.objects.filter(ip_addr=ip_addr).exists()\n        return not blacklisted\n</code></pre> <p>\u5982\u679c\u8981\u5b9e\u73b0\u66f4\u4e3a\u5b8c\u6574\u7684\u6743\u9650\u9a8c\u8bc1\uff0c\u53ef\u4ee5\u8003\u8651RBAC\u6216ACL\u3002</p> <ol> <li>RBAC - \u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002</li> </ol> <p></p> <p></p> <ol> <li>ACL - \u8bbf\u95ee\u63a7\u5236\u5217\u8868\uff08\u6bcf\u4e2a\u7528\u6237\u7ed1\u5b9a\u81ea\u5df1\u7684\u8bbf\u95ee\u767d\u540d\u5355\uff09\u3002</li> </ol>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_24","title":"\u8bbf\u95ee\u9650\u6d41","text":"<p>\u53ef\u4ee5\u4fee\u6539dfr\u914d\u7f6e\u7684<code>DEFAULT_THROTTLE_CLASSES</code> \u548c <code>DEFAULT_THROTTLE_RATES</code>\u4e24\u4e2a\u503c\u6765\u8bbe\u7f6e\u5168\u5c40\u9ed8\u8ba4\u9650\u6d41\u7b56\u7565\u3002\u4f8b\u5982\uff1a</p> <pre><code>REST_FRAMEWORK = {\n    'DEFAULT_THROTTLE_CLASSES': (\n        'rest_framework.throttling.AnonRateThrottle',\n        'rest_framework.throttling.UserRateThrottle'\n    ),\n    'DEFAULT_THROTTLE_RATES': {\n        'anon': '3/min',\n        'user': '10000/day'\n    }\n}\n</code></pre> <p><code>DEFAULT_THROTTLE_RATES</code>\u4e2d\u4f7f\u7528\u7684\u9891\u7387\u63cf\u8ff0\u53ef\u80fd\u5305\u62ec<code>second</code>\u3001<code>minute</code>\u3001<code>hour</code>\u6216<code>day</code>\u3002</p> <p>\u5982\u679c\u8981\u4e3a\u63a5\u53e3\u5355\u72ec\u8bbe\u7f6e\u9650\u6d41\uff0c\u53ef\u4ee5\u5728\u6bcf\u4e2a\u89c6\u56fe\u6216\u89c6\u56fe\u96c6\u4e0a\u8bbe\u7f6e\u9650\u6d41\u7b56\u7565\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>from rest_framework.throttling import UserRateThrottle\nfrom rest_framework.views import APIView\n\n\nclass ExampleView(APIView):\n    throttle_classes = (UserRateThrottle, )\n    # \u6b64\u5904\u7701\u7565\u4e0b\u9762\u7684\u4ee3\u7801\n</code></pre> <p>\u6216</p> <pre><code>@api_view(['GET'])\n@throttle_classes([UserRateThrottle, ])\ndef example_view(request, format=None):\n    # \u6b64\u5904\u7701\u7565\u4e0b\u9762\u7684\u4ee3\u7801\n</code></pre> <p>\u5f53\u7136\u4e5f\u53ef\u4ee5\u901a\u8fc7\u7ee7\u627f<code>BaseThrottle</code>\u6765\u81ea\u5b9a\u4e49\u9650\u6d41\u7b56\u7565\uff0c\u901a\u5e38\u9700\u8981\u91cd\u5199<code>allow_request</code>\u548c<code>wait</code>\u65b9\u6cd5\u3002</p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_25","title":"\u5f02\u6b65\u4efb\u52a1\u548c\u8ba1\u5212\u4efb\u52a1","text":""},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#celery","title":"Celery\u7684\u5e94\u7528","text":"<p>Celery \u662f\u4e00\u4e2a\u7b80\u5355\u3001\u7075\u6d3b\u4e14\u53ef\u9760\u7684\uff0c\u5904\u7406\u5927\u91cf\u6d88\u606f\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\uff0c\u5e76\u4e14\u63d0\u4f9b\u7ef4\u62a4\u8fd9\u6837\u4e00\u4e2a\u7cfb\u7edf\u7684\u5fc5\u9700\u5de5\u5177\u3002\u5b83\u662f\u4e00\u4e2a\u4e13\u6ce8\u4e8e\u5b9e\u65f6\u5904\u7406\u7684\u4efb\u52a1\u961f\u5217\uff0c\u540c\u65f6\u4e5f\u652f\u6301\u4efb\u52a1\u8c03\u5ea6\u3002</p> <p>\u63a8\u8350\u9605\u8bfb\uff1a\u300aCelery\u5b98\u65b9\u6587\u6863\u4e2d\u6587\u7248\u300b\uff0c\u4e0a\u9762\u6709\u6781\u4e3a\u8be6\u7ec6\u7684\u914d\u7f6e\u548c\u4f7f\u7528\u6307\u5357\u3002</p> <p></p> <p>Celery\u662f\u4e00\u4e2a\u672c\u8eab\u4e0d\u63d0\u4f9b\u961f\u5217\u670d\u52a1\uff0c\u5b98\u65b9\u63a8\u8350\u4f7f\u7528RabbitMQ\u6216Redis\u6765\u5b9e\u73b0\u6d88\u606f\u961f\u5217\u670d\u52a1\uff0c\u524d\u8005\u662f\u66f4\u597d\u7684\u9009\u62e9\uff0c\u5b83\u5bf9AMQP\uff08\u9ad8\u7ea7\u6d88\u606f\u961f\u5217\u534f\u8bae\uff09\u505a\u51fa\u4e86\u975e\u5e38\u597d\u7684\u5b9e\u73b0\u3002</p> <ol> <li>\u5b89\u88c5RabbitMQ\u3002</li> </ol> <pre><code>docker pull rabbitmq\ndocker run -d -p 5672:5672 --name myrabbit rabbitmq\ndocker container exec -it myrabbit /bin/bash\n</code></pre> <ol> <li>\u521b\u5efa\u7528\u6237\u3001\u8d44\u6e90\u4ee5\u53ca\u5206\u914d\u64cd\u4f5c\u6743\u9650\u3002</li> </ol> <pre><code>rabbitmqctl add_user luohao 123456\nrabbitmqctl set_user_tags luohao administrator\nrabbitmqctl add_vhost vhost1\nrabbitmqctl set_permissions -p vhost1 luohao \".*\" \".*\" \".*\"\n</code></pre> <ol> <li>\u521b\u5efaCelery\u5b9e\u4f8b\u3002</li> </ol> <pre><code># \u6ce8\u518c\u73af\u5883\u53d8\u91cf\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'fangtx.settings')\n\n# \u521b\u5efaCelery\u5b9e\u4f8b\napp = celery.Celery(\n    'fangtx',\n    broker='amqp://luohao:123456@120.77.222.217:5672/vhost1'\n)\n\n# \u4ece\u9879\u76ee\u7684\u914d\u7f6e\u6587\u4ef6\u8bfb\u53d6Celery\u914d\u7f6e\u4fe1\u606f\napp.config_from_object('django.conf:settings')\n# \u4ece\u6307\u5b9a\u7684\u6587\u4ef6(\u4f8b\u5982celery_config.py)\u4e2d\u8bfb\u53d6Celery\u914d\u7f6e\u4fe1\u606f\n# app.config_from_object('celery_config')\n\n# \u8ba9Celery\u81ea\u52a8\u4ece\u53c2\u6570\u6307\u5b9a\u7684\u5e94\u7528\u4e2d\u53d1\u73b0\u5f02\u6b65\u4efb\u52a1/\u5b9a\u65f6\u4efb\u52a1\napp.autodiscover_tasks(['common', ])\n# \u8ba9Celery\u81ea\u52a8\u4ece\u6240\u6709\u6ce8\u518c\u7684\u5e94\u7528\u4e2d\u53d1\u73b0\u5f02\u6b65\u4efb\u52a1/\u5b9a\u65f6\u4efb\u52a1\n# app.autodiscover_tasks(lambda: settings.INSTALLED_APPS)\n</code></pre> <ol> <li>\u542f\u52a8Celery\u521b\u5efawoker\uff08\u6d88\u606f\u7684\u6d88\u8d39\u8005\uff09\u3002</li> </ol> <pre><code>celery -A &lt;name&gt; worker -l debug &amp;\n</code></pre> <ol> <li>\u6267\u884c\u5f02\u6b65\u4efb\u52a1\u3002</li> </ol> <pre><code>@app.task\ndef send_email(from, to, cc, subject, content):\n    pass\n\n\nsend_email.delay('', [], [], '', '')\n</code></pre> <ol> <li>\u521b\u5efa\u5b9a\u65f6\u4efb\u52a1\u3002</li> </ol> <pre><code># \u914d\u7f6e\u5b9a\u65f6\u4efb\u52a1\uff08\u8ba1\u5212\u4efb\u52a1\uff09\napp.conf.update(\n    timezone=settings.TIME_ZONE,\n    enable_utc=True,\n    # \u5b9a\u65f6\u4efb\u52a1\uff08\u8ba1\u5212\u4efb\u52a1\uff09\u76f8\u5f53\u4e8e\u662f\u6d88\u606f\u7684\u751f\u4ea7\u8005\n    # \u5982\u679c\u53ea\u6709\u751f\u4ea7\u8005\u6ca1\u6709\u6d88\u8d39\u8005\u90a3\u4e48\u6d88\u606f\u5c31\u4f1a\u5728\u6d88\u606f\u961f\u5217\u4e2d\u79ef\u538b\n    # \u5c06\u6765\u5b9e\u9645\u90e8\u7f72\u9879\u76ee\u7684\u65f6\u5019\u751f\u4ea7\u8005\u3001\u6d88\u8d39\u8005\u3001\u6d88\u606f\u961f\u5217\u53ef\u80fd\u90fd\u662f\u4e0d\u540c\u8282\u70b9\n    beat_schedule={\n        'task1': {\n            'task': 'common.tasks.show_msg',\n            'schedule': crontab(),\n            'args': ('\u5218\u5f3a\u4e1c\uff0c\u5976\u8336\u59b9\u59b9\u558a\u4f60\u56de\u5bb6\u559d\u5976\u5566', )\n        },\n    },\n)\n</code></pre> <pre><code>@app.task\ndef show_msg(content):\n    print(content)\n</code></pre> <ol> <li>\u542f\u52a8Celery\u521b\u5efa\u6267\u884c\u5b9a\u65f6\u4efb\u52a1\u7684beat\uff08\u6d88\u606f\u7684\u751f\u4ea7\u8005\uff09\u3002</li> </ol> <pre><code>celery -A &lt;name&gt; beat -l info\n</code></pre> <ol> <li>\u68c0\u67e5\u6d88\u606f\u961f\u5217\u72b6\u51b5\u3002</li> </ol> <pre><code>rabbitmqctl list_queues -p vhost1\n</code></pre> <ol> <li>\u76d1\u63a7Celery - \u53ef\u4ee5\u901a\u8fc7flower\u6765\u5bf9Celery\u8fdb\u884c\u76d1\u63a7\u3002</li> </ol> <pre><code>pip install flower\ncelery flower --broker=amqp://luohao:123456@120.77.222.217:5672/vhost1\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_26","title":"\u5176\u4ed6\u95ee\u9898","text":"<p>\u95ee\u98981\uff1a\u5982\u4f55\u89e3\u51b3JavaScript\u8de8\u57df\u83b7\u53d6\u6570\u636e\u7684\u95ee\u9898\uff1f\uff08django-cors-headers\uff09</p> <pre><code>INSTALLED_APPS = [\n    'corsheaders',\n]\n\nMIDDLEWARE = [\n    'corsheaders.middleware.CorsMiddleware',\n]\n\nCORS_ORIGIN_ALLOW_ALL = True\n# \u914d\u7f6e\u8de8\u57df\u767d\u540d\u5355\n# CORS_ORIGIN_WHITELIST = ('www.abc.com', 'www.baidu.com')\n# CORS_ORIGIN_REGEX_WHITELIST = ('...', )\n# CORS_ALLOW_CREDENTIALS = True\n# CORS_ALLOW_METHODS = ('GET', 'POST', 'PUT', 'DELETE')\n</code></pre> <p>\u95ee\u98982\uff1a\u7f51\u7ad9\u56fe\u7247\uff08\u6c34\u5370\u3001\u526a\u88c1\uff09\u548c\u89c6\u9891\uff08\u622a\u56fe\u3001\u6c34\u5370\u3001\u8f6c\u7801\uff09\u662f\u5982\u4f55\u5904\u7406\u7684\uff1f\uff08\u4e91\u5b58\u50a8\u3001FFmpeg\uff09</p> <p>\u95ee\u98983\uff1a\u7f51\u7ad9\u5982\u4f55\u67b6\u8bbe\uff08\u9759\u6001\u8d44\u6e90\uff09\u6587\u4ef6\u7cfb\u7edf\uff1f\uff08FastDFS\u3001\u4e91\u5b58\u50a8\u3001CDN\uff09</p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_27","title":"\u5b89\u5168\u4fdd\u62a4","text":"<p>\u95ee\u98981\uff1a\u4ec0\u4e48\u662f\u8de8\u7ad9\u811a\u672c\u653b\u51fb\uff0c\u5982\u4f55\u9632\u8303\uff1f\uff08\u5bf9\u63d0\u4ea4\u7684\u5185\u5bb9\u8fdb\u884c\u6d88\u6bd2\uff09</p> <p>\u95ee\u98982\uff1a\u4ec0\u4e48\u662f\u8de8\u7ad9\u8eab\u4efd\u4f2a\u9020\uff0c\u5982\u4f55\u9632\u8303\uff1f\uff08\u4f7f\u7528\u968f\u673a\u4ee4\u724c\uff09</p> <p>\u95ee\u98983\uff1a\u4ec0\u4e48\u662fSQL\u6ce8\u5c04\u653b\u51fb\uff0c\u5982\u4f55\u9632\u8303\uff1f\uff08\u4e0d\u62fc\u63a5SQL\u8bed\u53e5\uff0c\u907f\u514d\u4f7f\u7528\u5355\u5f15\u53f7\uff09</p> <p>\u95ee\u98984\uff1a\u4ec0\u4e48\u662f\u70b9\u51fb\u52ab\u6301\u653b\u51fb\uff0c\u5982\u4f55\u9632\u8303\uff1f\uff08\u4e0d\u5141\u8bb8<code>&lt;iframe&gt;</code>\u52a0\u8f7d\u975e\u540c\u6e90\u7ad9\u70b9\u5185\u5bb9\uff09</p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#django_1","title":"Django\u63d0\u4f9b\u7684\u5b89\u5168\u63aa\u65bd","text":"<p>\u7b7e\u540d\u6570\u636e\u7684API</p> <p>```Python</p> <p>from django.core.signing import Signer signer = Signer() value = signer.sign('hello, world!') value 'hello, world!:BYMlgvWMTSPLxC-DqxByleiMVXU' signer.unsign(value) 'hello, world!'</p> <p>signer = Signer(salt='1qaz2wsx') signer.sign('hello, world!') 'hello, world!:9vEvG6EA05hjMDB5MtUr33nRA_M'</p> <p>from django.core.signing import TimestampSigner signer = TimestampSigner() value = signer.sign('hello, world!') value 'hello, world!:1fpmcQ:STwj464IFE6eUB-_-hyUVF3d2So' signer.unsign(value, max_age=5) Traceback (most recent call last):     File \"\", line 1, in      File \"/Users/Hao/Desktop/fang.com/venv/lib/python3.6/site-packages/django/core/signing.py\", line 198, in unsign     'Signature age %s &gt; %s seconds' % (age, max_age))     django.core.signing.SignatureExpired: Signature age 21.020604848861694 &gt; 5 seconds signer.unsign(value, max_age=120) 'hello, world!'    ``` <p>CSRF\u4ee4\u724c\u548c\u5c0f\u5de5\u5177</p> <pre><code>{% csrf_token %}\n</code></pre> <ul> <li>@csrf_exempt\uff1a\u514d\u9664\u4ee4\u724c </li> <li>@csrf_protect\uff1a\u63d0\u4f9b\u4ee4\u724c\u4fdd\u62a4</li> <li>@require_csrf_token\uff1a\u63d0\u4f9b\u4ee4\u724c\u4fdd\u62a4</li> <li>@ensure_csrf_cookie\uff1a\u5f3a\u5236\u89c6\u56fe\u53d1\u9001\u5e26\u4ee4\u724c\u7684cookie</li> </ul> <p>\u8bf4\u660e\uff1a\u53ef\u4ee5\u5728Chrome\u6d4f\u89c8\u5668\u4e2d\u5b89\u88c5EditThisCookie\u63d2\u4ef6\u6765\u65b9\u4fbf\u7684\u67e5\u770bCookie\u3002</p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_28","title":"\u7528\u6237\u654f\u611f\u4fe1\u606f\u7684\u4fdd\u62a4","text":"<ol> <li>\u54c8\u5e0c\u6458\u8981\uff08\u7b7e\u540d\uff09</li> </ol> <pre><code>&gt;&gt;&gt; import hashlib\n&gt;&gt;&gt; \n&gt;&gt;&gt; md5_hasher = hashlib.md5()\n&gt;&gt;&gt; md5_hasher.update('hello, world!'.encode())\n&gt;&gt;&gt; md5_hasher.hexdigest()\n'3adbbad1791fbae3ec908894c4963870'\n&gt;&gt;&gt;\n&gt;&gt;&gt; sha1_hasher = hashlib.sha1()\n&gt;&gt;&gt; sha1_hasher.update('hello, world!'.encode())\n&gt;&gt;&gt; sha1_hasher.update('goodbye, world!'.encode())\n&gt;&gt;&gt; sha1_hasher.hexdigest()\n'1f09d30c707d53f3d16c530dd73d70a6ce7596a9'\n</code></pre> <ol> <li>\u52a0\u5bc6\u548c\u89e3\u5bc6\uff08\u5bf9\u79f0\u52a0\u5bc6\u548c\u975e\u5bf9\u79f0\u52a0\u5bc6\uff09</li> </ol> <pre><code>pip install rsa\n</code></pre> <pre><code>&gt;&gt;&gt; pub_key, pri_key = rsa.newkeys(1024)\n&gt;&gt;&gt; message = 'hello, world!'\n&gt;&gt;&gt; crypto = rsa.encrypt(message.encode(), pub_key)\n&gt;&gt;&gt; crypto\nb'Ou{gH\\xa9\\xa8}O\\xe3\\x1d\\x052|M\\x9d9?\\xdc\\xd8\\xecF\\xd3v\\x9b\\xde\\x8e\\x12\\xe6M\\xebvx\\x08\\x08\\x8b\\xe8\\x86~\\xe4^)w\\xf2\\xef\\x9e\\x9fOg\\x15Q\\xb7\\x7f\\x1d\\xcfV\\xf1\\r\\xbe^+\\x8a\\xbf }\\x10\\x01\\xa4U9b\\x97\\xf5\\xe0\\x90T\\'\\xd4(\\x9b\\x00\\xa5\\x92\\x17\\xad4\\xb0\\xb0\"\\xd4\\x16\\x94*s\\xe1r\\xb7L\\xe2\\x98\\xb7\\x7f\\x03\\xd9\\xf2\\t\\xee*\\xe6\\x93\\xe6\\xe1o\\xfd\\x18\\x83L\\x0cfL\\xff\\xe4\\xdd%\\xf2\\xc0/\\xfb'\n&gt;&gt;&gt; origin = rsa.decrypt(crypto, pri_key).decode()\n&gt;&gt;&gt; origin\n'hello, world!'\n</code></pre> <pre><code>pip install pycrypto\n</code></pre> <p>AES\u5bf9\u79f0\u52a0\u5bc6\uff1a</p> <pre><code>&gt;&gt;&gt; from hashlib import md5\n&gt;&gt;&gt;\n&gt;&gt;&gt; from Crypto.Cipher import AES\n&gt;&gt;&gt; from Crypto import Random\n&gt;&gt;&gt;\n&gt;&gt;&gt; key = md5(b'mysecret').hexdigest()\n&gt;&gt;&gt; iv = Random.new().read(AES.block_size)\n&gt;&gt;&gt; str1 = '\u6211\u7231\u4f60\u4eec\uff01'\n&gt;&gt;&gt; str2 = AES.new(key, AES.MODE_CFB, iv).encrypt(str1)\nb'p\\x96o\\x85\\x0bq\\xc4-Y\\xc4\\xbcp\\n)&amp;'\n&gt;&gt;&gt; str3 = AES.new(key, AES.MODE_CFB, iv).decrypt(str2).decode()\n'\u6211\u7231\u4f60\u4eec\uff01'\n</code></pre> <p>RSA\u975e\u5bf9\u79f0\u52a0\u5bc6\uff1a</p> <pre><code>&gt;&gt;&gt; from Crypto.PublicKey import RSA\n&gt;&gt;&gt; # \u751f\u6210\u5bc6\u94a5\u5bf9\n&gt;&gt;&gt; key_pair = RSA.generate(2048)\n&gt;&gt;&gt; # \u5bfc\u5165\u516c\u94a5\n&gt;&gt;&gt; pub_key = RSA.importKey(key_pair.publickey().exportKey())\n&gt;&gt;&gt; # \u5bfc\u5165\u79c1\u94a5\n&gt;&gt;&gt; pri_key = RSA.importKey(key_pair.exportKey())\n&gt;&gt;&gt; # \u660e\u6587\n&gt;&gt;&gt; message1 = 'hello, world!'.encode()\n&gt;&gt;&gt; # \u52a0\u5bc6\u6570\u636e\n&gt;&gt;&gt; message2 = pub_key.encrypt(message1, None)\n(b'\\x03\\x86t\\xa0\\x00\\xc4\\xea\\xd2\\x80\\xed\\xa7YN7\\x07\\xff\\x88\\xaa\\x1eW\\x0cmH0\\x06\\xa7\\'\\xbc&lt;w@q\\x8b\\xaf\\xf7:g\\x92{=\\xe2E\\xa5@\\x1as2\\xdd\\xcb\\x8e[\\x98\\x85\\xdf,X\\xecj.U\\xd6\\xa7W&amp;u\\'Uz\"\\x0f\\x0e\\\\&lt;\\xa4\\xfavC\\x93\\xa7\\xbcO\"\\xb9a\\x06]&lt;.\\xc1\\r1}*\\xdf\\xccdqXML\\x93\\x1b\\xe9\\xda\\xdf\\xab|\\xf8\\x18\\xe4\\x99\\xbb\\x7f\\x18}\\xd9\\x9a\\x1e*J\\\\\\xca\\x1a\\xd1\\x85\\xf7t\\x81\\xd95{\\x19\\xc9\\x81\\xb6^}\\x9c5\\xca\\xfe\\xcf\\xc8\\xd8M\\x9a\\x8c-\\xf1t\\xee\\xf9\\x12\\x90\\x01\\xca\\x92~\\x00c5qg5g\\x95&amp;\\x10\\xb1\\x0b\\x1fo\\x95\\xf2\\xbc\\x8d\\xf3f\"@\\xc5\\x188\\x0bX\\x9cfo\\xea\\x97\\x05@\\xe5\\xb2\\xda\\xb8\\x97a\\xa5w\\xa8\\x01\\x9a\\xa5N\\xc4\\x81\\x8d\\x0f&lt;\\x96iU\\xd3\\x95\\xacJZs\\xab_ #\\xee\\xf9\\x0f\\xf2\\x12\\xdb\\xfc\\xf8g\\x18v\\x02k+\\xda\\x16Si\\xbf\\xbb\\xec\\xf7w\\x90\\xde\\xae\\x97\\t\\xed{}5\\xd0',)\n&gt;&gt;&gt; # \u89e3\u5bc6\u6570\u636e\n&gt;&gt;&gt; message3 = pri_key.decrypt(message2)\n'hello, world!'\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_29","title":"\u5b89\u5168\u76f8\u5173\u5efa\u8bae","text":"<ol> <li>\u867d\u7136 Django \u81ea\u5e26\u4e86\u7a33\u56fa\u7684\u5b89\u5168\u4fdd\u62a4\u63aa\u65bd\uff0c\u4f46\u662f\u4f9d\u7136\u8981\u91c7\u7528\u6b63\u786e\u7684\u65b9\u5f0f\u90e8\u7f72\u5e94\u7528\u7a0b\u5e8f\uff0c\u5229\u7528 Web \u670d\u52a1\u5668\u3001\u64cd\u4f5c\u7cfb\u7edf\u548c\u5176\u4ed6\u7ec4\u4ef6\u63d0\u4f9b\u7684\u5b89\u5168\u4fdd\u62a4\u63aa\u65bd\u3002</li> <li>\u8bb0\u5f97\u628a Python \u4ee3\u7801\u653e\u5728 Web \u670d\u52a1\u5668\u7684\u6587\u6863\u6839\u76ee\u5f55\u4e4b\u5916\uff0c\u907f\u514d\u4ee3\u7801\u610f\u5916\u6cc4\u9732\u3002</li> <li>\u8c28\u614e\u5904\u7406\u7528\u6237\u4e0a\u4f20\u7684\u6587\u4ef6\u3002 </li> <li>Django\u672c\u8eab\u6ca1\u6709\u5bf9\u8bf7\u6c42\u6b21\u6570\u52a0\u4ee5\u9650\u5236\uff08\u5305\u62ec\u9a8c\u8bc1\u7528\u6237\u8eab\u4efd\u7684\u8bf7\u6c42\uff09\uff0c\u4e3a\u4e86\u9632\u6b62\u66b4\u529b\u653b\u51fb\u548c\u7834\u89e3\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u5177\u6709\u4e00\u6b21\u6d88\u8d39\u6027\u7684\u9a8c\u8bc1\u7801\u6216\u5bf9\u8fd9\u7c7b\u8bf7\u6c42\u7684\u6b21\u6570\u8fdb\u884c\u9650\u5236\u3002  </li> <li>\u5c06\u7f13\u5b58\u7cfb\u7edf\u3001\u6570\u636e\u5e93\u670d\u52a1\u5668\u4ee5\u53ca\u91cd\u8981\u7684\u8d44\u6e90\u670d\u52a1\u5668\u90fd\u653e\u5728\u7b2c\u4e8c\u7ea7\u9632\u706b\u5899\u4e4b\u540e\uff08\u4e0d\u8981\u653e\u5728DMZ\uff09\u3002 </li> </ol>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_30","title":"\u6d4b\u8bd5\u76f8\u5173","text":"<p>\u6d4b\u8bd5\u662f\u53d1\u73b0\u548c\u6807\u8bb0\u7f3a\u9677\u7684\u8fc7\u7a0b\u3002\u6240\u8c13\u7684\u7f3a\u9677\u662f\u6307\u5b9e\u9645\u7ed3\u679c\u548c\u671f\u671b\u7ed3\u679c\u4e4b\u95f4\u7684\u4efb\u4f55\u5dee\u522b\u3002\u6709\u7684\u5730\u65b9\uff0c\u6d4b\u8bd5\u4e5f\u88ab\u8ba4\u4e3a\u662f\u6267\u884c\u4ee5\u627e\u51fa\u9519\u8bef\u4e3a\u76ee\u7684\u7684\u7a0b\u5e8f\u7684\u8fc7\u7a0b\u3002 \u6d4b\u8bd5\u662f\u4e3a\u4e86\u8ba9\u4ea7\u54c1\u8fbe\u5230\u4ee5\u4e0b\u76ee\u6807\uff1a </p> <ol> <li>\u6ee1\u8db3\u9700\u6c42\u7528\u6237\u6ee1\u610f</li> <li>\u6539\u5584\u4ea7\u54c1\u7684\u5e02\u573a\u5360\u6709\u7387</li> <li>\u6811\u7acb\u5bf9\u4ea7\u54c1\u7684\u4fe1\u4efb</li> <li>\u51cf\u5c11\u5f00\u53d1\u548c\u7ef4\u62a4\u7684\u6210\u672c</li> </ol>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_31","title":"\u529f\u80fd\u6d4b\u8bd5","text":"<p>\u5982\u679c\u4e00\u4e2a\u8f6f\u4ef6\u5355\u5143\u7684\u884c\u4e3a\u65b9\u5f0f\u4e0e\u5b83\u7684\u5f00\u53d1\u89c4\u8303\u5b8c\u5168\u4e00\u6837\uff0c\u90a3\u4e48\u8be5\u8f6f\u4ef6\u5355\u5143\u5c31\u901a\u8fc7\u4e86\u5b83\u7684\u529f\u80fd\u6d4b\u8bd5\u3002  - \u767d\u76d2\u6d4b\u8bd5\uff1a\u5f00\u53d1\u4eba\u5458\u81ea\u5df1\u5b9e\u73b0\uff0c\u6700\u57fa\u672c\u7684\u5f62\u5f0f\u662f\u5355\u5143\u6d4b\u8bd5\uff0c\u8fd8\u6709\u96c6\u6210\u6d4b\u8bd5\u548c\u7cfb\u7edf\u6d4b\u8bd5\u3002  - \u9ed1\u76d2\u6d4b\u8bd5\uff1a\u7531\u5f00\u53d1\u56e2\u961f\u4e4b\u5916\u7684\u4eba\u6267\u884c\uff0c\u5bf9\u6d4b\u8bd5\u4ee3\u7801\u6ca1\u6709\u53ef\u89c1\u6027\uff0c\u5c06\u88ab\u6d4b\u7cfb\u7edf\u89c6\u4e3a\u9ed1\u76d2\u5b50\u3002\u901a\u5e38\u7531\u6d4b\u8bd5\u4eba\u5458\u6216QA\u5de5\u7a0b\u5e08\u6765\u6267\u884c\uff0cWeb\u5e94\u7528\u53ef\u4ee5\u901a\u8fc7Selenium\u8fd9\u6837\u7684\u6d4b\u8bd5\u6846\u67b6\u81ea\u52a8\u5316\u5b9e\u65bd\u3002</p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_32","title":"\u6027\u80fd\u6d4b\u8bd5","text":"<p>\u8f6f\u4ef6\u5728\u9ad8\u5de5\u4f5c\u8d1f\u8f7d\u4e0b\u5bf9\u5176\u54cd\u5e94\u6027\u548c\u5065\u58ee\u6027\u5c55\u5f00\u7684\u6d4b\u8bd5\u3002</p> <ul> <li> <p>\u8d1f\u8f7d\u6d4b\u8bd5\uff1a\u5728\u7279\u5b9a\u8d1f\u8f7d\u4e0b\u6267\u884c\u7684\u6d4b\u8bd5\u3002</p> </li> <li> <p>\u538b\u529b\u6d4b\u8bd5\uff1a\u7a81\u53d1\u6761\u4ef6\u6216\u6781\u9650\u6761\u4ef6\u4e0b\u7684\u6027\u80fd\u6d4b\u8bd5\u3002</p> </li> </ul>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_33","title":"\u5b89\u5168\u6027\u6d4b\u8bd5","text":"<p>\u7cfb\u7edf\u7684\u654f\u611f\u6570\u636e\u90fd\u662f\u7ecf\u8fc7\u8ba4\u8bc1\u548c\u6388\u6743\u4e4b\u540e\u624d\u80fd\u8bbf\u95ee\u3002</p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_34","title":"\u5176\u4ed6\u6d4b\u8bd5","text":"<p>\u6613\u7528\u6027\u6d4b\u8bd5 / \u5b89\u88c5\u6d4b\u8bd5 / \u53ef\u8bbf\u95ee\u6027\u6d4b\u8bd5</p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_35","title":"\u5355\u5143\u6d4b\u8bd5","text":"<p>\u6d4b\u8bd5\u51fd\u6570\u548c\u5bf9\u8c61\u7684\u65b9\u6cd5\uff08\u7a0b\u5e8f\u4e2d\u6700\u5c0f\u6700\u57fa\u672c\u7684\u5355\u5143\uff09\u3002\u901a\u8fc7\u5bf9\u5b9e\u9645\u8f93\u51fa\u548c\u9884\u671f\u8f93\u51fa\u7684\u6bd4\u5bf9\u4ee5\u53ca\u5404\u79cd\u7684\u65ad\u8a00\u6761\u4ef6\u6765\u5224\u5b9a\u88ab\u6d4b\u5355\u5143\u662f\u5426\u6ee1\u8db3\u8bbe\u8ba1\u9700\u6c42\u3002</p> <ul> <li>\u6d4b\u8bd5\u7528\u4f8b</li> <li>\u6d4b\u8bd5\u56fa\u4ef6 - \u6bcf\u6b21\u6d4b\u8bd5\u65f6\u90fd\u8981\u4f7f\u7528\u7684\u4e1c\u897f\u3002</li> <li>\u6d4b\u8bd5\u5957\u4ef6\uff08\u6d4b\u8bd5\u96c6\uff09- \u7ec4\u5408\u4e86\u591a\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u800c\u6784\u6210\u7684\u96c6\u5408\u3002</li> </ul> <pre><code>class UtilTest(TestCase):\n\n    def setUp(self):\n        self.pattern = re.compile(r'\\d{6}')\n\n    def test_gen_mobile_code(self):\n        for _ in range(100):\n            self.assertIsNotNone(self.pattern.match(gen_mobile_code()))\n\n    def test_to_md5_hex(self):\n        md5_dict = {\n            '123456': 'e10adc3949ba59abbe56e057f20f883e',\n            '123123123': 'f5bb0c8de146c67b44babbf4e6584cc0',\n            '1qaz2wsx': '1c63129ae9db9c60c3e8aa94d3e00495',\n        }\n        for key, value in md5_dict.items():\n            self.assertEqual(value, to_md5_hex(key))\n</code></pre> <p><code>TestCase</code>\u7684\u65ad\u8a00\u65b9\u6cd5\uff1a</p> <ul> <li>assertEqual / assertNotEqual</li> <li>assertTrue / assertFalse / assertIsNot</li> <li>assertRaise / assertRaiseRegexp</li> <li>assertAlmostEqual / assertNotAlmostEqual</li> <li>assertGreater / assertGreaterEqual / assertLess / assertLessEqual</li> <li>assertRegexpMatches / assertNotRegexpMatches</li> <li>assertListEqual / assertSetEqual / assertTupleEqual / assertDictEqual</li> </ul> <p>\u53ef\u4ee5\u4f7f\u7528nose2\u6216pytest\u6765\u8f85\u52a9\u6267\u884c\u5355\u5143\u6d4b\u8bd5\uff0c\u540c\u65f6\u901a\u8fc7cov-core\u6216pytest-cov\u53ef\u4ee5\u5bf9\u6d4b\u8bd5\u8986\u5ea6\u8fdb\u884c\u8bc4\u4f30\u3002\u8986\u76d6\u7387\u7531\u767e\u5206\u6bd4\u8868\u793a\u3002\u6bd4\u5982\u6d4b\u8bd5\u4ee3\u7801\u6267\u884c\u8fc7\u4e86\u7a0b\u5e8f\u7684\u6bcf\u4e00\u884c\uff0c\u90a3\u4e48\u8986\u76d6\u7387\u5c31\u662f100%\u3002\u8fd9\u79cd\u65f6\u5019\uff0c\u51e0\u4e4e\u4e0d\u4f1a\u51fa\u73b0\u65b0\u7a0b\u5e8f\u4e0a\u7ebf\u540e\u7a81\u7136\u65e0\u6cd5\u8fd0\u884c\u7684\u5c34\u5c2c\u60c5\u51b5\u3002\u8986\u76d6\u7387\u4e0d\u5173\u5fc3\u4ee3\u7801\u5185\u5bb9\u7a76\u7adf\u662f\u4ec0\u4e48\uff0c\u8986\u76d6\u7387\u662f\u7528\u6765\u68c0\u67e5\u201c\u6d4b\u8bd5\u4ee3\u7801\u4e0d\u8db3\u3001\u6d4b\u8bd5\u5b58\u5728\u758f\u6f0f\u201d\u7684\u4e00\u4e2a\u6307\u6807\uff0c\u201c\u6d4b\u8bd5\u5185\u5bb9\u662f\u5426\u59a5\u5f53\u201d\u5e76\u4e0d\u5f52\u5b83\u7ba1\u3002</p> <pre><code>pip install nose2 pytest cov-core pytest-cov\n</code></pre> <p>\u53ef\u4ee5\u4f7f\u7528Selenium\u6765\u5b9e\u73b0Web\u5e94\u7528\u7684\u81ea\u52a8\u5316\u6d4b\u8bd5\uff0c\u5b83\u8fd8\u53ef\u4ee5\u7528\u4e8e\u5c4f\u5e55\u6293\u53d6\u4e0e\u6d4f\u89c8\u5668\u884c\u4e3a\u6a21\u62df\uff0c\u901a\u8fc7\u722c\u866b\u6293\u53d6\u9875\u9762\u4e0a\u7684\u52a8\u6001\u6570\u636e\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5b83\u3002Selenium\u5176\u5b9e\u5305\u62ec\u4e09\u4e2a\u90e8\u5206\uff1a</p> <ul> <li>Selenium IDE\uff1a\u5d4c\u5165\u5230\u6d4f\u89c8\u5668\u7684\u63d2\u4ef6\uff0c\u53ef\u4ee5\u5f55\u5236\u548c\u56de\u653e\u811a\u672c\u3002</li> </ul> <p></p> <ul> <li> <p>Selenium WebDriver\uff1a\u652f\u6301\u591a\u79cd\u8bed\u8a00\u53ef\u4ee5\u64cd\u63a7\u6d4f\u89c8\u5668\u7684API\u3002</p> </li> <li> <p>Selenium Standalone Server\uff1aSelenium Grid\u3001\u8fdc\u7a0b\u63a7\u5236\u3001\u5206\u5e03\u5f0f\u90e8\u7f72\u3002</p> </li> </ul> <pre><code>pip install selenium\n</code></pre> <pre><code>from selenium import webdriver\nimport pytest\nimport contextlib\n\n\n@pytest.fixture(scope='session')\ndef chrome():\n    # \u8bbe\u7f6e\u4f7f\u7528\u65e0\u5934\u6d4f\u89c8\u5668(\u4e0d\u4f1a\u6253\u5f00\u6d4f\u89c8\u5668\u7a97\u53e3)\n    options = webdriver.ChromeOptions()\n    options.add_argument('--headless')\n    driver = webdriver.Chrome(options=options)\n    yield driver\n    driver.quit()\n\n\ndef test_baidu_index(chrome):\n    chrome.get('https://www.baidu.com')\n    assert chrome.title == '\u767e\u5ea6\u4e00\u4e0b\uff0c\u4f60\u5c31\u77e5\u9053'\n</code></pre> <p>\u9664\u4e86Selenium\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u4e2aWeb\u81ea\u52a8\u5316\u6d4b\u8bd5\u5de5\u5177\u540d\u53ebRobot Framework\u3002</p> <pre><code>nose2 -v -C\npytest --cov\n</code></pre> <pre><code>Ran 7 tests in 0.002s\n\nOK\nName                       Stmts   Miss  Cover\n----------------------------------------------\nexample01.py                  15      0   100%\nexample02.py                  49     49     0%\nexample03.py                  22     22     0%\nexample04.py                  61     61     0%\nexample05.py                  29     29     0%\nexample06.py                  39     39     0%\nexample07.py                  19     19     0%\nexample08.py                  27     27     0%\nexample09.py                  18     18     0%\nexample10.py                  19     19     0%\nexample11.py                  22     22     0%\nexample12.py                  28     28     0%\nexample13.py                  28     28     0%\ntest_ddt_example.py           18      0   100%\ntest_pytest_example.py        11      6    45%\ntest_unittest_example.py      22      0   100%\n----------------------------------------------\nTOTAL                        427    367    14%\n</code></pre> <p>\u5728\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u9700\u8981\u5b64\u7acb\u5404\u79cd\u5916\u90e8\u4f9d\u8d56\uff08\u6570\u636e\u5e93\u3001\u5916\u90e8\u63a5\u53e3\u8c03\u7528\u3001\u65f6\u95f4\u4f9d\u8d56\uff09\uff0c\u5177\u4f53\u53c8\u5305\u62ec\u4e24\u4e2a\u65b9\u9762\uff1a</p> <ol> <li> <p>\u6570\u636e\u6e90\uff1a\u6570\u636e\u672c\u5730\u5316 / \u7f6e\u4e8e\u5185\u5b58\u4e2d / \u6d4b\u8bd5\u4e4b\u540e\u56de\u6eda</p> </li> <li> <p>\u8d44\u6e90\u865a\u62df\u5316\uff1a\u5b58\u6839/\u6869\uff08stub\uff09\u3001\u4eff\u5236/\u6a21\u62df\uff08mock\uff09\u3001\u4f2a\u9020\uff08fake\uff09</p> </li> <li> <p>stub\uff1a\u6d4b\u8bd5\u671f\u95f4\u4e3a\u63d0\u4f9b\u54cd\u5e94\u7684\u51fd\u6570\u751f\u6210\u7684\u66ff\u4ee3\u54c1</p> </li> <li>mock\uff1a\u4ee3\u66ff\u5b9e\u9645\u5bf9\u8c61\uff08\u4ee5\u53ca\u8be5\u5bf9\u8c61\u7684API\uff09\u7684\u5bf9\u8c61</li> <li>fake\uff1a\u6ca1\u6709\u8fbe\u5230\u751f\u4ea7\u7ea7\u522b\u7684\u8f7b\u91cf\u7ea7\u5bf9\u8c61</li> </ol>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_36","title":"\u96c6\u6210\u6d4b\u8bd5","text":"<p>\u96c6\u6210\u591a\u4e2a\u51fd\u6570\u6216\u65b9\u6cd5\u7684\u8f93\u5165\u8f93\u51fa\u7684\u6d4b\u8bd5\uff0c\u6d4b\u8bd5\u65f6\u9700\u8981\u5c06\u591a\u4e2a\u6d4b\u8bd5\u5bf9\u8c61\u7ec4\u5408\u5728\u4e00\u8d77\u3002</p> <ul> <li>\u6d4b\u8bd5\u7ec4\u4ef6\u4e92\u64cd\u4f5c\u6027 / \u9700\u6c42\u53d8\u66f4\u6d4b\u8bd5 / \u5916\u90e8\u4f9d\u8d56\u548cAPI / \u8c03\u8bd5\u786c\u4ef6\u95ee\u9898 / \u5728\u4ee3\u7801\u8def\u5f84\u4e2d\u53d1\u73b0\u5f02\u5e38</li> </ul>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_37","title":"\u7cfb\u7edf\u6d4b\u8bd5","text":"<p>\u5bf9\u9700\u6c42\u7684\u6d4b\u8bd5\uff0c\u6d4b\u8bd5\u6210\u54c1\u662f\u5426\u6700\u7ec8\u6ee1\u8db3\u4e86\u6240\u6709\u9700\u6c42\uff0c\u5728\u5ba2\u6237\u9a8c\u6536\u9879\u76ee\u65f6\u8fdb\u884c\u3002</p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_38","title":"\u6570\u636e\u9a71\u52a8\u6d4b\u8bd5","text":"<p>\u4f7f\u7528\u5916\u90e8\u6570\u636e\u6e90\u5b9e\u73b0\u5bf9\u8f93\u5165\u503c\u4e0e\u671f\u671b\u503c\u7684\u53c2\u6570\u5316\uff0c\u907f\u514d\u5728\u6d4b\u8bd5\u4e2d\u4f7f\u7528\u786c\u7f16\u7801\u7684\u6570\u636e\u3002</p> <p>\u88ab\u6d4b\u51fd\u6570\uff1a</p> <pre><code>def add(x, y):\n    return x + y\n</code></pre> <p>data.csv\u6587\u4ef6\uff1a</p> <pre><code>3,1,2\n0,1,-1\n100,50,50\n100,1,99\n15,7,8\n</code></pre> <p>\u6d4b\u8bd5\u4ee3\u7801\uff1a</p> <pre><code>import csv\n\nfrom unittest import TestCase\nfrom ddt import ddt, data, unpack\n\n\n@ddt\nclass TestAdd(TestCase):\n\n    def load_data_from_csv(filename):\n        data_items = []\n        with open(filename, 'r', newline='') as fs:\n            reader = csv.reader(fs)\n            for row in reader:\n                data_items.append(list(map(int, row)))\n        return data_items\n\n\n    @data(*load_data_from_csv('data.csv'))\n    @unpack\n    def test_add(self, result, param1, param2):\n        self.assertEqual(result, add(param1, param2))\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#django_2","title":"Django\u4e2d\u7684\u6d4b\u8bd5","text":"<ol> <li>\u6d4b\u8bd5Django\u89c6\u56fe - Django\u4e2d\u63d0\u4f9b\u7684<code>TestCase</code>\u6269\u5c55\u4e86<code>unittest</code>\u4e2d\u7684<code>TestCase</code>\uff0c\u7ed1\u5b9a\u4e86\u4e00\u4e2a\u540d\u4e3a<code>client</code>\u7684\u5c5e\u6027\uff0c\u53ef\u4ee5\u7528\u6765\u6a21\u62df\u6d4f\u89c8\u5668\u53d1\u51fa\u7684GET\u3001POST\u3001DELETE\u3001PUT\u7b49\u8bf7\u6c42\u3002</li> </ol> <pre><code>class SomeViewTest(TestCase):\n\n    def test_example_view(self):\n        resp = self.client.get(reverse('index'))\n        self.assertEqual(200, resp.status_code)\n        self.assertEqual(5, resp.context['num'])\n</code></pre> <ol> <li>\u8fd0\u884c\u6d4b\u8bd5 - \u914d\u7f6e\u6d4b\u8bd5\u6570\u636e\u5e93\u3002</li> </ol> <pre><code>DATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.mysql',\n        'HOST': 'localhost',\n        'PORT': 3306,\n        'NAME': 'DbName',\n        'USER': os.environ['DB_USER'],\n        'PASSWORD': os.environ['DB_PASS'],\n        'TEST': {\n            'NAME': 'DbName_for_testing',\n            'CHARSET': 'utf8',\n        },\n    }\n}\n</code></pre> <pre><code>python manage.py test\npython manage.py test common\npython manage.py test common.tests.UtilsTest\npython manage.py test common.tests.UtilsTest.test_to_md5_hex\n</code></pre> <ol> <li>\u8bc4\u4f30\u6d4b\u8bd5\u8986\u76d6\u5ea6</li> </ol> <pre><code>pip install coverage\ncoverage run --source=&lt;path1&gt; --omit=&lt;path2&gt; manage.py test common\ncoverage report\n\nName                            Stmts   Miss  Cover\n---------------------------------------------------\ncommon/__init__.py                  0      0   100%\ncommon/admin.py                     1      0   100%\ncommon/apps.py                      3      3     0%\ncommon/forms.py                    16     16     0%\ncommon/helper.py                   32     32     0%\ncommon/middlewares.py              19     19     0%\ncommon/migrations/__init__.py       0      0   100%\ncommon/models.py                   71      2    97%\ncommon/serializers.py              14     14     0%\ncommon/tests.py                    14      8    43%\ncommon/urls_api.py                  3      3     0%\ncommon/urls_user.py                 3      3     0%\ncommon/utils.py                    22      7    68%\ncommon/views.py                    69     69     0%\n---------------------------------------------------\nTOTAL                             267    176    34%\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_39","title":"\u6027\u80fd\u6d4b\u8bd5","text":"<p>\u95ee\u98981\uff1a\u6027\u80fd\u6d4b\u8bd5\u7684\u6307\u6807\u6709\u54ea\u4e9b\uff1f</p> <ol> <li>ab\uff08 Apache Benchmark\uff09 / webbench / httpperf</li> </ol> <pre><code>yum -y install httpd\nab -c 10 -n 1000 http://www.baidu.com/\n...\nBenchmarking www.baidu.com (be patient).....done\nServer Software:        BWS/1.1\nServer Hostname:        www.baidu.com\nServer Port:            80\nDocument Path:          /\nDocument Length:        118005 bytes\nConcurrency Level:      10\nTime taken for tests:   0.397 seconds\nComplete requests:      100\nFailed requests:        98\n   (Connect: 0, Receive: 0, Length: 98, Exceptions: 0)\nWrite errors:           0\nTotal transferred:      11918306 bytes\nHTML transferred:       11823480 bytes\nRequests per second:    252.05 [#/sec] (mean)\nTime per request:       39.675 [ms] (mean)\nTime per request:       3.967 [ms] (mean, across all concurrent requests)\nTransfer rate:          29335.93 [Kbytes/sec] received\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:        6    7   0.6      7       9\nProcessing:    20   27  22.7     24     250\nWaiting:        8   11  21.7      9     226\nTotal:         26   34  22.8     32     258\nPercentage of the requests served within a certain time (ms)\n  50%     32\n  66%     34\n  75%     34\n  80%     34\n  90%     36\n  95%     39\n  98%     51\n  99%    258\n 100%    258 (longest request)\n</code></pre> <ol> <li>mysqlslap</li> </ol> <pre><code>mysqlslap -a -c 100 -h 1.2.3.4 -u root -p\nmysqlslap -a -c 100 --number-of-queries=1000 --auto-generate-sql-load-type=read -h &lt;\u8d1f\u8f7d\u5747\u8861\u670d\u52a1\u5668IP\u5730\u5740&gt; -u root -p\nmysqlslap -a --concurrency=50,100 --number-of-queries=1000 --debug-info --auto-generate-sql-load-type=mixed -h 1.2.3.4 -u root -p\n</code></pre> <ol> <li>sysbench</li> </ol> <pre><code>sysbench --test=threads --num-threads=64 --thread-yields=100 --thread-locks=2 run\nsysbench --test=memory --num-threads=512 --memory-block-size=256M --memory-total-size=32G run\n</code></pre> <ol> <li>jmeter</li> </ol> <p>\u8bf7\u67e5\u770b\u300a\u4f7f\u7528JMeter\u8fdb\u884c\u6027\u80fd\u6d4b\u8bd5\u300b\u3002</p> <ol> <li>LoadRunner / QTP</li> </ol>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_40","title":"\u9879\u76ee\u8c03\u8bd5","text":"<p>\u53ef\u4ee5\u4f7f\u7528django-debug-toolbar\u6765\u8f85\u52a9\u9879\u76ee\u8c03\u8bd5\u3002</p> <ol> <li>\u5b89\u88c5</li> </ol> <pre><code>pip install django-debug-toolbar\n</code></pre> <ol> <li>\u914d\u7f6e - \u4fee\u6539settings.py\u3002</li> </ol> <pre><code>INSTALLED_APPS = [\n    'debug_toolbar',\n]\n\nMIDDLEWARE = [\n    'debug_toolbar.middleware.DebugToolbarMiddleware',\n]\n\nDEBUG_TOOLBAR_CONFIG = {\n    # \u5f15\u5165jQuery\u5e93\n    'JQUERY_URL': 'https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js',\n    # \u5de5\u5177\u680f\u662f\u5426\u6298\u53e0\n    'SHOW_COLLAPSED': True,\n    # \u662f\u5426\u663e\u793a\u5de5\u5177\u680f\n    'SHOW_TOOLBAR_CALLBACK': lambda x: True,\n}\n</code></pre> <ol> <li>\u914d\u7f6e - \u4fee\u6539urls.py\u3002</li> </ol> <pre><code>if settings.DEBUG:\n\n    import debug_toolbar\n\n    urlpatterns.insert(0, path('__debug__/', include(debug_toolbar.urls)))\n</code></pre> <ol> <li>\u4f7f\u7528 - \u5728\u9875\u9762\u53f3\u4fa7\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a\u8c03\u8bd5\u5de5\u5177\u680f\uff0c\u4e0a\u9762\u5305\u62ec\u4e86\u6267\u884c\u65f6\u95f4\u3001\u9879\u76ee\u8bbe\u7f6e\u3001\u8bf7\u6c42\u5934\u3001SQL\u3001\u9759\u6001\u8d44\u6e90\u3001\u6a21\u677f\u3001\u7f13\u5b58\u3001\u4fe1\u53f7\u7b49\u8c03\u8bd5\u4fe1\u606f\uff0c\u67e5\u770b\u8d77\u6765\u975e\u5e38\u7684\u65b9\u4fbf\u3002</li> </ol>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_41","title":"\u90e8\u7f72\u76f8\u5173","text":"<p>\u8bf7\u53c2\u8003\u300aDjango\u9879\u76ee\u4e0a\u7ebf\u6307\u5357\u300b\u3002</p>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_42","title":"\u6027\u80fd\u76f8\u5173","text":""},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_43","title":"\u7f51\u7ad9\u4f18\u5316\u4e24\u5927\u5b9a\u5f8b\uff1a","text":"<ol> <li> <p>\u5c3d\u53ef\u80fd\u7684\u4f7f\u7528\u7f13\u5b58 - \u727a\u7272\u7a7a\u95f4\u6362\u53d6\u65f6\u95f4\uff08\u666e\u9002\u7b56\u7565\uff09\u3002</p> </li> <li> <p>\u80fd\u63a8\u8fdf\u7684\u90fd\u63a8\u8fdf - \u4f7f\u7528\u6d88\u606f\u961f\u5217\u5c06\u5e76\u884c\u4efb\u52a1\u4e32\u884c\u6765\u7f13\u89e3\u670d\u52a1\u5668\u538b\u529b\u3002</p> </li> <li> <p>\u670d\u52a1\u5668CPU\u5229\u7528\u7387\u51fa\u73b0\u77ac\u65f6\u5cf0\u503c - \u524a\u5cf0\uff08CPU\u5229\u7528\u7387\u5e73\u7f13\u7684\u589e\u957f\uff09</p> </li> <li>\u4e0a\u4e0b\u6e38\u8282\u70b9\u89e3\u8026\u5408\uff08\u4e0b\u8ba2\u5355\u548c\u53d7\u7406\u8ba2\u5355\u7684\u7cfb\u7edf\u901a\u5e38\u662f\u5206\u79bb\u7684\uff09</li> </ol>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#django_3","title":"Django\u6846\u67b6","text":"<ol> <li> <p>\u914d\u7f6e\u7f13\u5b58\u6765\u7f13\u89e3\u6570\u636e\u5e93\u7684\u538b\u529b\uff0c\u5e76\u6709\u5408\u7406\u7684\u673a\u5236\u5e94\u5bf9\u7f13\u5b58\u7a7f\u900f\u548c\u7f13\u5b58\u96ea\u5d29\u3002</p> </li> <li> <p>\u5f00\u542f\u6a21\u677f\u7f13\u5b58\u6765\u52a0\u901f\u6a21\u677f\u7684\u6e32\u67d3\u3002</p> </li> </ol> <pre><code>TEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR, 'templates'), ],\n        # 'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n            'loaders': [(\n                'django.template.loaders.cached.Loader', [\n                    'django.template.loaders.filesystem.Loader',\n                    'django.template.loaders.app_directories.Loader',\n                ], ),\n            ],\n        },\n    },\n]\n</code></pre> <ol> <li> <p>\u7528\u60f0\u6027\u6c42\u503c\u3001\u8fed\u4ee3\u5668\u3001<code>defer()</code>\u3001<code>only()</code>\u7b49\u7f13\u89e3\u5185\u5b58\u538b\u529b\u3002</p> </li> <li> <p>\u7528<code>select_related()</code>\u548c<code>prefetch_related()</code>\u6267\u884c\u9884\u52a0\u8f7d\u907f\u514d\u201c1+N\u67e5\u8be2\u95ee\u9898\u201d\u3002</p> </li> </ol>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_44","title":"\u6570\u636e\u5e93","text":"<ol> <li> <p>\u7528ID\u751f\u6210\u5668\u4ee3\u66ff\u81ea\u589e\u4e3b\u952e\uff08\u6027\u80fd\u66f4\u597d\u3001\u9002\u7528\u4e8e\u5206\u5e03\u5f0f\u73af\u5883\uff09\u3002</p> </li> <li> <p>\u81ea\u5b9a\u4e49ID\u751f\u6210\u5668</p> </li> <li> <p>UUID</p> </li> </ol> <pre><code>&gt;&gt;&gt; my_uuid = uuid.uuid1()\n&gt;&gt;&gt; my_uuid\nUUID('63f859d0-a03a-11e8-b0ad-60f81da8d840')\n&gt;&gt;&gt; my_uuid.hex\n'63f859d0a03a11e8b0ad60f81da8d840'\n</code></pre> <ol> <li> <p>\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u5916\u952e\u5217\u4e0a\u7684\u7ea6\u675f\uff08\u9664\u975e\u5fc5\u987b\u4fdd\u8bc1\u53c2\u7167\u5b8c\u6574\u6027\uff09\uff0c\u66f4\u4e0d\u8981\u4f7f\u7528\u89e6\u53d1\u5668\u4e4b\u7c7b\u7684\u673a\u5236\u3002</p> </li> <li> <p>\u4f7f\u7528\u7d22\u5f15\u6765\u4f18\u5316\u67e5\u8be2\u6027\u80fd\uff08\u7d22\u5f15\u653e\u5728\u8981\u7528\u4e8e\u67e5\u8be2\u7684\u5b57\u6bb5\u4e0a\uff09\u3002InnoDB\u7528\u7684\u662fBTREE\u7d22\u5f15\uff0c\u4f7f\u7528&gt;\u3001&lt;\u3001&gt;=\u3001&lt;=\u3001BETWEEN\u6216\u8005LIKE 'pattern'\uff08pattern\u4e0d\u4ee5\u901a\u914d\u7b26\u5f00\u5934\uff09\u65f6\u90fd\u53ef\u4ee5\u7528\u5230\u7d22\u5f15\u3002\u56e0\u4e3a\u5efa\u7acb\u7d22\u5f15\u9700\u8981\u989d\u5916\u7684\u78c1\u76d8\u7a7a\u95f4\uff0c\u800c\u4e3b\u952e\u4e0a\u662f\u6709\u9ed8\u8ba4\u7684\u7d22\u5f15\uff0c\u6240\u4ee5\u4e3b\u952e\u8981\u5c3d\u53ef\u80fd\u9009\u62e9\u8f83\u77ed\u7684\u6570\u636e\u7c7b\u578b\u6765\u51cf\u5c11\u78c1\u76d8\u5360\u7528\uff0c\u63d0\u9ad8\u7d22\u5f15\u7684\u7f13\u5b58\u6548\u679c\u3002</p> </li> </ol> <pre><code>create index idx_goods_name on tb_goods (gname(10));\n</code></pre> <pre><code>-- \u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15\nselect * from tb_goods where gname like '%iPhone%';\n-- \u53ef\u4ee5\u4f7f\u7528\u7d22\u5f15\nselect * from tb_goods where gname like 'iPhone%';\n</code></pre> <pre><code># \u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15\nGoods.objects.filter(name_icontains='iPhone')\n# \u53ef\u4ee5\u4f7f\u7528\u7d22\u5f15\nGoods.objects.filter(name__istartswith='iPhone');\n</code></pre> <ol> <li>\u4f7f\u7528\u5b58\u50a8\u8fc7\u7a0b\uff08\u5b58\u50a8\u5728\u670d\u52a1\u5668\u7aef\u7f16\u8bd1\u8fc7\u7684\u4e00\u7ec4SQL\u8bed\u53e5\uff09\u3002</li> </ol> <pre><code>drop procedure if exists sp_avg_sal_by_dept;\n\ncreate procedure sp_avg_sal_by_dept(deptno integer, out avg_sal float)\nbegin \n    select avg(sal) into avg_sal from TbEmp where dno=deptno;\nend;\n\ncall sp_avg_sal_by_dept(10, @a);\n\nselect @a;\n</code></pre> <pre><code>&gt;&gt;&gt; from django.db import connection\n&gt;&gt;&gt; cursor = connection.cursor()\n&gt;&gt;&gt; cursor.callproc('sp_avg_sal_by_dept', (10, 0))\n&gt;&gt;&gt; cursor.execute('select @_sp_avg_sal_by_dept_1')\n&gt;&gt;&gt; cursor.fetchone()\n(2675.0,)\n</code></pre> <ol> <li> <p>\u4f7f\u7528\u6570\u636e\u5206\u533a\u3002\u901a\u8fc7\u5206\u533a\u53ef\u4ee5\u5b58\u50a8\u66f4\u591a\u7684\u6570\u636e\u3001\u4f18\u5316\u67e5\u8be2\u66f4\u5927\u7684\u541e\u5410\u91cf\u3001\u53ef\u4ee5\u5feb\u901f\u5220\u9664\u8fc7\u671f\u7684\u6570\u636e\u3002\u5173\u4e8e\u8fd9\u4e2a\u77e5\u8bc6\u70b9\u53ef\u4ee5\u770b\u770bMySQL\u7684\u5b98\u65b9\u6587\u6863\u3002</p> </li> <li> <p>RANGE\u5206\u533a\uff1a\u57fa\u4e8e\u8fde\u7eed\u533a\u95f4\u8303\u56f4\uff0c\u628a\u6570\u636e\u5206\u914d\u5230\u4e0d\u540c\u7684\u5206\u533a\u3002</p> </li> <li>LIST\u5206\u533a\uff1a\u57fa\u4e8e\u679a\u4e3e\u503c\u7684\u8303\u56f4\uff0c\u628a\u6570\u636e\u5206\u914d\u5230\u4e0d\u540c\u7684\u5206\u533a\u3002</li> <li>HASH\u5206\u533a / KEY\u5206\u533a\uff1a\u57fa\u4e8e\u5206\u533a\u4e2a\u6570\uff0c\u628a\u6570\u636e\u5206\u914d\u5230\u4e0d\u540c\u7684\u5206\u533a\u3002</li> </ol> <pre><code>CREATE TABLE tb_emp (\n    eno INT NOT NULL,\n    ename VARCHAR(20) NOT NULL,\n    job VARCHAR(10) NOT NULL,\n    hiredate DATE NOT NULL,\n    dno INT NOT NULL\n)\nPARTITION BY HASH(dno)\nPARTITIONS 4;\n</code></pre> <pre><code>CREATE TABLE tb_emp (\n    eno INT NOT NULL,\n    ename VARCHAR(20) NOT NULL,\n    job VARCHAR(10) NOT NULL,\n    hiredate DATE NOT NULL,\n    dno INT NOT NULL\n)\nPARTITION BY RANGE( YEAR(hiredate) ) (\n    PARTITION p0 VALUES LESS THAN (1960),\n    PARTITION p1 VALUES LESS THAN (1970),\n    PARTITION p2 VALUES LESS THAN (1980),\n    PARTITION p3 VALUES LESS THAN (1990),\n    PARTITION p4 VALUES LESS THAN MAXVALUE\n);\n</code></pre> <ol> <li>\u4f7f\u7528<code>explain</code>\u6765\u5206\u6790\u67e5\u8be2\u6027\u80fd - \u6267\u884c\u8ba1\u5212\u3002</li> </ol> <pre><code>explain select * from ...;\n</code></pre> <p><code>explain</code>\u7ed3\u679c\u89e3\u6790\uff1a</p> <ul> <li>select_type\uff1a\u8868\u793aselect\u64cd\u4f5c\u7684\u7c7b\u578b\uff0c\u5e38\u89c1\u7684\u503c\u6709SIMPLE\uff08\u7b80\u5355\u67e5\u8be2\uff0c\u6ca1\u6709\u4f7f\u7528\u5b50\u67e5\u8be2\u6216\u8005\u8868\u8fde\u63a5\u67e5\u8be2\uff09\u3001PRIMARY\uff08\u4e3b\u67e5\u8be2\uff0c\u5916\u5c42\u7684\u67e5\u8be2\uff09\u3001UNION\uff08\u5e76\u96c6\u64cd\u4f5c\u4e2d\u7684\u7b2c\u4e8c\u4e2a\u6216\u8005\u540e\u9762\u7684\u67e5\u8be2\uff09\u3001SUBQUERY\uff08\u5b50\u67e5\u8be2\u4e2d\u7684\u7b2c\u4e00\u4e2aSELECT\uff09\u7b49\u3002</li> <li>table\uff1a\u8f93\u51fa\u7ed3\u679c\u7684\u8868\u3002</li> <li>type\uff1aMySQL\u5728\u8868\u4e2d\u627e\u5230\u6240\u9700\u884c\u7684\u65b9\u5f0f\uff0c\u4e5f\u79f0\u4e3a\u8bbf\u95ee\u7c7b\u578b\uff0c\u5e38\u89c1\u7684\u503c\u6709\uff1a<ul> <li>ALL\uff1a\u5168\u8868\u626b\u63cf\uff08\u904d\u5386\u5168\u8868\u627e\u5230\u5339\u914d\u7684\u884c\uff09</li> <li>index\uff1a\u7d22\u5f15\u5168\u626b\u63cf\uff08\u904d\u5386\u6574\u4e2a\u7d22\u5f15\uff09</li> <li>range\uff1a\u7d22\u5f15\u8303\u56f4\u626b\u63cf</li> <li>ref\uff1a\u975e\u552f\u4e00\u7d22\u5f15\u626b\u63cf\u6216\u552f\u4e00\u7d22\u5f15\u7684\u524d\u7f00\u626b\u63cf</li> <li>eq_ref\uff1a\u552f\u4e00\u7d22\u5f15\u626b\u63cf</li> <li>const / system\uff1a\u8868\u4e2d\u6700\u591a\u6709\u4e00\u884c\u5339\u914d</li> <li>NULL\uff1a\u4e0d\u7528\u8bbf\u95ee\u8868\u6216\u8005\u7d22\u5f15</li> </ul> </li> <li>possible_keys\uff1a\u67e5\u8be2\u65f6\u53ef\u80fd\u7528\u5230\u7684\u7d22\u5f15\u3002</li> <li>key\uff1a\u5b9e\u9645\u4f7f\u7528\u7684\u7d22\u5f15\u3002</li> <li>key_len\uff1a\u4f7f\u7528\u5230\u7d22\u5f15\u5b57\u6bb5\u7684\u957f\u5ea6\u3002</li> <li>rows\uff1a\u626b\u63cf\u884c\u7684\u6570\u91cf\u3002</li> <li>Extra\uff1a\u989d\u5916\u7684\u4fe1\u606f\uff08\u6267\u884c\u60c5\u51b5\u7684\u8bf4\u660e\u6216\u63cf\u8ff0\uff09\u3002</li> </ul> <p>\u8bf4\u660e\uff1a\u5173\u4e8eMySQL\u66f4\u591a\u7684\u77e5\u8bc6\u5c24\u5176\u662f\u6027\u80fd\u8c03\u4f18\u548c\u8fd0\u7ef4\u65b9\u9762\u7684\u5185\u5bb9\uff0c\u63a8\u8350\u5927\u5bb6\u9605\u8bfb\u7f51\u6613\u51fa\u54c1\u7684\u300a\u6df1\u5165\u6d45\u51faMySQL\uff08\u7b2c2\u7248\uff09\u300b\uff0c\u7f51\u6613\u51fa\u54c1\u5fc5\u5c5e\u7cbe\u54c1\u3002</p> <ol> <li>\u4f7f\u7528\u6162\u67e5\u8be2\u65e5\u5fd7\u6765\u53d1\u73b0\u6027\u80fd\u4f4e\u4e0b\u7684\u67e5\u8be2\u3002</li> </ol> <pre><code>mysql&gt; show variables like 'slow_query%';\n+---------------------------+----------------------------------+\n| Variable_name             | Value                            |\n+---------------------------+----------------------------------+\n| slow_query_log            | OFF                              |\n| slow_query_log_file       | /mysql/data/localhost-slow.log   |\n+---------------------------+----------------------------------+\n\nmysql&gt; show variables like 'long_query_time';\n+-----------------+-----------+\n| Variable_name   | Value     |\n+-----------------+-----------+\n| long_query_time | 10.000000 |\n+-----------------+-----------+\n</code></pre> <pre><code>mysql&gt; set global slow_query_log='ON'; \nmysql&gt; set global long_query_time=1;\n</code></pre> <pre><code>[mysqld]\nslow_query_log=ON\nslow_query_log_file=/usr/local/mysql/data/slow.log\nlong_query_time=1\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/95.%E4%BD%BF%E7%94%A8Django%E5%BC%80%E5%8F%91%E9%A1%B9%E7%9B%AE/#_45","title":"\u5176\u4ed6","text":"<p>\u8bf7\u53c2\u8003\u300aPython\u6027\u80fd\u8c03\u4f18\u300b\u3002</p>"},{"location":"python/Py-100Days/Day91-100/96.%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/","title":"96.\u8f6f\u4ef6\u6d4b\u8bd5\u548c\u81ea\u52a8\u5316\u6d4b\u8bd5","text":""},{"location":"python/Py-100Days/Day91-100/96.%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/#_1","title":"\u8f6f\u4ef6\u6d4b\u8bd5\u548c\u81ea\u52a8\u5316\u6d4b\u8bd5","text":""},{"location":"python/Py-100Days/Day91-100/96.%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/#_2","title":"\u8f6f\u4ef6\u6d4b\u8bd5\u6982\u8ff0","text":"<p>\u8f6f\u4ef6\u6d4b\u8bd5\u662f\u4e00\u79cd\u7528\u6765\u4fc3\u8fdb\u9274\u5b9a\u8f6f\u4ef6\u7684\u6b63\u786e\u6027\u3001\u5b8c\u6574\u6027\u3001\u5b89\u5168\u6027\u548c\u54c1\u8d28\u7684\u8fc7\u7a0b\uff0c\u4e5f\u5c31\u662f\u5728\u89c4\u5b9a\u7684\u6761\u4ef6\u4e0b\u5bf9\u7a0b\u5e8f\u8fdb\u884c\u64cd\u4f5c\u4ee5\u53d1\u73b0\u7a0b\u5e8f\u4e2d\u7684\u9519\u8bef\uff0c\u8861\u91cf\u8f6f\u4ef6\u7684\u54c1\u8d28\u5e76\u5bf9\u5176\u662f\u5426\u80fd\u6ee1\u8db3\u8bbe\u8ba1\u8981\u6c42\u8fdb\u884c\u8bc4\u4f30\u7684\u8fc7\u7a0b\u3002</p>"},{"location":"python/Py-100Days/Day91-100/96.%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/#_3","title":"\u6d4b\u8bd5\u7684\u65b9\u6cd5","text":"<p>\u9ed1\u76d2\u6d4b\u8bd5\uff1a\u6d4b\u8bd5\u5e94\u7528\u7a0b\u5e8f\u7684\u529f\u80fd\uff0c\u800c\u4e0d\u662f\u5176\u5185\u90e8\u7ed3\u6784\u6216\u8fd0\u4f5c\u3002\u6d4b\u8bd5\u8005\u4e0d\u9700\u5177\u5907\u5e94\u7528\u7a0b\u5e8f\u7684\u4ee3\u7801\u3001\u5185\u90e8\u7ed3\u6784\u548c\u7f16\u7a0b\u8bed\u8a00\u7684\u4e13\u95e8\u77e5\u8bc6\u3002\u6d4b\u8bd5\u8005\u53ea\u9700\u77e5\u9053\u4ec0\u4e48\u662f\u7cfb\u7edf\u5e94\u8be5\u505a\u7684\u4e8b\uff0c\u5373\u5f53\u952e\u5165\u4e00\u4e2a\u7279\u5b9a\u7684\u8f93\u5165\uff0c\u53ef\u5f97\u5230\u4e00\u5b9a\u7684\u8f93\u51fa\u3002\u6d4b\u8bd5\u6848\u4f8b\u662f\u4f9d\u5e94\u7528\u7cfb\u7edf\u5e94\u8be5\u505a\u7684\u529f\u80fd\uff0c\u7167\u89c4\u8303\u3001\u89c4\u683c\u6216\u8981\u6c42\u7b49\u8bbe\u8ba1\u3002\u6d4b\u8bd5\u8005\u9009\u62e9\u6709\u6548\u8f93\u5165\u548c\u65e0\u6548\u8f93\u5165\u6765\u9a8c\u8bc1\u662f\u5426\u6b63\u786e\u7684\u8f93\u51fa\u3002\u6b64\u6d4b\u8bd5\u65b9\u6cd5\u53ef\u9002\u5408\u5927\u90e8\u5206\u7684\u8f6f\u4ef6\u6d4b\u8bd5\uff0c\u4f8b\u5982\u96c6\u6210\u6d4b\u8bd5\u548c\u7cfb\u7edf\u6d4b\u8bd5\u3002</p> <p>\u767d\u76d2\u6d4b\u8bd5\uff1a\u6d4b\u8bd5\u5e94\u7528\u7a0b\u5e8f\u7684\u5185\u90e8\u7ed3\u6784\u6216\u8fd0\u4f5c\uff0c\u800c\u4e0d\u662f\u6d4b\u8bd5\u5e94\u7528\u7a0b\u5e8f\u7684\u529f\u80fd\uff08\u5373\u9ed1\u7bb1\u6d4b\u8bd5\uff09\u3002\u5728\u767d\u7bb1\u6d4b\u8bd5\u65f6\uff0c\u4ee5\u7f16\u7a0b\u8bed\u8a00\u7684\u89d2\u5ea6\u6765\u8bbe\u8ba1\u6d4b\u8bd5\u6848\u4f8b\u3002\u6d4b\u8bd5\u8005\u8f93\u5165\u6570\u636e\u9a8c\u8bc1\u6570\u636e\u6d41\u5728\u7a0b\u5e8f\u4e2d\u7684\u6d41\u52a8\u8def\u5f84\uff0c\u5e76\u786e\u5b9a\u9002\u5f53\u7684\u8f93\u51fa\uff0c\u7c7b\u4f3c\u6d4b\u8bd5\u7535\u8def\u4e2d\u7684\u8282\u70b9\u3002</p>"},{"location":"python/Py-100Days/Day91-100/96.%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/#_4","title":"\u6d4b\u8bd5\u7684\u79cd\u7c7b\uff08\u9636\u6bb5\uff09","text":"<p>\u5355\u5143\u6d4b\u8bd5\uff1a\u5bf9\u8f6f\u4ef6\u7ec4\u6210\u5355\u5143\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5176\u76ee\u7684\u662f\u68c0\u9a8c\u8f6f\u4ef6\u57fa\u672c\u7ec4\u6210\u5355\u4f4d\u7684\u6b63\u786e\u6027\uff0c\u6d4b\u8bd5\u7684\u5bf9\u8c61\u662f\u8f6f\u4ef6\u8bbe\u8ba1\u7684\u6700\u5c0f\u5355\u4f4d - \u51fd\u6570\u3002</p> <p>\u96c6\u6210\u6d4b\u8bd5\uff1a\u5c06\u7a0b\u5e8f\u6a21\u5757\u91c7\u7528\u9002\u5f53\u7684\u96c6\u6210\u7b56\u7565\u7ec4\u88c5\u8d77\u6765\uff0c\u5bf9\u7cfb\u7edf\u7684\u63a5\u53e3\u53ca\u96c6\u6210\u540e\u7684\u529f\u80fd\u8fdb\u884c\u6b63\u786e\u6027\u68c0\u6d4b\u7684\u6d4b\u8bd5\u5de5\u4f5c\u3002\u5176\u4e3b\u8981\u76ee\u7684\u662f\u68c0\u67e5\u8f6f\u4ef6\u5355\u4f4d\u4e4b\u95f4\u7684\u63a5\u53e3\u662f\u5426\u6b63\u786e\uff0c\u96c6\u6210\u6d4b\u8bd5\u7684\u5bf9\u8c61\u662f\u5df2\u7ecf\u7ecf\u8fc7\u5355\u5143\u6d4b\u8bd5\u7684\u6a21\u5757\u3002</p> <p>\u7cfb\u7edf\u6d4b\u8bd5\uff1a\u7cfb\u7edf\u6d4b\u8bd5\u4e3b\u8981\u5305\u62ec\u529f\u80fd\u6d4b\u8bd5\u3001\u754c\u9762\u6d4b\u8bd5\u3001\u53ef\u9760\u6027\u6d4b\u8bd5\u3001\u6613\u7528\u6027\u6d4b\u8bd5\u3001\u6027\u80fd\u6d4b\u8bd5\u3002\u00a0</p> <p>\u56de\u5f52\u6d4b\u8bd5\uff1a\u4e3a\u4e86\u68c0\u6d4b\u4ee3\u7801\u4fee\u6539\u800c\u5f15\u5165\u7684\u9519\u8bef\u6240\u8fdb\u884c\u7684\u6d4b\u8bd5\u6d3b\u52a8\u3002\u56de\u5f52\u6d4b\u8bd5\u662f\u8f6f\u4ef6\u7ef4\u62a4\u9636\u6bb5\u7684\u91cd\u8981\u5de5\u4f5c\uff0c\u6709\u7814\u7a76\u8868\u660e\uff0c\u56de\u5f52\u6d4b\u8bd5\u5e26\u6765\u7684\u8017\u8d39\u5360\u8f6f\u4ef6\u751f\u547d\u5468\u671f\u76841/3\u603b\u8d39\u7528\u4ee5\u4e0a\u3002</p>"},{"location":"python/Py-100Days/Day91-100/96.%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/#_5","title":"\u6d4b\u8bd5\u9a71\u52a8\u5f00\u53d1","text":"<p>\u6d4b\u8bd5\u9a71\u52a8\u5f00\u53d1\u5305\u62ec\u4ee5\u4e0b\u4e09\u4e2a\u6b65\u9aa4\uff1a</p> <ol> <li>\u4e3a\u672a\u5b9e\u73b0\u7684\u65b0\u529f\u80fd\u6216\u8005\u6539\u8fdb\u7f16\u5199\u81ea\u52a8\u5316\u6d4b\u8bd5\u3002</li> <li>\u63d0\u4f9b\u901a\u8fc7\u6240\u6709\u5b9a\u4e49\u7684\u6d4b\u8bd5\u7684\u6700\u5c0f\u4ee3\u7801\u91cf\u3002</li> <li>\u91cd\u6784\u4ee3\u7801\u4ee5\u6ee1\u8db3\u6240\u9700\u7684\u8d28\u91cf\u6807\u51c6\u3002</li> </ol> <p>\u6d4b\u8bd5\u9a71\u52a8\u5f00\u53d1\u7684\u597d\u5904\u5728\u4e8e\u53ef\u4ee5\u6709\u6548\u7684\u9632\u6b62\u8f6f\u4ef6\u56de\u5f52\u4ee5\u53ca\u63d0\u4f9b\u66f4\u6709\u8d28\u91cf\u7684\u4ee3\u7801\u3002</p> <p>Python\u7684\u6807\u51c6\u5e93\u91cc\u6709\u4e3a\u7f16\u5199\u5355\u5143\u6d4b\u8bd5\u800c\u51c6\u5907\u7684unittest\u6a21\u5757\uff0c\u6267\u884c\u6d4b\u8bd5\u65f6\u5efa\u8bae\u4f7f\u7528pytest\u6216nose2\u3002pytest\u662f\u4e00\u6b3e\u80fd\u591f\u81ea\u52a8\u641c\u7d22\u5e76\u6267\u884c\u6d4b\u8bd5\u7684\u6d4b\u8bd5\u6267\u884c\u5de5\u5177\uff0c\u5e76\u4e14\u4f1a\u8f93\u51fa\u8be6\u7ec6\u7684\u9519\u8bef\u62a5\u544a\u3002\u5173\u4e8e\u5355\u5143\u6d4b\u8bd5\u53ef\u4ee5\u770b\u770b\u300aPython\u5fc5\u4f1a\u7684\u5355\u5143\u6d4b\u8bd5\u6846\u67b6 - unittest\u300b\u3002</p> <p>\u53ef\u4ee5\u5b89\u88c5testfixtures\u5e93\u6765\u8f85\u52a9\u5355\u5143\u6d4b\u8bd5\uff0c\u5b83\u6574\u5408\u4e86\u591a\u79cd\u5178\u578b\u914d\u7f6e\u5668\uff0c\u63d0\u4f9b\u4e86\u751f\u6210\u76ee\u5f55\u3001\u66f4\u6539\u7cfb\u7edf\u65e5\u671f\u3001\u751f\u6210mock\u5bf9\u8c61\u7684\u529f\u80fd\u6a21\u5757\uff0c\u8fd9\u4e9b\u6a21\u5757\u80fd\u591f\u5e2e\u52a9\u6211\u4eec\u5c06\u5355\u5143\u6d4b\u8bd5\u4e0e\u5355\u5143\u6d4b\u8bd5\u6240\u4f9d\u8d56\u7684\u73af\u5883\u5206\u79bb\u5f00\u3002mock \u662f\u5c06\u6d4b\u8bd5\u5bf9\u8c61\u6240\u4f9d\u8d56\u7684\u5bf9\u8c61\u66ff\u6362\u4e3a\u865a\u62df\u5bf9\u8c61\u7684\u5e93\uff0c\u5728\u6d4b\u8bd5\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3a\u865a\u62df\u5bf9\u8c61\u6307\u5b9a\u5176\u5728\u88ab\u8c03\u7528\u65f6\u7684\u8fd4\u56de\u503c\u4ee5\u53ca\u662f\u5426\u53d1\u751f\u5f02\u5e38\u7b49\u3002</p> <p>WebTest\u662f\u7528\u4e8eWeb\u5e94\u7528\u529f\u80fd\u6d4b\u8bd5\u7684\u5e93\u3002\u5b83\u4f1a\u5bf9WSGI\u5e94\u7528\u6267\u884c\u6a21\u62df\u8bf7\u6c42\u5e76\u83b7\u53d6\u7ed3\u679c\u3002\u57fa\u672c\u4e0a\u6240\u6709WSGI\u5e94\u7528\u7684\u6d4b\u8bd5\u90fd\u53ef\u4ee5\u7528\u5b83\u3002 </p> <p>tox\u80fd\u4fbf\u6377\u5730\u4e3a\u6211\u4eec\u51c6\u5907\u597d\u6267\u884c\u6d4b\u8bd5\u6240\u9700\u7684\u73af\u5883\u3002tox\u4f1a\u5728\u591a\u4e2avirtualenv\u73af\u5883\u4e2d\u642d\u5efa\u6d4b\u8bd5 \u73af\u5883\uff0c\u7136\u540e\u5728\u8fd9\u4e9b\u73af\u5883\u4e2d\u6267\u884c\u6d4b\u8bd5\u5e76\u663e\u793a\u7ed3\u679c\u3002\u5b83\u80fd\u591f\u628a\u6d4b\u8bd5\u5de5\u5177\u7684\u9009\u9879\u53ca\u73af\u5883\u53d8\u91cf\u7b49\u5185\u5bb9\u7edf \u4e00\u8d77\u6765\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u9700\u6267\u884ctox\u547d\u4ee4\u5373\u80fd\u8f7b\u677e\u5b8c\u6210\u6240\u9700\u7684\u6d4b\u8bd5\u3002 </p>"},{"location":"python/Py-100Days/Day91-100/96.%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/#seleniumrobot-framework","title":"Selenium/Robot Framework","text":"<p>Selenium\u662f\u5b9e\u73b0Web\u5e94\u7528\u7a0b\u5e8f\u7684\u529f\u80fd\u6d4b\u8bd5\u4ee5\u53ca\u96c6\u6210\u6d4b\u8bd5\u81ea\u52a8\u5316\u7684\u6d4f\u89c8\u5668\u9a71\u52a8\u6d4b\u8bd5\u5de5\u5177\u7fa4\u3002\u548c\u4f7f\u7528\u6d4f\u89c8\u5668\u7684\u7528\u6237\u76f8\u540c\uff0cSelenium\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u8fdb\u884c\u7684\u9f20\u6807\u64cd\u4f5c\u3001\u5728\u8868\u5355\u4e2d\u8f93\u5165\u6587\u5b57\u3001\u9a8c\u8bc1\u8868\u5355\u7684\u503c\u7b49\uff0c\u5229\u7528\u8fd9\u4e00\u70b9\u5c31\u53ef\u4ee5\u5c06\u624b\u52a8\u64cd\u4f5c\u53d8\u6210\u81ea\u52a8\u5316\u64cd\u4f5c\u3002</p>"},{"location":"python/Py-100Days/Day91-100/96.%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/#selenium","title":"Selenium\u4f18\u70b9","text":"<ol> <li>\u81ea\u52a8\u5316\u6d4b\u8bd5\u7528\u4f8b\u5236\u4f5c\u7b80\u5355\u3002Selenium\u63d0\u4f9b\u4e86Selenium IDE\u5de5\u5177\uff0c\u8be5\u5de5\u5177\u53ef\u4ee5\u6355\u83b7\u9f20\u6807\u3001\u952e\u76d8\u7684\u64cd\u4f5c\uff0c\u7136\u540e\u901a\u8fc7\u91cd\u653e\u529f\u80fd\u6765\u91cd\u590d\u8fd9\u4e9b\u64cd\u4f5c\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u7b80\u5355\u7684\u5236\u4f5c\u6d4b\u8bd5\u7528\u4f8b\u3002</li> <li>\u652f\u6301\u591a\u79cd\u6d4f\u89c8\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf\u3002</li> </ol>"},{"location":"python/Py-100Days/Day91-100/96.%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/#selenium_1","title":"Selenium\u7684\u7ec4\u4ef6","text":"<ol> <li>Selenium IDE\u3002</li> <li>Selenium Remote Control\u3002</li> <li>Selenium WebDriver\u3002</li> </ol>"},{"location":"python/Py-100Days/Day91-100/96.%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/#_6","title":"\u4e0e\u6301\u7eed\u96c6\u6210\u5de5\u5177\u534f\u4f5c","text":"<p>\u6301\u7eed\u96c6\u6210\u6307\u7684\u662f\u9891\u7e41\u7684\u5c06\u4ee3\u7801\u96c6\u6210\u5230\u4e3b\u5e72\u3002\u5b83\u7684\u597d\u5904\u4e3b\u8981\u6709\u4e24\u4e2a\uff1a 1. \u5feb\u901f\u53d1\u73b0\u9519\u8bef\u3002\u6bcf\u5b8c\u6210\u4e00\u70b9\u66f4\u65b0\uff0c\u5c31\u96c6\u6210\u5230\u4e3b\u5e72\uff0c\u53ef\u4ee5\u5feb\u901f\u53d1\u73b0\u9519\u8bef\uff0c\u5b9a\u4f4d\u9519\u8bef\u4e5f\u6bd4\u8f83\u5bb9\u6613\u3002</p> <ol> <li>\u9632\u6b62\u5206\u652f\u5927\u5e45\u504f\u79bb\u4e3b\u5e72\u3002\u5982\u679c\u4e0d\u662f\u7ecf\u5e38\u96c6\u6210\uff0c\u4e3b\u5e72\u53c8\u5728\u4e0d\u65ad\u66f4\u65b0\uff0c\u4f1a\u5bfc\u81f4\u4ee5\u540e\u96c6\u6210\u7684\u96be\u5ea6\u53d8\u5927\uff0c\u751a\u81f3\u96be\u4ee5\u96c6\u6210\u3002</li> </ol> <p>\u6301\u7eed\u96c6\u6210\u7684\u76ee\u7684\uff0c\u5c31\u662f\u8ba9\u4ea7\u54c1\u53ef\u4ee5\u5feb\u901f\u8fed\u4ee3\uff0c\u540c\u65f6\u8fd8\u80fd\u4fdd\u6301\u9ad8\u8d28\u91cf\u3002\u5b83\u7684\u6838\u5fc3\u63aa\u65bd\u662f\u4ee3\u7801\u96c6\u6210\u5230\u4e3b\u5e72\u4e4b\u524d\uff0c\u5fc5\u987b\u901a\u8fc7\u81ea\u52a8\u5316\u6d4b\u8bd5\uff0c\u53ea\u8981\u6709\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u5931\u8d25\uff0c\u5c31\u4e0d\u80fd\u96c6\u6210\u3002\u7f16\u7a0b\u5927\u5e08Martin Fowler\u66fe\u7ecf\u8bf4\u8fc7\uff1a\u201c\u6301\u7eed\u96c6\u6210\u5e76\u4e0d\u80fd\u6d88\u9664Bug\uff0c\u800c\u662f\u8ba9\u5b83\u4eec\u975e\u5e38\u5bb9\u6613\u53d1\u73b0\u548c\u6539\u6b63\u3002\u201d</p> <p>\u53ef\u4ee5\u5728Jenkins\u4e2d\u5b89\u88c5\u201cSeleniumhq Plugin\u201d\u63d2\u4ef6\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5c06Selenium IDE\u5236\u4f5c\u7684\u6d4b\u8bd5\u7528\u4f8b\u4fdd\u5b58\u4e3aHTML\u683c\u5f0f\u5e76\u63d0\u4f9b\u7ed9Jenkins\u6765\u4f7f\u7528\uff0c\u57fa\u672c\u6b65\u9aa4\u662f\uff1a</p> <ol> <li>\u5728\u6267\u884c\u6d4b\u8bd5\u7684\u673a\u5668\u4e0a\uff0c\u4ece\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u4e2d\u4e0b\u8f7d\u6d4b\u8bd5\u5957\u4ef6\u548c\u6d4b\u8bd5\u7528\u4f8b\u3002</li> <li>\u5728\u6267\u884c\u6d4b\u8bd5\u7684\u673a\u5668\u4e0a\u4e0b\u8f7dSelenium Server\u3002</li> <li>\u4eceJenkins\u7684\u201c\u7cfb\u7edf\u7ba1\u7406\u201d\u4e2d\u9009\u62e9\u201c\u63d2\u4ef6\u7ba1\u7406\u201d\u6765\u5b89\u88c5\u201cSeleniumhq Plugin\u201d\u3002</li> <li>\u5728Jenkins\u7684\u201c\u7cfb\u7edf\u7ba1\u7406\u201d\u4e2d\u9009\u62e9\u201c\u7cfb\u7edf\u8bbe\u7f6e\u201d\u5e76\u914d\u7f6e\u201cSelenium Remote Control\u201d\u4e0b\u7684\u201cHTMLSuite Runner\u201d\u3002</li> <li>\u65b0\u5efa\u6d4b\u8bd5\u7528\u7684Jenkins\u4efb\u52a1\u5e76\u8fdb\u884c\u914d\u7f6e\uff0c\u914d\u7f6e\u7684\u5185\u5bb9\u5305\u62ec\uff1a\u6d4f\u89c8\u5668\u3001\u8d77\u59cbURL\u3001\u6d4b\u8bd5\u5957\u4ef6\u548c\u6d4b\u8bd5\u7ed3\u679c\u8f93\u51fa\u6587\u4ef6\u3002</li> </ol> <p>\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u5c31\u53ef\u4ee5\u6267\u884cJenkins\u7684\u201c\u7acb\u5373\u6784\u5efa\u201d\u4e86\u3002</p>"},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/","title":"97.\u7535\u5546\u7f51\u7ad9\u6280\u672f\u8981\u70b9\u5256\u6790","text":""},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/#_1","title":"\u7535\u5546\u7f51\u7ad9\u6280\u672f\u8981\u70b9\u5256\u6790","text":""},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/#_2","title":"\u5546\u4e1a\u6a21\u5f0f","text":"<ol> <li>B2B - \u5546\u5bb6\u5bf9\u5546\u5bb6\uff0c\u4ea4\u6613\u53cc\u65b9\u90fd\u662f\u4f01\u4e1a\uff08\u5546\u5bb6\uff09\uff0c\u6700\u5178\u578b\u7684\u6848\u4f8b\u5c31\u662f\u963f\u91cc\u5df4\u5df4\u3002</li> <li>C2C - \u4e2a\u4eba\u5bf9\u4e2a\u4eba\uff0c\u4f8b\u5982\uff1a\u6dd8\u5b9d\u3001\u4eba\u4eba\u8f66\u3002</li> <li>B2C - \u5546\u5bb6\u5bf9\u4e2a\u4eba\uff0c\u4f8b\u5982\uff1a\u552f\u54c1\u4f1a\uff0c\u805a\u7f8e\u4f18\u54c1\u3002</li> <li>C2B - \u4e2a\u4eba\u5bf9\u5546\u5bb6\uff0c\u5148\u6709\u6d88\u8d39\u8005\u63d0\u51fa\u9700\u6c42\uff0c\u540e\u6709\u5546\u5bb6\u6309\u9700\u6c42\u7ec4\u7ec7\u751f\u4ea7\uff0c\u4f8b\u5982\uff1a \u5c1a\u54c1\u5b85\u914d\u3002</li> <li>O2O - \u7ebf\u4e0a\u5230\u7ebf\u4e0b\uff0c\u5c06\u7ebf\u4e0b\u7684\u5546\u52a1\u673a\u4f1a\u4e0e\u4e92\u8054\u7f51\u7ed3\u5408\uff0c\u8ba9\u4e92\u8054\u7f51\u6210\u4e3a\u7ebf\u4e0b\u4ea4\u6613\u7684\u5e73\u53f0\uff0c\u4f8b\u5982\uff1a\u7f8e\u56e2\u5916\u5356\u3001\u997f\u4e86\u4e48\u3002</li> <li>B2B2C - \u5546\u5bb6\u5bf9\u5546\u5bb6\u5bf9\u4e2a\u4eba\uff0c\u4f8b\u5982\uff1a\u5929\u732b\u3001\u4eac\u4e1c\u3002</li> </ol>"},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/#_3","title":"\u9700\u6c42\u8981\u70b9","text":"<ol> <li>\u7528\u6237\u7aef</li> <li> <p>\u9996\u9875\uff08\u5546\u54c1\u5206\u7c7b\u3001\u5e7f\u544a\u8f6e\u64ad\u3001\u6eda\u52a8\u5feb\u8baf\u3001\u7011\u5e03\u52a0\u8f7d\u3001\u63a8\u8350\u3001\u6298\u6263\u3001\u70ed\u9500\u3001\u2026\u2026\uff09</p> </li> <li> <p>\u7528\u6237\uff08\u767b\u5f55\uff08\u7b2c\u4e09\u65b9\u767b\u5f55\uff09\u3001\u6ce8\u518c\u3001\u6ce8\u9500\u3001\u81ea\u670d\u52a1\uff08\u4e2a\u4eba\u4fe1\u606f\u3001\u6d4f\u89c8\u5386\u53f2\u3001\u6536\u8d27\u5730\u5740\u3001\u2026\u2026\uff09\uff09</p> </li> <li> <p>\u5546\u54c1\uff08\u5206\u7c7b\u3001\u5217\u8868\u3001\u8be6\u60c5\u3001\u641c\u7d22\u3001\u70ed\u95e8\u641c\u7d22\u3001\u641c\u7d22\u5386\u53f2\u3001\u6dfb\u52a0\u5230\u8d2d\u7269\u8f66\u3001\u6536\u85cf\u3001\u5173\u6ce8\u3001\u2026\u2026\uff09</p> </li> <li>\u8d2d\u7269\u8f66\uff08\u67e5\u770b\u3001\u7f16\u8f91\uff08\u4fee\u6539\u6570\u91cf\u3001\u5220\u9664\u5546\u54c1\u3001\u6e05\u7a7a\uff09\uff09</li> <li>\u8ba2\u5355\uff08\u63d0\u4ea4\u8ba2\u5355\uff08\u652f\u4ed8\uff09\u3001\u5386\u53f2\u8ba2\u5355\u3001\u8ba2\u5355\u8be6\u60c5\u3001\u8ba2\u5355\u8bc4\u4ef7\u3001\u2026\u2026\uff09</li> <li>\u7ba1\u7406\u7aef</li> <li>\u6838\u5fc3\u4e1a\u52a1\u5b9e\u4f53\u7684CRUD</li> <li>\u5b9a\u65f6\u4efb\u52a1\uff08\u5468\u671f\u6027\u548c\u975e\u5468\u671f\u6027\uff09</li> <li>\u62a5\u8868\u529f\u80fd\uff08Excel\u3001PDF\u3001ECharts\uff09</li> <li>\u6743\u9650\u63a7\u5236\uff08RBAC\uff09</li> <li>\u4e1a\u52a1\u6d41\u8f6c\uff08Activity\u3001Airflow\u3001Spiff\u3001\u81ea\u5b9a\u4e49\uff09</li> <li>\u4e09\u65b9\u670d\u52a1\uff08\u5730\u56fe\u3001\u77ed\u4fe1\u3001\u7269\u6d41\u3001\u652f\u4ed8\u3001\u5b9e\u540d\u8ba4\u8bc1\u3001\u5929\u6c14\u3001\u76d1\u63a7\u3001\u2026\u2026\uff09</li> </ol> <p>\u63d0\u793a\uff1a\u53ef\u4ee5\u901a\u8fc7\u601d\u7ef4\u5bfc\u56fe\u6765\u8fdb\u884c\u9700\u6c42\u7684\u6574\u7406\uff0c\u601d\u7ef4\u5bfc\u56fe\u4e0a\u7684\u6bcf\u4e2a\u53f6\u5b50\u8282\u70b9\u90fd\u662f\u4e0d\u53ef\u518d\u62c6\u5206\u7684\u529f\u80fd\uff0c\u800c\u4e14\u90fd\u662f\u52a8\u8bcd\u3002</p>"},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/#_4","title":"\u7269\u7406\u6a21\u578b\u8bbe\u8ba1","text":"<p>\u4e24\u4e2a\u6982\u5ff5\uff1aSPU\uff08Standard Product Unit\uff09\u548cSKU\uff08Stock Keeping Unit\uff09\u3002</p> <ul> <li>SPU\uff1aiPhone 6s</li> <li>SKU\uff1aiPhone 6s 64G \u571f\u8c6a\u91d1</li> </ul> <p></p>"},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/#_5","title":"\u7b2c\u4e09\u65b9\u767b\u5f55","text":"<p>\u7b2c\u4e09\u65b9\u767b\u5f55\u662f\u6307\u5229\u7528\u7b2c\u4e09\u65b9\u7f51\u7ad9\uff08\u901a\u5e38\u662f\u77e5\u540d\u793e\u4ea4\u7f51\u7ad9\uff09\u7684\u8d26\u53f7\u8fdb\u884c\u767b\u5f55\u9a8c\u8bc1\uff0c\u6bd4\u5982\u56fd\u5185\u7684 QQ\u3001\u5fae\u535a\uff0c\u56fd\u5916\u7684Google\u3001Facebook\u7b49\uff0c\u7b2c\u4e09\u65b9\u767b\u5f55\u5927\u90e8\u5206\u90fd\u662f\u4f7f\u7528OAuth\uff0c\u5b83\u662f\u4e00\u4e2a\u5173\u4e8e\u6388\u6743\u7684\u5f00\u653e\u7f51\u7edc\u6807\u51c6\uff0c\u5f97\u5230\u4e86\u5e7f\u6cdb\u7684\u5e94\u7528\uff0c\u76ee\u524d\u901a\u5e38\u4f7f\u7528\u7684\u662f2.0\u7248\u672c\u3002\u5173\u4e8eOAuth\u7684\u57fa\u7840\u77e5\u8bc6\uff0c\u53ef\u4ee5\u9605\u8bfb\u962e\u4e00\u5cf0\u8001\u5e08\u7684\u300a\u7406\u89e3OAuth 2.0\u300b\u3002</p>"},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/#oauth-20","title":"OAuth 2.0\u6388\u6743\u6d41\u7a0b","text":"<ol> <li>\u7528\u6237\u6253\u5f00\u5ba2\u6237\u7aef\u4ee5\u540e\uff0c\u5ba2\u6237\u7aef\u8981\u6c42\u7528\u6237\uff08\u8d44\u6e90\u6240\u6709\u8005\uff09\u7ed9\u4e88\u6388\u6743\u3002</li> <li>\u7528\u6237\uff08\u8d44\u6e90\u6240\u6709\u8005\uff09\u540c\u610f\u7ed9\u4e88\u5ba2\u6237\u7aef\u6388\u6743\u3002</li> <li>\u5ba2\u6237\u7aef\u4f7f\u7528\u4e0a\u4e00\u6b65\u83b7\u5f97\u7684\u6388\u6743\uff0c\u5411\u8ba4\u8bc1\u670d\u52a1\u5668\u7533\u8bf7\u8bbf\u95ee\u4ee4\u724c\u3002</li> <li>\u8ba4\u8bc1\u670d\u52a1\u5668\u5bf9\u5ba2\u6237\u7aef\u8fdb\u884c\u8ba4\u8bc1\u4ee5\u540e\uff0c\u53d1\u653e\u8bbf\u95ee\u4ee4\u724c\u3002</li> <li>\u5ba2\u6237\u7aef\u4f7f\u7528\u8bbf\u95ee\u4ee4\u724c\u5411\u8d44\u6e90\u670d\u52a1\u5668\u7533\u8bf7\u83b7\u53d6\u8d44\u6e90\u3002</li> <li>\u8d44\u6e90\u670d\u52a1\u5668\u786e\u8ba4\u8bbf\u95ee\u4ee4\u724c\u65e0\u8bef\uff0c\u540c\u610f\u5411\u5ba2\u6237\u7aef\u5f00\u653e\u8d44\u6e90\u3002</li> </ol> <p>\u5982\u679c\u4f7f\u7528\u5fae\u535a\u767b\u5f55\u8fdb\u884c\u63a5\u5165\uff0c\u5176\u5177\u4f53\u6b65\u9aa4\u53ef\u4ee5\u53c2\u8003\u5fae\u535a\u5f00\u653e\u5e73\u53f0\u4e0a\u7684\u201c\u5fae\u535a\u767b\u5f55\u63a5\u5165\u201d\u6587\u6863\u3002\u4f7f\u7528QQ\u767b\u5f55\u8fdb\u884c\u63a5\u5165\uff0c\u9700\u8981\u9996\u5148\u6ce8\u518c\u6210\u4e3aQQ\u4e92\u8054\u5f00\u53d1\u8005\u5e76\u901a\u8fc7\u5ba1\u6838\uff0c\u5177\u4f53\u7684\u6b65\u9aa4\u53ef\u4ee5\u53c2\u8003QQ\u4e92\u8054\u4e0a\u7684\u201c\u63a5\u5165\u6307\u5357\u201d\uff0c\u5177\u4f53\u7684\u6b65\u9aa4\u53ef\u4ee5\u53c2\u8003\u201c\u7f51\u7ad9\u5f00\u53d1\u6d41\u7a0b\u201d\u3002</p> <p>\u63d0\u793a\uff1a\u5728Gitbook\u4e0a\u9762\u6709\u4e00\u672c\u540d\u4e3a\u300aDjango\u535a\u5ba2\u5165\u95e8\u300b\u7684\u4e66\u4ee5Github\u4e3a\u4f8b\u4ecb\u7ecd\u4e86\u7b2c\u4e09\u65b9\u8d26\u53f7\u767b\u5f55\uff0c\u6709\u5174\u8da3\u7684\u53ef\u4ee5\u81ea\u884c\u9605\u8bfb\u3002</p> <p>\u901a\u5e38\u7535\u5546\u7f51\u7ad9\u5728\u4f7f\u7528\u7b2c\u4e09\u65b9\u767b\u5f55\u65f6\uff0c\u4f1a\u8981\u6c42\u4e0e\u7f51\u7ad9\u8d26\u53f7\u8fdb\u884c\u7ed1\u5b9a\u6216\u8005\u6839\u636e\u83b7\u53d6\u5230\u7684\u7b2c\u4e09\u65b9\u8d26\u53f7\u4fe1\u606f\uff08\u5982\uff1a\u624b\u673a\u53f7\uff09\u81ea\u52a8\u5b8c\u6210\u8d26\u53f7\u7ed1\u5b9a\u3002</p>"},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/#_6","title":"\u7f13\u5b58\u9884\u70ed\u548c\u67e5\u8be2\u7f13\u5b58","text":""},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/#_7","title":"\u7f13\u5b58\u9884\u70ed","text":"<p>\u6240\u8c13\u7f13\u5b58\u9884\u70ed\uff0c\u662f\u6307\u5728\u542f\u52a8\u670d\u52a1\u5668\u65f6\u5c06\u6570\u636e\u63d0\u524d\u52a0\u8f7d\u5230\u7f13\u5b58\u4e2d\uff0c\u4e3a\u6b64\u53ef\u4ee5\u5728Django\u5e94\u7528\u7684<code>apps.py</code>\u6a21\u5757\u4e2d\u7f16\u5199<code>AppConfig</code>\u7684\u5b50\u7c7b\u5e76\u91cd\u5199<code>ready()</code>\u65b9\u6cd5\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>import pymysql\n\nfrom django.apps import AppConfig\nfrom django.core.cache import cache\n\nSELECT_PROVINCE_SQL = 'select distid, name from tb_district where pid is null'\n\n\nclass CommonConfig(AppConfig):\n    name = 'common'\n\n    def ready(self):\n        conn = pymysql.connect(host='1.2.3.4', port=3306,\n                               user='root', password='pass',\n                               database='db', charset='utf8',\n                               cursorclass=pymysql.cursors.DictCursor)\n        try:\n            with conn.cursor() as cursor:\n                cursor.execute(SELECT_PROVINCE_SQL)\n                provinces = cursor.fetchall()\n                cache.set('provinces', provinces)\n        finally:\n            conn.close()\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u8fd8\u9700\u8981\u5728\u5e94\u7528\u7684<code>__init__.py</code>\u4e2d\u7f16\u5199\u4e0b\u9762\u7684\u4ee3\u7801\u3002</p> <pre><code>default_app_config = 'common.apps.CommonConfig'\n</code></pre> <p>\u6216\u8005\u5728\u9879\u76ee\u7684<code>settings.py</code>\u6587\u4ef6\u4e2d\u6ce8\u518c\u5e94\u7528\u3002</p> <pre><code>INSTALLED_APPS = [\n    ...\n    'common.apps.CommonConfig',\n    ...\n]\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/#_8","title":"\u67e5\u8be2\u7f13\u5b58","text":"<p>\u81ea\u5b9a\u4e49\u88c5\u9970\u5668\u5b9e\u73b0\u67e5\u8be2\u7ed3\u679c\u7684\u7f13\u5b58\u3002</p> <pre><code>from pickle import dumps\nfrom pickle import loads\n\nfrom django.core.cache import caches\n\nMODEL_CACHE_KEY = 'project:modelcache:%s'\n\n\ndef my_model_cache(key, section='default', timeout=None):\n    \"\"\"\u5b9e\u73b0\u6a21\u578b\u7f13\u5b58\u7684\u88c5\u9970\u5668\"\"\"\n\n    def wrapper1(func):\n\n        def wrapper2(*args, **kwargs):\n            real_key = '%s:%s' % (MODEL_CACHE_KEY % key, ':'.join(map(str, args)))\n            serialized_data = caches[section].get(real_key)\n            if serialized_data:\n                data = loads(serialized_data)\n            else:\n                data = func(*args, **kwargs)\n                cache.set(real_key, dumps(data), timeout=timeout)\n            return data\n\n        return wrapper2\n\n    return wrapper1\n</code></pre> <pre><code>@my_model_cache(key='provinces')\ndef get_all_provinces():\n    return list(Province.objects.all())\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/#_9","title":"\u8d2d\u7269\u8f66\u5b9e\u73b0","text":"<p>\u95ee\u9898\u4e00\uff1a\u5df2\u767b\u5f55\u7528\u6237\u7684\u8d2d\u7269\u8f66\u653e\u5728\u54ea\u91cc\uff1f\u672a\u767b\u5f55\u7528\u6237\u7684\u8d2d\u7269\u8f66\u653e\u5728\u54ea\u91cc\uff1f</p> <pre><code>class CartItem(object):\n    \"\"\"\u8d2d\u7269\u8f66\u4e2d\u7684\u5546\u54c1\u9879\"\"\"\n\n    def __init__(self, sku, amount=1, selected=False):\n        self.sku = sku\n        self.amount = amount\n        self.selected = selected\n\n    @property\n    def total(self):\n        return self.sku.price * self.amount\n\n\nclass ShoppingCart(object):\n    \"\"\"\u8d2d\u7269\u8f66\"\"\"\n\n    def __init__(self):\n        self.items = {}\n        self.index = 0\n\n    def add_item(self, item):\n        if item.sku.id in self.items:\n            self.items[item.sku.id].amount += item.amount\n        else:\n            self.items[item.sku.id] = item\n\n    def remove_item(self, sku_id):\n        if sku_id in self.items:\n            self.items.remove(sku_id)\n\n    def clear_all_items(self):\n        self.items.clear()\n\n    @property\n    def cart_items(self):\n        return self.items.values()\n\n    @property\n    def cart_total(self):\n        total = 0\n        for item in self.items.values():\n            total += item.total\n        return total\n</code></pre> <p>\u5df2\u767b\u5f55\u7528\u6237\u7684\u8d2d\u7269\u8f66\u53ef\u4ee5\u653e\u5728\u6570\u636e\u5e93\u4e2d\uff08\u53ef\u4ee5\u5148\u5728Redis\u4e2d\u7f13\u5b58\uff09\uff1b\u672a\u767b\u5f55\u7528\u6237\u7684\u8d2d\u7269\u8f66\u53ef\u4ee5\u4fdd\u5b58\u5728Cookie\u3001localStorage\u6216sessionStorage\u4e2d\uff08\u51cf\u5c11\u670d\u52a1\u5668\u7aef\u5185\u5b58\u5f00\u9500\uff09\u3002</p> <pre><code>{\n    '1001': {sku: {...}, 'amount': 1, 'selected': True}, \n    '1002': {sku: {...}, 'amount': 2, 'selected': False},\n    '1003': {sku: {...}, 'amount': 3, 'selected': True},\n}\n</code></pre> <pre><code>request.get_signed_cookie('cart')\n\ncart_base64 = base64.base64encode(pickle.dumps(cart))\nresponse.set_signed_cookie('cart', cart_base64)\n</code></pre> <p>\u95ee\u9898\u4e8c\uff1a\u7528\u6237\u767b\u5f55\u4e4b\u540e\uff0c\u5982\u4f55\u5408\u5e76\u8d2d\u7269\u8f66\uff1f\uff08\u76ee\u524d\u7535\u5546\u5e94\u7528\u7684\u8d2d\u7269\u8f66\u51e0\u4e4e\u90fd\u505a\u4e86\u6301\u4e45\u5316\u5904\u7406\uff0c\u4e3b\u8981\u662f\u65b9\u4fbf\u5728\u591a\u4e2a\u7ec8\u7aef\u4e4b\u95f4\u5171\u4eab\u6570\u636e\uff09</p>"},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/#_10","title":"\u96c6\u6210\u652f\u4ed8\u529f\u80fd","text":"<p>\u95ee\u9898\u4e00\uff1a\u652f\u4ed8\u4fe1\u606f\u5982\u4f55\u6301\u4e45\u5316\uff1f\uff08\u5fc5\u987b\u4fdd\u8bc1\u6bcf\u7b14\u4ea4\u6613\u90fd\u6709\u8bb0\u5f55\uff09</p> <p>\u95ee\u9898\u4e8c\uff1a\u5982\u4f55\u63a5\u5165\u652f\u4ed8\u5b9d\uff1f\uff08\u63a5\u5165\u5176\u4ed6\u5e73\u53f0\u57fa\u672c\u7c7b\u4f3c\uff09</p> <ol> <li>\u8682\u8681\u91d1\u670d\u5f00\u653e\u5e73\u53f0\u3002</li> <li>\u5165\u9a7b\u5e73\u53f0\u3002</li> <li>\u5f00\u53d1\u8005\u4e2d\u5fc3\u3002</li> <li>\u6587\u6863\u4e2d\u5fc3\u3002</li> <li>SDK\u96c6\u6210 - PYPI\u94fe\u63a5\u3002</li> <li>API\u5217\u8868\u3002</li> </ol> <p></p> <p>\u914d\u7f6e\u6587\u4ef6\uff1a</p> <pre><code>ALIPAY_APPID = '......'\nALIPAY_URL = 'https://openapi.alipaydev.com/gateway.do'\nALIPAY_DEBUG = False\n</code></pre> <p>\u83b7\u5f97\u652f\u4ed8\u94fe\u63a5\uff08\u53d1\u8d77\u652f\u4ed8\uff09\uff1a</p> <pre><code># \u521b\u5efa\u8c03\u7528\u652f\u4ed8\u5b9d\u7684\u5bf9\u8c61\nalipay = AliPay(\n    # \u5728\u7ebf\u521b\u5efa\u5e94\u7528\u65f6\u5206\u914d\u7684ID\n    appid=settings.ALIPAY_APPID,\n    app_notify_url=None,\n    # \u81ea\u5df1\u5e94\u7528\u7684\u79c1\u94a5\n    app_private_key_path=os.path.join(\n        os.path.dirname(os.path.abspath(__file__)), \n        'keys/app_private_key.pem'),\n    # \u652f\u4ed8\u5b9d\u7684\u516c\u94a5\n    alipay_public_key_path=os.path.join(\n        os.path.dirname(os.path.abspath(__file__)), \n        'keys/alipay_public_key.pem'),\n    sign_type='RSA2',\n    debug=settings.ALIPAY_DEBUG\n)\n# \u8c03\u7528\u83b7\u53d6\u652f\u4ed8\u9875\u9762\u64cd\u4f5c\norder_info = alipay.api_alipay_trade_page_pay(\n    out_trade_no='...',\n    total_amount='...',\n    subject='...',\n    return_url='http://...'\n)\n# \u751f\u6210\u5b8c\u6574\u7684\u652f\u4ed8\u9875\u9762URL\nalipay_url = settings.ALIPAY_URL + '?' + order_info\nreturn JsonResponse({'alipay_url': alipay_url})\n</code></pre> <p>\u901a\u8fc7\u4e0a\u9762\u8fd4\u56de\u7684\u94fe\u63a5\u53ef\u4ee5\u8fdb\u5165\u652f\u4ed8\u9875\u9762\uff0c\u652f\u4ed8\u5b8c\u6210\u540e\u4f1a\u81ea\u52a8\u8df3\u8f6c\u56de\u4e0a\u9762\u4ee3\u7801\u4e2d\u8bbe\u5b9a\u597d\u7684\u9879\u76ee\u9875\u9762\uff0c\u5728\u8be5\u9875\u9762\u4e2d\u53ef\u4ee5\u83b7\u5f97\u8ba2\u5355\u53f7\uff08out_trade_no\uff09\u3001\u652f\u4ed8\u6d41\u6c34\u53f7\uff08trade_no\uff09\u3001\u4ea4\u6613\u91d1\u989d\uff08total_amount\uff09\u548c\u5bf9\u5e94\u7684\u7b7e\u540d\uff08sign\uff09\u5e76\u8bf7\u6c42\u540e\u7aef\u9a8c\u8bc1\u548c\u4fdd\u5b58\u4ea4\u6613\u7ed3\u679c\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code># \u521b\u5efa\u8c03\u7528\u652f\u4ed8\u5b9d\u7684\u5bf9\u8c61\nalipay = AliPay(\n    # \u5728\u7ebf\u521b\u5efa\u5e94\u7528\u65f6\u5206\u914d\u7684ID\n    appid=settings.ALIPAY_APPID,\n    app_notify_url=None,\n    # \u81ea\u5df1\u5e94\u7528\u7684\u79c1\u94a5\n    app_private_key_path=os.path.join(\n        os.path.dirname(os.path.abspath(__file__)), \n        'keys/app_private_key.pem'),\n    # \u652f\u4ed8\u5b9d\u7684\u516c\u94a5\n    alipay_public_key_path=os.path.join(\n        os.path.dirname(os.path.abspath(__file__)), \n        'keys/alipay_public_key.pem'),\n    sign_type='RSA2',\n    debug=settings.ALIPAY_DEBUG\n)\n# \u8bf7\u6c42\u53c2\u6570\uff08\u5047\u8bbe\u662fPOST\u8bf7\u6c42\uff09\u4e2d\u5305\u62ec\u8ba2\u5355\u53f7\u3001\u652f\u4ed8\u6d41\u6c34\u53f7\u3001\u4ea4\u6613\u91d1\u989d\u548c\u7b7e\u540d\nparams = request.POST.dict()\n# \u8c03\u7528\u9a8c\u8bc1\u64cd\u4f5c\nif alipay.verify(params, params.pop('sign')):\n    # \u5bf9\u4ea4\u6613\u8fdb\u884c\u6301\u4e45\u5316\u64cd\u4f5c\n</code></pre> <p>\u652f\u4ed8\u5b9d\u7684\u652f\u4ed8API\u8fd8\u63d0\u4f9b\u4e86\u4ea4\u6613\u67e5\u8be2\u3001\u4ea4\u6613\u7ed3\u7b97\u3001\u9000\u6b3e\u3001\u9000\u6b3e\u67e5\u8be2\u7b49\u4e00\u7cfb\u5217\u7684\u63a5\u53e3\uff0c\u53ef\u4ee5\u6839\u636e\u4e1a\u52a1\u9700\u8981\u8fdb\u884c\u8c03\u7528\uff0c\u6b64\u5904\u4e0d\u518d\u8fdb\u884c\u8d58\u8ff0\u3002</p>"},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/#_11","title":"\u79d2\u6740\u548c\u8d85\u5356","text":"<ol> <li>\u79d2\u6740\uff1a\u79d2\u6740\u662f\u901a\u5e38\u610f\u5473\u7740\u8981\u5728\u5f88\u77ed\u7684\u65f6\u95f4\u5904\u7406\u6781\u9ad8\u7684\u5e76\u53d1\uff0c\u7cfb\u7edf\u5728\u77ed\u65f6\u95f4\u9700\u8981\u627f\u53d7\u5e73\u65f6\u767e\u500d\u4ee5\u4e0a\u7684\u6d41\u91cf\uff0c\u56e0\u6b64\u79d2\u6740\u67b6\u6784\u662f\u4e00\u4e2a\u6bd4\u8f83\u590d\u6742\u7684\u95ee\u9898\uff0c\u5176\u6838\u5fc3\u601d\u8def\u662f\u6d41\u91cf\u63a7\u5236\u548c\u6027\u80fd\u4f18\u5316\uff0c\u9700\u8981\u4ece\u524d\u7aef\uff08\u901a\u8fc7JavaScript\u5b9e\u73b0\u5012\u8ba1\u65f6\u3001\u907f\u514d\u91cd\u590d\u63d0\u4ea4\u548c\u9650\u5236\u9891\u7e41\u5237\u65b0\uff09\u5230\u540e\u53f0\u5404\u4e2a\u73af\u8282\u7684\u914d\u5408\u3002\u6d41\u91cf\u63a7\u5236\u4e3b\u8981\u662f\u9650\u5236\u53ea\u6709\u5c11\u90e8\u5206\u6d41\u91cf\u8fdb\u5165\u670d\u52a1\u540e\u7aef\uff08\u6bd5\u7adf\u6700\u7ec8\u53ea\u6709\u5c11\u90e8\u5206\u7528\u6237\u80fd\u591f\u79d2\u6740\u6210\u529f\uff09\uff0c\u540c\u65f6\u5728\u7269\u7406\u67b6\u6784\u4e0a\u4f7f\u7528\u7f13\u5b58\uff08\u4e00\u65b9\u9762\u662f\u56e0\u4e3a\u8bfb\u64cd\u4f5c\u591a\u5199\u64cd\u4f5c\u5c11\uff1b\u53e6\u5916\u53ef\u4ee5\u5c06\u5e93\u5b58\u653e\u5728Redis\u4e2d\uff0c\u5229\u7528DECR\u539f\u8bed\u5b9e\u73b0\u51cf\u5e93\u5b58\uff1b\u540c\u65f6\u4e5f\u53ef\u4ee5\u5229\u7528Redis\u6765\u8fdb\u884c\u9650\u6d41\uff0c\u9053\u7406\u8ddf\u9650\u5236\u9891\u7e41\u53d1\u9001\u624b\u673a\u9a8c\u8bc1\u7801\u662f\u4e00\u6837\u7684\uff09\u548c\u6d88\u606f\u961f\u5217\uff08\u6d88\u606f\u961f\u5217\u6700\u4e3a\u91cd\u8981\u7684\u4f5c\u7528\u5c31\u662f\u201c\u524a\u5cf0\u201d\u548c\u201c\u4e0a\u4e0b\u6e38\u8282\u70b9\u89e3\u8026\u5408\u201d\uff09\u6765\u8fdb\u884c\u4f18\u5316\uff1b\u6b64\u5916\u8fd8\u8981\u91c7\u7528\u65e0\u72b6\u6001\u670d\u52a1\u8bbe\u8ba1\uff0c\u8fd9\u6837\u624d\u4fbf\u4e8e\u8fdb\u884c\u6c34\u5e73\u6269\u5c55\uff08\u901a\u8fc7\u589e\u52a0\u8bbe\u5907\u6765\u4e3a\u7cfb\u7edf\u6269\u5bb9\uff09\u3002</li> <li>\u8d85\u5356\u73b0\u8c61\uff1a\u6bd4\u5982\u67d0\u5546\u54c1\u7684\u5e93\u5b58\u4e3a1\uff0c\u6b64\u65f6\u7528\u62371\u548c\u7528\u62372\u5e76\u53d1\u8d2d\u4e70\u8be5\u5546\u54c1\uff0c\u7528\u62371\u63d0\u4ea4\u8ba2\u5355\u540e\u8be5\u5546\u54c1\u7684\u5e93\u5b58\u88ab\u4fee\u6539\u4e3a0\uff0c\u800c\u6b64\u65f6\u7528\u62372\u5e76\u4e0d\u77e5\u9053\u7684\u60c5\u51b5\u4e0b\u63d0\u4ea4\u8ba2\u5355\uff0c\u8be5\u5546\u54c1\u7684\u5e93\u5b58\u518d\u6b21\u88ab\u4fee\u6539\u4e3a-1\u8fd9\u5c31\u662f\u8d85\u5356\u73b0\u8c61\u3002\u89e3\u51b3\u8d85\u5356\u73b0\u8c61\u6709\u4e09\u79cd\u5e38\u89c1\u7684\u601d\u8def\uff1a</li> <li>\u60b2\u89c2\u9501\u63a7\u5236\uff1a\u67e5\u8be2\u5546\u54c1\u6570\u91cf\u7684\u65f6\u5019\u5c31\u7528<code>select ... for update</code>\u5bf9\u6570\u636e\u52a0\u9501\uff0c\u8fd9\u6837\u7684\u8bdd\u7528\u62371\u67e5\u8be2\u5e93\u5b58\u65f6\uff0c\u7528\u62372\u56e0\u65e0\u6cd5\u8bfb\u53d6\u5e93\u5b58\u6570\u91cf\u88ab\u963b\u585e\uff0c\u76f4\u5230\u7528\u62371\u63d0\u4ea4\u6216\u8005\u56de\u6eda\u4e86\u66f4\u65b0\u5e93\u5b58\u7684\u64cd\u4f5c\u540e\u624d\u80fd\u7ee7\u7eed\uff0c\u4ece\u800c\u89e3\u51b3\u4e86\u8d85\u5356\u95ee\u9898\u3002\u4f46\u662f\u8fd9\u79cd\u505a\u6cd5\u5bf9\u5e76\u53d1\u8bbf\u95ee\u91cf\u5f88\u9ad8\u7684\u5546\u54c1\u6765\u8bf4\u6027\u80fd\u592a\u8fc7\u7cdf\u7cd5\uff0c\u5b9e\u9645\u5f00\u53d1\u4e2d\u53ef\u4ee5\u5728\u5e93\u5b58\u5c0f\u4e8e\u67d0\u4e2a\u503c\u65f6\u624d\u8003\u8651\u52a0\u9501\uff0c\u4f46\u662f\u603b\u7684\u6765\u8bf4\u8fd9\u79cd\u505a\u6cd5\u4e0d\u592a\u53ef\u53d6\u3002</li> <li>\u4e50\u89c2\u9501\u63a7\u5236\uff1a\u67e5\u8be2\u5546\u54c1\u6570\u91cf\u4e0d\u7528\u52a0\u9501\uff0c\u66f4\u65b0\u5e93\u5b58\u7684\u65f6\u5019\u8bbe\u5b9a\u5546\u54c1\u6570\u91cf\u5fc5\u987b\u4e0e\u4e4b\u524d\u67e5\u8be2\u6570\u91cf\u76f8\u540c\u624d\u80fd\u66f4\u65b0\uff0c\u5426\u5219\u8bf4\u660e\u5176\u4ed6\u4e8b\u52a1\u5df2\u7ecf\u66f4\u65b0\u4e86\u5e93\u5b58\uff0c\u5fc5\u987b\u91cd\u65b0\u53d1\u51fa\u8bf7\u6c42\u3002\u8fd9\u79cd\u505a\u6cd5\u8981\u6c42\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u4e3a\u53ef\u91cd\u590d\u8bfb\uff0c\u5426\u5219\u4ecd\u7136\u4f1a\u4ea7\u751f\u95ee\u9898\u3002</li> <li>\u5c1d\u8bd5\u51cf\u5e93\u5b58\uff1a\u5c06\u4e0a\u9762\u7684\u67e5\u8be2\uff08<code>select</code>\uff09\u548c\u66f4\u65b0\uff08<code>update</code>\uff09\u64cd\u4f5c\u5408\u5e76\u4e3a\u4e00\u6761SQL\u64cd\u4f5c\uff0c\u66f4\u65b0\u5e93\u5b58\u7684\u65f6\u5019\uff0c\u5728<code>where</code>\u7b5b\u9009\u6761\u4ef6\u4e2d\u52a0\u4e0a<code>\u5e93\u5b58&gt;=\u8d2d\u4e70\u6570\u91cf</code>\u6216<code>\u5e93\u5b58-\u8d2d\u4e70\u6570\u91cf&gt;=0</code>\u7684\u6761\u4ef6\u3002</li> </ol> <p>\u63d0\u793a\uff1a\u6709\u5174\u8da3\u7684\u53ef\u4ee5\u81ea\u5df1\u5728\u77e5\u4e4e\u4e0a\u770b\u770b\u5173\u4e8e\u8fd9\u7c7b\u95ee\u9898\u7684\u8ba8\u8bba\u3002</p>"},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/#_12","title":"\u9759\u6001\u8d44\u6e90\u7ba1\u7406","text":"<p>\u9759\u6001\u8d44\u6e90\u7684\u7ba1\u7406\u53ef\u4ee5\u81ea\u5df1\u67b6\u8bbe\u6587\u4ef6\u670d\u52a1\u5668\u6216\u8005\u5206\u5e03\u5f0f\u6587\u4ef6\u670d\u52a1\u5668\uff08FastDFS\uff09\uff0c\u4f46\u662f\u4e00\u822c\u7684\u9879\u76ee\u4e2d\u6ca1\u6709\u5fc5\u8981\u8fd9\u6837\u505a\u800c\u4e14\u6548\u679c\u672a\u5fc5\u662f\u6700\u597d\u7684\uff0c\u6211\u4eec\u5efa\u8bae\u4f7f\u7528\u4e91\u5b58\u50a8\u670d\u52a1\u6765\u7ba1\u7406\u7f51\u7ad9\u7684\u9759\u6001\u8d44\u6e90\uff0c\u56fd\u5185\u5916\u7684\u4e91\u670d\u52a1\u63d0\u4f9b\u5546\u5982\u4e9a\u9a6c\u900a\u3001\u963f\u91cc\u4e91\u3001\u817e\u8baf\u4e91\u3001\u4e03\u725b\u3001LeanCloud\u3001Bmob\u7b49\u90fd\u63d0\u4f9b\u4e86\u975e\u5e38\u4f18\u8d28\u7684\u4e91\u5b58\u50a8\u670d\u52a1\uff0c\u800c\u4e14\u4ef7\u683c\u4e5f\u662f\u4e00\u822c\u516c\u53f8\u53ef\u4ee5\u63a5\u53d7\u7684\u3002\u53ef\u4ee5\u53c2\u8003\u300a\u5728\u963f\u91cc\u4e91OSS\u4e0a\u6258\u7ba1\u9759\u6001\u7f51\u7ad9\u300b\u4e00\u6587\u6765\u5b8c\u6210\u5bf9\u7f51\u7ad9\u9759\u6001\u8d44\u6e90\u7684\u7ba1\u7406\uff0c\u4ee3\u7801\u76f8\u5173\u7684\u5185\u5bb9\u53ef\u4ee5\u53c2\u8003\u963f\u91cc\u4e91\u7684\u5bf9\u8c61\u5b58\u50a8 OSS\u5f00\u53d1\u4eba\u5458\u6307\u5357\u3002</p>"},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/#_13","title":"\u5168\u6587\u68c0\u7d22","text":""},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/#_14","title":"\u65b9\u6848\u9009\u62e9","text":"<ol> <li>\u4f7f\u7528\u6570\u636e\u5e93\u7684\u6a21\u7cca\u67e5\u8be2\u529f\u80fd - \u6548\u7387\u4f4e\uff0c\u6bcf\u6b21\u9700\u8981\u5168\u8868\u626b\u63cf\uff0c\u4e0d\u652f\u6301\u5206\u8bcd\u3002</li> <li>\u4f7f\u7528\u6570\u636e\u5e93\u7684\u5168\u6587\u68c0\u7d22\u529f\u80fd - MySQL 5.6\u4ee5\u524d\u53ea\u9002\u7528\u4e8eMyISAM\u5f15\u64ce\uff0c\u68c0\u7d22\u64cd\u4f5c\u548c\u5176\u4ed6\u7684DML\u64cd\u4f5c\u8026\u5408\u5728\u6570\u636e\u5e93\u4e2d\uff0c\u53ef\u80fd\u5bfc\u81f4\u68c0\u7d22\u64cd\u4f5c\u975e\u5e38\u7f13\u6162\uff0c\u6570\u636e\u91cf\u8fbe\u5230\u767e\u4e07\u7ea7\u6027\u80fd\u663e\u8457\u4e0b\u964d\uff0c\u67e5\u8be2\u65f6\u95f4\u5f88\u957f\u3002</li> <li>\u4f7f\u7528\u5f00\u6e90\u641c\u7d22\u5f15\u64ce - \u7d22\u5f15\u6570\u636e\u548c\u539f\u59cb\u6570\u636e\u5206\u79bb\uff0c\u53ef\u4ee5\u4f7f\u7528ElasticSearch\u6216Solr\u6765\u63d0\u4f9b\u5916\u7f6e\u7d22\u5f15\u670d\u52a1\uff0c\u5982\u679c\u4e0d\u8003\u8651\u9ad8\u5e76\u53d1\u7684\u5168\u6587\u68c0\u7d22\u9700\u6c42\uff0c\u7eafPython\u7684Whoosh\u4e5f\u53ef\u4ee5\u8003\u8651\u3002</li> </ol>"},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/#elasticsearch","title":"ElasticSearch","text":"<p>ElasticSearch\u65e2\u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u6587\u6863\u6570\u636e\u5e93\u53c8\u662f\u4e00\u4e2a\u9ad8\u53ef\u6269\u5c55\u7684\u5f00\u6e90\u5168\u6587\u641c\u7d22\u548c\u5206\u6790\u5f15\u64ce\uff0c\u5b83\u5141\u8bb8\u5b58\u50a8\u3001\u641c\u7d22\u548c\u5206\u6790\u5927\u91cf\u7684\u6570\u636e\uff0c\u5e76\u4e14\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u8fd1\u5b9e\u65f6\u7684\u3002\u5b83\u901a\u5e38\u88ab\u7528\u4f5c\u5e95\u5c42\u5f15\u64ce\u548c\u6280\u672f\uff0c\u4e3a\u590d\u6742\u7684\u641c\u7d22\u529f\u80fd\u548c\u8981\u6c42\u63d0\u4f9b\u52a8\u529b\uff0c\u5927\u5bb6\u719f\u77e5\u7684\u7ef4\u57fa\u767e\u79d1\u3001Stack-Overflow\u3001Github\u90fd\u4f7f\u7528\u4e86ElasticSearch\u3002</p> <p>ElasticSearch\u7684\u5e95\u5c42\u662f\u5f00\u6e90\u641c\u7d22\u5f15\u64ceLucene\uff0c\u4f46\u662f\u76f4\u63a5\u7528Lucene\u4f1a\u975e\u5e38\u9ebb\u70e6\uff0c\u5fc5\u987b\u81ea\u5df1\u7f16\u5199\u4ee3\u7801\u53bb\u8c03\u7528\u5b83\u7684\u63a5\u53e3\u800c\u4e14\u53ea\u652f\u6301Java\u8bed\u8a00\u3002ElasticSearch\u76f8\u5f53\u4e8e\u5bf9Lucene\u8fdb\u884c\u4e86\u4e00\u6b21\u5168\u9762\u7684\u5c01\u88c5\uff0c\u63d0\u4f9b\u4e86REST\u98ce\u683c\u7684API\u63a5\u53e3\uff0c\u901a\u8fc7\u57fa\u4e8eHTTP\u534f\u8bae\u7684\u8bbf\u95ee\u65b9\u5f0f\u5c4f\u853d\u4e86\u7f16\u7a0b\u8bed\u8a00\u7684\u5dee\u5f02\u3002ElasticSearch\u4f1a\u4e3a\u6570\u636e\u6784\u5efa\u5012\u6392\u7d22\u5f15\uff0c\u4f46\u662fElasticSearch\u5185\u7f6e\u7684\u5206\u8bcd\u5668\u5bf9\u4e2d\u6587\u5206\u8bcd\u7684\u652f\u6301\u51e0\u4e4e\u4e3a\u96f6\uff0c\u56e0\u6b64\u9700\u8981\u901a\u8fc7\u5b89\u88c5elasticsearch-analysis-ik\u63d2\u4ef6\u6765\u63d0\u4f9b\u4e2d\u6587\u5206\u8bcd\u670d\u52a1\u3002</p> <p>ElasticSearch\u7684\u5b89\u88c5\u548c\u914d\u7f6e\u53ef\u4ee5\u53c2\u8003\u300aElasticSearch\u4e4bDocker\u5b89\u88c5\u300b\u3002\u9664\u4e86ElasticSearch\u4e4b\u5916\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528Solr\u3001Whoosh\u7b49\u6765\u63d0\u4f9b\u641c\u7d22\u5f15\u64ce\u670d\u52a1\uff0c\u57fa\u672c\u4e0aDjango\u9879\u76ee\u4e2d\u53ef\u4ee5\u8003\u8651\u5982\u4e0b\u4e24\u5957\u65b9\u6848\uff1a</p> <ul> <li>haystack\uff08django-haystack / drf-haystack\uff09 + whoosh + Jieba</li> <li>haystack \uff08django-haystack / drf-haystack\uff09+ elasticsearch</li> </ul>"},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/#elasticsearch_1","title":"\u5b89\u88c5\u548c\u4f7f\u7528ElasticSearch","text":"<ol> <li>\u4f7f\u7528Docker\u5b89\u88c5ElasticSearch\u3002</li> </ol> <pre><code>docker pull elasticsearch:6.5.3\ndocker run -d -p 9200:9200 -p 9300:9300 -e \"discovery.type=single-node\" -e ES_JAVA_OPTS=\"-Xms512m -Xmx512m\" --name es elasticsearch:6.5.3\n</code></pre> <p>\u8bf4\u660e\uff1a\u4e0a\u9762\u521b\u5efa\u5bb9\u5668\u65f6\u901a\u8fc7<code>-e</code>\u53c2\u6570\u6307\u5b9a\u4e86\u4f7f\u7528\u5355\u673a\u6a21\u5f0f\u548cJava\u865a\u62df\u673a\u6700\u5c0f\u6700\u5927\u53ef\u7528\u5806\u7a7a\u95f4\u7684\u5927\u5c0f\uff0c\u5806\u7a7a\u95f4\u5927\u5c0f\u53ef\u4ee5\u6839\u636e\u670d\u52a1\u5668\u5b9e\u9645\u80fd\u591f\u63d0\u4f9b\u7ed9ElasticSearch\u7684\u5185\u5b58\u5927\u5c0f\u6765\u51b3\u5b9a\uff0c\u9ed8\u8ba4\u4e3a2G\u3002</p> <ol> <li>\u521b\u5efa\u6570\u636e\u5e93\u3002</li> </ol> <p>\u8bf7\u6c42\uff1aPUT - <code>http://1.2.3.4:9200/demo</code></p> <p>\u54cd\u5e94\uff1a</p> <pre><code>```JSON\n</code></pre> <p>{        \"acknowledged\": true,        \"shards_acknowledged\": true,        \"index\": \"demo\"    }     ```</p> <ol> <li>\u67e5\u770b\u521b\u5efa\u7684\u6570\u636e\u5e93\u3002</li> </ol> <p>\u8bf7\u6c42\uff1aGET - <code>http://1.2.3.4:9200/demo</code></p> <p>\u54cd\u5e94\uff1a</p> <pre><code>{\n    \"demo\": {\n        \"aliases\": {},\n        \"mappings\": {},\n        \"settings\": {\n            \"index\": {\n                \"creation_date\": \"1552213970199\",\n                \"number_of_shards\": \"5\",\n                \"number_of_replicas\": \"1\",\n                \"uuid\": \"ny3rCn10SAmCsqW6xPP1gw\",\n                \"version\": {\n                    \"created\": \"6050399\"\n                },\n                \"provided_name\": \"demo\"\n            }\n        }\n    }\n}\n</code></pre> <ol> <li>\u63d2\u5165\u6570\u636e\u3002</li> </ol> <p>\u8bf7\u6c42\uff1aPOST - <code>http://1.2.3.4:9200/demo/goods/1/</code></p> <p>\u8bf7\u6c42\u5934\uff1aContent-Type: application/json</p> <p>\u53c2\u6570\uff1a</p> <pre><code>{\n    \"no\": \"5089253\",\n    \"title\": \"Apple iPhone X (A1865) 64GB \u6df1\u7a7a\u7070\u8272 \u79fb\u52a8\u8054\u901a\u7535\u4fe14G\u624b\u673a\",\n    \"brand\": \"Apple\",\n    \"name\": \"Apple iPhone X\",\n    \"product\": \"\u4e2d\u56fd\u5927\u9646\",\n    \"resolution\": \"2436 x 1125\",\n    \"intro\": \"\u4e00\u76f4\u4ee5\u6765\uff0cApple\u90fd\u5fc3\u5b58\u4e00\u4e2a\u8bbe\u60f3\uff0c\u671f\u5f85\u80fd\u591f\u6253\u9020\u51fa\u8fd9\u6837\u4e00\u90e8iPhone\uff1a\u5b83\u6709\u6574\u9762\u5c4f\u5e55\uff0c\u80fd\u8ba9\u4f60\u5728\u4f7f\u7528\u65f6\uff0c\u5b8c\u5168\u6c89\u6d78\u5176\u4e2d\uff0c\u4eff\u4f5b\u5fd8\u4e86\u5b83\u7684\u5b58\u5728\u3002\u5b83\u662f\u5982\u6b64\u667a\u80fd\uff0c\u54ea\u6015\u8f7b\u8f7b\u4e00\u77a5\uff0c\u90fd\u80fd\u5f97\u5230\u5b83\u5fc3\u6709\u7075\u7280\u7684\u56de\u5e94\u3002\u800c\u8fd9\u4e2a\u8bbe\u60f3\uff0c\u7ec8\u4e8e\u968f\u7740iPhone X\u7684\u5230\u6765\u6210\u4e3a\u4e86\u73b0\u5b9e\u3002\u73b0\u5728\uff0c\u5c31\u8ddf\u672a\u6765\u89c1\u4e2a\u9762\u5427\u3002\"\n}\n</code></pre> <p>\u54cd\u5e94\uff1a</p> <pre><code>{\n    \"_index\": \"demo\",\n    \"_type\": \"goods\",\n    \"_id\": \"1\",\n    \"_version\": 4,\n    \"result\": \"created\",\n    \"_shards\": {\n        \"total\": 2,\n        \"successful\": 1,\n        \"failed\": 0\n    },\n    \"_seq_no\": 3,\n    \"_primary_term\": 1\n}\n</code></pre> <ol> <li>\u5220\u9664\u6570\u636e\u3002</li> </ol> <p>\u8bf7\u6c42\uff1aDELETE -  <code>http://1.2.3.4:9200/demo/goods/1/</code></p> <p>\u54cd\u5e94\uff1a</p> <pre><code>{\n    \"_index\": \"demo\",\n    \"_type\": \"goods\",\n    \"_id\": \"1\",\n    \"_version\": 2,\n    \"result\": \"deleted\",\n    \"_shards\": {\n        \"total\": 2,\n        \"successful\": 1,\n        \"failed\": 0\n    },\n    \"_seq_no\": 1,\n    \"_primary_term\": 1\n}\n</code></pre> <ol> <li>\u66f4\u65b0\u6570\u636e\u3002</li> </ol> <p>\u8bf7\u6c42\uff1aPUT - <code>http://1.2.3.4:9200/demo/goods/1/_update</code></p> <p>\u8bf7\u6c42\u5934\uff1aContent-Type: application/json</p> <p>\u53c2\u6570\uff1a</p> <pre><code>{\n \"doc\": {\n     \"no\": \"5089253\",\n     \"title\": \"Apple iPhone X (A1865) 64GB \u6df1\u7a7a\u7070\u8272 \u79fb\u52a8\u8054\u901a\u7535\u4fe14G\u624b\u673a\",\n     \"brand\": \"Apple(\u82f9\u679c)\",\n     \"name\": \"Apple iPhone X\",\n     \"product\": \"\u7f8e\u56fd\",\n     \"resolution\": \"2436 x 1125\",\n     \"intro\": \"\u4e00\u76f4\u4ee5\u6765\uff0cApple\u90fd\u5fc3\u5b58\u4e00\u4e2a\u8bbe\u60f3\uff0c\u671f\u5f85\u80fd\u591f\u6253\u9020\u51fa\u8fd9\u6837\u4e00\u90e8iPhone\uff1a\u5b83\u6709\u6574\u9762\u5c4f\u5e55\uff0c\u80fd\u8ba9\u4f60\u5728\u4f7f\u7528\u65f6\uff0c\u5b8c\u5168\u6c89\u6d78\u5176\u4e2d\uff0c\u4eff\u4f5b\u5fd8\u4e86\u5b83\u7684\u5b58\u5728\u3002\u5b83\u662f\u5982\u6b64\u667a\u80fd\uff0c\u54ea\u6015\u8f7b\u8f7b\u4e00\u77a5\uff0c\u90fd\u80fd\u5f97\u5230\u5b83\u5fc3\u6709\u7075\u7280\u7684\u56de\u5e94\u3002\u800c\u8fd9\u4e2a\u8bbe\u60f3\uff0c\u7ec8\u4e8e\u968f\u7740iPhone X\u7684\u5230\u6765\u6210\u4e3a\u4e86\u73b0\u5b9e\u3002\u73b0\u5728\uff0c\u5c31\u8ddf\u672a\u6765\u89c1\u4e2a\u9762\u5427\u3002\"\n    }\n}\n</code></pre> <p>\u54cd\u5e94\uff1a</p> <pre><code>{\n    \"_index\": \"demo\",\n    \"_type\": \"goods\",\n    \"_id\": \"1\",\n    \"_version\": 10,\n    \"result\": \"updated\",\n    \"_shards\": {\n        \"total\": 2,\n        \"successful\": 1,\n        \"failed\": 0\n    },\n    \"_seq_no\": 9,\n    \"_primary_term\": 1\n}\n</code></pre> <ol> <li>\u67e5\u8be2\u6570\u636e\u3002</li> </ol> <p>\u8bf7\u6c42\uff1aGET - <code>http://1.2.3.4:9200/demo/goods/1/</code></p> <p>\u54cd\u5e94\uff1a</p> <pre><code>{\n    \"_index\": \"demo\",\n    \"_type\": \"goods\",\n    \"_id\": \"1\",\n    \"_version\": 10,\n    \"found\": true,\n    \"_source\": {\n        \"doc\": {\n            \"no\": \"5089253\",\n            \"title\": \"Apple iPhone X (A1865) 64GB \u6df1\u7a7a\u7070\u8272 \u79fb\u52a8\u8054\u901a\u7535\u4fe14G\u624b\u673a\",\n            \"brand\": \"Apple(\u82f9\u679c)\",\n            \"name\": \"Apple iPhone X\",\n            \"product\": \"\u7f8e\u56fd\",\n            \"resolution\": \"2436 x 1125\",\n            \"intro\": \"\u4e00\u76f4\u4ee5\u6765\uff0cApple\u90fd\u5fc3\u5b58\u4e00\u4e2a\u8bbe\u60f3\uff0c\u671f\u5f85\u80fd\u591f\u6253\u9020\u51fa\u8fd9\u6837\u4e00\u90e8iPhone\uff1a\u5b83\u6709\u6574\u9762\u5c4f\u5e55\uff0c\u80fd\u8ba9\u4f60\u5728\u4f7f\u7528\u65f6\uff0c\u5b8c\u5168\u6c89\u6d78\u5176\u4e2d\uff0c\u4eff\u4f5b\u5fd8\u4e86\u5b83\u7684\u5b58\u5728\u3002\u5b83\u662f\u5982\u6b64\u667a\u80fd\uff0c\u54ea\u6015\u8f7b\u8f7b\u4e00\u77a5\uff0c\u90fd\u80fd\u5f97\u5230\u5b83\u5fc3\u6709\u7075\u7280\u7684\u56de\u5e94\u3002\u800c\u8fd9\u4e2a\u8bbe\u60f3\uff0c\u7ec8\u4e8e\u968f\u7740iPhone X\u7684\u5230\u6765\u6210\u4e3a\u4e86\u73b0\u5b9e\u3002\u73b0\u5728\uff0c\u5c31\u8ddf\u672a\u6765\u89c1\u4e2a\u9762\u5427\u3002\"\n        }\n    }\n}\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/#_15","title":"\u914d\u7f6e\u4e2d\u6587\u5206\u8bcd\u548c\u62fc\u97f3\u63d2\u4ef6","text":"<ol> <li>\u8fdb\u5165Docker\u5bb9\u5668\u7684plugins\u76ee\u5f55\u3002</li> </ol> <pre><code>docker exec -it es /bin/bash\n</code></pre> <ol> <li>\u4e0b\u8f7d\u548cElasticSearch\u7248\u672c\u5bf9\u5e94\u7684ik\u548cpinyin\u63d2\u4ef6\u3002</li> </ol> <pre><code>cd plugins/\nmkdir ik\ncd ik\nwget https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v6.5.3/elasticsearch-analysis-ik-6.5.3.zip\nunzip elasticsearch-analysis-ik-6.5.3.zip\nrm -f elasticsearch-analysis-ik-6.5.3.zip\ncd ..\nmkdir pinyin\ncd pinyin\nwget https://github.com/medcl/elasticsearch-analysis-pinyin/releases/download/v6.5.3/elasticsearch-analysis-pinyin-6.5.3.zip\nunzip elasticsearch-analysis-pinyin-6.5.3.zip\nrm -f elasticsearch-analysis-pinyin-6.5.3.zip\n</code></pre> <ol> <li>\u9000\u51fa\u5bb9\u5668\uff0c\u91cd\u542fElasticSearch\u3002</li> </ol> <pre><code>docker restart es\n</code></pre> <ol> <li>\u6d4b\u8bd5\u4e2d\u6587\u5206\u8bcd\u6548\u679c\u3002</li> </ol> <p>\u8bf7\u6c42\uff1aPOST - <code>http://1.2.3.4:9200/_analyze</code></p> <p>\u8bf7\u6c42\u5934\uff1aContent-Type: application/json</p> <p>\u53c2\u6570\uff1a</p> <pre><code>{\n  \"analyzer\": \"ik_smart\",\n  \"text\": \"\u4e2d\u56fd\u7537\u8db3\u57282022\u5e74\u5361\u5854\u5c14\u4e16\u754c\u676f\u9884\u9009\u8d5b\u4e2d\u52c7\u593a\u5c0f\u7ec4\u6700\u540e\u4e00\u540d\"\n}\n</code></pre> <p>\u54cd\u5e94\uff1a</p> <pre><code>{\n    \"tokens\": [\n        {\n            \"token\": \"\u4e2d\u56fd\",\n            \"start_offset\": 0,\n            \"end_offset\": 2,\n            \"type\": \"CN_WORD\",\n            \"position\": 0\n        },\n        {\n            \"token\": \"\u7537\u8db3\",\n            \"start_offset\": 2,\n            \"end_offset\": 4,\n            \"type\": \"CN_WORD\",\n            \"position\": 1\n        },\n        {\n            \"token\": \"\u5728\",\n            \"start_offset\": 4,\n            \"end_offset\": 5,\n            \"type\": \"CN_CHAR\",\n            \"position\": 2\n        },\n        {\n            \"token\": \"2022\u5e74\",\n            \"start_offset\": 5,\n            \"end_offset\": 10,\n            \"type\": \"TYPE_CQUAN\",\n            \"position\": 3\n        },\n        {\n            \"token\": \"\u5361\u5854\u5c14\",\n            \"start_offset\": 10,\n            \"end_offset\": 13,\n            \"type\": \"CN_WORD\",\n            \"position\": 4\n        },\n        {\n            \"token\": \"\u4e16\u754c\u676f\",\n            \"start_offset\": 13,\n            \"end_offset\": 16,\n            \"type\": \"CN_WORD\",\n            \"position\": 5\n        },\n        {\n            \"token\": \"\u9884\u9009\u8d5b\",\n            \"start_offset\": 16,\n            \"end_offset\": 19,\n            \"type\": \"CN_WORD\",\n            \"position\": 6\n        },\n        {\n            \"token\": \"\u4e2d\",\n            \"start_offset\": 19,\n            \"end_offset\": 20,\n            \"type\": \"CN_CHAR\",\n            \"position\": 7\n        },\n        {\n            \"token\": \"\u52c7\u593a\",\n            \"start_offset\": 20,\n            \"end_offset\": 22,\n            \"type\": \"CN_WORD\",\n            \"position\": 8\n        },\n        {\n            \"token\": \"\u5c0f\u7ec4\",\n            \"start_offset\": 22,\n            \"end_offset\": 24,\n            \"type\": \"CN_WORD\",\n            \"position\": 9\n        },\n        {\n            \"token\": \"\u6700\u540e\",\n            \"start_offset\": 24,\n            \"end_offset\": 26,\n            \"type\": \"CN_WORD\",\n            \"position\": 10\n        },\n        {\n            \"token\": \"\u4e00\u540d\",\n            \"start_offset\": 26,\n            \"end_offset\": 28,\n            \"type\": \"CN_WORD\",\n            \"position\": 11\n        }\n    ]\n}\n</code></pre> <ol> <li>\u6d4b\u8bd5\u62fc\u97f3\u5206\u8bcd\u6548\u679c\u3002</li> </ol> <p>\u8bf7\u6c42\uff1aPOST - <code>http://1.2.3.4:9200/_analyze</code></p> <p>\u8bf7\u6c42\u5934\uff1aContent-Type: application/json</p> <p>\u53c2\u6570\uff1a</p> <pre><code>\n</code></pre> <p>\u54cd\u5e94\uff1a</p> <pre><code>{\n    \"tokens\": [\n        {\n            \"token\": \"zhang\",\n            \"start_offset\": 0,\n            \"end_offset\": 0,\n            \"type\": \"word\",\n            \"position\": 0\n        },\n        {\n            \"token\": \"zxy\",\n            \"start_offset\": 0,\n            \"end_offset\": 0,\n            \"type\": \"word\",\n            \"position\": 0\n        },\n        {\n            \"token\": \"xue\",\n            \"start_offset\": 0,\n            \"end_offset\": 0,\n            \"type\": \"word\",\n            \"position\": 1\n        },\n        {\n            \"token\": \"you\",\n            \"start_offset\": 0,\n            \"end_offset\": 0,\n            \"type\": \"word\",\n            \"position\": 2\n        }\n    ]\n}\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/#_16","title":"\u5168\u6587\u68c0\u7d22\u529f\u80fd","text":"<p>\u53ef\u4ee5\u901a\u8fc7GET\u6216\u8005POST\u8bf7\u6c42\u8fdb\u884c\u641c\u7d22\uff0c\u4e0b\u9762\u6f14\u793a\u4e86\u641c\u7d22\u6709\u201c\u672a\u6765\u201d\u5173\u952e\u8bcd\u5546\u54c1\u3002</p> <ol> <li>GET - <code>http://120.77.222.217:9200/demo/goods/_search?q=\u672a\u6765</code></li> </ol> <p>\u6ce8\u610f\uff1aURL\u4e2d\u7684\u4e2d\u6587\u5e94\u8be5\u8981\u5904\u7406\u6210\u767e\u5206\u53f7\u7f16\u7801\u3002</p> <pre><code>{\n    \"took\": 19,\n    \"timed_out\": false,\n    \"_shards\": {\n        \"total\": 5,\n        \"successful\": 5,\n        \"skipped\": 0,\n        \"failed\": 0\n    },\n    \"hits\": {\n        \"total\": 2,\n        \"max_score\": 0.73975396,\n        \"hits\": [\n            {\n                \"_index\": \"demo\",\n                \"_type\": \"goods\",\n                \"_id\": \"1\",\n                \"_score\": 0.73975396,\n                \"_source\": {\n                    \"doc\": {\n                        \"no\": \"5089253\",\n                        \"title\": \"Apple iPhone X (A1865) 64GB \u6df1\u7a7a\u7070\u8272 \u79fb\u52a8\u8054\u901a\u7535\u4fe14G\u624b\u673a\",\n                        \"brand\": \"Apple(\u82f9\u679c)\",\n                        \"name\": \"Apple iPhone X\",\n                        \"product\": \"\u7f8e\u56fd\",\n                        \"resolution\": \"2436*1125\",\n                        \"intro\": \"\u4e00\u76f4\u4ee5\u6765\uff0cApple\u90fd\u5fc3\u5b58\u4e00\u4e2a\u8bbe\u60f3\uff0c\u671f\u5f85\u80fd\u591f\u6253\u9020\u51fa\u8fd9\u6837\u4e00\u90e8iPhone\uff1a\u5b83\u6709\u6574\u9762\u5c4f\u5e55\uff0c\u80fd\u8ba9\u4f60\u5728\u4f7f\u7528\u65f6\uff0c\u5b8c\u5168\u6c89\u6d78\u5176\u4e2d\uff0c\u4eff\u4f5b\u5fd8\u4e86\u5b83\u7684\u5b58\u5728\u3002\u5b83\u662f\u5982\u6b64\u667a\u80fd\uff0c\u54ea\u6015\u8f7b\u8f7b\u4e00\u77a5\uff0c\u90fd\u80fd\u5f97\u5230\u5b83\u5fc3\u6709\u7075\u7280\u7684\u56de\u5e94\u3002\u800c\u8fd9\u4e2a\u8bbe\u60f3\uff0c\u7ec8\u4e8e\u968f\u7740iPhone X\u7684\u5230\u6765\u6210\u4e3a\u4e86\u73b0\u5b9e\u3002\u73b0\u5728\uff0c\u5c31\u8ddf\u672a\u6765\u89c1\u4e2a\u9762\u5427\u3002\"\n                    }\n                }\n            },\n            {\n                \"_index\": \"demo\",\n                \"_type\": \"goods\",\n                \"_id\": \"3\",\n                \"_score\": 0.68324494,\n                \"_source\": {\n                    \"no\": \"42417956432\",\n                    \"title\": \"\u5c0f\u7c739 \u900f\u660e\u5c0a\u4eab\u7248 \u624b\u673a \u900f\u660e\u5c0a\u4eab \u5168\u7f51\u901a(12GB + 256GB)\",\n                    \"brand\": \"\u5c0f\u7c73\uff08MI\uff09\",\n                    \"name\": \"\u5c0f\u7c73\uff08MI\uff09\u5c0f\u7c739\u900f\u660e\",\n                    \"product\": \"\u4e2d\u56fd\u5927\u9646\",\n                    \"resolution\": \"2340*1080\",\n                    \"intro\": \"\u5168\u9762\u900f\u660e\u673a\u8eab\uff0c\u72ec\u7279\u79d1\u5e7b\u673a\u7532\u98ce\uff0c\u6765\u81ea\u672a\u6765\u7684\u8bbe\u8ba1\u3002\"\n                }\n            }\n        ]\n    }\n}\n</code></pre> <p>URL\u4e2d\u53ef\u7528\u7684\u641c\u7d22\u53c2\u6570\u5982\u4e0b\u8868\u6240\u793a\uff1a</p> \u53c2\u6570 \u8bf4\u660e q \u67e5\u8be2\u5b57\u7b26\u4e32 analyzer \u5206\u6790\u67e5\u8be2\u5b57\u7b26\u4e32\u4f7f\u7528\u7684\u5206\u8bcd\u5668 analyze_wildcard \u901a\u914d\u7b26\u6216\u8005\u524d\u7f00\u67e5\u8be2\u662f\u5426\u88ab\u5206\u6790\uff0c\u9ed8\u8ba4\u4e3afalse default_operator \u591a\u4e2a\u6761\u4ef6\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u9ed8\u8ba4\u4e3aOR\uff0c\u53ef\u4ee5\u4fee\u6539\u4e3aAND explain \u5728\u8fd4\u56de\u7684\u7ed3\u679c\u4e2d\u5305\u542b\u8bc4\u5206\u673a\u5236\u7684\u89e3\u91ca fields \u53ea\u8fd4\u56de\u7d22\u5f15\u4e2d\u6307\u5b9a\u7684\u5217\uff0c\u591a\u4e2a\u5217\u4e2d\u95f4\u7528\u9017\u53f7\u9694\u5f00 sort \u6392\u5e8f\u53c2\u8003\u7684\u5b57\u6bb5\uff0c\u53ef\u4ee5\u7528:asc\u548c:desc\u6765\u6307\u5b9a\u5347\u5e8f\u548c\u964d\u5e8f timeout \u8d85\u65f6\u65f6\u95f4 from \u5339\u914d\u7ed3\u679c\u7684\u5f00\u59cb\u503c\uff0c\u9ed8\u8ba4\u4e3a0 size \u5339\u914d\u7ed3\u679c\u7684\u6761\u6570\uff0c\u9ed8\u8ba4\u4e3a10 <ol> <li>POST - <code>http://120.77.222.217:9200/demo/goods/_search</code></li> </ol> <p>\u8bf7\u6c42\u5934\uff1aContent-Type: application/json</p> <p>\u53c2\u6570\uff1a</p> <pre><code>\n</code></pre> <p>\u54cd\u5e94\uff1a</p> <pre><code>\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/97.%E7%94%B5%E5%95%86%E7%BD%91%E7%AB%99%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E5%89%96%E6%9E%90/#djangoelasticsearch","title":"Django\u5bf9\u63a5ElasticSearch","text":"<p>Python\u5bf9\u63a5ElasticSearch\u7684\u7b2c\u4e09\u65b9\u5e93\u662fHayStack\uff0c\u5728Django\u9879\u76ee\u4e2d\u53ef\u4ee5\u4f7f\u7528django-haystack\uff0c\u901a\u8fc7HayStack\u53ef\u4ee5\u5728\u4e0d\u4fee\u6539\u4ee3\u7801\u5bf9\u63a5\u591a\u79cd\u641c\u7d22\u5f15\u64ce\u670d\u52a1\u3002</p> <pre><code>pip install django-haystack elasticsearch\n</code></pre> <p>\u914d\u7f6e\u6587\u4ef6\uff1a</p> <pre><code>INSTALLED_APPS = [\n    ...\n    'haystack',\n    ...\n]\n\nHAYSTACK_CONNECTIONS = {\n    'default': {\n        # \u5f15\u64ce\u914d\u7f6e\n        'ENGINE': 'haystack.backends.elasticsearch_backend.ElasticsearchSearchEngine',\n        # \u641c\u7d22\u5f15\u64ce\u670d\u52a1\u7684URL\n        'URL': 'http://1.2.3.4:9200',\n        # \u7d22\u5f15\u5e93\u7684\u540d\u79f0\n        'INDEX_NAME': 'goods',\n    },\n}\n\n# \u6dfb\u52a0/\u5220\u9664/\u66f4\u65b0\u6570\u636e\u65f6\u81ea\u52a8\u751f\u6210\u7d22\u5f15\nHAYSTACK_SIGNAL_PROCESSOR = 'haystack.signals.RealtimeSignalProcessor'\n</code></pre> <p>\u7d22\u5f15\u7c7b\uff1a</p> <pre><code>from haystack import indexes\n\n\nclass GoodsIndex(indexes.SearchIndex, indexes.Indexable):\n    text = indexes.CharField(document=True, use_template=True)\n\n    def get_model(self):\n        return Goods\n\n    def index_queryset(self, using=None):\n        return self.get_model().objects.all()\n</code></pre> <p>\u7f16\u8f91text\u5b57\u6bb5\u7684\u6a21\u677f\uff08\u9700\u8981\u653e\u5728templates/search/indexes/demo/goods_text.txt\uff09\uff1a</p> <pre><code>{{object.title}}\n{{object.intro}}\n</code></pre> <p>\u914d\u7f6eURL\uff1a</p> <pre><code>urlpatterns = [\n    # ...\n    url('search/', include('haystack.urls')),\n]\n</code></pre> <p>\u751f\u6210\u521d\u59cb\u7d22\u5f15\uff1a</p> <pre><code>python manage.py rebuild_index\n</code></pre> <p>\u8bf4\u660e\uff1a\u53ef\u4ee5\u53c2\u8003\u300aDjango Haystack \u5168\u6587\u68c0\u7d22\u4e0e\u5173\u952e\u8bcd\u9ad8\u4eae\u300b\u4e00\u6587\u6765\u66f4\u6df1\u5165\u7684\u4e86\u89e3\u57fa\u4e8eHaystack\u7684\u5168\u6587\u68c0\u7d22\u64cd\u4f5c\u3002</p>"},{"location":"python/Py-100Days/Day91-100/98.%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E4%B8%8A%E7%BA%BF%E5%92%8C%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/","title":"98.\u9879\u76ee\u90e8\u7f72\u4e0a\u7ebf\u548c\u6027\u80fd\u8c03\u4f18","text":""},{"location":"python/Py-100Days/Day91-100/98.%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E4%B8%8A%E7%BA%BF%E5%92%8C%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/#_1","title":"\u9879\u76ee\u90e8\u7f72\u4e0a\u7ebf\u6307\u5357","text":""},{"location":"python/Py-100Days/Day91-100/98.%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E4%B8%8A%E7%BA%BF%E5%92%8C%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/#_2","title":"\u51c6\u5907\u4e0a\u7ebf","text":"<ol> <li>\u4e0a\u7ebf\u524d\u7684\u68c0\u67e5\u5de5\u4f5c\u3002</li> </ol> <pre><code>python manage.py check --deploy\n</code></pre> <ol> <li>\u5c06DEBUG\u8bbe\u7f6e\u4e3aFalse\u5e76\u914d\u7f6eALLOWED_HOSTS\u3002</li> </ol> <pre><code>DEBUG = False\nALLOWED_HOSTS = ['*']\n</code></pre> <ol> <li>\u5b89\u5168\u76f8\u5173\u7684\u914d\u7f6e\u3002</li> </ol> <pre><code># \u4fdd\u6301HTTPS\u8fde\u63a5\u7684\u65f6\u95f4\nSECURE_HSTS_SECONDS = 3600\nSECURE_HSTS_INCLUDE_SUBDOMAINS = True\nSECURE_HSTS_PRELOAD = True\n\n# \u81ea\u52a8\u91cd\u5b9a\u5411\u5230\u5b89\u5168\u8fde\u63a5\nSECURE_SSL_REDIRECT = True\n\n# \u907f\u514d\u6d4f\u89c8\u5668\u81ea\u4f5c\u806a\u660e\u63a8\u65ad\u5185\u5bb9\u7c7b\u578b\nSECURE_CONTENT_TYPE_NOSNIFF = True\n\n# \u907f\u514d\u8de8\u7ad9\u811a\u672c\u653b\u51fb\nSECURE_BROWSER_XSS_FILTER = True\n\n# COOKIE\u53ea\u80fd\u901a\u8fc7HTTPS\u8fdb\u884c\u4f20\u8f93\nSESSION_COOKIE_SECURE = True\nCSRF_COOKIE_SECURE = True\n\n# \u9632\u6b62\u70b9\u51fb\u52ab\u6301\u653b\u51fb\u624b\u6bb5 - \u4fee\u6539HTTP\u534f\u8bae\u54cd\u5e94\u5934\n# \u5f53\u524d\u7f51\u7ad9\u662f\u4e0d\u5141\u8bb8\u4f7f\u7528&lt;iframe&gt;\u6807\u7b7e\u8fdb\u884c\u52a0\u8f7d\u7684\nX_FRAME_OPTIONS = 'DENY'\n</code></pre> <ol> <li>\u654f\u611f\u4fe1\u606f\u653e\u5230\u73af\u5883\u53d8\u91cf\u6216\u6587\u4ef6\u4e2d\u3002</li> </ol> <pre><code>SECRET_KEY = os.environ['SECRET_KEY']\n\nDB_USER = os.environ['DB_USER']\nDB_PASS = os.environ['DB_PASS']\n\nREDIS_AUTH = os.environ['REDIS_AUTH']\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/98.%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E4%B8%8A%E7%BA%BF%E5%92%8C%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/#python3x","title":"\u66f4\u65b0\u670d\u52a1\u5668Python\u73af\u5883\u52303.x","text":"<p>\u8bf4\u660e\uff1a\u5982\u679c\u9700\u8981\u6e05\u9664\u4e4b\u524d\u7684\u5b89\u88c5\uff0c\u5c31\u5220\u9664\u5bf9\u5e94\u7684\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u5373\u53ef</p> <ol> <li>\u5b89\u88c5\u5e95\u5c42\u4f9d\u8d56\u5e93\u3002</li> </ol> <pre><code>yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel libdb4-devel libpcap-devel xz-devel libffi-devel\n</code></pre> <ol> <li>\u4e0b\u8f7dPython\u6e90\u4ee3\u7801\u3002</li> </ol> <pre><code>wget https://www.python.org/ftp/python/3.7.1/Python-3.7.1.tar.xz\n</code></pre> <ol> <li>\u89e3\u538b\u7f29\u548c\u89e3\u5f52\u6863\u3002</li> </ol> <pre><code>xz -d Python-3.7.1.tar.xz\ntar -xvf Python-3.7.1.tar\n</code></pre> <ol> <li>\u6267\u884c\u914d\u7f6e\u751f\u6210Makefile\uff08\u6784\u5efa\u6587\u4ef6\uff09\u3002</li> </ol> <pre><code>cd Python-3.7.1\n./configure --prefix=/usr/local/python37 --enable-optimizations\n</code></pre> <ol> <li>\u6784\u5efa\u548c\u5b89\u88c5\u3002</li> </ol> <pre><code>make &amp;&amp; make install\n</code></pre> <ol> <li>\u914d\u7f6ePATH\u73af\u5883\u53d8\u91cf\uff08\u7528\u6237\u6216\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\uff09\u5e76\u6fc0\u6d3b\u3002</li> </ol> <pre><code>vim ~/.bash_profile\nvim /etc/profile\n</code></pre> <pre><code>... \u6b64\u5904\u7701\u7565\u4e0a\u9762\u7684\u4ee3\u7801...\n\nexport PATH=$PATH:/usr/local/python37/bin\n\n... \u6b64\u5904\u7701\u7565\u4e0b\u9762\u7684\u4ee3\u7801...\n</code></pre> <pre><code>```Shell\n</code></pre> <p>source ~/.bash_profile    source /etc/profile     ```</p> <ol> <li>\u6ce8\u518c\u8f6f\u94fe\u63a5\uff08\u7b26\u53f7\u94fe\u63a5\uff09- \u8fd9\u4e00\u6b65\u4e0d\u662f\u5fc5\u987b\u7684\uff0c\u4f46\u901a\u5e38\u4f1a\u6bd4\u8f83\u6709\u7528\u3002</li> </ol> <pre><code>ln -s /usr/local/python37/bin/python3 /usr/bin/python3\n</code></pre> <ol> <li>\u6d4b\u8bd5Python\u73af\u5883\u662f\u5426\u66f4\u65b0\u6210\u529f\uff08\u5b89\u88c5Python 3\u4e00\u5b9a\u4e0d\u80fd\u7834\u574f\u539f\u6765\u7684Python 2\uff09\u3002</li> </ol> <pre><code>python3 --version\npython --version\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/98.%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E4%B8%8A%E7%BA%BF%E5%92%8C%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/#_3","title":"\u9879\u76ee\u76ee\u5f55\u7ed3\u6784","text":"<p>\u5047\u8bbe\u9879\u76ee\u6587\u4ef6\u5939\u4e3a<code>project</code>\uff0c\u4e0b\u9762\u7684\u4e94\u4e2a\u5b50\u76ee\u5f55\u5206\u522b\u662f\uff1a<code>code</code>\u3001<code>conf</code>\u3001<code>logs</code>\u3001<code>stat</code>\u548c<code>venv</code>\u5206\u522b\u7528\u6765\u4fdd\u5b58\u9879\u76ee\u7684\u4ee3\u7801\u3001\u914d\u7f6e\u6587\u4ef6\u3001\u65e5\u5fd7\u6587\u4ef6\u3001\u9759\u6001\u8d44\u6e90\u548c\u865a\u62df\u73af\u5883\u3002\u5176\u4e2d\uff0c<code>conf</code>\u76ee\u5f55\u4e0b\u7684\u5b50\u76ee\u5f55<code>cert</code>\u4e2d\u4fdd\u5b58\u4e86\u914d\u7f6eHTTPS\u9700\u8981\u4f7f\u7528\u7684\u8bc1\u4e66\u548c\u5bc6\u94a5\uff1b<code>code</code>\u76ee\u5f55\u4e0b\u7684\u9879\u76ee\u4ee3\u7801\u53ef\u4ee5\u901a\u8fc7\u7248\u672c\u63a7\u5236\u5de5\u5177\u4ece\u4ee3\u7801\u4ed3\u5e93\u4e2d\u68c0\u51fa\uff1b\u865a\u62df\u73af\u5883\u53ef\u4ee5\u901a\u8fc7\u5de5\u5177\uff08\u5982\uff1avenv\u3001virtualenv\u3001pyenv\u7b49\uff09\u8fdb\u884c\u521b\u5efa\u3002</p> <pre><code>project\n\u251c\u2500\u2500 code\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 fangtx\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 api\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 common\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 fangtx\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 forum\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 rent\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 user\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 manage.py\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 README.md\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 static\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 templates\n\u251c\u2500\u2500 conf\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 cert\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 214915882850706.key\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 214915882850706.pem\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 nginx.conf\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 uwsgi.ini\n\u251c\u2500\u2500 logs\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 access.log\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 error.log\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 uwsgi.log\n\u251c\u2500\u2500 stat\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 css\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 images\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 js\n\u2514\u2500\u2500 venv\n    \u251c\u2500\u2500 bin\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 activate\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 activate.csh\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 activate.fish\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 celery\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 celerybeat\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 celeryd\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 celeryd-multi\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 coverage\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 coverage3\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 coverage-3.7\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 django-admin\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 django-admin.py\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 easy_install\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 easy_install-3.7\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 pip\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 pip3\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 pip3.7\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 __pycache__\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 pyrsa-decrypt\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 pyrsa-decrypt-bigfile\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 pyrsa-encrypt\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 pyrsa-encrypt-bigfile\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 pyrsa-keygen\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 pyrsa-priv2pub\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 pyrsa-sign\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 pyrsa-verify\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 python -&gt; python3\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 python3 -&gt; /usr/bin/python3\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 uwsgi\n    \u251c\u2500\u2500 include\n    \u251c\u2500\u2500 lib\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 python3.7\n    \u251c\u2500\u2500 lib64 -&gt; lib\n    \u251c\u2500\u2500 pip-selfcheck.json\n    \u2514\u2500\u2500 pyvenv.cfg\n</code></pre> <p>\u4e0b\u9762\u4ee5\u963f\u91cc\u4e91\u4e3a\u4f8b\uff0c\u7b80\u5355\u8bf4\u660e\u5982\u4f55\u4e3a\u9879\u76ee\u6ce8\u518c\u57df\u540d\u3001\u89e3\u6790\u57df\u540d\u4ee5\u53ca\u8d2d\u4e70\u6743\u5a01\u673a\u6784\u9881\u53d1\u7684\u8bc1\u4e66\u3002</p> <ol> <li>\u6ce8\u518c\u57df\u540d\u3002</li> </ol> <p></p> <ol> <li>\u57df\u540d\u5907\u6848\u3002</li> </ol> <p></p> <ol> <li>\u57df\u540d\u89e3\u6790\u3002</li> </ol> <p></p> <p></p> <ol> <li>\u8d2d\u4e70\u8bc1\u4e66\u3002</li> </ol> <p></p> <p>\u53ef\u4ee5\u4f7f\u7528\u7c7b\u4f3c\u4e8esftp\u7684\u5de5\u5177\u5c06\u8bc1\u4e66\u4e0a\u4f20\u5230<code>conf/cert</code>\u76ee\u5f55\uff0c\u7136\u540e\u4f7f\u7528git\u514b\u9686\u9879\u76ee\u4ee3\u7801\u5230<code>code</code>\u76ee\u5f55\u3002</p> <pre><code>cd code\ngit clone &lt;url&gt;\n</code></pre> <p>\u56de\u5230\u9879\u76ee\u76ee\u5f55\uff0c\u521b\u5efa\u5e76\u6fc0\u6d3b\u865a\u62df\u73af\u5883\u3002</p> <pre><code>python3 -m venv venv\nsource venv/bin/activate\n</code></pre> <p>\u91cd\u5efa\u9879\u76ee\u4f9d\u8d56\u9879\u3002</p> <pre><code>pip install -r code/teamproject/requirements.txt\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/98.%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E4%B8%8A%E7%BA%BF%E5%92%8C%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/#uwsgi","title":"uWSGI\u7684\u914d\u7f6e","text":"<ol> <li>\u5b89\u88c5uWSGI\u3002</li> </ol> <pre><code>pip install uwsgi\n</code></pre> <ol> <li>\u4fee\u6539uWSGI\u7684\u914d\u7f6e\u6587\u4ef6\uff08<code>/root/project/conf/uwsgi.ini</code>\uff09\u3002</li> </ol> <pre><code>[uwsgi]\n# \u914d\u7f6e\u524d\u5bfc\u8def\u5f84\nbase=/root/project\n# \u914d\u7f6e\u9879\u76ee\u540d\u79f0\nname=teamproject\n# \u5b88\u62a4\u8fdb\u7a0b\nmaster=true\n# \u8fdb\u7a0b\u4e2a\u6570\nprocesses=4\n# \u865a\u62df\u73af\u5883\npythonhome=%(base)/venv\n# \u9879\u76ee\u5730\u5740\nchdir=%(base)/code/%(name)\n# \u6307\u5b9apython\u89e3\u91ca\u5668\npythonpath=%(pythonhome)/bin/python\n# \u6307\u5b9auwsgi\u6587\u4ef6\nmodule=%(name).wsgi\n# \u901a\u4fe1\u7684\u5730\u5740\u548c\u7aef\u53e3(\u81ea\u5df1\u670d\u52a1\u5668\u7684IP\u5730\u5740\u548c\u7aef\u53e3)\nsocket=172.18.61.250:8000\n# \u65e5\u5fd7\u6587\u4ef6\u5730\u5740\nlogto=%(base)/logs/uwsgi.log\n</code></pre> <p>\u8bf4\u660e\uff1a\u53ef\u4ee5\u5148\u5c06\u201c\u901a\u4fe1\u7684\u5730\u5740\u548c\u7aef\u53e3\u201d\u9879\u7b49\u53f7\u524d\u9762\u6539\u4e3ahttp\u6765\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5982\u679c\u6ca1\u6709\u95ee\u9898\u518d\u6539\u56de    \u6210socket\uff0c\u7136\u540e\u901a\u8fc7Nginx\u6765\u5b9e\u73b0\u9879\u76ee\u7684\u201c\u52a8\u9759\u5206\u79bb\u201d\uff08\u9759\u6001\u8d44\u6e90\u4ea4\u7ed9Nginx\u5904\u7406\uff0c\u52a8\u6001\u5185\u5bb9\u4ea4\u7ed9    uWSGI\u5904\u7406\uff09\u3002\u6309\u7167\u4e0b\u9762\u7684\u65b9\u5f0f\u53ef\u4ee5\u542f\u52a8uWSGI\u670d\u52a1\u5668\u3002</p> <ol> <li>\u542f\u52a8\u670d\u52a1\u5668\u3002</li> </ol> <pre><code>uwsgi --ini conf/uwsgi.ini\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/98.%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E4%B8%8A%E7%BA%BF%E5%92%8C%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/#nginx","title":"Nginx\u7684\u914d\u7f6e","text":"<ol> <li> <p>\u5b89\u88c5Nginx\u3002</p> <pre><code>yum -y install nginx\n</code></pre> </li> <li> <p>\u4fee\u6539\u5168\u5c40\u914d\u7f6e\u6587\u4ef6\uff08<code>/etc/nginx/nginx.conf</code>\uff09\u3002</p> <pre><code># \u914d\u7f6e\u7528\u6237\nuser root;\n# \u5de5\u4f5c\u8fdb\u7a0b\u6570(\u5efa\u8bae\u8ddfCPU\u7684\u6838\u6570\u91cf\u4e00\u81f4)\nworker_processes auto;\n# \u9519\u8bef\u65e5\u5fd7\nerror_log /var/log/nginx/error.log;\n# \u8fdb\u7a0b\u6587\u4ef6\npid /run/nginx.pid;\n# \u5305\u542b\u5176\u4ed6\u7684\u914d\u7f6e\ninclude /usr/share/nginx/modules/*.conf;\n# \u5de5\u4f5c\u6a21\u5f0f(\u591a\u8defIO\u590d\u7528\u65b9\u5f0f)\u548c\u8fde\u63a5\u4e0a\u9650\nevents {\n    use epoll;\n    worker_connections 1024;\n}\n# HTTP\u670d\u52a1\u5668\u76f8\u5173\u914d\u7f6e\nhttp {\n    # \u65e5\u5fd7\u683c\u5f0f\n    log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n                      '$status $body_bytes_sent \"$http_referer\" '\n                      '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n    # \u8bbf\u95ee\u65e5\u5fd7\n    access_log  /var/log/nginx/access.log  main;\n    # \u5f00\u542f\u9ad8\u6548\u6587\u4ef6\u4f20\u8f93\u6a21\u5f0f\n    sendfile            on;\n    # \u7528sendfile\u4f20\u8f93\u6587\u4ef6\u65f6\u6709\u5229\u4e8e\u6539\u5584\u6027\u80fd\n    tcp_nopush          on;\n    # \u7981\u7528Nagle\u6765\u89e3\u51b3\u4ea4\u4e92\u6027\u95ee\u9898\n    tcp_nodelay         on;\n    # \u5ba2\u6237\u7aef\u4fdd\u6301\u8fde\u63a5\u65f6\u95f4\n    keepalive_timeout   30;\n    types_hash_max_size 2048;\n    # \u5305\u542bMIME\u7c7b\u578b\u7684\u914d\u7f6e\n    include             /etc/nginx/mime.types;\n    # \u9ed8\u8ba4\u4f7f\u7528\u4e8c\u8fdb\u5236\u6d41\u683c\u5f0f\n    default_type        application/octet-stream;\n    # \u5305\u542b\u5176\u4ed6\u914d\u7f6e\u6587\u4ef6\n    include /etc/nginx/conf.d/*.conf;\n    # \u5305\u542b\u9879\u76ee\u7684Nginx\u914d\u7f6e\u6587\u4ef6\n    include /root/project/conf/*.conf;\n}\n</code></pre> </li> <li> <p>\u7f16\u8f91\u5c40\u90e8\u914d\u7f6e\u6587\u4ef6\uff08<code>/root/project/conf/nginx.conf</code>\uff09\u3002</p> <pre><code>server {\n    listen      80;\n    server_name _;\n    access_log /root/project/logs/access.log;\n    error_log /root/project/logs/error.log;\n    location / {\n        include uwsgi_params;\n        uwsgi_pass 172.18.61.250:8000;\n    }\n    location /static/ {\n        alias /root/project/stat/;\n        expires 30d;\n    }\n}\nserver {\n    listen      443;\n    server_name _;\n    ssl         on;\n    access_log /root/project/logs/access.log;\n    error_log /root/project/logs/error.log;\n    ssl_certificate     /root/project/conf/cert/214915882850706.pem;\n    ssl_certificate_key /root/project/conf/cert/214915882850706.key;\n    ssl_session_timeout 5m;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n    ssl_prefer_server_ciphers on;\n    location / {\n        include uwsgi_params;\n        uwsgi_pass 172.18.61.250:8000;\n    }\n    location /static/ {\n        alias /root/project/static/;\n        expires 30d;\n    }\n}\n</code></pre> <p>\u5230\u6b64\u4e3a\u6b62\uff0c\u6211\u4eec\u53ef\u4ee5\u542f\u52a8Nginx\u6765\u8bbf\u95ee\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\uff0cHTTP\u548cHTTPS\u90fd\u662f\u6ca1\u6709\u95ee\u9898\u7684\uff0c\u5982\u679cNginx\u5df2\u7ecf\u8fd0\u884c\uff0c\u5728\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u91cd\u65b0\u542f\u52a8Nginx\u3002</p> </li> <li> <p>\u91cd\u542fNginx\u670d\u52a1\u5668\u3002</p> <pre><code>nginx -s reload\n</code></pre> <p>\u6216</p> <pre><code>systemctl restart nginx\n</code></pre> </li> </ol> <p>\u8bf4\u660e\uff1a\u53ef\u4ee5\u5bf9Django\u9879\u76ee\u4f7f\u7528<code>python manage.py collectstatic</code>\u547d\u4ee4\u5c06\u9759\u6001\u8d44\u6e90\u6536\u96c6\u5230\u6307\u5b9a\u76ee\u5f55\u4e0b\uff0c\u8981\u505a\u5230\u8fd9\u70b9\u53ea\u9700\u8981\u5728\u9879\u76ee\u7684\u914d\u7f6e\u6587\u4ef6<code>settings.py</code>\u4e2d\u6dfb\u52a0<code>STATIC_ROOT</code>\u914d\u7f6e\u5373\u53ef\u3002</p>"},{"location":"python/Py-100Days/Day91-100/98.%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E4%B8%8A%E7%BA%BF%E5%92%8C%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/#_4","title":"\u8d1f\u8f7d\u5747\u8861\u914d\u7f6e","text":"<p>\u4e0b\u9762\u7684\u914d\u7f6e\u4e2d\u6211\u4eec\u4f7f\u7528Nginx\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\uff0c\u4e3a\u53e6\u5916\u7684\u4e09\u4e2aNginx\u670d\u52a1\u5668\uff08\u901a\u8fc7Docker\u521b\u5efa\uff09\u63d0\u4f9b\u53cd\u5411\u4ee3\u7406\u670d\u52a1\u3002</p> <pre><code>docker run -d -p 801:80 --name nginx1 nginx:latest\ndocker run -d -p 802:80 --name nginx2 nginx:latest\ndocker run -d -p 803:80 --name nginx3 nginx:latest\n</code></pre> <pre><code>user root;\nworker_processes auto;\nerror_log /var/log/nginx/error.log;\npid /run/nginx.pid;\n\ninclude /usr/share/nginx/modules/*.conf;\n\nevents {\n    worker_connections 1024;\n}\n\n# \u4e3aHTTP\u670d\u52a1\u914d\u7f6e\u8d1f\u8f7d\u5747\u8861\nhttp {   \n    upstream fangtx {\n        server 172.18.61.250:801 weight=4;\n        server 172.18.61.250:802 weight=2;\n        server 172.18.61.250:803 weight=2;\n    }\n\n    server {\n        listen       80 default_server;\n        listen       [::]:80 default_server;\n        listen       443 ssl;\n        listen       [::]:443 ssl;\n\n        ssl on;\n        access_log /root/project/logs/access.log;\n        error_log /root/project/logs/error.log;\n        ssl_certificate /root/project/conf/cert/214915882850706.pem;\n        ssl_certificate_key /root/project/conf/cert/214915882850706.key;\n        ssl_session_timeout 5m;\n        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;\n        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n        ssl_prefer_server_ciphers on;\n\n        location / {\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_buffering off;\n            proxy_pass http://fangtx;\n        }\n    }\n}\n</code></pre> <p>\u8bf4\u660e\uff1aNginx\u5728\u914d\u7f6e\u8d1f\u8f7d\u5747\u8861\u65f6\uff0c\u9ed8\u8ba4\u4f7f\u7528WRR\uff08\u52a0\u6743\u8f6e\u8be2\u7b97\u6cd5\uff09\uff0c\u9664\u6b64\u4e4b\u5916\u8fd8\u652f\u6301ip_hash\u3001fair\uff08\u9700\u8981\u5b89\u88c5upstream_fair\u6a21\u5757\uff09\u548curl_hash\u7b97\u6cd5\u3002\u6b64\u5916\uff0c\u5728\u914d\u7f6eupstream\u6a21\u5757\u65f6\u53ef\u4ee5\u6307\u5b9a\u670d\u52a1\u5668\u7684\u72b6\u6001\u503c\uff0c\u5305\u62ec\uff1abackup\uff08\u5907\u4efd\u673a\u5668\uff0c\u5176\u4ed6\u670d\u52a1\u5668\u4e0d\u53ef\u7528\u65f6\u624d\u5c06\u8bf7\u6c42\u5206\u914d\u5230\u8be5\u673a\u5668\uff09\u3001down\u3001fail_timeout\uff08\u8bf7\u6c42\u5931\u8d25\u8fbe\u5230max_fails\u540e\u7684\u6682\u505c\u670d\u52a1\u65f6\u95f4\uff09\u3001max_fails\uff08\u5141\u8bb8\u8bf7\u6c42\u5931\u8d25\u7684\u6b21\u6570\uff09\u548cweight\uff08\u8f6e\u8be2\u7684\u6743\u91cd\uff09\u3002</p>"},{"location":"python/Py-100Days/Day91-100/98.%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E4%B8%8A%E7%BA%BF%E5%92%8C%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/#keepalived","title":"Keepalived","text":"<p>\u5f53\u4f7f\u7528Nginx\u8fdb\u884c\u8d1f\u8f7d\u5747\u8861\u914d\u7f6e\u65f6\uff0c\u8981\u8003\u8651\u8d1f\u8f7d\u5747\u8861\u670d\u52a1\u5668\u5b95\u673a\u7684\u60c5\u51b5\u3002\u4e3a\u6b64\u53ef\u4ee5\u4f7f\u7528Keepalived\u6765\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u4e3b\u673a\u548c\u5907\u673a\u7684\u70ed\u5207\u6362\uff0c\u4ece\u800c\u4fdd\u8bc1\u7cfb\u7edf\u7684\u9ad8\u53ef\u7528\u6027\u3002Keepalived\u7684\u914d\u7f6e\u8fd8\u662f\u6bd4\u8f83\u590d\u6742\uff0c\u901a\u5e38\u7531\u4e13\u95e8\u505a\u8fd0\u7ef4\u7684\u4eba\u8fdb\u884c\u914d\u7f6e\uff0c\u4e00\u4e2a\u57fa\u672c\u7684\u914d\u7f6e\u53ef\u4ee5\u53c2\u7167\u300aKeepalived\u7684\u914d\u7f6e\u548c\u4f7f\u7528\u300b\u3002</p>"},{"location":"python/Py-100Days/Day91-100/98.%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E4%B8%8A%E7%BA%BF%E5%92%8C%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/#mysql","title":"MySQL\u4e3b\u4ece\u590d\u5236","text":"<p>\u4e0b\u9762\u8fd8\u662f\u57fa\u4e8eDocker\u6765\u6f14\u793a\u5982\u4f55\u914d\u7f6eMySQL\u4e3b\u4ece\u590d\u5236\u3002\u6211\u4eec\u4e8b\u5148\u51c6\u5907\u597dMySQL\u7684\u914d\u7f6e\u6587\u4ef6\u4ee5\u53ca\u4fdd\u5b58MySQL\u6570\u636e\u548c\u8fd0\u884c\u65e5\u5fd7\u7684\u76ee\u5f55\uff0c\u7136\u540e\u901a\u8fc7Docker\u7684\u6570\u636e\u5377\u6620\u5c04\u6765\u6307\u5b9a\u5bb9\u5668\u7684\u914d\u7f6e\u3001\u6570\u636e\u548c\u65e5\u5fd7\u6587\u4ef6\u7684\u4f4d\u7f6e\u3002</p> <pre><code>root\n\u2514\u2500\u2500 mysql\n    \u251c\u2500\u2500 master\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 conf\n    |   \u2514\u2500\u2500 data\n    \u2514\u2500\u2500 slave-1\n    |   \u251c\u2500\u2500 conf\n    |   \u2514\u2500\u2500 data\n    \u2514\u2500\u2500 slave-2\n    |   \u251c\u2500\u2500 conf\n    |   \u2514\u2500\u2500 data\n    \u2514\u2500\u2500 slave-3\n        \u251c\u2500\u2500 conf\n        \u2514\u2500\u2500 data\n</code></pre> <ol> <li> <p>MySQL\u7684\u914d\u7f6e\u6587\u4ef6\uff08master\u548cslave\u7684\u914d\u7f6e\u6587\u4ef6\u9700\u8981\u4e0d\u540c\u7684server-id\uff09\u3002    <pre><code>[mysqld]\npid-file=/var/run/mysqld/mysqld.pid\nsocket=/var/run/mysqld/mysqld.sock\ndatadir=/var/lib/mysql\nlog-error=/var/log/mysql/error.log\nserver-id=1\nlog-bin=/var/log/mysql/mysql-bin.log\nexpire_logs_days=30\nmax_binlog_size=256M\nsymbolic-links=0\n# slow_query_log=ON\n# slow_query_log_file=/var/log/mysql/slow.log\n# long_query_time=1\n</code></pre></p> </li> <li> <p>\u521b\u5efa\u548c\u914d\u7f6emaster\u3002</p> </li> </ol> <pre><code>docker run -d -p 3306:3306 --name mysql-master \\\n-v /root/mysql/master/conf:/etc/mysql/mysql.conf.d \\\n-v /root/mysql/master/data:/var/lib/mysql \\\n-e MYSQL_ROOT_PASSWORD=123456 mysql:5.7\n\ndocker exec -it mysql-master /bin/bash\n</code></pre> <pre><code>mysql -u root -p\nEnter password:\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 1\nServer version: 5.7.23-log MySQL Community Server (GPL)\nCopyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql&gt; grant replication slave on *.* to 'slave'@'%' identified by 'iamslave';\nQuery OK, 0 rows affected, 1 warning (0.00 sec)\n\nmysql&gt; flush privileges;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; show master status;\n+------------------+----------+--------------+------------------+-------------------+\n| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |\n+------------------+----------+--------------+------------------+-------------------+\n| mysql-bin.000003 |      590 |              |                  |                   |\n+------------------+----------+--------------+------------------+-------------------+\n1 row in set (0.00 sec)\n\nmysql&gt; quit\nBye\nexit\n</code></pre> <p>\u4e0a\u9762\u521b\u5efaDocker\u5bb9\u5668\u65f6\u4f7f\u7528\u7684<code>-v</code>\u53c2\u6570\uff08<code>--volume</code>\uff09\u8868\u793a\u6620\u5c04\u6570\u636e\u5377\uff0c\u5192\u53f7\u524d\u662f\u5bbf\u4e3b\u673a\u7684\u76ee\u5f55\uff0c\u5192\u53f7\u540e\u662f\u5bb9\u5668\u4e2d\u7684\u76ee\u5f55\uff0c\u8fd9\u6837\u76f8\u5f53\u4e8e\u5c06\u5bbf\u4e3b\u673a\u4e2d\u7684\u76ee\u5f55\u6302\u8f7d\u5230\u4e86\u5bb9\u5668\u4e2d\u3002</p> <ol> <li>\u521b\u5efa\u548c\u914d\u7f6eslave\u3002</li> </ol> <pre><code>docker run -d -p 3308:3306 --name mysql-slave-1 \\\n-v /root/mysql/slave-1/conf:/etc/mysql/mysql.conf.d \\\n-v /root/mysql/slave-1/data:/var/lib/mysql \\\n-e MYSQL_ROOT_PASSWORD=123456 \\\n--link mysql-master:mysql-master mysql:5.7\n\ndocker run -d -p 3309:3306 --name mysql-slave-2 \\\n-v /root/mysql/slave-2/conf:/etc/mysql/mysql.conf.d \\\n-v /root/mysql/slave-2/data:/var/lib/mysql \\\n-e MYSQL_ROOT_PASSWORD=123456 \\\n--link mysql-master:mysql-master mysql:5.7\n\ndocker run -d -p 3310:3306 --name mysql-slave-3 \\\n-v /root/mysql/slave-3/conf:/etc/mysql/mysql.conf.d \\\n-v /root/mysql/slave-3/data:/var/lib/mysql \\\n-e MYSQL_ROOT_PASSWORD=123456 \\\n--link mysql-master:mysql-master mysql:5.7\n\ndocker exec -it mysql-slave-1 /bin/bash\n</code></pre> <pre><code>mysql -u root -p\nEnter password:\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 2\nServer version: 5.7.23-log MySQL Community Server (GPL)\nCopyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql&gt; reset slave;\nQuery OK, 0 rows affected (0.02 sec)\n\nmysql&gt; change master to master_host='mysql-master', master_user='slave', master_password='iamslave', master_log_file='mysql-bin.000003', master_log_pos=590;\nQuery OK, 0 rows affected, 2 warnings (0.03 sec)\n\nmysql&gt; start slave;\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql&gt; show slave status\\G\n*************************** 1. row ***************************\n               Slave_IO_State: Waiting for master to send event\n                  Master_Host: mysql57\n                  Master_User: slave\n                  Master_Port: 3306\n                Connect_Retry: 60\n              Master_Log_File: mysql-bin.000001\n          Read_Master_Log_Pos: 590\n               Relay_Log_File: f352f05eb9d0-relay-bin.000002\n                Relay_Log_Pos: 320\n        Relay_Master_Log_File: mysql-bin.000001\n             Slave_IO_Running: Yes\n            Slave_SQL_Running: Yes\n             Replicate_Do_DB:\n          Replicate_Ignore_DB:\n           Replicate_Do_Table:\n       Replicate_Ignore_Table:\n      Replicate_Wild_Do_Table:\n  Replicate_Wild_Ignore_Table:\n                   Last_Errno: 0\n                   Last_Error:\n                 Skip_Counter: 0\n          Exec_Master_Log_Pos: 590\n              Relay_Log_Space: 534\n              Until_Condition: None\n               Until_Log_File:\n                Until_Log_Pos: 0\n           Master_SSL_Allowed: No\n           Master_SSL_CA_File:\n           Master_SSL_CA_Path:\n              Master_SSL_Cert:\n            Master_SSL_Cipher:\n               Master_SSL_Key:\n        Seconds_Behind_Master: 0\nMaster_SSL_Verify_Server_Cert: No\n                Last_IO_Errno: 0\n                Last_IO_Error:\n               Last_SQL_Errno: 0\n               Last_SQL_Error:\n  Replicate_Ignore_Server_Ids:\n             Master_Server_Id: 1\n                  Master_UUID: 30c38043-ada1-11e8-8fa1-0242ac110002\n             Master_Info_File: /var/lib/mysql/master.info\n                    SQL_Delay: 0\n          SQL_Remaining_Delay: NULL\n      Slave_SQL_Running_State: Slave has read all relay log; waiting for more updates\n           Master_Retry_Count: 86400\n                  Master_Bind:\n      Last_IO_Error_Timestamp:\n     Last_SQL_Error_Timestamp:\n               Master_SSL_Crl:\n           Master_SSL_Crlpath:\n           Retrieved_Gtid_Set:\n            Executed_Gtid_Set:\n                Auto_Position: 0\n         Replicate_Rewrite_DB:\n                 Channel_Name:\n           Master_TLS_Version:\n1 row in set (0.00 sec)\n\nmysql&gt; quit\nBye\nexit\n</code></pre> <p>\u63a5\u4e0b\u6765\u53ef\u4ee5\u5982\u6cd5\u70ae\u5236\u914d\u7f6e\u51faslave2\u548cslave3\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u642d\u5efa\u8d77\u4e00\u4e2a\u201c\u4e00\u4e3b\u5e26\u4e09\u4ece\u201d\u7684\u4e3b\u4ece\u590d\u5236\u73af\u5883\u3002\u4e0a\u9762\u521b\u5efa\u521b\u5efa\u5bb9\u5668\u65f6\u4f7f\u7528\u7684<code>--link</code>\u53c2\u6570\u7528\u6765\u914d\u7f6e\u5bb9\u5668\u5728\u7f51\u7edc\u4e0a\u7684\u4e3b\u673a\u540d\uff08\u7f51\u7edc\u5730\u5740\u522b\u540d\uff09\u3002</p> <p>\u914d\u7f6e\u597d\u4e3b\u4ece\u590d\u5236\u540e\uff0c\u5199\u6570\u636e\u7684\u64cd\u4f5c\u5e94\u8be5master\u4e0a\u6267\u884c\uff0c\u800c\u8bfb\u6570\u636e\u7684\u64cd\u4f5c\u5e94\u8be5\u5728slave\u4e0a\u5b8c\u6210\u3002\u4e3a\u6b64\uff0c\u5728Django\u9879\u76ee\u4e2d\u9700\u8981\u914d\u7f6eDATABASE_ROUTERS\u5e76\u901a\u8fc7\u81ea\u5b9a\u4e49\u7684\u4e3b\u4ece\u590d\u5236\u8def\u7531\u7c7b\u6765\u5b9e\u73b0\u8bfb\u5199\u5206\u79bb\u64cd\u4f5c\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>DATABASE_ROUTERS = [\n    # \u6b64\u5904\u7701\u7565\u5176\u4ed6\u914d\u7f6e\n    'common.routers.MasterSlaveRouter',\n]\n</code></pre> <pre><code>class MasterSlaveRouter(object):\n    \"\"\"\u4e3b\u4ece\u590d\u5236\u8def\u7531\"\"\"\n\n    @staticmethod\n    def db_for_read(model, **hints):\n        \"\"\"\n        Attempts to read auth models go to auth_db.\n        \"\"\"\n        return random.choice(('slave1', 'slave2', 'slave3'))\n\n    @staticmethod\n    def db_for_write(model, **hints):\n        \"\"\"\n        Attempts to write auth models go to auth_db.\n        \"\"\"\n        return 'default'\n\n    @staticmethod\n    def allow_relation(obj1, obj2, **hints):\n        \"\"\"\n        Allow relations if a model in the auth app is involved.\n        \"\"\"\n        return None\n\n    @staticmethod\n    def allow_migrate(db, app_label, model_name=None, **hints):\n        \"\"\"\n        Make sure the auth app only appears in the 'auth_db'\n        database.\n        \"\"\"\n        return True\n</code></pre> <p>\u4e0a\u9762\u7684\u5185\u5bb9\u53c2\u8003\u4e86Django\u5b98\u65b9\u6587\u6863\u7684DATABASE_ROUTERS\u914d\u7f6e\uff0c\u5bf9\u4ee3\u7801\u8fdb\u884c\u4e86\u9002\u5f53\u7684\u8c03\u6574\u3002</p>"},{"location":"python/Py-100Days/Day91-100/98.%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E4%B8%8A%E7%BA%BF%E5%92%8C%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/#docker","title":"Docker","text":"<p>\u4e8b\u5b9e\u4e0a\uff0c\u9879\u76ee\u4e0a\u7ebf\u4e2d\u6700\u4e3a\u9ebb\u70e6\u7684\u4e8b\u60c5\u5c31\u662f\u914d\u7f6e\u8f6f\u4ef6\u8fd0\u884c\u73af\u5883\uff0c\u73af\u5883\u7684\u5dee\u5f02\u4f1a\u7ed9\u8f6f\u4ef6\u7684\u5b89\u88c5\u548c\u90e8\u7f72\u5e26\u6765\u8bf8\u591a\u7684\u9ebb\u70e6\uff0c\u800cDocker\u6b63\u597d\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u5173\u4e8eDocker\u5728\u4e4b\u524d\u7684\u6587\u6863\u4e2d\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u4e86\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u5bf9Docker\u7684\u77e5\u8bc6\u505a\u4e00\u4e9b\u5fc5\u8981\u7684\u8865\u5145\u3002</p> <ol> <li>\u521b\u5efa\u955c\u50cf\u6587\u4ef6\u3002</li> </ol> <p>\u5c06\u5bb9\u5668\u4fdd\u5b58\u6210\u955c\u50cf\uff1a</p> <pre><code>docker commit -m \"...\" -a \"jackfrued\" &lt;container-name&gt; jackfrued/&lt;image-name&gt;\n</code></pre> <p>\u4f7f\u7528Dockerfile\u6784\u5efa\u955c\u50cf\uff1a</p> <pre><code># \u6307\u5b9a\u57fa\u7840\u955c\u50cf\u6587\u4ef6\nFROM centos:latest\n\n# \u6307\u5b9a\u7ef4\u62a4\u8005\u4fe1\u606f\nMAINTAINER jackfrued\n\n# \u6267\u884c\u547d\u4ee4\nRUN yum -y install gcc\nRUN cd ~\nRUN mkdir -p project/code\nRUN mkdir -p project/logs\n\n# \u62f7\u8d1d\u6587\u4ef6\nCOPY ...\n\n# \u66b4\u9732\u7aef\u53e3\nEXPOSE ...\n\n# \u5728\u5bb9\u5668\u542f\u52a8\u65f6\u6267\u884c\u547d\u4ee4\nCMD ~/init.sh\n</code></pre> <pre><code>docker build -t jackfrued/&lt;image-name&gt; .\n</code></pre> <ol> <li>\u955c\u50cf\u7684\u5bfc\u5165\u548c\u5bfc\u51fa\u3002</li> </ol> <pre><code>docker save -o &lt;file-name&gt;.tar &lt;image-name&gt;:&lt;version&gt;\ndocker load -i &lt;file-name&gt;.tar\n</code></pre> <ol> <li>\u63a8\u9001\u5230DockerHub\u670d\u52a1\u5668\u3002</li> </ol> <pre><code>docker tag &lt;image-name&gt;:&lt;version&gt; jackfrued/&lt;name&gt;\ndocker login\ndocker push jackfrued/&lt;name&gt;\n</code></pre> <ol> <li>\u5bb9\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\u3002</li> </ol> <pre><code>docker run --link &lt;container-name&gt;:&lt;alias-name&gt;\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u80fd\u591f\u5728Docker\u4e2d\u5b8c\u6210\u9879\u76ee\u7684\u90e8\u7f72\uff0c\u5e76\u4e14\u5c06\u6574\u4e2a\u90e8\u7f72\u597d\u7684\u5bb9\u5668\u6253\u5305\u6210\u955c\u50cf\u6587\u4ef6\u8fdb\u884c\u5206\u53d1\u548c\u5b89\u88c5\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u89e3\u51b3\u9879\u76ee\u5728\u591a\u4e2a\u8282\u70b9\u4e0a\u8fdb\u884c\u90e8\u7f72\u65f6\u53ef\u80fd\u9047\u5230\u7684\u9ebb\u70e6\uff0c\u800c\u4e14\u6574\u4e2a\u90e8\u7f72\u53ef\u4ee5\u5728\u5f88\u77ed\u7684\u65f6\u95f4\u5185\u5b8c\u6210\u3002</p>"},{"location":"python/Py-100Days/Day91-100/98.%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E4%B8%8A%E7%BA%BF%E5%92%8C%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/#supervisor","title":"Supervisor","text":"<p>Supervisor\u662f\u4e00\u4e2a\u7528Python\u5199\u7684\u8fdb\u7a0b\u7ba1\u7406\u5de5\u5177\uff0c\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u7528\u6765\u5728\u7c7bUnix\u7cfb\u7edf\u4e0b\u542f\u52a8\u3001\u91cd\u542f\uff08\u81ea\u52a8\u91cd\u542f\u7a0b\u5e8f\uff09\u548c\u5173\u95ed\u8fdb\u7a0b\uff0c\u76ee\u524dSupervisor\u6682\u65f6\u8fd8\u6ca1\u6709\u63d0\u4f9b\u5bf9Python 3\u7684\u652f\u6301\uff0c\u53ef\u4ee5\u901a\u8fc7Python 2\u6765\u5b89\u88c5\u548c\u8fd0\u884cSupervisor\uff0c\u518d\u901a\u8fc7Supervisor\u6765\u7ba1\u7406Python 3\u7684\u7a0b\u5e8f\u3002</p> <ol> <li>\u5b89\u88c5Supervisor\u3002</li> </ol> <pre><code>pip install virtualenv\nvirtualenv -p /usr/bin/python venv\nsource venv/bin/activate\npip install supervisor\n</code></pre> <ol> <li> <p>\u67e5\u770bSupervisor\u7684\u914d\u7f6e\u6587\u4ef6\u3002</p> <pre><code>vim /etc/supervisord.conf\n</code></pre> <pre><code>; \u6b64\u5904\u7701\u7565\u4e0a\u9762\u7684\u4ee3\u7801\n; The [include] section can just contain the \"files\" setting.  This\n; setting can list multiple files (separated by whitespace or\n; newlines).  It can also contain wildcards.  The filenames are\n; interpreted as relative to this file.  Included files *cannot*\n; include files themselves.\n[include]\nfiles = supervisord.d/*.ini\n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa\u81ea\u5b9a\u4e49\u7684\u7ba1\u7406\u914d\u7f6e\u4ee3\u7801\u53ef\u4ee5\u653e\u5728<code>/etc/supervisord.d</code>\u76ee\u5f55\u4e2d\uff0c\u5e76\u4e14\u6587\u4ef6\u540d\u4ee5<code>ini</code>\u4f5c\u4e3a\u540e\u7f00\u5373\u53ef\u3002</p> </li> <li> <p>\u7f16\u5199\u81ea\u5df1\u7684\u914d\u7f6e\u6587\u4ef6<code>fangtx.ini</code>\u5e76\u653e\u5728<code>/etc/supervisord.d</code>\u76ee\u5f55\u4e2d\u3002</p> </li> </ol> <pre><code>[program:project]\ncommand=uwsgi --ini /root/project/conf/uwsgi.ini\nstopsignal=QUIT\nautostart=true\nautorestart=true\nredirect_stderr=true\n\n[program:celery]\n; Set full path to celery program if using virtualenv\ncommand=/root/project/venv/bin/python manage.py celery -A fangtx worker\nuser=root\nnumprocs=1\nstdout_logfile=/var/log/supervisor/celery.log\nstderr_logfile=/var/log/supervisor/celery_error.log\nautostart=true\nautorestart=true\nstartsecs=10\n\n; Need to wait for currently executing tasks to finish at shutdown.\n; Increase this if you have very long running tasks.\n;stopwaitsecs = 600\n\n; When resorting to send SIGKILL to the program to terminate it\n; send SIGKILL to its whole process group instead,\n; taking care of its children as well.\nkillasgroup=true\n; Set Celery priority higher than default (999)\n; so, if rabbitmq is supervised, it will start first.\npriority=1000\n</code></pre> <ol> <li>\u542f\u52a8Supervisor\u3002</li> </ol> <pre><code>supervisorctl -c /etc/supervisord.conf\n</code></pre>"},{"location":"python/Py-100Days/Day91-100/98.%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E4%B8%8A%E7%BA%BF%E5%92%8C%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98/#_5","title":"\u5176\u4ed6\u670d\u52a1","text":"<ol> <li>\u5e38\u7528\u5f00\u6e90\u8f6f\u4ef6\u3002</li> </ol> \u529f\u80fd \u5f00\u6e90\u65b9\u6848 \u7248\u672c\u63a7\u5236\u5de5\u5177 Git\u3001Mercurial\u3001SVN \u7f3a\u9677\u7ba1\u7406 Redmine\u3001Mantis \u8d1f\u8f7d\u5747\u8861 Nginx\u3001LVS\u3001HAProxy \u90ae\u4ef6\u670d\u52a1 Postfix\u3001Sendmail HTTP\u670d\u52a1 Nginx\u3001Apache \u6d88\u606f\u961f\u5217 RabbitMQ\u3001ZeroMQ\u3001Redis \u6587\u4ef6\u7cfb\u7edf FastDFS \u57fa\u4e8e\u4f4d\u7f6e\u670d\u52a1\uff08LBS\uff09 MongoDB\u3001Redis \u76d1\u63a7\u670d\u52a1 Nagios\u3001Zabbix \u5173\u7cfb\u578b\u6570\u636e\u5e93 MySQL\u3001PostgreSQL \u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93 MongoDB\u3001Redis\u3001Cassandra \u641c\u7d22\u5f15\u64ce ElasticSearch\u3001Solr \u7f13\u5b58\u670d\u52a1 Mamcached\u3001Redis <ol> <li>\u5e38\u7528\u4e91\u670d\u52a1\u3002</li> </ol> \u529f\u80fd \u53ef\u7528\u7684\u4e91\u670d\u52a1 \u56e2\u961f\u534f\u4f5c\u5de5\u5177 Teambition\u3001\u9489\u9489 \u4ee3\u7801\u6258\u7ba1\u5e73\u53f0 Github\u3001Gitee\u3001CODING \u90ae\u4ef6\u670d\u52a1 SendCloud \u4e91\u5b58\u50a8\uff08CDN\uff09 \u4e03\u725b\u3001OSS\u3001LeanCloud\u3001Bmob\u3001\u53c8\u62cd\u4e91\u3001AWS \u79fb\u52a8\u7aef\u63a8\u9001 \u6781\u5149\u3001\u53cb\u76df\u3001\u767e\u5ea6 \u5373\u65f6\u901a\u4fe1 \u73af\u4fe1\u3001\u878d\u4e91 \u77ed\u4fe1\u670d\u52a1 \u4e91\u7247\u3001\u6781\u5149\u3001Luosimao\u3001\u53c8\u62cd\u4e91 \u7b2c\u4e09\u65b9\u767b\u5f55 \u53cb\u76df\u3001ShareSDK \u7f51\u7ad9\u76d1\u63a7\u548c\u7edf\u8ba1 \u963f\u91cc\u4e91\u76d1\u63a7\u3001\u76d1\u63a7\u5b9d\u3001\u767e\u5ea6\u4e91\u89c2\u6d4b\u3001\u5c0f\u9e1f\u4e91"},{"location":"python/Py-100Days/Day91-100/99.%E9%9D%A2%E8%AF%95%E4%B8%AD%E7%9A%84%E5%85%AC%E5%85%B1%E9%97%AE%E9%A2%98/","title":"99.\u9762\u8bd5\u4e2d\u7684\u516c\u5171\u95ee\u9898","text":""},{"location":"python/Py-100Days/Day91-100/99.%E9%9D%A2%E8%AF%95%E4%B8%AD%E7%9A%84%E5%85%AC%E5%85%B1%E9%97%AE%E9%A2%98/#_1","title":"\u9762\u8bd5\u4e2d\u7684\u516c\u5171\u95ee\u9898","text":""},{"location":"python/Py-100Days/Day91-100/99.%E9%9D%A2%E8%AF%95%E4%B8%AD%E7%9A%84%E5%85%AC%E5%85%B1%E9%97%AE%E9%A2%98/#_2","title":"\u8ba1\u7b97\u673a\u57fa\u7840","text":"<ol> <li>TCP/IP\u6a21\u578b\u76f8\u5173\u95ee\u9898\u3002</li> </ol> <p>\u5efa\u8bae\u9605\u8bfb\u962e\u4e00\u5cf0\u7684\u300a\u4e92\u8054\u7f51\u534f\u8bae\u5165\u95e8\uff08\u4e00\uff09\u300b\u548c\u300a\u4e92\u8054\u7f51\u534f\u8bae\u5165\u95e8\uff08\u4e8c\uff09\u300b\u3002</p> <ol> <li>HTTP\u548cHTTPS\u76f8\u5173\u95ee\u9898\u3002</li> </ol> <p>\u5efa\u8bae\u9605\u8bfb\u962e\u4e00\u5cf0\u7684\u300aHTTP \u534f\u8bae\u5165\u95e8\u300b\u548c\u300aSSL/TLS\u534f\u8bae\u8fd0\u884c\u673a\u5236\u7684\u6982\u8ff0\u300b\u3002</p> <ol> <li> <p>Linux\u5e38\u7528\u547d\u4ee4\u548c\u670d\u52a1\u3002</p> </li> <li> <p>\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u4ec0\u4e48\u65f6\u5019\u7528\u591a\u7ebf\u7a0b\uff1f\u4ec0\u4e48\u65f6\u5019\u7528\u591a\u8fdb\u7a0b\uff1f\u3002</p> </li> <li> <p>\u5173\u7cfb\u578b\u6570\u636e\u5e93\u76f8\u5173\u95ee\u9898\uff08ACID\u3001\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u3001\u9501\u3001SQL\u4f18\u5316\uff09\u3002</p> </li> <li> <p>\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u76f8\u5173\u95ee\u9898\uff08CAP/BASE\u3001\u5e94\u7528\u573a\u666f\uff09\u3002</p> </li> </ol>"},{"location":"python/Py-100Days/Day91-100/99.%E9%9D%A2%E8%AF%95%E4%B8%AD%E7%9A%84%E5%85%AC%E5%85%B1%E9%97%AE%E9%A2%98/#python","title":"Python\u57fa\u7840","text":"<ol> <li>\u5f00\u53d1\u4e2d\u7528\u8fc7\u54ea\u4e9b\u6807\u51c6\u5e93\u548c\u4e09\u65b9\u5e93\u3002</li> </ol> <p>\u6807\u51c6\u5e93\uff1asys / os / re / math / random / logging / json / pickle / shelve / socket / datetime / hashlib / configparser / urllib / itertools / collections / functools / threading / multiprocess / timeit / atexit / abc / asyncio / base64 / concurrent.futures / copy / csv / operator / enum / heapq / http / profile / pstats / ssl / unitest / uuid</p> <ol> <li> <p>\u88c5\u9970\u5668\u7684\u4f5c\u7528\u3001\u539f\u7406\u548c\u5b9e\u73b0\u3002</p> </li> <li> <p>\u4f7f\u7528\u8fc7\u54ea\u4e9b\u9b54\u6cd5\u65b9\u6cd5\u3002</p> </li> </ol> <p>\u5efa\u8bae\u9605\u8bfb\u300aPython\u9b54\u672f\u65b9\u6cd5\u6307\u5357\u300b\u3002</p> <ol> <li> <p>\u751f\u6210\u5f0f\u3001\u751f\u6210\u5668\u3001\u8fed\u4ee3\u5668\u7684\u7f16\u5199\u3002</p> </li> <li> <p>\u5217\u8868\u3001\u96c6\u5408\u3001\u5b57\u5178\u7684\u5e95\u5c42\u5b9e\u73b0\u3002</p> </li> <li> <p>\u5783\u573e\u56de\u6536\u76f8\u5173\u95ee\u9898\u3002</p> </li> <li> <p>\u5e76\u53d1\u7f16\u7a0b\u7684\u76f8\u5173\u95ee\u9898\u3002</p> </li> <li> <p>\u534f\u7a0b\u548c\u5f02\u6b65I/O\u76f8\u5173\u77e5\u8bc6\u3002</p> </li> </ol>"},{"location":"python/Py-100Days/Day91-100/99.%E9%9D%A2%E8%AF%95%E4%B8%AD%E7%9A%84%E5%85%AC%E5%85%B1%E9%97%AE%E9%A2%98/#djangoflask","title":"Django\u548cFlask","text":"<ol> <li> <p>MVC\u67b6\u6784\uff08MTV\uff09\u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898\u3002</p> </li> <li> <p>\u4e2d\u95f4\u4ef6\u7684\u6267\u884c\u6d41\u7a0b\u4ee5\u53ca\u5982\u4f55\u81ea\u5b9a\u4e49\u4e2d\u95f4\u4ef6\u3002</p> </li> <li> <p>REST\u6570\u636e\u63a5\u53e3\u5982\u4f55\u8bbe\u8ba1\uff08URL\u3001\u57df\u540d\u3001\u7248\u672c\u3001\u8fc7\u6ee4\u3001\u72b6\u6001\u7801\u3001\u5b89\u5168\u6027\uff09\u3002</p> </li> </ol> <p>\u5efa\u8bae\u9605\u8bfb\u962e\u4e00\u5cf0\u7684\u300aRESTful API\u8bbe\u8ba1\u6307\u5357\u300b\u3002</p> <ol> <li> <p>\u4f7f\u7528ORM\u6846\u67b6\u5b9e\u73b0CRUD\u64cd\u4f5c\u7684\u76f8\u5173\u95ee\u9898\u3002</p> </li> <li> <p>\u5982\u4f55\u5b9e\u73b0\u591a\u6761\u4ef6\u7ec4\u5408\u67e5\u8be2 / \u5982\u4f55\u6267\u884c\u539f\u751f\u7684SQL / \u5982\u4f55\u907f\u514dN+1\u67e5\u8be2\u95ee\u9898</p> </li> <li> <p>\u5982\u4f55\u6267\u884c\u5f02\u6b65\u4efb\u52a1\u548c\u5b9a\u65f6\u4efb\u52a1\u3002</p> </li> <li> <p>\u5982\u4f55\u5b9e\u73b0\u9875\u9762\u7f13\u5b58\u548c\u67e5\u8be2\u7f13\u5b58\uff1f\u7f13\u5b58\u5982\u4f55\u9884\u70ed\uff1f</p> </li> </ol>"},{"location":"python/Py-100Days/Day91-100/99.%E9%9D%A2%E8%AF%95%E4%B8%AD%E7%9A%84%E5%85%AC%E5%85%B1%E9%97%AE%E9%A2%98/#_3","title":"\u722c\u866b\u76f8\u5173","text":"<ol> <li>Scrapy\u6846\u67b6\u7684\u7ec4\u4ef6\u548c\u6570\u636e\u5904\u7406\u6d41\u7a0b\u3002</li> <li>\u722c\u53d6\u7684\u76ee\u7684\uff08\u9879\u76ee\u4e2d\u54ea\u4e9b\u5730\u65b9\u9700\u8981\u7528\u5230\u722c\u866b\u7684\u6570\u636e\uff09\u3002</li> <li>\u4f7f\u7528\u7684\u5de5\u5177\uff08\u6293\u5305\u3001\u4e0b\u8f7d\u3001\u6e05\u7406\u3001\u5b58\u50a8\u3001\u5206\u6790\u3001\u53ef\u89c6\u5316\uff09\u3002</li> <li>\u6570\u636e\u7684\u6765\u6e90\uff08\u80fd\u591f\u8f7b\u677e\u7684\u5217\u4e3e\u51fa10\u4e2a\u7f51\u7ad9\uff09\u3002</li> <li>\u6570\u636e\u7684\u6784\u6210\uff08\u6293\u53d6\u7684\u67d0\u4e2a\u5b57\u6bb5\u5728\u9879\u76ee\u4e2d\u6709\u4ec0\u4e48\u7528\uff09\u3002</li> <li>\u53cd\u53cd\u722c\u63aa\u65bd\uff08\u9650\u901f\u3001\u8bf7\u6c42\u5934\u3001Cookie\u6c60\u3001\u4ee3\u7406\u6c60\u3001Selenium\u3001PhantomJS\u3001RoboBrowser\u3001TOR\u3001OCR\uff09\u3002</li> <li>\u6570\u636e\u7684\u4f53\u91cf\uff08\u6700\u540e\u6293\u53d6\u4e86\u591a\u5c11\u6570\u636e\uff0c\u591a\u5c11W\u6761\u6570\u636e\u6216\u591a\u5c11\u4e2aG\u7684\u6570\u636e\uff09\u3002</li> <li>\u540e\u671f\u6570\u636e\u5904\u7406\uff08\u6301\u4e45\u5316\u3001\u6570\u636e\u8865\u5168\u3001\u5f52\u4e00\u5316\u3001\u683c\u5f0f\u5316\u3001\u8f6c\u5b58\u3001\u5206\u7c7b\uff09\u3002</li> </ol>"},{"location":"python/Py-100Days/Day91-100/99.%E9%9D%A2%E8%AF%95%E4%B8%AD%E7%9A%84%E5%85%AC%E5%85%B1%E9%97%AE%E9%A2%98/#_4","title":"\u6570\u636e\u5206\u6790","text":"<ol> <li>\u79d1\u5b66\u8fd0\u7b97\u51fd\u6570\u5e93\uff08SciPy\u548cNumPy\u5e38\u7528\u8fd0\u7b97\uff09\u3002</li> <li>\u6570\u636e\u5206\u6790\u5e93\uff08Pandas\u4e2d\u5c01\u88c5\u7684\u5e38\u7528\u7b97\u6cd5\uff09\u3002</li> <li>\u5e38\u7528\u7684\u6a21\u578b\u53ca\u5bf9\u5e94\u7684\u573a\u666f\uff08\u5206\u7c7b\u3001\u56de\u5f52\u3001\u805a\u7c7b\uff09\u3002</li> <li>\u63d0\u53d6\u4e86\u54ea\u4e9b\u5177\u4f53\u7684\u6307\u6807\u3002</li> <li>\u5982\u4f55\u8bc4\u4ef7\u6a21\u578b\u7684\u4f18\u52a3\u3002</li> <li>\u6bcf\u79cd\u6a21\u578b\u5b9e\u9645\u64cd\u4f5c\u7684\u6b65\u9aa4\uff0c\u5bf9\u7ed3\u679c\u5982\u4f55\u8bc4\u4ef7\u3002</li> </ol>"},{"location":"python/Py-100Days/Day91-100/99.%E9%9D%A2%E8%AF%95%E4%B8%AD%E7%9A%84%E5%85%AC%E5%85%B1%E9%97%AE%E9%A2%98/#_5","title":"\u9879\u76ee\u76f8\u5173","text":"<ol> <li>\u9879\u76ee\u56e2\u961f\u6784\u6210\u4ee5\u53ca\u81ea\u5df1\u5728\u56e2\u961f\u4e2d\u626e\u6f14\u7684\u89d2\u8272\uff08\u5728\u9879\u76ee\u4e2d\u7684\u804c\u8d23\uff09\u3002</li> <li>\u9879\u76ee\u7684\u4e1a\u52a1\u67b6\u6784\uff08\u54ea\u4e9b\u6a21\u5757\u53ca\u5b50\u6a21\u5757\uff09\u548c\u6280\u672f\u67b6\u6784\uff08\u79fb\u52a8\u7aef\u3001PC\u7aef\u3001\u540e\u7aef\u6280\u672f\u6808\uff09\u3002</li> <li>\u8f6f\u4ef6\u63a7\u5236\u7ba1\u7406\u76f8\u5173\u5de5\u5177\uff08\u7248\u672c\u63a7\u5236\u3001\u95ee\u9898\u7ba1\u7406\u3001\u6301\u7eed\u96c6\u6210\uff09\u3002</li> <li>\u6838\u5fc3\u4e1a\u52a1\u5b9e\u4f53\u53ca\u5176\u5c5e\u6027\uff0c\u5b9e\u4f53\u4e0e\u5b9e\u4f53\u4e4b\u95f4\u7684\u5173\u7cfb\u3002</li> <li>\u7528\u5230\u54ea\u4e9b\u4f9d\u8d56\u5e93\uff0c\u4f9d\u8d56\u5e93\u4e3b\u8981\u89e3\u51b3\u54ea\u65b9\u9762\u7684\u95ee\u9898\u3002</li> <li>\u9879\u76ee\u5982\u4f55\u90e8\u7f72\u4e0a\u7ebf\u4ee5\u53ca\u9879\u76ee\u7684\u7269\u7406\u67b6\u6784\uff08Nginx\u3001Gunicorn/uWSGI\u3001Redis\u3001MongoDB\u3001MySQL\u3001Supervisor\u7b49\uff09\u3002</li> <li>\u5982\u4f55\u5bf9\u9879\u76ee\u8fdb\u884c\u6d4b\u8bd5\uff0c\u6709\u6ca1\u6709\u505a\u8fc7\u6027\u80fd\u8c03\u4f18\u3002</li> <li>\u9879\u76ee\u4e2d\u9047\u5230\u7684\u56f0\u96be\u6709\u54ea\u4e9b\uff0c\u5982\u4f55\u89e3\u51b3\u7684\u3002</li> </ol>"},{"location":"python/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-md%E7%AC%94%E8%AE%B0/01-matlab%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/","title":"01 matlab\u57fa\u7840\u4f7f\u7528","text":""},{"location":"python/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-md%E7%AC%94%E8%AE%B0/02-numpy/","title":"02 numpy","text":""},{"location":"python/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-md%E7%AC%94%E8%AE%B0/02-numpy/#_1","title":"\u6570\u7ec4\u8fd0\u7b97\u7684\u5e7f\u64ad\u673a\u5236","text":"<ul> <li> <p>\u7ef4\u5ea6\u76f8\u7b49</p> </li> <li> <p>shape\uff08\u5176\u4e2d\u76f8\u5bf9\u4e8e\u7684\u5730\u65b9\u6709\u4e00\u4e2a\u4e3a1\uff09</p> </li> </ul> <p></p> <p></p>"},{"location":"python/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-md%E7%AC%94%E8%AE%B0/02-numpy/#_2","title":"\u603b\u7ed3","text":""},{"location":"python/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-md%E7%AC%94%E8%AE%B0/03-pandas-2/","title":"03 pandas 2","text":""},{"location":"python/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-md%E7%AC%94%E8%AE%B0/03-pandas/","title":"03 pandas","text":""},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/01.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95%E4%BB%8B%E7%BB%8D/","title":"01.\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u4ecb\u7ecd","text":""},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/01.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95%E4%BB%8B%E7%BB%8D/#_1","title":"\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u5206\u7c7b","text":""},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/01.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95%E4%BB%8B%E7%BB%8D/#_2","title":"\u76d1\u7763\u5b66\u4e60\uff08\u9884\u6d4b\uff09","text":"<ul> <li>\u5206\u7c7b\uff08\u76ee\u6807\u503c\u79bb\u6563\u578b(\u7c7b\u522b\u3001\u5206\u7c7b\u7c7b\u578b)\uff09\uff1ak-\u8fd1\u90bb\u7b97\u6cd5\u3001\u8d1d\u53f6\u65af\u5206\u7c7b\u3001\u51b3\u7b56\u6811\u4e0e\u968f\u673a\u68ee\u6797\u3001\u903b\u8f91\u56de\u5f52\u3001\u795e\u7ecf\u7f51\u7edc</li> <li>\u56de\u5f52\uff08\u76ee\u6807\u503c\u8fde\u7eed\u6027\uff09\uff1a\u7ebf\u6027\u56de\u5f52\u3001\u5cad\u56de\u5f52</li> </ul>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/01.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95%E4%BB%8B%E7%BB%8D/#_3","title":"\u975e\u76d1\u7763\u5b66\u4e60","text":"<ul> <li>\u805a\u7c7b k-means</li> </ul>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/01.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95%E4%BB%8B%E7%BB%8D/#_4","title":"\u4e00\u822c\u5f00\u53d1\u6d41\u7a0b","text":""},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/01.%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95%E4%BB%8B%E7%BB%8D/#_5","title":"\u603b\u7ed3","text":""},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/02.%E7%BD%91%E6%A0%BC%E6%90%9C%E7%B4%A2%E3%80%81%E5%86%B3%E7%AD%96%E6%A0%91%E3%80%81%E9%9A%8F%E6%9C%BA%E6%A3%AE%E6%9E%97/","title":"02.\u7f51\u683c\u641c\u7d22\u3001\u51b3\u7b56\u6811\u3001\u968f\u673a\u68ee\u6797","text":"<p>\u4ea4\u53c9\u9a8c\u8bc1\uff1a\u4e3a\u4e86\u8ba9\u88ab\u8bc4\u4f30\u7684\u6a21\u578b\u66f4\u52a0\u51c6\u786e\u53ef\u4fe1</p> <p>\u4ea4\u53c9\u9a8c\u8bc1\u4f1a\u5c06\u6240\u6709\u7684\u6570\u636e\u5206\u6210n\u7b49\u5206\u7684\u6570\u636e\uff0c\u7136\u540e\u5c06\u6570\u636e\u7684\u9a8c\u8bc1\u96c6\u6bcf\u6b21\u53d8\u6362\uff0c\u5f97\u5230n\u4e2a\u6a21\u578b\u7ed3\u679c\uff0c\u6700\u540e\u53d6\u5e73\u5747\u503c\u4f5c\u4e3a\u7ed3\u679c\uff0c\u8fd9\u53c8\u53eb\u505an\u6298\u4ea4\u53c9\u9a8c\u8bc1</p>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/02.%E7%BD%91%E6%A0%BC%E6%90%9C%E7%B4%A2%E3%80%81%E5%86%B3%E7%AD%96%E6%A0%91%E3%80%81%E9%9A%8F%E6%9C%BA%E6%A3%AE%E6%9E%97/#_1","title":"\u7f51\u683c\u641c\u7d22","text":"<pre><code>sklearn.model_selection.GridSearchCV(estimator, param_grid, cv)\n</code></pre> <ul> <li>\u5bf9\u4f30\u8ba1\u5668\u7684\u6307\u5b9a\u53c2\u6570\u503c\u8fdb\u884c\u8be6\u5c3d\u7684\u641c\u7d22</li> <li>\u53c2\u6570\uff1a</li> <li>estimator\uff1a\u4f30\u8ba1\u5668\u5bf9\u8c61\uff08\u4f7f\u7528\u7684\u7b97\u6cd5\u5bf9\u8c61\uff09</li> <li>param_grid\uff1a\u4f30\u8ba1\u5668\u53c2\u6570(dict){\"n_neighbors\":[1,3,5]}</li> <li>cv:\u6307\u5b9a\u51e0\u6298\u4ea4\u53c9\u9a8c\u8bc1</li> <li>\u65b9\u6cd5\uff1a</li> <li>fit:\u8f93\u5165\u8bad\u7ec3\u6570\u636e</li> <li>score\uff1a\u51c6\u786e\u7387</li> <li>\u7ed3\u679c\u5206\u6790\uff1a</li> <li>best_score_:\u5728\u4ea4\u53c9\u9a8c\u8bc1\u4e2d\u9a8c\u8bc1\u7684\u6700\u597d\u7ed3\u679c</li> <li>best_estimator_\uff1a\u6700\u597d\u7684\u53c2\u6570\u6a21\u578b</li> <li>cv_results_\uff1a\u6bcf\u6b21\u4ea4\u53c9\u9a8c\u8bc1\u540e\u7684\u9a8c\u8bc1\u96c6\u51c6\u786e\u7387\u7ed3\u679c\u548c\u8bad\u7ec3\u96c6\u51c6\u786e\u7387\u7ed3\u679c</li> </ul>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/02.%E7%BD%91%E6%A0%BC%E6%90%9C%E7%B4%A2%E3%80%81%E5%86%B3%E7%AD%96%E6%A0%91%E3%80%81%E9%9A%8F%E6%9C%BA%E6%A3%AE%E6%9E%97/#_2","title":"\u51b3\u7b56\u6811","text":"<ul> <li> <p>\u4fe1\u606f\u71b5\uff1a</p> </li> <li> <p>\u4fe1\u606f\u589e\u76ca\uff08\u8d8a\u5927\u8d8a\u91cd\u8981\uff09\uff1a\u4fe1\u606f\u589e\u76ca\u8868\u793a\u5f97\u77e5\u7279\u5f81X\u7684\u4fe1\u606f\u800c\u4fe1\u606f\u7684\u4e0d\u786e\u5b9a\u6027\u51cf\u5c11\u7684\u7a0b\u5ea6\u662f\u7684\u7c7bY\u7684\u4fe1\u606f\u71b5\u51cf\u5c11\u7684\u7a0b\u5ea6</p> </li> </ul> <p></p>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/02.%E7%BD%91%E6%A0%BC%E6%90%9C%E7%B4%A2%E3%80%81%E5%86%B3%E7%AD%96%E6%A0%91%E3%80%81%E9%9A%8F%E6%9C%BA%E6%A3%AE%E6%9E%97/#_3","title":"\u51b3\u7b56\u6811\u5206\u7c7b","text":"<ul> <li>ID3 \u4fe1\u606f\u589e\u76ca\uff1a\u6700\u5927\u7684\u51c6\u5219</li> <li>C4.5 \u4fe1\u606f\u589e\u76ca\u6bd4\uff1a\u6700\u5927\u7684\u51c6\u5219</li> <li>CART \u56de\u5f52\u6811\uff1a\u5e73\u8bef\u5dee\uff1a\u6700\u5c0f</li> <li>CART \u5206\u7c7b\u6811\uff1a\u57fa\u5c3c\u7cfb\u6570 \u6700\u5c0f\u7684\u51c6\u5219 \u5728sklearn\u4e2d\u53ef\u4ee5\u9009\u62e9\u5212\u5206\u7684\u9ed8\u8ba4\u539f\u5219</li> </ul>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/02.%E7%BD%91%E6%A0%BC%E6%90%9C%E7%B4%A2%E3%80%81%E5%86%B3%E7%AD%96%E6%A0%91%E3%80%81%E9%9A%8F%E6%9C%BA%E6%A3%AE%E6%9E%97/#api","title":"\u51b3\u7b56\u6811API","text":""},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/02.%E7%BD%91%E6%A0%BC%E6%90%9C%E7%B4%A2%E3%80%81%E5%86%B3%E7%AD%96%E6%A0%91%E3%80%81%E9%9A%8F%E6%9C%BA%E6%A3%AE%E6%9E%97/#_4","title":"\u968f\u673a\u68ee\u6797","text":"<p>\u5de5\u4f5c\u539f\u7406\uff1a\u751f\u6210\u591a\u4e2a\u5206\u7c7b\u5668/\u6a21\u578b\uff0c\u5404\u81ea\u72ec\u7acb\u7684\u5b66\u4e60\u548c\u505a\u51fa\u9884\u6d4b\u3002\u8fd9\u4e9b\u9884\u6d4b\u6700\u540e\u7ed3\u5408\u7ec4\u6210\u7ec4\u5408\u9884\u6d4b\uff0c\u56e0\u6b64\u4f18\u4e8e\u4efb\u4f55\u4e00\u4e2a\u5355\u5206\u7c7b\u7684\u505a\u51fa\u9884\u6d4b\u3002</p> <p>\u968f\u673a\u68ee\u6797\u5c31\u662f\u4e00\u4e2a\u5305\u542b\u591a\u4e2a\u51b3\u7b56\u6811\u7684\u5206\u7c7b\u5668\uff0c\u5e76\u4e14\u5176\u8f93\u51fa\u7684\u7c7b\u522b\u662f\u7531\u4e2a\u522b\u6811\u8f93\u51fa\u7684\u7c7b\u522b\u7684\u4f17\u6570\u800c\u5b9a\u3002</p> <p>\u5b83\u5c5e\u4e8e\u96c6\u6210\u5b66\u4e60\u65b9\u6cd5\u7684\u4e00\u79cd</p>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/02.%E7%BD%91%E6%A0%BC%E6%90%9C%E7%B4%A2%E3%80%81%E5%86%B3%E7%AD%96%E6%A0%91%E3%80%81%E9%9A%8F%E6%9C%BA%E6%A3%AE%E6%9E%97/#_5","title":"\u539f\u7406","text":"<p>\u968f\u673a\u65b9\u6cd5\u53ef\u5206\u4e3a\u8bad\u7ec3\u96c6\u968f\u673a\u548c\u7279\u5f81\u968f\u673a</p> <ul> <li>\u8bad\u7ec3\u96c6\u968f\u673a\uff1a\u4f7f\u7528bootstrap\u65b9\u6cd5\u968f\u673a\u6709\u653e\u56de\u62bd\u6837</li> <li>\u6bcf\u6b21\u62bd\u4e00\u4e2a\u6837\u672c\uff0c\u7136\u540e\u653e\u56de\u53bb\uff0c\u5faa\u73af\u8fd9\u6837\u76f4\u5230\u968f\u673a\u751f\u6210\u4e00\u4e2a\u5b8c\u6574\u7684\u65b0\u7684\u8bad\u7ec3\u96c6</li> <li>\u7279\u5f81\u968f\u673a\uff1a\u4eceM\u4e2a\u7279\u5f81\u4e2d\u968f\u673a\u62bd\u53d6m\u4e2a\u7279\u5f81\uff08M&gt;m\uff09</li> </ul>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/02.%E7%BD%91%E6%A0%BC%E6%90%9C%E7%B4%A2%E3%80%81%E5%86%B3%E7%AD%96%E6%A0%91%E3%80%81%E9%9A%8F%E6%9C%BA%E6%A3%AE%E6%9E%97/#_6","title":"\u603b\u7ed3","text":""},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/","title":"03 \u56de\u5f52\u548c\u805a\u7c7b","text":""},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#31","title":"3.1\u7ebf\u6027\u56de\u5f52","text":"<p>\u5b9a\u4e49\uff1a\u7ebf\u6027\u56de\u5f52\u5229\u7528\u56de\u5f52\u65b9\u7a0b\u5bf9\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u81ea\u53d8\u91cf(\u7279\u5f81\u503c)\u4e0e\u56e0\u53d8\u91cf(\u76ee\u6807\u503c)\u4e4b\u95f4\u5173\u7cfb\u8fdb\u884c\u5efa\u6a21\u7684\u4e00\u79cd\u5206\u6790\u65b9\u5f0f\u3002\u5176\u4e2d\u81ea\u53d8\u91cf\u53ef\u4ee5\u4e3a\u4e00\u4e2a\u6216\u591a\u4e2a\u3002</p> <p>\u4e00\u5143\u7ebf\u6027\u56de\u5f52(\u5355\u53d8\u91cf\u7ebf\u6027\u56de\u5f52)\uff1a\u6d89\u53ca\u7684\u53d8\u91cf\u53ea\u6709\u4e00\u4e2a</p> <p>\u591a\u5143\u7ebf\u6027\u56de\u5f52\uff1a\u8bbe\u8ba1\u7684\u53d8\u91cf\u6709\u4e24\u4e2a\u6216\u8005\u4e24\u4e2a\u4ee5\u4e0a </p>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#_1","title":"\u5e7f\u4e49\u7ebf\u6027\u6a21\u578b","text":"<ul> <li>\u7ebf\u6027\u6a21\u578b\uff1a</li> <li>\u81ea\u53d8\u91cfx\u662f\u4e00\u6b21\u7684\uff08\u5177\u6709\u7ebf\u6027\u5173\u7cfb\uff09\uff1ay=w1x1 + w2x2 + \u2026\u2026 + b</li> <li> <p>\u53c2\u6570\u662f\u4e00\u6b21\u7684\uff08\u4e0d\u5177\u6709\u7ebf\u6027\u5173\u7cfb\uff0c\u4f46\u662f\u8fd8\u662f\u7ebf\u6027\u6a21\u578b\uff09\uff1ay=w1x1 + w2x1^2 + w3x1^3 + \u2026\u2026 + b</p> </li> <li> <p>\u7ebf\u6027\u6a21\u578b\u4e0e\u7ebf\u6027\u5173\u7cfb\u7684\u5173\u7cfb\uff1a</p> </li> <li>\u7ebf\u6027\u5173\u7cfb\u4e00\u5b9a\u662f\u7ebf\u6027\u6a21\u578b</li> <li>\u7ebf\u6027\u6a21\u578b\u4e0d\u4e00\u5b9a\u5177\u6709\u7ebf\u6027\u5173\u7cfb</li> </ul>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#_2","title":"\u56de\u5f52\u6b65\u9aa4","text":"<ol> <li> <p>\u7b97\u6cd5\uff1a\u7ebf\u6027\u56de\u5f52</p> </li> <li> <p>\u9009\u62e9\u635f\u5931\u51fd\u6570(\u6700\u5c0f\u4e8c\u4e58\u6cd5)</p> </li> </ol> <p></p> <p></p> <ol> <li> <p>\u4f18\u5316\u635f\u5931\u51fd\u6570\uff0c\u4f7f\u5f97\u635f\u5931W\u6700\u5c0f</p> </li> <li> <p>\u6b63\u89c4\u65b9\u7a0b\uff1a</p> <p>\u7406\u89e3\uff1aX\u4e3a\u7279\u5f81\u503c\u77e9\u9635\uff0cy\u4e3a\u76ee\u6807\u503c\u77e9\u9635</p> <p>\u7f3a\u70b9\uff1a\u7279\u5f81\u8fc7\u4e8e\u590d\u6742\u65f6\uff0c\u6c42\u89e3\u901f\u5ea6\u5f88\u6162</p> <p></p> </li> <li> <p>\u68af\u5ea6\u4e0b\u964d\uff1a</p> </li> </ol> <p></p> <p>\u200b           \u68af\u5ea6\u4e0b\u964d\u8fc7\u7a0b\uff1a</p> <p></p> <p></p> <p></p> <p></p> <ul> <li>API</li> </ul> <p></p> <ul> <li>\u56de\u5f52\u6027\u80fd\u8bc4\u4f30\uff0c\u4f7f\u7528\u5747\u65b9\u8bef\u5dee\u8bc4\u4ef7\u673a\u5236</li> </ul> <p>y^i\u4e3a\u9884\u6d4b\u503c\uff0c-y\u4e3a\u771f\u5b9e\u503c</p> <ul> <li></li> <li> <p></p> </li> <li> <p>\u62d3\u5c55-\u5173\u4e8e\u4f18\u5316\u65b9\u6cd5 GD\u3001SGD\u3001SAD</p> </li> <li>GD\uff1a\u68af\u5ea6\u4e0b\u964d(Gradient Descent)\uff0c\u539f\u59cb\u7684\u68af\u5ea6\u4e0b\u964d\u6cd5\u9700\u8981\u8ba1\u7b97\u6240\u6709\u6837\u672c\u7684\u503c\u624d\u80fd\u591f\u5f97\u51fa\u68af\u5ea6\uff0c\u8ba1\u7b97\u91cf\u5927\uff0c\u6240\u4ee5\u624d\u4f1a\u6709\u4f18\u5316\u65b9\u6cd5</li> <li>SGD\uff1a\u968f\u673a\u68af\u5ea6\u4e0b\u964d(Stochastic gradient descent)\u662f\u4e00\u4e2a\u4f18\u5316\u65b9\u6cd5\u3002\u5b83\u5728\u4e00\u6b21\u8fed\u4ee3\u65f6\u53ea\u8003\u8651\u4e00\u4e2a\u8bad\u7ec3\u6837\u672c\u3002<ul> <li>\u4f18\u70b9\uff1a\u641e\u7b11\u3001\u5bb9\u6613\u5b9e\u73b0</li> <li>\u7f3a\u70b9\uff1aSGD\u9700\u8981\u8bb8\u591a\u8d85\u53c2\u6570\uff1a\u6bd4\u5982\u6b63\u5219\u9879\u53c2\u6570\u3001\u8fed\u4ee3\u6570\u3002SGD\u5bf9\u4e8e\u7279\u5f81\u6807\u51c6\u5316\u662f\u654f\u611f\u7684\u3002</li> </ul> </li> <li>SAG\uff1a\u968f\u673a\u5e73\u5747\u68af\u5ea6\u4e0b\u964d\u6cd5(Stochastic Average Gradient)\uff0c\u7531\u4e8e\u6536\u655b\u7684\u901f\u5ea6\u592a\u6162\uff0c\u6240\u4ee5\u63d0\u51fa\u4e86SAG\u7b49\u57fa\u4e8e\u68af\u5ea6\u4e0b\u964d\u7684\u7b97\u6cd5<ul> <li>Scikit-learn\uff1a\u5cad\u56de\u5f52\u3001\u903b\u8f91\u56de\u5f52\u7b49\u5f53\u4e2d\u90fd\u6709SAG\u4f18\u5316</li> </ul> </li> </ul>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#32","title":"3.2\u8fc7\u62df\u5408\u4e0e\u6b20\u62df\u5408","text":"<ul> <li> <p>\u6b20\u62df\u5408\uff1a\u5b66\u4e60\u5230\u7684\u7279\u5f81\u8fc7\u5c11</p> </li> <li> <p>\u89e3\u51b3\uff1a\u589e\u52a0\u4e00\u4e9b\u7279\u5f81\u6570\u91cf</p> </li> <li> <p>\u8fc7\u62df\u5408\uff1a\u5b66\u4e60\u5230\u7684\u7279\u5f81\u8fc7\u591a\uff0c\u5b58\u5728\u4e00\u4e9b\u5608\u6742\u7684\u7279\u5f81\uff0c\u6a21\u578b\u8fc7\u4e8e\u590d\u6742\uff0c\u53ea\u9002\u5408\u4e8e\u8bad\u7ec3\u96c6\u7684\u6570\u636e\u3002</p> </li> <li> <p>\u89e3\u51b3\uff1a\u4f7f\u7528\u6b63\u5219\u5316</p> <p>\u9488\u5bf9\u56de\u5f52\uff0c\u4e00\u822c\u9009\u62e9\u6b63\u5219\u5316\u3002\u4f46\u662f\u5176\u4ed6\u7684\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u4e5f\u6709\u53ef\u80fd\u51fa\u73b0\u8fd9\u6837\u7684\u95ee\u9898\uff0c\u8fd9\u65f6\u5019\u5c31\u9700\u8981\u6211\u4eec\u81ea\u5df1\u53bb\u505a\u66f4\u591a\u7684\u7279\u5f81\u9009\u62e9\uff0c\u6bd4\u5982 \u5220\u9664\u6216\u8005\u5408\u5e76\u4e00\u4e9b\u7279\u5f81\u3002</p> </li> <li> <p>\u8fc7\u62df\u5408\u4e0e\u6b20\u62df\u5408\u56fe\u4f8b\uff1a</p> </li> </ul> <p>\u200b   </p>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#_3","title":"\u6b63\u5219\u5316\u7c7b\u522b","text":"<ul> <li> <p>L2\u6b63\u5219\u5316(\u635f\u5931\u51fd\u6570 + \u03bb\u60e9\u7f5a\u9879\uff0c\u66f4\u5e38\u7528)</p> </li> <li> <p>\u4f5c\u7528\uff1a\u53ef\u4ee5\u4f7f\u5176\u4e2d\u4e00\u4e9bW\u7684\u503c\u53d8\u5f97\u5f88\u5c0f\uff0c\u90fd\u63a5\u8fd1\u4e8e0\uff0c\u7b49\u4e8e\u524a\u5f31\u67d0\u4e2a\u7279\u5f81\u7684\u5f71\u54cd</p> </li> <li> <p>\u4f18\u70b9\uff1a\u8d8a\u5c0f\u7684\u53c2\u6570\u8bf4\u660e\u6a21\u578b\u8d8a\u7b80\u5355\uff0c\u8d8a\u7b80\u5355\u7684\u6a21\u578b\u8d8a\u4e0d\u5bb9\u6613\u4ea7\u751f\u8fc7\u62df\u5408</p> </li> <li> <p>Ridge\u56de\u5f52(\u5cad\u56de\u5f52)</p> </li> <li> <p>\u52a0\u5165L2\u6b63\u5219\u5316\u540e\u7684\u635f\u5931\u51fd\u6570 J(W)\uff1a</p> <p></p> </li> <li> <p>L1\u6b63\u5219\u5316(\u635f\u5931\u51fd\u6570 +  \u03bb|\u60e9\u7f5a\u9879|)</p> </li> <li>\u4f5c\u7528\uff1a\u53ef\u4ee5\u4f7f\u5f97\u5176\u4e2d\u7684\u4e00\u4e9bW\u7cfb\u6570\u76f4\u63a5\u4e3a0\uff0c\u5220\u9664\u8fd9\u4e2a\u7279\u5f81\u7684\u5f71\u54cd</li> <li>LASSO\u56de\u5f52</li> </ul>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#33-","title":"3.3\u7ebf\u6027\u56de\u5f52\u6539\u8fdb-\u5cad\u56de\u5f52","text":"<p>\u5cad\u56de\u5f52\u4e5f\u662f\u4e00\u79cd\u7ebf\u6027\u56de\u5f52\uff0c\u53ea\u4e0d\u8fc7\u5728\u7b97\u6cd5\u5efa\u7acb\u56de\u5f52\u65b9\u7a0b\u7684\u65f6\u5019\u52a0\u5165\u4e86\u6b63\u5219\u5316\u7684\u9650\u5236\uff0c\u4ece\u800c\u8fbe\u5230\u89e3\u51b3\u8fc7\u62df\u5408\u7684\u95ee\u9898</p>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#1api","title":"1.\u5cad\u56de\u5f52API\uff1a","text":"<ul> <li>sklearn.linear_model.Ridge(alpha=1.0, fit_intercept=True,solver=\"auto\",normalize=False)</li> <li>\u5177\u67092\u6b63\u5219\u5316\u7684\u7ebf\u6027\u56de\u5f52</li> <li>alpha:\u6b63\u5219\u5316\u529b\u5ea6\uff0c\u4e5f\u53eb \u03bb<ul> <li>\u03bb\u53d6\u503c:0~1  1~10</li> </ul> </li> <li>solver:\u4f1a\u6839\u636e\u6570\u636e\u81ea\u52a8\u9009\u62e9\u4f18\u5316\u65b9\u6cd5<ul> <li>sag:\u5982\u679c\u6570\u636e\u96c6\u3001\u7279\u5f81\u90fd\u6bd4\u8f83\u5927\uff0c\u9009\u62e9\u8be5\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u4f18\u5316</li> </ul> </li> <li>normalize:\u6570\u636e\u662f\u5426\u8fdb\u884c\u6807\u51c6\u5316<ul> <li>normalize=False:\u53ef\u4ee5\u5728fit\u4e4b\u524d\u8c03\u7528preprocessing.StandardScaler\u6807\u51c6\u5316\u6570\u636e</li> </ul> </li> <li>Ridge.coef_:\u56de\u5f52\u6743\u91cd</li> <li>Ridge.intercept_:\u56de\u5f52\u504f\u7f6e</li> </ul>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#2","title":"2.\u6b63\u5219\u5316\u7a0b\u5ea6\u7684\u53d8\u5316\uff0c\u5bf9\u7ed3\u679c\u7684\u5f71\u54cd","text":""},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#34","title":"3.4\u903b\u8f91\u56de\u5f52","text":"<p>\u903b\u8f91\u56de\u5f52(Logistic Regression)\u662f\u673a\u5668\u5b66\u4e60\u4e2d\u7684\u4e00\u79cd\u5206\u7c7b\u6a21\u578b\uff0c\u903b\u8f91\u56de\u5f52\u662f\u4e00\u79cd\u5206\u7c7b\u7b97\u6cd5\uff0c\u867d\u7136\u540d\u5b57\u4e2d\u5e26\u6709\u56de\u5f52\uff0c\u4f46\u662f\u5b83\u4e0e\u56de\u5f52\u4e4b\u95f4\u6709\u4e00\u5b9a\u7684\u8054\u7cfb\u3002\u7531\u4e8e\u7b97\u6cd5\u7684\u7b80\u5355\u548c\u9ad8\u6548\uff0c\u5728\u5b9e\u9645\u4e2d\u5e94\u7528\u975e\u5e38\u5e7f\u6cdb\u3002</p> <p>\u903b\u8f91\u56de\u5f52\u4e00\u822c\u7528\u4e8e\u89e3\u51b3\u4e8c\u5206\u7c7b\u95ee\u9898</p>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#_4","title":"\u539f\u7406","text":"<ol> <li>\u8f93\u5165\uff1a\u903b\u8f91\u56de\u5f52\u7684\u8f93\u5165\u5c31\u662f\u4e00\u4e2a\u7ebf\u6027\u56de\u5f52\u7684\u7ed3\u679c</li> </ol> <ol> <li> <p>\u6fc0\u6d3b\u51fd\u6570</p> </li> <li> <p>sigmoid\u51fd\u6570( 1/1 + e^(-x) )</p> </li> </ol> <p></p> <ul> <li>\u7ebf\u6027\u56de\u5f52\u7684\u7ed3\u679c\u4f1a\u8f93\u5165\u5230sigmoid\u7684x\u4e2d\uff0c\u4ece\u800c\u5f97\u51fa\u8f93\u51fa\uff1a[0, 1]\u533a\u95f4\u4e2d\u7684\u4e00\u4e2a\u6982\u7387\u503c\uff0c\u9ed8\u8ba4\u7684\u9884\u7f6e\u4e3a0.5</li> </ul> <p></p>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#_5","title":"\u903b\u8f91\u56de\u5f52\u8fc7\u7a0b","text":""},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#_6","title":"\u903b\u8f91\u56de\u5f52\u7684\u635f\u5931\u51fd\u6570\u79f0\u4e3a \u5bf9\u6570\u635f\u5931\u51fd\u6570","text":"<p>\u5206\u6bb5\u8ba1\u7b97\u5f0f\u5b50\uff1a</p> <p></p> <p>\u7531\u4e8e\u5206\u6bb5\u7684\u5f0f\u5b50\u4e0d\u597d\u8ba1\u7b97\uff0c\u6240\u4ee5\u5f15\u5165 \u5b8c\u6574\u7684\u635f\u5931\u51fd\u6570(\u5b8c\u6574\u7684\u635f\u5931\u51fd\u6570\u5728\u5206\u6bb5\u6761\u4ef6\u4e0b\u548c\u5206\u6bb5\u5f0f\u5b50\u7684\u7ed3\u679c\u662f\u4e00\u6837\u7684)\uff1a</p> <p></p> <p>\u635f\u5931\u51fd\u6570\u8ba1\u7b97\u8fc7\u7a0b\uff1a\u628a\u771f\u5b9e\u7ed3\u679c\u5e26\u5165\u5230\u4e0a\u5f0f\u5373\u53ef</p> <p></p>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#_7","title":"\u4f18\u5316\u635f\u5931\u51fd\u6570","text":"<p>\u540c\u6837\u53ef\u4ee5\u4f7f\u7528\u7ebf\u6027\u56de\u5f52\u4e2d\u4f7f\u7528\u56fa\u5b9a\u65b9\u6cd5\uff0c\u68af\u5ea6\u4e0b\u964d\u4f18\u5316\u7b97\u6cd5\uff0c\u53bb\u51cf\u5c11\u635f\u5931\u51fd\u6570\u7684\u503c\u3002</p>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#api","title":"\u903b\u8f91\u56de\u5f52API","text":"<ul> <li>sklearn.linear_model.LogisticRegression(solver='liblinear', penalty='l2', C =1.0)</li> <li>solver:\u4f18\u5316\u6c42\u89e3\u65b9\u5f0f\uff08\u9ed8\u8ba4\u5f00\u6e90\u7684liblinear\u5e93\u5b9e\u73b0\uff0c\u5185\u90e8\u4f7f\u7528\u4e86\u5750\u6807\u8f74\u4e0b\u964d\u6cd5\u6765\u8fed\u4ee3\u4f18\u5316\u635f\u5931\u51fd\u6570)<ul> <li>sag:\u6839\u636e\u6570\u636e\u96c6\u81ea\u52a8\u9009\u62e9\uff0c\u968f\u673a\u5e73\u5747\u68af\u5ea6\u4e0b\u964d</li> </ul> </li> <li>penalty:\u6b63\u5219\u5316\u7684\u79cd\u7c7b</li> <li>C: \u6b63\u5219\u5316\u529b\u5ea6</li> </ul> <p>\u9ed8\u8ba4\u5c06\u7c7b\u522b\u6570\u91cf\u5c11\u7684\u5f53\u505a\u6b63\u4f8b</p> <p>LogisticRegression\u65b9\u6cd5\u76f8\u5f53\u4e8eSGDClassifier(Ioss=\"log\",penalty=\" \"),SGDClassifier\u5b9e\u73b0\u4e86\u4e00\u4e2a\u666e\u901a\u7684\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u5b66\u4e60\uff0c\u4e5f\u652f\u6301\u5e73\u5747\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u6cd5(ASGD)\uff0c\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e average=True\u3002\u800c\u4f7f\u7528LogisticRegression(\u5b9e\u73b0\u4e86SAG)</p>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#_8","title":"\u7cbe\u786e\u7387\u4e0e\u53ec\u56de\u7387","text":"<ol> <li>\u6df7\u6dc6\u77e9\u9635</li> </ol> <p>\u5728\u5206\u7c7b\u4efb\u52a1\u4e0b\uff0c\u9884\u6d4b\u7ed3\u679c\u4e0e\u771f\u5b9e\u7ed3\u679c\u4e4b\u95f4\u5b58\u5728\u56db\u79cd\u4e0d\u540c\u7684\u7ec4\u5408\uff0c\u6784\u6210\u6df7\u6dc6\u77e9\u9635(\u9002\u7528\u4e8e\u591a\u5206\u7c7b)\u3001</p> <p>TP: True Positive</p> <p>FN: False Negative</p> <p></p> <ol> <li> <p>\u7cbe\u786e\u7387(Precision)\u4e0e\u53ec\u56de\u7387(Recall)</p> </li> <li> <p>\u7cbe\u786e\u7387\uff1a\u9884\u6d4b\u7ed3\u679c\u4e3a\u6b63\u4f8b\u6837\u672c\u4e2d\u771f\u5b9e\u4e3a\u6b63\u4f8b\u7684\u6bd4\u4f8b</p> </li> </ol> <p></p> <ul> <li> <p>\u53ec\u56de\u7387\uff1a\u771f\u5b9e\u4e3a\u6b63\u4f8b\u6837\u672c\u4e2d\u9884\u6d4b\u7ed3\u679c\u4e3a\u6b63\u4f8b\u7684\u6bd4\u4f8b</p> </li> <li> <p>F1-score: \u53cd\u5e94\u6a21\u578b\u7684\u7a33\u5065\u6027</p> </li> </ul> <p></p> <ol> <li>API</li> <li>sklearn.metrics.classification_report(y_true, y_pred, labels=\u53e3,target_names=None )</li> <li>y_true: \u771f\u5b9e\u76ee\u6807\u503c</li> <li>y_pred: \u4f30\u8ba1\u5668\u9884\u6d4b\u76ee\u6807\u503c</li> <li>labels:\u6307\u5b9a\u7c7b\u522b\u5bf9\u5e94\u7684\u6570\u5b57</li> <li>target_names:\u76ee\u6807\u7c7b\u522b\u540d\u79f0</li> <li>return:\u6bcf\u4e2a\u7c7b\u522b\u7cbe\u786e\u7387\u4e0e\u53ec\u56de\u7387</li> </ol>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#rocauc","title":"ROC\u66f2\u7ebf\u4e0eAUC\u6307\u6807","text":"<p>\u53ef\u7528\u4e8e\u8bc4\u4f30\u6837\u672c\u5206\u5e03\u4e0d\u5747\u8861\u7684\u60c5\u51b5</p> <ol> <li> <p>TPR\u4e0eFPR</p> </li> <li> <p>TPR\uff1aTP / (TP + FN)\uff1a\u6240\u6709\u771f\u5b9e\u7c7b\u522b\u4e3a1\u7684\u6837\u672c\u4e2d\uff0c\u9884\u6d4b\u7c7b\u522b\u4e3a1\u7684\u6bd4\u4f8b</p> </li> <li> <p>FPR\uff1aFP / (FP + TN)\uff1a\u6240\u6709\u771f\u5b9e\u7c7b\u522b\u4e3a0\u7684\u6837\u672c\u4e2d\uff0c\u9884\u6d4b\u7c7b\u522b\u4e3a1\u7684\u6bd4\u4f8b</p> </li> <li> <p>ROC\u66f2\u7ebf</p> </li> </ol> <p>\u5f53FPRate\u4e0eTPRate\u76f8\u7b49\u662f\uff0c\u5c31\u662f\u4e2d\u95f4\u7684\u7ea2\u8272\u865a\u7ebf\uff0c\u6b64\u65f6\u4e0d\u8bba\u771f\u5b9e\u7c7b\u522b\u662f0\u8fd8\u662f1\uff0c\u5206\u7c7b\u5668\u7684\u9884\u6d4b\u7ed3\u679c\u90fd\u662f1\uff0c\u6b64\u65f6\u7684AUC=0.5\u3002</p> <p></p> <ol> <li> <p>AUC\u6307\u6807</p> </li> <li> <p>AUC\u7684\u6982\u7387\u610f\u4e49\u662f\u968f\u673a\u53d6\u4e00\u5bf9\u6b63\u8d1f\u6837\u672c\uff0c\u6b63\u6837\u672c\u5f97\u5206\u5927\u4e8e\u8d1f\u6837\u672c\u7684\u6982\u7387</p> </li> <li>AUC\u7684\u6700\u5c0f\u503c\u4e3a0.5\uff0c\u6700\u5927\u503c\u4e3a1\uff0c\u53d6\u503c\u8d8a\u9ad8\u8d8a\u597d</li> <li>AUC=1\uff0c\u5b8c\u7f8e\u5206\u7c7b\u5668\uff0c\u91c7\u7528\u8fd9\u4e2a\u9884\u6d4b\u6a21\u578b\u65f6\uff0c\u4e0d\u7ba1\u8bbe\u5b9a\u4ec0\u4e48\u9608\u503c\u90fd\u80fd\u5f97\u51fa\u5b8c\u7f8e\u9884\u6d4b\u3002\u7edd\u5927\u591a\u6570\u9884\u6d4b\u7684\u573a\u5408\uff0c\u4e0d\u5b58\u5728\u5b8c\u7f8e\u5206\u7c7b\u5668\u3002</li> <li>0.5&lt;AUC&lt;1\uff0c\u4f18\u4e8e\u968f\u673a\u731c\u6d4b\u3002\u8fd9\u4e2a\u5206\u7c7b\u5668\uff08\u6a21\u578b\uff09\u59a5\u5584\u8bbe\u5b9a\u9608\u503c\u7684\u8bdd\uff0c\u80fd\u6709\u9884\u6d4b\u4ef7\u503c\u3002</li> </ol> <p>AUC\u7684\u503c\u5728 [0.5, 1]\u4e4b\u95f4\uff0c\u8d8a\u63a5\u8fd11\u8868\u793a\u8d8a\u597d</p> <ol> <li>API</li> <li>from sklearn.metrics import roc_auc_score</li> <li>roc_auc_score(y_true, y_score)</li> <li>\u8ba1\u7b97ROC\u66f2\u7ebf\u9762\u79ef\uff0c\u5373AUC\u503c</li> <li>y_true:\u6bcf\u4e2a\u6837\u672c\u7684\u771f\u5b9e\u7c7b\u522b\uff0c\u5fc5\u987b\u4e3a0(\u53cd\u4f8b),1(\u6b63\u4f8b)\u6807\u8c26</li> <li> <p>y_score:\u9884\u6d4b\u5f97\u5206\uff0c\u53ef\u4ee5\u662f\u6b63\u7c7b\u7684\u4f30\u8ba1\u6982\u7387\u3001\u7f6e\u4fe1\u503c\u6216\u8005\u5206\u7c7b\u5668\u65b9\u6cd5\u7684\u8fd4\u56de\u503c</p> </li> <li> <p>eg\uff08\u6a21\u62df\u5728\u8bc4\u4f30\u6837\u672c\u5206\u5e03\u4e0d\u5747\u8861\u7684\u60c5\u51b5\u4e0b\uff09</p> </li> <li> <p>\u603b\u5171\u6709100\u4e2a\u4eba\uff0c\u5982\u679c\u670999\u4e2a\u6837\u672c\u764c\u75c7\uff0c1\u4e2a\u6837\u672c\u975e\u764c\u75c7\u2013\u6837\u672c\u4e0d\u5747\u8861</p> <p>\u4e0d\u7ba1\u600e\u6837\u5168\u90fd\u9884\u6d4b\u4e3a\u6b63\u4f8b(\u9ed8\u8ba4\u764c\u75c7\u4e3a\u6b63\u4f8b)-\u5219\u8be5\u6a21\u578b\u662f\u4e00\u4e2a\u4e0d\u8d1f\u8d23\u4efb\u7684\u6a21\u578b     \u51c6\u786e\u7387:99/100=99%     \u53ec\u56de\u7387: 99/99 = 100%\u7cbe\u786e\u7387:99%     F1-score: 2*99%/ 199% = 99.497%</p> <p>\u200b  AUC:0.5(\u4e0d\u597d\u7684\u6a21\u578b)  \u200b      TPR = 100%  \u200b      FPR = 1 / 1 = 100%</p> </li> </ol>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#k-means","title":"\u805a\u7c7b k-means\u7b97\u6cd5","text":"<ul> <li> <p>k-means\u662f\u65e0\u76d1\u7763\u5b66\u4e60\uff0c\u6ca1\u6709\u76ee\u6807\u503c\uff0c\u4e00\u822c\u7528\u4e8e\u5206\u7c7b</p> </li> <li> <p>\u65e0\u76d1\u7763\u5b66\u4e60\u5305\u62ec\uff1a</p> </li> <li>\u805a\u7c7b\uff1a</li> <li>k-means(k\u5747\u503c\u805a\u7c7b)</li> <li>\u964d\u7ef4\uff1a</li> <li>PCA</li> </ul>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#_9","title":"\u539f\u7406","text":"<ol> <li>\u968f\u673a\u8bbe\u7f6eK\u4e2a\u7279\u5f81\u7a7a\u95f4\u5185\u7684\u70b9\u4f5c\u4e3a\u521d\u59cb\u7684\u805a\u7c7b\u4e2d\u5fc3\uff08\u521d\u59cb\u70b9\u4e3a\u5747\u503c\u70b9\uff09</li> <li>\u5bf9\u4e8e\u5176\u4ed6\u6bcf\u4e2a\u70b9\u8ba1\u7b97\u5230K\u4e2a\u4e2d\u5fc3\u7684\u8ddd\u79bb\uff0c\u672a\u77e5\u7684\u70b9\u9009\u62e9\u6700\u8fd1\u7684\u4e00\u4e2a\u805a\u7c7b\u4e2d\u5fc3\u70b9\u4f5c\u4e3a\u6807\u8bb0\u7c7b\u522b</li> <li>\u63a5\u7740\u5bf9\u7740\u6807\u8bb0\u7684\u805a\u7c7b\u4e2d\u5fc3\u4e4b\u540e\uff0c\u91cd\u65b0\u8ba1\u7b97\u51fa\u6bcf\u4e2a\u805a\u7c7b\u7684\u65b0\u4e2d\u5fc3\u70b9\uff08\u5e73\u5747\u503c)</li> <li>\u5982\u679c\u8ba1\u7b97\u5f97\u51fa\u7684\u65b0\u4e2d\u5fc3\u70b9\u4e0e\u539f\u4e2d\u5fc3\u70b9\u4e00\u6837\uff0c\u90a3\u4e48\u7ed3\u675f\uff0c\u5426\u5219\u91cd\u65b0\u8fdb\u884c\u7b2c\u4e8c\u6b65\u8fc7\u7a0b</li> </ol>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#k-means_1","title":"k-means\u6027\u80fd\u8bc4\u4f30","text":"<ol> <li>\u8f6e\u5ed3\u7cfb\u6570(1 &gt;= SCi &gt;= -1\uff0c\u8d8a\u63a5\u8fd11\u8d8a\u597d)</li> </ol> <p>\u6ce8:\u5bf9\u4e8e\u6bcf\u4e2a\u70b9 i \u4e3a\u5df2\u805a\u7c7b\u6570\u636e\u4e2d\u7684\u6837\u672c\uff0cb_i \u4e3a i \u5230\u5176\u5b83\u65cf\u7fa4\u7684\u6240\u6709\u6837\u672c\u7684\u8ddd\u79bb\u6700\u5c0f\u503c, a_i \u4e3a i \u5230\u672c\u8eab\u7c07\u7684\u8ddd\u79bb\u5e73\u5747\u503c\u3002\u6700\u7ec8\u8ba1\u7b97\u51fa\u6240\u6709\u7684\u6837\u672c\u70b9\u7684\u8f6e\u5ed3\u7cfb\u6570\u5e73\u5747\u503c</p> <ul> <li>\u8f6e\u5ed3\u7cfb\u6570\u6700\u597d\u8981\u4f7f\u5f97\uff0c\u5916\u90e8\u8ddd\u79bb\u6700\u5927\u5316\uff0c\u5185\u90e8\u8ddd\u79bb\u6700\u5c0f\u5316\uff0c\u5373 \u9ad8\u5185\u805a\u3001\u4f4e\u8026\u5408</li> </ul> <p></p>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#k-means_2","title":"K-means\u603b\u7ed3","text":"<ul> <li>\u7279\u70b9\u5206\u6790\uff1a\u91c7\u7528\u8fed\u4ee3\u5f0f\u7b97\u6cd5\uff0c\u76f4\u89c2\u6613\u61c2\u4e14\u975e\u5e38\u4f7f\u7528</li> <li>\u7f3a\u70b9\uff1a\u5bb9\u6613\u6536\u655b\u5230\u5c40\u90e8\u6700\u4f18\u89e3\uff08\u5373\u521d\u59cb\u7279\u5f81\u70b9k\u5728\u4e00\u8d77\u7684\u60c5\u51b5\uff09\uff0c\u53ef\u91c7\u7528\u591a\u6b21\u805a\u7c7b\u53bb\u968f\u673a\u53d6k\u70b9\uff0c\u9009\u53d6\u4e0d\u6536\u655b\u7684\u60c5\u51b5</li> </ul>"},{"location":"python/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/03-%E5%9B%9E%E5%BD%92%E5%92%8C%E8%81%9A%E7%B1%BB/#_10","title":"\u603b\u7ed3","text":""},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/","title":"1.\u4e91\u8ba1\u7b97\u6280\u672f\u4e0e\u5e94\u7528","text":"<ul> <li>\u6bcf\u6b21\u91cd\u542f\u540e\u9700\u8981\u68c0\u67e5\u65f6\u95f4\u540c\u6b65\uff0c\u6216\u8005\u7b49\u5f85\u65f6\u95f4\u540c\u6b65\uff0c\u548c\u7b49\u5f85\u670d\u52a1\u542f\u52a8\u6210\u529f</li> <li>openstack<ul> <li>0. \u5b89\u88c5\u8fc7\u7a0b</li> <li>1. IAAS\u4e91\u5e73\u53f0\u642d\u5efa<ul> <li>\u57fa\u7840\u73af\u5883</li> </ul> </li> </ul> </li> <li>mkdir /opt/centos /opt/iaas</li> <li>mount -o loop CentOS-7-x86_64-DVD-1511.iso centos/</li> <li>mount -o loop XianDian-IaaS-v2.0.iso iaas/<ul> <li>\u73af\u5883\u53d8\u91cf\u914d\u7f6e</li> <li>\u6570\u636e\u5e93</li> <li>Keystone</li> <li>Glance</li> <li>Nova</li> <li>Neutron</li> <li>Dashboard</li> <li>Cinder</li> <li>2. IAAS\u4e91\u5e73\u53f0\u8fd0\u7ef4<ul> <li>\u6570\u636e\u5e93\u7ba1\u7406</li> <li>Keystone\u8fd0\u7ef4</li> <li>Nova\u8fd0\u7ef4</li> <li>Cinder\u8fd0\u7ef4</li> <li>Swift</li> <li>Glance\u8fd0\u7ef4</li> <li>Neutron\u8fd0\u7ef4</li> <li>Heat\u8fd0\u7ef4</li> <li>Rabbitmq\u8fd0\u7ef4</li> <li>KVM\u8fd0\u7ef4</li> <li>\u6570\u636e\u52a0\u5bc6\u7ba1\u7406</li> <li>Cinder\u6392\u9519</li> <li>Glance\u6392\u9519</li> <li>\u5de5\u7a0b\u603b\u7ed3\u62a5\u544a</li> </ul> </li> <li>Hadoop<ul> <li>1.Hadoop\u642d\u5efa<ul> <li>\u57fa\u672c\u73af\u5883</li> </ul> </li> <li>2.Hadoop\u8fd0\u7ef4<ul> <li>\u5e38\u7528\u547d\u4ee4</li> </ul> </li> </ul> </li> </ul> </li> <li>Hadoop\u96c6\u7fa4\u7528\u6237\u7684\u5e38\u7528\u547d\u4ee4\u3002</li> <li>archive</li> <li>distcp</li> <li>fs</li> <li>fsck</li> <li>jar</li> <li>job</li> <li>pipes</li> <li>version</li> <li>CLASSNAME<ul> <li>Hdfs</li> <li>MapReduce</li> <li>Hbase</li> <li>Hive</li> </ul> </li> </ul>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#_1","title":"\u6bcf\u6b21\u91cd\u542f\u540e\u9700\u8981\u68c0\u67e5\u65f6\u95f4\u540c\u6b65\uff0c\u6216\u8005\u7b49\u5f85\u65f6\u95f4\u540c\u6b65\uff0c\u548c\u7b49\u5f85\u670d\u52a1\u542f\u52a8\u6210\u529f","text":""},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#openstack","title":"openstack","text":"<p>\u5168\u56fd\u5377\uff1ahttps://blog.51cto.com/13846778/2507753</p> <p>\u6ce8\u610f\uff1a \u65f6\u95f4\u540c\u6b65\uff0c\u9700\u8981\u81ea\u5df1\u68c0\u67e5\u540c\u6b65\uff0c\u4e0d\u7136\u4e00\u4e9b\u670d\u52a1\u53ef\u80fd\u51fa\u9519</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#0","title":"0. \u5b89\u88c5\u8fc7\u7a0b","text":"<pre><code># \u4ec5\u4e3b\u673a\u7f51\u5361\uff08100.10\uff09\u505a\u63a7\u5236\u7f51\u5361\uff0cNAT\uff08200.10\uff09\u505a\u5916\u7f51\u7f51\u5361\n\n# controller\nhostname\nip\nhosts\nfirewalld\nyum\nftp  vsftp\nyum install -y iaas-xiandian\n/etc/xiandian/openrc.sh  \u4e24\u8282\u70b9\niaas-pre-host.sh\niaas-install-mysql.sh\niaas-install-keystone.sh\niaas-install-glance.sh\niaas-install-nova-controller.sh \niaas-install-neutron-controller.sh\niaas-install-neutron-controller-gre.sh \niaas-install-dashboard.sh \niaas-install-cinder-controller.sh\niaas-install-swift-controller.sh\niaas-install-trove.sh                 # thca\niaas-install-heat.sh \niaas-install-ceilometer-controller.sh \n\n\n/etc/xiandian/openrc.sh\niaas-pre-host.sh\niaas-install-nova-compute.sh\niaas-install-neutron-compute.sh \niaas-install-neutron-compute-gre.sh\niaas-install-cinder-compute.sh\niaas-install-swift-compute.sh\niaas-install-ceilometer-compute.sh\n</code></pre>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#1-iaas","title":"1. IAAS\u4e91\u5e73\u53f0\u642d\u5efa","text":""},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#_2","title":"\u57fa\u7840\u73af\u5883","text":"<ul> <li> <p>```bash     \u6309\u4ee5\u4e0b\u8981\u6c42\u8bbe\u7f6e\u4e3b\u673a\u540d\u3001\u9632\u706b\u5899\u53caSELinux\uff1a     \u8bbe\u7f6e\u63a7\u5236\u8282\u70b9\u4e3b\u673a\u540d\u4e3acontroller\uff0c\u8ba1\u7b97\u8282\u70b9\u4e3b\u673a\u540d\u4e3acompute\uff1b     # hostnamectl set-hostname controller       # hostnamectl set-hostname compute     \u5173\u95ed\u63a7\u5236\u8282\u70b9\u548c\u8ba1\u7b97\u8282\u70b9\u7684\u9632\u706b\u5899\uff0c\u8bbe\u7f6e\u5f00\u673a\u4e0d\u542f\u52a8\uff1b     # systemctl stop firewalld         # systemctl disable firewalld     \u8bbe\u7f6e\u63a7\u5236\u8282\u70b9\u548c\u8ba1\u7b97\u8282\u70b9\u7684SELinux\u4e3aPermissive\u6a21\u5f0f\uff1b     # getenforce      \u9000\u51faSecureCRT\uff0c\u91cd\u65b0\u901a\u8fc7ssh\u8fde\u63a5\u5404\u8282\u70b9\u670d\u52a1\u5668\uff1b     ctrl+D      \uff081\uff09 \u4f7f\u7528\u547d\u4ee4\u67e5\u8be2\u63a7\u5236\u8282\u70b9\u548c\u8ba1\u7b97\u8282\u70b9\u7684\u4e3b\u673a\u540d\u3001\u9632\u706b\u5899\u662f\u5426\u5904\u4e8e\u5173\u95ed\u72b6\u6001\u53caSELinux\u7684\u72b6\u6001\u3002\u4ee5\u6587\u672c\u5f62\u5f0f\u4f9d\u6b21\u5c06\u547d\u4ee4\u884c\u53ca\u67e5\u8be2\u4fe1\u606f\u63d0\u4ea4\u5230\u7b54\u9898\u6846\u3002     # hostname       # systemctl status firewalld     # getenforce    sten</p> <p>\uff082\uff09 \u5728\u63a7\u5236\u8282\u70b9\u4e0a\u901a\u8fc7SecureFX\u4e0a\u4f20\u4e24\u4e2a\u955c\u50cf\u6587\u4ef6CentOS-7-x86_64-DVD-1511.iso, XianDian-IaaS-v2.1.iso\u5230opt\u4e0b\uff0c\u901a\u8fc7\u547d\u4ee4\u884c\u521b\u5efa\u4e24\u4e2a\u76ee\u5f55/opt/centos,/opt/iaas,\u5e76\u5c06\u4ee5\u4e0a\u955c\u50cf\u6587\u4ef6\u5206\u522b\u6302\u8f7d\u5230\u4e0a\u8ff0\u4e24\u4e2a\u76ee\u5f55\u4e0b\uff0c\u5728\u7b54\u9898\u6846\u4f9d\u6b21\u63d0\u4ea4\u4e0a\u8ff0\u7684\u547d\u4ee4\u4ee5\u53ca\u6267\u884c\u7ed3\u679c\uff1b</p> </li> </ul> <p>\uff083\uff09   \u914d\u7f6e\u63a7\u5236\u8282\u70b9\u672c\u5730yum\u6e90\u6587\u4ef6local.repo\uff0c\u642d\u5efaftp\u670d\u52a1\u5e76\u914d\u7f6e\u6839\u76ee\u5f55\u4e3a\u6307\u5411\u5b58\u653eyum\u6e90\u7684\u8def\u5f84\uff1b\u914d\u7f6e\u8ba1\u7b97\u8282\u70b9yum\u6e90\u6587\u4ef6ftp.repo\uff0c\u4f7f\u7528\u63a7\u5236\u8282\u70b9ftp\u670d\u52a1\u4f5c\u4e3ayum\u6e90\uff0c\u5176\u4e2d\u8282\u70b9\u7684\u5730\u5740\u4ee5\u4e3b\u673a\u540d\u8868\u793a\uff1b   # cat /etc/yum.repos.d/local.repo    [centos]   name=centos   baseurl=file:///opt/centos   gpgcheck=0   enabled=1   [iaas]   name=iaas   baseurl=file:///opt/iaas/iaas-repo   gpgcheck=0   enabled=1</p> <p># cat /etc/vsftpd/vsftpd.conf | grep \"anon\"   anon_root=/opt/</p> <p># cat /etc/yum.repos.d/ftp.repo    [centos]   name=centos   baseurl=ftp://controller/centos   gpgcheck=0   enabled=1   [iaas]   name=iaas   baseurl=ftp://controller/iaas/iaas-repo   gpgcheck=0   enabled=1</p> <p>(4) \u65f6\u95f4\u540c\u6b65   iaas-pre-host.sh \u540e   [root@controller ~]# cat /etc/ntp.conf    restrict -4 default kod notrap nomodify   restrict -6 default kod notrap nomodify   restrict 0.0.0.0   restrict ::1   restrict 192.168.200.0 mask 255.255.255.0 nomodify notrap   server 127.127.1.0   fudge 127.127.1.0 stratum 8   #server 0.centos.pool.ntp.org iburst   #server 1.centos.pool.ntp.org iburst   #server 2.centos.pool.ntp.org iburst   #server 3.centos.pool.ntp.org iburst   [root@controller ~]# systemctl restart ntpd</p> <p>[root@compute ~]# cat /etc/ntp.conf   restrict 127.0.0.1    restrict ::1   restrict 192.168.200.10 mask 255.255.255.0 nomodify notrap   server 192.168.200.10 iburst   #server 0.centos.pool.ntp.org iburst   #server 1.centos.pool.ntp.org iburst   #server 2.centos.pool.ntp.org iburst   #server 3.centos.pool.ntp.org iburst</p> <p>\u7136\u540e\u53ef\u4ee5\u5c1d\u8bd5\u505c\u6b62ntpd\u670d\u52a1\uff0c\u7136\u540e\u7528ntpdate\u8fdb\u884c\u65f6\u95f4\u540c\u6b65\u68c0\u67e5\uff0c \u6700\u540e\u7684\u6570\u8d8a\u5c0f\u8d8a\u7cbe\u786e   [root@compute ~]# ntpdate controller    9 Sep 01:04:59 ntpdate[2306]: adjust time server 192.168.200.10 offset 0.000378 sec   [root@compute ~]# systemctl restart ntpd   ```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#mkdir-optcentos-optiaas","title":"mkdir /opt/centos /opt/iaas","text":""},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#mount-o-loop-centos-7-x86_64-dvd-1511iso-centos","title":"mount -o loop CentOS-7-x86_64-DVD-1511.iso centos/","text":"<p>mount: /dev/loop0 is write-protected, mounting read-only</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#mount-o-loop-xiandian-iaas-v20iso-iaas","title":"mount -o loop XianDian-IaaS-v2.0.iso iaas/","text":"<p>mount: /dev/loop1 is write-protected, mounting read-only</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#_3","title":"\u73af\u5883\u53d8\u91cf\u914d\u7f6e","text":"<ul> <li>```BASH   # sed  -i  -e   \"s/PASS=/PASS=000000/\"  -e \"s/^#//\"  /etc/xiandian/openrc.sh</li> </ul> <p>HOST_IP=192.168.100.10   HOST_NAME=controller   HOST_IP_NODE=192.168.100.20   HOST_NAME_NODE=compute   RABBIT_USER=openstack   RABBIT_PASS=000000   DB_PASS=000000   DOMAIN_NAME=demo   ADMIN_PASS=000000   DEMO_PASS=000000   KEYSTONE_DBPASS=000000   GLANCE_DBPASS=000000   GLANCE_PASS=000000   NOVA_DBPASS=000000   NOVA_PASS=000000   NEUTRON_DBPASS=000000   NEUTRON_PASS=000000   METADATA_SECRET=000000   INTERFACE_NAME=eno33554976    enp4s0f1||enp9s0  #\uff08\u5916\u7f51\u7f51\u5361\u540d\uff08NAT\uff09\uff09   CINDER_DBPASS=000000   CINDER_PASS=000000   BLOCK_DISK=sda3   TROVE_DBPASS=000000   TROVE_PASS=000000   SWIFT_PASS=000000   OBJECT_DISK=sda4   STORAGE_LOCAL_NET_IP=192.168.100.20   HEAT_DBPASS=000000   HEAT_PASS=000000   CEILOMETER_DBPASS=000000   CEILOMETER_PASS=000000   AODH_DBPASS=000000   AODH_PASS=000000   ```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#_4","title":"\u6570\u636e\u5e93","text":"<ul> <li> <p>```bash     \uff081\uff09 \u4f7f\u7528\u811a\u672c\u5b89\u88c5\u6570\u636e\u5e93\u670d\u52a1   [root@controller ~]# /usr/local/bin/iaas-install-mysql.sh</p> <p>\uff082\uff09 \u4ee5root\u7528\u6237\u767b\u5f55\u6570\u636e\u5e93   [root@controller ~]# mysql -uroot -p000000</p> <p>\uff083\uff09 \u67e5\u8be2\u6570\u636e\u5e93mysql\u4e2d\u6240\u6709\u8868\u7684\u4fe1\u606f   MariaDB [(none)]&gt; use mysql;   MariaDB [mysql]&gt; show tables;</p> <p>\uff084\uff09 \u67e5\u8be2\u8868user\u4e2d\u7684host\uff0cuser\uff0cpaassword\u4fe1\u606f   MariaDB [mysql]&gt; select  host,user,password  from user;</p> <p>\uff085\uff09 \u4f7f\u7528\u811a\u672c\u5b89\u88c5keystone\u670d\u52a1\u3002\u5c06keystone\u7684\u6570\u636e\u5e93\u5bfc\u51fa\u5230\u5f53\u524d\u8def\u5f84\u4e0b\u5e76\u547d\u540d\u4e3akeystone.sql\uff0c\u67e5\u8be2\u6587\u4ef6keystone.sql\u7684\u524d\u4e94\u884c\u3002   [root@controller ~]# mysqldump -uroot -p000000 keystone &gt; keystone.sql   [root@controller ~]# head -n 5 keystone.sql</p> </li> </ul> <p>```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#keystone","title":"Keystone","text":"<ul> <li><code>bash   \u6839\u636e\u5e73\u53f0\u5b89\u88c5\u6b65\u9aa4\u5b89\u88c5\u81f3keystone\u8ba4\u8bc1\u670d\u52a1\uff0c\u5728\u63a7\u5236\u8282\u70b9\u4f7f\u7528\u63d0\u4f9b\u7684\u811a\u672ciaas-install-keystone.sh\u5b89\u88c5   keystone\u7ec4\u4ef6\uff0cadmin-openrc.sh \u6587\u4ef6\u5728/etc/keystone/\u4e0b\u3002\u4f7f\u7528openstack \u76f8\u5173\u547d\u4ee4\uff0c\u67e5\u8be2\u7528\u6237\u5217\u8868\u4fe1\u606f   # iaas-install-keystone.sh   source \u8ba4\u8bc1   [root@controller ~]# source /etc/keystone/admin-openrc.sh    # openstack user list   \u4f7f\u7528openstack \u76f8\u5173\u547d\u4ee4\uff0c\u67e5\u8be2admin\u7528\u6237\u4fe1\u606f   # openstack user show admin</code></li> </ul>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#glance","title":"Glance","text":"<ul> <li><code>bash   1.\u4f7f\u7528\u811a\u672c\u5b89\u88c5glance\u670d\u52a1\uff0c\u4f7f\u7528systemctl\u547d\u4ee4\u67e5\u8be2glance\u7ec4\u4ef6\u4e2d\u6240\u6709\u670d\u52a1\u7684\u72b6\u6001\u3002   # iaas-install-glance.sh    # systemctl status openstack-glance*   2.\u4f7f\u7528glance \u76f8\u5173\u547d\u4ee4\u67e5\u8be2glance\u955c\u50cf\u5217\u8868\uff0c\u5e76\u67e5\u8be2CentOS7.2\u955c\u50cf\uff08\u955c\u50cf\u53ef\u81ea\u884c\u4e0a\u4f20\uff09\u7684\u8be6\u7ec6\u4fe1\u606f   \u4e0a\u4f20\u955c\u50cf   # glance image-create --name \"XianDian-SDN\" --disk-format qcow2 --container-format bare --progress &lt; /opt/XianDian-SDN.qcow2   # glance image-list   # glance image-show 57d51744-e5c0-45bf-90a1-5d3f02f34bac</code></li> </ul>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#nova","title":"Nova","text":"<ul> <li><code>bash   1.\u4f7f\u7528\u811a\u672c\u5b89\u88c5nova\u670d\u52a1\u3002\u4f7f\u7528nova\u76f8\u5173\u547d\u4ee4\u67e5\u8be2\u8ba1\u7b97\u8282\u70b9\u865a\u62df\u673a\u76d1\u63a7\u5668\u72b6\u6001\u3002   [root@controller ~]# iaas-install-nova-controller.sh   [root@compute ~]# iaas-install-nova-compute.sh   [root@controller ~]# nova hypervisor-stats</code></li> </ul>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#neutron","title":"Neutron","text":"<ul> <li>```bash   1.\u4f7f\u7528\u811a\u672c\u5b89\u88c5neutron\u670d\u52a1\uff0c\u5e76\u914d\u7f6e\u4e3aGRE\u7f51\u7edc   [root@controller ~]# iaas-install-neutron-controller.sh   [root@compute ~]# iaas-install-neutron-compute.sh   [root@controller ~]# iaas-install-neutron-controller-gre.sh   [root@compute ~]# iaas-install-neutron-compute-gre.sh</li> </ul> <p>2.\u521b\u5efa\u4e91\u4e3b\u673a\u5916\u90e8\u7f51\u7edc\u4e3aext-net,\u7c7b\u578bgre\uff0c\u5916\u90e8\u7684 \u5171\u4eab\u7684\uff0c\u5b50\u7f51\u4e3aext-subnet\uff0c\u865a\u62df\u673a\u6d6e\u52a8IP\u7f51\u6bb5\u4e3a192.168.200.100 ~ 192.168.200.200\uff0c\u7f51\u5173\u4e3a192.168.200.1;   # neutron net-create ext-net  --router:external   # neutron subnet-create  ext-net  --name ext-subnet  --allocation-pool start=192.168.200.10,end=192.168.200.200 --disable-dhcp --gateway 192.168.200.1  192.168.200.0/24</p> <p>3.\u521b\u5efa\u4e91\u4e3b\u673a\u96a7\u9053\u7f51\u7edcint-net1\uff0c\u7c7b\u578bgre\uff0c\u5b50\u7f51\u4e3aint-subnet1\uff0c\u865a\u62df\u673a\u5b50\u7f51IP\u7f51\u6bb5\u4e3a10.0.0.100 ~ 10.0.0.200\uff0c\u7f51\u5173\u4e3a10.0.0.1\uff1b   # neutron net-create  int-net1   # neutron subnet-create  int-net1  --name int-subnet1  --allocation-pool start=10.0.0.100,end=10.0.0.200  --enable-dhcp --gateway 10.0.0.1  10.0.0.0/24</p> <p>4.\u521b\u5efa\u4e91\u4e3b\u673a\u96a7\u9053\u7f51\u7edcint-net2\uff0c\u5b50\u7f51\u4e3aint-subnet2\uff0c\u865a\u62df\u673a\u5b50\u7f51IP\u7f51\u6bb5\u4e3a10.0.1.100 ~ 10.0.1.200\uff0c\u7f51\u5173\u4e3a10.0.1.1;   # neutron net-create int-net2   # neutron  subnet-create   int-net2  --name int-subnet2   --allocation-pool start=10.0.1.100,end=10.0.1.200 --enable-dhcp  --gateway 10.0.1.1  10.0.1.0/24</p> <p>5.\u6dfb\u52a0\u540d\u4e3aext-router\u7684\u8def\u7531\u5668\uff0c\u914d\u7f6e\u8def\u7531\u63a5\u53e3\u5730\u5740\uff0c\u5b8c\u6210\u96a7\u9053\u7f51\u7edcint-net1\u548c\u5916\u90e8\u7f51\u7edcext-net\u7684\u8fde\u901a\u3002   # neutron router-create  ext-router   # neutron  router-gateway-set ext-router  ext-net   # neutron  router-interface-add  ext-router  int-subnet1</p> <p>6.\u4f7f\u7528neutron\u76f8\u5173\u547d\u4ee4\u67e5\u8be2\u6240\u521b\u5efa\u8def\u7531\u7684\u8be6\u7ec6\u4fe1\u606f\u3002\u4f9d\u6b21\u5c06\u64cd\u4f5c\u547d\u4ee4\u548c\u8fd4\u56de\u7ed3\u679c\u4ee5\u6587\u672c\u5f62\u5f0f\u63d0\u4ea4\u5230\u7b54\u9898\u6846\u3002   # neutron router-show ext-router</p> <p>7.\u4f7f\u7528\u76f8\u5173\u547d\u4ee4\u67e5\u8be2\u6240\u521b\u5efa\u5b50\u7f51\u7684\u5217\u8868\u4fe1\u606f\uff0c\u5e76\u67e5\u770b\u5185\u7f51\u5b50\u7f51\u7684\u8be6\u7ec6\u4fe1\u606f\u3002   # neutron subnet-list   # neutron subnet-show  df801f44-9f4a-4481-9424-081326474069</p> <p>```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#dashboard","title":"Dashboard","text":"<ul> <li><code>bash  1.\u4f7f\u7528\u811a\u672c\u5b89\u88c5dashboard\u670d\u52a1\uff0c\u4f7f\u7528curl\u547d\u4ee4\u67e5\u8be2\u7f51\u5740http://192.168.100.10/dashboard\u3002   # iaas-install-dashboard.sh   # curl    -L http://192.168.100.10/dashboard/       # -L (Follow redirects\u9075\u5faa\u91cd\u5b9a\u5411)</code></li> </ul>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#cinder","title":"Cinder","text":"<p>would like to raise ValueError here, but there are just too many unrecognized (obsolete?)</p> <p>controller\u7684cinder-volumes\u72b6\u6001\u4e3aDOWN\uff0c\u60f3\u5728\u8fd9\u91cc\u63d0\u51faValueError\uff0c\u4f46\u662f\u9879\u76ee\u4e2d\u6709\u592a\u591a\u65e0\u6cd5\u8bc6\u522b\u7684(\u8fc7\u65f6\u7684?)\u914d\u7f6e\u9009\u9879</p> <ul> <li>```BASH   parted /dev/sda   (parted) mkpart /dev/sda4   File system type?  [ext2]?   Start? 600G   End? 1400G</li> </ul> <p>(parted) mkpart /dev/sda5   File system type?  [ext2]?   Start? 1401G   End? 2300G</p> <p>\u5206\u533a\u540e\uff1a   # lsblk   NAME            MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT   sda               8:0    0   3.7T  0 disk    \u251c\u2500sda1            8:1    0     1M  0 part    \u251c\u2500sda2            8:2    0   500M  0 part /boot   \u251c\u2500sda3            8:3    0 511.8G  0 part    \u2502 \u251c\u2500centos-root 253:0    0   500G  0 lvm  /   \u2502 \u2514\u2500centos-swap 253:1    0  11.8G  0 lvm  [SWAP]   \u251c\u2500sda4            8:4    0 745.1G  0 part   # \u5bf9\u5e94\u73af\u5883\u53d8\u91cfcinder   \u2514\u2500sda5            8:5    0 837.3G  0 part   # \u5bf9\u5e94\u73af\u5883\u53d8\u91cfswift</p> <p>[root@controller ~]# iaas-install-cinder-controller.sh   [root@compute ~]# iaas-install-cinder-compute.sh   [root@controller ~]# iaas-install-swift-controller.sh   #  iaas-install-swift-compute.sh   trove\u3001heat\u3001ceilometer*2\u3001alarm   ```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#2-iaas","title":"2. IAAS\u4e91\u5e73\u53f0\u8fd0\u7ef4","text":"<p>1.\u6309\u4ee5\u4e0b\u914d\u7f6e\u5728\u4e91\u5e73\u53f0\u4e2d\u521b\u5efa\u4e91\u4e3b\u673a\uff0c\u5b8c\u6210\u672c\u4efb\u52a1\u4e0b\u7684\u76f8\u5173\u8bd5\u9898\u540e\u5173\u95ed\u4e91\u4e3b \u673a\u3002 </p> <p>\u4e91\u4e3b\u673a1\uff1a </p> <p>\uff081\uff09\u540d\u79f0\uff1aIaaS </p> <p>\uff082\uff09\u955c\u50cf\u6587\u4ef6\uff1aXiandian-IaaS-All.qcow2 </p> <p>\uff083\uff09\u4e91\u4e3b\u673a\u7c7b\u578b\uff1a4cpu\u30018G \u5185\u5b58\u3001100G \u786c\u76d8 </p> <p>\uff084\uff09\u7f51\u7edc\uff1a\u7f51\u7edc 1\uff1aint-net1\uff0c\u7ed1\u5b9a\u6d6e\u52a8 IP </p> <p>\u7f51\u7edc 2\uff1aint-net2 </p> <p>\u6ce8\uff1a\u8be5\u955c\u50cf\u5df2\u5b89\u88c5 IaaS \u5e73\u53f0\u6240\u6709\u53ef\u80fd\u4f7f\u7528\u7684\u7ec4\u4ef6\uff0c\u7528\u4e8e\u5b8c\u6210 IaaS \u5e73\u53f0\u76f8\u5173 \u8fd0\u7ef4\u64cd\u4f5c\u9898\uff0c\u5fc5\u987b\u6309\u4ee5\u4e0a\u914d\u7f6e\u4fe1\u606f\u914d\u7f6e\u63a5\u5165\u4e24\u4e2a\u7f51\u7edc\u624d\u80fd\u4fdd\u8bc1\u4e91\u4e3b\u673a\u8fd0\u884c\u6b63\u5e38\u3002 \u6839\u636e\u9898\u76ee\u8981\u6c42\uff0c\u8fde\u63a5\u76f8\u5e94\u7684\u4e91\u4e3b\u673a\u6216\u5404\u8282\u70b9\u670d\u52a1\u5668\uff0c\u8fdb\u884c\u4ee5\u4e0b\u7b54\u9898\u3002</p> <p>\u4e91\u4e3b\u673a2\uff1a</p> <p>\uff081\uff09\u540d\u79f0\uff1aSDN</p> <p>\uff082\uff09\u955c\u50cf\u6587\u4ef6\uff1acentos_7-x86_64_xiandian.qcow2</p> <p>\uff083\uff09\u4e91\u4e3b\u673a\u7c7b\u578b\uff1am1.small</p> <p>\uff084\uff09\u7f51\u7edc\uff1aint-net1\uff0c\u7ed1\u5b9a\u6d6e\u52a8ip</p> <p>\u8fde\u63a5\u76f8\u5e94\u7684\u4e91\u4e3b\u673a\uff0c\u8fdb\u884c\u4ee5\u4e0b\u7b54\u9898\u3002</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#_5","title":"\u6570\u636e\u5e93\u7ba1\u7406","text":"<ul> <li>```bash   1.\u767b\u5f55IaaS\u4e91\u4e3b\u673a\uff0c\u8fdb\u5165\u6570\u636e\u5e93\uff0c\u521b\u5efa\u672c\u5730\u7528\u6237examuser\uff0c\u5bc6\u7801\u4e3a000000\uff0c\u7136\u540e\u67e5\u8be2mysql\u6570\u636e\u5e93\u4e2d\u7684user\u8868\u7684host\uff0cuser\uff0cpassword\u5b57\u6bb5\u3002\u6700\u540e\u8d4b\u4e88\u8fd9\u4e2a\u7528\u6237\u6240\u6709\u6570\u636e\u5e93\u7684\u201c\u67e5\u8be2\u201d\u201c\u5220\u9664\u201d\u201c\u66f4\u65b0\u201d\u201c\u521b\u5efa\u201d\u7684\u672c\u5730\u6743\u9650\u3002   # MariaDB [(none)]&gt; create user 'examuser'@'localhost' identified by '000000';   # MariaDB [(none)]&gt; use mysql   # MariaDB [mysql]&gt; select host,user,password from user;   # MariaDB [mysql]&gt; grant select,delete,update,create on . to examuser@\"localhost\" identified by \"000000\";</li> </ul> <p>2.\u4f7f\u7528\u6570\u636e\u5e93\u7684\u76f8\u5173\u547d\u4ee4\u67e5\u8be2\u6570\u636e\u5e93\u7684\u7f16\u7801\u65b9\u5f0f   # mysql&gt; show variables like 'char%';     \uff08character_set_database\uff09   \u67e5\u770b\u9ed8\u8ba4\u5f15\u64ce  # mysql&gt; show variables like 'storage_engine';   \u67e5\u770bmysql\u652f\u6301\u7684\u5b58\u50a8\u5f15\u64ce # mysql&gt; show variables like 'have%''\uff1b</p> <p>3.\u8fdb\u5165\u6570\u636e\u5e93keystone\uff0c\u901a\u8fc7user\u8868\u548clocal_user\u8868\u505a\u8054\u5408\u66f4\u65b0\uff0cu\u7528\u6765\u505auser\u8868\u522b\u540d\uff0clu\u7528\u6765\u505alocal_user\u8868\u522b\u540d\uff0csql\u8bed\u53e5\u66f4\u65b0neutron\u7528\u6237\u7684enabled\u72b6\u6001\u4e3a0, \u66f4\u65b0\u8bed\u53e5\u4e2duser\u8868\u5728local_user\u524d\u9762\u3002   # MariaDB [keystone]&gt; update user u join local_user lu on u.id=lu.user_id set u.enabled=0 where lu.name='neutron';</p> <p>4.\u8fdb\u5165\u6570\u636e\u5e93 keystone\uff0c\u901a\u8fc7 user \u8868\u548c local_user \u8868\u505a\u8054\u5408\u67e5\u8be2\uff0cu \u7528\u6765\u505a user \u8868\u522b\u540d\uff0clu\u7528\u6765\u505a local_user \u8868\u522b\u540d\uff0c\u4e24\u8868\u8054\u5408\u67e5\u8be2 nova \u7528\u6237\u7684 enabled \u72b6\u6001,\u67e5\u8be2\u8bed\u53e5\u4e2d user \u8868\u5728local_user \u524d\u9762   # MariaDB [keystone]&gt; select name enabled from user u ,local_user lu where u.id=lu.user_id and lu.name='nova';</p> <p>5.\u4f7f\u7528\u4e00\u6761\u547d\u4ee4\u5c06keystone\u7684\u6570\u636e\u5e93\u5bfc\u51fa\u4e3a\u5f53\u524d\u8def\u5f84\u4e0b\u7684keystone.sql\u6587\u4ef6\uff0c\u5e76\u4f7f\u7528\u547d\u4ee4\u67e5\u8be2\u6587\u4ef6keystone.sql\u7684\u5927\u5c0f   # mysqldump -uroot -p000000 keystone &gt; keystone.sql   # ll keystone.sql</p> <p>```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#keystone_1","title":"Keystone\u8fd0\u7ef4","text":"<ul> <li>```bash   1.\u5728keystone\u4e2d\u521b\u5efa\u7528\u6237testuser\uff0c\u5bc6\u7801\u4e3apassword\uff0c\u521b\u5efa\u597d\u4e4b\u540e\uff0c\u4f7f\u7528\u547d\u4ee4\u4fee\u6539testuser\u7684\u72b6\u6001\u4e3adown\uff0c\u5e76\u67e5\u770btestuser\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c   # openstack user create --domain demo --password password testuser   +-----------+----------------------------------+   | Field     | Value                            |   +-----------+----------------------------------+   | domain_id | 90477266390143399b2c38419f3b866b |   | enabled   | True                             |   | id        | 7a7701ab736d42e1a8ab739df42b0925 |   | name      | testuser                         |   +-----------+----------------------------------+   # openstack user set --disable testuser   # openstack user show testuser   +-----------+----------------------------------+   | Field     | Value                            |   +-----------+----------------------------------+   | domain_id | 90477266390143399b2c38419f3b866b |   | enabled   | False                            |   | id        | 7a7701ab736d42e1a8ab739df42b0925 |   | name      | testuser                         |   +-----------+----------------------------------+</li> </ul> <p>2.\u5c06 testuser \u7528\u6237\u5206\u914d\u7ed9 admin \u9879\u76ee\uff0c\u8d4b\u4e88\u7528\u6237 user \u7684\u6743\u9650   # openstack role add --user testuser --project admin user   3.\u901a\u8fc7openstack\u76f8\u5173\u547d\u4ee4\u83b7\u53d6token\u503c   # openstack token issue</p> <p>4.\u67e5\u8be2\u8ba4\u8bc1\u670d\u52a1\u7684\u67e5\u8be2\u7aef\u70b9\u4fe1\u606f   # openstack endpoint list</p> <p>5.\u5c06keystone \u7684\u6570\u636e\u5e93\u5bfc\u51fa\u4e3a\u5f53\u524d\u8def\u5f84\u4e0b\u7684 keystone.sql \u6587\u4ef6\uff0c\u5e76\u4f7f\u7528 cat \u547d\u4ee4\u67e5\u8be2\u6587\u4ef6keystone.sql   # mysqldump -uroot -p000000 keystone &gt; keystone.sql   # cat keystone.sql</p> <p>```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#nova_1","title":"Nova\u8fd0\u7ef4","text":"<ul> <li>```bash   \u767b\u5f55IaaS\u4e91\u4e3b\u673a\uff0c\u4f7f\u7528nova\u76f8\u5173\u547d\u4ee4\uff0c\u67e5\u8be2nova\u6240\u6709\u7684\u76d1\u63a7\u5217\u8868\uff0c\u5e76\u67e5\u770bID\u4e3a1\u7684\u76d1\u63a7\u4e3b\u673a\u7684\u8be6\u7ec6\u4fe1\u606f   # nova hypervisor-list   +----+---------------------+-------+---------+   | ID | Hypervisor hostname | State | Status  |   +----+---------------------+-------+---------+   | 1  | compute             | up    | enabled |   +----+---------------------+-------+---------+   # nova hypervisor-show 1</li> </ul> <p>2.\u4fee\u6539\u4e91\u5e73\u53f0\u4e2d\u9ed8\u8ba4\u9879\u76ee\u7684\u5b9e\u4f8b\u914d\u989d\u4e3a15\u4e2a   # nova quota-class-update --instance 15 default   # nova quota-defaults    +-----------------------------+-------+   | Quota                       | Limit |   +-----------------------------+-------+   | instances                   | 15    |   | cores                       | 20    |   | ram                         | 51200 |   | floating_ips                | 10    |   | fixed_ips                   | -1    |   | metadata_items              | 128   |   | injected_files              | 5     |   | injected_file_content_bytes | 10240 |   | injected_file_path_bytes    | 255   |   | key_pairs                   | 100   |   | security_groups             | 10    |   | security_group_rules        | 20    |   | server_groups               | 10    |   | server_group_members        | 10    |   +-----------------------------+-------+</p> <p>3.\u4fee\u6539\u4e91\u5e73\u53f0\u4e2d\u9ed8\u8ba4\u6bcf\u4e2atenant\u7684\u5b9e\u4f8b\u6ce8\u5165\u6587\u4ef6\u5927\u5c0f\u914d\u989d\u4e3a20480\u4e2a   # nova quota-class-update --injected-file 20480 default   | injected_file_content_bytes | 20480 |   # nova quota-class-show default</p> <p>4.\u901a\u8fc7 nova \u7684\u76f8\u5173\u547d\u4ee4\u521b\u5efa\u4e91\u4e3b\u673a\u7c7b\u578b clouds\uff0c\u5185\u5b58\u4e3a 1024\uff0c\u786c\u76d8\u4e3a 20G\uff0c\u865a\u62df\u5185\u6838\u6570\u91cf\u4e3a 2   # nova flavor-create  clouds auto 1024 20 2</p> <p>5.\u4f7f\u7528nova\u547d\u4ee4\uff0c\u521b\u5efa\u4e00\u4e2a\u4e91\u4e3b\u673avm-test\uff0c\u4f7f\u7528cirros\u955c\u50cf\uff0c\u81ea\u884c\u8fde\u63a5\u7f51\u7edc\uff1b   # nova boot --flavor m1.small --image CentOS_6.5_x86_64_XD.qcow2 --nic net-id=c5221f87-5f27-4fb0-9e31-08269c104676 vm-test   \u4e0a\u9762\u53ea\u6709\u4e09\u4e2a\u53c2\u6570\uff0c\u56e0\u4e3a\u5b89\u5168\u7ec4\u548c\u53ef\u7528\u57df\u53ef\u4ee5\u4e0d\u6307\u5b9a\uff0c\u4f7f\u7528\u9ed8\u8ba4\u7684   # nova boot --flavor name            #\u6307\u5b9aflavor               nova flavor-list   --image id                       #image                   nova image-list   --nic net-id=id                  #net-id                  nova network-list   --security-groups id                 #security-groups-id      nova secgroup-list   --availability-zone nova:compute     #\u53ef\u7528\u57df  \u5728\u5236\u5b9a\u7684\u533a\u57df:hosts  nova service-list   vm-test                               #vm\u540d\u5b57   nova list                         #\u67e5\u770b\u865a\u673a</p> <p>openstack\u547d\u4ee4\u521b\u5efa\uff1a   # openstack server create   \u4e09\u4e2a\u53c2\u6570\u548c\u540d\u5b57</p> <p>6.\u4f7f\u7528 openstack \u76f8\u5173\u547d\u4ee4\uff0c\u542f\u52a8\u4e00\u4e2a\u4e91\u4e3b\u673a\uff0c \u4e91\u4e3b\u673a\u7c7b\u578b\u4f7f\u7528 m1.small\uff0c\u955c\u50cf\u4f7f\u7528 centos6.5\uff0c\u4e91\u4e3b\u673a\u540d\u79f0\u4e3a xxxtest\uff0c\u5e76 \u4f7f\u7528 openstack \u547d\u4ee4\u67e5\u770b\u6b64\u4e91\u4e3b\u673a\u7684\u8be6\u7ec6\u4fe1\u606f\u3002   # openstack server create --flavor m1.small --image examimage --nic net-id=c5221f87-5f27-4fb0-9e31-08269c104676 xxxtest   # openstack server show xxxtest</p> <p>7.\u4f7f\u7528nova\u76f8\u5173\u547d\u4ee4\u67e5\u8be2nova\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5\u7684\u4fe1\u606f   # # nova usage-list </p> <p>8.\u7ed1\u5b9a\u6d6e\u52a8ip\u5230\u5b9e\u4f8b\u4e0a   # nova floating-ip-list    # nova add-floating-ip vm-hadoop_slaver1 192.168.100.104   ```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#cinder_1","title":"Cinder\u8fd0\u7ef4","text":"<ul> <li>```BASH   1.\u4f7f\u7528\u547d\u4ee4\u67e5\u770b\u5f53\u524d\u5377\u7ec4\u4fe1\u606f\uff0c\u4f7f\u7528lvcreate\u547d\u4ee4\uff0c\u521b\u5efa\u540d\u79f0\u4e3aBlockVloume\uff0c\u5927\u5c0f\u4e3a2G\u7684lvm\u903b\u8f91\u5377\uff0c\u67e5\u8be2\u8be5\u903b\u8f91\u5377\u8be6\u7ec6\u4fe1\u606f   (vgs   lvs)   # lvcreate -n BlockVloume -L 2G cinder-volumes   # lvdisplay</li> </ul> <p>2.\u4f7f\u7528\u201cpvcreate\u201d\u547d\u4ee4\u521b\u5efa\u7269\u7406\u5377\uff0c\u7136\u540e\u901a\u8fc7\u201cvgextend\u201d\u547d\u4ee4\u5c06\u8be5\u7269\u7406\u5377\u589e\u52a0\u5230\u5df2\u6709\u7684   \u5757\u5b58\u50a8\u5377\u7ec4\u4e2d   # parted /dev/vda   # vgcreate /dev/vda1   # vgextend  cinder-volumes  /dev/vda1</p> <p>3.\u521b\u5efa\u540d\u4e3a\u201clvm\u201d\u7684\u5377\u7c7b\u578b,\u7136\u540e\u521b\u5efa\u4e00\u5757\u5e26\u201clvm\u201d\u6807\u8bc6\u7684\u4e91\u786c\u76d8\uff0c\u540d\u79f0\u4e3a BlockVloume\uff0c   \u5927\u5c0f\u4e3a 2G\uff0c\u67e5\u8be2\u8be5\u4e91\u786c\u76d8\u8be6\u7ec6\u4fe1\u606f   # cinder  type-create lvm --is-public true   # cinder  create --display-name BlockVloume  --volume-type lvm 2   # cinder show 6b232c83-ea04-4e8d-9d42-ed79f57d0a4d</p> <p>4.\u901a\u8fc7\u547d\u4ee4\u884c\u521b\u5efa\u4e91\u786c\u76d8 volume1\uff0c\u5927\u5c0f\u4e3a 2G\uff0c\u5c06\u5176\u8bbe\u7f6e\u4e3a\u53ea\u8bfb\uff0c\u67e5\u8be2\u8be5\u4e91\u786c\u76d8\u8be6\u7ec6\u4fe1\u606f   # cinder  create --display-name volume1 2   # cinder readonly-mode-update volume1 True   # cinder show 48d7edba-ba7c-4dc4-a86d-2bfdaaa84cde</p> <p>5.\u4f7f\u7528cinder\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u540d\u53ebjiami\u7684\u4e91\u786c\u76d8\u7c7b\u578b\uff0c\u7136\u540e\u5c06\u8fd9\u4e2a\u7c7b\u578b\u8bbe\u7f6e\u4e3aencrypted\uff0c\u4f7f\u7528jiami\u8fd9\u4e2a\u7c7b\u578b\u521b\u5efa\u4e00\u4e2a\u4e91\u786c\u76d8\u53ebencryptionvolume\uff0c\u5927\u5c0f\u4e3a1G   # cinder type-create jiami   # cinder encryption-type-create jiami LuksEncryptor   # cinder create --name encryptionvolume --volume-type jiami 1</p> <p>6.(1)\u767b\u5f55 http://192.168.100.10/dashboard\uff0c\u521b\u5efa\u4e91\u4e3b\u673a\u540d\u4e3a\u201cvm_extend\u201d\uff0c\u955c\u50cf\u4f7f\u7528   \u201ccentos6.5\u201d\uff0c flavor \u4f7f\u7528\u201cm1.medium\u201d\uff1b   \uff082\uff09\u767b\u5f55\u201cvm_extend\u201d\u4e91\u4e3b\u673a\uff0c\u4ece\u8be5\u4e3b\u673a\u7684\u786c\u76d8\u201c/dev/vda\u201d\u4e2d\u5206\u51fa\u4e00\u4e2a 10G \u7684\u5206\u533a\uff0c   \u4f7f\u7528\u8fd9\u4e2a\u5206\u533a\u5c06\u4e91\u4e3b\u673a\u201cvm_extend\u201d\u6839\u76ee\u5f55\u6240\u5728\u903b\u8f91\u5206\u533a\u6269\u5bb9 5G\uff1b   \uff083\uff09\u5728\u4e91\u4e3b\u673a\u4e0a\u7528 df -h \u547d\u4ee4\u67e5\u770b\u6302\u8f7d\u4fe1\u606f\u3002   # fisk /dev/vda      \u6dfb\u52a0\u4e00\u4e2a\u5206\u533a   # reboot             centos6.5\u9700\u8981\u91cd\u542f   [root@host-10-0-0-113 ~]# lsblk   NAME                        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT   vda                         252:0    0   40G  0 disk    \u251c\u2500vda1                      252:1    0  500M  0 part /boot   \u251c\u2500vda2                      252:2    0  7.5G  0 part    \u2502 \u251c\u2500VolGroup-lv_root (dm-0) 253:0    0  6.7G  0 lvm  /   \u2502 \u2514\u2500VolGroup-lv_swap (dm-1) 253:1    0  816M  0 lvm  [SWAP]   \u251c\u2500vda3                      252:3    0  4.8G  0 part    \u2514\u2500vda4                      252:4    0  9.6G  0 part    [root@host-10-0-0-113 ~]# mkfs.xfs /dev/vda3    [root@host-10-0-0-113 ~]# pvcreate /dev/vda3     Physical volume \"/dev/vda3\" successfully created   [root@host-10-0-0-113 ~]# vgextend VolGroup /dev/vda3     Volume group \"VolGroup\" successfully extended   [root@host-10-0-0-113 ~]# vgs     VG       #PV #LV #SN Attr   VSize  VFree      VolGroup   2   2   0 wz--n- 10.8g 4.8g   [root@host-10-0-0-113 ~]# lvextend -L +5G /dev/mapper/VolGroup-lv_root     Extending logical volume lv_root to 11.71 GiB     Logical volume lv_root successfully resized   # \u91cd\u65b0\u52a0\u8f7d\u786c\u76d8\uff0c xfs\u683c\u5f0f\u9700\u8981 xfs_growfs /dev/mapper/VolGroup-lv_root    [root@host-10-0-0-113 ~]# resize2fs /dev/mapper/VolGroup-lv_root    resize2fs 1.41.12 (17-May-2010)   Filesystem at /dev/mapper/VolGroup-lv_root is mounted on /; on-line resizing required   old desc_blocks = 1, new_desc_blocks = 1   Performing an on-line resize of /dev/mapper/VolGroup-lv_root to 3332096 (4k) blocks.   The filesystem on /dev/mapper/VolGroup-lv_root is now 3332096 blocks long.   [root@host-10-0-0-113 ~]# df -h   Filesystem                    Size  Used Avail Use% Mounted on   /dev/mapper/VolGroup-lv_root   6G  827M   5G   7% /   tmpfs                         1.9G     0  1.9G   0% /dev/shm   /dev/vda1                     485M   32M  428M   7% /boot</p> <p>```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#swift","title":"Swift","text":"<ul> <li>```BASH   1.\u767b\u5f55IaaS\u4e91\u4e3b\u673a\uff0c\u521b\u5efaswifter\u7528\u6237\uff0c\u5e76\u521b\u5efaswift\u79df\u6237\uff0c\u5c06swifter\u7528\u6237\u89c4\u5212\u5230swift\u79df\u6237\u4e0b\uff0c\u8d4b\u4e88swifter\u7528\u6237\u4f7f\u7528swift\u670d\u52a1\u7684\u6743\u9650\uff0c\u5e76\u901a\u8fc7\u8be5\u7528\u6237\u5728swift\u4e2d\u521b\u5efamycontainer\u5bb9\u5668   # openstack user create swifter --password 000000 --domain xiandian    # openstack project create swift --domain xiandian   # openstack role add --user swifter --project swift admin   # swift -A  http://controlller:35357/v3  --os-username swifter --os-user-domain-name xiandian --os-project-name swift --os-project-domain-name xiandian  --os-password 000000 post mycontainer</li> </ul> <p>2.\u4f7f\u7528 admin \u8d26\u53f7\u5728 swift \u4e2d\u521b\u5efa mycontainer \u5bb9\u5668   # swift -U admin:admin -K 000000  post mycontainer</p> <p>3.\u4f7f\u7528\u547d\u4ee4\u67e5\u770b swift \u670d\u52a1\u72b6\u6001\uff0c\u7136\u540e\u521b\u5efa\u4e00\u4e2a\u5bb9\u5668\uff0c\u5e76\u4f7f\u7528\u547d\u4ee4\u67e5\u770b\u5bb9\u5668\u5217\u8868\u3002   # openstack-status  | grep swift   # swift post container1   # swift list</p> <p>4.\u4f7f\u7528 swift \u76f8\u5173\u547d\u4ee4\u67e5\u770b\u4e00\u4e2a\u5bb9\u5668\u7684\u72b6\u6001\uff0c\u7136\u540e\u5f80\u8fd9\u4e2a\u5bb9\u5668\u4e2d\u4e0a\u4f20\u4e00\u4e2a\u6587\u4ef6\uff08\u6587\u4ef6\u53ef\u4ee5\u81ea\u884c\u521b\u5efa\uff09\u3002   # swift stat container1   # swift upload  container1 test.txt</p> <p>5.\u4f7f\u7528 swift \u76f8\u5173\u547d\u4ee4\uff0c\u67e5\u8be2 swift \u5bf9\u8c61\u5b58\u50a8\u670d\u52a1\u53ef\u4ee5\u5b58\u50a8\u7684\u5355\u4e2a\u6587\u4ef6\u5927\u5c0f\u7684\u6700\u5927\u503c\u3002   # swift capabilities</p> <p>6.\u767b\u5f55 iaas \u4e91\u4e3b\u673a\uff0c\u4f7f\u7528 openstack \u547d\u4ee4\uff0c\u521b\u5efa\u4e00\u4e2a\u5bb9\u5668\uff0c\u5e76\u67e5\u8be2\uff0c\u4e0a\u4f20\u4e00\u4e2a\u6587\u4ef6\uff08\u53ef\u81ea\u884c\u521b\u5efa\uff09\u5230\u8fd9\u4e2a\u5bb9\u5668\u4e2d\uff0c\u5e76\u67e5\u8be2\u3002   # openstack container create container2   # openstack container show container2   # openstack object create container2 test.txt   \u4e0a\u4f20\u5bf9\u8c61\uff08\u6587\u4ef6\uff09   # openstack object list container2</p> <p>```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#glance_1","title":"Glance\u8fd0\u7ef4","text":"<ul> <li>```BASH   1.\u4f7f\u7528\u955c\u50cf\u6587\u4ef6CentOS_6.5_x86_64_XD.qcow2\u521b\u5efaglance\u955c\u50cfxiandian6.5\uff0c\u683c\u5f0f\u4e3aqcow2\u3002   \u67e5\u770bglance\u914d\u7f6e\u6587\u4ef6\uff0c\u627e\u5230\u9ed8\u8ba4\u7684\u955c\u50cf\u5b58\u50a8\u76ee\u5f55\uff0c\u8fdb\u5165\u5230\u5b58\u50a8\u76ee\u5f55\u4e2d\uff0c\u4f7f\u7528qemu\u547d\u4ee4\u67e5\u770b\u521a\u624d\u4e0a\u4f20\u7684\u955c\u50cf\u7684\u4fe1\u606f,\u5c06\u64cd\u4f5c\u547d\u4ee4\u548c\u8fd4\u56de\u7ed3\u679c\u4ee5\u6587\u672c\u5f62\u5f0f\u63d0\u4ea4\u5230\u7b54\u9898\u6846\u3002   # glance image-create \\   --name \"xiandian6.5\" \\   --disk-format qcow2 \\   --container bare \\   --progress &lt; /opt/iaas/images/CentOS_6.5_x86_64_XD.qcow2   # cat /etc/glance/glance-api.conf |grep image|grep -Ev '<sup>#|</sup>$'   filesystem_store_datadir = /var/lib/glance/images/   # cd /var/lib/glance/images/   # qemu-img info 4993a163-c6de-4fcd-9032-c45be06ee913</li> </ul> <p>2.\u4e0a\u4f20\u5b8c\u6bd5\u540e\uff0c\u901a\u8fc7\u4e00\u6761\u7ec4\u5408\u547d\u4ee4\u83b7\u53d6\u955c\u50cf\u5217\u8868\u4fe1\u606f\uff0c\u8be5\u7ec4\u5408\u547d\u4ee4\u5305\u542b\uff1a   \uff081\uff09\u4f7f\u7528curl\u547d\u4ee4\u83b7\u53d6\u955c\u50cf\u5217\u8868\u4fe1\u606f\uff1b   \uff082\uff09\u4f7f\u7528openstack\u76f8\u5173\u547d\u4ee4\u83b7\u53d6\u7684token\u503c\uff1b   \uff083\uff09\u4ec5\u4f7f\u7528awk\u547d\u4ee4\u4e14\u7528\u7a7a\u683c\u4f5c\u4e3a\u5206\u9694\u7b26\u83b7\u53d6token\u5177\u4f53\u53c2\u6570\u503c\u3002    # curl -i -H \"X-Auth-Token:$(openstack token issue | awk -F \"|\" '/\\sid\\s/{print $3}')\" http://controller:9292/v2/images   -s\uff08silent\uff09  -H \uff08header\uff09 -i (\u53c2\u6570\u6253\u5370\u51fa\u670d\u52a1\u5668\u56de\u5e94\u7684 HTTP \u6807\u5934)</p> <p># curl -i -H \"X-Auth-Token:$(openstack token issue | awk -F \"|\" '/\\sid\\s/{print $3}')\" http://controller:9292/v2/images |sed 's/,/\\n/g'   \u52a0\u4e86sed\u66ff\u6362\uff0c\u4e3a\u6362\u884c\u663e\u793a\uff0c\u65b9\u4fbf\u67e5\u770b</p> <p>3.\u901a\u8fc7\u4e00\u6761\u7ec4\u5408\u547d\u4ee4\u83b7\u53d6\u8be5\u955c\u50cf\u8be6\u7ec6\u4fe1\u606f\uff0c\u8be5\u7ec4\u5408\u547d\u4ee4\u8981\u6c42\uff1a   \uff081\uff09\u4e0d\u80fd\u4f7f\u7528\u4efb\u4f55 ID \u4f5c\u4e3a\u53c2\u6570\uff1b   \uff082\uff09\u4f7f\u7528 openstack \u76f8\u5173\u547d\u4ee4\u83b7\u53d6\u8be6\u7ec6\u4fe1\u606f\uff1b   \uff083\uff09\u4f7f\u7528 glance \u76f8\u5173\u547d\u4ee4\u83b7\u53d6\u955c\u50cf\u5bf9\u5e94\u5173\u7cfb\uff1b   \uff084\uff09\u4ec5\u4f7f\u7528 awk \u547d\u4ee4\u4e14\u7528\u201c|\u201d\u4f5c\u4e3a\u5206\u9694\u7b26\u83b7\u53d6 ID \u503c\u3002   # openstack image show <code>glance image-list |awk -F '|' '/xiandian6.5/ {print $2}'</code></p> <p>4.\u4f7f\u7528curl\u7684\u65b9\u6cd5\uff0c\u67e5\u8be2glance image api \u7684\u72b6\u6001\u548c\u7248\u672c\u4fe1\u606f\u3002</p> <p>5.\u4f7f\u7528systemctl \u76f8\u5173\u547d\u4ee4\uff0c\u5728\u4e00\u6761\u547d\u4ee4\u4e2d\u67e5\u8be2glance\u7ec4\u4ef6\u4e2d\u6240\u6709\u670d\u52a1\u7684\u72b6\u6001\u4fe1\u606f   # systemctl | grep glance</p> <p>```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#neutron_1","title":"Neutron\u8fd0\u7ef4","text":"<ul> <li>```BASH   1.\u4f7f\u7528neutron\u76f8\u5173\u547d\u4ee4\u67e5\u8be2\u7f51\u7edc\u670d\u52a1\u7684\u5217\u8868\u4fe1\u606f,\u5e76\u67e5\u8be2\u7f51\u7edc\u670d\u52a1DHCP agent\u7684\u8be6\u7ec6\u4fe1\u606f   # neutron agent-list   # neutron agent-show 75aa4432-93be-494f-abdb-a57fea9933f0</li> </ul> <p>2.\u4f7f\u7528 neutron \u76f8\u5173\u547d\u4ee4\u67e5\u8be2\u7f51\u7edc\u670d\u52a1\u7684\u5217\u8868\u4fe1\u606f\uff0c\u5e76\u5df2\u4e0b\u56fe\u7684\u5f62\u5f0f\u6253\u5370\u51fa\u6765   # neutron agent-list -c binary -c agent_type -c alive</p> <p>3.\u4ec5\u4f7f\u7528 neutron \u76f8\u5173\u547d\u4ee4\u67e5\u8be2\u7f51\u7edc\u670d\u52a1\u7684\u5217\u8868\u4fe1\u606f\u4e2d\u7684\u201cbinary\u201d\u4e00\u5217   # neutron agent-list -c binary</p> <p>4.\u4f7f\u7528 ovs-vswitchd \u7ba1\u7406\u5de5\u5177\u7684\u76f8\u5173\u547d\u4ee4\u67e5\u8be2\u8ba1\u7b97\u8282\u70b9\u7684\u7f51\u6865\u5217\u8868\u4fe1\u606f   # ovs-vsctl   list-br</p> <p>5.\u4f7f\u7528 ovs-vswitchd \u7ba1\u7406\u5de5\u5177\u7684\u76f8\u5173\u547d\u4ee4\u67e5\u8be2\u63a7\u5236\u8282\u70b9\u7684\u7f51\u6865 br-ex \u7684\u7aef\u53e3\u5217\u8868\u4fe1\u606f   # ovs-vsctl list-ports br-ex</p> <p>6.neutron\u547d\u4ee4\u521b\u5efa\u7f51\u7edc\u548c\u5b50\u7f51   # neutron net-create --shared --provider:physical_network net172_16_1 --provider:network_type flat cheng   # neutron subnet-create --name cheng --allocation-pool start=172.16.1.101,end=172.16.1.250 --dns-nameserver 223.5.5.5 --gateway 172.16.1.254 cheng 172.16.1.0/24</p> <p># neutron net-list   # neutron subnet-list   ```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#heat","title":"Heat\u8fd0\u7ef4","text":"<ul> <li>```bash   1.\u767b\u5f55iaas\u4e91\u4e3b\u673a\uff0c\u4f7f\u7528heat\u76f8\u5173\u547d\u4ee4\uff0c\u67e5\u8be2heat\u6700\u65b0\u7248\u672c\u6a21\u677f\u7684\u529f\u80fd\u5217\u8868\uff0c\u5c06\u64cd\u4f5c\u547d\u4ee4\u548c\u8fd4\u56de\u7ed3\u679c\u4ee5\u6587\u672c\u5f62\u5f0f\u63d0\u4ea4\u5230\u7b54\u9898\u6846\u3002   # heat template-version-list    | heat_template_version.2016-04-08     | hot  |   +--------------------------------------+------+   # heat template-function-list heat_template_version.2016-04-08</li> </ul> <p>2.\u4ece\u8003\u8bd5\u7cfb\u7edf\u9644\u4ef6\u4e0b\u8f7d server.yml \u6587\u4ef6\uff0c\u901a\u8fc7\u547d\u4ee4\u884c\u4f7f\u7528 server.yml \u6587\u4ef6\u521b\u5efa\u6808 mystack\uff0c\u6307\u5b9a\u914d\u7f6e\u53c2\u6570\u4e3a\u955c\u50cf centos7\u3001\u7f51\u7edc int-net2   # neutron net-list   # glance image-list   # heat stack-create -f server.yml  -P ImageID=f93e836c-4905-433f-8f01-97391eb62d7c -P NetID=41cbb614-0071-4818-b8d7-230bc7d6f9af mystack   ```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#rabbitmq","title":"Rabbitmq\u8fd0\u7ef4","text":"<ul> <li>```bash   \u767b\u5f55\u201ciaas_all\u201d\u4e91\u4e3b\u673a\u3002   \uff081\uff09\u4f7f\u7528rabbitmqctl\u547d\u4ee4\u521b\u5efa\u7528\u6237xiandian-admin\uff0c\u5bc6\u7801\u4e3aadmin\uff1b   # rabbitmqctl add_user xiandian-admin admin</li> </ul> <p>\uff082\uff09\u7ed9xiandian-admin\u7528\u6237\u521b\u5efaadministrator\u89d2\u8272\u5e76\u67e5\u8be2\uff1b   \u8bbe\u7f6e\u7528\u6237\u89d2\u8272\uff1arabbitmqctl set_user_tags {username} {tag ...}   Tag\u53ef\u4ee5\u4e3a administrator,monitoring, management   # rabbitmqctl set_user_tags xiandian-admin administrator</p> <p>\uff083\uff09\u6388\u4e88\u7528\u6237xiandian-admin\u5bf9\u672c\u673a\u6240\u6709\u8d44\u6e90\u53ef\u5199\u53ef\u8bfb\u53ef\u6267\u884c\u7684\u6743\u9650\uff0c\u67e5\u8be2xiandian-admin\u7528\u6237\u7684\u6388\u6743\u4fe1\u606f\u3002 \u7136\u540e\u67e5\u8be2xiandian-admin \u7528\u6237\u7684\u6388\u6743\u4fe1\u606f   set_permissions [-p ]     # rabbitmqctl set_permissions xiandian-admin '.' '.' '.*'   # rabbitmqctl list_user_permissions xiandian-admin <p>4.\u4f7f\u7528rabbitmqctl\u547d\u4ee4\u67e5\u8be2\u96c6\u7fa4\u72b6\u6001   # rabbitmqctl cluster_status</p> <p>```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#kvm","title":"KVM\u8fd0\u7ef4","text":"<ul> <li>```bash   1.\u767b\u5f55compute\u8282\u70b9\uff0c\u4f7f\u7528\u547d\u4ee4\u5c06KVM\u8fdb\u7a0b\u7ed1\u5b9a\u5230\u7279\u5b9a\u76840-5\u53f7cpu\u4e0a\u3002   # pgrep -lo kvm   21701 qemu-kvm   # taskset -pc 0-5 21701</li> </ul> <p>2.\u5728\u7269\u7406\u4e91\u5e73\u53f0\u67e5\u8be2\u4e91\u4e3b\u673aIaaS\u5728KVM\u4e2d\u7684\u771f\u5b9e\u5b9e\u4f8b\u540d\uff0c\u5728\u8ba1\u7b97\u8282\u70b9\u4f7f\u7528virsh\u547d\u4ee4\u627e\u5230\u8be5\u5b9e\u4f8b\u540d\u5bf9\u5e94\u7684domain-id\uff0c\u4f7f\u7528\u8be5domain-id\u67e5\u770b\u4e91\u4e3b\u673aIaaS\u7684cpu\u4f7f\u7528\u4fe1\u606f   # nova show test1   OS-EXT-SRV-ATTR:instance_name        | instance-0000001a   # virsh domid instance-0000001a   # virsh vcpuinfo 5</p> <p>3.\u5728\u7269\u7406\u4e91\u5e73\u53f0\u67e5\u8be2\u4e91\u4e3b\u673a IaaS \u5728 KVM \u4e2d\u7684\u771f\u5b9e\u5b9e\u4f8b\u540d\uff0c\u5728\u8ba1\u7b97\u8282\u70b9\u4f7f\u7528 virsh \u547d\u4ee4\u627e\u5230\u8be5\u5b9e\u4f8b\u540d\u5bf9\u5e94\u7684 domain-id\uff0c\u4f7f\u7528\u8be5 domain-id \u5173\u95ed\u4e91\u4e3b\u673a IaaS   [root@controller ~]# nova list   [root@controller ~]# nova show  IaaS|grep instance   [root@compute ~]# virsh domid instance-00000007   [root@compute ~]# virsh shutdown 8</p> <p>4.\u767b\u5f55 controller \u8282\u70b9\uff0c\u9996\u5148\u67e5\u770b\u5f53\u524d\u7cfb\u7edf\u6709\u591a\u5c11\u5927\u9875\uff0c\u7136\u540e\u8bbe\u7f6e\u5927\u9875\u6570\u91cf\u4e3a 20 \u5e76\u67e5\u770b\uff0c\u5176\u6b21\u4f7f\u7528\u547d\u4ee4\u4f7f\u914d\u7f6e\u6c38\u4e45\u751f\u6548\uff0c\u6700\u540e\u5c06\u5927\u9875\u6302\u8f7d\u5230/dev/hugepages/\u4e0a\u3002   [root@controller ~]# cat /proc/meminfo|grep HugePages   [root@controller ~]# echo 20 &gt; /proc/sys/vm/nr_hugepages   [root@controller ~]# cat /proc/meminfo|grep HugePages   [root@controller ~]# sysctl -w vm.nr_hugepages=20   [root@controller ~]# mount -t hugetlbfs hugetlbfs /dev/hugepages/</p> <p>```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#_6","title":"\u6570\u636e\u52a0\u5bc6\u7ba1\u7406","text":"<ul> <li>```bash   \u524d\u63d0\uff1a\u6309\u8981\u6c42\u914d\u7f6e\u9759\u6001fixed_key\uff0c\u4f7fcinder\u548cnova\u7ec4\u4ef6\u53ef\u4ee5\u4f7f\u7528\u52a0\u5bc6\u8fc7\u7684Block Storage\u5377\u670d\u52a1\uff0c\u914d\u7f6e\u597d\u4e4b\u540e\uff0c\u521b\u5efa\u4e00\u4e2a\u5377\u7c7b\u578b\u53ebluks\uff0c\u5e76\u628a\u8fd9\u4e2a\u7c7b\u578b\u914d\u7f6e\u4e3a\u52a0\u5bc6\u7c7b\u578b\uff0ccipher\u4f7f\u7528\u201caes-xts-plain64\u201d\uff0ckey_size\u4f7f\u7528\u201c512\u201d\uff0ccontrol-location\u4f7f\u7528\u201cfront-end\u201d\uff0cProvider\u4f7f\u7528\u201cnova.volume.encryptors.luks.LuksEncryptor\u201d\u3002</li> </ul> <p>\uff081\uff09\u767b\u5f55\u201ciaas_all\u201d\u4e91\u4e3b\u673a\uff0c\u521b\u5efa\u4e24\u5757\u4e91\u786c\u76d8\uff0c\u5206\u522b\u53eb\u201cunencrypted volume\u201d\u548c\u201cencrypted volume\u201d\u5927\u5c0f\u90fd\u662f1G\uff0c\u524d\u8005\u4e0d\u52a0\u5bc6\uff0c\u540e\u8005\u4f7f\u7528luks\u52a0\u5bc6\u5377\u7c7b\u578b\uff1b   # fdisk /dev/sdd                      #\u521b\u5efa\u78c1\u76d8    # cryptsetup luksFormat /dev/sdd    #\u52a0\u5bc6\u78c1\u76d8   WARNING!   This will overwrite data on /dev/sdd irrevocably.   Are you sure? (Type uppercase yes): YES     #\u5927\u5199YES   Enter passphrase:                           #\u5bc6\u7801\u957f\u5ea6\u6700\u5c118\u4f4d\uff0c\u4e0d\u80fd\u592a\u7b80\u5355   Verify passphrase:    ```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#cinder_2","title":"Cinder\u6392\u9519","text":"<ul> <li><code>bash   \u5728\u4e91\u5e73\u53f0\u540e\u53f0\u7ba1\u7406\u7684\u8fc7\u7a0b\u4e2d\u5757\u5b58\u50a8\u529f\u80fd\u65e0\u6cd5\u4f7f\u7528\uff0c\u9519\u8bef\u73b0\u8c61\u4e3a\u521b\u5efa\u7684\u4e91\u786c\u76d8\u72b6\u6001\u4e3aerror\u3002\u627e\u51fa\u9519\u8bef\u539f\u56e0\uff0c\u8fdb\u884c\u4fee\u590d\uff0c\u4fee\u590d\u4e4b\u540e\u521b\u5efa\u4e91\u786c\u76d8\uff0c\u67e5\u8be2\u4e91\u786c\u76d8\u7684\u8be6\u7ec6\u4fe1\u606f\u3002\u4f9d\u6b21\u5c06\u9519\u8bef\u7684\u5185\u5bb9\u3001\u4fee\u590d\u7684\u64cd\u4f5c\u4ee5\u53ca\u67e5\u8be2\u5230\u4fe1\u606f\u4ee5\u6587\u672c\u5f62\u5f0f\u63d0\u4ea4\u5230\u7b54\u9898\u6846\u3002</code></li> </ul>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#glance_2","title":"Glance\u6392\u9519","text":"<ul> <li>```bash   \u5728\u4e91\u5e73\u53f0\u540e\u53f0\u7ba1\u7406\u7684\u8fc7\u7a0b\u4e2d\u65e0\u6cd5\u4e0a\u4f20\u955c\u50cf\uff0c\u627e\u51fa\u9519\u8bef\u539f\u56e0\uff0c\u5e76\u8fdb\u884c\u4fee\u590d\uff0c\u4fee\u590d\u4e4b\u540e\u4f7f\u7528cirros-0.3.4-x86_64-disk.img\u521b\u5efa\u540d\u4e3acirros\u7684\u955c\u50cf\uff0c\u67e5\u8be2\u955c\u50cf\u7684\u8be6\u7ec6\u4fe1\u606f\u3002\u4f9d\u6b21\u5c06\u9519\u8bef\u7684\u5185\u5bb9\u3001\u4fee\u590d\u7684\u64cd\u4f5c\u4ee5\u53ca\u67e5\u8be2\u5230\u7684\u4fe1\u606f\u4ee5\u6587\u672c\u5f62\u5f0f\u63d0\u4ea4\u5230\u7b54\u9898\u6846\u3002</li> </ul> <p>```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#_7","title":"\u5de5\u7a0b\u603b\u7ed3\u62a5\u544a","text":"<pre><code>1.\u7ed8\u5236IaaS\u5e73\u53f0\u7684\u67b6\u6784\u7ec4\u4ef6\u56fe\uff0c\u7ec4\u4ef6\u5305\u542b\u672c\u6b21\u9879\u76ee\u5b9e\u65bd\u4e2d\u6d89\u53ca\u5230\u7684IaaS\u7ec4\u4ef6\u670d\u52a1\uff0c\u67b6\u6784\u7ec4\u4ef6\u7ed8\u5236\u5404\u7ec4\u4ef6\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u5e76\u5bf9\u67b6\u6784\u56fe\u8fdb\u884c\u89e3\u91ca\u8bf4\u660e\u3002\n\u7ec4\u4ef6\u5305\u62ecHorizon\u3001Neutron\u3001Cinder\u3001Nova\u3001Glance\u3001Swift\u3001Cinder\u3001Ceilmeter\u3001Keystone\u3001Heat\u3001Sahara\u3002\n\u89e3\u91ca\u8bf4\u660e\uff1a\u63a7\u5236\u9762\u677f\u540c\u6bcf\u4e2a\u670d\u52a1\u90fd\u6709\u8c03\u7528\u5173\u7cfb\uff0cKeystone\u548c\u6bcf\u4e2a\u670d\u52a1\u90fd\u6709\u8ba4\u8bc1\u7ba1\u7406\u3002Neutron\u4e3aVM\u63d0\u4f9b\u7f51\u7edc\u670d\u52a1\u3001Cinder\u4e3aVM\u63d0\u4f9b\u5feb\u5b58\u50a8\u3001Swift\u63d0\u4f9b\u4e91\u5b58\u50a8\u3001Glance\u4e3aVM\u63d0\u4f9b\u955c\u50cf\u3001Nova\u662fVM\u64cd\u4f5c\u7684\u8c03\u5ea6\u5f15\u64ce\u3002Ceilometer\u662f\u76d1\u63a7\u670d\u52a1\uff0cHeat\u662f\u6a21\u677f\u670d\u52a1\u3002Sahara\u662f\u5927\u6570\u636e\u96c6\u7fa4\u90e8\u7f72\u670d\u52a1\u3002\n</code></pre> <pre><code># fdisk /dev/sdb       \u521b\u5efa\u786c\u76d8\n# pvcreate /dev/sdb1   \u521b\u5efa\n# pvcreate /dev/sdc1\n# vgcreate vgtest /dev/sdb1 /dev/sdc1\n# lvcreate -L 1G -n 'encrypted-volume' cinder-volumes\n</code></pre>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#hadoop","title":"Hadoop","text":""},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#1hadoop","title":"1.Hadoop\u642d\u5efa","text":"<p>xml\u6587\u4ef6</p> <p>yum\u6e90    yum update</p> <p>\u5927\u6570\u636e\u5e73\u53f0\u7684\u642d\u5efa\u91c7\u7528\u5206\u5e03\u5f0f\u65b9\u5f0f\u90e8\u7f72\uff0c\u90e8\u7f72\u5728\u4e91\u5e73\u53f0\u7684\u4e24\u53f0\u865a\u62df\u673a\u4e0a\uff0c\u89c4\u5212\u5927\u6570\u636e\u5e73\u53f0\u7684\u90e8\u7f72\u67b6\u6784\uff0c\u4e91\u4e3b\u673a1\u90e8\u7f72\u5927\u6570\u636e\u5e73\u53f0master\u8282\u70b9\uff0c\u4e91\u4e3b\u673a2\u90e8\u7f72\u5927\u6570\u636e\u5e73\u53f0slaver\u8282\u70b9\u3002\u6309\u4ee5\u4e0b\u914d\u7f6e\u5728\u4e91\u5e73\u53f0\u4e2d\u521b\u5efa\u4e91\u4e3b\u673a\uff0c\u5b8c\u6210\u7b2c\u4e8c\u90e8\u5206\u7684\u76f8\u5173\u8bd5\u9898\u540e\u5173\u95ed\u4e91\u4e3b\u673a\u3002</p> <p>\u4e91\u4e3b\u673a1\uff1a</p> <p>\uff081\uff09\u540d\u79f0\uff1amaster</p> <p>\uff082\uff09\u955c\u50cf\u6587\u4ef6\uff1ahadoop_master_centos7_x86_xiandian_images-v04.qcow2</p> <p>\uff083\uff09\u4e91\u4e3b\u673a\u7c7b\u578b\uff1a4CPU\u30018G\u5185\u5b58\u300110G\u786c\u76d8</p> <p>(4) \u7f51\u7edc\uff1a\u7f51\u7edc1\uff1aint-net1\uff0c\u7ed1\u5b9a\u6d6e\u52a8IP</p> <p>\u4e91\u4e3b\u673a2\uff1a</p> <p>\uff081\uff09\u540d\u79f0\uff1aslaver</p> <p>\uff082\uff09\u955c\u50cf\u6587\u4ef6\uff1ahadoop_slaver1_centos7_x86_xiandian_images-v04.qcow2</p> <p>\uff083\uff09\u4e91\u4e3b\u673a\u7c7b\u578b\uff1a2CPU\u30014G\u5185\u5b58\u300110G\u786c\u76d8</p> <p>(4) \u7f51\u7edc\uff1a\u7f51\u7edc1\uff1aint-net1\uff0c\u7ed1\u5b9a\u6d6e\u52a8IP</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#_8","title":"\u57fa\u672c\u73af\u5883","text":"<pre><code>1.\u66f4\u6539\u4e24\u53f0\u4e3b\u673a\u7684hosts\uff08ip\u4e3a\u7ed1\u5b9a\u7684\u7f51\u7edc\u63a5\u53e3\u7684ip\uff0c\u5e76\u975e\u6d6e\u52a8ip\uff09\n# cat  /etc/hosts\n127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n10.0.0.107 master\n10.0.0.105 slaver1\n2.\u68c0\u67e5ntp\u3001ambari-server\u662f\u5426\u542f\u52a8\u548cslaver1\u7684ntpdate\u72b6\u6001\nmaster  # systemctl status ntpd\nslaver1 # ntpdate master\nmaster  # systemctl status ambari-server\n3.\u68c0\u67e5Transparent Huge Pages\u72b6\u6001\n# cat /sys/kernel/mm/transparent_hugepage/defrag \n4.\u767b\u5f55\u7f51\u9875http\uff1a//master\uff1a8080\u4fee\u6539MapReduce2\u548cHive\u914d\u7f6e\u53c2\u6570\u4e2d\u6709\u9ec4\u8272\u4e09\u89d2\u63d0\u793a\u7684\u9879\n</code></pre>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#2hadoop","title":"2.Hadoop\u8fd0\u7ef4","text":""},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#_9","title":"\u5e38\u7528\u547d\u4ee4","text":"<ul> <li>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#hadoop_1","title":"Hadoop\u96c6\u7fa4\u7528\u6237\u7684\u5e38\u7528\u547d\u4ee4\u3002","text":""},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#archive","title":"archive","text":"<p>\u521b\u5efa\u4e00\u4e2ahadoop\u6863\u6848\u6587\u4ef6\u3002\u53c2\u8003 Hadoop Archives. \u7528\u6cd5\uff1ahadoop archive -archiveName NAME -p  *"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#distcp","title":"distcp","text":"<p>\u9012\u5f52\u5730\u62f7\u8d1d\u6587\u4ef6\u6216\u76ee\u5f55\u3002\u53c2\u8003DistCp\u6307\u5357\u4ee5\u83b7\u53d6\u7b49\u591a\u4fe1\u606f\u3002 \u7528\u6cd5\uff1ahadoop distcp"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#fs","title":"fs","text":"<p>\u7528\u6cd5\uff1ahadoop fs [GENERIC_OPTIONS] [COMMAND_OPTIONS] \u8fd0\u884c\u4e00\u4e2a\u5e38\u89c4\u7684\u6587\u4ef6\u7cfb\u7edf\u5ba2\u6237\u7aef\u3002</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#fsck","title":"fsck","text":"<p>\u8fd0\u884cHDFS\u6587\u4ef6\u7cfb\u7edf\u68c0\u67e5\u5de5\u5177\u3002\u53c2\u8003Fsck\u4e86\u89e3\u66f4\u591a\u3002 \u7528\u6cd5\uff1ahadoop fsck [GENERIC_OPTIONS]  [-move | -delete | -openforwrite] [-files [-blocks [-locations | -racks]]]"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#jar","title":"jar","text":"<p>\u8fd0\u884cjar\u6587\u4ef6\u3002\u7528\u6237\u53ef\u4ee5\u628a\u4ed6\u4eec\u7684Map Reduce\u4ee3\u7801\u6346\u7ed1\u5230jar\u6587\u4ef6\u4e2d\uff0c\u4f7f\u7528\u8fd9\u4e2a\u547d\u4ee4\u6267\u884c\u3002 \u7528\u6cd5\uff1ahadoop jar  [mainClass] args..."},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#job","title":"job","text":"<p>\u7528\u4e8e\u548cMap Reduce\u4f5c\u4e1a\u4ea4\u4e92\u548c\u547d\u4ee4\u3002 \u7528\u6cd5\uff1ahadoop job [GENERIC_OPTIONS] [-submit ] | [-status ] | [-counter  ] | [-kill ] | [-events   &lt;#-of-events&gt;] | [-history [all] ] | [-list [all]] | [-kill-task ] | [-fail-task ]"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#pipes","title":"pipes","text":"<p>\u8fd0\u884cpipes\u4f5c\u4e1a\u3002 \u7528\u6cd5\uff1ahadoop pipes [-conf ] [-jobconf , , ...] [-input ] [-output ] [-jar ] [-inputformat ] [-map ] [-partitioner ] [-reduce ] [-writer ] [-program ] [-reduces ]"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#version","title":"version","text":"<p>\u6253\u5370\u7248\u672c\u4fe1\u606f\u3002 \u7528\u6cd5\uff1ahadoop version</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#classname","title":"CLASSNAME","text":"<p>hadoop\u811a\u672c\u53ef\u7528\u4e8e\u8c03\u8c03\u7528\u4efb\u4f55\u7c7b\u3002 \u7528\u6cd5\uff1ahadoop CLASSNAME \u8fd0\u884c\u540d\u5b57\u4e3aCLASSNAME\u7684\u7c7b\u3002</p> <p>\u5728Hadoop\u96c6\u7fa4\u4e2d\uff0c\u53ea\u6709hdfs\u7528\u6237\u624d\u6709\u5bf9HDFS\u6587\u4ef6\u7cfb\u7edf\u7684\u7ba1\u7406\u6743\u9650\uff0c\u5f53\u5176\u5b83\u7528\u6237\u5bf9\u6587\u4ef6\u7cfb\u7edf\u8fdb\u884c\u64cd\u4f5c\uff0c\u9700\u8981\u7ed9\u5176\u8d4b\u4e88\u76f8\u5e94\u7684\u6743\u9650\uff0c\u8fd9\u91cc\u4e3a\u4e86\u65b9\u4fbf\u64cd\u4f5c\uff0c\u5c06\u6240\u6709\u7528\u6237\u7684\u8bfb\u5199\u6267\u884c\u6743\u9650\u5168\u90e8\u653e\u5f00\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a  su hdfs $ hadoop fs -chmod  -R 777 / $ hadoop fs -ls /</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#hdfs","title":"Hdfs","text":"<ul> <li>```BASH   1.\u5728HDFS\u6587\u4ef6\u7cfb\u7edf\u7684\u6839\u76ee\u5f55\u4e0b\u4f7f\u7528\u4e00\u6761\u547d\u4ee4\u521b\u5efa\u9012\u5f52\u76ee\u5f55\u201c1daoyun/file\u201d\uff0c\u5c06\u9644\u4ef6\u4e2d\u7684BigDataSkills.txt\u6587\u4ef6\uff0c\u4e0a\u4f20\u52301daoyun/file\u76ee\u5f55\u4e2d\uff0c\u5e76\u4f7f\u7528HDFS\u6587\u4ef6\u7cfb\u7edf\u68c0\u67e5\u5de5\u5177\u68c0\u67e5\u6587\u4ef6\u662f\u5426\u53d7\u635f\uff0c\u4ee5\u6587\u672c\u5f62\u5f0f\u63d0\u4ea4\u4ee5\u4e0a\u64cd\u4f5c\u547d\u4ee4\u548c\u8f93\u51fa\u7ed3\u679c\u5230\u7b54\u9898\u6846\u4e2d\u3002   [root@master ~]# hadoop fs -mkdir -p /1daoyun/file   [root@master ~]# hadoop fs -put   /opt/MapReduce/BigDataSkills.txt /1daoyun/file   [root@master ~]# hadoop fsck /1daoyun/file/BigDataSkills.txt</li> </ul> <p>2.HDFS\u6587\u4ef6\u7cfb\u7edf\u7684\u6839\u76ee\u5f55\u4e0b\u5b58\u5728\u4e00\u4e2a/apps\u7684\u6587\u4ef6\u76ee\u5f55\uff0c\u8981\u6c42\u5f00\u542f\u8be5\u76ee\u5f55\u7684\u53ef\u521b\u5efa\u5feb\u7167\u529f\u80fd\uff0c\u5e76\u4e3a\u8be5\u76ee\u5f55\u6587\u4ef6\u521b\u5efa\u5feb\u7167\uff0c\u5feb\u7167\u540d\u4e3aapps_1daoyun\uff0c\u4f7f\u7528\u76f8\u5173\u547d\u4ee4\u67e5\u770b\u8be5\u5feb\u7167\u7684\u5217\u8868\u4fe1\u606f\u3002   [hdfs@master root]$ hdfs dfsadmin -allowSnapshot /apps   [hdfs@master root]$ hdfs dfs -createSnapshot /apps apps_1daoyun   [hdfs@master root]$ hadoop fs -ls /apps/.snapshot</p> <p>3.\u4e3a\u4e86\u9632\u6b62\u64cd\u4f5c\u4eba\u5458\u8bef\u5220\u6587\u4ef6\uff0cHDFS\u6587\u4ef6\u7cfb\u7edf\u63d0\u4f9b\u4e86\u56de\u6536\u7ad9\u7684\u529f\u80fd\uff0c\u4f46\u8fc7\u591a\u7684\u5783\u573e\u6587\u4ef6\u4f1a\u5360\u7528\u5927\u91cf\u7684\u5b58\u50a8\u7a7a\u95f4\u3002\u8981\u6c42\u5728\u5148\u7535\u5927\u6570\u636e\u5e73\u53f0\u7684WEB\u754c\u9762\u5c06HDFS\u6587\u4ef6\u7cfb\u7edf\u56de\u6536\u7ad9\u4e2d\u7684\u6587\u4ef6\u5f7b\u5e95\u5220\u9664\u7684\u65f6\u95f4\u95f4\u9694\u4e3a7\u5929\uff0c\u4ee5\u6587\u672c\u5f62\u5f0f\u63d0\u4ea4\u4fee\u6539\u7684\u6587\u4ef6\u540d\u79f0\u3001\u53c2\u6570\u4fe1\u606f\u548c\u53c2\u6570\u503c\u5230\u7b54\u9898\u6846\u4e2d\u3002   # hafs\u4e2d\u7684fs.trash.interval\u914d\u7f6e\u4fee\u6539\u4e3a10080</p> <p>4.Hadoop\u96c6\u7fa4\u4e2d\u7684\u4e3b\u673a\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u4f1a\u51fa\u73b0\u5b95\u673a\u6216\u8005\u7cfb\u7edf\u635f\u574f\u7684\u95ee\u9898\uff0c\u4e00\u65e6\u9047\u5230\u8fd9\u4e9b\u95ee\u9898\uff0cHDFS\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u6570\u636e\u6587\u4ef6\u96be\u514d\u4f1a\u4ea7\u751f\u635f\u574f\u6216\u8005\u4e22\u5931\uff0c\u4e3a\u4e86\u4fdd\u8bc1HDFS\u6587\u4ef6\u7cfb\u7edf\u7684\u53ef\u9760\u6027\uff0c\u73b0\u9700\u8981\u5728\u5148\u7535\u5927\u6570\u636e\u5e73\u53f0\u7684WEB\u754c\u9762\u5c06\u96c6\u7fa4\u7684\u5197\u4f59\u590d\u5236\u56e0\u5b50\u4fee\u6539\u4e3a5\uff0c\u4ee5\u6587\u672c\u5f62\u5f0f\u63d0\u4ea4\u4fee\u6539\u7684\u53c2\u6570\u4fe1\u606f\u548c\u53c2\u6570\u503c\u5230\u7b54\u9898\u6846\u4e2d\u3002   # hdfs\u4e2d\u7684Block replication\u914d\u7f6e\u9009\u9879\u4fee\u6539\u4e3a5</p> <p>5.\u4f7f\u7528\u547d\u4ee4\u67e5\u770bhdfs\u6587\u4ef6\u7cfb\u7edf\u4e2d/tmp\u76ee\u5f55\u4e0b\u7684\u76ee\u5f55\u4e2a\u6570\uff0c\u6587\u4ef6\u4e2a\u6570\u548c\u6587\u4ef6\u603b\u5927\u5c0f\uff0c\u5c06\u64cd\u4f5c\u547d\u4ee4\u548c\u8fd4\u56de\u7ed3\u679c\u4ee5\u6587\u672c\u5f62\u5f0f\u63d0\u4ea4\u5230\u7b54\u9898\u6846\u3002   [hdfs@master 2.4.3.0-227]$ hadoop fs -count -h /tmp     -h(\u4eba\u6027\u5316\u5730\u663e\u793a\u5927\u5c0f)              8            1              1.7 K /tmp</p> <p>```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#mapreduce","title":"MapReduce","text":"<ul> <li>```BASH   1.\u5728\u96c6\u7fa4\u8282\u70b9\u4e2d/usr/hdp/2.4.3.0-227/hadoop-mapreduce/\u76ee\u5f55\u4e0b\uff0c\u5b58\u5728\u4e00\u4e2a\u6848\u4f8bJAR\u5305hadoop-mapreduce-examples.jar\u3002\u8fd0\u884cJAR\u5305\u4e2d\u7684PI\u7a0b\u5e8f\u6765\u8fdb\u884c\u8ba1\u7b97\u5706\u5468\u7387\u03c0\u7684\u8fd1\u4f3c\u503c\uff0c\u8981\u6c42\u8fd0\u884c5\u6b21Map\u4efb\u52a1\uff0c\u6bcf\u4e2aMap\u4efb\u52a1\u7684\u6295\u63b7\u6b21\u6570\u4e3a5\uff0c\u8fd0\u884c\u5b8c\u6210\u540e\u4ee5\u6587\u672c\u5f62\u5f0f\u63d0\u4ea4\u4ee5\u4e0a\u64cd\u4f5c\u547d\u4ee4\u548c\u8f93\u51fa\u7ed3\u679c\u5230\u7b54\u9898\u6846\u4e2d\u3002   [root@master ~]# hadoop jar /usr/hdp/2.4.3.0-227/hadoop-mapreduce/hadoop-mapreduce-examples-2.7.1.2.4.3.0-227.jar pi 5 5</li> </ul> <p>2.\u8fd0\u884cJAR\u5305\u4e2d\u7684wordcount\u7a0b\u5e8f\u6765\u5bf9/1daoyun/file/BigDataSkills.txt\u6587\u4ef6\u8fdb\u884c\u5355\u8bcd\u8ba1\u6570\uff0c\u5c06\u8fd0\u7b97\u7ed3\u679c\u8f93\u51fa\u5230/1daoyun/output\u76ee\u5f55\u4e2d\uff0c\u4f7f\u7528\u76f8\u5173\u547d\u4ee4\u67e5\u8be2\u5355\u8bcd\u8ba1\u6570\u7ed3\u679c\uff0c\u4ee5\u6587\u672c\u5f62\u5f0f\u63d0\u4ea4\u4ee5\u4e0a\u64cd\u4f5c\u547d\u4ee4\u548c\u8f93\u51fa\u7ed3\u679c\u5230\u7b54\u9898\u6846\u4e2d\u3002   [hdfs@master   hadoop-mapreduce]$ cd /usr/hdp/2.4.3.0-227/hadoop-mapreduce/ </p> <p>[hdfs@master   hadoop-mapreduce]$ hadoop jar hadoop-mapreduce-examples.jar wordcount /1daoyun/file/BigDataSkills.txt /1daoyun/output</p> <p>[hdfs@master root]$ hadoop fs -ls /1daoyun/output   Found 2 items   -rw-r--r--   3 hdfs hdfs          0 2019-03-28 12:54 /1daoyun/output/_SUCCESS   -rw-r--r--   3 hdfs hdfs        147 2019-03-28 12:54 /1daoyun/output/part-r-00000</p> <p>[hdfs@master root]$ hadoop fs -cat /1daoyun/output/part-r-00000</p> <p>3.\u5f53Hadoop\u96c6\u7fa4\u542f\u52a8\u7684\u65f6\u5019\uff0c\u4f1a\u9996\u5148\u8fdb\u5165\u5230\u5b89\u5168\u6a21\u5f0f\u7684\u72b6\u6001\uff0c\u8be5\u6a21\u5f0f\u9ed8\u8ba430\u79d2\u540e\u9000\u51fa\u3002\u5f53\u7cfb\u7edf\u5904\u4e8e\u5b89\u5168\u6a21\u5f0f\u65f6\uff0c\u53ea\u80fd\u5bf9HDFS\u6587\u4ef6\u7cfb\u7edf\u8fdb\u884c\u8bfb\u53d6\uff0c\u65e0\u6cd5\u8fdb\u884c\u5199\u5165\u4fee\u6539\u5220\u9664\u7b49\u7684\u64cd\u4f5c\u3002\u73b0\u5047\u8bbe\u9700\u8981\u5bf9Hadoop\u96c6\u7fa4\u8fdb\u884c\u7ef4\u62a4\uff0c\u9700\u8981\u4f7f\u96c6\u7fa4\u8fdb\u5165\u5b89\u5168\u6a21\u5f0f\u7684\u72b6\u6001\uff0c\u5e76\u68c0\u67e5\u5176\u72b6\u6001\u3002   [root@master hadoop-mapreduce]# su hdfs   [hdfs@master hadoop-mapreduce]$ /bin/hdfs dfsadmin -safemode enter   Safe mode is ON   [hdfs@master hadoop-mapreduce]$ /bin/hdfs dfsadmin -safemode leave   Safe mode is OFF</p> <p>4.\u5728\u96c6\u7fa4\u8282\u70b9\u4e2d/usr/hdp/2.4.3.0-227/hadoop-mapreduce/\u76ee\u5f55\u4e0b\uff0c\u5b58\u5728\u4e00\u4e2a\u6848\u4f8bJAR\u5305hadoop-mapreduce-examples.jar\u3002\u8fd0\u884cJAR\u5305\u4e2d\u7684sudoku\u7a0b\u5e8f\u6765\u8ba1\u7b97\u4e0b\u8868\u4e2d\u6570\u72ec\u8fd0\u7b97\u9898\u7684\u7ed3\u679c\u3002\u8fd0\u884c\u5b8c\u6210\u540e\u4ee5\u6587\u672c\u5f62\u5f0f\u63d0\u4ea4\u4ee5\u4e0a\u64cd\u4f5c\u547d\u4ee4\u548c\u8f93\u51fa\u7ed3\u679c\u5230\u7b54\u9898\u6846\u4e2d\u3002   [hdfs@master hadoop-mapreduce]$ hadoop jar hadoop-mapreduce-examples.jar sudoku       # \u6682\u65e0input\u6587\u4ef6\uff0c\u65e0\u6cd5\u8fd0\u884c <p>5.\u5728\u96c6\u7fa4\u8282\u70b9\u4e2d/usr/hdp/2.4.3.0-227/hadoop-mapreduce/\u76ee\u5f55\u4e0b\uff0c\u5b58\u5728\u4e00\u4e2a\u6848\u4f8bJAR\u5305hadoop-mapreduce-examples.jar\u3002\u8fd0\u884cJAR\u5305\u4e2d\u7684grep\u7a0b\u5e8f\u6765\u7edf\u8ba1\u6587\u4ef6\u7cfb\u7edf\u4e2dBigDataSkills.txt\u6587\u4ef6\u4e2d\u201cHadoop\u201d\u51fa\u73b0\u7684\u6b21\u6570\uff0c\u7edf\u8ba1\u5b8c\u6210\u540e\uff0c\u67e5\u8be2\u7edf\u8ba1\u7ed3\u679c\u4fe1\u606f\u3002   [hdfs@master hadoop-mapreduce]$ hadoop jar hadoop-mapreduce-examples.jar grep /1daoyun/test.txt /1daoyun/grep_output if    # \u683c\u5f0f\uff1ahadoop jar jar\u5305 grep(\u5305\u7a0b\u5e8f) input_file output_path word</p> <p>```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#hbase","title":"Hbase","text":"<ul> <li>```BASH   1.\u542f\u52a8\u5148\u7535\u5927\u6570\u636e\u5e73\u53f0\u7684Hbase\u6570\u636e\u5e93\uff0c\u5176\u4e2d\u8981\u6c42\u4f7f\u7528master\u8282\u70b9\u4e2d\u7684RegionServer\u3002\u5728LinuxShell\u4e2d\u542f\u52a8Hbaseshell\uff0c\u67e5\u770bHBase\u7684\u7248\u672c\u4fe1\u606f\u3002\uff08\u6570\u636e\u5e93\u547d\u4ee4\u8bed\u8a00\u5168\u90e8\u4f7f\u7528\u5c0f\u5199\u683c\u5f0f\uff09   hbase(main):001:0&gt; version   1.1.2.2.4.3.0-227, rUnknown, Fri Sep  9 23:34:30 UTC 2016</li> </ul> <p>2.\u5728HBase\u6570\u636e\u5e93\u4e2d\u521b\u5efa\u8868xiandian_user\uff0c\u5217\u65cf\u4e3ainfo\uff0c\u521b\u5efa\u5b8c\u6210\u540e\u67e5\u770bxiandian_user\u8868\u7684\u63cf\u8ff0\u4fe1\u606f\u3002\u7136\u540e\u5f00\u542fHBase\u7684\u5b89\u5168\u8ba4\u8bc1\u529f\u80fd\uff0c\u5728HBase Shell\u4e2d\u8bbe\u7f6eroot\u7528\u6237\u62e5\u6709\u8868xiandian_user\u7684\u8bfb\u5199\u4e0e\u6267\u884c\u7684\u6743\u9650\uff0c\u8bbe\u7f6e\u5b8c\u6210\u540e\uff0c\u4f7f\u7528\u76f8\u5173\u547d\u4ee4\u67e5\u770b\u5176\u6743\u9650\u4fe1\u606f\u3002\u5c06\u4e0a\u8ff0\u6240\u6709\u64cd\u4f5c\u547d\u4ee4\uff08\u76f8\u5173\u6570\u636e\u5e93\u547d\u4ee4\u8bed\u8a00\u8bf7\u5168\u90e8\u4f7f\u7528\u5c0f\u5199\u683c\u5f0f\uff09\u548c\u8fd4\u56de\u7ed3\u679c\u4ee5\u6587\u672c\u5f62\u5f0f\u63d0\u4ea4\u5230\u7b54\u9898\u6846\u3002   [root@master ~]# hbase shell   hbase(main):001:0&gt; create 'xiandian_user','info'   hbase(main):003:0&gt; describe 'xiandian_user'   hbase(main):001:0&gt; grant 'root','RWX','xiandian_user'   hbase(main):002:0&gt; user_permission 'xiandian_user'</p> <p>```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/1.%E4%BA%91%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%BA%94%E7%94%A8/#hive","title":"Hive","text":"<ul> <li>```BASH   1.\u542f\u52a8\u5148\u7535\u5927\u6570\u636e\u5e73\u53f0\u7684Hive\u6570\u636e\u4ed3\u5e93\uff0c\u542f\u52a8Hvie \u5ba2\u6237\u7aef\uff0c\u901a\u8fc7Hive\u67e5\u770bhadoop\u6240\u6709\u6587\u4ef6\u8def\u5f84\u3002   [root@master ~]# hive   hive&gt; dfs -ls /;</li> </ul> <p>2.\u4f7f\u7528Hive\u5de5\u5177\u6765\u7edf\u8ba1phy_course_xd.txt\u6587\u4ef6\u4e2d\u67d0\u9ad8\u6821\u62a5\u540d\u9009\u4fee\u5404\u4e2a\u4f53\u80b2\u79d1\u76ee\u7684\u603b\u4eba\u6570\uff0c\u5176\u4e2dphy_course_xd.txt\u6570\u636e\u7ed3\u6784\u5982\u88684-2-1\u6240\u793a\uff0c\u9009\u4fee\u79d1\u76ee\u5b57\u6bb5\u4e3aopt_cour\uff0c\u5c06\u7edf\u8ba1\u7684\u7ed3\u679c\u5bfc\u5165\u5230\u8868phy_opt_count\u4e2d\uff0c\u901a\u8fc7SELECT\u8bed\u53e5\u67e5\u8be2\u8868phy_opt_count\u5185\u5bb9\uff0c\u5c06\u7edf\u8ba1\u8bed\u53e5\u4ee5\u53ca\u67e5\u8be2\u547d\u4ee4\u548c\u8f93\u51fa\u7ed3\u679c\u4ee5\u6587\u672c\u5f62\u5f0f\u63d0\u4ea4\u5230\u7b54\u9898\u6846\u3002                             \u88684-2-1   stname(string)    stID(int)   class(string)   opt_cour(string)   # hive&gt; create phy_opt_count (stname string,stID int,class string,opt_cour string) row format delimited fields terminated by '\\t';     # \u4f3c\u4e4e\u53ef\u4ee5\u4e0d\u8981lines terminated by '\\n'</p> <p># hive&gt; load data local inpath '/root/phy_course_xd.txt' into table phy_opt_count;</p> <p># hive&gt; select * from phy_opt_count;</p> <p>3.\u5728Hive\u6570\u636e\u4ed3\u5e93\u5c06\u7cfb\u7edf\u65e5\u5fd7weblog_entries.txt\u4e2d\u5206\u5f00\u7684request_date\u548crequest_time\u5b57\u6bb5\u8fdb\u884c\u5408\u5e76\uff0c\u5e76\u4ee5\u4e00\u4e2a\u4e0b\u5212\u7ebf\u201c_\u201d\u8fdb\u884c\u5206\u5272\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5176\u4e2dweblog_entries.txt\u7684\u6570\u636e\u7ed3\u6784\u5982\u4e0b\u6240\u793a\u3002   md5(STRING)   url(STRING) request_date (STRING)   request_time (STRING)   ip(STRING)</p> <p># hive&gt; DROP TABLE IF EXISTS weblog_entries;   # hive&gt; CREATE EXTERNAL TABLE weblog_entries (       &gt; md5 STRING,       &gt; url STRING,       &gt; request_date STRING,       &gt; request_time STRING,       &gt; ip STRING       &gt; )       &gt; ROW FORMAT DELIMITED FIELDS TERMINATED BY '\\t'       &gt; LINES TERMINATED BY '\\n'       &gt; LOCATION '/data/hive/weblog/';   # hive&gt; load data local inpath '/root/tmp/weblog_entries.txt' into table weblog_entries;   # hive &gt; SELECT concat_ws('_', request_date, request_time) &gt; FROM weblog_entries;</p> <p>4.\u4f7f\u7528Hive\u5de5\u5177\u6765\u7edf\u8ba1phy_course_xd.txt\u6587\u4ef6\u4e2d\u67d0\u9ad8\u6821\u62a5\u540d\u9009\u4fee\u5404\u4e2a\u4f53\u80b2\u79d1\u76ee\u7684\u603b\u4eba\u6570\uff0c\u5176\u4e2dphy_course_xd.txt\u6570\u636e\u7ed3\u6784\u5982\u88684-2-1\u6240\u793a\uff0c\u9009\u4fee\u79d1\u76ee\u5b57\u6bb5\u4e3aopt_cour\uff0c\u5c06\u7edf\u8ba1\u7684\u7ed3\u679c\u5bfc\u5165\u5230\u8868phy_opt_count\u4e2d\uff0c\u901a\u8fc7SELECT\u8bed\u53e5\u67e5\u8be2\u8868phy_opt_count\u5185\u5bb9\uff0c\u5c06\u7edf\u8ba1\u8bed\u53e5\u4ee5\u53ca\u67e5\u8be2\u547d\u4ee4\u548c\u8f93\u51fa\u7ed3\u679c\u4ee5\u6587\u672c\u5f62\u5f0f\u63d0\u4ea4\u5230\u7b54\u9898\u6846\u3002     \u88684-2-1 \u6570\u636e\u7ed3\u6784     stname(string)  stID(int)   class(string)   opt_cour(string)</p> <pre><code>5.\u5728Hive\u6570\u636e\u4ed3\u5e93\u5c06\u7cfb\u7edf\u65e5\u5fd7weblog_entries.txt\u4e2d\u5206\u5f00\u7684request_date\u548crequest_time\u5b57\u6bb5\u8fdb\u884c\u5408\u5e76\uff0c\u5e76\u4ee5\u4e00\u4e2a\u4e0b\u5212\u7ebf\u201c_\u201d\u8fdb\u884c\u5206\u5272\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5176\u4e2dweblog_entries.txt\u7684\u6570\u636e\u7ed3\u6784\u5982\u4e0b\u8868\u6240\u793a\u3002\u5c06\u4ee5\u4e0a\u64cd\u4f5c\u547d\u4ee4\u548c\u8f93\u51fa\u7ed3\u679c\u4ee5\u6587\u672c\u5f62\u5f0f\u63d0\u4ea4\u5230\u7b54\u9898\u6846\u3002\n</code></pre> <p>md5(STRING)   url(STRING) request_date (STRING)   request_time (STRING)   ip(STRING)   # hive&gt; DROP TABLE IF EXISTS weblog_entries;   # hive&gt; CREATE EXTERNAL TABLE weblog_entries (         &gt; md5 STRING,         &gt; url STRING,         &gt; request_date STRING,         &gt; request_time STRING,         &gt; ip STRING         &gt; )         &gt; ROW FORMAT DELIMITED FIELDS TERMINATED BY '\\t'         &gt; LINES TERMINATED BY '\\n'         &gt; LOCATION '/data/hive/weblog/';     # hive&gt; load data local inpath '/root/tmp/weblog_entries.txt' into table weblog_entries;     # hive &gt; SELECT concat_ws('_', request_date, request_time) &gt; FROM weblog_entries;</p> <p>```</p>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/Q%26A/","title":"Q&A","text":"<ul> <li>1. yum</li> <li>2. service: command not found</li> <li>3. rabbitmq-server</li> <li>4. mariadb</li> </ul>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/Q%26A/#1-yum","title":"1. yum","text":"<pre><code>[root@controller yum.repos.d]# yum -y install iptables-services\nLoaded plugins: fastestmirror\nLoading mirror speeds from cached hostfile\nResolving Dependencies\n--&gt; Running transaction check\n---&gt; Package iptables-services.x86_64 0:1.4.21-16.el7 will be installed\n--&gt; Processing Dependency: iptables = 1.4.21-16.el7 for package: iptables-services-1.4.21-16.el7.x86_64\n--&gt; Finished Dependency Resolution\nError: Package: iptables-services-1.4.21-16.el7.x86_64 (centos)\n           Requires: iptables = 1.4.21-16.el7\n           Installed: iptables-1.4.21-17.el7.x86_64 (@anaconda)\n               iptables = 1.4.21-17.el7\n           Available: iptables-1.4.21-16.el7.x86_64 (centos)\n               iptables = 1.4.21-16.el7\n           Installing: iptables-services-1.4.21-16.el7.x86_64 (centos)\n               iptables = 1.4.16.1\n You could try using --skip-broken to work around the problem\n You could try running: rpm -Va --nofiles --nodigest\n\n\u89e3\u51b3\uff1a\n# yum remove iptables-1.4.21-17.el7.x86_64\n# yum  -y install iptables-services\n</code></pre>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/Q%26A/#2-service-command-not-found","title":"2. service: command not found","text":"<pre><code># service iptables save\n-bash: service: command not found\n# yum list | grep initscripts\ninitscripts.x86_64                      9.49.30-1.el7_2.3              iaas     \n# yum install -y initscripts.x86_64\n# service iptables save\niptables: Saving firewall rules to /etc/sysconfig/iptables: [  OK  ]\n</code></pre>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/Q%26A/#3-rabbitmq-server","title":"3. rabbitmq-server","text":"<pre><code># service rabbitmq-server restart\nMar 20 23:22:56 controller rabbitmqctl[6432]: Error: unable to connect to node rabbit@controller: nodedown\nMar 20 23:22:56 controller rabbitmqctl[6432]: DIAGNOSTICS\nMar 20 23:22:56 controller rabbitmqctl[6432]: ===========\nMar 20 23:22:56 controller rabbitmqctl[6432]: attempted to contact: [rabbit@controller]\nMar 20 23:22:56 controller rabbitmqctl[6432]: rabbit@controller:\nMar 20 23:22:56 controller rabbitmqctl[6432]: * unable to connect to epmd (port 4369) on controller: address (cannot connection)\n\n\u89e3\u51b3\uff1a\n# \u91cd\u65b0\u66f4\u6539\u4e3b\u673a\u540d\u548chosts\u6587\u4ef6\n</code></pre>"},{"location":"%E4%BA%91%E8%AE%A1%E7%AE%97/Q%26A/#4-mariadb","title":"4. mariadb","text":"<pre><code>1. \u91cd\u7f6e\u5bc6\u7801\n# vi /etc/my.cnf\n# \u5728[mysqld]\u4e0b\u6dfb\u52a0\u4e00\u884cskip-grant-tables\n#  systemctl restart mariadb\n# mysql -u root\n\nMySQL&gt; UPDATE mysql.user SET Password=PASSWORD('\u65b0\u5bc6\u7801') where USER='root';\nMySQL&gt; flush privileges;\nMySQL&gt; exit\n# \u628a\u521a\u624d\u52a0\u7684skip-grant-tables\u5220\u9664\u3002\n#  systemctl restart mariadb\n</code></pre>"},{"location":"%E5%8D%97%E5%B7%A5/java/","title":"Java","text":"<ul> <li>\u903b\u8f91\u8fd0\u7b97\u7b26</li> </ul> <ul> <li>\u77ed\u8def\u903b\u8f91\u8fd0\u7b97\u7b26</li> </ul> <ul> <li>\u4e09\u5143\u8fd0\u7b97\u7b26</li> </ul> <ul> <li>if\u8bed\u53e5</li> </ul> <ul> <li>case\u8bed\u53e5</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/java/#-","title":"\u9ed1\u9a6c--\u7406\u8bba","text":""},{"location":"%E5%8D%97%E5%B7%A5/java/#_1","title":"\u7c7b\u578b\u8f6c\u6362","text":""},{"location":"%E5%8D%97%E5%B7%A5/java/#_2","title":"\u81ea\u52a8\u7c7b\u578b\u8f6c\u6362","text":""},{"location":"%E5%8D%97%E5%B7%A5/java/#_3","title":"\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362","text":""},{"location":"%E5%8D%97%E5%B7%A5/java/#equals","title":"<code>==</code>\u548c<code>.equals()</code>","text":"<ul> <li><code>==</code>\u662f\u6bd4\u8f83\u6808\u91cc\u7684\uff0c <code>.eqals()</code>\u662f\u6bd4\u8f83\u5806\u91cc\u7684\uff0c\u662f\u6bd4\u8f83\u7684\u5b57\u7b26\u4e32\u7b49\u7b49</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/java/#_4","title":"\u5185\u5b58\u5206\u914d(\u5806\u6808)","text":"<p>\u591a\u4e2a\u6570\u7ec4\u6307\u5411\u76f8\u540c</p> <p></p>"},{"location":"%E5%8D%97%E5%B7%A5/java/#_5","title":"\u5f62\u53c2\u3001\u5b9e\u53c2","text":""},{"location":"%E5%8D%97%E5%B7%A5/java/#_6","title":"\u5e26\u8fd4\u56de\u503c\u7684\u51fd\u6570","text":"<ul> <li>return\u7684\u6570\u636e\u7c7b\u578b\u4e00\u5b9a\u8981\u548c\u5b9a\u4e49\u6b64\u65b9\u6cd5\u7684\u6570\u636e\u7c7b\u578b\u4e00\u81f4</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/java/#_7","title":"\u65b9\u6cd5\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u65b9\u6cd5\u4e0d\u80fd\u5d4c\u5957\u5b9a\u4e49</li> <li>void\u8868\u793a\u65e0\u8fd4\u56de\u503c\uff0c\u53ef\u4ee5\u7701\u7565return\uff0c\u4e5f\u53ef\u4ee5\u5355\u72ec\u5199\u4e00\u4e2areturn\uff0c\u540e\u9762\u4e0d\u52a0\u6570\u636e</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/java/#_8","title":"\u65b9\u6cd5\u91cd\u8f7d","text":"<p>\u65b9\u6cd5\u91cd\u8f7d\u6307\u540c\u4e00\u4e2a\u7c7b\u4e2d\u7684\u591a\u4e2a\u65b9\u6cd5\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u9700\u6ee1\u8db3\u4e0b\u5217\u6761\u4ef6</p> <ul> <li>\u591a\u4e2a\u65b9\u6cd5\u5728\u540c\u4e00\u7c7b\u4e2d</li> <li>\u591a\u4e2a\u65b9\u6cd5\u5177\u6709\u76f8\u540c\u7684\u65b9\u6cd5\u540d</li> <li>\u591a\u4e2a\u65b9\u6cd5\u7684\u53c2\u6570\u4e0d\u76f8\u540c\uff0c\u7c7b\u578b\u4e0d\u540c\u6216\u8005\u6570\u91cf\u4e0d\u540c</li> </ul> <p>\u7279\u70b9\uff1a</p> <ul> <li>\u91cd\u8f7d\u4ec5\u5bf9\u5e94\u65b9\u6cd5\u7684\u5b9a\u4e49\uff0c\u4e0e\u65b9\u6cd5\u7684\u8c03\u7528\u65e0\u5173\uff0c\u8c03\u7528\u65b9\u5f0f\u53c2\u7167\u6807\u51c6\u683c\u5f0f</li> <li>\u91cd\u8f7d\u4ec5\u9488\u5bf9\u7528\u4e00\u4e2a\u7c7b\u4e2d\u65b9\u6cd5\u7684\u540d\u79f0\u4e0e\u53c2\u6570\u8fdb\u884c\u8bc6\u522b\uff0c\u4e0e\u8fd4\u56de\u503c\u65e0\u5173\uff0c\u6362\u53e5\u8bdd\u8bf4\u5c31\u662f\u4e0d\u80fd\u901a\u8fc7\u8fd4\u56de\u503c\u6765\u5224\u65ad\u4e24\u4e2a\u65b9\u6cd5\u662f\u5426\u4e92\u76f8\u6784\u6210\u91cd\u8f7d</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/sql%20server/","title":"Sql server","text":"<p>\u7248\u672c\uff1a <code>Sql Server 2008 R2</code></p>"},{"location":"%E5%8D%97%E5%B7%A5/sql%20server/#_1","title":"\u6570\u636e\u7c7b\u578b","text":""},{"location":"%E5%8D%97%E5%B7%A5/sql%20server/#_2","title":"\u521b\u5efa\u8868","text":""},{"location":"%E5%8D%97%E5%B7%A5/sql%20server/#_3","title":"\u7ea6\u675f","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/","title":"\u6570\u636e\u7ed3\u6784","text":"<ul> <li>\u7b2c\u4e00\u7ae0<ul> <li>1.2 \u6570\u636e\u3001 \u6570\u636e\u5143\u7d20\u3001 \u6570\u636e\u9879\u548c\u6570\u636e\u5bf9\u8c61<ul> <li>1.2.2 \u6570\u636e\u7ed3\u6784</li> <li>1.2.3 \u6570\u636e\u7c7b\u578b</li> <li>1.4\u7b97\u6cd5\u548c\u7b97\u6cd5\u5206\u6790</li> </ul> </li> </ul> </li> <li>\u7b2c\u4e8c\u7ae0 \u7ebf\u6027\u8868<ul> <li>1.\u7ebf\u6027\u7ed3\u6784\u7684\u57fa\u672c\u7279\u5f81</li> <li>2.\u7ebf\u6027\u8868\u7684\u57fa\u672c\u8fd0\u7b97</li> <li>3.\u987a\u5e8f\u8868<ul> <li>\u987a\u5e8f\u8868\u7684\u57fa\u672c\u8fd0\u7b97<ul> <li>1.\u63d2\u5165</li> <li>2.\u5220\u9664</li> </ul> </li> </ul> </li> <li>4. \u5355\u94fe\u8868</li> <li>5. \u5faa\u73af\u94fe\u8868</li> <li>6. \u7a7a\u5faa\u73af\u94fe\u8868</li> <li>7. \u53cc\u94fe\u8868</li> <li>8. \u987a\u5e8f\u8868\u548c\u94fe\u8868\u7684\u6bd4\u8f83</li> <li>9. \u5b58\u50a8\u5bc6\u5ea6</li> </ul> </li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_1","title":"\u7b2c\u4e00\u7ae0","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#12","title":"1.2 \u6570\u636e\u3001 \u6570\u636e\u5143\u7d20\u3001 \u6570\u636e\u9879\u548c\u6570\u636e\u5bf9\u8c61","text":"<ul> <li>\u6570\u636e (Data) \u662f\u5ba2\u89c2\u4e8b\u7269\u7684\u7b26\u53f7\u8868\u793a </li> <li>\u6570\u636e\u5143\u7d20 (Data Element) \u662f\u6570\u636e\u7684\u57fa\u672c\u5355\u4f4d </li> <li>\u6570\u636e\u9879  (Data Item) \u662f\u7ec4\u6210\u6570\u636e\u5143\u7d20\u7684\u3001\u6709\u72ec\u7acb\u542b\u4e49\u7684\u3001\u4e0d\u53ef\u5206\u5272\u7684\u6700\u5c0f\u5355\u4f4d </li> <li>\u6570\u636e\u5bf9\u8c61 (Data Object) \u662f\u6027\u8d28\u76f8\u540c\u7684\u6570\u636e\u5143\u7d20\u7684\u96c6\u5408\uff0c\u662f\u6570\u636e\u7684\u4e00\u4e2a\u5b50\u96c6</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#122","title":"1.2.2 \u6570\u636e\u7ed3\u6784","text":"<ul> <li>\u903b\u8f91\u7ed3\u6784 \uff08\u6570\u636e\u5143\u7d20\u3001\u5173\u7cfb \uff09\uff1a\u6570\u636e\u7684\u903b\u8f91\u7ed3\u6784\u662f\u4ece\u903b\u8f91\u5173\u7cfb\u4e0a\u63cf\u8ff0\u6570\u636e\uff0c\u5b83\u4e0e\u6570\u636e\u7684\u5b58\u50a8\u65e0\u5173\uff0c\u662f\u72ec\u7acb\u5343\u8ba1\u7b97\u673a\u7684\u3002 </li> <li>\u96c6\u5408\u7ed3\u6784\uff1a\u4f8b\u5982\uff0c \u786e\u5b9a\u4e00\u540d\u5b66\u751f\u662f\u5426\u4e3a\u73ed\u7ea7\u6210\u5458\uff0c \u53ea\u9700\u5c06\u73ed\u7ea7\u770b\u505a\u4e00\u4e2a\u96c6\u5408\u7ed3\u6784\u3002 </li> <li>\u7ebf\u6027\u7ed3\u6784\uff1a\u5148\u540e\u987a\u5e8f </li> <li>\u6811\u7ed3\u6784 </li> <li>\u56fe\u7ed3\u6784\u6216\u7f51\u72b6\u7ed3\u6784 </li> <li>\u5176\u4e2d\u96c6\u5408\u7ed3\u6784\u3001\u6811\u7ed3\u6784\u548c\u56fe\u7ed3\u6784\u90fd\u5c5e\u5343\u975e\u7ebf\u6027\u7ed3\u6784\u3002 </li> <li>\u5b58\u50a8\u7ed3\u6784</li> <li>\u987a\u5e8f\uff1a\u76f8\u5bf9\u4f4d\u7f6e\u3001</li> <li>\u94fe\u5f0f\uff1a\u5143\u7d20\u5730\u5740 \u6307\u9488\u3001\u7d22\u5f15\u3001\u6563\u5217</li> <li>\u6570\u636e\u64cd\u4f5c</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#123","title":"1.2.3 \u6570\u636e\u7c7b\u578b","text":"<p>\u6570\u636e\u7ed3\u6784\u6c42\u89e3\u95ee\u9898\u7684\u8fc7\u7a0b</p> <ol> <li>\u95ee\u9898\u63cf\u8ff0\uff08ADT=\u903b\u8f91\u7ed3\u6784+\u62bd\u8c61\u8fd0\u7b97\uff08\u529f\u80fd\u63cf\u8ff0\uff09\uff09</li> <li>\u7ed3\u6784\u5b58\u50a8\u8bbe\u8ba1</li> <li>\u7b97\u6cd5\u8bbe\u8ba1</li> <li>\u7b97\u6cd5\u5206\u6790\uff08\u6700\u4f73\u7b97\u6cd5\uff09</li> </ol>"},{"location":"%E5%8D%97%E5%B7%A5/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#14","title":"1.4\u7b97\u6cd5\u548c\u7b97\u6cd5\u5206\u6790","text":"<p>\u7279\u5f81\uff1a</p> <ul> <li>\u8f93\u5165\uff1a\u67090\u4e2a\u6216\u591a\u4e2a\u8f93\u5165</li> <li>\u8f93\u51fa\uff1a\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u8f93\u51fa\uff08\u5904\u7406\u7ed3\u679c\uff09</li> <li>\u6709\u7a77\u6027\uff1a\u4e00\u4e2a\u7b97\u6cd5\u5fc5\u987b\u603b\u662f\u5728\u6267\u884c\u6709\u7a77\u6b65\u540e\u7ed3\u675f </li> <li>\u786e\u5b9a\u6027\uff1a\u5bf9\u5343\u6bcf\u79cd\u60c5\u51b5\u4e0b\u6240\u5e94\u6267\u884c\u7684\u64cd\u4f5c \uff0c\u4e0d\u4f1a\u51fa\u73b0\u4e8c\u4e49\u6027</li> <li>\u53ef\u884c\u6027\uff1a\u7b97\u6cd5\u4e2d\u7684\u6240\u6709\u64cd\u4f5c\u90fd\u662f\u53ef\u5b9e\u73b0\u7684</li> </ul> <p>\u8bc4\u4ef7\u4f18\u52a3\u6807\u51c6</p> <ul> <li>\u6b63\u786e\u6027\uff1a\u53ef\u8fd0\u884c</li> <li>\u53ef\u8bfb\u6027</li> <li>\u5065\u58ee\u6027\uff1a\u610f\u5916\u60c5\u51b5\u5904\u7406</li> <li>\u9ad8\u6548\u6027\uff1a\u65f6\u95f4\u548c\u7a7a\u95f4\u4ee3\u4ef7</li> </ul> <p>\u82e5\u7b97\u6cd5\u6267\u884c\u65f6\u6240\u9700\u8981\u7684\u8f85\u52a9\u7a7a\u95f4\u76f8\u5bf9\u5343\u8f93\u5165\u6570\u636e\u91cf\u800c\u8a00\u662f\u4e2a\u5e38\u6570\uff0c \u5219\u79f0\u8fd9\u4e2a\u7b97\u6cd5\u4e3a\u539f\u5730\u5de5\u4f5c\uff0c\u8f85\u52a9 \u7a7a\u95f4\u4e3a0(1), </p>"},{"location":"%E5%8D%97%E5%B7%A5/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_2","title":"\u7b2c\u4e8c\u7ae0 \u7ebf\u6027\u8868","text":"<p>\u7ebf\u6027\u7ed3\u6784\u662f\u4e00\u4e2a\u6570\u636e\u5143\u7d20\u7684\u6709\u5e8f\uff08\u6b21\u5e8f\uff09\u96c6\u5408\u3002 \u201c\u6709\u5e8f\u201d \u4ec5\u6307\u5728\u6570\u636e\u5143\u7d20\u4e4b\u95f4\u5b58\u5728\u4e00\u4e2a \u201c\u9886\u5148\u201d \u6216\u201c\u843d\u540e\u201d \u7684\u6b21\u5e8f\u5173\u7cfb\uff0c\u800c\u975e\u6307\u6570\u636e\u5143\u7d20 \u201c\u503c\u201d \u7684\u5927\u5c0f\u53ef\u6bd4\u6027\u3002</p>"},{"location":"%E5%8D%97%E5%B7%A5/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#1","title":"1.\u7ebf\u6027\u7ed3\u6784\u7684\u57fa\u672c\u7279\u5f81","text":"<p>\u5728\u6570\u636e\u5143\u7d20\u7684\u975e\u7a7a\u6709\u9650\u96c6\u4e2d(\u8bb0\u4e3a<code>a1,\u2026,ai-1,ai,\u2026an</code>):</p> <ol> <li> <p>\u5b58\u5728\u552f\u4e00\u7684\u4e00\u4e2a\u201c\u7b2c\u4e00\u4e2a\u201d\u6570\u636e\u5143\u7d20\uff1b</p> </li> <li> <p>\u5b58\u5728\u552f\u4e00\u7684\u4e00\u4e2a\u201c\u6700\u540e\u4e00\u4e2a\u201d\u6570\u636e\u5143\u7d20\uff1b</p> </li> <li> <p>\u9664\u7b2c\u4e00\u4e2a\u4e4b\u5916\uff0c\u6bcf\u4e2a\u6570\u636e\u5143\u7d20\u5747\u53ea\u6709\u201c\u552f\u4e00\u7684\u524d\u9a71\u201d\uff1b</p> </li> <li> <p>\u9664\u6700\u540e\u4e00\u4e2a\u4e4b\u5916\uff0c\u6bcf\u4e2a\u6570\u636e\u5143\u7d20\u5747\u53ea\u6709\u201c\u552f\u4e00\u7684\u540e\u7ee7\u201d\u3002</p> </li> </ol>"},{"location":"%E5%8D%97%E5%B7%A5/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#2","title":"2.\u7ebf\u6027\u8868\u7684\u57fa\u672c\u8fd0\u7b97","text":"<ul> <li>InitList(L),\u6784\u9020\u7a7a\u8868\uff0c\u5373\u8868\u7684\u521d\u59cb\u5316\uff1b</li> <li>ListLength(L),\u6c42\u8868\u7684\u7ed3\u70b9\u4e2a\u6570\uff0c\u5373\u8868\u957f\uff1b</li> <li>GetNode(L,i),\u53d6\u8868\u4e2d\u7b2ci\u4e2a\u7ed3\u70b9\uff0c\u8981\u6c421\u2264i\u2264ListLength(L)\uff1b</li> <li>LocateNode(L,x)\u67e5\u627eL\u4e2d\u503c\u4e3ax\u7684\u7ed3\u70b9\u5e76\u8fd4\u56de\u7ed3\u70b9\u5728L\u4e2d\u7684\u4f4d\u7f6e\uff0c\u6709\u591a\u4e2ax\u5219\u8fd4\u56de\u9996\u4e2a\uff0c\u6ca1\u6709\u5219\u8fd4\u56de\u7279\u6b8a\u503c\u8868\u793a\u67e5\u627e\u5931\u8d25\u3002</li> <li>InsertList(L,x,i)\u5728\u8868\u7684\u7b2ci\u4e2a\u4f4d\u7f6e\u63d2\u5165\u503c\u4e3ax\u7684\u65b0\u7ed3\u70b9\uff0c\u8981\u6c421\u2264i\u2264ListLength(L)+1\uff1b</li> <li>DeleteList(L,i)\u5220\u9664\u8868\u7684\u7b2ci\u4e2a\u4f4d\u7f6e\u7684\u7ed3\u70b9\uff0c\u8981\u6c421\u2264i\u2264ListLength(L)\uff1b</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#3","title":"3.\u987a\u5e8f\u8868","text":"<ul> <li> <p>\u628a\u7ebf\u6027\u8868\u7684\u7ed3\u70b9\u6309\u903b\u8f91\u6b21\u5e8f\u5b58\u653e\u5728\u4e00\u7ec4\u5730\u5740\u8fde\u7eed\u7684\u5b58\u50a8\u5355\u5143\u91cc\u3002</p> </li> <li> <p>\u987a\u5e8f\u8868\u7ed3\u70b9\u7684\u5b58\u50a8\u5730\u5740\u8ba1\u7b97\u516c\u5f0f\uff1a<code>Loc(ai)=Loc(a1)+(i-1)*C\uff1b1\u2264i\u2264n</code></p> </li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_3","title":"\u987a\u5e8f\u8868\u7684\u57fa\u672c\u8fd0\u7b97","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#1_1","title":"1.\u63d2\u5165","text":"<p>\u5728\u987a\u5e8f\u8868\u4e0a\u63d2\u5165\u8981\u79fb\u52a8\u8868\u7684n/2\u7ed3\u70b9\uff0c\u7b97\u6cd5\u7684\u5e73\u5747\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n)\u3002</p> <pre><code>void insertlist(seqlist *L,datatype x,int i)\n{\n int j;\n if(i&lt;1||i&gt;L-&gt;length+1)\n  error(\u201cposition error\u201d);\n if(L-&gt;length&gt;=listsize)\n  error(\u201coverflow\u201d);\n for(j=L-&gt;length-1;j&gt;=i-1;j--)\n  L-&gt;data[j+1]=L-&gt;data[j];  //\u7ed3\u70b9\u540e\u79fb\n L-&gt;data[i-1]=x;\n L-&gt;length++;\n}\n</code></pre>"},{"location":"%E5%8D%97%E5%B7%A5/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#2_1","title":"2.\u5220\u9664","text":"<p>\u5728\u987a\u5e8f\u8868\u4e0a\u5220\u9664\u8981\u79fb\u52a8\u8868\u7684\uff08n+1\uff09/2\u7ed3\u70b9\uff0c\u7b97\u6cd5\u7684\u5e73\u5747\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n)\u3002</p> <pre><code>void delete (seqlist *L,int i)\n{\n int j;\n if(i&lt;1||i&gt;L-&gt;length)\n  error(\u201cposition error\u201d);\n for(j=i;j&lt;=L-&gt;length-1;j++)\n  L-&gt;data[j-1]=L-&gt;data[j];  //\u7ed3\u70b9\u524d\u79fb\n  L-&gt;length--;\n}\n</code></pre>"},{"location":"%E5%8D%97%E5%B7%A5/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#4","title":"4. \u5355\u94fe\u8868","text":"<ul> <li> <p>\u6709\u4e00\u4e2a\u94fe\u57df\u7684\u94fe\u8868\u79f0\u5355\u94fe\u8868\u3002</p> </li> <li> <p>\u5728\u7ed3\u70b9\u4e2d\u5b58\u50a8\u7ed3\u70b9\u503c\u548c\u7ed3\u70b9\u7684\u540e\u7ee7\u7ed3\u70b9\u7684\u5730\u5740\uff0cdata  next  data\u662f\u6570\u636e\u57df\uff0cnext\u662f\u6307\u9488\u57df\u3002</p> </li> <li> <p>\u5efa\u7acb\u5355\u94fe\u8868\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n)\u3002</p> </li> <li> <pre><code>\u52a0\u5934\u7ed3\u70b9\u7684\u4f18\u70b9\uff1a\u94fe\u8868\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u7684\u64cd\u4f5c\u65e0\u9700\u7279\u6b8a\u5904\u7406\uff1b\u5c06\u7a7a\u8868\u548c\u975e\u7a7a\u8868\u7684\u5904\u7406\u7edf\u4e00\u3002\n</code></pre> </li> <li> <p>\u67e5\u627e\u8fd0\u7b97\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n)\u3002</p> </li> <li> <p>1.\u6309\u5e8f\u53f7\u67e5\u627e</p> <pre><code>Listnode * getnode(linklist head,int i)\n{\n int j;\n listnode *p;\n p=head;j=0;\n while(p-&gt;next&amp;&amp;j&lt;i){\n  p=p-&gt;next; // \u6307\u9488\u4e0b\u79fb\n  j++;\n }\n if(i==j)\n  return p;\n else\n  return NULL;\n}\n</code></pre> </li> <li> <p>2.\u6309\u503c\u67e5\u627e</p> <pre><code>Listnode * locatenode(linklist head ,datatype key)\n{\n listnode *p=head-&gt;next;\n while(p&amp;&amp;p-&gt;data!=key)\n  p=p-&gt;next;\n return p;\n}\n</code></pre> </li> <li> <p>\u63d2\u5165\u8fd0\u7b97\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n)\u3002</p> </li> </ul> <pre><code>Void insertlist(linklist head ,datatype x, int i)\n{\n listnode *p;\n p=getnode(head,i-1);\n if(p==NULL);\n  error(\u201cposition error\u201d);\n s=(listnode *)malloc(sizeof(listnode));\n s-&gt;data=x;\n s-&gt;next=p-&gt;next;\n p-&gt;next=s;\n}\n</code></pre> <ul> <li>\u5220\u9664\u8fd0\u7b97\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n)\u3002</li> </ul> <pre><code>Void deletelist(linklist head ,int i)\n{\n listnode *p ,*r;\n p=getnode(head ,i-1);\n if(p==NULL||p-&gt;next==NULL)\n  error(\u201cposition error\u201d);\n r=p-&gt;next;\n p-&gt;next=r-&gt;next;\n free(r);\n}\n</code></pre>"},{"location":"%E5%8D%97%E5%B7%A5/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#5","title":"5. \u5faa\u73af\u94fe\u8868","text":"<p>\u4e00\u79cd\u9996\u5c3e\u76f8\u8fde\u7684\u94fe\u8868\u3002\u7279\u70b9\u662f\u65e0\u9700\u589e\u52a0\u5b58\u50a8\u91cf\uff0c\u4ec5\u5bf9\u8868\u7684\u94fe\u63a5\u65b9\u5f0f\u4fee\u6539\u4f7f\u8868\u7684\u5904\u7406\u7075\u6d3b\u65b9\u4fbf\u3002</p>"},{"location":"%E5%8D%97%E5%B7%A5/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#6","title":"6. \u7a7a\u5faa\u73af\u94fe\u8868","text":"<p>\u4ec5\u7531\u4e00\u4e2a\u81ea\u6210\u5faa\u73af\u7684\u5934\u7ed3\u70b9\u8868\u793a\u3002</p> <ul> <li>\u5f88\u591a\u65f6\u5019\u8868\u7684\u64cd\u4f5c\u662f\u5728\u8868\u7684\u9996\u5c3e\u4f4d\u7f6e\u4e0a\u8fdb\u884c\uff0c\u6b64\u65f6\u5934\u6307\u9488\u8868\u793a\u7684\u5355\u5faa\u73af\u94fe\u8868\u5c31\u663e\u7684\u4e0d\u591f\u65b9\u4fbf\uff0c\u6539\u7528\u5c3e\u6307\u9488rear\u6765\u8868\u793a\u5355\u5faa\u73af\u94fe\u8868\u3002\u7528\u5934\u6307\u9488\u8868\u793a\u7684\u5355\u5faa\u73af\u94fe\u8868\u67e5\u627e\u5f00\u59cb\u7ed3\u70b9\u7684\u65f6\u95f4\u662fO(1),\u67e5\u627e\u5c3e\u7ed3\u70b9\u7684\u65f6\u95f4\u662fO(n)\uff1b\u7528\u5c3e\u6307\u9488\u8868\u793a\u7684\u5355\u5faa\u73af\u94fe\u8868\u67e5\u627e\u5f00\u59cb\u7ed3\u70b9\u548c\u5c3e\u7ed3\u70b9\u7684\u65f6\u95f4\u90fd\u662fO(1)\u3002</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#7","title":"7. \u53cc\u94fe\u8868","text":"<p>\u5728\u7ed3\u70b9\u4e2d\u589e\u52a0\u4e00\u4e2a\u6307\u9488\u57df\uff0cprior|data|next\u3002\u5f62\u6210\u7684\u94fe\u8868\u4e2d\u6709\u4e24\u6761\u4e0d\u540c\u65b9\u5411\u7684\u94fe\u53eb\u505a\u53cc\u94fe\u8868\u3002</p> <ul> <li>\u53cc\u94fe\u8868\u7684\u524d\u63d2\u64cd\u4f5c, \u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(1)</li> </ul> <pre><code>Void dinsertbefore(dlistnode *p ,datatype x)\n{\n dlistnode *s=malloc(sizeof(dlistnode));\n s-&gt;data=x;\n s-&gt;prior=p-&gt;prior;\n s-&gt;next=p;\n p-&gt;prior-&gt;next=s;\n p-&gt;prior=s;\n}\n</code></pre> <ul> <li>\u53cc\u94fe\u8868\u7684\u5220\u9664\u64cd\u4f5c, \u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(1)\u3002</li> </ul> <pre><code>Void ddeletenode(dlistnode *p)\n{\n p-&gt;prior-&gt;next=p-&gt;next;\n p-&gt;next-&gt;prior=p-&gt;prior;\n free(p);\n}\n</code></pre>"},{"location":"%E5%8D%97%E5%B7%A5/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#8","title":"8. \u987a\u5e8f\u8868\u548c\u94fe\u8868\u7684\u6bd4\u8f83","text":"<ul> <li>\u57fa\u4e8e\u7a7a\u95f4\u7684\u8003\u8651\uff1a\u987a\u5e8f\u8868\u7684\u5b58\u50a8\u7a7a\u95f4\u662f\u9759\u6001\u5206\u914d\u7684\uff0c\u94fe\u8868\u7684\u5b58\u50a8\u7a7a\u95f4\u662f\u52a8\u6001\u5206\u914d\u7684\u3002\u987a\u5e8f\u8868\u7684\u5b58\u50a8\u5bc6\u5ea6\u6bd4\u94fe\u8868\u5927\u3002\u56e0\u6b64\uff0c\u5728\u7ebf\u6027\u8868\u957f\u5ea6\u53d8\u5316\u4e0d\u5927\uff0c\u6613\u4e8e\u4e8b\u5148\u786e\u5b9a\u65f6\uff0c\u5b9c\u91c7\u7528\u987a\u5e8f\u8868\u4f5c\u4e3a\u5b58\u50a8\u7ed3\u6784\u3002</li> <li>\u57fa\u4e8e\u65f6\u95f4\u7684\u8003\u8651\uff1a\u987a\u5e8f\u8868\u662f\u968f\u673a\u5b58\u53d6\u7ed3\u6784\uff0c\u82e5\u7ebf\u6027\u8868\u7684\u64cd\u4f5c\u4e3b\u8981\u662f\u67e5\u627e\uff0c\u5f88\u5c11\u6709\u63d2\u5165\u3001\u5220\u9664\u64cd\u4f5c\u65f6\uff0c\u5b9c\u7528\u987a\u5e8f\u8868\u7ed3\u6784\u3002\u5bf9\u9891\u7e41\u8fdb\u884c\u63d2\u5165\u3001\u5220\u9664\u64cd\u4f5c\u7684\u7ebf\u6027\u8868\u5b9c\u91c7\u7528\u94fe\u8868\u3002\u82e5\u64cd\u4f5c\u4e3b\u8981\u53d1\u751f\u5728\u8868\u7684\u9996\u5c3e\u65f6\u91c7\u7528\u5c3e\u6307\u9488\u8868\u793a\u7684\u5355\u5faa\u73af\u94fe\u8868\u3002</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#9","title":"9. \u5b58\u50a8\u5bc6\u5ea6","text":"<p>\u5b58\u50a8\u5bc6\u5ea6 =\uff08\u7ed3\u70b9\u6570\u636e\u672c\u8eab\u6240\u5360\u7684\u5b58\u50a8\u91cf\uff09/\uff08\u6574\u4e2a\u7ed3\u70b9\u7ed3\u6784\u6240\u5360\u7684\u5b58\u50a8\u603b\u91cf\uff09 \u5b58\u50a8\u5bc6\u5ea6\uff1a\u987a\u5e8f\u8868=1\uff0c\u94fe\u8868&lt;1\u3002</p>"},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/","title":"\u79bb\u6563\u6570\u5b66","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#_1","title":"\u7b2c\u4e8c\u7ae0 \u547d\u9898\u903b\u8f91","text":"<p><code>\u2227\u2228\ufe41</code></p>"},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#1","title":"1. \u903b\u8f91\u8868\u8fbe","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#2-","title":"2.\u547d\u9898\u516c\u5f0f(\u771f\u503c\u8868-\u547d\u9898\u53d8\u5143)","text":"<ul> <li>\u771f\u503c\u8868\u5b9a\u4e49</li> <li></li> <li>\u5982\u4f55\u5199\u4e00\u4e2a\u771f\u503c\u8868</li> <li></li> <li>\u547d\u9898\u516c\u5f0f\u5206\u7c7b</li> <li> </li> <li> <p>\u57fa\u672c\u7b49\u4ef7\u5173\u7cfb</p> </li> <li></li> <li></li> <li></li> <li></li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#3","title":"3.\u8303\u5f0f","text":"<ul> <li>\u5b9a\u4e49</li> </ul> <ul> <li>\u5217\u5b50</li> </ul> <ul> <li> </li> <li> <p>\u4f8b</p> </li> </ul> <p></p> <ul> <li>\u6781\u5c0f\u9879</li> </ul> <p></p> <ul> <li>\u4f8b    </li> </ul> <p></p> m000(m0) m001(m1) m010(m2) m100(m4) m011(m3) m110(m6) m101(m5) m111(m7) P Q R \ufe41p\u2227\ufe41Q\u2227\ufe41R \ufe41p\u2227\ufe41Q\u2227R \ufe41p\u2227Q\u2227\ufe41R p\u2227\ufe41Q\u2227\ufe41R \ufe41p\u2227Q\u2227R p\u2227Q\u2227\ufe41R p\u2227\ufe41Q\u2227R p\u2227Q\u2227R 0 0 0 1 0 0 0 0 0 0 0 0 0 1 0 1 0 0 0 0 0 0 0 1 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 1 0 0 0 0 1 0 0 0 1 1 0 0 0 0 0 0 1 0 0 1 0 1 0 0 0 0 0 0 1 0 1 1 1 0 0 0 0 0 0 0 1 M111(M7) M110(M6) M101(M5) M011(M3) M100(M4) M001(M1) M010(M2) M000(M0) P Q R \ufe41p\u2228\ufe41Q\u2228\ufe41R \ufe41p\u2228\ufe41Q\u2228R \ufe41p\u2228Q\u2228\ufe41R p\u2228\ufe41Q\u2228\ufe41R \ufe41p\u2228Q\u2228R p\u2228Q\u2228\ufe41R p\u2228\ufe41Q\u2228R p\u2228Q\u2228R 0 0 0 1 1 1 1 1 1 1 0 0 0 1 1 1 1 1 1 0 1 1 0 1 0 1 1 1 1 1 1 0 1 1 0 0 1 1 1 1 0 1 1 1 0 1 1 1 1 1 0 1 1 1 1 1 1 0 1 0 1 1 1 1 1 1 1 0 1 1 1 0 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 <ul> <li>\u6781\u5927\u9879</li> </ul> <p></p>"},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#_2","title":"\u7b2c\u4e09\u7ae0 \u4e00\u9636\u903b\u8f91","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#1_1","title":"1. \u4e2a\u4f53\u8bcd\u548c\u8c13\u8bcd","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#_3","title":"\u4f8b\u5b50\uff1a","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#_4","title":"\u5b9a\u4e49","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#_5","title":"\u4e2a\u4f53\u8bcd","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#_6","title":"\u8c13\u8bcd","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#_7","title":"\u7b26\u5408\u547d\u9898\u7684\u8c13\u8bcd\u7b26\u53f7\u5316","text":"<ul> <li>\u5217\u5b50</li> </ul> <ul> <li>\u603b\u7ed3</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#2","title":"2. \u91cf\u8bcd","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#_8","title":"\u4f8b\u5b50","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#_9","title":"\u91cf\u8bcd\u5206\u7c7b","text":"<ul> <li> <p>\u4f8b\u5b50</p> </li> </ul> <p></p> <ul> <li>\u4e2a\u4f53\u57df\uff1a\u5bf9\u7b26\u53f7\u6ce8\u660e\u4e2a\u4f53\u57df\uff08\u66f4\u51c6\u786e\u7684\u8868\u8fbe\uff09</li> </ul> <p></p> <ul> <li>\u4e2a\u4f53\u57df\u6709\u9650</li> </ul> <p></p>"},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#3_1","title":"3. \u903b\u8f91\u7b26\u53f7\u5316\u793a\u4f8b","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#4","title":"4. \u5408\u5f0f\u516c\u5f0f","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#_10","title":"\u56db\u7c7b\u7b26\u53f7","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#_11","title":"\u9879","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#_12","title":"\u5408\u5f0f\u516c\u5f0f\u5b9a\u4e49","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#5","title":"5. \u81ea\u7531\u53d8\u5143\u4e0e\u7ea6\u675f\u53d8\u5143","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#_13","title":"\u5b9a\u4e49","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#_14","title":"\u4f8b\u5b50","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#_15","title":"\u4e24\u4e2a\u89c4\u5219","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E8%AE%A1%E7%AE%97%E6%9C%BA/","title":"\u8ba1\u7b97\u673a","text":"<ul> <li>\u7b2c\u56db\u7ae0 \u8ba1\u7b97\u673a\u7f51\u7edc<ul> <li>\u8003\u70b9\u4e00 \u6570\u5b57\u901a\u4fe1\u6280\u672f</li> <li>\u901a\u4fe1\u5173\u952e\u6280\u672f</li> <li>\u56e0\u7279\u7f51<ul> <li>1. \u7f51\u7edc\u6a21\u578b</li> <li>2. \u7f51\u7edc\u534f\u8bae</li> <li>3. IP\u5730\u5740</li> </ul> </li> </ul> </li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%AE%A1%E7%AE%97%E6%9C%BA/#_1","title":"\u7b2c\u56db\u7ae0 \u8ba1\u7b97\u673a\u7f51\u7edc","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E8%AE%A1%E7%AE%97%E6%9C%BA/#_2","title":"\u8003\u70b9\u4e00 \u6570\u5b57\u901a\u4fe1\u6280\u672f","text":"<ul> <li> <p>\u901a\u4fe1\u7684\u57fa\u672c\u6982\u5ff5</p> </li> <li> <p>\u76f8\u540c\u70b9\uff1a\u4fe1\u606f\u7684\u4f20\u9012</p> </li> <li> <p>\u4e0d\u540c\u70b9\uff1a \u5229\u7528\u7535\u6ce2\u548c\u5149\u6ce2\uff08\u603b\u79f0\u4e3a\u7535\u4fe1\uff09</p> </li> <li> <p>\u901a\u4fe1\u7684\u4e09\u8981\u7d20</p> </li> <li> <p>\u4fe1  \u6e90/\u5bbf</p> </li> <li> <p>\u4fe1\u9053\uff1a\u4f20\u8f93\u7684\u7ebf\u8def\uff08\u4f20\u8f93\u4ecb\u8d28\uff1a\u6709\u7ebf\u3001\u65e0\u7ebf\uff09\uff0c\u7ebf\u8def\u4e0a\u7684\u8bbe\u5907\uff08\u7f51\u7edc\u4e92\u8054\u8bbe\u5907\uff1a\u5bb6\u7528\u8def\u7531\u5668\u3001\u4ea4\u6362\u673a\u7b49\uff09</p> </li> <li> <p>\u4fe1\u53f7\uff1a\u6a21\u62df\u4fe1\u53f7\uff08\u7535\u4fe1\u53f7/\u58f0\u6ce2/\u8fde\u7eed\u7684\uff09\uff0c\u6570\u5b57\u4fe1\u53f7\uff08\u8ba1\u7b97\u673a\u76f8\u5173/\u79bb\u6563\u7684\uff09</p> </li> <li> <p>\u4f20\u8f93\u4ecb\u8d28\uff1a</p> </li> </ul> <p>\u6709\u7ebf\uff1a</p> <p></p> <ul> <li>\u53cc\u7ede\u7ebf\uff1a\u4f20\u8f93\u8ddd\u79bb\u7ea6\u7b49\u4e8e85\u7c73\uff0c\u53ef\u7528\u4e2d\u7ee7\u5668\uff08Hub\uff09\u5ef6\u957f\u4f20\u8f93\u8ddd\u79bb</li> <li>RJ45\uff1a\u7f51\u7ebf\u53e3   RJ11\uff1a\u7535\u8bdd\u53e3   HFC\uff1a\u5e7f\u7535\u7f51</li> </ul> <p></p> <p>\u65e0\u7ebf\uff1a</p> <ul> <li>\u5fae\u6ce2\u901a\u4fe1\u7684\u5e94\u7528</li> <li>\u5730\u9762\u5fae\u6ce2\u63a5\u529b\u901a\u4fe1</li> <li>\u5bf9\u6d41\u5c42\u6563\u5c04\u901a\u4fe1</li> <li>\u536b\u661f\u901a\u4fe1</li> </ul> <p></p> <ul> <li>\u536b\u661f\u901a\u4fe1</li> <li>\u540c\u6b65\u5b9a\u70b9\u8f68\u9053\u536b\u661f\uff1a\u8ddd\u79bb36000\u516c\u91cc\uff0c\u4e09\u9897\u8986\u76d6\u5168\u7403\uff08120\u00b0\u4e00\u9897\uff09\uff0c\u76f8\u5bf9\u9759\u6b62</li> <li> <p>\u4e2d\u4f4e\u8f68\u9053\u536b\u661f\uff1a\u8ddd\u79bb12000\u516c\u91cc\uff0c\u76f8\u5bf9\u8fd0\u52a8--\u5bfc\u822a\u5b9a\u4f4d</p> </li> <li> <p>\u79fb\u52a8\u901a\u4fe1</p> </li> <li>\u8702\u7a9d\u79fb\u52a8\u901a\u4fe1\u7cfb\u7edf</li> <li> <p>\u7ec4\u6210\uff1a\u4ea4\u6362\u4e2d\u5fc3\u3001\u57fa\u7ad9\u3001\u79fb\u52a8\u53f0\uff08\u4ea4\u6362\u4e2d\u5fc3--&gt;\u57fa\u7ad9\uff1a\u6709\u7ebf\u3001\u65e0\u7ebf\uff1b\u57fa\u7ad9--&gt;\u79fb\u52a8\u53f0\uff1a\u65e0\u7ebf\uff09</p> </li> <li> <p>\u53d1\u5c55</p> </li> <li>1G\uff1a\u6a21\u62df\u4fe1\u53f7</li> <li>2G\uff1a\u6570\u5b57\u4fe1\u53f7\uff0cGPRS,GSM</li> <li>3G\uff1aCDMA  \u7801\u5206\u591a\u8def\u590d\u7528</li> <li>4G\uff1aLTE</li> <li>5G\uff1aMassive MIMO</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%AE%A1%E7%AE%97%E6%9C%BA/#_3","title":"\u901a\u4fe1\u5173\u952e\u6280\u672f","text":"<ul> <li>\u8c03\u5236\u89e3\u8c03\u6280\u672f\uff1a\u8c03\u5236\uff1a\u6570\u5b57\u4fe1\u53f7--&gt;\u8f7d\u6ce2\u4fe1\u53f7     \u89e3\u8c03\uff1a\u8f7d\u6ce2\u4fe1\u53f7--&gt;\u6570\u5b57\u4fe1\u53f7</li> <li> <p>\u8f7d\u6ce2\u4fe1\u53f7\uff1a\u9891\u7387\u6bd4\u4e00\u822c\u7684\u6a21\u62df\u4fe1\u53f7\u9ad8\u5f97\u591a\u7684\u6b63\u5f26\u6ce2</p> </li> <li> <p>\u73b0\u5728\u7684\u8bbe\u5907\u95f4\u4e3b\u8981\u4ea4\u6362\u65b9\u5f0f\uff1a\u5206\u7ec4\u4ea4\u6362</p> </li> </ul> <p>\u7535\u8def\u4ea4\u6362\u5ef6\u8fdf\u8f83\u4f4e\uff0c\u5206\u7ec4\u4ea4\u6362\u7565\u9ad8\uff0c\u5206\u7ec4\u4ea4\u6362\u5b89\u5168\u6027\u8f83\u9ad8</p>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%AE%A1%E7%AE%97%E6%9C%BA/#_4","title":"\u56e0\u7279\u7f51","text":"<p>\u7f51\u7edc\u6a21\u578b\u3001\u7f51\u7edc\u534f\u8bae\u3001IP\u5730\u5740\u3001\u63a5\u5165\u6280\u672f\u3001\u7f51\u7edc\u670d\u52a1\u7b49</p>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%AE%A1%E7%AE%97%E6%9C%BA/#1","title":"1. \u7f51\u7edc\u6a21\u578b","text":"<ol> <li> <p>\u5206\u5c42\uff1a\u5c06\u590d\u6742\u7684\u901a\u4fe1\u95ee\u9898\u7b80\u5355\u5316\uff08\u6d41\u6c34\u7ebf\u7684\u65b9\u5f0f\uff09</p> </li> <li> <p>OSI/RM\u6a21\u578b\uff1a1977\u5e74\uff0cISO\u5236\u5b9a\uff0c\u4e03\u5c42\u6a21\u578b</p> </li> <li>TCP/IP\u6a21\u578b\uff08\u534f\u8bae\uff09\uff1a80\u5e74\u4ee3\uff0c\u7f8e\u56fd\u56fd\u9632\u90e8\u5236\u5b9a\uff0c\u56db\u5c42\u6a21\u578b</li> <li> <p></p> </li> <li> <p>telnet\u8fdc\u7a0b\u767b\u9646\u534f\u8bae\u3001TCP\u53ef\u9760\u4f20\u8f93\uff08\u6587\u672c\uff09\u3001UDP\u4e0d\u53ef\u9760\u4f20\u8f93\uff0c\u5c3d\u529b\u800c\u4e3a\u5730\u4f20\u8f93\uff08\u591a\u5a92\u4f53\uff09\u3001\u7f51\u7edc\u63a5\u53e3\u5c42 \uff1a\u4f20\u8f93\u4ecb\u8d28\uff0c\u7f16\u7801</p> </li> </ol>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%AE%A1%E7%AE%97%E6%9C%BA/#2","title":"2. \u7f51\u7edc\u534f\u8bae","text":"<ol> <li>\u534f\u8bae\uff1a\u5927\u5bb6\u5fc5\u987b\u5171\u540c\u9075\u5b88\u7684\u89c4\u5219\u548c\u6807\u51c6</li> <li>TCP/IP\u534f\u8bae\u65cf\uff1a\u5305\u542b100\u591a\u4e2a\u534f\u8bae\uff0c\u5c5e\u4e8e\u81ea\u7531\u8f6f\u4ef6\uff08\u4e00\u822c\u4f5c\u4e3aOS\u5185\u6838\u5d4c\u5165\uff09</li> </ol>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%AE%A1%E7%AE%97%E6%9C%BA/#3-ip","title":"3. IP\u5730\u5740","text":"<ol> <li> <p>\u7ec4\u6210\uff1a\u7f51\u7edc\u53f7\uff081\u5b57\u8282\uff09+\u4e3b\u673a\u53f7\uff083\u5b57\u8282\uff09</p> </li> <li> <p>\u5206\u7c7b\uff1aA,B,C,D,E</p> </li> </ol> \u7c7b\u522b A\u7c7b B\u7c7b C\u7c7b D\u7c7b E\u7c7b \u7f51\u7edc\u53f7+\u4e3b\u673a\u53f7\uff08\u5b57\u8282\uff09 1B+3B 2B+2B 3B+1B \u5730\u5740\u8303\u56f4 1~127 128~191 192~223 224~239 240~255 \u5b50\u7f51\u63a9\u7801 255.0.0.0 255.255.0.0 255.255.255.0 <ol> <li> <p>\u4e3b\u673a\u53f7\u5168\u4e3a0\uff0c\u79f0\u4e3a\u7269\u7406\u7f51\u7edc\u672c\u8eab\uff0c\u4e0d\u80fd\u5206\u914d\u7ed9\u4e3b\u673a\u3002   \u5168\u4e3a255\uff1a\u5e7f\u64ad\u5730\u5740</p> </li> <li> <p>\u4e0d\u80fd\u5728\u516c\u7f51\u4e0a\u4f20\u64ad\u7684\u5730\u5740:</p> </li> </ol> <p>\u79c1\u6709\u5730\u5740\uff1a10.X.X.X     172.16.X.X~172.31.X.X   192.168.X.X</p> <p>\u79c1\u6709\u5730\u5740\u901a\u8fc7NAT\u5730\u5740\u8f6c\u5316\u540e\u53ef\u4ee5\u8fdb\u516c\u7f51</p> <ol> <li>\u4fdd\u7559\u5730\u5740\uff1a0.0.0.0\uff08\u672c\u7f51\u7edc\uff09</li> </ol> <p>127.X.X.X  \u6d4b\u8bd5\u672c\u673a\u7684\u7f51\u7edc\u901a\u4fe1\u60c5\u51b5\uff08127.0.0.1\u73af\u56de\u5730\u5740\uff09</p> <p>\u96c6\u7ebf\u5668\uff1a\u5171\u4eab\u5e26\u5bbd\uff0c\u6bcf\u4eba\u5e73\u5747\u5e26\u5bbd          \u4ea4\u6362\u673a\uff1a\u72ec\u4eab\u5e26\u5bbd\uff0c\u6240\u6709\u4eba\u7528\u4e00\u4e2a\u5e26\u5bbd</p>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/","title":"\u8f6f\u4ef6\u5de5\u7a0b","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/#_1","title":"\u7cfb\u7edf\u6d41\u7a0b\u56fe","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/#_2","title":"\u6570\u636e\u6d41\u56fe","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/#_3","title":"\u9644\u52a0\u7b26\u53f7","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/#_4","title":"\u6570\u636e\u5b57\u5178","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/#_5","title":"\u7528\u9014","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/#_6","title":"\u72b6\u6001\u8f6c\u6362\u56fe","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/#_7","title":"\u8bf4\u660e","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/#_8","title":"\u7b26\u53f7","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/","title":"\u8f6f\u5de5","text":"<p>\u91cd\u70b9\uff1a</p> <ul> <li>\u6570\u636e\u6d41\u56fe\u548c\u6570\u636e\u5b57\u5178  \u600e\u4e48\u753b\uff0c\u5b9a\u4e49</li> <li>\u7528\u4f8b\u56fe                         \u600e\u4e48\u753b\uff0c\u5b9a\u4e49</li> <li>\u4e09\u4e2a\u65f6\u671f\u3001\u516b\u4e2a\u9636\u6bb5</li> <li>\u7011\u5e03\u6a21\u578b</li> <li>\u98ce\u9669\u5206\u6790</li> <li>\u8f6f\u4ef6\u6d4b\u8bd5</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_1","title":"\u7b2c\u4e00\u7ae0     \u8f6f\u4ef6\u5de5\u7a0b\u6982\u8ff0","text":""},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_2","title":"\u8f6f\u4ef6","text":"<ul> <li>\u8f6f\u4ef6\u662f\u4e00\u7cfb\u5217\u7a0b\u5e8f\u3001\u6570\u636e\u53ca\u5176\u76f8\u5173\u7684\u6587\u6863\u96c6\u5408</li> <li>\u8f6f\u4ef6\u7684\u672c\u8d28\u7279\u6027\uff1a\u590d\u6742\u7279\u6027 </li> <li>\u5e94\u7528\u8f6f\u4ef6\u56db\u7c7b\uff1a\u684c\u9762\u901a\u7528\u8f6f\u4ef6\uff08\u4e2a\u4eba\uff09\u3001\u4f01\u4e1a\u7ea7\u8f6f\u4ef6\u3001\u5d4c\u5165\u5f0f\u8f6f\u4ef6\u3001\u4e91\u8ba1\u7b97\u8f6f\u4ef6</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_3","title":"\u8f6f\u4ef6\u5371\u673a","text":"<ul> <li>\u5728\u5f00\u53d1\u8f6f\u4ef6\u548c\u7ef4\u62a4\u4e8b\u6240\u9047\u5230\u7684\u95ee\u9898\uff1a</li> </ul> <p>1.\u5982\u4f55\u5f00\u53d1\u8f6f\u4ef6\u4ee5\u6ee1\u8db3\u793e\u4f1a\u5bf9\u8f6f\u4ef6\u7684\u65e5\u76ca\u589e\u957f\u7684\u9700\u6c42</p> <p>2 \u5982\u4f55\u7ef4\u62a4\u6570\u91cf\u4e0d\u65ad\u589e\u957f\u7684\u5df2\u6709\u8f6f\u4ef6</p>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_4","title":"\u8f6f\u4ef6\u5de5\u7a0b","text":"<ul> <li>\u5b9a\u4e49\uff1a\u8f6f\u4ef6\u5de5\u7a0b\u662f\u5e94\u7528\u8ba1\u7b97\u673a\u79d1\u5b66\u7406\u8bba\u548c\u6280\u672f\u4ee5\u53ca\u5de5\u7a0b\u7ba1\u7406\u539f\u5219\u548c\u65b9\u6cd5\uff0c\u6309\u9884\u7b97\u548c\u8fdb\u5ea6\uff0c\u5b9e\u73b0\u6ee1\u8db3\u7528\u6237\u8981\u6c42\u7684\u8f6f\u4ef6\u4ea7\u54c1\u7684\u5b9a\u4e49\u3001\u5f00\u53d1\u3001\u53d1\u5e03\u548c\u7ef4\u62a4\u7684\u5de5\u7a0b\u6216\u8fdb\u884c\u7814\u7a76\u7684\u5b66\u79d1</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_5","title":"\u8f6f\u4ef6\u751f\u5b58\u5468\u671f","text":"<ul> <li>\u4e09\u4e2a\u65f6\u671f\u3001\u516b\u4e2a\u9636\u6bb5\uff1a</li> <li>\u8f6f\u4ef6\u5b9a\u4e49<ul> <li>\u95ee\u9898\u5b9a\u4e49\u3001\u53ef\u884c\u6027\u7814\u7a76\u3001\u9700\u6c42\u5206\u6790</li> </ul> </li> <li>\u8f6f\u4ef6\u5f00\u53d1<ul> <li>\u6982\u8981\u8bbe\u8ba1\u3001\u8be6\u7ec6\u8bbe\u8ba1\u3001\u7f16\u7801\u548c\u5355\u5143\u6d4b\u8bd5\u3001\u7efc\u5408\u6d4b\u8bd5</li> </ul> </li> <li>\u8f6f\u4ef6\u7ef4\u62a4<ul> <li>\u8fd0\u884c\u7ef4\u62a4</li> </ul> </li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_6","title":"\u7011\u5e03\u6a21\u578b","text":"<ul> <li>\u4f20\u7edf\u7011\u5e03\u6a21\u578b\uff1a</li> <li>\u9700\u6c42\u5206\u6790\uff08\u9a8c\u8bc1\uff09--\u89c4\u683c\u8bf4\u660e\uff08\u9a8c\u8bc1\uff09\u2014\u8bbe\u8ba1\uff08\u9a8c\u8bc1\uff09\u2014\u7f16\u7801\uff08\u6d4b\u8bd5\uff09\u2014\u7efc\u5408\u6d4b\u8bd5\u2014\u7ef4\u62a4</li> <li>\u7279\u70b9\uff1a\u8f6f\u4ef6\u751f\u5b58\u5468\u671f\u7684\u987a\u5e8f\u6027\u3001\u5c3d\u53ef\u80fd\u63a8\u8fdf\u8f6f\u4ef6\u7684\u7f16\u7801\u3001\u4fdd\u8bc1\u8d28\u91cf</li> <li>\u4f18\u70b9\uff1a\u53ef\u5f3a\u8feb\u5f00\u53d1\u4eba\u5458\u91c7\u7528\u89c4\u8303\u5316\u5f00\u53d1\u65b9\u6cd5\u3001\u4e25\u683c\u7684\u89c4\u5b9a\u4e86\u6bcf\u4e2a\u9636\u6bb5\u5fc5\u987b\u63d0\u4ea4\u7684\u6587\u6863\u3001\u8981\u6c42\u6bcf\u4e2a\u9636\u6bb5\u4ea4\u51fa\u6240\u6709\u7684\u4ea7\u54c1\u90fd\u5fc5\u987b\u7ecf\u8fc7\u9a8c\u8bc1\u7684</li> <li>\u7f3a\u70b9\uff1a\u51e0\u4e4e\u5b8c\u5168\u4f9d\u8d56\u4e8e\u4e66\u9762\u7684\u89c4\u683c\u8bf4\u660e\u4e66\uff0c\u5bfc\u81f4\u8f6f\u4ef6\u4e0d\u80fd\u6ee1\u8db3\u7528\u6237\u9700\u8981\u3001\u53ea\u9002\u7528\u4e8e\u9879\u76ee\u5f00\u59cb\u65f6\u9700\u6c42\u5df2\u786e\u5b9a\u7684\u60c5\u51b5</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_7","title":"\u87ba\u65cb\u6a21\u578b","text":"<ul> <li>\u5c06\u7011\u5e03\u6a21\u578b\u4e8e\u5feb\u901f\u6a21\u578b\u7ed3\u5408\u8d77\u6765\uff0c\u5e76\u4e14\u52a0\u5165\u4e24\u79cd\u6a21\u578b\u5747\u5ffd\u7565\u4e86\u7684\u98ce\u9669\u5206\u6790</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_8","title":"\u7edf\u4e00\u5f00\u53d1\u8fc7\u7a0b\u6a21\u578b","text":"<ul> <li>\u57fa\u4e8e\u5c06\u7edf\u4e00\u5efa\u6a21\u8bed\u8a00\uff08UML\uff09\u7684\u4e00\u79cd\u9762\u5411\u5bf9\u8c61\u8f6f\u4ef6\u5f00\u53d1\u6a21\u578b</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_9","title":"\u654f\u6377\u6a21\u578b","text":"<ul> <li>\u5305\u62ec\u591a\u79cd\u5b9e\u8df5\u65b9\u6cd5\uff0c\u5982\u6781\u9650\u7f16\u7a0b</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_10","title":"\u7b2c\u4e8c\u7ae0     \u8f6f\u4ef6\u95ee\u9898\u5b9a\u4e49\u53ca\u53ef\u884c\u6027\u5206\u6790","text":"<ul> <li>\u8f6f\u4ef6\u5f00\u53d1\u4eba\u5458\u8981\u4ece \u6280\u672f\u3001\u7ecf\u6d4e\u3001\u793e\u4f1a\u56e0\u7d20\u3001\u64cd\u4f5c\u7b49\u65b9\u9762\u5199\u51fa\u53ef\u884c\u6027\u7814\u7a76\u62a5\u544a</li> <li>\u53ef\u884c\u6027\u7814\u7a76\u7684\u6210\u679c\uff1a\u53ef\u884c\u6027\u7814\u7a76\u62a5\u544a</li> <li>\u53ef\u884c\u6027\u7814\u7a76\u548c\u9700\u6c42\u5206\u6790\u7684\u533a\u522b\u5728\u4e8e\uff1a\u53ef\u884c\u6027\u7814\u7a76\u662f\u51b3\u5b9a\u201c\u505a\u8fd8\u662f\u4e0d\u505a\u201d\uff0c\u9700\u6c42\u5206\u6790\u662f\u201c\u505a\u4ec0\u4e48\u201d</li> <li>\u7cfb\u7edf\u6d41\u7a0b\u56fe\u7684\u4f5c\u7528\uff1a\u63cf\u8ff0\u7269\u7406\u7cfb\u7edf\uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a\u5355\u4f4d\u3001\u7ec4\u7ec7\u7684\u4fe1\u606f\u5904\u7406\u7684\u5177\u4f53\u5b9e\u73b0\u7684\u7cfb\u7edf</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_11","title":"\u6570\u636e\u6d41\u56fe","text":"<ul> <li>\u56db\u79cd\u57fa\u672c\u7b26\u53f7</li> </ul> <ul> <li> <p>\u6570\u636e\u6d41\u56fe\u548c\u6570\u636e\u5b57\u5178\u7684\u5173\u7cfb\uff1a\u6570\u636e\u6d41\u56fe\u63cf\u8ff0\u4e86\u7cfb\u7edf\u7684\u5206\u89e3\uff0c\u6570\u636e\u5b57\u5178\u4e3a\u6570\u636e\u6d41\u56fe\u4e2d\u7684\u6bcf\u4e2a\u6570\u636e\u6d41\u3001\u6570\u636e\u5b58\u50a8\u3001\u6570\u636e\u5904\u7406\u4ee5\u53ca\u7ec4\u6210\u6570\u636e\u6d41\u6216\u6587\u4ef6\u7684\u6570\u636e\u9879\u505a\u51fa\u8bf4\u660e\u3002</p> </li> <li> <p>\u6570\u636e\u6d41\u548c\u6570\u636e\u5b57\u5178\u5171\u540c\u6784\u6210\u903b\u8f91\u6a21\u578b\u7f3a\u4e00\u4e0d\u53ef</p> </li> <li>\u6570\u636e\u5b57\u5178\u901a\u5e38\u7531 \u5143\u7d20\u3001\u6570\u636e\u6d41\u3001\u6570\u636e\u5b58\u50a8\u3001\u6570\u636e\u5904\u7406\u7ec4\u6210</li> <li>\u6570\u636e\u5b57\u5178\u7684\u7b26\u53f7\uff1a</li> <li><code>=</code>: \u8868\u793a  \u7b49\u4ef7\u4e8e\u6216\u5b9a\u4e49\u4e3a</li> <li><code>+</code>\uff1a \u8868\u793a  \u548c\uff0c\u8fde\u63a5\u4e24\u4e2a\u5143\u7d20</li> <li><code>[]</code>\uff1a\u8868\u793a \u6216</li> <li><code>{}</code>\uff1a\u8868\u793a \u91cd\u590d</li> <li><code>\uff08\uff09</code>\uff1a\u8868\u793a \u53ef\u9009</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_12","title":"\u7b2c\u4e09\u7ae0 \u9700\u6c42\u5206\u6790","text":"<ul> <li>\u9700\u6c42\u5206\u6790\u786e\u5b9a  \u505a\u4ec0\u4e48</li> <li>\u8f6f\u4ef6\u8bbe\u8ba1\u786e\u5b9a  \u600e\u4e48\u505a</li> <li>\u53ef\u884c\u6027\u7814\u7a76\u786e\u5b9a  \u505a\u8fd8\u662f\u4e0d\u505a</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_13","title":"\u9700\u6c42\u5206\u6790\u7684\u5177\u4f53\u4efb\u52a1","text":"<ul> <li>\u529f\u80fd\u6027\u9700\u6c42\u3001\u6027\u80fd\u9700\u6c42\u3001\u73af\u5883\u9700\u6c42\u3001\u63a5\u53e3\u9700\u6c42</li> <li>\u4e3a\u4ec0\u4e48\u8981\u7f16\u5199\u8f6f\u4ef6\u89c4\u683c\u8bf4\u660e\u4e66\uff1a</li> <li> <p>\u5efa\u7acb\u7528\u6237\u548c\u5f00\u53d1\u8005\u5bf9\u8f6f\u4ef6\u7684\u5171\u540c\u7406\u89e3</p> </li> <li> <p>\u9700\u6c42\u5206\u6790\u7684\u6b65\u9aa4</p> </li> <li> <p>\u9700\u6c42\u83b7\u53d6\u3001\u5206\u6790\u5efa\u6a21\u3001\u9700\u6c42\u63cf\u8ff0\u3001\u9700\u6c42\u9a8c\u8bc1</p> </li> <li> <p>\u6700\u53e4\u8001\u7684\u9700\u6c42\u83b7\u53d6\u65b9\u5f0f\uff1a \u8bbf\u8c08</p> </li> <li> <p>\u7ed3\u6784\u5316\u9700\u6c42\u5206\u6790\u65b9\u6cd5\u57fa\u4e8e\u5206\u89e3\u548c\u62bd\u8c61\u7684\u57fa\u672c\u6307\u5bfc\u601d\u60f3</p> </li> <li>E-R\u56fe\u7684\u7ec4\u6210\u90e8\u5206\uff1a\u5b9e\u4f53\uff08\u6570\u636e\u5bf9\u8c61\uff0c\u77e9\u5f62\uff09\u3001\u5c5e\u6027\uff08\u692d\u5706\uff09\u3001\u8054\u7cfb\\\u5173\u7cfb\uff08\u83f1\u5f62\uff09</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_14","title":"\u7b2c\u56db\u7ae0 \u603b\u4f53\u8bbe\u8ba1","text":"<ul> <li> <p>\u603b\u4f53\u8bbe\u8ba1\u8fc7\u7a0b\uff1a</p> </li> <li> <p>\u7cfb\u7edf\u8bbe\u8ba1\u9636\u6bb5\uff1a\u786e\u5b9a\u7cfb\u7edf\u7684\u5177\u4f53\u5b9e\u73b0\u65b9\u6848</p> </li> <li> <p>\u7ed3\u6784\u8bbe\u8ba1\u9636\u6bb5\uff1a\u786e\u5b9a\u8f6f\u4ef6\u7684\u7ed3\u6784</p> </li> <li> <p>\u6a21\u5757\u5316\uff1a\u628a\u7a0b\u5e8f\u5212\u5206\u6210\u72ec\u7acb\u7684\u547d\u540d\u7a7a\u95f4\u4e14\u53ef\u8bbf\u95ee\u7684\u6a21\u5757\uff0c\u6ca1\u4e2a\u6a21\u5757\u5b8c\u6210\u4e00\u4e2a\u5b57\u529f\u80fd\uff0c\u6240\u6709\u7684\u6a21\u5757\u6309\u7167\u7528\u6237\u4e1a\u52a1\u903b\u8f91\u7ee7\u627f\u8d77\u6765\u6784\u6210\u4e00\u4e2a\u6574\u4f53\uff0c\u5b8c\u6210\u6307\u5b9a\u7684\u529f\u80fd\u6ee1\u8db3\u7528\u6237\u7684\u9700\u6c42</p> </li> <li>\u6a21\u5757\u72ec\u7acb\u6027\uff1a \u4f4e\u8026\u5408\u9ad8\u5185\u805a</li> <li>\u8026\u5408\uff1a\u6a21\u5757\u95f4\u7684\u76f8\u4e92\u5173\u8054\u7a0b\u5ea6</li> <li>\u5185\u805a\u6700\u4f4e\uff1a\u5076\u7136\u5185\u805a  \uff0c\u6700\u9ad8\uff1a\u529f\u80fd\u5185\u805a</li> <li>\u8f6f\u4ef6\u7ed3\u6784\u5e94\u8be5\u591a\u5165\u53e3\u591a\u51fa\u53e3\u662f\u9519\u8bef\u7684</li> <li> <p>\u5c42\u6b21\u56fe\uff1a\u65b9\u6846\u95f4\u7684\u8fde\u7ebf\u8868\u793a\u8c03\u7528\u5173\u7cfb</p> </li> <li> <p>Yourdon\u63d0\u51fa\u7684\u7ed3\u6784\u56fe\u662f\u8f6f\u4ef6\u7ed3\u6784\u8bbe\u8ba1\u7684\u4e00\u4e2a\u6709\u529b\u5de5\u5177</p> </li> <li>\u9762\u5411\u6570\u636e\u6d41\u6700\u57fa\u672c\u7684\u662f  \u53d8\u6362\u6d41</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_15","title":"\u7b2c\u4e94\u7ae0 \u8be6\u7ec6\u8bbe\u8ba1","text":"<ul> <li>\u5b9e\u73b0\u6a21\u578b\uff1a\u4ece\u7a0b\u5e8f\u5f00\u53d1\u4eba\u5458\u89d2\u5ea6\u51fa\u53d1\uff0c \u5f00\u53d1\u4e00\u4e2a\u5e94\u7528\u6240\u7528\u5230\u7684\u6280\u672f\u89e3\u51b3\u65b9\u6848</li> <li> <p>\u5fc3\u667a\u6a21\u578b\uff1a\u8f6f\u4ef6\u771f\u5b9e\u7528\u6237\u5bf9\u8be5\u8f6f\u4ef6\u7684\u7528\u6cd5\u548c\u7406\u89e3</p> </li> <li> <p>\u8be6\u7ec6\u8bbe\u8ba1\u7684\u5de5\u5177</p> </li> <li> <p>\u7a0b\u5e8f\u6d41\u7a0b\u56fe</p> </li> <li>\u76d2\u56fe<ul> <li>\u76d2\u56fe\u6ca1\u6709\u7bad\u5934\uff0c\u56e0\u6b64\u4e0d\u5141\u8bb8\u968f\u610f\u8f6c\u5316\u63a7\u5236\u3002\u575a\u6301\u4f7f\u7528\u76d2\u56fe\u53ef\u4ee5\u57f9\u517b\u7ed3\u6784\u5316\u7684\u89e3\u51b3\u95ee\u9898\u7684\u4e60\u60ef</li> </ul> </li> <li>PAD\u56fe<ul> <li>\u4f7f\u7528\u4e8c\u7ef4\u7684\u6811\u5f62\u7ed3\u6784\u8868\u793a\u7a0b\u5e8f\u7684\u63a7\u5236\u6d41\uff0c\u5c06\u56fe\u7ffb\u8bd1\u6210\u4ee3\u7801\u5bb9\u6613</li> </ul> </li> <li> <p>\u5224\u5b9a\u6811\u4e0e\u5224\u5b9a\u8868</p> <ul> <li>\u662f\u4e00\u79cd\u5217\u8868\u8bbe\u8ba1\u5de5\u5177\uff0c\u7528\u4e8e\u6761\u4ef6\u5d4c\u5957\u7684\u590d\u6742\u5224\u5b9a\u60c5\u51b5\uff0c\u4ee5\u53ca\u591a\u5206\u679d\u7ed3\u6784\u4ee3\u7801\u7684\u8bbe\u8ba1\u4e0e\u5b9e\u73b0</li> </ul> </li> <li> <p>\u8fc7\u7a0b\u8bbe\u8ba1\u8bed\u8a00\uff08PDL\u3001\u4f2a\u4ee3\u7801\uff09</p> </li> <li> <p>JACKSON\u5f00\u53d1\u65b9\u6cd5\uff1a\u9762\u5411\u6570\u636e\u7ed3\u6784</p> </li> <li> <p>\u5c42\u6b21\u56fe\u8868\u73b0\u7684\u662f\u8c03\u7528\u5173\u7cfb\uff0cJackson\u56fe\u8868\u793a\u7684\u662f\u7ec4\u6210\u5173\u7cfb</p> </li> <li> <p>\u7a0b\u5e8f\u56fe\uff1a\u7b80\u5316\u7684\u6d41\u7a0b\u56fe</p> </li> <li> <p>\u73af\u5f62\u590d\u6742\u5ea6\u8ba1\u7b97\u65b9\u6cd5(\u4e09\u4e2a\u65b9\u6cd5)</p> </li> <li>V(G)=\u56fe\u4e2d\u5e73\u9762\u533a\u57df\u7684\u4e2a\u6570</li> <li>V(G)=P(\u5224\u5b9a\u8282\u70b9\u7684\u4e2a\u6570)+1</li> <li>V(G)=E(\u8fb9\u6570)-N(\u8282\u70b9\u6570)+2</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_16","title":"\u7b2c\u516d\u7ae0 \u8f6f\u4ef6\u7f16\u7801\u548c\u6d4b\u8bd5","text":"<ul> <li>\u7ed3\u6784\u5316\u7a0b\u5e8f\u8bbe\u8ba1\u7684\u7279\u70b9</li> <li>\u81ea\u9876\u5411\u4e0b\u3001\u9010\u6b65\u6c42\u7cbe\u3001GOTO\u8bed\u53e5</li> <li>\u8f6f\u4ef6\u6d4b\u8bd5\uff1a\u5c3d\u53ef\u80fd\u7684\u627e\u8f6f\u4ef6\u5b58\u5728\u7684\u95ee\u9898</li> <li>\u6309\u6d4b\u8bd5\u65b9\u6cd5\u5206\u7c7b</li> <li>\u767d\u76d2\u6d4b\u8bd5\uff1a\u7ed3\u6784\u6d4b\u8bd5\u6216\u903b\u8f91\u9a71\u52a8\u6d4b\u8bd5</li> <li>\u9ed1\u76d2\u6d4b\u8bd5\uff1a\u529f\u80fd\u6d4b\u8bd5\u6216\u6570\u636e\u9a71\u52a8\u6d4b\u8bd5</li> <li>\u7070\u76d2\u6d4b\u8bd5\uff1a\u4ecb\u4e8e\u767d\u76d2\u548c\u9ed1\u76d2\u4e4b\u95f4\uff0c\u53ea\u5173\u6ce8\u5185\u90e8\u8868\u73b0</li> <li>\u6309\u6d4b\u8bd5\u8fc7\u7a0b\u5206\u7c7b</li> <li>\u5355\u5143\u6d4b\u8bd5\uff1a\u53d1\u73b0\u5404\u6a21\u5757\u5185\u90e8\u53ef\u80fd\u7684\u9519\u8bef</li> <li>\u96c6\u6210\u6d4b\u8bd5\uff1a\u6709\u5e8f\u3001\u9012\u589e\u7684\u6d4b\u8bd5\uff0c\u68c0\u9a8c\u7a0b\u5e8f\u5355\u5143\u548c\u90e8\u4ef6\u63a5\u53e3\u7684\u5173\u7cfb</li> <li>\u7cfb\u7edf\u6d4b\u8bd5\uff1a\u9a8c\u8bc1\u7cfb\u7edf\u662f\u5426\u8fbe\u5230\u539f\u59cb\u76ee\u7684\uff0c\u5bf9\u96c6\u6210\u7684\u786c\u4ef6\u548c\u8f6f\u4ef6\u7cfb\u7edf\u8fdb\u884c\u6d4b\u8bd5</li> <li>\u9a8c\u6536\u6d4b\u8bd5\uff1a\u4ea7\u54c1\u53d1\u5e03\u524d\u7684\u6d4b\u8bd5\uff0c\u6a21\u62df\u5b9e\u9645\u64cd\u4f5c\u73af\u5883</li> <li> <p>\u589e\u91cf\u96c6\u6210\u6d4b\u8bd5\uff1a\u81ea\u9876\u5411\u4e0b\uff0c\u81ea\u5e95\u5411\u4e0a\u4e24\u79cd\u6d4b\u8bd5\u65b9\u6cd5</p> </li> <li> <p>\u9ed1\u76d2\u6d4b\u8bd5\u7528\u4f8b</p> </li> <li>\u7b49\u4ef7\u7c7b\u5212\u5206\u3001\u8fb9\u754c\u503c\u5206\u6790\u3001\u56e0\u679c\u56fe\u3001\u51b3\u7b56\u8868\u3001\u9519\u8bef\u63a8\u6d4b\u6cd5\u3001\u573a\u666f\u6cd5\u3001</li> <li>\u51b3\u7b56\u8868\u7684\u7ec4\u6210</li> <li> <p>\u6761\u4ef6\u6869\u3001\u52a8\u4f5c\u6869\u3001\u6761\u4ef6\u9879\u3001\u52a8\u4f5c\u9879</p> </li> <li> <p>\u767d\u76d2\u6d4b\u8bd5</p> </li> <li>\u5224\u5b9a\u8986\u76d6\uff1a\u8bbe\u8ba1\u8db3\u591f\u591a\u7684\u6d4b\u8bd5\u7528\u4f8b\uff0c\u4f7f\u6bcf\u4e2a\u5224\u65ad\u5206\u652f\u90fd\u81f3\u5c11\u6267\u884c\u4e00\u6b21</li> <li> <p>\u6761\u4ef6\u8986\u76d6\uff1a\u8bbe\u8ba1\u8db3\u591f\u591a\u7684\u6d4b\u8bd5\u7528\u4f8b\uff0c\u4f7f\u6bcf\u4e2a\u6761\u4ef6\u83b7\u5f97\u53ef\u80fd\u7684\u503c</p> </li> <li> <p>\u7a0b\u5e8f\u63d2\u88c5</p> </li> <li>\u5b9a\u4e49\uff1a\u5411\u76ee\u6807\u7a0b\u5e8f\u63d2\u5165\u64cd\u4f5c\u6765\u6d4b\u8bd5\uff0c\u53ef\u4ee5\u5b9e\u73b0\uff0c\u4e86\u89e3\u7a0b\u5e8f\u5728\u67d0\u6b21\u8fd0\u884c\u4e2d\u6240\u6709\u53ef\u6267\u884c\u8bed\u53e5\u88ab\u8986\u76d6\u7684\u60c5\u51b5\uff0c\u6216\u6bcf\u4e2a\u8bed\u53e5\u5b9e\u9645\u7684\u6267\u884c\u6b21\u6570</li> <li> <p>\u8f6f\u4ef6\u6d4b\u8bd5\u7684\u662f\u53d1\u73b0\u8f6f\u4ef6\u7684\u9519\u8bef\u4fe1\u606f\uff0c\u8f6f\u4ef6\u8c03\u8bd5\u662f\u5728\u8f6f\u4ef6\u6d4b\u8bd5\u5b8c\u6210\u7ed3\u679c\u5206\u6790\u540e\uff0c\u5bf9\u5206\u6790\u7ed3\u679c\u53d1\u73b0\u7684\u9519\u8bef\u8fdb\u884c\u7a0b\u5e8f\u8bca\u65ad\uff0c\u5e76\u6c42\u9519\u8bef\u6539\u6b63\u3002\u786e\u5b9a\u662f\u5426\u548c\u8f6f\u4ef6\u9700\u6c42\u4e00\u81f4</p> </li> <li> <p>\u8f6f\u4ef6\u8c03\u8bd5</p> </li> <li>\u8bd5\u63a2\u6cd5</li> <li>\u56de\u6eaf\u6cd5</li> <li>\u5bf9\u5206\u67e5\u627e\u6cd5\uff1a\u533a\u5206\u7a0b\u5e8f\u6bb5\u67e5\u627e</li> <li>\u5f52\u7eb3\u6cd5</li> <li>\u6f14\u7ece\u6cd5</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_17","title":"\u7b2c\u4e03\u7ae0 \u8f6f\u4ef6\u7ef4\u62a4","text":"<ul> <li> <p>\u8f6f\u4ef6\u7ef4\u62a4\u526f\u4f5c\u7528\uff1a \u4ee3\u7801\u526f\u4f5c\u7528\u3001\u6570\u636e\u526f\u4f5c\u7528\u3001\u6587\u6863\u526f\u4f5c\u7528</p> </li> <li> <p>\u8f6f\u4ef6\u7ef4\u62a4\u79cd\u7c7b: \u6539\u6b63\u6027\u7ef4\u62a4\uff08\u6539\u6b63\u9519\u8bef\u3001\u7f3a\u9677\uff09\u3001\u9002\u5e94\u6027\u7ef4\u62a4\uff08\u786c\u4ef6\u3001\u7cfb\u7edf\u8fd0\u884c\u73af\u5883\uff09\u3001\u5b8c\u5584\u6027\u7ef4\u62a4\uff08\u589e\u52a0\u65b0\u529f\u80fd\uff09\u3001\u9884\u9632\u6027\u7ef4\u62a4\uff08\u63d0\u9ad8\u53ef\u9760\u6027\uff09</p> </li> <li> <p>\u7ef4\u62a4\u7ec4\u7ec7\uff1a\u7ef4\u62a4\u4eba\u5458\u3001\u7ef4\u62a4\u7ba1\u7406\u5458\u3001\u7cfb\u7edf\u7ba1\u7406\u5458\u3001\u4fee\u6539\u63a7\u5236\u51b3\u7b56\u7ba1\u7406\u5458</p> </li> <li> <p>\u8f6f\u4ef6\u7ef4\u62a4\u6700\u8017\u65f6\u3001\u8017\u529b</p> </li> <li> <p>\u8f6f\u4ef6\u518d\u5de5\u7a0b\uff1a\u901a\u8fc7\u8f6c\u6362\u9057\u7559\u7cfb\u7edf\u4f7f\u7cfb\u7edf\u66f4\u5bb9\u6613\u7406\u89e3\uff0c\u4ece\u800c\u63d0\u9ad8\u7cfb\u7edf\u7684\u53ef\u7ef4\u62a4\u6027</p> </li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#uml","title":"\u7b2c\u516b\u7ae0 \u9762\u5411\u5bf9\u8c61\u6280\u672f\u4e0eUML","text":"<ul> <li>\u5bf9\u8c61\uff1a\u5ba2\u89c2\u7684\u5b58\u5728\uff0c\u8981\u7814\u7a76\u7684\u4e8b\u548c\u7269</li> <li>\u5c01\u88c5\uff1a\u4fdd\u8bc1\u8f6f\u4ef6\u90e8\u4ef6\u5177\u6709\u4f18\u826f\u7684\u6a21\u5757\u6027\u7684\u57fa\u7840\uff0c\u5bf9\u8c61\u662f\u5c01\u88c5\u7684\u6700\u57fa\u672c\u7684\u5355\u4f4d\uff0c\u5c01\u88c5\u9632\u6b62\u4e86\u7a0b\u5e8f\u76f8\u4e92\u4f9d\u8d56\u800c\u5e26\u6765\u7684\u53d8\u52a8\u5f71\u54cd</li> <li>\u7ee7\u627f\uff1a\u5b50\u7c7b\u81ea\u52a8\u5171\u4eab\u7236\u7c7b\u6570\u636e\u7ed3\u6784\u548c\u65b9\u6cd5\u7684\u673a\u5236\uff0c\u662f\u7c7b\u4e4b\u95f4\u7684\u4e00\u79cd\u5173\u7cfb</li> <li>\u591a\u6001\u6027\uff1a\u76f8\u540c\u7684\u64cd\u4f5c\u3001\u51fd\u6570\u6216\u8005\u8fc7\u7a0b\u53ef\u7528\u4f5c\u4e8e\u591a\u79cd\u7c7b\u578b\u5bf9\u8c61\u4e0a\u5e76\u83b7\u53d6\u4e0d\u540c\u7684\u7ed3\u679c</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#uml_1","title":"UML(\u7edf\u4e00\u5efa\u6a21\u8bed\u8a00)","text":"<ul> <li>\u4f5c\u7528\uff1a\u5bf9\u8f6f\u4ef6\u5bc6\u96c6\u7cfb\u7edf\u8fdb\u884c\u53ef\u89c6\u5316\u5efa\u6a21\u7684\u8bed\u8a00</li> <li>\u6a21\u578b\uff1a\u4e00\u4e2a\u6839\u672c\u95ee\u9898\u7684\u62bd\u8c61\uff0c\u7531\u5bf9\u8c61objects\u7ec4\u6210\uff0c\u5bf9\u8c61\u7684\u5c5e\u6027\u51b3\u5b9a\u4e86\u5b83\u7684\u72b6\u6001</li> <li>\u56fe</li> <li>\u9759\u6001\u56fe\uff1a\u7528\u4f8b\u56fe\u3001\u7c7b\u56fe\u3001\u5bf9\u8c61\u56fe\u3001\u5305\u56fe\u3001\u6784\u4ef6\u56fe\u3001\u90e8\u7f72\u56fe</li> <li>\u52a8\u6001\u56fe\uff1a\u987a\u5e8f\u56fe\u3001\u534f\u4f5c\u56fe\u3001\u72b6\u6001\u56fe\u3001\u6d3b\u52a8\u56fe</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_18","title":"\u7528\u4f8b\u56fe","text":"<ul> <li>\u7528\u4f8b\u56fe\u662f\uff1a\u63cf\u8ff0\u89d2\u8272\u4ee5\u53ca\u89d2\u8272\u4e0e\u7528\u4f8b\u4e4b\u95f4\u7684\u94fe\u63a5\u5173\u7cfb\uff0c\u8bf4\u660e\u7684\u662f\u8c01\u8981\u4f7f\u7528\u7cfb\u7edf\uff0c\u4ee5\u53ca\u4ed6\u4eec\u53ef\u4ee5\u4f7f\u7528\u8be5\u7cfb\u7edf\u505a\u4ec0\u4e48</li> <li> <p>\u7ec4\u6210\uff1a\u7cfb\u7edf\u8fb9\u754c\u3001\u53c2\u4e0e\u8005\u3001\u7528\u4f8b\u3001\u5173\u7cfb\u8981\u7d20</p> </li> <li> <p>\u7528\u4f8b\u56fe\u7684\u56db\u79cd\u5173\u7cfb\uff1a\u5173\u8054\u3001\u5305\u542b\u3001\u6269\u5c55\u3001\u6cdb\u5316</p> </li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_19","title":"\u7c7b\u56fe","text":"<ul> <li>\u7c7b\u56fe\u63cf\u8ff0\u4e86\u7c7b\u548c\u7c7b\u4e4b\u95f4\u7684\u9759\u6001\u5173\u7cfb</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_20","title":"\u5305\u56fe","text":"<ul> <li>\u63cf\u8ff0\u7cfb\u7edf\u7684\u5206\u5c42\u7ed3\u6784\uff0c\u7531\u5305\u548c\u7c7b\u7ec4\u6210\uff0c\u8868\u793a\u5305\u4e0e\u5305\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u5305\u662f\u4e00\u79cd\u7ec4\u5408\u673a\u5236\uff0c\u628a\u5404\u4e2a\u6a21\u578b\u5143\u7d20\u8fde\u5728\u4e00\u8d77\uff0c\u5f62\u6210\u4e00\u4e2a\u9ad8\u5185\u805a\u4f4e\u8026\u5408\u7684\u6574\u4f53</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_21","title":"\u90e8\u7f72\u56fe","text":"<ul> <li>\u5efa\u6a21\u7cfb\u7edf\u7684\u7269\u7406\u56fe</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_22","title":"\u7b2c\u4e5d\u7ae0 \u9762\u5411\u5bf9\u8c61\u5206\u6790","text":"<ul> <li>\u6a21\u578b\uff1a\u5bf9\u8c61\u6a21\u578b\uff08\u6700\u57fa\u672c\uff09\u3001\u52a8\u6001\u6a21\u578b\u3001\u529f\u80fd\u6a21\u578b</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_23","title":"\u7b2c\u5341\u4e00\u7ae0 \u9762\u5411\u5bf9\u8c61\u7f16\u7801\u4e0e\u6d4b\u8bd5","text":"<ul> <li>\u4e94\u4e2a\u9636\u6bb5\uff1a\u9762\u5411\u5bf9\u8c61\uff08\u5206\u6790\u3001\u8bbe\u8ba1\u3001\u7f16\u7801\u3001\u6d4b\u8bd5\u3001\u7ef4\u62a4\uff09</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_24","title":"\u7b2c\u5341\u4e8c\u7ae0 \u8f6f\u4ef6\u9879\u76ee\u7ba1\u7406","text":"<ul> <li> <p>\u4ee3\u7801\u884c\u6280\u672f\uff1a\u5b9a\u91cf\u4f30\u7b97\u8f6f\u4ef6\u89c4\u6a21\u7684\u65b9\u6cd5\uff0c\u4f9d\u636e\u4ee3\u7801\u884c\u6570\u8bc4\u4f30</p> </li> <li> <p>\u529f\u80fd\u70b9\u6280\u672f\uff1a\u4f9d\u636e\u8f6f\u4ef6\u7684\u7279\u6027\u548c\u590d\u6742\u6027\u8bc4\u4f30\uff0c\u6709\u51e0\u4e2a\u529f\u80fd\u70b9</p> </li> <li> <p>\u8f6f\u4ef6\u6210\u672c\u4f30\u7b97\u65b9\u6cd5\uff1a\u81ea\u9876\u5411\u4e0b\uff0c\u81ea\u5e95\u5411\u4e0a\u3001\u5dee\u522b\u4f30\u7b97</p> </li> <li>\u8def\u5f84\u4e0e\u5173\u952e\u8def\u5f84\uff1a\u5728\u7f51\u7edc\u56fe\u4e2d\uff0c\u4ece\u59cb\u70b9\u5f00\u59cb\uff0c\u6309\u5404\u6d3b\u52a8\u7684\u987a\u5e8f\uff0c\u8fde\u7eed\u4e0d\u65ad\u5730\u5230\u8fbe\u7ec8\u70b9\u7684\u4e00\u6761\u5173\u952e\u8def\u5f84\u79f0\u4e3a\u8def\u5f84\uff0c\u6240\u82b1\u8d39\u65f6\u95f4\u6700\u591a\u7684\u79f0\u4e3a\u5173\u952e\u8def\u5f84</li> </ul>"},{"location":"%E5%8D%97%E5%B7%A5/%E8%BD%AF%E5%B7%A5/#_25","title":"\u8f6f\u4ef6\u9879\u76ee\u98ce\u9669\u7ba1\u7406","text":"<ul> <li>\u7279\u70b9\uff1a\u4e0d\u786e\u5b9a\u6027\u3001\u9020\u6210\u7684\u635f\u5931\u6027</li> <li>\u98ce\u9669\u7ba1\u7406\u6b65\u9aa4\uff1a\u98ce\u9669\u8bc6\u522b\u3001\u98ce\u9669\u91cf\u5316\u3001\u98ce\u9669\u5e94\u5bf9\u8ba1\u5212\u3001\u98ce\u9669\u76d1\u63a7</li> <li> <p>\u98ce\u9669\u4f53\u73b0\u5728\uff1a\u9700\u6c42\u3001\u6280\u672f\u3001\u6210\u672c\u3001\u8fdb\u5ea6</p> </li> <li> <p>\u7ec4\u7ec7\u673a\u6784\uff1a\uff08\u4e3b\u7a0b\u5e8f\u5458\u3001\u4e13\u5bb6\u7ec4\u3001\u6c11\u4e3b\uff09\u7ec4\u7ec7\u673a\u6784</p> </li> <li> <p>\u57fa\u7ebf\uff1a\u751f\u5b58\u5468\u671f\u4e2d\u5404\u5f00\u53d1\u9636\u6bb5\u7684\u4e00\u4e2a\u7279\u5b9a\u70b9</p> </li> <li> <p>\u8f6f\u4ef6\u914d\u7f6e\u9879\uff08SCI\uff09\uff1a\u8f6f\u4ef6\u5de5\u7a0b\u4e2d\u751f\u4ea7\u7684\u4fe1\u606f\u9879\uff0c\u662f\u914d\u7f6e\u7ba1\u7406\u7684\u57fa\u672c\u5355\u4f4d</p> </li> </ul>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/","title":"01","text":"<ul> <li>VMware vSphere5.0 \u9ad8\u7ea7\u7279\u6027</li> <li>ADSERVER1<ul> <li>\u5b89\u88c5Active Directory\u670d\u52a1</li> <li>\u521b\u5efa\u53cd\u5411\u67e5\u627e\u533a\u57df</li> <li>\u65b0\u5efa\u6307\u9488</li> <li>\u521b\u5efa\u53cd\u5411\u67e5\u627e\u533a\u57df</li> </ul> </li> <li>vCenterServer1</li> <li>VMware client</li> <li>6. \u8fc1\u79fb\u865a\u62df\u673a(vMotion)\u7406\u8bba<ul> <li>01 \u865a\u62df\u673a\u8fc1\u79fb\u7c7b\u578b</li> <li>02 \u5b9e\u65f6\u8fc1\u79fb\u7684\u539f\u7406</li> <li>03 \u5b9e\u65f6\u8fc1\u79fb\u5bf9\u865a\u62df\u673a\u7684\u8981\u6c42</li> <li>04 \u5b9e\u65f6\u8fc1\u79fb\u5bf9 ESX \u4e3b\u673a\u7684\u8981\u6c42</li> <li>05 \u5b9e\u65f6\u8fc1\u79fb\u5bf9 CPU \u7684\u9650\u5236</li> </ul> </li> <li>6.1 \u8fc1\u79fb\u865a\u62df\u673a\u64cd\u4f5c<ul> <li>\u521b\u5efa\u57fa\u4e8e VMkernel\u7684\u8fc1\u79fb\u901a\u4fe1\u7aef\u53e3</li> <li>\u521b\u5efaNFS(\u5171\u4eab\u5b58\u50a8)\u5b58\u50a8\u548cISCSI(openfiler\u5b58\u50a8)\u5b58\u50a8</li> <li>\u865a\u62df\u673a\u5173\u673a\u4e0b\u8fc1\u79fb\u4e3b\u673a\u548c\u6570\u636e\u5b58\u50a8\uff08\u51b7\u8fc1\u79fb\uff09</li> <li>\u865a\u62df\u673a\u5173\u673a\u4e0b\u8fc1\u79fb\u5b58\u50a8</li> <li>\u865a\u62df\u673a\u5f00\u673a\u4e0b\u8fc1\u79fb\u5b58\u50a8</li> </ul> </li> <li>7. \u5206\u5e03\u5f0f\u8d44\u6e90\u8c03\u914dDRS<ul> <li>\u521b\u5efa\u7fa4\u96c6</li> <li>\u6dfb\u52a0\u4e3b\u673a\u5230\u7fa4\u96c6</li> <li>\u4f7f\u7528\u5206\u5e03\u5f0f\u8d44\u6e90\u8c03\u914dDRS</li> </ul> </li> <li>8. \u865a\u62df\u8d44\u6e90\u6c60</li> <li>9. \u9ad8\u53ef\u7528\u6027HA<ul> <li>\u7b80\u4ecb</li> <li>\u4f7f\u7528HA\u524d\u63d0\u6761\u4ef6</li> <li>\u914d\u7f6eHA</li> <li>\u6d4b\u8bd5HA</li> </ul> </li> <li>10. \u53cc\u673a\u70ed\u5907FT<ul> <li>Fault Tolermace\u7b80\u4ecb</li> <li>\u4f7f\u7528FT\u7684\u9650\u5236\u548c\u8981\u6c42</li> <li>\u622a\u56fe<ul> <li>CPU\u4e0d\u786e\u5b9a\u662f\u5426\u8c03\u6574</li> </ul> </li> </ul> </li> </ul>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#vmware-vsphere50","title":"VMware vSphere5.0 \u9ad8\u7ea7\u7279\u6027","text":"<ol> <li> <p>\u7b2c\u516d\u7ae0  \u865a\u62df\u673a\u8fc1\u79fb<code>vMotion</code></p> </li> <li> <p>\u7b2c\u4e03\u7ae0  \u5206\u5e03\u5f0f\u8d44\u6e90\u8c03\u914d<code>VMware Distributed Resource Scheduler\uff08VDRS\uff09</code></p> </li> </ol>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#adserver1","title":"ADSERVER1","text":"<p>\u542f\u52a8\u4e3b\u673a\u65f6\u8981\u5148\u542f\u52a8ADServer1\uff0c\u7136\u540e\u542f\u52a8vCenterServer1\uff0cvCenterServer1\u7684\u4e00\u4e9b\u670d\u52a1\u662f\u57fa\u4e8eADServer1\u7684\u670d\u52a1\u7684</p>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#active-directory","title":"\u5b89\u88c5Active Directory\u670d\u52a1","text":"<ul> <li>\u670d\u52a1\u5668\u7ba1\u7406\u5668--&gt;\u89d2\u8272--&gt;\u6dfb\u52a0\u89d2\u8272--&gt;\u9009\u62e9Active Directory\u670d\u52a1--&gt;\u4e0b\u4e00\u6b65--&gt;\u5b89\u88c5--&gt;\u542f\u52a8\u56fe\u4e2d\u84dd\u5b57</li> </ul> <ul> <li>\u4f7f\u7528\u9ad8\u7ea7\u6a21\u5f0f\u5b89\u88c5--&gt;\u5728\u65b0\u6797\u4e2d\u65b0\u5efa\u57df--&gt;\u76ee\u5f55\u6797\u6839\u7ea7\u57df\u7684FQDN\uff08\u57df\u540d\uff09--&gt;</li> </ul> <p>\u70b9\u662f</p> <p>\u7a0d\u540e\u521b\u5efaDNS\u670d\u52a1\u5668</p> <p>\u9ed8\u8ba4\u6587\u4ef6\u5939</p> <p>\u7136\u540e\u4e0b\u4e00\u6b65--&gt;\u7136\u540e\u786e\u8ba4\u91cd\u542f</p> <p></p> <p>\u8ba1\u7b97\u673a\u5168\u540d\uff0c\u770b\u662f\u5426\u8be5\u53d8\uff0c\u6210\u529f</p>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#_1","title":"\u521b\u5efa\u53cd\u5411\u67e5\u627e\u533a\u57df","text":"<p>\u5f00\u59cb--&gt;\u7ba1\u7406\u5de5\u5177--&gt;DNS</p> <p></p> <p></p> <p></p> <p></p> <p></p> <p>\u5b8c\u6210</p>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#_2","title":"\u65b0\u5efa\u6307\u9488","text":"<p>\u4e3b\u673a\u540d\u70b9\u6d4f\u89c8      ADSERVER1--&gt;\u6b63\u5411\u67e5\u627e--&gt;cbp.cn--&gt;adserver1--&gt;\u786e\u5b9a</p> <p></p>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#_3","title":"\u521b\u5efa\u53cd\u5411\u67e5\u627e\u533a\u57df","text":""},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#vcenterserver1","title":"vCenterServer1","text":"<p>\u9a8c\u8bc1\u662f\u5426\u6210\u529f</p> <p></p> <p>\u8bbe\u7f6eDNS\u5730\u5740\u4e3a172.16.28.5</p> <p>\u67e5\u770b\u5f53\u524dDNS\u670d\u52a1\u5668\uff08\u9a8c\u8bc1\u64cd\u4f5c\uff09</p> <p></p> <p></p> <p>\u628avCenterServer1\u52a0\u5165\u5230\u57df\u4e2d\uff08\u624d\u80fd\u5bf9\u5176\u4ed6\u7684\u4e3b\u673a\u8fdb\u884c\u7ba1\u7406\uff09</p> <p>\u8ba1\u7b97\u673a\u5c5e\u6027\u00e0\u66f4\u6539\u540d\u79f0</p> <p></p> <p></p> <p>\u786e\u8ba4\u7acb\u5373\u91cd\u65b0\u542f\u52a8</p> <p>\u6dfb\u52a0iso\u955c\u50cf\u6587\u4ef6</p> <p>VMware-VIMSetup-all-5.0.0-456005.iso</p> <p>\u6253\u5f00\u8ba1\u7b97\u673a\u00e0\u6253\u5f00\u4e0b\u9762\u8fd9\u4e2a</p> <p></p> <p></p> <p>\u5b89\u88c5</p> <p></p> <p>\u4e00\u76f4\u4e0b\u4e00\u6b65\u5230\u5b8c\u6210\u5b89\u88c5\uff0c\u5982\u679c\u5b89\u88c5\u5931\u8d25\u5c31\u91cd\u65b0\u5b89\u88c5\u8bd5\u4e0b\uff0c\u6216\u8005\u91cd\u542f\u7136\u540e\u91cd\u65b0\u5b89\u88c5</p>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#vmware-client","title":"VMware client","text":"<p>\u8fde\u63a5172.16.28.151\uff0c\u6dfb\u52a0\u6570\u636e\u4e2d\u5fc3\u548c\u4e3b\u673a\uff08esxi1\u548cesxi2\u7684\u5730\u5740\uff09</p> <p></p>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#6-vmotion","title":"6. \u8fc1\u79fb\u865a\u62df\u673a(vMotion)\u7406\u8bba","text":""},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#01","title":"01 \u865a\u62df\u673a\u8fc1\u79fb\u7c7b\u578b","text":""},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#02","title":"02 \u5b9e\u65f6\u8fc1\u79fb\u7684\u539f\u7406","text":""},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#03","title":"03 \u5b9e\u65f6\u8fc1\u79fb\u5bf9\u865a\u62df\u673a\u7684\u8981\u6c42","text":"<p>\u5728 vSphere \u865a\u62df\u5316\u73af\u5883\u4e2d\uff0c\u5bf9\u8981\u5b9e\u65bd\u8fc1\u79fb\u7684\u865a\u62df\u673a\u4e5f\u5b58\u5728\u4e00\u5b9a\u7684\u8981\u6c42\u3002</p> <ul> <li>\u865a\u62df\u673a\u6240\u6709\u6587\u4ef6\u5fc5\u987b\u5b58\u653e\u5728\u5171\u4eab\u5b58\u50a8\u4e0a\u3002</li> <li>\u865a\u62df\u673a\u4e0d\u80fd\u4e0e\u88c5\u8f7d\u4e86\u672c\u5730\u6620\u50cf\u7684\u865a\u62df\u8bbe\u5907\uff08\u5982 CD-ROM\u3001 USB\u3001\u4e32\u53e3\u7b49\uff09\u8fde\u63a5\u3002</li> <li>\u865a\u62df\u673a\u4e0d\u80fd\u4e0e\u6ca1\u6709\u8fde\u63a5\u4e0a\u5916\u90e8\u7f51\u7edc\u7684\u865a\u62df\u4ea4\u6362\u673a\u8fde\u63a5\u3002</li> <li>\u865a\u62df\u673a\u4e0d\u80fd\u914d\u7f6e CPU \u5173\u8054\u6027\u3002</li> <li>\u5982\u679c\u865a\u62df\u673a\u4f7f\u7528 RDM\uff0c\u76ee\u6807\u4e3b\u673a\u5fc5\u987b\u80fd\u591f\u8bbf\u95ee RDM\u3002</li> <li>\u5982\u679c\u76ee\u6807\u4e3b\u673a\u65e0\u6cd5\u8bbf\u95ee\u865a\u62df\u673a\u7684\u4ea4\u6362\u6587\u4ef6\uff0c vMotion \u5fc5\u987b\u80fd\u591f\u521b\u5efa\u4e00\u4e2a\u4f7f\u7528\u76ee\u6807   \u4e3b\u673a\u53ef\u4ee5\u8bbf\u95ee\u7684\u4ea4\u6362\u6587\u4ef6\uff0c\u7136\u540e\u624d\u80fd\u5f00\u59cb\u8fc1\u79fb\u3002 </li> </ul>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#04-esx","title":"04 \u5b9e\u65f6\u8fc1\u79fb\u5bf9 ESX \u4e3b\u673a\u7684\u8981\u6c42","text":"<p>ESXi \u4e3b\u673a\u7684\u786c\u4ef6\u914d\u7f6e\u5bf9 vMotion \u540c\u6837\u91cd\u8981\uff0c\u5176\u6807\u51c6\u5982\u4e0b</p> <ul> <li>\u6e90\u4e3b\u673a\u548c\u76ee\u6807\u4e3b\u673a\u7684 CPU \u529f\u80fd\u96c6\u5fc5\u987b\u517c\u5bb9\uff0c\u53ef\u4ee5\u4f7f\u7528\u589e\u5f3a\u578b vMotion \u517c\u5bb9\u6027\uff08EVC\uff09   \u6216\u9690\u85cf\u67d0\u4e9b\u529f\u80fd\u3002</li> <li>\u81f3\u5c11 1 \u5f20\u5343\u5146\u4ee5\u592a\u7f51\u5361\u3002 1 \u5f20\u5343\u5146\u4ee5\u592a\u7f51\u5361\u53ef\u4ee5\u540c\u65f6\u8fdb\u884c 4 \u4e2a\u5e76\u53d1\u7684\u8fc1\u79fb\uff0c 1 \u5f20   \u4e07\u5146\u4ee5\u592a\u7f51\u5361\u53ef\u4ee5\u540c\u65f6\u8fdb\u884c 8 \u4e2a\u5e76\u53d1\u7684\u8fc1\u79fb\u3002</li> <li>\u5bf9\u76f8\u540c\u7269\u7406\u7f51\u7edc\u7684\u8bbf\u95ee\u6743\u9650\u3002</li> <li>\u80fd\u591f\u770b\u5230\u865a\u62df\u673a\u4f7f\u7528\u7684\u6240\u6709\u5b58\u50a8\uff0c\u6bcf\u4e2aVMFS\u6570\u636e\u5b58\u50a8\u53ef\u4ee5\u540c\u65f6\u8fdb\u884c128\u4e2a\u8fc1\u79fb\u3002 </li> </ul>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#05-cpu","title":"05 \u5b9e\u65f6\u8fc1\u79fb\u5bf9 CPU \u7684\u9650\u5236","text":"<p>\u5728\u4e0d\u540cESXi\u4e3b\u673a\u4e4b\u95f4\u8fdb\u884c\u8fc1\u79fb\u64cd\u4f5c\u65f6\uff0c\u5bf9\u4e8eCPU\u6765\u8bf4\u5b58\u5728\u5f88\u591a\u7684\u9650\u5236</p> CPU \u7279\u6027 \u662f\u5426\u8981\u6c42\u5b8c\u5168\u5339\u914d \u539f\u56e0 \u65f6\u949f\u9891\u7387\u3001\u7f13\u5b58\u5927\u5c0f\u3001 \u6838\u5fc3\u6570\u91cf\u3001\u8d85\u7ebf\u7a0b\u652f\u6301 \u5426 \u7531 VMkernel \u865a\u62df\u5316 \u5236\u9020\u5546\u4ee5\u53ca\u4ea7\u54c1\u7cfb\u5217 \u662f \u6307\u4ee4\u96c6\u5b58\u5728\u8bb8\u591a\u533a\u522b \u6307\u4ee4\u96c6 \u662f \u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u591a\u5a92\u4f53\u6307\u4ee4 \u865a\u62df\u5316\u786c\u4ef6\u8f85\u52a9 32 \u4f4d\u865a\u62df\u673a\uff1a\u5426 \u7531 Vmkernel \u865a\u62df\u5316 Intel 64 \u4f4d\u865a\u62df\u673a\uff1a\u662f VMware \u5728 Intel 64 \u4f4d\u5e73\u53f0\u4e0a\u5229\u7528\u4e86 VT \u6280\u672f \u6267\u884c\u2014\u7981\u7528\uff08NX/XD \u4f4d\uff09 \u662f\uff08\u81ea\u5b9a\u4e49\uff09 \u64cd\u4f5c\u7cfb\u7edf\u4f9d\u8d56\u4e8e NX/XD \u4f4d"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#61","title":"6.1 \u8fc1\u79fb\u865a\u62df\u673a\u64cd\u4f5c","text":"<p>\u5b9e\u65f6\u8fc1\u79fb\u65f6\uff0c\u5efa\u8bae\u4f7f\u7528\u4e13\u7528\u7684\u901a\u4fe1\u7aef\u53e3\uff0c\u56e0\u4e3a\u8fc1\u79fb\u8fc7\u7a0b\u4f1a\u5360\u7528\u5927\u91cf\u7684\u7f51\u7edc\u5e26\u5bbd\uff0c\u5982\u679c \u8fc1\u79fb\u4e0e iSCSI \u5b58\u50a8\u901a\u4fe1\u7aef\u53e3\u5171\u7528\uff0c\u4f1a\u4e25\u91cd\u5f71\u54cd iSCSI \u5b58\u50a8\u7684\u6027\u80fd\u3002</p>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#vmkernel","title":"\u521b\u5efa\u57fa\u4e8e <code>VMkernel</code>\u7684\u8fc1\u79fb\u901a\u4fe1\u7aef\u53e3","text":"<ol> <li>\u79fb\u9664\u4e4b\u524d\u5b9e\u9a8c\u7528\u7684\u5206\u5e03\u5f0f\u4ea4\u6362\u673a\u7aef\u53e3</li> </ol> <p>\u663e\u793a\u6b63\u5728\u4f7f\u7528\uff0c\u65e0\u6cd5\u79fb\u9664\uff0c\u89e3\u51b3\u65b9\u6cd5\u662f\u5220\u9664\u4e4b\u524d\u5b9e\u9a8c\u7528\u7684vmk1</p> <p></p> <p></p> <p></p> <ol> <li>\u91ca\u653e<code>vmnic1</code>\u9002\u914d\u5668</li> </ol> <p></p> <ol> <li>\u521b\u5efa<code>vMotion</code>\u548c<code>iscsi</code>\u7aef\u53e3\uff0c\u7ed9\u4e24\u53f0\u4e3b\u673a\u6dfb\u52a0\u4e24\u4e2a<code>VMKernel</code>\u7f51\u7edc\u5982\u4e0b\u56fe</li> </ol> <p></p> <p></p> <ol> <li>\u6b64\u65f6\u7684ISCSI\u7aef\u53e3\u8fd8\u6ca1\u7ed1\u5b9aISCSI\u5b58\u50a8\u9002\u914d\u5668\uff0c\u9700\u8981\u7ed1\u5b9a</li> </ol> <p>\u4e3b\u673a1\uff0c2\u90fd\u9700\u8981\u540c\u6837\u7684\u64cd\u4f5c</p> <p></p> <p>ISCSI\u663e\u793a\u5df2\u542f\u7528</p> <p></p>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#nfsiscsiopenfiler","title":"\u521b\u5efaNFS(\u5171\u4eab\u5b58\u50a8)\u5b58\u50a8\u548cISCSI(openfiler\u5b58\u50a8)\u5b58\u50a8","text":"<p>EXSI01\u548cEXIS02\u7531\u4e8e\u4e4b\u524d\u5df2\u7ecf\u521b\u5efa\u8fc7\u4e86\uff0c\u6240\u4ee5\u5c31\u4e0d\u9700\u8981\u518d\u6b21\u521b\u5efa\u4e86</p>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#_4","title":"\u865a\u62df\u673a\u5173\u673a\u4e0b\u8fc1\u79fb\u4e3b\u673a\u548c\u6570\u636e\u5b58\u50a8\uff08\u51b7\u8fc1\u79fb\uff09","text":"<ul> <li>Linux01--&gt;\u8fc1\u79fb--&gt;\u66f4\u6539\u6570\u636e\u4e2d\u5fc3\u548c\u5b58\u50a8--&gt;\u9009\u62e9EXSI02\u548c\u5b58\u50a8\u4f4d\u7f6eISCSI</li> </ul>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#_5","title":"\u865a\u62df\u673a\u5173\u673a\u4e0b\u8fc1\u79fb\u5b58\u50a8","text":"<ul> <li>Linux01--&gt;\u8fc1\u79fb--&gt;\u66f4\u6539\u6570\u636e\u5b58\u50a8--&gt;\u9009\u62e9<code>nfs</code>\u5b58\u50a8</li> </ul>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#_6","title":"\u865a\u62df\u673a\u5f00\u673a\u4e0b\u8fc1\u79fb\u5b58\u50a8","text":"<ul> <li>Linux01--&gt;\u5f00\u673a--&gt;\u8fc1\u79fb--&gt;\u66f4\u6539\u6570\u636e\u5b58\u50a8--&gt;\u9009\u62e9<code>ISCSI</code>\u5b58\u50a8</li> </ul>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#7-drs","title":"7. \u5206\u5e03\u5f0f\u8d44\u6e90\u8c03\u914dDRS","text":""},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#_7","title":"\u521b\u5efa\u7fa4\u96c6","text":"<ul> <li>\u6570\u636e\u4e2d\u5fc3--&gt;\u65b0\u5efa\u7fa4\u96c6--&gt;\u6253\u5f00vSphere DRS--&gt;\u624b\u52a8\u3001\u4f18\u5148\u7ea73--&gt;\u7535\u6e90\u7ba1\u7406\u5173\u95ed(\u4e0d\u652f\u6301)--&gt;\u7981\u7528EVC--&gt;\u4ea4\u6362\u6587\u4ef6\u7528\u76f8\u540c\u76ee\u5f55</li> </ul>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#_8","title":"\u6dfb\u52a0\u4e3b\u673a\u5230\u7fa4\u96c6","text":"<ul> <li>\u62d6\u52a8\u4e3b\u673a\u5230\u7fa4\u96c6--&gt;\u4e0b\u4e00\u6b65--&gt;\u5b8c\u6210</li> </ul>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#drs","title":"\u4f7f\u7528\u5206\u5e03\u5f0f\u8d44\u6e90\u8c03\u914dDRS","text":"<p>\u524d\u63d0\uff1a\u786e\u5b9a\u865a\u62df\u673a\u8981\u5728\u5916\u90e8\u5b58\u50a8\u91cc\uff08NFS\\ISCSI\uff09\u4e0d\u80fd\u5728datastore\u91cc</p> <ul> <li>DRS\u89c4\u5219\uff1a\u7fa4\u96c6--&gt;\u7f16\u8f91\u8bbe\u7f6e--&gt;\u89c4\u5219--&gt;\u6dfb\u52a0\u89c4\u5219</li> </ul>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#8","title":"8. \u865a\u62df\u8d44\u6e90\u6c60","text":""},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#9-ha","title":"9. \u9ad8\u53ef\u7528\u6027HA","text":""},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#_9","title":"\u7b80\u4ecb","text":"<p>\u200b    High Availability\u5373\u9ad8\u53ef\u7528\u6027 \u5b9e\u65bd\u6210\u672c\u548c\u7ba1\u7406\u6210\u672c\u662f\u76f8\u5f53\u9ad8\u6602\u7684\u3002</p> <p>\u200b    vSphere\u865a\u62df\u5316\u67b6\u6784\u63d0\u4f9b\u7684HA\u529f\u80fd\u5c5e\u4e8e\u4f4e\u6210\u672c\u7684\u89e3\u51b3\u65b9\u6848\u3002\u5f53\u67d0\u53f0ESXi\u4e3b\u673a\u53d1\u751f\u6545\u969c\u65f6\uff0c\u4e0a\u9762\u8fd0\u884c\u7684\u865a\u62df\u673a\u53ef\u4ee5\u81ea\u52a8\u8fc1\u79fb\u5230\u5176\u4ed6ESXi\u4e3b\u673a\u4e0a\u8fdb\u884c\u91cd\u65b0\u542f\u52a8\uff0c\u91cd\u65b0\u542f\u52a8\u5b8c\u6210\u540e\u7ee7\u7eed\u63d0\u4f9b\u670d\u52a1\uff0c\u6700\u5927\u9650\u5ea6\u5730\u4fdd\u8bc1\u91cd\u8981\u7684\u670d\u52a1\u4e0d\u4e2d\u65ad\u3002</p> <p>\u200b    HA\u4e5f\u5b58\u5728\u7f3a\u70b9\uff0c\u53d1\u751f\u6545\u969c\u8fc1\u79fb\u65f6\uff0cHA\u5b58\u5728\u4e00\u5b9a\u7684\u505c\u673a\u65f6\u95f4\u3002</p>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#ha","title":"\u4f7f\u7528HA\u524d\u63d0\u6761\u4ef6","text":"<ul> <li>\u96c6\u7fa4</li> <li>\u4e3b\u673aESXi01\u548c\u4e3b\u673aESXi02\u5df2\u7ecf\u52a0\u5165\u5230\u96c6\u7fa4cluster01\u4e2d\u3002</li> <li>\u5171\u4eab\u5b58\u50a8</li> <li>\u6d4b\u8bd5\u865a\u62df\u673a\u7684\u5b58\u50a8\u5728\u5171\u4eab\u5b58\u50a8\u4e2d\uff0c\u5728\u5171\u4eab\u5b58\u50a8NFS\u6216iSCSI\u4e2d\u7686\u53ef\u3002</li> <li>\u7f51\u7edc\u914d\u7f6e</li> <li>\u5404\u4e3b\u673a\u4e2d\u5df2\u914d\u7f6e\u597d\u7ba1\u7406\u7f51\u7edc(\u53cc\u7f51\u5361)\u3001\u5b58\u50a8\u7f51\u7edc\uff08ISCSI\uff09\u548c\u8fc1\u79fb(vMotion)\u7f51\u7edc\u3002 </li> <li>\u4e3b\u673a\u8d44\u6e90\u7684\u8ba1\u7b97</li> <li>\u8ba1\u7b97\u5404ESXi\u4e3b\u673a\u7684\u8d44\u6e90\uff0c\u4ee5\u6ee1\u8db3\u865a\u62df\u673a\u7684\u81ea\u52a8\u8fc1\u79fb\u3002</li> <li>VMware Tools\u7684\u5b89\u88c5</li> <li>\u5404\u6d4b\u8bd5\u865a\u62df\u673a\u5fc5\u987b\u5b89\u88c5VMware Tools\u8f6f\u4ef6\u3002<ul> <li>\u6253\u5f00\u865a\u62df\u673a\u624b\u52a8\u6302\u8f7d</li> <li></li> </ul> </li> </ul>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#ha_1","title":"\u914d\u7f6eHA","text":"<ul> <li>\u96c6\u7fa4--&gt;\u7f16\u8f91\u8bbe\u7f6e--&gt;\u6253\u5f00vSphere HA--&gt;vSphere HA--&gt;\u542f\u7528\u4e3b\u673a\u76d1\u63a7(\u7f51\u7edc\u7ef4\u62a4\u4e4b\u540e)--&gt;\u6570\u636e\u5b58\u50a8\u68c0\u6d4b\u4fe1\u53f7--&gt;NFS\u3001ISCSI</li> </ul>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#ha_2","title":"\u6d4b\u8bd5HA","text":"<ul> <li>\u865a\u62df\u673a--&gt;\u65ad\u5f00EXSI01\u7684\u7f51\u5361--&gt;\u67e5\u770b\u865a\u62df\u673a\u662f\u5426\u81ea\u52a8\u91cd\u65b0\u542f\u52a8\u4e86</li> </ul>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#10-ft","title":"10. \u53cc\u673a\u70ed\u5907FT","text":""},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#fault-tolermace","title":"Fault Tolermace\u7b80\u4ecb","text":"<p>vLockstep \u6280\u672f(\u865a\u62df\u9501\u6b65) </p> <p>vSphere \u865a\u62df\u5316\u67b6\u6784\u4e2d\u7684FT\u4f7f\u7528 vLockstep \u6280\u672f\u6765\u5b9e\u73b0\u53cc\u673a\u70ed\u5907\uff0c\u5176\u672c\u8d28\u662f\u5f55\u5236/\u64ad\u653e \u529f\u80fd\uff0c2 \u53f0ESXi \u4e3b\u673a\u8fd0\u884c\u865a\u62df\u673a\uff0c\u4e00\u4e3b\u4e00\u4ece\uff0c\u4e3b\u865a\u62df\u673a\u505a\u7684\u4efb\u4f55\u64cd\u4f5c\u90fd\u4f1a\u7acb\u5373\u901a\u8fc7\u5f55\u5236\u64ad\u653e\u7684\u65b9\u5f0f\u4f20\u9012\u5230\u4ece\u865a\u62df\u673a\u3002\u4f46\u7531\u4e8e\u5f55\u5236\u64ad\u653e\u64cd\u4f5c\uff0c\u4e3b/\u4ece\u865a\u62df\u673a\u80af\u5b9a\u4f1a\u5b58\u5728\u4e00\u5b9a\u7684\u65f6\u95f4\u5dee\uff08\u57fa\u672c\u53ef\u4ee5\u5ffd\u7565\uff09\uff0c\u8fd9\u4e2a\u65f6\u95f4\u5dee\u79f0\u4e4b\u4e3a vLockstep Interval\uff0c\u5176\u65f6\u95f4\u5dee\u53d6\u51b3\u4e8e ESXi \u4e3b\u673a\u4ee5\u53ca\u7f51\u7edc\u7684\u6574\u4f53\u6027\u80fd\u3002\u5f53\u4e3b\u865a\u62df\u673a\u6240\u5728\u7684 ESXi \u4e3b\u673a\u53d1\u751f\u6545\u969c\u65f6\uff0c\u4ece\u865a\u62df\u673a\u7acb\u5373\u63a5\u66ff\u5de5\u4f5c\uff0c\u540c\u65f6\u63d0\u5347\u4e3a\u4e3b\u865a\u62df\u673a\uff0c\u63a5\u66ff\u7684\u65f6\u95f4\u5728\u77ac\u95f4\u5b8c\u6210\uff0c\u7528\u6237\u51e0\u4e4e\u611f\u89c9\u4e0d\u5230\u6545\u969c\u5207\u6362</p> <p>\u5e94\u7528\u670d\u52a1\u4e0d\u4f1a\u51fa\u73b0\u4efb\u4f55\u4e2d\u65ad\uff0c\u548cHA \u76f8\u6bd4\uff0c FT \u66f4\u5177\u4f18\u52bf</p>"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#ft","title":"\u4f7f\u7528FT\u7684\u9650\u5236\u548c\u8981\u6c42","text":"<ul> <li>vSphereFT\u7684\u8981\u6c42\u548c\u9650\u5236</li> <li>\u786e\u4fdd\u6709\u8db3\u591f\u7684 ESXi \u4e3b\u673a\u7528\u4e8e\u6258\u7ba1\u5bb9\u9519\u865a\u62df\u673a\uff1a<ul> <li>\u4efb\u4f55\u4e00\u53f0\u4e3b\u673a\u4e0a\u7684\u5bb9\u9519\u865a\u62df\u673a\uff08\u4e3b\u865a\u62df\u673a\u6216\u8f85\u52a9\u865a\u62df\u673a\uff09    \u90fd\u4e0d\u80fd\u8d85\u8fc7\u56db\u4e2a</li> </ul> </li> <li>\u5728\u5171\u4eab\u5b58\u50a8\u4e0a\u5b58\u50a8 ISO \u6620\u50cf\uff0c\u4ee5\u5b9e\u73b0\u8fde\u7eed\u8bbf\u95ee\uff1a<ul> <li>\u5c24\u5176\u8981\u7528\u4e8e\u91cd\u8981\u64cd\u4f5c\u65f6</li> </ul> </li> <li> <p>\u7981\u7528\u57fa\u4e8e BIOS \u7684\u7535\u6e90\u7ba1\u7406\uff1a</p> <ul> <li>\u9632\u6b62\u8f85\u52a9\u865a\u62df\u673a\u7684 CPU \u8d44\u6e90\u4e0d\u8db3</li> </ul> </li> <li> <p>Fault Tolerance \u7684\u7fa4\u96c6\u8981\u6c42</p> </li> <li> <p>\u4e3b\u673a\u8bc1\u4e66\u68c0\u67e5\u529f\u80fd\u5df2\u542f\u7528  </p> </li> <li> <p>\u81f3\u5c11\u6709\u4e24\u53f0\u901a\u8fc7 FT \u8ba4\u8bc1\u7684\u4e3b\u673a\u8fd0\u884c\u76f8\u540c\u7684 Fault Tolerance \u7248\u672c\u53f7\u6216\u4e3b\u673a\u5185\u90e8\u7248\u672c\u53f7</p> </li> <li> <p>ESXi \u4e3b\u673a\u53ef\u4ee5\u8bbf\u95ee\u76f8\u540c\u7684\u865a\u62df\u673a\u6570\u636e\u5b58\u50a8\u548c\u7f51\u7edc</p> </li> <li> <p>\u914d\u7f6e\u4e86 Fault Tolerance \u65e5\u5fd7\u8bb0\u5f55\u7f51\u7edc\u548c vMotion \u7f51\u7edc(\u7ba1\u7406\u6d41\u91cf) </p> </li> <li> <p>vSphere HA \u7fa4\u96c6\u5df2\u521b\u5efa\u5e76\u542f\u7528</p> </li> <li> <p>Fault Tolerance \u7684\u4e3b\u673a\u8981\u6c42</p> </li> <li>\u4e3b\u673a\u4e0a\u7684\u5904\u7406\u5668\u5fc5\u987b\u6765\u81ea\u4e0e FT \u517c\u5bb9\u7684\u5904\u7406\u5668\u7ec4\u3002\u6b64\u5916\uff0c\u5f3a\u70c8\u5efa\u8bae\u4e3b\u673a\u7684\u5904\u7406\u5668\u4e4b\u95f4\u4e5f\u76f8\u4e92\u517c\u5bb9\u3002  </li> <li>\u4e3b\u673a\u5fc5\u987b\u83b7\u5f97 Fault Tolerance \u7684\u8bb8\u53ef\u3002</li> <li>\u4e3b\u673a\u5fc5\u987b\u5df2\u901a\u8fc7 Fault Tolerance \u8ba4\u8bc1\u3002</li> <li> <p>\u5728\u914d\u7f6e\u6bcf\u53f0\u4e3b\u673a\u65f6\uff0c\u90fd\u5fc5\u987b\u5728 BIOS \u4e2d\u542f\u7528\u786c\u4ef6\u865a\u62df\u5316 (HV)\u3002</p> </li> <li> <p>Fault Tolerance \u7684\u865a\u62df\u673a\u8981\u6c42</p> </li> <li>\u6ca1\u6709\u4e0d\u53d7\u652f\u6301\u7684\u8bbe\u5907\u8fde\u63a5\u5230\u865a\u62df\u673a\u3002  </li> <li>\u865a\u62df\u673a\u5fc5\u987b\u5b58\u50a8\u5728\u865a\u62df RDM \u6216\u539a\u7f6e\u5907\u7684\u865a\u62df\u673a\u78c1\u76d8 (VMDK) \u6587\u4ef6\u4e2d\u3002\u5982\u679c\u865a\u62df\u673a\u5b58\u50a8\u5728\u7cbe\u7b80\u7f6e\u5907\u7684 VMDK \u6587\u4ef6\u4e2d\uff0c\u5219\u5728\u5c1d\u8bd5\u542f\u7528 Fault Tolerance \u65f6\u5c06\u4f1a\u51fa\u73b0\u4e00\u5219\u6307\u793a\u5fc5\u987b\u8f6c\u6362 VMDK \u6587\u4ef6\u7684\u6d88\u606f\u3002\u8981\u6267\u884c\u8be5\u8f6c\u6362\uff0c\u5fc5\u987b\u5173\u95ed\u865a\u62df\u673a\u7535\u6e90\u3002</li> <li> <p>\u4e0d\u517c\u5bb9\u7684\u529f\u80fd\u4e00\u5b9a\u4e0d\u80fd\u4e0e\u5bb9\u9519\u865a\u62df\u673a\u4e00\u8d77\u8fd0\u884c\u3002</p> </li> <li> <p>\u865a\u62df\u673a\u6587\u4ef6\u5fc5\u987b\u5b58\u50a8\u5728\u5171\u4eab\u5b58\u50a8\u5668\u4e0a\u3002</p> </li> <li> <p>\u53ea\u6709\u5e26\u6709\u5355\u4e2a vCPU \u7684\u865a\u62df\u673a\u624d\u80fd\u4e0e Fault Tolerance \u529f\u80fd\u517c\u5bb9\u3002</p> </li> <li> <p>\u865a\u62df\u673a\u5fc5\u987b\u5728\u4e00\u4e2a\u53d7\u652f\u6301\u7684\u5ba2\u6237\u673a\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u8fd0\u884c\u3002</p> </li> <li> <p>Fault Tolerance\u4e0d\u652f\u6301\u7684 vSphere \u529f\u80fd</p> </li> <li> <p>\u5bb9\u9519\u865a\u62df\u673a\u4e0d\u652f\u6301\u4ee5\u4e0b vSphere \u529f\u80fd\uff1a</p> <ul> <li> <p>\u5feb\u7167\u3002\u5728\u865a\u62df\u673a\u4e0a\u542f\u7528 Fault Tolerance \u524d\uff0c\u5fc5\u987b\u79fb\u9664\u6216\u63d0\u4ea4\u5feb\u7167\u3002\u6b64\u5916\uff0c\u4e0d\u80fd\u5bf9\u5df2\u542f\u7528 Fault Tolerance \u7684\u865a\u62df\u673a\u6267\u884c\u5feb\u7167\u3002</p> </li> <li> <p>Storage vMotion\u3002\u4e0d\u80fd\u4e3a\u5df2\u542f\u7528 Fault Tolerance \u7684\u865a\u62df\u673a\u8c03\u7528 Storage vMotion\u3002\u8981\u8fc1\u79fb\u5b58\u50a8\u5668\uff0c\u5e94\u5f53\u5148\u6682\u65f6\u5173\u95ed Fault Tolerance\uff0c\u7136\u540e\u518d\u6267\u884c Storage vMotion \u64cd\u4f5c\u3002\u5728\u5b8c\u6210\u8fc1\u79fb\u4e4b\u540e\uff0c\u53ef\u4ee5\u91cd\u65b0\u6253\u5f00 Fault Tolerance\u3002  </p> </li> <li> <p>\u94fe\u63a5\u514b\u9686\u3002\u4e0d\u80fd\u5728\u4e3a\u94fe\u63a5\u514b\u9686\u7684\u865a\u62df\u673a\u4e0a\u542f\u7528 Fault Tolerance\uff0c\u4e5f\u4e0d\u80fd\u4ece\u542f\u7528\u4e86 Fault Tolerance \u7684\u865a\u62df\u673a\u521b\u5efa\u94fe\u63a5\u514b\u9686\u3002</p> </li> <li> <p>\u865a\u62df\u673a\u5907\u4efd\u3002\u4e0d\u80fd\u4f7f\u7528 Storage API for Data Protection\u3001VMware Data Recovery \u6216\u9700\u8981\u4f7f\u7528\u865a\u62df\u673a\u5feb\u7167\uff08\u5982 ESXi \u6240\u6267\u884c\u7684\u90a3\u6837\uff09\u7684\u7c7b\u4f3c\u5907\u4efd\u4ea7\u54c1\u6765\u5907\u4efd\u542f\u7528\u4e86 FT \u7684\u865a\u62df\u673a\u3002\u8981\u4ee5\u8fd9\u79cd\u65b9\u5f0f\u5907\u4efd\u5bb9\u9519\u865a\u62df\u673a\uff0c\u9996\u5148\u5fc5\u987b\u7981\u7528 FT\uff0c\u7136\u540e\u5728\u6267\u884c\u5907\u4efd\u540e\u91cd\u65b0\u542f\u7528 FT\u3002\u57fa\u4e8e\u5b58\u50a8\u9635\u5217\u7684\u5feb\u7167\u4e0d\u5f71\u54cd FT\u3002</p> </li> </ul> </li> <li> <p>\u4e0d\u4e0e  Fault Tolerance \u517c\u5bb9\u7684\u529f\u80fd\u548c\u8bbe\u5907\u4ee5\u53ca\u7ea0\u6b63\u64cd\u4f5c</p> </li> </ul> \u4e0d\u517c\u5bb9\u7684\u529f\u80fd\u6216\u8bbe\u5907 \u7ea0\u6b63\u64cd\u4f5c \u5bf9\u79f0\u591a\u5904\u7406\u5668   (SMP) \u865a\u62df\u673a \u5c06\u865a\u62df\u673a\u91cd\u65b0\u914d\u7f6e\u4e3a\u5355\u4e2a vCPU\u3002\u914d\u7f6e\u4e3a\u5355   vCPU \u540e\uff0c\u8bb8\u591a\u5de5\u4f5c\u8d1f\u8f7d\u5747\u6709\u8f83\u597d\u7684\u6027\u80fd\u8868\u73b0 \u7269\u7406\u88f8\u78c1\u76d8\u6620\u5c04   (RDM) \u8bf7\u91cd\u65b0\u914d\u7f6e\u5177\u6709\u652f\u6301\u7269\u7406 RDM   \u7684\u865a\u62df\u8bbe\u5907\u7684\u865a\u62df\u673a\u4ee5\u4f7f\u7528\u865a\u62df RDM \u7531\u7269\u7406\u6216\u8fdc\u7a0b\u8bbe\u5907\u652f\u6301\u7684 CD-ROM   \u6216\u865a\u62df\u8f6f\u76d8\u8bbe\u5907 \u79fb\u9664 CD-ROM   \u6216\u865a\u62df\u8f6f\u76d8\u8bbe\u5907\uff0c\u6216\u4f7f\u7528\u5171\u4eab\u5b58\u50a8\u5668\u4e0a\u5b89\u88c5\u7684 ISO \u91cd\u65b0\u914d\u7f6e\u5907\u7528\u529f\u80fd USB \u548c\u58f0\u97f3\u8bbe\u5907 \u4ece\u865a\u62df\u673a\u79fb\u9664\u8fd9\u4e9b\u8bbe\u5907 \u4f7f\u7528\u7cbe\u7b80\u7f6e\u5907\u7684\u5b58\u50a8\u5668\u6216\u672a\u542f\u7528\u7fa4\u96c6\u529f\u80fd\u7684\u539a\u7f6e\u5907\u78c1\u76d8\u5907\u4efd\u7684\u865a\u62df\u78c1\u76d8 \u5f53\u60a8\u6253\u5f00 Fault   Tolerance \u65f6\uff0c\u7cfb\u7edf\u4f1a\u9ed8\u8ba4\u6267\u884c\u5230\u9002\u5f53\u78c1\u76d8\u683c\u5f0f\u7684\u8f6c\u6362\u3002\u5fc5\u987b\u5148\u5173\u95ed\u865a\u62df\u673a\u7535\u6e90\uff0c\u624d\u80fd\u89e6\u53d1\u6b64\u8f6c\u6362 \u70ed\u63d2\u62d4\u8bbe\u5907 \u5bb9\u9519\u865a\u62df\u673a\u7684\u70ed\u63d2\u62d4\u529f\u80fd\u5c06\u81ea\u52a8\u7981\u7528\u3002\u8981\u70ed\u63d2\u62d4\u8bbe\u5907\uff08\u6dfb\u52a0\u6216\u79fb\u9664\uff09\uff0c\u5fc5\u987b\u4e34\u65f6\u5173\u95ed   Fault Tolerance\uff0c\u5b8c\u6210\u70ed\u63d2\u62d4\u64cd\u4f5c\uff0c\u7136\u540e\u91cd\u65b0\u542f\u7528 Fault   Tolerance \u4e32\u884c\u6216\u5e76\u884c\u7aef\u53e3 \u4ece\u865a\u62df\u673a\u79fb\u9664\u8fd9\u4e9b\u8bbe\u5907 IPv6 \u5c06 IPv4   \u5730\u5740\u4e0e FT \u65e5\u5fd7\u8bb0\u5f55\u7f51\u5361\u914d\u5408\u4f7f\u7528"},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#_10","title":"\u622a\u56fe","text":""},{"location":"%E8%99%9A%E6%8B%9F%E5%8C%96/01/#cpu","title":"CPU\u4e0d\u786e\u5b9a\u662f\u5426\u8c03\u6574","text":""}]}