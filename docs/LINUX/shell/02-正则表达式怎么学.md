# 1. 正则表达式怎么学

直接看文档吗？错！

文档是字典，你可以随时去查，你熟练之后可以去翻阅，但是初学不适合直接去按着文档的顺序去看，对正则表达式这种抽象的符号语言更是如此。

***注意，不同语言的正则表达式语法会多少有点区别，请对应自己使用的语言来使用。**

# 2. 我推荐的记忆顺序

为什么说是记忆呢，因为正则表达式想要运用自如对我们来说最基础的门槛就在于这里，很多人觉得这玩意难，其实还是太抽象了。

下面是我将各种匹配符做分类之后的一个推荐的顺序。

匹配符的叫法我都是按照比较通俗的说法来的，非标准翻译叫法。

首先把匹配符分为

## 2.1 按字面量来进行匹配的

| 符号   | 释义                                                         |
| ------ | ------------------------------------------------------------ |
| a      |                                                              |
| \d     | 匹配数字                                                     |
| [0123] | 匹配区间内的内容                                             |
| [0-9]  | 和\d的区别在于，\d能够匹配全角和半角的数字，这个区间只能匹配半角数字 |
| [^0-9] |                                                              |
|        | 其它的可以去查文档了                                         |

## 2.2 匹配位置的匹配符

什么叫做匹配位置的匹配符呢？开头、结尾、两个字符中间这种都是匹配位置。

| 符号 | 释义 |
| ---- | ---- |
| ^    | 开头 |
| $    | 结尾 |

匹配字符中间位置的是一类比较特别的匹配符，学名翻译叫做**环视表达式**，分为四种

| 符号     | 释义         |
| -------- | ------------ |
| (?=...)  | 肯定顺序环视 |
| (?!...)  | 否定顺序环视 |
| (?<=...) | 肯定逆序环视 |
| (?<!)    | 否定逆序环视 |

这玩意学名挺拗口的，如何记忆呢？

**肯定是`=`，否定是`!`，顺序符号前面啥都没，逆序前面加个`<`。**

具体是怎么匹配的呢？

**肯定就是环视表达式中的匹配要能够被匹配到，否定就是不能够被匹配到。**

**顺序就是指环视表达式后面匹配字符的后面，逆序就是指前面。**

```
很多懒人其实只需要的一个正则表达式

(?<=<div>).*(?=<\\div>)

<div>abc<\div>
```

## 2.3 重复

| 符号  | 释义                |
| ----- | ------------------- |
| *     | 零次到多次          |
| +     | 一次到多次          |
| ?     | 零次或者一次        |
| {m}   | 指定重复次数        |
| {m,n} | 指定次数区间，n可选 |

*和+的区别

**\*号在你所匹配的组或者字符没有匹配到的时候能够匹配到位置，+则不能，因此在对应的场景下，+的性能是远高于\*的**

提到重复就不得不提贪婪模式和懒惰模式（看翻译，我比较喜欢叫非贪婪模式），目前常用的语言中，默认情况下都是贪婪模式，贪婪模式和非贪婪模式其实是源自DFA和NFA，二者是编译原理里面的概念，知不知道都不影响对正则的学习。

贪婪模式就是尽可能多的去匹配，非贪婪模式就反过来，就这么简单。

贪婪和懒惰模式是用 ? 来界定的。

## 2.4 分组

分组是一个很重要的概念，对我们的实际应用帮助巨大。

分组的内容其实不多，我也只介绍其中几个，其实上文中的环视表达式也属于分组，但是呢我习惯性把它单独的作为一个单独的分类。

| 符号            | 释义                                                 |
| --------------- | ---------------------------------------------------- |
| (...)           | 捕获组                                               |
| (?:...)         | 非捕获组                                             |
| (a\|b)          | 选择分组                                             |
| (?P\<NAME\>...) | 命名分组（此处语法是python语法，其它语言不一定适用） |

组有很多方便的地方：

1. 配合前面的各种匹配符来使用，比如我们要连续重复3次的abc之类的场景
2. 在正则中去反向引用匹配到的分组
3. 在代码中更方便的去获取你要的内容，而不是给你返回一堆你不想要的东西在里面

